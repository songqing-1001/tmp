<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Analysis/ScalarEvolution.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a25db018342d3ae6c7e6779086c18378.html">Analysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ScalarEvolution.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ScalarEvolution_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- ScalarEvolution.cpp - Scalar Evolution Analysis --------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file contains the implementation of the scalar evolution analysis</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// engine, which is used primarily to analyze expressions involving induction</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// variables in loops.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// There are several aspects to this library.  First is the representation of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// scalar expressions, which are represented as subclasses of the SCEV class.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// These classes are used to represent certain types of subexpressions that we</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// can handle. We only create one SCEV of a particular shape, so</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// pointer-comparisons for equality are legal.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// One important aspect of the SCEV objects is that they are never cyclic, even</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// if there is a cycle in the dataflow for an expression (ie, a PHI node).  If</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// the PHI node is one of the idioms that we can represent (e.g., a polynomial</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// recurrence) then we represent it directly as a recurrence node, otherwise we</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// represent it as a SCEVUnknown node.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// In addition to being able to represent expressions of various types, we also</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// have folders that are used to build the *canonical* representation for a</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// particular expression.  These folders are capable of using a variety of</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// rewrite rules to simplify the expressions.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// Once the folders are defined, we can implement the more interesting</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// higher-level code, such as the code that recognizes PHI nodes of various</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// types, computes the execution count of a loop, etc.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// TODO: We should use these routines and value representations to implement</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// dependence analysis!</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// There are several good references for the techniques used in this analysis.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//  Chains of recurrences -- a method to expedite the evaluation</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//  of closed-form functions</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//  Olaf Bachmann, Paul S. Wang, Eugene V. Zima</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//  On computational properties of chains of recurrences</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//  Eugene V. Zima</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//  Symbolic Evaluation of Chains of Recurrences for Loop Optimization</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//  Robert A. van Engelen</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//  Efficient Symbolic Analysis for Optimizing Compilers</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//  Robert A. van Engelen</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//  Using the chains of recurrences algebra for data dependence testing and</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//  induction variable substitution</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//  MS Thesis, Johnie Birch</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolution_8h.html">llvm/Analysis/ScalarEvolution.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APInt_8h.html">llvm/ADT/APInt.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DepthFirstIterator_8h.html">llvm/ADT/DepthFirstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EquivalenceClasses_8h.html">llvm/ADT/EquivalenceClasses.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FoldingSet_8h.html">llvm/ADT/FoldingSet.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScopeExit_8h.html">llvm/ADT/ScopeExit.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Sequence_8h.html">llvm/ADT/Sequence.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantFolding_8h.html">llvm/Analysis/ConstantFolding.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopInfo_8h.html">llvm/Analysis/LoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolutionExpressions_8h.html">llvm/Analysis/ScalarEvolutionExpressions.h</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Argument_8h.html">llvm/IR/Argument.h</a>&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2CFG_8h.html">llvm/IR/CFG.h</a>&quot;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantRange_8h.html">llvm/IR/ConstantRange.h</a>&quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalValue_8h.html">llvm/IR/GlobalValue.h</a>&quot;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/IR/InstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/IR/PatternMatch.h</a>&quot;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Use_8h.html">llvm/IR/Use.h</a>&quot;</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Verifier_8h.html">llvm/IR/Verifier.h</a>&quot;</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KnownBits_8h.html">llvm/Support/KnownBits.h</a>&quot;</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SaveAndRestore_8h.html">llvm/Support/SaveAndRestore.h</a>&quot;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#include &lt;numeric&gt;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keyword">using namespace </span>PatternMatch;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">  135</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;scalar-evolution&quot;</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumTripCountsComputed,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;          <span class="stringliteral">&quot;Number of loops with predictable loop counts&quot;</span>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumTripCountsNotComputed,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;          <span class="stringliteral">&quot;Number of loops without predictable loop counts&quot;</span>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumBruteForceTripCountsComputed,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;          <span class="stringliteral">&quot;Number of loops with trip counts computed by force&quot;</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="keywordtype">bool</span> llvm::VerifySCEV = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keywordtype">bool</span> llvm::VerifySCEV = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#aacfeb3ed0f2f45dfd47a91f932353846">MaxBruteForceIterations</a>(<span class="stringliteral">&quot;scalar-evolution-max-iterations&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                            <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum number of iterations SCEV will &quot;</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                     <span class="stringliteral">&quot;symbolically execute a constant &quot;</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                     <span class="stringliteral">&quot;derived loop&quot;</span>),</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                            <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(100));</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool, true&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a4c988623d29704e30a5a77e046efe68b">VerifySCEVOpt</a>(</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="stringliteral">&quot;verify-scev&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#aed47e4757f3240146f8ad40c2cdbf2d1">cl::location</a>(VerifySCEV),</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Verify ScalarEvolution&#39;s backedge taken counts (slow)&quot;</span>));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a70846800c022a3cffe285317f3a5d70d">VerifySCEVStrict</a>(</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="stringliteral">&quot;verify-scev-strict&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable stricter verification with -verify-scev is passed&quot;</span>));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#af48cae27e88c749514d63d3eafb4dc3c">VerifySCEVMap</a>(<span class="stringliteral">&quot;verify-scev-maps&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Verify no dangling value in ScalarEvolution&#39;s &quot;</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                           <span class="stringliteral">&quot;ExprValueMap (slow)&quot;</span>));</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#aec864950923a9913d54b8e48fc1c782b">VerifyIR</a>(</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="stringliteral">&quot;scev-verify-ir&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Verify IR correctness when making sensitive SCEV queries (slow)&quot;</span>),</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a911d67721d1a28b4a30496c3f1d6a636">MulOpsInlineThreshold</a>(</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="stringliteral">&quot;scev-mulops-inline-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Threshold for inlining multiplication operands into a SCEV&quot;</span>),</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(32));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#ab600d14b30e63c2a896ab73847d36036">AddOpsInlineThreshold</a>(</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="stringliteral">&quot;scev-addops-inline-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Threshold for inlining addition operands into a SCEV&quot;</span>),</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(500));</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a7518e0ecb4d23aac8995be0d2e3b1daf">MaxSCEVCompareDepth</a>(</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="stringliteral">&quot;scalar-evolution-max-scev-compare-depth&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum depth of recursive SCEV complexity comparisons&quot;</span>),</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(32));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a503078dd92aea3a766cd9454ce8b501d">MaxSCEVOperationsImplicationDepth</a>(</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="stringliteral">&quot;scalar-evolution-max-scev-operations-implication-depth&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum depth of recursive SCEV operations implication analysis&quot;</span>),</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(2));</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#aaf6f71afe913e3f2b74d3a529f14978e">MaxValueCompareDepth</a>(</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="stringliteral">&quot;scalar-evolution-max-value-compare-depth&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum depth of recursive value complexity comparisons&quot;</span>),</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(2));</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a28af07babf7598fa1f9f5710acf863c9">MaxArithDepth</a>(<span class="stringliteral">&quot;scalar-evolution-max-arith-depth&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum depth of recursive arithmetics&quot;</span>),</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(32));</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a37f233a36ee50544cc4066ce49debc92">MaxConstantEvolvingDepth</a>(</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="stringliteral">&quot;scalar-evolution-max-constant-evolving-depth&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum depth of recursive constant evolving&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(32));</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#acc4dac0533a40c07820a7df7b8f61178">MaxCastDepth</a>(<span class="stringliteral">&quot;scalar-evolution-max-cast-depth&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                 <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum depth of recursive SExt/ZExt/Trunc&quot;</span>),</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                 <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(8));</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#abecd77701103d573678565f83c35ce45">MaxAddRecSize</a>(<span class="stringliteral">&quot;scalar-evolution-max-add-rec-size&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Max coefficients in AddRec during evolving&quot;</span>),</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(8));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a0804213759955866b143922826bd74e9">HugeExprThreshold</a>(<span class="stringliteral">&quot;scalar-evolution-huge-expr-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Size of the expression which is considered huge&quot;</span>),</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(4096));</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a3baedfc8c5a0a2895dad5d884357bbad">RangeIterThreshold</a>(</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="stringliteral">&quot;scev-range-iter-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Threshold for switching to iteratively computing SCEV ranges&quot;</span>),</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(32));</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#adc9e269a5cfb75ab636976cd2997f112">ClassifyExpressions</a>(<span class="stringliteral">&quot;scalar-evolution-classify-expressions&quot;</span>,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;When printing analysis, include information on every instruction&quot;</span>));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a87663d0d33a0c3282091364a217a8269">UseExpensiveRangeSharpening</a>(</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="stringliteral">&quot;scalar-evolution-use-expensive-range-sharpening&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use more powerful methods of sharpening expression ranges. May &quot;</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;             <span class="stringliteral">&quot;be costly in terms of compile time&quot;</span>));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a2a5af04b24d90bf200f8ed2978e2b3b2">MaxPhiSCCAnalysisSize</a>(</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="stringliteral">&quot;scalar-evolution-max-scc-analysis-depth&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum amount of nodes to process while searching SCEVUnknown &quot;</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;             <span class="stringliteral">&quot;Phi strongly connected components&quot;</span>),</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(8));</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#af90e20c9dfa469b0144a6290215f267d">EnableFiniteLoopControl</a>(<span class="stringliteral">&quot;scalar-evolution-finite-loop&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                            <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Handle &lt;= and &gt;= in finite loops&quot;</span>),</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                            <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#a1b7a754f3ce34da7cb63a4bbb6259ba8">UseContextForNoWrapFlagInference</a>(</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="stringliteral">&quot;scalar-evolution-use-context-for-no-wrap-flag-strenghening&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Infer nuw/nsw flags using context where suitable&quot;</span>),</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">//                           SCEV class definitions</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">// Implementation of the SCEV class.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a6ae35ec967d69bc1cd21ae482bbdd4a2">  263</a></span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SCEV.html#a6ae35ec967d69bc1cd21ae482bbdd4a2">SCEV::dump</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#acdbe9e14ed6edbd5b5e3c252585902ec">  269</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SCEV.html#acdbe9e14ed6edbd5b5e3c252585902ec">SCEV::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">switch</span> (getSCEVType()) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>)-&gt;getValue()-&gt;printAsOperand(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>: {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPtrToIntExpr.html">SCEVPtrToIntExpr</a> *PtrToInt = cast&lt;SCEVPtrToIntExpr&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = PtrToInt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;(ptrtoint &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;       &lt;&lt; *PtrToInt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>: {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Trunc = cast&lt;SCEVTruncateExpr&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = Trunc-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;(trunc &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;       &lt;&lt; *Trunc-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>: {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *ZExt = cast&lt;SCEVZeroExtendExpr&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = ZExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;(zext &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;       &lt;&lt; *ZExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>: {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SExt = cast&lt;SCEVSignExtendExpr&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = SExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;(sext &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;       &lt;&lt; *SExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = cast&lt;SCEVAddRecExpr&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;{&quot;</span> &lt;&lt; *AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(0);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;,+,&quot;</span> &lt;&lt; *AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;}&lt;&quot;</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a09cc70290a71475141063b6dff42a5d2">hasNoUnsignedWrap</a>())</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;nuw&gt;&lt;&quot;</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a71deee7ef49ab5407b7e1aa758b6ec0a">hasNoSignedWrap</a>())</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;nsw&gt;&lt;&quot;</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a6429bca8fd0024ceb2d76ccaace43c4e">hasNoSelfWrap</a>() &amp;&amp;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        !AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>((<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">NoWrapFlags</a>)(FlagNUW | FlagNSW)))</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;nw&gt;&lt;&quot;</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">printAsOperand</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>: {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVNAryExpr.html">SCEVNAryExpr</a> *NAry = cast&lt;SCEVNAryExpr&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *OpStr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">switch</span> (NAry-&gt;<a class="code" href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">getSCEVType</a>()) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>: OpStr = <span class="stringliteral">&quot; + &quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>: OpStr = <span class="stringliteral">&quot; * &quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>: OpStr = <span class="stringliteral">&quot; umax &quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>: OpStr = <span class="stringliteral">&quot; smax &quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      OpStr = <span class="stringliteral">&quot; umin &quot;</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      OpStr = <span class="stringliteral">&quot; smin &quot;</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      OpStr = <span class="stringliteral">&quot; umin_seq &quot;</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;There are no other nary expression types.&quot;</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;(&quot;</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    ListSeparator <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>(OpStr);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>())</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">switch</span> (NAry-&gt;<a class="code" href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">getSCEVType</a>()) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">if</span> (NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a09cc70290a71475141063b6dff42a5d2">hasNoUnsignedWrap</a>())</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;nuw&gt;&quot;</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">if</span> (NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a71deee7ef49ab5407b7e1aa758b6ec0a">hasNoSignedWrap</a>())</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;nsw&gt;&quot;</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">// Nothing to print for other nary expressions.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>: {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *UDiv = cast&lt;SCEVUDivExpr&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; *UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#af273c9351671a7ca11b52de9215f48f8">getLHS</a>() &lt;&lt; <span class="stringliteral">&quot; /u &quot;</span> &lt;&lt; *UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a5c27598f80fb5edbdb4432d37e2c71cb">getRHS</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>: {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U = cast&lt;SCEVUnknown&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *AllocTy;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#a0e7135c4da6b1579920bd681fb09ff1a">isSizeOf</a>(AllocTy)) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;sizeof(&quot;</span> &lt;&lt; *AllocTy &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad2f12376ad58d7c4a90beab585b9fe54">isAlignOf</a>(AllocTy)) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;alignof(&quot;</span> &lt;&lt; *AllocTy &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *CTy;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *FieldNo;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#af3e9f829ee5e2f5d657f94712311f503">isOffsetOf</a>(CTy, FieldNo)) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;offsetof(&quot;</span> &lt;&lt; *CTy &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      FieldNo-&gt;<a class="code" href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">printAsOperand</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// Otherwise just print it normally.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">printAsOperand</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;***COULDNOTCOMPUTE***&quot;</span>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">  401</a></span>&#160;<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">SCEV::getType</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">switch</span> (getSCEVType()) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>)-&gt;getType();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVCastExpr&gt;(<span class="keyword">this</span>)-&gt;getType();</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVAddRecExpr&gt;(<span class="keyword">this</span>)-&gt;getType();</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVMulExpr&gt;(<span class="keyword">this</span>)-&gt;getType();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVMinMaxExpr&gt;(<span class="keyword">this</span>)-&gt;getType();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVSequentialMinMaxExpr&gt;(<span class="keyword">this</span>)-&gt;getType();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVAddExpr&gt;(<span class="keyword">this</span>)-&gt;getType();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVUDivExpr&gt;(<span class="keyword">this</span>)-&gt;getType();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVUnknown&gt;(<span class="keyword">this</span>)-&gt;getType();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a0b675a820ab094d694d602eb16ef02e5">  433</a></span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> <a class="code" href="classllvm_1_1SCEV.html#a0b675a820ab094d694d602eb16ef02e5">SCEV::operands</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">switch</span> (getSCEVType()) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVCastExpr&gt;(<span class="keyword">this</span>)-&gt;operands();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVNAryExpr&gt;(<span class="keyword">this</span>)-&gt;operands();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVUDivExpr&gt;(<span class="keyword">this</span>)-&gt;operands();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a4541962f9c18aacceb7243520eb15e1f">  460</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEV.html#a4541962f9c18aacceb7243520eb15e1f">SCEV::isZero</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>))</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;isZero();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a1ecb726f4e7b445057b795ed500546a0">  466</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEV.html#a1ecb726f4e7b445057b795ed500546a0">SCEV::isOne</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>))</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;isOne();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a7ac0db66a4bb6e1e1066609d5c6d28d8">  472</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEV.html#a7ac0db66a4bb6e1e1066609d5c6d28d8">SCEV::isAllOnesValue</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>))</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;isMinusOne();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;}</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a87b23e247f35b163544f1ce8e920801c">  478</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEV.html#a87b23e247f35b163544f1ce8e920801c">SCEV::isNonConstantNegative</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = dyn_cast&lt;SCEVMulExpr&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// If there is a constant factor, it will be first.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// Return true if the value is negative, this matches things like (-42 * V).</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getAPInt().isNegative();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="structllvm_1_1SCEVCouldNotCompute.html#a4879e3633c19d6a7c7b9c56cfd3cec18">  490</a></span>&#160;<a class="code" href="structllvm_1_1SCEVCouldNotCompute.html#a4879e3633c19d6a7c7b9c56cfd3cec18">SCEVCouldNotCompute::SCEVCouldNotCompute</a>() :</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a>(<a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a>(), <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>, 0) {}</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="structllvm_1_1SCEVCouldNotCompute.html#ad3cca751f8e7a761a113ee2414a5c05c">  493</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1SCEVCouldNotCompute.html#ad3cca751f8e7a761a113ee2414a5c05c">SCEVCouldNotCompute::classof</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType() == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">  497</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">ScalarEvolution::getConstant</a>(<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *V) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(V);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP)) <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), V);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aa5096723795092a9d871e520e78998c0">  508</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">ScalarEvolution::getConstant</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Val) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), Val));</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a4171c1656e5184034c3b4a5a85e2c4f7">  513</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">ScalarEvolution::getConstant</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> V, <span class="keywordtype">bool</span> <a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ITy = cast&lt;IntegerType&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ty));</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(ITy, V, <a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a>));</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVCastExpr.html#acb400ab122ec2c7e1222c7dc7eac079e">  518</a></span>&#160;<a class="code" href="classllvm_1_1SCEVCastExpr.html#acb400ab122ec2c7e1222c7dc7eac079e">SCEVCastExpr::SCEVCastExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> SCEVTy,</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *ty)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    : <a class="code" href="classllvm_1_1SCEV.html">SCEV</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, SCEVTy, <a class="code" href="namespacellvm.html#a3d8e1e329cf813ca2b411957a4d11d5d">computeExpressionSize</a>(<a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>)), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>(<a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>), Ty(ty) {}</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;SCEVPtrToIntExpr::SCEVPtrToIntExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                   <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    : <a class="code" href="classllvm_1_1SCEVCastExpr.html">SCEVCastExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, ITy) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>()-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>()-&gt;isPointerTy() &amp;&amp; <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;         <span class="stringliteral">&quot;Must be a non-bit-width-changing pointer-to-integer cast!&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVIntegralCastExpr.html#a8da5e068d45d31d39f6f449efd8d1d9e">  529</a></span>&#160;<a class="code" href="classllvm_1_1SCEVIntegralCastExpr.html#a8da5e068d45d31d39f6f449efd8d1d9e">SCEVIntegralCastExpr::SCEVIntegralCastExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>,</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                                           <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> SCEVTy, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>,</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                           <a class="code" href="classllvm_1_1Type.html">Type</a> *ty)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    : <a class="code" href="classllvm_1_1SCEVCastExpr.html">SCEVCastExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, SCEVTy, <a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>, ty) {}</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;SCEVTruncateExpr::SCEVTruncateExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                                   <a class="code" href="classllvm_1_1Type.html">Type</a> *ty)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    : <a class="code" href="classllvm_1_1SCEVIntegralCastExpr.html">SCEVIntegralCastExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>, <a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>, ty) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>()-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>()-&gt;isIntOrPtrTy() &amp;&amp; <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;         <span class="stringliteral">&quot;Cannot truncate non-integer value!&quot;</span>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;SCEVZeroExtendExpr::SCEVZeroExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *ty)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    : <a class="code" href="classllvm_1_1SCEVIntegralCastExpr.html">SCEVIntegralCastExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>, <a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>, ty) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>()-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>()-&gt;isIntOrPtrTy() &amp;&amp; <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;         <span class="stringliteral">&quot;Cannot zero extend non-integer value!&quot;</span>);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;SCEVSignExtendExpr::SCEVSignExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>,</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *ty)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    : <a class="code" href="classllvm_1_1SCEVIntegralCastExpr.html">SCEVIntegralCastExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>, <a class="code" href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a>, ty) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>()-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>()-&gt;isIntOrPtrTy() &amp;&amp; <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;         <span class="stringliteral">&quot;Cannot sign extend non-integer value!&quot;</span>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="keywordtype">void</span> SCEVUnknown::deleted() {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// Clear this SCEVUnknown from various maps.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  SE-&gt;forgetMemoizedResults(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">// Remove this SCEVUnknown from the uniquing map.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  SE-&gt;UniqueSCEVs.RemoveNode(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// Release the value.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="classllvm_1_1CallbackVH.html#ab3a25e82043f8a99ad6ed61fb9c9483c">setValPtr</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="keywordtype">void</span> SCEVUnknown::allUsesReplacedWith(<a class="code" href="classllvm_1_1Value.html">Value</a> *New) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// Clear this SCEVUnknown from various maps.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  SE-&gt;forgetMemoizedResults(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="comment">// Remove this SCEVUnknown from the uniquing map.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  SE-&gt;UniqueSCEVs.RemoveNode(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// Replace the value pointer in case someone is still using this SCEVUnknown.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="classllvm_1_1CallbackVH.html#ab3a25e82043f8a99ad6ed61fb9c9483c">setValPtr</a>(New);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnknown.html#a0e7135c4da6b1579920bd681fb09ff1a">  577</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVUnknown.html#a0e7135c4da6b1579920bd681fb09ff1a">SCEVUnknown::isSizeOf</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *&amp;AllocTy)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *VCE = dyn_cast&lt;ConstantExpr&gt;(<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>()))</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (VCE-&gt;getOpcode() == Instruction::PtrToInt)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(VCE-&gt;getOperand(0)))</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span> (CE-&gt;getOpcode() == Instruction::GetElementPtr &amp;&amp;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            CE-&gt;getOperand(0)-&gt;isNullValue() &amp;&amp;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            CE-&gt;getNumOperands() == 2)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(CE-&gt;getOperand(1)))</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">if</span> (CI-&gt;isOne()) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;              AllocTy = cast&lt;GEPOperator&gt;(CE)-&gt;getSourceElementType();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnknown.html#ad2f12376ad58d7c4a90beab585b9fe54">  593</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVUnknown.html#ad2f12376ad58d7c4a90beab585b9fe54">SCEVUnknown::isAlignOf</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *&amp;AllocTy)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *VCE = dyn_cast&lt;ConstantExpr&gt;(<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>()))</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (VCE-&gt;getOpcode() == Instruction::PtrToInt)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(VCE-&gt;getOperand(0)))</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">if</span> (CE-&gt;getOpcode() == Instruction::GetElementPtr &amp;&amp;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            CE-&gt;getOperand(0)-&gt;isNullValue()) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = cast&lt;GEPOperator&gt;(CE)-&gt;getSourceElementType();</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(Ty))</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">if</span> (!STy-&gt;isPacked() &amp;&amp;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                CE-&gt;getNumOperands() == 3 &amp;&amp;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                CE-&gt;getOperand(1)-&gt;isNullValue()) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(CE-&gt;getOperand(2)))</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="keywordflow">if</span> (CI-&gt;isOne() &amp;&amp;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    STy-&gt;getNumElements() == 2 &amp;&amp;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    STy-&gt;getElementType(0)-&gt;isIntegerTy(1)) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                  AllocTy = STy-&gt;getElementType(1);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnknown.html#af3e9f829ee5e2f5d657f94712311f503">  617</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVUnknown.html#af3e9f829ee5e2f5d657f94712311f503">SCEVUnknown::isOffsetOf</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *&amp;CTy, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *&amp;FieldNo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *VCE = dyn_cast&lt;ConstantExpr&gt;(<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>()))</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (VCE-&gt;getOpcode() == Instruction::PtrToInt)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(VCE-&gt;getOperand(0)))</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">if</span> (CE-&gt;getOpcode() == Instruction::GetElementPtr &amp;&amp;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            CE-&gt;getNumOperands() == 3 &amp;&amp;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            CE-&gt;getOperand(0)-&gt;isNullValue() &amp;&amp;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            CE-&gt;getOperand(1)-&gt;isNullValue()) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = cast&lt;GEPOperator&gt;(CE)-&gt;getSourceElementType();</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;          <span class="comment">// Ignore vector types here so that ScalarEvolutionExpander doesn&#39;t</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;          <span class="comment">// emit getelementptrs that index into vectors.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;          <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a81eef9d7336f7ee43be79630d8e8ec86">isStructTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2a394517076e7dd2bdcd7dde33dfcb7d">isArrayTy</a>()) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            CTy = Ty;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            FieldNo = CE-&gt;getOperand(2);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;          }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">//                               SCEV Utilities</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">/// Compare the two values \p LV and \p RV in terms of their &quot;complexity&quot; where</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">/// &quot;complexity&quot; is a partial (and somewhat ad-hoc) relation used to order</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">/// operands in SCEV expressions.  \p EqCache is a set of pairs of values that</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">/// have been previously deemed to be &quot;equally complex&quot; by this routine.  It is</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">/// intended to avoid exponential time complexity in cases like:</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">///   %a = f(%x, %y)</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">///   %b = f(%a, %a)</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">///   %c = f(%b, %b)</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment">///   %d = f(%x, %y)</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">///   %e = f(%d, %d)</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">///   %f = f(%e, %e)</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">///   CompareValueComplexity(%f, %c)</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">/// Since we do not continue running this routine on expression trees once we</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">/// have seen unequal values, there is no need to track them in the cache.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a87ea59154b2de6dc273eb071b3f16265">  661</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a87ea59154b2de6dc273eb071b3f16265">CompareValueComplexity</a>(<a class="code" href="classllvm_1_1EquivalenceClasses.html">EquivalenceClasses&lt;const Value *&gt;</a> &amp;EqCacheValue,</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *<span class="keyword">const</span> LI, <a class="code" href="classllvm_1_1Value.html">Value</a> *LV, <a class="code" href="classllvm_1_1Value.html">Value</a> *RV,</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                       <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#aaf6f71afe913e3f2b74d3a529f14978e">MaxValueCompareDepth</a> || EqCacheValue.<a class="code" href="classllvm_1_1EquivalenceClasses.html#aeecd078bb48b46969da2dcb745b0b0f0">isEquivalent</a>(LV, RV))</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="comment">// Order pointer values after integer values. This helps SCEVExpander form</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="comment">// GEPs.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordtype">bool</span> LIsPointer = LV-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>(),</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;       RIsPointer = RV-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">if</span> (LIsPointer != RIsPointer)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LIsPointer - (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RIsPointer;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">// Compare getValueID values.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordtype">unsigned</span> LID = LV-&gt;<a class="code" href="classllvm_1_1Value.html#a4a6ca5a5b87bd84231be9d8dbec46c1a">getValueID</a>(), RID = RV-&gt;<a class="code" href="classllvm_1_1Value.html#a4a6ca5a5b87bd84231be9d8dbec46c1a">getValueID</a>();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">if</span> (LID != RID)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LID - (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RID;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="comment">// Sort arguments by their position.</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a> = dyn_cast&lt;Argument&gt;(LV)) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> = cast&lt;Argument&gt;(RV);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordtype">unsigned</span> LArgNo = <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a>-&gt;getArgNo(), RArgNo = <a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>-&gt;getArgNo();</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LArgNo - (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RArgNo;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *LGV = dyn_cast&lt;GlobalValue&gt;(LV)) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *RGV = cast&lt;GlobalValue&gt;(RV);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> IsGVNameSemantic = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a">LT</a> = GV-&gt;getLinkage();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">return</span> !(<a class="code" href="classllvm_1_1GlobalValue.html#a81812ab49218fff82c3a0c378e0a65b0">GlobalValue::isPrivateLinkage</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a">LT</a>) ||</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;               <a class="code" href="classllvm_1_1GlobalValue.html#a9bbb20d12147495c229051feded37cdc">GlobalValue::isInternalLinkage</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a">LT</a>));</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    };</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">// Use the names to distinguish the two values, but only if the</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">// names are semantically important.</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (IsGVNameSemantic(LGV) &amp;&amp; IsGVNameSemantic(RGV))</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="keywordflow">return</span> LGV-&gt;getName().compare(RGV-&gt;getName());</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// For instructions, compare their loop depth, and their operand count.  This</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="comment">// is pretty loose.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *LInst = dyn_cast&lt;Instruction&gt;(LV)) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *RInst = cast&lt;Instruction&gt;(RV);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="comment">// Compare loop depths.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LParent = LInst-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>(),</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                     *RParent = RInst-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">if</span> (LParent != RParent) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="keywordtype">unsigned</span> LDepth = LI-&gt;<a class="code" href="classllvm_1_1LoopInfoBase.html#aa4defa64d17f14bd55204cac1b3a0c3a">getLoopDepth</a>(LParent),</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;               RDepth = LI-&gt;<a class="code" href="classllvm_1_1LoopInfoBase.html#aa4defa64d17f14bd55204cac1b3a0c3a">getLoopDepth</a>(RParent);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="keywordflow">if</span> (LDepth != RDepth)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LDepth - (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RDepth;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// Compare the number of operands.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordtype">unsigned</span> LNumOps = LInst-&gt;getNumOperands(),</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;             RNumOps = RInst-&gt;getNumOperands();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">if</span> (LNumOps != RNumOps)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LNumOps - (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RNumOps;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx : <a class="code" href="namespacellvm.html#adc4eb8be6f7a12ede962987fb9cabb47">seq</a>(0u, LNumOps)) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordtype">int</span> Result =</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          <a class="code" href="ScalarEvolution_8cpp.html#a87ea59154b2de6dc273eb071b3f16265">CompareValueComplexity</a>(EqCacheValue, LI, LInst-&gt;getOperand(Idx),</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                 RInst-&gt;getOperand(Idx), <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">if</span> (Result != 0)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  EqCacheValue.<a class="code" href="classllvm_1_1EquivalenceClasses.html#a9f74b404e98ecd2608f87f7d561771e2">unionSets</a>(LV, RV);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">// Return negative, zero, or positive, if LHS is less than, equal to, or greater</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">// than RHS, respectively. A three-way result allows recursive comparisons to be</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">// more efficient.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">// If the max analysis depth was reached, return std::nullopt, assuming we do</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">// not know if they are equivalent for sure.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="keyword">static</span> std::optional&lt;int&gt;</div>
<div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ac688067fb2481d7d55c82ea4c653083c">  741</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#ac688067fb2481d7d55c82ea4c653083c">CompareSCEVComplexity</a>(<a class="code" href="classllvm_1_1EquivalenceClasses.html">EquivalenceClasses&lt;const SCEV *&gt;</a> &amp;EqCacheSCEV,</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                      <a class="code" href="classllvm_1_1EquivalenceClasses.html">EquivalenceClasses&lt;const Value *&gt;</a> &amp;EqCacheValue,</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *<span class="keyword">const</span> LI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> = 0) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="comment">// Fast-path: SCEVs are uniqued so we can do a quick equality check.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="comment">// Primarily, sort the SCEVs by their getSCEVType().</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> LType = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getSCEVType(), RType = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;getSCEVType();</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">if</span> (LType != RType)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LType - (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RType;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordflow">if</span> (EqCacheSCEV.<a class="code" href="classllvm_1_1EquivalenceClasses.html#aeecd078bb48b46969da2dcb745b0b0f0">isEquivalent</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#a7518e0ecb4d23aac8995be0d2e3b1daf">MaxSCEVCompareDepth</a>)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="comment">// Aside from the getSCEVType() ordering, the particular ordering</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="comment">// isn&#39;t very important except that it&#39;s beneficial to be consistent,</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="comment">// so that (a + b) and (b + a) don&#39;t end up as different expressions.</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">switch</span> (LType) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>: {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *LU = cast&lt;SCEVUnknown&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *RU = cast&lt;SCEVUnknown&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="ScalarEvolution_8cpp.html#a87ea59154b2de6dc273eb071b3f16265">CompareValueComplexity</a>(EqCacheValue, LI, LU-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>(),</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                   RU-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>(), <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> == 0)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      EqCacheSCEV.<a class="code" href="classllvm_1_1EquivalenceClasses.html#a9f74b404e98ecd2608f87f7d561771e2">unionSets</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>: {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LC = cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RC = cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="comment">// Compare constant values.</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a> = LC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>();</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> = RC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordtype">unsigned</span> LBitWidth = <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a>.getBitWidth(), RBitWidth = <a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>.getBitWidth();</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">if</span> (LBitWidth != RBitWidth)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LBitWidth - (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RBitWidth;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a>.ult(<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>) ? -1 : 1;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a> = cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> = cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">// There is always a dominance between two recs that are used by one SCEV,</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">// so we can safely sort recs by loop header dominance. We require such</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// order in getAddExpr.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *LLoop = <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a>-&gt;getLoop(), *RLoop = <a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>-&gt;getLoop();</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">if</span> (LLoop != RLoop) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LHead = LLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>(), *RHead = RLoop-&gt;getHeader();</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LHead != RHead &amp;&amp; <span class="stringliteral">&quot;Two loops share the same header?&quot;</span>);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">if</span> (DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(LHead, RHead))</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(RHead, LHead) &amp;&amp;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;               <span class="stringliteral">&quot;No dominance between recurrences used by one SCEV?&quot;</span>);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>: {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> LOps = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;operands();</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> ROps = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;operands();</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// Lexicographically compare n-ary-like expressions.</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordtype">unsigned</span> LNumOps = LOps.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(), RNumOps = ROps.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">if</span> (LNumOps != RNumOps)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LNumOps - (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RNumOps;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != LNumOps; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keyword">auto</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="ScalarEvolution_8cpp.html#ac688067fb2481d7d55c82ea4c653083c">CompareSCEVComplexity</a>(EqCacheSCEV, EqCacheValue, LI, LOps[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                                     ROps[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], DT, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> != 0)</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    EqCacheSCEV.<a class="code" href="classllvm_1_1EquivalenceClasses.html#a9f74b404e98ecd2608f87f7d561771e2">unionSets</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">/// Given a list of SCEV objects, order them by their complexity, and group</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">/// objects of the same complexity together by value.  When this routine is</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">/// finished, we know that any duplicates in the vector are consecutive and that</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">/// complexity is monotonically increasing.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">/// Note that we go take special precautions to ensure that we get deterministic</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">/// results from this routine.  In other words, we don&#39;t want the results of</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">/// this to depend on where the addresses of various SCEV objects happened to</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">/// land in memory.</span></div>
<div class="line"><a name="l00855"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a4d43163acfcdefe57d402dab3640d8be">  855</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScalarEvolution_8cpp.html#a4d43163acfcdefe57d402dab3640d8be">GroupByComplexity</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops,</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                              <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">if</span> (Ops.size() &lt; 2) <span class="keywordflow">return</span>;  <span class="comment">// Noop</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <a class="code" href="classllvm_1_1EquivalenceClasses.html">EquivalenceClasses&lt;const SCEV *&gt;</a> EqCacheSCEV;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <a class="code" href="classllvm_1_1EquivalenceClasses.html">EquivalenceClasses&lt;const Value *&gt;</a> EqCacheValue;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="comment">// Whether LHS has provably less complexity than RHS.</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keyword">auto</span> IsLessComplex = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keyword">auto</span> Complexity =</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="ScalarEvolution_8cpp.html#ac688067fb2481d7d55c82ea4c653083c">CompareSCEVComplexity</a>(EqCacheSCEV, EqCacheValue, LI, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, DT);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">return</span> Complexity &amp;&amp; *Complexity &lt; 0;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  };</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordflow">if</span> (Ops.size() == 2) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="comment">// This is the common case, which also happens to be trivially simple.</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">// Special case it.</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Ops[0], *&amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Ops[1];</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (IsLessComplex(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="comment">// Do the rough sort by complexity.</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <a class="code" href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a>(Ops, [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">return</span> IsLessComplex(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  });</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="comment">// Now that we are sorted by complexity, group elements of the same</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="comment">// complexity.  Note that this is, at worst, N^2, but the vector is likely to</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="comment">// be extremely short in practice.  Note that we take this approach because we</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="comment">// do not want to depend on the addresses of the objects we are grouping.</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>-2; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordtype">unsigned</span> Complexity = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="comment">// If there are any objects of the same complexity and same value as this</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">// one, group them.</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1; <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> &amp;&amp; Ops[<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>]-&gt;getSCEVType() == Complexity; ++<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordflow">if</span> (Ops[<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>] == <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) { <span class="comment">// Found a duplicate.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="comment">// Move it to immediately after i&#39;th element.</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1], Ops[<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>]);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;   <span class="comment">// no need to rescan it.</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>-2) <span class="keywordflow">return</span>;  <span class="comment">// Done!</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">/// Returns true if \p Ops contains a huge SCEV (the subtree of S contains at</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">/// least HugeExprThreshold nodes).</span></div>
<div class="line"><a name="l00905"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a81a7153270eb1fafa4502adc85f49adf">  905</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#a81a7153270eb1fafa4502adc85f49adf">hasHugeExpression</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(Ops, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getExpressionSize() &gt;= <a class="code" href="ScalarEvolution_8cpp.html#a0804213759955866b143922826bd74e9">HugeExprThreshold</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  });</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;}</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">//                      Simple SCEV method implementations</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">/// Compute BC(It, K).  The result has width W.  Assume, K &gt; 0.</span></div>
<div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aecbc2422e34b76c4d73f6ae64ce3951f">  916</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#aecbc2422e34b76c4d73f6ae64ce3951f">BinomialCoefficient</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *It, <span class="keywordtype">unsigned</span> K,</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                                       <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                                       <a class="code" href="classllvm_1_1Type.html">Type</a> *ResultTy) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="comment">// Handle the simplest case efficiently.</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keywordflow">if</span> (K == 1)</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(It, ResultTy);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="comment">// We are using the following formula for BC(It, K):</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">//   BC(It, K) = (It * (It - 1) * ... * (It - K + 1)) / K!</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="comment">// Suppose, W is the bitwidth of the return value.  We must be prepared for</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// overflow.  Hence, we must assure that the result of our computation is</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// equal to the accurate one modulo 2^W.  Unfortunately, division isn&#39;t</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// safe in modular arithmetic.</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="comment">// However, this code doesn&#39;t use exactly that formula; the formula it uses</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">// is something like the following, where T is the number of factors of 2 in</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="comment">// K! (i.e. trailing zeros in the binary representation of K!), and ^ is</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="comment">// exponentiation:</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="comment">//   BC(It, K) = (It * (It - 1) * ... * (It - K + 1)) / 2^T / (K! / 2^T)</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="comment">// This formula is trivially equivalent to the previous formula.  However,</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// this formula can be implemented much more efficiently.  The trick is that</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// K! / 2^T is odd, and exact division by an odd number *is* safe in modular</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="comment">// arithmetic.  To do exact division in modular arithmetic, all we have</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// to do is multiply by the inverse.  Therefore, this step can be done at</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="comment">// width W.</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// The next issue is how to safely do the division by 2^T.  The way this</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="comment">// is done is by doing the multiplication step at a width of at least W + T</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="comment">// bits.  This way, the bottom W+T bits of the product are accurate. Then,</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">// when we perform the division by 2^T (which is equivalent to a right shift</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="comment">// by T), the bottom W bits are accurate.  Extra bits are okay; they&#39;ll get</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="comment">// truncated out after the division by 2^T.</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="comment">// In comparison to just directly using the first formula, this technique</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="comment">// is much more efficient; using the first formula requires W * K bits,</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="comment">// but this formula less than W + K bits. Also, the first formula requires</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="comment">// a division step, whereas this formula only requires multiplies and shifts.</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="comment">// It doesn&#39;t matter whether the subtraction step is done in the calculation</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="comment">// width or the input iteration count&#39;s width; if the subtraction overflows,</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">// the result must be zero anyway.  We prefer here to do it in the width of</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="comment">// the induction variable because it helps a lot for certain cases; CodeGen</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="comment">// isn&#39;t smart enough to ignore the overflow, which leads to much less</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// efficient code if the width of the subtraction is wider than the native</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="comment">// register width.</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="comment">// (It&#39;s possible to not widen at all by pulling out factors of 2 before</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="comment">// the multiplication; for example, K=2 can be calculated as</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="comment">// It/2*(It+(It*INT_MIN/INT_MIN)+-1). However, it requires</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="comment">// extra arithmetic, so it&#39;s not an obvious win, and it gets</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="comment">// much more complicated for K &gt; 3.)</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="comment">// Protection from insane SCEVs; this bound is conservative,</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">// but it probably doesn&#39;t matter.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keywordflow">if</span> (K &gt; 1000)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(ResultTy);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="comment">// Calculate K! / 2^T and T; we divide out the factors of two before</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="comment">// multiplying for calculating K! / 2^T to avoid overflow.</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">// Other overflow doesn&#39;t matter because we only care about the bottom</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="comment">// W bits of the result.</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> OddFactorial(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>, 1);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classT.html">T</a> = 1;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= K; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba489c5c03b43333daa30af69d887fc1f2">Mult</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordtype">unsigned</span> TwoFactors = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba489c5c03b43333daa30af69d887fc1f2">Mult</a>.countTrailingZeros();</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <a class="code" href="classT.html">T</a> += TwoFactors;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba489c5c03b43333daa30af69d887fc1f2">Mult</a>.lshrInPlace(TwoFactors);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    OddFactorial *= <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba489c5c03b43333daa30af69d887fc1f2">Mult</a>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="comment">// We need at least W + T bits for the multiplication step</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordtype">unsigned</span> CalculationBits = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> + <a class="code" href="classT.html">T</a>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">// Calculate 2^T, at width T+W.</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DivFactor = <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(CalculationBits, <a class="code" href="classT.html">T</a>);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// Calculate the multiplicative inverse of K! / 2^T;</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// this multiplication factor will perform the exact division by</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// K! / 2^T.</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a> = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>+1);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MultiplyFactor = OddFactorial.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>+1);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  MultiplyFactor = MultiplyFactor.<a class="code" href="classllvm_1_1APInt.html#a28ee15b0286415cce5599d4fb9f9ce02">multiplicativeInverse</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  MultiplyFactor = MultiplyFactor.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="comment">// Calculate the product, at width T+W</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *CalculationTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(),</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                                                      CalculationBits);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Dividend = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(It, CalculationTy);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != K; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(It, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(It-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>(), <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    Dividend = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Dividend,</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                             SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, CalculationTy));</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// Divide by 2^T</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *DivResult = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(Dividend, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(DivFactor));</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// Truncate the result, and divide by K! / 2^T.</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(MultiplyFactor),</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                       SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(DivResult, ResultTy));</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">/// Return the value of this chain of recurrences at the specified iteration</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">/// number.  We can evaluate this recurrence by multiplying each element in the</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">/// chain by the binomial coefficient corresponding to it.  In other words, we</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">/// can evaluate {A,+,B,+,C,+,D} as:</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">///   A*BC(It, 0) + B*BC(It, 1) + C*BC(It, 2) + D*BC(It, 3)</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment">/// where BC(It, k) stands for binomial coefficient.</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVAddRecExpr.html#a33583576f220997d1c415df033559a57"> 1034</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a33583576f220997d1c415df033559a57">SCEVAddRecExpr::evaluateAtIteration</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *It,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                                                <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a33583576f220997d1c415df033559a57">evaluateAtIteration</a>(<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>(), It, SE);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;}</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVAddRecExpr.html#aa6f92c963408bac18b86bf6f0cfeb06f"> 1040</a></span>&#160;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a33583576f220997d1c415df033559a57">SCEVAddRecExpr::evaluateAtIteration</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *It, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a13420a20869bb95976c9b26c72318942">Operands</a>.size() &gt; 0);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Result = <a class="code" href="classllvm_1_1SCEVNAryExpr.html#a13420a20869bb95976c9b26c72318942">Operands</a>[0];</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="classllvm_1_1SCEVNAryExpr.html#a13420a20869bb95976c9b26c72318942">Operands</a>.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="comment">// The computation is correct in the face of overflow provided that the</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">// multiplication is performed _after_ the evaluation of the binomial</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">// coefficient.</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Coeff = <a class="code" href="ScalarEvolution_8cpp.html#aecbc2422e34b76c4d73f6ae64ce3951f">BinomialCoefficient</a>(It, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, SE, Result-&gt;getType());</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(Coeff))</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <span class="keywordflow">return</span> Coeff;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    Result = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Result, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a13420a20869bb95976c9b26c72318942">Operands</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], Coeff));</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;}</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment">//                    SCEV Expression folder implementations</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba"> 1061</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">ScalarEvolution::getLosslessPtrToIntExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                                                     <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &lt;= 1 &amp;&amp;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;         <span class="stringliteral">&quot;getLosslessPtrToIntExpr() should self-recurse at most once.&quot;</span>);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// We could be called with an integer-typed operands during SCEV rewrites.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="comment">// Since the operand is an integer already, just perform zext/trunc/self cast.</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isPointerTy())</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="comment">// What would be an ID for such a SCEV cast expression?</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="comment">// Is there already an expression for such a cast?</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP))</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="comment">// It isn&#39;t legal for optimizations to construct new ptrtoint expressions</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// for non-integral pointers.</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().isNonIntegralPointerType(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()))</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IntPtrTy = <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a7a2619d0e489a4ba9c19a0d86a041d59">getIntPtrType</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType());</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="comment">// We can only trivially model ptrtoint if SCEV&#39;s effective (integer) type</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">// is sufficiently wide to represent all possible pointer values.</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="comment">// We could theoretically teach SCEV to truncate wider pointers, but</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="comment">// that isn&#39;t implemented for now.</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType())) !=</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(IntPtrTy))</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="comment">// If not, is this expression something we can&#39;t reduce any further?</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *U = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="comment">// Perform some basic constant folding. If the operand of the ptr2int cast</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="comment">// is a null pointer, don&#39;t create a ptr2int SCEV expression (that will be</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">// left as-is), but produce a zero constant.</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// NOTE: We could handle a more general case, but lack motivational cases.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(U-&gt;getValue()))</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(IntPtrTy);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="comment">// Create an explicit cast node.</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// We can reuse the existing insert position since if we get here,</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="comment">// we won&#39;t have made any changes which would invalidate it.</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator)</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <a class="code" href="classllvm_1_1SCEVPtrToIntExpr.html">SCEVPtrToIntExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, IntPtrTy);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> == 0 &amp;&amp; <span class="stringliteral">&quot;getLosslessPtrToIntExpr() should not self-recurse for &quot;</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                       <span class="stringliteral">&quot;non-SCEVUnknown&#39;s.&quot;</span>);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// Otherwise, we&#39;ve got some expression that is more complex than just a</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// single SCEVUnknown. But we don&#39;t want to have a SCEVPtrToIntExpr of an</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// arbitrary expression, we want to have SCEVPtrToIntExpr of an SCEVUnknown</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="comment">// only, and the expressions must otherwise be integer-typed.</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="comment">// So sink the cast down to the SCEVUnknown&#39;s.</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">  /// The SCEVPtrToIntSinkingRewriter takes a scalar evolution expression,</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">  /// which computes a pointer-typed value, and rewrites the whole expression</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">  /// tree so that *all* the computations are done on integers, and the only</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">  /// pointer-typed operands in the expression are SCEVUnknown.</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>SCEVPtrToIntSinkingRewriter</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>&lt;SCEVPtrToIntSinkingRewriter&gt; {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keyword">using</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor&lt;SCEVPtrToIntSinkingRewriter&gt;</a>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    SCEVPtrToIntSinkingRewriter(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) : <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>(SE) {}</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">rewrite</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Scev, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      SCEVPtrToIntSinkingRewriter <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>(SE);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.visit(Scev);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visit(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *STy = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getType();</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="comment">// If the expression is not pointer-typed, just keep it as-is.</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">if</span> (!STy-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="comment">// Else, recursively sink the cast down into it.</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keywordflow">return</span> Base::visit(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitAddExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Expr) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>()) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(visit(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        Changed |= <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> != <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.back();</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="keywordflow">return</span> !Changed ? Expr : SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>());</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitMulExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Expr) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>()) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(visit(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        Changed |= <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> != <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.back();</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keywordflow">return</span> !Changed ? Expr : SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>());</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Expr-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad5a0788fd78a5c5269fcaf45164b6e9a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;             <span class="stringliteral">&quot;Should only reach pointer-typed SCEVUnknown&#39;s.&quot;</span>);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(Expr, <span class="comment">/*Depth=*/</span>1);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  };</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">// And actually perform the cast sinking.</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *IntOp = <a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">SCEVPtrToIntSinkingRewriter::rewrite</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IntOp-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;         <span class="stringliteral">&quot;We must have succeeded in sinking the cast, &quot;</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;         <span class="stringliteral">&quot;and ending up with an integer-typed expression!&quot;</span>);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <span class="keywordflow">return</span> IntOp;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;}</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a4f28ee6ec3dad0938d2660c56168d91d"> 1185</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a4f28ee6ec3dad0938d2660c56168d91d">ScalarEvolution::getPtrToIntExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>() &amp;&amp; <span class="stringliteral">&quot;Target type must be an integer type!&quot;</span>);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *IntOp = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(IntOp))</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">return</span> IntOp;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(IntOp, Ty);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;}</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8"> 1195</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">ScalarEvolution::getTruncateExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                                             <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()) &gt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;         <span class="stringliteral">&quot;This is not a truncating conversion!&quot;</span>);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;         <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isPointerTy() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t truncate pointer!&quot;</span>);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  Ty = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ty);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(Ty);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP)) <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="comment">// Fold if the operand is constant.</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">ConstantExpr::getTrunc</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue(), Ty)));</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="comment">// trunc(trunc(x)) --&gt; trunc(x)</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getOperand(), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="comment">// trunc(sext(x)) --&gt; sext(x) if widening or trunc(x) if narrowing</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> = dyn_cast&lt;SCEVSignExtendExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#af156ea88617d19e05470b8af2bb62dd9">getTruncateOrSignExtend</a>(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>-&gt;getOperand(), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="comment">// trunc(zext(x)) --&gt; zext(x) if widening or trunc(x) if narrowing</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *SZ = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(SZ-&gt;getOperand(), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#acc4dac0533a40c07820a7df7b8f61178">MaxCastDepth</a>) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160; </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="comment">// trunc(x1 + ... + xN) --&gt; trunc(x1) + ... + trunc(xN) and</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="comment">// trunc(x1 * ... * xN) --&gt; trunc(x1) * ... * trunc(xN),</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// if after transforming we have at most one truncate, not counting truncates</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="comment">// that replace other casts.</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVAddExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) || isa&lt;SCEVMulExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keyword">auto</span> *CommOp = cast&lt;SCEVCommutativeExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordtype">unsigned</span> numTruncs = 0;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = CommOp-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> &amp;&amp; numTruncs &lt; 2;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;         ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(CommOp-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVIntegralCastExpr&gt;(CommOp-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)) &amp;&amp;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;          isa&lt;SCEVTruncateExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        numTruncs++;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">if</span> (numTruncs &lt; 2) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVAddExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;SCEVMulExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected SCEV type for Op.&quot;</span>);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">// Although we checked in the beginning that ID is not in the cache, it is</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="comment">// possible that during recursion and different modification ID was inserted</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="comment">// into the cache. So if we find it, just return it.</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP))</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="comment">// If the input value is a chrec scev, truncate the chrec&#39;s operands.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : AddRec-&gt;operands())</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, AddRec-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="comment">// Return zero if truncating to known zeros.</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> MinTrailingZeros = <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordflow">if</span> (MinTrailingZeros &gt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(Ty);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="comment">// The cast wasn&#39;t folded; create an explicit cast node. We can reuse</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="comment">// the existing insert position since if we get here, we won&#39;t have</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="comment">// made any changes which would invalidate it.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator),</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                                                 <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">// Get the limit of a recurrence such that incrementing by Step cannot cause</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">// signed overflow as long as the value of the recurrence within the</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">// loop does not exceed this limit before incrementing.</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a7026c24c62fdbb46fe47dce8688c6943"> 1293</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#a7026c24c62fdbb46fe47dce8688c6943">getSignedOverflowLimitForStep</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                                                 <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> *Pred,</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                                                 <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Step-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(Step)) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    *Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) -</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                           SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(Step));</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  }</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">isKnownNegative</a>(Step)) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    *Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) -</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                           SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(Step));</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">// Get the limit of a recurrence such that incrementing by Step cannot cause</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment">// unsigned overflow as long as the value of the recurrence within the loop does</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="comment">// not exceed this limit before incrementing.</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a826d975fc7f5dbc85861415ee93a2787"> 1313</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#a826d975fc7f5dbc85861415ee93a2787">getUnsignedOverflowLimitForStep</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                                                   <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> *Pred,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                                                   <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Step-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  *Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) -</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                         SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(Step));</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;}</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="keyword">struct </span>ExtendOpTraitsBase {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="keyword">typedef</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a>::*GetExtendExprTy)(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *, <a class="code" href="classllvm_1_1Type.html">Type</a> *,</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                                          <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;};</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment">// Used to make code generic over signed and unsigned overflow.</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ExtendOp&gt; <span class="keyword">struct </span>ExtendOpTraits {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="comment">// Members present:</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="comment">// static const SCEV::NoWrapFlags WrapType;</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="comment">// static const ExtendOpTraitsBase::GetExtendExprTy GetExtendExpr;</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="comment">// static const SCEV *getOverflowLimitForStep(const SCEV *Step,</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="comment">//                                           ICmpInst::Predicate *Pred,</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="comment">//                                           ScalarEvolution *SE);</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;};</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="keyword">struct </span>ExtendOpTraits&lt;<a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a>&gt; : <span class="keyword">public</span> ExtendOpTraitsBase {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> WrapType = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> GetExtendExprTy GetExtendExpr;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *getOverflowLimitForStep(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                                             <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> *Pred,</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                                             <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE) {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a7026c24c62fdbb46fe47dce8688c6943">getSignedOverflowLimitForStep</a>(Step, Pred, SE);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;};</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="keyword">const</span> ExtendOpTraitsBase::GetExtendExprTy ExtendOpTraits&lt;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a>&gt;::GetExtendExpr = &amp;<a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">ScalarEvolution::getSignExtendExpr</a>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="keyword">struct </span>ExtendOpTraits&lt;<a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a>&gt; : <span class="keyword">public</span> ExtendOpTraitsBase {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> WrapType = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> GetExtendExprTy GetExtendExpr;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *getOverflowLimitForStep(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                                             <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> *Pred,</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                                             <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a826d975fc7f5dbc85861415ee93a2787">getUnsignedOverflowLimitForStep</a>(Step, Pred, SE);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;};</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="keyword">const</span> ExtendOpTraitsBase::GetExtendExprTy ExtendOpTraits&lt;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a>&gt;::GetExtendExpr = &amp;<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">ScalarEvolution::getZeroExtendExpr</a>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">// The recurrence AR has been shown to have no signed/unsigned wrap or something</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">// close to it. Typically, if we can prove NSW/NUW for AR, then we can just as</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment">// easily prove NSW/NUW for its preincrement or postincrement sibling. This</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">// allows normalizing a sign/zero extended AddRec as such: {sext/zext(Step +</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment">// Start),+,Step} =&gt; {(Step + sext/zext(Start),+,Step} As a result, the</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="comment">// expression &quot;Step + sext/zext(PreIncAR)&quot; is congruent with</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">// &quot;sext/zext(PostIncAR)&quot;</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ExtendOpTy&gt;</div>
<div class="line"><a name="l01385"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a92f35c461d1a816bfd1462942d82999b"> 1385</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#a92f35c461d1a816bfd1462942d82999b">getPreStartForExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                                        <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keyword">auto</span> WrapType = ExtendOpTraits&lt;ExtendOpTy&gt;::WrapType;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keyword">auto</span> GetExtendExpr = ExtendOpTraits&lt;ExtendOpTy&gt;::GetExtendExpr;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>();</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>();</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*SE);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">// Check for a simple looking step prior to loop entry.</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *SA = dyn_cast&lt;SCEVAddExpr&gt;(Start);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordflow">if</span> (!SA)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="comment">// Create an AddExpr for &quot;PreStart&quot; after subtracting Step. Full SCEV</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="comment">// subtraction is expensive. For this purpose, perform a quick and dirty</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="comment">// difference, by checking for Step in the operand list.</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> DiffOps;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>())</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> != Step)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      DiffOps.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">if</span> (DiffOps.size() == SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>())</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="comment">// Try to prove `WrapType` (SCEV::FlagNSW or SCEV::FlagNUW) on `PreStart` +</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="comment">// `Step`:</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="comment">// 1. NSW/NUW flags on the step increment.</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="keyword">auto</span> PreStartFlags =</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">ScalarEvolution::maskFlags</a>(SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PreStart = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(DiffOps, PreStartFlags);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *PreAR = dyn_cast&lt;SCEVAddRecExpr&gt;(</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(PreStart, Step, L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>));</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="comment">// &quot;{S,+,X} is &lt;nsw&gt;/&lt;nuw&gt;&quot; and &quot;the backedge is taken at least once&quot; implies</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="comment">// &quot;S+X does not sign/unsign-overflow&quot;.</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e">getBackedgeTakenCount</a>(L);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">if</span> (PreAR &amp;&amp; PreAR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>(WrapType) &amp;&amp;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      !isa&lt;SCEVCouldNotCompute&gt;(BECount) &amp;&amp; SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(BECount))</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordflow">return</span> PreStart;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="comment">// 2. Direct overflow check on the step operation&#39;s expression.</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>());</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *WideTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> * 2);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OperandExtendedStart =</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>((SE-&gt;*GetExtendExpr)(PreStart, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>),</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                     (SE-&gt;*GetExtendExpr)(Step, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>));</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keywordflow">if</span> ((SE-&gt;*GetExtendExpr)(Start, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) == OperandExtendedStart) {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="keywordflow">if</span> (PreAR &amp;&amp; AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>(WrapType)) {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="comment">// If we know `AR` == {`PreStart`+`Step`,+,`Step`} is `WrapType` (FlagNSW</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      <span class="comment">// or FlagNUW) and that `PreStart` + `Step` is `WrapType` too, then</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="comment">// `PreAR` == {`PreStart`,+,`Step`} is also `WrapType`.  Cache this fact.</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(PreAR), WrapType);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keywordflow">return</span> PreStart;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  }</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="comment">// 3. Loop precondition.</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OverflowLimit =</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      ExtendOpTraits&lt;ExtendOpTy&gt;::getOverflowLimitForStep(Step, &amp;Pred, SE);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="keywordflow">if</span> (OverflowLimit &amp;&amp;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, Pred, PreStart, OverflowLimit))</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keywordflow">return</span> PreStart;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="comment">// Get the normalized zero or sign extended expression for this AddRec&#39;s Start.</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ExtendOpTy&gt;</div>
<div class="line"><a name="l01459"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ab686f43de6f1ff6cb333d00d62a590e4"> 1459</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#ab686f43de6f1ff6cb333d00d62a590e4">getExtendAddRecStart</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                                        <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE,</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                                        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keyword">auto</span> GetExtendExpr = ExtendOpTraits&lt;ExtendOpTy&gt;::GetExtendExpr;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PreStart = getPreStartForExtend&lt;ExtendOpTy&gt;(AR, Ty, SE, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">if</span> (!PreStart)</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordflow">return</span> (SE-&gt;*GetExtendExpr)(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>((SE-&gt;*GetExtendExpr)(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*SE), Ty,</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>),</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                        (SE-&gt;*GetExtendExpr)(PreStart, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>));</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment">// Try to prove away overflow by looking at &quot;nearby&quot; add recurrences.  A</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">// motivating example for this rule: if we know `{0,+,4}` is `ult` `-1` and it</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">// does not itself wrap then we can conclude that `{1,+,4}` is `nuw`.</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment">// Formally:</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="comment">//     {S,+,X} == {S-T,+,X} + T</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="comment">//  =&gt; Ext({S,+,X}) == Ext({S-T,+,X} + T)</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="comment">// If ({S-T,+,X} + T) does not overflow  ... (1)</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment">//  RHS == Ext({S-T,+,X} + T) == Ext({S-T,+,X}) + Ext(T)</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">// If {S-T,+,X} does not overflow  ... (2)</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">//  RHS == Ext({S-T,+,X}) + Ext(T) == {Ext(S-T),+,Ext(X)} + Ext(T)</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">//      == {Ext(S-T)+Ext(T),+,Ext(X)}</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">// If (S-T)+T does not overflow  ... (3)</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">//  RHS == {Ext(S-T)+Ext(T),+,Ext(X)} == {Ext(S-T+T),+,Ext(X)}</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="comment">//      == {Ext(S),+,Ext(X)} == LHS</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="comment">// Thus, if (1), (2) and (3) are true for some T, then</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<span class="comment">//   Ext({S,+,X}) == {Ext(S),+,Ext(X)}</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="comment">// (3) is implied by (1) -- &quot;(S-T)+T does not overflow&quot; is simply &quot;({S-T,+,X}+T)</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="comment">// does not overflow&quot; restricted to the 0th iteration.  Therefore we only need</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment">// to check for (1) and (2).</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="comment">// In the current context, S is `Start`, X is `Step`, Ext is `ExtendOpTy` and T</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="comment">// is `Delta` (defined below).</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ExtendOpTy&gt;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::proveNoWrapByVaryingStart(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start,</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keyword">auto</span> WrapType = ExtendOpTraits&lt;ExtendOpTy&gt;::WrapType;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">// We restrict `Start` to a constant to prevent SCEV from spending too much</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="comment">// time here.  It is correct (but more expensive) to continue with a</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="comment">// non-constant `Start` and do a general SCEV subtraction to compute</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">// `PreStart` below.</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *StartC = dyn_cast&lt;SCEVConstant&gt;(Start);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordflow">if</span> (!StartC)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> StartAI = StartC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>();</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Delta : {-2, -1, 1, 2}) {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PreStart = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(StartAI - Delta);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(PreStart);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(Step);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(L);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *PreAR =</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP));</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="comment">// Give up if we don&#39;t already have the add recurrence we need because</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="comment">// actually constructing an add recurrence is relatively expensive.</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">if</span> (PreAR &amp;&amp; PreAR-&gt;getNoWrapFlags(WrapType)) {  <span class="comment">// proves (2)</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *DeltaS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(StartC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a1b3e20f5a1901b2ed4ab3dab496ab85c">getType</a>(), Delta);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">ICmpInst::BAD_ICMP_PREDICATE</a>;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Limit = ExtendOpTraits&lt;ExtendOpTy&gt;::getOverflowLimitForStep(</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;          DeltaS, &amp;Pred, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">if</span> (Limit &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(Pred, PreAR, Limit))  <span class="comment">// proves (1)</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    }</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;}</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160; </div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">// Finds an integer D for an expression (C + x + y + ...) such that the top</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment">// level addition in (D + (C - D + x + y + ...)) would not wrap (signed or</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">// unsigned) and the number of trailing zeros of (C - D + x + y + ...) is</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">// maximized, where C is the \p ConstantTerm, x, y, ... are arbitrary SCEVs, and</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">// the (C + x + y + ...) expression is \p WholeAddExpr.</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ab1ecca94c1ac1a616d83f565a4aeaeae"> 1553</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="ScalarEvolution_8cpp.html#ab1ecca94c1ac1a616d83f565a4aeaeae">extractConstantWithoutWrapping</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *ConstantTerm,</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *WholeAddExpr) {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = ConstantTerm-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>();</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getBitWidth();</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="comment">// Find number of trailing zeros of (x + y + ...) w/o the C first:</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> TZ = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = WholeAddExpr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; TZ; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    TZ = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(TZ, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(WholeAddExpr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)));</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <span class="keywordflow">if</span> (TZ) {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="comment">// Set D to be as many least significant bits of C as possible while still</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="comment">// guaranteeing that adding D to (C - D + x + y + ...) won&#39;t cause a wrap:</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">return</span> TZ &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> ? <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.trunc(TZ).zext(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) : <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;}</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">// Finds an integer D for an affine AddRec expression {C,+,x} such that the top</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">// level addition in (D + {C-D,+,x}) would not wrap (signed or unsigned) and the</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">// number of trailing zeros of (C - D + x * n) is maximized, where C is the \p</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment">// ConstantStart, x is an arbitrary \p Step, and n is the loop trip count.</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a5589e186b84c92aaeecbaeaf6253ebc8"> 1574</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="ScalarEvolution_8cpp.html#ab1ecca94c1ac1a616d83f565a4aeaeae">extractConstantWithoutWrapping</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;ConstantStart,</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step) {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = ConstantStart.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>();</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> TZ = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(Step);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keywordflow">if</span> (TZ)</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">return</span> TZ &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> ? ConstantStart.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(TZ).<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                         : ConstantStart;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;}</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a7776be244c9a7e48a8533e8d25679022"> 1585</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScalarEvolution_8cpp.html#a7776be244c9a7e48a8533e8d25679022">insertFoldCacheEntry</a>(</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScalarEvolution_1_1FoldID.html">ScalarEvolution::FoldID</a> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>,</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;ScalarEvolution::FoldID, const SCEV *&gt;</a> &amp;FoldCache,</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *, <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ScalarEvolution::FoldID, 2&gt;</a>&gt;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        &amp;FoldCacheUser) {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FoldCache.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>});</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second) {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="comment">// Remove FoldCacheUser entry for ID when replacing an existing FoldCache</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="comment">// entry.</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keyword">auto</span> &amp;UserIDs = FoldCacheUser[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;second];</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a>(UserIDs, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) == 1 &amp;&amp; <span class="stringliteral">&quot;unexpected duplicates in UserIDs&quot;</span>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != UserIDs.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      <span class="keywordflow">if</span> (UserIDs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(UserIDs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>], UserIDs.back());</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    UserIDs.pop_back();</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;second = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="keyword">auto</span> R = FoldCacheUser.insert({<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, {}});</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  R.first-&gt;second.push_back(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;}</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l01609"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b"> 1609</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">ScalarEvolution::getZeroExtendExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()) &lt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;         <span class="stringliteral">&quot;This is not an extending conversion!&quot;</span>);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;         <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isPointerTy() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t extend pointer!&quot;</span>);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  Ty = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ty);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution_1_1FoldID.html">FoldID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1ScalarEvolution_1_1FoldID.html#a4ad50fbceef1c59b787444838aa5b79d">addInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.addPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.addPointer(Ty);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keyword">auto</span> Iter = FoldCache.find(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">if</span> (Iter != FoldCache.end())</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">return</span> Iter-&gt;second;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a26ffa319e1953452b1d1df84923f2108">getZeroExtendExprImpl</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a7776be244c9a7e48a8533e8d25679022">insertFoldCacheEntry</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, FoldCache, FoldCacheUser);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;}</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a26ffa319e1953452b1d1df84923f2108"> 1631</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a26ffa319e1953452b1d1df84923f2108">ScalarEvolution::getZeroExtendExprImpl</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                                                   <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()) &lt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;         <span class="stringliteral">&quot;This is not an extending conversion!&quot;</span>);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(Ty) &amp;&amp; <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isPointerTy() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t extend pointer!&quot;</span>);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="comment">// Fold if the operand is constant.</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#a58d6359cee16e5da66861058836dcca9">ConstantExpr::getZExt</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue(), Ty)));</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="comment">// zext(zext(x)) --&gt; zext(x)</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *SZ = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(SZ-&gt;getOperand(), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="comment">// Before doing any expensive analysis, check to see if we&#39;ve already</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="comment">// computed a SCEV for this Op and Ty.</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>);</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(Ty);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP)) <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#acc4dac0533a40c07820a7df7b8f61178">MaxCastDepth</a>) {</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator),</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                                     <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="comment">// zext(trunc(x)) --&gt; zext(x) or x or trunc(x)</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="comment">// It&#39;s possible the bits taken off by the truncate were all zero bits. If</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="comment">// so, we should be able to simplify this further.</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getOperand();</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordtype">unsigned</span> TruncBits = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getType());</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordtype">unsigned</span> NewBits = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> (CR.<a class="code" href="classllvm_1_1ConstantRange.html#a2bc441c8fe8dfeea5471f11d2d823ec1">truncate</a>(TruncBits).<a class="code" href="classllvm_1_1ConstantRange.html#a636ddf018d314a1d73f98e2fa4efbafb">zeroExtend</a>(NewBits).<a class="code" href="classllvm_1_1ConstantRange.html#aaca3a4d2b25c24b11179cbd01079b73c">contains</a>(</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            CR.<a class="code" href="classllvm_1_1ConstantRange.html#a05ef50c1573b919a575fccb31cc523b4">zextOrTrunc</a>(NewBits)))</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="comment">// If the input value is a chrec scev, and we can prove that the value</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="comment">// did not overflow the old, smaller, value, we can zero extend all of the</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="comment">// operands (often constants).  This allows analysis of something like</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="comment">// this:  for (unsigned char X = 0; X &lt; 100; ++X) { int Y = X; }</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;isAffine()) {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AR-&gt;getStart();</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;getStepRecurrence(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(AR-&gt;getType());</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;getLoop();</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      <span class="keywordflow">if</span> (!AR-&gt;hasNoUnsignedWrap()) {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <span class="keyword">auto</span> NewFlags = proveNoWrapViaConstantRanges(AR);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), NewFlags);</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      }</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <span class="comment">// If we have special knowledge that this addrec won&#39;t overflow,</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="comment">// we don&#39;t need to do any further analysis.</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keywordflow">if</span> (AR-&gt;hasNoUnsignedWrap()) {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        Start =</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            getExtendAddRecStart&lt;SCEVZeroExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      }</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <span class="comment">// Check whether the backedge-taken count is SCEVCouldNotCompute.</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="comment">// Note that this serves two purposes: It filters out loops that are</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="comment">// simply not analyzable, and it covers the case where this code is</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <span class="comment">// being called from within backedge-taken count analysis, such that</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="comment">// attempting to ask for the backedge-taken count would likely result</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="comment">// in infinite recursion. In the later case, the analysis code will</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="comment">// cope with a conservative value, and it will take care to purge</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <span class="comment">// that value once it has finished.</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a80d7048687367a15d267ac5418b8a168">getConstantMaxBackedgeTakenCount</a>(L);</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(MaxBECount)) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="comment">// Manually compute the final value for AR, checking for overflow.</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <span class="comment">// Check whether the backedge-taken count can be losslessly casted to</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <span class="comment">// the addrec&#39;s type. The count is always unsigned.</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CastedMaxBECount =</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(MaxBECount, Start-&gt;getType(), <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RecastedMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            CastedMaxBECount, MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>(), <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <span class="keywordflow">if</span> (MaxBECount == RecastedMaxBECount) {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *WideTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> * 2);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;          <span class="comment">// Check whether Start+Step*MaxBECount has no unsigned overflow.</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ZMul = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(CastedMaxBECount, Step,</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                                        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ZAdd = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Start, ZMul,</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                                                          <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>,</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                                                          <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                                               WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *WideStart = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Start, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *WideMaxBECount =</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(CastedMaxBECount, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OperandExtendedAdd =</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(WideStart,</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                       <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(WideMaxBECount,</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                                  <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                                  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;          <span class="keywordflow">if</span> (ZAdd == OperandExtendedAdd) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            <span class="comment">// Cache knowledge of AR NUW, which is propagated to this AddRec.</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            Start = getExtendAddRecStart&lt;SCEVZeroExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                                                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;          }</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;          <span class="comment">// Similar to above, only this time treat the step value as signed.</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;          <span class="comment">// This covers loops that count down.</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;          OperandExtendedAdd =</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(WideStart,</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                       <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(WideMaxBECount,</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                                  <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                                  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;          <span class="keywordflow">if</span> (ZAdd == OperandExtendedAdd) {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            <span class="comment">// Cache knowledge of AR NW, which is propagated to this AddRec.</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            <span class="comment">// Negative step causes unsigned wrap, but it still can&#39;t self-wrap.</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            Start = getExtendAddRecStart&lt;SCEVZeroExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                                                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;          }</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      }</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <span class="comment">// Normally, in the cases we can prove no-overflow via a</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      <span class="comment">// backedge guarding condition, we can also compute a backedge</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;      <span class="comment">// taken count for the loop.  The exceptions are assumptions and</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      <span class="comment">// guards present in the loop -- SCEV is not great at exploiting</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <span class="comment">// these to compute max backedge taken counts, but can still use</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      <span class="comment">// these to prove lack of overflow.  Use this fact to avoid</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      <span class="comment">// doing extra work that may not pay off.</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(MaxBECount) || !AC.<a class="code" href="classllvm_1_1AssumptionCache.html#a9af26068ead88bf19cbf15167e82d200">assumptions</a>().empty()) {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <span class="keyword">auto</span> NewFlags = proveNoUnsignedWrapViaInduction(AR);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), NewFlags);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="keywordflow">if</span> (AR-&gt;hasNoUnsignedWrap()) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;          <span class="comment">// Same as nuw case above - duplicated here to avoid a compile time</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;          <span class="comment">// issue.  It&#39;s not clear that the order of checks does matter, but</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;          <span class="comment">// it&#39;s one of two issue possible causes for a change which was</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;          <span class="comment">// reverted.  Be conservative for the moment.</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;          Start =</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;              getExtendAddRecStart&lt;SCEVZeroExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;          Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        }</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <span class="comment">// For a negative step, we can extend the operands iff doing so only</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <span class="comment">// traverses values in the range zext([0,UINT_MAX]). </span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">isKnownNegative</a>(Step)) {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) -</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                                      <a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(Step));</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">isLoopBackedgeGuardedByCond</a>(L, <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>, AR, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) ||</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a68f0233de81fa48662571534730a3ad6">isKnownOnEveryIteration</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>, AR, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            <span class="comment">// Cache knowledge of AR NW, which is propagated to this</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="comment">// AddRec.  Negative step causes unsigned wrap, but it</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            <span class="comment">// still can&#39;t self-wrap.</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            Start = getExtendAddRecStart&lt;SCEVZeroExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                                                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;          }</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      }</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      <span class="comment">// zext({C,+,Step}) --&gt; (zext(D) + zext({C-D,+,Step}))&lt;nuw&gt;&lt;nsw&gt;</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      <span class="comment">// if D + (C - D + Step * n) could be proven to not unsigned wrap</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      <span class="comment">// where D maximizes the number of trailing zeros of (C - D + Step * n)</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(Start)) {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getAPInt();</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <a class="code" href="ScalarEvolution_8cpp.html#ab1ecca94c1ac1a616d83f565a4aeaeae">extractConstantWithoutWrapping</a>(*<span class="keyword">this</span>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Step);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> != 0) {</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SZExtD = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SResidual =</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> - <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SZExtR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(SResidual, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(SZExtD, SZExtR,</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                            (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>),</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                            <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        }</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      }</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="keywordflow">if</span> (proveNoWrapByVaryingStart&lt;SCEVZeroExtendExpr&gt;(Start, Step, L)) {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        Start =</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            getExtendAddRecStart&lt;SCEVZeroExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      }</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    }</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="comment">// zext(A % B) --&gt; zext(A) % zext(B)</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  {</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <span class="keywordflow">if</span> (matchURem(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a13b9eb961d35ad9ecb3b633f5703253a">getURemExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                         <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  }</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160; </div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">// zext(A / B) --&gt; zext(A) / zext(B).</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Div = dyn_cast&lt;SCEVUDivExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Div-&gt;getLHS(), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                       <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Div-&gt;getRHS(), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160; </div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SA = dyn_cast&lt;SCEVAddExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="comment">// zext((A + B + ...)&lt;nuw&gt;) --&gt; (zext(A) + zext(B) + ...)&lt;nuw&gt;</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">if</span> (SA-&gt;hasNoUnsignedWrap()) {</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      <span class="comment">// If the addition does not unsign overflow then we can, by definition,</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <span class="comment">// commute the zero extension with the addition operation.</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Ops;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : SA-&gt;operands())</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        Ops.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    }</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="comment">// zext(C + x + y + ...) --&gt; (zext(D) + zext((C - D) + x + y + ...))</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="comment">// if D + (C - D + x + y + ...) could be proven to not unsigned wrap</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="comment">// where D maximizes the number of trailing zeros of (C - D + x + y + ...)</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="comment">// Often address arithmetics contain expressions like</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="comment">// (zext (add (shl X, C1), C2)), for instance, (zext (5 + (4 * X))).</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="comment">// This transformation is useful while proving that such expressions are</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="comment">// equal or differ by a small constant amount, see LoadStoreVectorizer pass.</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(SA-&gt;getOperand(0))) {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <a class="code" href="ScalarEvolution_8cpp.html#ab1ecca94c1ac1a616d83f565a4aeaeae">extractConstantWithoutWrapping</a>(*<span class="keyword">this</span>, <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>, SA);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> != 0) {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SZExtD = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SResidual =</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(-<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), SA, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SZExtR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(SResidual, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(SZExtD, SZExtR,</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                          (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>),</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                          <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    }</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  }</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160; </div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SM = dyn_cast&lt;SCEVMulExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="comment">// zext((A * B * ...)&lt;nuw&gt;) --&gt; (zext(A) * zext(B) * ...)&lt;nuw&gt;</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="keywordflow">if</span> (SM-&gt;hasNoUnsignedWrap()) {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;      <span class="comment">// If the multiply does not unsign overflow then we can, by definition,</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      <span class="comment">// commute the zero extension with the multiply operation.</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Ops;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : SM-&gt;operands())</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        Ops.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    }</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160; </div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="comment">// zext(2^K * (trunc X to iN)) to iM -&gt;</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="comment">// 2^K * (zext(trunc X to i{N-K}) to iM)&lt;nuw&gt;</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="comment">// Proof:</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="comment">//     zext(2^K * (trunc X to iN)) to iM</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="comment">//   = zext((trunc X to iN) &lt;&lt; K) to iM</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="comment">//   = zext((trunc X to i{N-K}) &lt;&lt; K)&lt;nuw&gt; to iM</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="comment">//     (because shl removes the top K bits)</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="comment">//   = zext((2^K * (trunc X to i{N-K}))&lt;nuw&gt;) to iM</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="comment">//   = (2^K * (zext(trunc X to i{N-K}) to iM))&lt;nuw&gt;.</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="keywordflow">if</span> (SM-&gt;getNumOperands() == 2)</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MulLHS = dyn_cast&lt;SCEVConstant&gt;(SM-&gt;getOperand(0)))</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        <span class="keywordflow">if</span> (MulLHS-&gt;getAPInt().isPowerOf2())</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *TruncRHS = dyn_cast&lt;SCEVTruncateExpr&gt;(SM-&gt;getOperand(1))) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;            <span class="keywordtype">int</span> NewTruncBits = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(TruncRHS-&gt;getType()) -</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                               MulLHS-&gt;getAPInt().logBase2();</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            <a class="code" href="classllvm_1_1Type.html">Type</a> *NewTruncTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), NewTruncBits);</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(MulLHS, Ty),</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                    <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(TruncRHS-&gt;getOperand(), NewTruncTy), Ty),</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;          }</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  }</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="comment">// The cast wasn&#39;t folded; create an explicit cast node.</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="comment">// Recompute the insert position, as it may have been invalidated.</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP)) <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator),</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                                                   <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;}</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160; </div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l01931"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5"> 1931</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">ScalarEvolution::getSignExtendExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()) &lt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;         <span class="stringliteral">&quot;This is not an extending conversion!&quot;</span>);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;         <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isPointerTy() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t extend pointer!&quot;</span>);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  Ty = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ty);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160; </div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution_1_1FoldID.html">FoldID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1ScalarEvolution_1_1FoldID.html#a4ad50fbceef1c59b787444838aa5b79d">addInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.addPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.addPointer(Ty);</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <span class="keyword">auto</span> Iter = FoldCache.find(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordflow">if</span> (Iter != FoldCache.end())</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">return</span> Iter-&gt;second;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160; </div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a643b61ddaf17331f3ff1d4f85c7c9a23">getSignExtendExprImpl</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVSignExtendExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a7776be244c9a7e48a8533e8d25679022">insertFoldCacheEntry</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, FoldCache, FoldCacheUser);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;}</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a643b61ddaf17331f3ff1d4f85c7c9a23"> 1953</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a643b61ddaf17331f3ff1d4f85c7c9a23">ScalarEvolution::getSignExtendExprImpl</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                                                   <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()) &lt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;         <span class="stringliteral">&quot;This is not an extending conversion!&quot;</span>);</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(Ty) &amp;&amp; <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isPointerTy() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t extend pointer!&quot;</span>);</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  Ty = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ty);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160; </div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <span class="comment">// Fold if the operand is constant.</span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#aa342c9b3d47cd9bde63b80c83ead429b">ConstantExpr::getSExt</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue(), Ty)));</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160; </div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="comment">// sext(sext(x)) --&gt; sext(x)</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> = dyn_cast&lt;SCEVSignExtendExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>-&gt;getOperand(), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160; </div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="comment">// sext(zext(x)) --&gt; zext(x)</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *SZ = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(SZ-&gt;getOperand(), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160; </div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="comment">// Before doing any expensive analysis, check to see if we&#39;ve already</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="comment">// computed a SCEV for this Op and Ty.</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(Ty);</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP)) <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="comment">// Limit recursion depth.</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#acc4dac0533a40c07820a7df7b8f61178">MaxCastDepth</a>) {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator),</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                                                     <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160; </div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="comment">// sext(trunc(x)) --&gt; sext(x) or x or trunc(x)</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="comment">// It&#39;s possible the bits taken off by the truncate were all sign bits. If</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="comment">// so, we should be able to simplify this further.</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getOperand();</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordtype">unsigned</span> TruncBits = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getType());</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="keywordtype">unsigned</span> NewBits = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <span class="keywordflow">if</span> (CR.<a class="code" href="classllvm_1_1ConstantRange.html#a2bc441c8fe8dfeea5471f11d2d823ec1">truncate</a>(TruncBits).<a class="code" href="classllvm_1_1ConstantRange.html#a9c8872e25eeddcc398a41e003e7c3f55">signExtend</a>(NewBits).<a class="code" href="classllvm_1_1ConstantRange.html#aaca3a4d2b25c24b11179cbd01079b73c">contains</a>(</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;            CR.<a class="code" href="classllvm_1_1ConstantRange.html#aebc1456c2e4f9d6d95aa0b089b3df535">sextOrTrunc</a>(NewBits)))</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#af156ea88617d19e05470b8af2bb62dd9">getTruncateOrSignExtend</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  }</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160; </div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SA = dyn_cast&lt;SCEVAddExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="comment">// sext((A + B + ...)&lt;nsw&gt;) --&gt; (sext(A) + sext(B) + ...)&lt;nsw&gt;</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="keywordflow">if</span> (SA-&gt;hasNoSignedWrap()) {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      <span class="comment">// If the addition does not sign overflow then we can, by definition,</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      <span class="comment">// commute the sign extension with the addition operation.</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Ops;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : SA-&gt;operands())</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        Ops.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    }</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160; </div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="comment">// sext(C + x + y + ...) --&gt; (sext(D) + sext((C - D) + x + y + ...))</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="comment">// if D + (C - D + x + y + ...) could be proven to not signed wrap</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="comment">// where D maximizes the number of trailing zeros of (C - D + x + y + ...)</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="comment">// For instance, this will bring two seemingly different expressions:</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="comment">//     1 + sext(5 + 20 * %x + 24 * %y)  and</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="comment">//         sext(6 + 20 * %x + 24 * %y)</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="comment">// to the same form:</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <span class="comment">//     2 + sext(4 + 20 * %x + 24 * %y)</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(SA-&gt;getOperand(0))) {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <a class="code" href="ScalarEvolution_8cpp.html#ab1ecca94c1ac1a616d83f565a4aeaeae">extractConstantWithoutWrapping</a>(*<span class="keyword">this</span>, <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>, SA);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> != 0) {</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SSExtD = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SResidual =</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(-<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), SA, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SSExtR = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(SResidual, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(SSExtD, SSExtR,</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                          (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>),</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                          <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      }</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    }</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  }</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  <span class="comment">// If the input value is a chrec scev, and we can prove that the value</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  <span class="comment">// did not overflow the old, smaller, value, we can sign extend all of the</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="comment">// operands (often constants).  This allows analysis of something like</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  <span class="comment">// this:  for (signed char X = 0; X &lt; 100; ++X) { int Y = X; }</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;isAffine()) {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AR-&gt;getStart();</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;getStepRecurrence(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(AR-&gt;getType());</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;getLoop();</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160; </div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <span class="keywordflow">if</span> (!AR-&gt;hasNoSignedWrap()) {</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;        <span class="keyword">auto</span> NewFlags = proveNoWrapViaConstantRanges(AR);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), NewFlags);</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      }</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <span class="comment">// If we have special knowledge that this addrec won&#39;t overflow,</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <span class="comment">// we don&#39;t need to do any further analysis.</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      <span class="keywordflow">if</span> (AR-&gt;hasNoSignedWrap()) {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        Start =</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            getExtendAddRecStart&lt;SCEVSignExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      }</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      <span class="comment">// Check whether the backedge-taken count is SCEVCouldNotCompute.</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <span class="comment">// Note that this serves two purposes: It filters out loops that are</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      <span class="comment">// simply not analyzable, and it covers the case where this code is</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      <span class="comment">// being called from within backedge-taken count analysis, such that</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      <span class="comment">// attempting to ask for the backedge-taken count would likely result</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      <span class="comment">// in infinite recursion. In the later case, the analysis code will</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="comment">// cope with a conservative value, and it will take care to purge</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;      <span class="comment">// that value once it has finished.</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a80d7048687367a15d267ac5418b8a168">getConstantMaxBackedgeTakenCount</a>(L);</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(MaxBECount)) {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;        <span class="comment">// Manually compute the final value for AR, checking for</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        <span class="comment">// overflow.</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160; </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <span class="comment">// Check whether the backedge-taken count can be losslessly casted to</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        <span class="comment">// the addrec&#39;s type. The count is always unsigned.</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CastedMaxBECount =</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(MaxBECount, Start-&gt;getType(), <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RecastedMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">getTruncateOrZeroExtend</a>(</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            CastedMaxBECount, MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>(), <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        <span class="keywordflow">if</span> (MaxBECount == RecastedMaxBECount) {</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *WideTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> * 2);</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;          <span class="comment">// Check whether Start+Step*MaxBECount has no signed overflow.</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SMul = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(CastedMaxBECount, Step,</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                                        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SAdd = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Start, SMul,</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                                                          <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>,</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                                                          <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                                               WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *WideStart = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Start, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *WideMaxBECount =</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(CastedMaxBECount, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OperandExtendedAdd =</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(WideStart,</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                       <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(WideMaxBECount,</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                                  <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                                  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;          <span class="keywordflow">if</span> (SAdd == OperandExtendedAdd) {</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;            <span class="comment">// Cache knowledge of AR NSW, which is propagated to this AddRec.</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;            Start = getExtendAddRecStart&lt;SCEVSignExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>,</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                                                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;            Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;          }</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;          <span class="comment">// Similar to above, only this time treat the step value as unsigned.</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;          <span class="comment">// This covers loops that count up with an unsigned step.</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;          OperandExtendedAdd =</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(WideStart,</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                       <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(WideMaxBECount,</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                                  <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, WideTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                                  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;          <span class="keywordflow">if</span> (SAdd == OperandExtendedAdd) {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;            <span class="comment">// If AR wraps around then</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;            <span class="comment">//    abs(Step) * MaxBECount &gt; unsigned-max(AR-&gt;getType())</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            <span class="comment">// =&gt; SAdd != OperandExtendedAdd</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            <span class="comment">// Thus (AR is not NW =&gt; SAdd != OperandExtendedAdd) &lt;=&gt;</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            <span class="comment">// (SAdd == OperandExtendedAdd =&gt; AR is NW)</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160; </div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;            Start = getExtendAddRecStart&lt;SCEVSignExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>,</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                                                             <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;          }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      }</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keyword">auto</span> NewFlags = proveNoSignedWrapViaInduction(AR);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), NewFlags);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <span class="keywordflow">if</span> (AR-&gt;hasNoSignedWrap()) {</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <span class="comment">// Same as nsw case above - duplicated here to avoid a compile time</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="comment">// issue.  It&#39;s not clear that the order of checks does matter, but</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <span class="comment">// it&#39;s one of two issue possible causes for a change which was</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        <span class="comment">// reverted.  Be conservative for the moment.</span></div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        Start =</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            getExtendAddRecStart&lt;SCEVSignExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      }</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      <span class="comment">// sext({C,+,Step}) --&gt; (sext(D) + sext({C-D,+,Step}))&lt;nuw&gt;&lt;nsw&gt;</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      <span class="comment">// if D + (C - D + Step * n) could be proven to not signed wrap</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      <span class="comment">// where D maximizes the number of trailing zeros of (C - D + Step * n)</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(Start)) {</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getAPInt();</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <a class="code" href="ScalarEvolution_8cpp.html#ab1ecca94c1ac1a616d83f565a4aeaeae">extractConstantWithoutWrapping</a>(*<span class="keyword">this</span>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Step);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> != 0) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SSExtD = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SResidual =</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> - <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SSExtR = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(SResidual, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(SSExtD, SSExtR,</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                            (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>),</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                            <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        }</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      }</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <span class="keywordflow">if</span> (proveNoWrapByVaryingStart&lt;SCEVSignExtendExpr&gt;(Start, Step, L)) {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        Start =</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            getExtendAddRecStart&lt;SCEVSignExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, L, AR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      }</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160; </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <span class="comment">// If the input value is provably positive and we could not simplify</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <span class="comment">// away the sext build a zext instead.</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160; </div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <span class="comment">// The cast wasn&#39;t folded; create an explicit cast node.</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  <span class="comment">// Recompute the insert position, as it may have been invalidated.</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP)) <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator),</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;                                                   <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, { <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> });</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;}</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160; </div>
<div class="line"><a name="l02190"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a48216fb35fa09727a5717cd28faca9bf"> 2190</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a48216fb35fa09727a5717cd28faca9bf">ScalarEvolution::getCastExpr</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> Kind, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;                                         <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4f28ee6ec3dad0938d2660c56168d91d">getPtrToIntExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Not a SCEV cast expression!&quot;</span>);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;}</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="comment">/// getAnyExtendExpr - Return a SCEV for the given operand extended with</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<span class="comment">/// unspecified bits out to the given type.</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156"> 2208</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156">ScalarEvolution::getAnyExtendExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                                              <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()) &lt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;         <span class="stringliteral">&quot;This is not an extending conversion!&quot;</span>);</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;         <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  Ty = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ty);</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160; </div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  <span class="comment">// Sign-extend negative constants.</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getAPInt().isNegative())</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160; </div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="comment">// Peel off a truncate cast.</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="classT.html">T</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewOp = <a class="code" href="classT.html">T</a>-&gt;getOperand();</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(NewOp-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()) &lt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156">getAnyExtendExpr</a>(NewOp, Ty);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a426976cfd81411f49f7e5fe77ee4e3a4">getTruncateOrNoop</a>(NewOp, Ty);</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160; </div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="comment">// Next try a zext cast. If the cast is folded, use it.</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ZExt = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVZeroExtendExpr&gt;(ZExt))</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keywordflow">return</span> ZExt;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160; </div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="comment">// Next try a sext cast. If the cast is folded, use it.</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SExt = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVSignExtendExpr&gt;(SExt))</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">return</span> SExt;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160; </div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  <span class="comment">// Force the cast to be folded into the operands of an addrec.</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Ops;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : AR-&gt;operands())</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      Ops.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156">getAnyExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty));</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Ops, AR-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  }</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160; </div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <span class="comment">// If the expression is obviously signed, use the sext cast value.</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVSMaxExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="keywordflow">return</span> SExt;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160; </div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="comment">// Absent any other information, use the zext cast value.</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <span class="keywordflow">return</span> ZExt;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;}</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;<span class="comment">/// Process the given Ops list, which is a list of operands to be added under</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;<span class="comment">/// the given scale, update the given map. This is a helper function for</span></div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;<span class="comment">/// getAddRecExpr. As an example of what it does, given a sequence of operands</span></div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;<span class="comment">/// that would form an add expression like this:</span></div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;<span class="comment">///    m + n + 13 + (A * (o + p + (B * (q + m + 29)))) + r + (-1 * r)</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;<span class="comment">/// where A and B are constants, update the map with these values:</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;<span class="comment">///    (m, 1+A*B), (n, 1), (o, A), (p, A), (q, A*B), (r, 0)</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="comment">/// and add 13 + A*B*29 to AccumulatedConstant.</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="comment">/// This will allow getAddRecExpr to produce this:</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;<span class="comment">///    13+A*B*29 + n + (m * (1+A*B)) + ((o + p) * A) + (q * A*B)</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="comment">/// This form often exposes folding opportunities that are hidden in</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<span class="comment">/// the original operand list.</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;<span class="comment">/// Return true iff it appears that any interesting folding opportunities</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;<span class="comment">/// may be exposed. This helps getAddRecExpr short-circuit extra work in</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;<span class="comment">/// the common case where no interesting opportunities are present, and</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="comment">/// is also used as a check to avoid infinite recursion.</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ac35fc38fbd44402247db6ea32d4054f8"> 2279</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#ac35fc38fbd44402247db6ea32d4054f8">CollectAddOperandsWithScales</a>(<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, APInt&gt;</a> &amp;M,</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                             <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;NewOps,</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;                             <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;AccumulatedConstant,</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                             <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Scale,</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;                             <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <span class="keywordtype">bool</span> Interesting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160; </div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="comment">// Iterate over the add operands. They are sorted, with constants first.</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <span class="comment">// Pull a buried constant out to the outside.</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <span class="keywordflow">if</span> (Scale != 1 || AccumulatedConstant != 0 || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>())</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      Interesting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    AccumulatedConstant += Scale * <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPInt();</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  }</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160; </div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="comment">// Next comes everything else. We&#39;re especially interested in multiplies</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="comment">// here, but they&#39;re in the middle, so just visit the rest with one loop.</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="keywordflow">for</span> (; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = dyn_cast&lt;SCEVMulExpr&gt;(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> &amp;&amp; isa&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0))) {</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewScale =</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;          Scale * cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0))-&gt;getAPInt();</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() == 2 &amp;&amp; isa&lt;SCEVAddExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1))) {</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        <span class="comment">// A multiplication of a constant with another add; recurse.</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = cast&lt;SCEVAddExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1));</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        Interesting |=</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;          <a class="code" href="ScalarEvolution_8cpp.html#ac35fc38fbd44402247db6ea32d4054f8">CollectAddOperandsWithScales</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, NewOps, AccumulatedConstant,</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;                                       Add-&gt;operands(), NewScale, SE);</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <span class="comment">// A multiplication of a constant with some other value. Update</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <span class="comment">// the map.</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps(<a class="code" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">drop_begin</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>()));</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(MulOps);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        <span class="keyword">auto</span> Pair = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.insert({<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>, NewScale});</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;        <span class="keywordflow">if</span> (Pair.second) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;          NewOps.push_back(Pair.first-&gt;first);</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;          Pair.first-&gt;second += NewScale;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;          <span class="comment">// The map already had an entry for this value, which may indicate</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;          <span class="comment">// a folding opportunity.</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;          Interesting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        }</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      }</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      <span class="comment">// An ordinary operand. Update the map.</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      std::pair&lt;DenseMap&lt;const SCEV *, APInt&gt;::iterator, <span class="keywordtype">bool</span>&gt; Pair =</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.insert({Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], Scale});</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      <span class="keywordflow">if</span> (Pair.second) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        NewOps.push_back(Pair.first-&gt;first);</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        Pair.first-&gt;second += Scale;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;        <span class="comment">// The map already had an entry for this value, which may indicate</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        <span class="comment">// a folding opportunity.</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;        Interesting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      }</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    }</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  }</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160; </div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;  <span class="keywordflow">return</span> Interesting;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;}</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a267fd27cb9e177fa5f48cbb8828339a1"> 2342</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a267fd27cb9e177fa5f48cbb8828339a1">ScalarEvolution::willNotOverflow</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> BinOp, <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>,</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI) {</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *(<a class="code" href="classllvm_1_1ScalarEvolution.html#a3f0118e315585ef6debe98a13336ae75">ScalarEvolution</a>::*<a class="code" href="PPCReduceCRLogicals_8cpp.html#a5b2aa9d3f9f3a7b2d123fef7c5328b8f">Operation</a>)(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *,</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                                            <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>, <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="keywordflow">switch</span> (BinOp) {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unsupported binary op&quot;</span>);</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>:</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <a class="code" href="PPCReduceCRLogicals_8cpp.html#a5b2aa9d3f9f3a7b2d123fef7c5328b8f">Operation</a> = &amp;<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">ScalarEvolution::getAddExpr</a>;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <a class="code" href="PPCReduceCRLogicals_8cpp.html#a5b2aa9d3f9f3a7b2d123fef7c5328b8f">Operation</a> = &amp;<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">ScalarEvolution::getMinusSCEV</a>;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>:</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <a class="code" href="PPCReduceCRLogicals_8cpp.html#a5b2aa9d3f9f3a7b2d123fef7c5328b8f">Operation</a> = &amp;<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">ScalarEvolution::getMulExpr</a>;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  }</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160; </div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *(<a class="code" href="classllvm_1_1ScalarEvolution.html#a3f0118e315585ef6debe98a13336ae75">ScalarEvolution</a>::*Extension)(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *, <a class="code" href="classllvm_1_1Type.html">Type</a> *, <span class="keywordtype">unsigned</span>) =</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? &amp;<a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">ScalarEvolution::getSignExtendExpr</a></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;             : &amp;<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">ScalarEvolution::getZeroExtendExpr</a>;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160; </div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  <span class="comment">// Check ext(LHS op RHS) == ext(LHS) op ext(RHS)</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keyword">auto</span> *NarrowTy = cast&lt;IntegerType&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  <span class="keyword">auto</span> *WideTy =</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(NarrowTy-&gt;getContext(), NarrowTy-&gt;getBitWidth() * 2);</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160; </div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *A = (this-&gt;*Extension)(</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      (this-&gt;*<a class="code" href="PPCReduceCRLogicals_8cpp.html#a5b2aa9d3f9f3a7b2d123fef7c5328b8f">Operation</a>)(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, 0), WideTy, 0);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHSB = (this-&gt;*Extension)(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, WideTy, 0);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHSB = (this-&gt;*Extension)(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, WideTy, 0);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = (this-&gt;*<a class="code" href="PPCReduceCRLogicals_8cpp.html#a5b2aa9d3f9f3a7b2d123fef7c5328b8f">Operation</a>)(LHSB, RHSB, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, 0);</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="keywordflow">if</span> (A == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  <span class="comment">// Can we use context to prove the fact we need?</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <span class="keywordflow">if</span> (!CtxI)</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="comment">// We can prove that add(x, constant) doesn&#39;t wrap if isKnownPredicateAt can</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="comment">// guarantee that x &lt;= max_int - constant at the given context.</span></div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <span class="comment">// TODO: Support other operations.</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <span class="keywordflow">if</span> (BinOp != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>)</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="keyword">auto</span> *RHSC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="comment">// TODO: Lift this limitation.</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="keywordflow">if</span> (!RHSC)</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = RHSC-&gt;getAPInt();</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  <span class="comment">// TODO: Also lift this limitation.</span></div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isNegative())</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="keywordtype">unsigned</span> NumBits = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>();</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Max =</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;      <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(NumBits) : <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(NumBits);</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Limit = Max - <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4daf873f99d8d423c92a951331de5185">isKnownPredicateAt</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Limit), CtxI);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;}</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160; </div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;std::optional&lt;SCEV::NoWrapFlags&gt;</div>
<div class="line"><a name="l02402"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aa6a8e1063693697569fead19a720c43c"> 2402</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#aa6a8e1063693697569fead19a720c43c">ScalarEvolution::getStrengthenedNoWrapFlagsFromBinOp</a>(</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1OverflowingBinaryOperator.html">OverflowingBinaryOperator</a> *OBO) {</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="comment">// It cannot be done any better.</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  <span class="keywordflow">if</span> (OBO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#a95474ea140862464db7ea0580f01eae9">hasNoUnsignedWrap</a>() &amp;&amp; OBO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#a7876c618729b8764493aa340b53b574f">hasNoSignedWrap</a>())</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160; </div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags = SCEV::NoWrapFlags::FlagAnyWrap;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160; </div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="keywordflow">if</span> (OBO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#a95474ea140862464db7ea0580f01eae9">hasNoUnsignedWrap</a>())</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <span class="keywordflow">if</span> (OBO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#a7876c618729b8764493aa340b53b574f">hasNoSignedWrap</a>())</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160; </div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <span class="keywordtype">bool</span> Deduced = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160; </div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <span class="keywordflow">if</span> (OBO-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>() != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a> &amp;&amp;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;      OBO-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>() != Instruction::Sub &amp;&amp;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      OBO-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>() != <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>)</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160; </div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(OBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(OBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1));</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160; </div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI =</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#a1b7a754f3ce34da7cb63a4bbb6259ba8">UseContextForNoWrapFlagInference</a> ? dyn_cast&lt;Instruction&gt;(OBO) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  <span class="keywordflow">if</span> (!OBO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#a95474ea140862464db7ea0580f01eae9">hasNoUnsignedWrap</a>() &amp;&amp;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a267fd27cb9e177fa5f48cbb8828339a1">willNotOverflow</a>((<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)OBO-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>(),</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;                      <span class="comment">/* Signed */</span> <span class="keyword">false</span>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CtxI)) {</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    Deduced = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  }</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160; </div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="keywordflow">if</span> (!OBO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#a7876c618729b8764493aa340b53b574f">hasNoSignedWrap</a>() &amp;&amp;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a267fd27cb9e177fa5f48cbb8828339a1">willNotOverflow</a>((<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)OBO-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>(),</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                      <span class="comment">/* Signed */</span> <span class="keyword">true</span>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CtxI)) {</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    Deduced = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;  }</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160; </div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  <span class="keywordflow">if</span> (Deduced)</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    <span class="keywordflow">return</span> Flags;</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;}</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160; </div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;<span class="comment">// We&#39;re trying to construct a SCEV of type `Type&#39; with `Ops&#39; as operands and</span></div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="comment">// `OldFlags&#39; as can&#39;t-wrap behavior.  Infer a more aggressive set of</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;<span class="comment">// can&#39;t-overflow flags for the operation if possible.</span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a></div>
<div class="line"><a name="l02450"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ae99f51fb7f4e120a8ebeb76e3c53cf2b"> 2450</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#ae99f51fb7f4e120a8ebeb76e3c53cf2b">StrengthenNoWrapFlags</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> <a class="code" href="classllvm_1_1Type.html">Type</a>,</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops,</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                      <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags) {</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  <span class="keyword">using namespace </span>std::placeholders;</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160; </div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <span class="keyword">using</span> OBO = <a class="code" href="classllvm_1_1OverflowingBinaryOperator.html">OverflowingBinaryOperator</a>;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160; </div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  <span class="keywordtype">bool</span> CanAnalyze =</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a> || <a class="code" href="classllvm_1_1Type.html">Type</a> == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a> || <a class="code" href="classllvm_1_1Type.html">Type</a> == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  (void)CanAnalyze;</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CanAnalyze &amp;&amp; <span class="stringliteral">&quot;don&#39;t call from other places!&quot;</span>);</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160; </div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="keywordtype">int</span> SignOrUnsignMask = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> SignOrUnsignWrap =</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">ScalarEvolution::maskFlags</a>(Flags, SignOrUnsignMask);</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160; </div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="comment">// If FlagNSW is true and all the operands are non-negative, infer FlagNUW.</span></div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keyword">auto</span> IsKnownNonNegative = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  };</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160; </div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="keywordflow">if</span> (SignOrUnsignWrap == <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> &amp;&amp; <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Ops, IsKnownNonNegative))</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    Flags =</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)SignOrUnsignMask);</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160; </div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  SignOrUnsignWrap = <a class="code" href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">ScalarEvolution::maskFlags</a>(Flags, SignOrUnsignMask);</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="keywordflow">if</span> (SignOrUnsignWrap != SignOrUnsignMask &amp;&amp;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;      (<a class="code" href="classllvm_1_1Type.html">Type</a> == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a> || <a class="code" href="classllvm_1_1Type.html">Type</a> == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>) &amp;&amp; Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 2 &amp;&amp;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      isa&lt;SCEVConstant&gt;(Ops[0])) {</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160; </div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keyword">auto</span> Opcode = [&amp;] {</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Type.html">Type</a>) {</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected SCEV op.&quot;</span>);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      }</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    }();</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160; </div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = cast&lt;SCEVConstant&gt;(Ops[0])-&gt;getAPInt();</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160; </div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    <span class="comment">// (A &lt;opcode&gt; C) --&gt; (A &lt;opcode&gt; C)&lt;nsw&gt; if the op doesn&#39;t sign overflow.</span></div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="keywordflow">if</span> (!(SignOrUnsignWrap &amp; <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>)) {</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;      <span class="keyword">auto</span> NSWRegion = <a class="code" href="classllvm_1_1ConstantRange.html#ace208c0bd1d845fe49f319be6a954764">ConstantRange::makeGuaranteedNoWrapRegion</a>(</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;          Opcode, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, OBO::NoSignedWrap);</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;      <span class="keywordflow">if</span> (NSWRegion.contains(SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(Ops[1])))</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    }</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160; </div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="comment">// (A &lt;opcode&gt; C) --&gt; (A &lt;opcode&gt; C)&lt;nuw&gt; if the op doesn&#39;t unsign overflow.</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    <span class="keywordflow">if</span> (!(SignOrUnsignWrap &amp; <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>)) {</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;      <span class="keyword">auto</span> NUWRegion = <a class="code" href="classllvm_1_1ConstantRange.html#ace208c0bd1d845fe49f319be6a954764">ConstantRange::makeGuaranteedNoWrapRegion</a>(</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;          Opcode, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, OBO::NoUnsignedWrap);</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      <span class="keywordflow">if</span> (NUWRegion.contains(SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(Ops[1])))</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    }</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;  }</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160; </div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  <span class="comment">// &lt;0,+,nonnegative&gt;&lt;nw&gt; is also nuw</span></div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;  <span class="comment">// TODO: Add corresponding nsw case</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Type.html">Type</a> == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a> &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a0410d63819514e3062a73eb48a5ecc82">ScalarEvolution::hasFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>) &amp;&amp;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      !<a class="code" href="classllvm_1_1ScalarEvolution.html#a0410d63819514e3062a73eb48a5ecc82">ScalarEvolution::hasFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>) &amp;&amp; Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 2 &amp;&amp;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;      Ops[0]-&gt;isZero() &amp;&amp; IsKnownNonNegative(Ops[1]))</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160; </div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  <span class="comment">// both (udiv X, Y) * Y and Y * (udiv X, Y) are always NUW</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Type.html">Type</a> == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a> &amp;&amp; !<a class="code" href="classllvm_1_1ScalarEvolution.html#a0410d63819514e3062a73eb48a5ecc82">ScalarEvolution::hasFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>) &amp;&amp;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 2) {</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *UDiv = dyn_cast&lt;SCEVUDivExpr&gt;(Ops[0]))</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      <span class="keywordflow">if</span> (UDiv-&gt;getOperand(1) == Ops[1])</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;        Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *UDiv = dyn_cast&lt;SCEVUDivExpr&gt;(Ops[1]))</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;      <span class="keywordflow">if</span> (UDiv-&gt;getOperand(1) == Ops[0])</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  }</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160; </div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordflow">return</span> Flags;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;}</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160; </div>
<div class="line"><a name="l02532"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85"> 2532</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">ScalarEvolution::isAvailableAtLoopEntry</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, L) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#ae0d036af111b8aafe90db0771b8e9ce3">properlyDominates</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>());</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;}</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;<span class="comment">/// Get a canonical add expression, or something simpler if possible.</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320"> 2537</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">ScalarEvolution::getAddExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops,</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;                                        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> OrigFlags,</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                                        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(OrigFlags &amp; ~(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>)) &amp;&amp;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;         <span class="stringliteral">&quot;only nuw or nsw allowed&quot;</span>);</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Ops.empty() &amp;&amp; <span class="stringliteral">&quot;Cannot get empty add!&quot;</span>);</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ops[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()) == ETy &amp;&amp;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;           <span class="stringliteral">&quot;SCEVAddExpr operand types don&#39;t match!&quot;</span>);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="keywordtype">unsigned</span> NumPtrs = <a class="code" href="namespacellvm.html#ac214df91cdc242f4710ea5a93939c678">count_if</a>(</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;      Ops, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isPointerTy(); });</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumPtrs &lt;= 1 &amp;&amp; <span class="stringliteral">&quot;add has at most one pointer operand&quot;</span>);</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160; </div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="comment">// Sort by complexity, this groups all similar expression types together.</span></div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <a class="code" href="ScalarEvolution_8cpp.html#a4d43163acfcdefe57d402dab3640d8be">GroupByComplexity</a>(Ops, &amp;LI, DT);</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160; </div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="comment">// If there are any constants, fold them together.</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 0;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[0])) {</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    ++Idx;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx &lt; Ops.size());</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[Idx])) {</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <span class="comment">// We found two constants, fold them together!</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      Ops[0] = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(LHSC-&gt;getAPInt() + RHSC-&gt;getAPInt());</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;      <span class="keywordflow">if</span> (Ops.size() == 2) <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+1);  <span class="comment">// Erase the folded element</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      LHSC = cast&lt;SCEVConstant&gt;(Ops[0]);</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    }</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160; </div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="comment">// If we are left with a constant zero being added, strip it off.</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    <span class="keywordflow">if</span> (LHSC-&gt;getValue()-&gt;isZero()) {</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin());</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;      --Idx;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    }</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160; </div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  }</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  <span class="comment">// Delay expensive flag strengthening until necessary.</span></div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="keyword">auto</span> ComputeFlags = [<span class="keyword">this</span>, OrigFlags](<span class="keyword">const</span> <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops) {</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#ae99f51fb7f4e120a8ebeb76e3c53cf2b">StrengthenNoWrapFlags</a>(<span class="keyword">this</span>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>, Ops, OrigFlags);</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  };</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160; </div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <span class="comment">// Limit recursion calls depth.</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#a28af07babf7598fa1f9f5710acf863c9">MaxArithDepth</a> || <a class="code" href="ScalarEvolution_8cpp.html#a81a7153270eb1fafa4502adc85f49adf">hasHugeExpression</a>(Ops))</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <span class="keywordflow">return</span> getOrCreateAddExpr(Ops, ComputeFlags(Ops));</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; </div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = findExistingSCEVInCache(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>, Ops)) {</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <span class="comment">// Don&#39;t strengthen flags if we have no new information.</span></div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *<span class="keyword">&gt;</span>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    <span class="keywordflow">if</span> (Add-&gt;getNoWrapFlags(OrigFlags) != OrigFlags)</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      Add-&gt;setNoWrapFlags(ComputeFlags(Ops));</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  }</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160; </div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <span class="comment">// Okay, check to see if the same value occurs in the operand list more than</span></div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <span class="comment">// once.  If so, merge them together into an multiply expression.  Since we</span></div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  <span class="comment">// sorted the list, these values are required to be adjacent.</span></div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = Ops[0]-&gt;getType();</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="keywordtype">bool</span> FoundMatch = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>-1; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    <span class="keywordflow">if</span> (Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1]) {      <span class="comment">//  X + Y + Y  --&gt;  X + Y*2</span></div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;      <span class="comment">// Scan ahead to count how many equal operands there are.</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;      <span class="keywordtype">unsigned</span> Count = 2;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+Count != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> &amp;&amp; Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+Count] == Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        ++Count;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;      <span class="comment">// Merge the values into a multiply.</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Scale = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Ty, Count);</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Scale, Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      <span class="keywordflow">if</span> (Ops.size() == Count)</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;      Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1, Ops.begin()+<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+Count);</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;      --<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> -= Count - 1;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      FoundMatch = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    }</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordflow">if</span> (FoundMatch)</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops, OrigFlags, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160; </div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <span class="comment">// Check for truncates. If all the operands are truncated from the same</span></div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <span class="comment">// type, see if factoring out the truncate would permit the result to be</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="comment">// folded. eg., n*trunc(x) + m*trunc(y) --&gt; trunc(trunc(m)*x + trunc(n)*y)</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <span class="comment">// if the contents of the resulting outer trunc fold to something simple.</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="keyword">auto</span> FindTruncSrcType = [&amp;]() -&gt; <a class="code" href="classllvm_1_1Type.html">Type</a> * {</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <span class="comment">// We&#39;re ultimately looking to fold an addrec of truncs and muls of only</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <span class="comment">// constants and truncs, so if we find any other types of SCEV</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    <span class="comment">// as operands of the addrec then we bail and return nullptr here.</span></div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="comment">// Otherwise, we return the type of the operand of a trunc that we find.</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="classT.html">T</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(Ops[Idx]))</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classT.html">T</a>-&gt;getOperand()-&gt;getType();</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = dyn_cast&lt;SCEVMulExpr&gt;(Ops[Idx])) {</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *LastOp = <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() - 1);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="classT.html">T</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(LastOp))</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classT.html">T</a>-&gt;getOperand()-&gt;getType();</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    }</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  };</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SrcType = FindTruncSrcType()) {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> LargeOps;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <span class="keywordtype">bool</span> Ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <span class="comment">// Check all the operands to see if they can be represented in the</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <span class="comment">// source type of the truncate.</span></div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="classT.html">T</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>-&gt;getOperand()-&gt;getType() != SrcType) {</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;          Ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;        }</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;        LargeOps.push_back(<a class="code" href="classT.html">T</a>-&gt;getOperand());</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;        LargeOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156">getAnyExtendExpr</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, SrcType));</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = dyn_cast&lt;SCEVMulExpr&gt;(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> LargeMulOps;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0, <a class="code" href="include_2llvm_2Demangle_2README_8txt.html#a9d56f6c541a0ab888755f9bc198b8eca">f</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != <a class="code" href="include_2llvm_2Demangle_2README_8txt.html#a9d56f6c541a0ab888755f9bc198b8eca">f</a> &amp;&amp; Ok; ++<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="classT.html">T</a> =</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                dyn_cast&lt;SCEVTruncateExpr&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>))) {</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>-&gt;getOperand()-&gt;getType() != SrcType) {</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;              Ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;            }</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;            LargeMulOps.push_back(<a class="code" href="classT.html">T</a>-&gt;getOperand());</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>))) {</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;            LargeMulOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156">getAnyExtendExpr</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, SrcType));</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;            Ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;          }</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        }</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        <span class="keywordflow">if</span> (Ok)</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;          LargeOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(LargeMulOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;        Ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;      }</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    }</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    <span class="keywordflow">if</span> (Ok) {</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <span class="comment">// Evaluate the expression in the larger type.</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Fold = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(LargeOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      <span class="comment">// If it folds to something simple, use it. Otherwise, don&#39;t.</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(Fold) || isa&lt;SCEVUnknown&gt;(Fold))</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(Fold, Ty);</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    }</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  }</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160; </div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <span class="keywordflow">if</span> (Ops.size() == 2) {</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <span class="comment">// Check if we have an expression of the form ((X + C1) - C2), where C1 and</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <span class="comment">// C2 can be folded in a way that allows retaining wrapping flags of (X +</span></div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <span class="comment">// C1).</span></div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *A = Ops[0];</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = Ops[1];</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="keyword">auto</span> *AddExpr = dyn_cast&lt;SCEVAddExpr&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(A);</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="keywordflow">if</span> (AddExpr &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; isa&lt;SCEVConstant&gt;(AddExpr-&gt;getOperand(0))) {</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      <span class="keyword">auto</span> <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = cast&lt;SCEVConstant&gt;(AddExpr-&gt;getOperand(0))-&gt;getAPInt();</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;      <span class="keyword">auto</span> C2 = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPInt();</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;      <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> PreservedFlags = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160; </div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> ConstAdd = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> + C2;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;      <span class="keyword">auto</span> AddFlags = AddExpr-&gt;getNoWrapFlags();</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      <span class="comment">// Adding a smaller constant is NUW if the original AddExpr was NUW.</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a0410d63819514e3062a73eb48a5ecc82">ScalarEvolution::hasFlags</a>(AddFlags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>) &amp;&amp;</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;          ConstAdd.<a class="code" href="classllvm_1_1APInt.html#aca14d9ec64ba4ab7fb2cef37c57d9ce4">ule</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)) {</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;        PreservedFlags =</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(PreservedFlags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      }</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160; </div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;      <span class="comment">// Adding a constant with the same sign and small magnitude is NSW, if the</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;      <span class="comment">// original AddExpr was NSW.</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a0410d63819514e3062a73eb48a5ecc82">ScalarEvolution::hasFlags</a>(AddFlags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>) &amp;&amp;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;          <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.isSignBitSet() == ConstAdd.<a class="code" href="classllvm_1_1APInt.html#ada19a89b7c62ce0bb713a7254b002445">isSignBitSet</a>() &amp;&amp;</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;          ConstAdd.<a class="code" href="classllvm_1_1APInt.html#a38e964f0cadf077725453884734a6c99">abs</a>().<a class="code" href="classllvm_1_1APInt.html#aca14d9ec64ba4ab7fb2cef37c57d9ce4">ule</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.abs())) {</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;        PreservedFlags =</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(PreservedFlags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      }</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160; </div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;      <span class="keywordflow">if</span> (PreservedFlags != <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>) {</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> NewOps(AddExpr-&gt;operands());</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        NewOps[0] = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(ConstAdd);</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(NewOps, PreservedFlags);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;      }</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    }</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  }</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160; </div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  <span class="comment">// Canonicalize (-1 * urem X, Y) + X --&gt; (Y * X/Y)</span></div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  <span class="keywordflow">if</span> (Ops.size() == 2) {</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = dyn_cast&lt;SCEVMulExpr&gt;(Ops[0]);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() == 2 &amp;&amp;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;isAllOnesValue()) {</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;      <span class="keywordflow">if</span> (matchURem(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>) &amp;&amp; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> == Ops[1]) {</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>));</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;      }</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    }</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;  }</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160; </div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  <span class="comment">// Skip past any other cast SCEVs.</span></div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.size() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>)</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    ++Idx;</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160; </div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="comment">// If there are add operands they would be next.</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; Ops.size()) {</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <span class="keywordtype">bool</span> DeletedAdd = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <span class="comment">// If the original flags and all inlined SCEVAddExprs are NUW, use the</span></div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <span class="comment">// common NUW flag for expression after inlining. Other flags cannot be</span></div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <span class="comment">// preserved, because they may depend on the original order of operations.</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> CommonFlags = <a class="code" href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">maskFlags</a>(OrigFlags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(Ops[Idx])) {</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;      <span class="keywordflow">if</span> (Ops.size() &gt; <a class="code" href="ScalarEvolution_8cpp.html#ab600d14b30e63c2a896ab73847d36036">AddOpsInlineThreshold</a> ||</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;          Add-&gt;getNumOperands() &gt; <a class="code" href="ScalarEvolution_8cpp.html#ab600d14b30e63c2a896ab73847d36036">AddOpsInlineThreshold</a>)</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;      <span class="comment">// If we have an add, expand the add operands onto the end of the operands</span></div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;      <span class="comment">// list.</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+Idx);</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(Ops, Add-&gt;operands());</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;      DeletedAdd = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;      CommonFlags = <a class="code" href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">maskFlags</a>(CommonFlags, Add-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    }</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160; </div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    <span class="comment">// If we deleted at least one add, we added operands to the end of the list,</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <span class="comment">// and they are not necessarily sorted.  Recurse to resort and resimplify</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="comment">// any operands we just acquired.</span></div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="keywordflow">if</span> (DeletedAdd)</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops, CommonFlags, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;  }</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160; </div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <span class="comment">// Skip over the add expression until we get to a multiply.</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.size() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>)</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    ++Idx;</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160; </div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  <span class="comment">// Check to see if there are any folding opportunities present with</span></div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="comment">// operands multiplied by constant values.</span></div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; Ops.size() &amp;&amp; isa&lt;SCEVMulExpr&gt;(Ops[Idx])) {</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty);</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, APInt&gt;</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> NewOps;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> AccumulatedConstant(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0);</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#ac35fc38fbd44402247db6ea32d4054f8">CollectAddOperandsWithScales</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, NewOps, AccumulatedConstant,</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;                                     Ops, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 1), *<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;      <span class="keyword">struct </span>APIntCompare {</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;        <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.ult(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;        }</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      };</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160; </div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      <span class="comment">// Some interesting folding opportunity is present, so its worthwhile to</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      <span class="comment">// re-generate the operands list. Group the operands by constant scale,</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;      <span class="comment">// to avoid multiplying by the same constant scale multiple times.</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;      std::map&lt;APInt, SmallVector&lt;const SCEV *, 4&gt;, APIntCompare&gt; MulOpLists;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewOp : NewOps)</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;        MulOpLists[<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.find(NewOp)-&gt;second].push_back(NewOp);</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;      <span class="comment">// Re-generate the operands list.</span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;      <span class="keywordflow">if</span> (AccumulatedConstant != 0)</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;        Ops.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(AccumulatedConstant));</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;MulOp : MulOpLists) {</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;        <span class="keywordflow">if</span> (MulOp.first == 1) {</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;          Ops.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(MulOp.second, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MulOp.first != 0) {</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;          Ops.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(MulOp.first),</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(MulOp.second, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;              <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;        }</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;      }</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;      <span class="keywordflow">if</span> (Ops.empty())</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(Ty);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;      <span class="keywordflow">if</span> (Ops.size() == 1)</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;        <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    }</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;  }</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160; </div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  <span class="comment">// If we are adding something to a multiply expression, make sure the</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  <span class="comment">// something is not already an operand of the multiply.  If so, merge it into</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  <span class="comment">// the multiply.</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <span class="keywordflow">for</span> (; Idx &lt; Ops.size() &amp;&amp; isa&lt;SCEVMulExpr&gt;(Ops[Idx]); ++Idx) {</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = cast&lt;SCEVMulExpr&gt;(Ops[Idx]);</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> MulOp = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>(); MulOp != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++MulOp) {</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MulOpSCEV = <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(MulOp);</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(MulOpSCEV))</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> AddOp = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); AddOp != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++AddOp)</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;        <span class="keywordflow">if</span> (MulOpSCEV == Ops[AddOp]) {</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;          <span class="comment">// Fold W + X + (X * Y * Z)  --&gt;  W + (X * ((Y*Z)+1))</span></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InnerMul = <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(MulOp == 0);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() != 2) {</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;            <span class="comment">// If the multiply has more than two operands, we must get the</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;            <span class="comment">// Y*Z term.</span></div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;            <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps(</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;                <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>().take_front(MulOp));</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;            <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(MulOps, <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>().drop_front(MulOp + 1));</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;            InnerMul = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(MulOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;          }</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> TwoOps = {<a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(Ty), InnerMul};</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *AddOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(TwoOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OuterMul = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(AddOne, MulOpSCEV,</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                                            <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;          <span class="keywordflow">if</span> (Ops.size() == 2) <span class="keywordflow">return</span> OuterMul;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;          <span class="keywordflow">if</span> (AddOp &lt; Idx) {</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+AddOp);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+Idx-1);</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+Idx);</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+AddOp-1);</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;          }</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;          Ops.push_back(OuterMul);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;        }</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; </div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;      <span class="comment">// Check this multiply against other multiplies being added together.</span></div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OtherMulIdx = Idx+1;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;           OtherMulIdx &lt; Ops.size() &amp;&amp; isa&lt;SCEVMulExpr&gt;(Ops[OtherMulIdx]);</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;           ++OtherMulIdx) {</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *OtherMul = cast&lt;SCEVMulExpr&gt;(Ops[OtherMulIdx]);</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;        <span class="comment">// If MulOp occurs in OtherMul, we can fold the two multiplies</span></div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;        <span class="comment">// together.</span></div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OMulOp = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>();</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;             OMulOp != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++OMulOp)</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;          <span class="keywordflow">if</span> (OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(OMulOp) == MulOpSCEV) {</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;            <span class="comment">// Fold X + (A*B*C) + (A*D*E) --&gt; X + (A*(B*C+D*E))</span></div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InnerMul1 = <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(MulOp == 0);</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() != 2) {</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;              <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps(</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                  <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>().take_front(MulOp));</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;              <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(MulOps, <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>().drop_front(MulOp+1));</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;              InnerMul1 = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(MulOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;            }</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InnerMul2 = OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(OMulOp == 0);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;            <span class="keywordflow">if</span> (OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>() != 2) {</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;              <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps(</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                  OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>().take_front(OMulOp));</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;              <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(MulOps, OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>().drop_front(OMulOp+1));</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;              InnerMul2 = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(MulOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;            }</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;            <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> TwoOps = {InnerMul1, InnerMul2};</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InnerMulSum =</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;                <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(TwoOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OuterMul = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(MulOpSCEV, InnerMulSum,</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;                                              <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;            <span class="keywordflow">if</span> (Ops.size() == 2) <span class="keywordflow">return</span> OuterMul;</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+Idx);</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+OtherMulIdx-1);</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;            Ops.push_back(OuterMul);</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;          }</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;      }</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    }</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  }</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160; </div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="comment">// If there are any add recurrences in the operands list, see if any other</span></div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="comment">// added values are loop invariant.  If so, we can fold them into the</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="comment">// recurrence.</span></div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.size() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>)</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    ++Idx;</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160; </div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <span class="comment">// Scan over all recurrences, trying to fold loop invariants into them.</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <span class="keywordflow">for</span> (; Idx &lt; Ops.size() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[Idx]); ++Idx) {</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    <span class="comment">// Scan all of the other operands to this add and add them to the vector if</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <span class="comment">// they are loop invariant w.r.t. the recurrence.</span></div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> LIOps;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = cast&lt;SCEVAddRecExpr&gt;(Ops[Idx]);</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *AddRecLoop = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>();</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], AddRecLoop)) {</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;        LIOps.push_back(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;        Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;        --<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      }</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160; </div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="comment">// If we found some loop invariants, fold them into the recurrence.</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    <span class="keywordflow">if</span> (!LIOps.empty()) {</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;      <span class="comment">// Compute nowrap flags for the addition of the loop-invariant ops and</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;      <span class="comment">// the addrec. Temporarily push it as an operand for that purpose. These</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;      <span class="comment">// flags are valid in the scope of the addrec only.</span></div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;      LIOps.push_back(AddRec);</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;      <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags = ComputeFlags(LIOps);</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;      LIOps.pop_back();</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160; </div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;      <span class="comment">//  NLI + LI + {Start,+,Step}  --&gt;  NLI + {LI+Start,+,Step}</span></div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;      LIOps.push_back(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>());</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160; </div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> AddRecOps(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>());</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160; </div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;      <span class="comment">// It is not in general safe to propagate flags valid on an add within</span></div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;      <span class="comment">// the addrec scope to one outside it.  We must prove that the inner</span></div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;      <span class="comment">// scope is guaranteed to execute if the outer one does to be able to</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;      <span class="comment">// safely propagate.  We know the program is undefined if poison is</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;      <span class="comment">// produced on the inner scoped addrec.  We also know that *for this use*</span></div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;      <span class="comment">// the outer scoped add can&#39;t overflow (because of the flags we just</span></div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;      <span class="comment">// computed for the inner scoped add) without the program being undefined.</span></div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;      <span class="comment">// Proving that entry to the outer scope neccesitates entry to the inner</span></div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;      <span class="comment">// scope, thus proves the program undefined if the flags would be violated</span></div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;      <span class="comment">// in the outer scope.</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;      <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> AddFlags = Flags;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;      <span class="keywordflow">if</span> (AddFlags != <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>) {</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;        <span class="keyword">auto</span> *DefI = getDefiningScopeBound(LIOps);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;        <span class="keyword">auto</span> *ReachI = &amp;*AddRecLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        <span class="keywordflow">if</span> (!isGuaranteedToTransferExecutionTo(DefI, ReachI))</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;          AddFlags = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;      }</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;      AddRecOps[0] = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(LIOps, AddFlags, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160; </div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;      <span class="comment">// Build the new addrec. Propagate the NUW and NSW flags if both the</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;      <span class="comment">// outer add and the inner addrec are guaranteed to have no overflow.</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;      <span class="comment">// Always propagate NW.</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;      Flags = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>));</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewRec = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(AddRecOps, AddRecLoop, Flags);</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160; </div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;      <span class="comment">// If all of the other operands were loop invariant, we are done.</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;      <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> NewRec;</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160; </div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;      <span class="comment">// Otherwise, add the folded AddRec by the non-invariant parts.</span></div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;        <span class="keywordflow">if</span> (Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == AddRec) {</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;          Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = NewRec;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;        }</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    }</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160; </div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    <span class="comment">// Okay, if there weren&#39;t any loop invariants to be folded, check to see if</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    <span class="comment">// there are multiple AddRec&#39;s with the same loop induction variable being</span></div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    <span class="comment">// added together.  If so, we can fold them.</span></div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OtherIdx = Idx+1;</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;         OtherIdx &lt; Ops.size() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]);</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;         ++OtherIdx) {</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;      <span class="comment">// We expect the AddRecExpr&#39;s to be sorted in reverse dominance order,</span></div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;      <span class="comment">// so that the 1st found AddRecExpr is dominated by all others.</span></div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;           cast&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx])-&gt;getLoop()-&gt;getHeader(),</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;           AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()) &amp;&amp;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;        <span class="stringliteral">&quot;AddRecExprs are not sorted in reverse dominance order?&quot;</span>);</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;      <span class="keywordflow">if</span> (AddRecLoop == cast&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx])-&gt;getLoop()) {</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;        <span class="comment">// Other + {A,+,B}&lt;L&gt; + {C,+,D}&lt;L&gt;  --&gt;  Other + {A+C,+,B+D}&lt;L&gt;</span></div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> AddRecOps(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>());</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;        <span class="keywordflow">for</span> (; OtherIdx != Ops.size() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;             ++OtherIdx) {</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> *OtherAddRec = cast&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]);</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;          <span class="keywordflow">if</span> (OtherAddRec-&gt;getLoop() == AddRecLoop) {</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = OtherAddRec-&gt;getNumOperands();</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;                 <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= AddRecOps.size()) {</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;                <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(AddRecOps, OtherAddRec-&gt;operands().drop_front(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;              }</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;              <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> TwoOps = {</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                  AddRecOps[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], OtherAddRec-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)};</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;              AddRecOps[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(TwoOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;            }</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin() + OtherIdx); --OtherIdx;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;          }</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;        }</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        <span class="comment">// Step size has changed, so we cannot guarantee no self-wraparound.</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;        Ops[Idx] = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(AddRecOps, AddRecLoop, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;      }</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    }</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160; </div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="comment">// Otherwise couldn&#39;t fold anything into this recurrence.  Move onto the</span></div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <span class="comment">// next one.</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;  }</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160; </div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;  <span class="comment">// Okay, it looks like we really DO need an add expr.  Check to see if we</span></div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  <span class="keywordflow">return</span> getOrCreateAddExpr(Ops, ComputeFlags(Ops));</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;}</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160; </div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;ScalarEvolution::getOrCreateAddExpr(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops,</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                                    <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags) {</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>);</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Ops)</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;  <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *<span class="keyword">&gt;</span>(UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP));</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = SCEVAllocator.<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html#af050e9702e6ff2b745dc4d2afd0963cf">Allocate</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Ops.size());</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    std::uninitialized_copy(Ops.begin(), Ops.end(), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>);</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator)</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;        <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, Ops.size());</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, Ops);</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  }</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setNoWrapFlags(Flags);</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;}</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160; </div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;ScalarEvolution::getOrCreateAddRecExpr(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops,</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags) {</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Ops)</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(L);</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;  <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP));</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = SCEVAllocator.<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html#af050e9702e6ff2b745dc4d2afd0963cf">Allocate</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Ops.size());</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    std::uninitialized_copy(Ops.begin(), Ops.end(), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>);</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator)</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;        <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, Ops.size(), L);</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    LoopUsers[L].push_back(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, Ops);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  }</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, Flags);</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;}</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160; </div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;ScalarEvolution::getOrCreateMulExpr(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops,</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                                    <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags) {</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Ops)</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;  <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<span class="keyword">&gt;</span>(UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP));</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = SCEVAllocator.<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html#af050e9702e6ff2b745dc4d2afd0963cf">Allocate</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Ops.size());</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    std::uninitialized_copy(Ops.begin(), Ops.end(), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>);</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator),</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;                                        <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, Ops.size());</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, Ops);</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  }</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setNoWrapFlags(Flags);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;}</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160; </div>
<div class="line"><a name="l03077"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0"> 3077</a></span>&#160;<span class="keyword">static</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0">umul_ov</a>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, <span class="keywordtype">bool</span> &amp;Overflow) {</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> k = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>;</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &gt; 1 &amp;&amp; k / <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) Overflow = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;  <span class="keywordflow">return</span> k;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;}</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;<span class="comment">/// Compute the result of &quot;n choose k&quot;, the binomial coefficient.  If an</span></div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;<span class="comment">/// intermediate computation overflows, Overflow will be set and the return will</span></div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;<span class="comment">/// be garbage. Overflow is not cleared on absence of overflow.</span></div>
<div class="line"><a name="l03086"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc"> 3086</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc">Choose</a>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> k, <span class="keywordtype">bool</span> &amp;Overflow) {</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  <span class="comment">// We use the multiplicative formula:</span></div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;  <span class="comment">//     n(n-1)(n-2)...(n-(k-1)) / k(k-1)(k-2)...1 .</span></div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  <span class="comment">// At each iteration, we take the n-th term of the numeral and divide by the</span></div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;  <span class="comment">// (k-n)th term of the denominator.  This division will always produce an</span></div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;  <span class="comment">// integral result, and helps reduce the chance of overflow in the</span></div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;  <span class="comment">// intermediate computations. However, we can still overflow even when the</span></div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="comment">// final result would fit.</span></div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160; </div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> == 0 || <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> == k) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;  <span class="keywordflow">if</span> (k &gt; <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160; </div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;  <span class="keywordflow">if</span> (k &gt; <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>/2)</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    k = <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>-k;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160; </div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> r = 1;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= k; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    r = <a class="code" href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0">umul_ov</a>(r, <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>-(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-1), Overflow);</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    r /= <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;  }</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;}</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;<span class="comment">/// Determine if any of the operands in this SCEV are a constant or if</span></div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;<span class="comment">/// any of the add or multiply expressions in this SCEV contain a constant.</span></div>
<div class="line"><a name="l03111"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a75a63c2d772bc6e774e216072117b95a"> 3111</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#a75a63c2d772bc6e774e216072117b95a">containsConstantInAddMulChain</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *StartExpr) {</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;  <span class="keyword">struct </span>FindConstantInAddMulChain {</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <span class="keywordtype">bool</span> FoundConstant = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160; </div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    <span class="keywordtype">bool</span> follow(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;      FoundConstant |= isa&lt;SCEVConstant&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;      <span class="keywordflow">return</span> isa&lt;SCEVAddExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) || isa&lt;SCEVMulExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    }</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160; </div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <span class="keywordtype">bool</span> isDone()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <span class="keywordflow">return</span> FoundConstant;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    }</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;  };</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160; </div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;  FindConstantInAddMulChain <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  <a class="code" href="classllvm_1_1SCEVTraversal.html">SCEVTraversal&lt;FindConstantInAddMulChain&gt;</a> <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.visitAll(StartExpr);</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.FoundConstant;</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;}</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;<span class="comment">/// Get a canonical multiply expression, or something simpler if possible.</span></div>
<div class="line"><a name="l03132"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f"> 3132</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">ScalarEvolution::getMulExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops,</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                                        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> OrigFlags,</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                                        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OrigFlags == <a class="code" href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">maskFlags</a>(OrigFlags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>) &amp;&amp;</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;         <span class="stringliteral">&quot;only nuw or nsw allowed&quot;</span>);</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Ops.empty() &amp;&amp; <span class="stringliteral">&quot;Cannot get empty mul!&quot;</span>);</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = Ops[0]-&gt;getType();</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ETy-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>());</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>() == ETy &amp;&amp;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;           <span class="stringliteral">&quot;SCEVMulExpr operand types don&#39;t match!&quot;</span>);</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160; </div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  <span class="comment">// Sort by complexity, this groups all similar expression types together.</span></div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  <a class="code" href="ScalarEvolution_8cpp.html#a4d43163acfcdefe57d402dab3640d8be">GroupByComplexity</a>(Ops, &amp;LI, DT);</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160; </div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;  <span class="comment">// If there are any constants, fold them together.</span></div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 0;</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[0])) {</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;    ++Idx;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx &lt; Ops.size());</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[Idx])) {</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      <span class="comment">// We found two constants, fold them together!</span></div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;      Ops[0] = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(LHSC-&gt;getAPInt() * RHSC-&gt;getAPInt());</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;      <span class="keywordflow">if</span> (Ops.size() == 2) <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+1);  <span class="comment">// Erase the folded element</span></div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;      LHSC = cast&lt;SCEVConstant&gt;(Ops[0]);</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    }</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160; </div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    <span class="comment">// If we have a multiply of zero, it will always be zero.</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    <span class="keywordflow">if</span> (LHSC-&gt;getValue()-&gt;isZero())</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;      <span class="keywordflow">return</span> LHSC;</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160; </div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    <span class="comment">// If we are left with a constant one being multiplied, strip it off.</span></div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    <span class="keywordflow">if</span> (LHSC-&gt;getValue()-&gt;isOne()) {</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin());</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;      --Idx;</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    }</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160; </div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <span class="keywordflow">if</span> (Ops.size() == 1)</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;      <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;  }</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160; </div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;  <span class="comment">// Delay expensive flag strengthening until necessary.</span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  <span class="keyword">auto</span> ComputeFlags = [<span class="keyword">this</span>, OrigFlags](<span class="keyword">const</span> <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops) {</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#ae99f51fb7f4e120a8ebeb76e3c53cf2b">StrengthenNoWrapFlags</a>(<span class="keyword">this</span>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>, Ops, OrigFlags);</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  };</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160; </div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;  <span class="comment">// Limit recursion calls depth.</span></div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#a28af07babf7598fa1f9f5710acf863c9">MaxArithDepth</a> || <a class="code" href="ScalarEvolution_8cpp.html#a81a7153270eb1fafa4502adc85f49adf">hasHugeExpression</a>(Ops))</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <span class="keywordflow">return</span> getOrCreateMulExpr(Ops, ComputeFlags(Ops));</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160; </div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = findExistingSCEVInCache(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>, Ops)) {</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    <span class="comment">// Don&#39;t strengthen flags if we have no new information.</span></div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<span class="keyword">&gt;</span>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;getNoWrapFlags(OrigFlags) != OrigFlags)</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;setNoWrapFlags(ComputeFlags(Ops));</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  }</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160; </div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[0])) {</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <span class="keywordflow">if</span> (Ops.size() == 2) {</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;      <span class="comment">// C1*(C2+V) -&gt; C1*C2 + C1*V</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(Ops[1]))</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;        <span class="comment">// If any of Add&#39;s ops are Adds or Muls with a constant, apply this</span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;        <span class="comment">// transformation as well.</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;        <span class="comment">// TODO: There are some cases where this transformation is not</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;        <span class="comment">// profitable; for example, Add = (C0 + X) * Y + Z.  Maybe the scope of</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;        <span class="comment">// this transformation should be narrowed down.</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;        <span class="keywordflow">if</span> (Add-&gt;getNumOperands() == 2 &amp;&amp; <a class="code" href="ScalarEvolution_8cpp.html#a75a63c2d772bc6e774e216072117b95a">containsConstantInAddMulChain</a>(Add)) {</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(LHSC, Add-&gt;getOperand(0),</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;                                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(LHSC, Add-&gt;getOperand(1),</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;                                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;        }</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160; </div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;      <span class="keywordflow">if</span> (Ops[0]-&gt;isAllOnesValue()) {</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;        <span class="comment">// If we have a mul by -1 of an add, try distributing the -1 among the</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;        <span class="comment">// add operands.</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(Ops[1])) {</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> NewOps;</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;          <span class="keywordtype">bool</span> AnyFolded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *AddOp : Add-&gt;operands()) {</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Ops[0], AddOp, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>,</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;                                         <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;            <span class="keywordflow">if</span> (!isa&lt;SCEVMulExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>)) AnyFolded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;            NewOps.push_back(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>);</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;          }</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;          <span class="keywordflow">if</span> (AnyFolded)</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(NewOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(Ops[1])) {</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;          <span class="comment">// Negation preserves a recurrence&#39;s no self-wrap property.</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *AddRecOp : AddRec-&gt;<a class="code" href="classllvm_1_1SCEV.html#a0b675a820ab094d694d602eb16ef02e5">operands</a>())</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;            <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Ops[0], AddRecOp, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>,</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;                                          <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160; </div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, AddRec-&gt;getLoop(),</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;                               AddRec-&gt;getNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>));</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;        }</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;      }</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    }</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  }</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160; </div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;  <span class="comment">// Skip over the add expression until we get to a multiply.</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.size() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>)</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    ++Idx;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160; </div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;  <span class="comment">// If there are mul operands inline them all into this expression.</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; Ops.size()) {</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="keywordtype">bool</span> DeletedMul = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = dyn_cast&lt;SCEVMulExpr&gt;(Ops[Idx])) {</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;      <span class="keywordflow">if</span> (Ops.size() &gt; <a class="code" href="ScalarEvolution_8cpp.html#a911d67721d1a28b4a30496c3f1d6a636">MulOpsInlineThreshold</a>)</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;      <span class="comment">// If we have an mul, expand the mul operands onto the end of the</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;      <span class="comment">// operands list.</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+Idx);</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(Ops, <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>());</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;      DeletedMul = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    }</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160; </div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    <span class="comment">// If we deleted at least one mul, we added operands to the end of the</span></div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;    <span class="comment">// list, and they are not necessarily sorted.  Recurse to resort and</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    <span class="comment">// resimplify any operands we just acquired.</span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <span class="keywordflow">if</span> (DeletedMul)</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;  }</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160; </div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;  <span class="comment">// If there are any add recurrences in the operands list, see if any other</span></div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;  <span class="comment">// added values are loop invariant.  If so, we can fold them into the</span></div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  <span class="comment">// recurrence.</span></div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.size() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>)</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    ++Idx;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160; </div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;  <span class="comment">// Scan over all recurrences, trying to fold loop invariants into them.</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;  <span class="keywordflow">for</span> (; Idx &lt; Ops.size() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[Idx]); ++Idx) {</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    <span class="comment">// Scan all of the other operands to this mul and add them to the vector</span></div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;    <span class="comment">// if they are loop invariant w.r.t. the recurrence.</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> LIOps;</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = cast&lt;SCEVAddRecExpr&gt;(Ops[Idx]);</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *AddRecLoop = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>();</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], AddRecLoop)) {</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;        LIOps.push_back(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;        Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        --<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;      }</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160; </div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="comment">// If we found some loop invariants, fold them into the recurrence.</span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <span class="keywordflow">if</span> (!LIOps.empty()) {</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;      <span class="comment">//  NLI * LI * {Start,+,Step}  --&gt;  NLI * {LI*Start,+,LI*Step}</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> NewOps;</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;      NewOps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>());</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Scale = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(LIOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;        NewOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Scale, AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>),</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                                    <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160; </div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;      <span class="comment">// Build the new addrec. Propagate the NUW and NSW flags if both the</span></div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;      <span class="comment">// outer mul and the inner addrec are guaranteed to have no overflow.</span></div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;      <span class="comment">// No self-wrap cannot be guaranteed after changing the step size, but</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;      <span class="comment">// will be inferred if either NUW or NSW is true.</span></div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;      <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags = ComputeFlags({Scale, AddRec});</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewRec = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;          NewOps, AddRecLoop, AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>(Flags));</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160; </div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;      <span class="comment">// If all of the other operands were loop invariant, we are done.</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;      <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> NewRec;</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160; </div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;      <span class="comment">// Otherwise, multiply the folded AddRec by the non-invariant parts.</span></div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;        <span class="keywordflow">if</span> (Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == AddRec) {</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;          Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = NewRec;</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;        }</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    }</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160; </div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    <span class="comment">// Okay, if there weren&#39;t any loop invariants to be folded, check to see</span></div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    <span class="comment">// if there are multiple AddRec&#39;s with the same loop induction variable</span></div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    <span class="comment">// being multiplied together.  If so, we can fold them.</span></div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160; </div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    <span class="comment">// {A1,+,A2,+,...,+,An}&lt;L&gt; * {B1,+,B2,+,...,+,Bn}&lt;L&gt;</span></div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;    <span class="comment">// = {x=1 in [ sum y=x..2x [ sum z=max(y-x, y-n)..min(x,n) [</span></div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;    <span class="comment">//       choose(x, 2x)*choose(2x-y, x-z)*A_{y-z}*B_z</span></div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    <span class="comment">//   ]]],+,...up to x=2n}.</span></div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    <span class="comment">// Note that the arguments to choose() are always integers with values</span></div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    <span class="comment">// known at compile time, never SCEV objects.</span></div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    <span class="comment">// The implementation avoids pointless extra computations when the two</span></div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;    <span class="comment">// addrec&#39;s are of different length (mathematically, it&#39;s equivalent to</span></div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;    <span class="comment">// an infinite stream of zeros on the right).</span></div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    <span class="keywordtype">bool</span> OpsModified = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OtherIdx = Idx+1;</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;         OtherIdx != Ops.size() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]);</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;         ++OtherIdx) {</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *OtherAddRec =</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;        dyn_cast&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]);</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;      <span class="keywordflow">if</span> (!OtherAddRec || OtherAddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() != AddRecLoop)</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160; </div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;      <span class="comment">// Limit max number of arguments to avoid creation of unreasonably big</span></div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;      <span class="comment">// SCEVAddRecs with very complex operands.</span></div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;      <span class="keywordflow">if</span> (AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>() + OtherAddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>() - 1 &gt;</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;          <a class="code" href="ScalarEvolution_8cpp.html#abecd77701103d573678565f83c35ce45">MaxAddRecSize</a> || <a class="code" href="ScalarEvolution_8cpp.html#a81a7153270eb1fafa4502adc85f49adf">hasHugeExpression</a>({AddRec, OtherAddRec}))</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160; </div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;      <span class="keywordtype">bool</span> Overflow = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>();</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      <span class="keywordtype">bool</span> LargerThan64Bits = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &gt; 64;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV*, 7&gt;</a> AddRecOps;</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a> = 0, xe = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>() +</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;             OtherAddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>() - 1; <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a> != xe &amp;&amp; !Overflow; ++<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>) {</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector &lt;const SCEV *, 7&gt;</a> SumOps;</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#a7449cedde1dc681d0c33134c7c95bcc6">y</a> = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>, ye = 2*<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>+1; <a class="code" href="lib_2Target_2README_8txt.html#a7449cedde1dc681d0c33134c7c95bcc6">y</a> != ye &amp;&amp; !Overflow; ++<a class="code" href="lib_2Target_2README_8txt.html#a7449cedde1dc681d0c33134c7c95bcc6">y</a>) {</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;          <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Coeff1 = <a class="code" href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc">Choose</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>, 2*<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a> - <a class="code" href="lib_2Target_2README_8txt.html#a7449cedde1dc681d0c33134c7c95bcc6">y</a>, Overflow);</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#acac11578b87ac8c909bd20b9b44bf833">z</a> = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="lib_2Target_2README_8txt.html#a7449cedde1dc681d0c33134c7c95bcc6">y</a>-<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>, <a class="code" href="lib_2Target_2README_8txt.html#a7449cedde1dc681d0c33134c7c95bcc6">y</a>-(<span class="keywordtype">int</span>)AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>()+1),</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;                 ze = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>+1, (<span class="keywordtype">int</span>)OtherAddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>());</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;               <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#acac11578b87ac8c909bd20b9b44bf833">z</a> &lt; ze &amp;&amp; !Overflow; ++<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#acac11578b87ac8c909bd20b9b44bf833">z</a>) {</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;            <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Coeff2 = <a class="code" href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc">Choose</a>(2*<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a> - <a class="code" href="lib_2Target_2README_8txt.html#a7449cedde1dc681d0c33134c7c95bcc6">y</a>, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>-<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#acac11578b87ac8c909bd20b9b44bf833">z</a>, Overflow);</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;            <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Coeff;</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;            <span class="keywordflow">if</span> (LargerThan64Bits)</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;              Coeff = <a class="code" href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0">umul_ov</a>(Coeff1, Coeff2, Overflow);</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;              Coeff = Coeff1*Coeff2;</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CoeffTerm = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Ty, Coeff);</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Term1 = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#a7449cedde1dc681d0c33134c7c95bcc6">y</a>-<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#acac11578b87ac8c909bd20b9b44bf833">z</a>);</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Term2 = OtherAddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#acac11578b87ac8c909bd20b9b44bf833">z</a>);</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;            SumOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(CoeffTerm, Term1, Term2,</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;                                        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;          }</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        }</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;        <span class="keywordflow">if</span> (SumOps.empty())</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;          SumOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(Ty));</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;        AddRecOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(SumOps, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;      }</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;      <span class="keywordflow">if</span> (!Overflow) {</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewAddRec = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(AddRecOps, AddRecLoop,</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                                              <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;        <span class="keywordflow">if</span> (Ops.size() == 2) <span class="keywordflow">return</span> NewAddRec;</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;        Ops[Idx] = NewAddRec;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;        Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin() + OtherIdx); --OtherIdx;</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;        OpsModified = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;        AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(NewAddRec);</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        <span class="keywordflow">if</span> (!AddRec)</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;      }</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    }</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;    <span class="keywordflow">if</span> (OpsModified)</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Ops, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160; </div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    <span class="comment">// Otherwise couldn&#39;t fold anything into this recurrence.  Move onto the</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <span class="comment">// next one.</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;  }</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160; </div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;  <span class="comment">// Okay, it looks like we really DO need an mul expr.  Check to see if we</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;  <span class="keywordflow">return</span> getOrCreateMulExpr(Ops, ComputeFlags(Ops));</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;}</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;<span class="comment">/// Represents an unsigned remainder expression based on unsigned division.</span></div>
<div class="line"><a name="l03398"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a13b9eb961d35ad9ecb3b633f5703253a"> 3398</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a13b9eb961d35ad9ecb3b633f5703253a">ScalarEvolution::getURemExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) ==</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;         <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &amp;&amp;</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;         <span class="stringliteral">&quot;SCEVURemExpr operand types don&#39;t match!&quot;</span>);</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160; </div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;  <span class="comment">// Short-circuit easy cases</span></div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <span class="comment">// If constant is one, the result is trivial</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    <span class="keywordflow">if</span> (RHSC-&gt;getValue()-&gt;isOne())</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()); <span class="comment">// X urem 1 --&gt; 0</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160; </div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <span class="comment">// If constant is a power of two, fold into a zext(trunc(LHS)).</span></div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    <span class="keywordflow">if</span> (RHSC-&gt;getAPInt().isPowerOf2()) {</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *FullTy = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *TruncTy =</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;          <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), RHSC-&gt;getAPInt().logBase2());</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, TruncTy), FullTy);</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    }</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;  }</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160; </div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;  <span class="comment">// Fallback to %a == %x urem %y == %x -&lt;nuw&gt; ((%x udiv %y) *&lt;nuw&gt; %y)</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *UDiv = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba489c5c03b43333daa30af69d887fc1f2">Mult</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(UDiv, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba489c5c03b43333daa30af69d887fc1f2">Mult</a>, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;}</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;<span class="comment">/// Get a canonical unsigned division expression, or something simpler if</span></div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;<span class="comment">/// possible.</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0"> 3427</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">ScalarEvolution::getUDivExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;         <span class="stringliteral">&quot;SCEVUDivExpr operand can&#39;t be pointer!&quot;</span>);</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() &amp;&amp;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;         <span class="stringliteral">&quot;SCEVUDivExpr operand types don&#39;t match!&quot;</span>);</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160; </div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>);</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP))</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160; </div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  <span class="comment">// 0 udiv Y == 0</span></div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    <span class="keywordflow">if</span> (LHSC-&gt;getValue()-&gt;isZero())</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160; </div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    <span class="keywordflow">if</span> (RHSC-&gt;getValue()-&gt;isOne())</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;                               <span class="comment">// X udiv 1 --&gt; x</span></div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    <span class="comment">// If the denominator is zero, the result of the udiv is undefined. Don&#39;t</span></div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    <span class="comment">// try to analyze it, because the resolution chosen here may differ from</span></div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    <span class="comment">// the resolution chosen in other parts of the compiler.</span></div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <span class="keywordflow">if</span> (!RHSC-&gt;getValue()-&gt;isZero()) {</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;      <span class="comment">// Determine if the division can be folded into the operands of</span></div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;      <span class="comment">// its operands.</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;      <span class="comment">// TODO: Generalize this to non-constants by using known-bits information.</span></div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      <span class="keywordtype">unsigned</span> LZ = RHSC-&gt;getAPInt().countLeadingZeros();</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;      <span class="keywordtype">unsigned</span> MaxShiftAmt = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) - LZ - 1;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;      <span class="comment">// For non-power-of-two values, effectively round the value up to the</span></div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      <span class="comment">// nearest power of two.</span></div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;      <span class="keywordflow">if</span> (!RHSC-&gt;getAPInt().isPowerOf2())</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;        ++MaxShiftAmt;</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;      <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ExtTy =</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;        <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) + MaxShiftAmt);</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *Step =</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;            dyn_cast&lt;SCEVConstant&gt;(AR-&gt;getStepRecurrence(*<span class="keyword">this</span>))) {</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;          <span class="comment">// {X,+,N}/C --&gt; {X/C,+,N/C} if safe and N/C can be folded.</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;StepInt = Step-&gt;getAPInt();</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DivInt = RHSC-&gt;getAPInt();</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;          <span class="keywordflow">if</span> (!StepInt.<a class="code" href="classllvm_1_1APInt.html#a4e3a2187cacdec76028617a403c47d89">urem</a>(DivInt) &amp;&amp;</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(AR, ExtTy) ==</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(AR-&gt;getStart(), ExtTy),</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;                            <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, ExtTy),</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;                            AR-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>)) {</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;            <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : AR-&gt;operands())</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;              <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, AR-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;          }<span class="comment"></span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;<span class="comment">          /// Get a canonical UDivExpr for a recurrence.</span></div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;<span class="comment">          /// {X,+,N}/C =&gt; {Y,+,N}/C where Y=X-(X%N). Safe when C%N=0.</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;<span class="comment"></span>          <span class="comment">// We can currently only fold X%N if X is constant.</span></div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *StartC = dyn_cast&lt;SCEVConstant&gt;(AR-&gt;getStart());</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;          <span class="keywordflow">if</span> (StartC &amp;&amp; !DivInt.<a class="code" href="classllvm_1_1APInt.html#a4e3a2187cacdec76028617a403c47d89">urem</a>(StepInt) &amp;&amp;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(AR, ExtTy) ==</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(AR-&gt;getStart(), ExtTy),</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;                            <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, ExtTy),</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;                            AR-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>)) {</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;StartInt = StartC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>();</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;StartRem = StartInt.<a class="code" href="classllvm_1_1APInt.html#a4e3a2187cacdec76028617a403c47d89">urem</a>(StepInt);</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;            <span class="keywordflow">if</span> (StartRem != 0) {</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewLHS =</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;                  <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(StartInt - StartRem), Step,</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;                                AR-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> != NewLHS) {</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;                <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = NewLHS;</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160; </div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;                <span class="comment">// Reset the ID to include the new LHS, and check if it is</span></div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;                <span class="comment">// already cached.</span></div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;                <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.clear();</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;                <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddInteger(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;                <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;                <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;                IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;                <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP))</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;              }</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;            }</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;          }</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        }</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;      <span class="comment">// (A*B)/C --&gt; A*(B/C) if safe and B/C can be folded.</span></div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = dyn_cast&lt;SCEVMulExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;operands())</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;          <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, ExtTy));</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, ExtTy) == <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>))</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;          <span class="comment">// Find an operand that&#39;s safely divisible.</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Div = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, RHSC);</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;            <span class="keywordflow">if</span> (!isa&lt;SCEVUDivExpr&gt;(Div) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(Div, RHSC) == <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;              <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a> = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;operands());</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;              <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = Div;</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;            }</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;          }</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;      }</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160; </div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;      <span class="comment">// (A/B)/C --&gt; A/(B*C) if safe and B*C can be folded.</span></div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *OtherDiv = dyn_cast&lt;SCEVUDivExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DivisorConstant =</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;                dyn_cast&lt;SCEVConstant&gt;(OtherDiv-&gt;getRHS())) {</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;          <span class="keywordtype">bool</span> Overflow = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;          <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewRHS =</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;              DivisorConstant-&gt;getAPInt().<a class="code" href="classllvm_1_1APInt.html#a028f4d1eead63cc33499ce3459bd27c7">umul_ov</a>(RHSC-&gt;getAPInt(), Overflow);</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;          <span class="keywordflow">if</span> (Overflow) {</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(RHSC-&gt;getType(), 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;          }</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(OtherDiv-&gt;getLHS(), <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(NewRHS));</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;        }</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;      }</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160; </div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;      <span class="comment">// (A+B)/C --&gt; (A/C + B/C) if safe and A/C and B/C can be folded.</span></div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *A = dyn_cast&lt;SCEVAddExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : A-&gt;operands())</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;          <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, ExtTy));</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(A, ExtTy) == <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>)) {</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;          <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.clear();</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = A-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(A-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;            <span class="keywordflow">if</span> (isa&lt;SCEVUDivExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) ||</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;                <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) != A-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;            <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;          }</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.size() == A-&gt;getNumOperands())</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;        }</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;      }</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160; </div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;      <span class="comment">// Fold if both operands are constant.</span></div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(LHSC-&gt;getAPInt().udiv(RHSC-&gt;getAPInt()));</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    }</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;  }</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160; </div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;  <span class="comment">// The Insertion Point (IP) might be invalid by now (due to UniqueSCEVs</span></div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;  <span class="comment">// changes). Make sure we get a new one.</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;  IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP)) <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator),</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;                                             <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;  UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, {<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>});</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;}</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160; </div>
<div class="line"><a name="l03581"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aa4ab138d4aa4beb5e35a996d3bd21765"> 3581</a></span>&#160;<a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="ScalarEvolution_8cpp.html#aa4ab138d4aa4beb5e35a996d3bd21765">gcd</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *C2) {</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> A = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getAPInt().abs();</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = C2-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>().<a class="code" href="classllvm_1_1APInt.html#a38e964f0cadf077725453884734a6c99">abs</a>();</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> ABW = A.getBitWidth();</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> BBW = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getBitWidth();</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160; </div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  <span class="keywordflow">if</span> (ABW &gt; BBW)</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.zext(ABW);</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ABW &lt; BBW)</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    A = A.zext(BBW);</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160; </div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1APIntOps.html#af122c2b921533dd3d3d3f0c0569b5624">APIntOps::GreatestCommonDivisor</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(A), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>));</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;}</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;<span class="comment">/// Get a canonical unsigned division expression, or something simpler if</span></div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;<span class="comment">/// possible. There is no representation for an exact udiv in SCEV IR, but we</span></div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;<span class="comment">/// can attempt to remove factors from the LHS and RHS.  We can&#39;t do this when</span></div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;<span class="comment">/// it&#39;s not exact because the udiv may be clearing bits.</span></div>
<div class="line"><a name="l03599"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aeca82ae7bafbb557b7026f7d035643b8"> 3599</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#aeca82ae7bafbb557b7026f7d035643b8">ScalarEvolution::getUDivExactExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  <span class="comment">// TODO: we could try to find factors in all sorts of things, but for now we</span></div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  <span class="comment">// just deal with u/exact (multiply, constant). See SCEVDivision towards the</span></div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  <span class="comment">// end of this file for inspiration.</span></div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160; </div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = dyn_cast&lt;SCEVMulExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> || !<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#a100c666f9253331dd1d166a863248326">hasNoUnsignedWrap</a>())</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160; </div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSCst = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    <span class="comment">// If the mulexpr multiplies by a constant, then that constant must be the</span></div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    <span class="comment">// first element of the mulexpr.</span></div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *LHSCst = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0))) {</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;      <span class="keywordflow">if</span> (LHSCst == RHSCst) {</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>(<a class="code" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">drop_begin</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>()));</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;      }</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160; </div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;      <span class="comment">// We can&#39;t just assume that LHSCst divides RHSCst cleanly, it could be</span></div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;      <span class="comment">// that there&#39;s a factor provided by one of the other terms. We need to</span></div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;      <span class="comment">// check.</span></div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Factor = <a class="code" href="ScalarEvolution_8cpp.html#aa4ab138d4aa4beb5e35a996d3bd21765">gcd</a>(LHSCst, RHSCst);</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;      <span class="keywordflow">if</span> (!Factor.<a class="code" href="classllvm_1_1APInt.html#ae00c35cb040107c05f3fe00c15bb3da0">isIntN</a>(1)) {</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;        LHSCst =</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;            cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(LHSCst-&gt;getAPInt().udiv(Factor)));</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;        RHSCst =</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;            cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(RHSCst-&gt;getAPInt().udiv(Factor)));</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;        <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(LHSCst);</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;        <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>().drop_front());</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = RHSCst;</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = dyn_cast&lt;SCEVMulExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>)</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aeca82ae7bafbb557b7026f7d035643b8">getUDivExactExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;      }</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;    }</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;  }</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160; </div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>().take_front(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>().drop_front(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1));</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    }</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  }</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160; </div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;}</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;<span class="comment">/// Get an add recurrence expression for the specified loop.  Simplify the</span></div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;<span class="comment">/// expression as much as possible.</span></div>
<div class="line"><a name="l03653"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154"> 3653</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">ScalarEvolution::getAddRecExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;                                           <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags) {</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Start);</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *StepChrec = dyn_cast&lt;SCEVAddRecExpr&gt;(Step))</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    <span class="keywordflow">if</span> (StepChrec-&gt;getLoop() == L) {</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, StepChrec-&gt;operands());</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, L, <a class="code" href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">maskFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>));</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    }</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160; </div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;  <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Step);</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, L, Flags);</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;}</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;<span class="comment">/// Get an add recurrence expression for the specified loop.  Simplify the</span></div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;<span class="comment">/// expression as much as possible.</span></div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l03671"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a69f32678ea46cdda0318c0be9bdb1c7e"> 3671</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">ScalarEvolution::getAddRecExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags) {</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.size() == 1) <span class="keywordflow">return</span> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[0];</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()) == ETy &amp;&amp;</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;           <span class="stringliteral">&quot;SCEVAddRecExpr operand types don&#39;t match!&quot;</span>);</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()-&gt;isPointerTy() &amp;&amp; <span class="stringliteral">&quot;Step must be integer&quot;</span>);</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;  }</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], L) &amp;&amp;</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;           <span class="stringliteral">&quot;SCEVAddRecExpr operand is not loop-invariant!&quot;</span>);</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160; </div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.back()-&gt;isZero()) {</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.pop_back();</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>); <span class="comment">// {X,+,0}  --&gt;  X</span></div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  }</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160; </div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  <span class="comment">// It&#39;s tempting to want to call getConstantMaxBackedgeTakenCount count here and</span></div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  <span class="comment">// use that information to infer NUW and NSW flags. However, computing a</span></div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  <span class="comment">// BE count requires calling getAddRecExpr, so we may not yet have a</span></div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  <span class="comment">// meaningful BE count at this point (and if we don&#39;t, we&#39;d be stuck</span></div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;  <span class="comment">// with a SCEVCouldNotCompute as the cached BE count).</span></div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160; </div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  Flags = <a class="code" href="ScalarEvolution_8cpp.html#ae99f51fb7f4e120a8ebeb76e3c53cf2b">StrengthenNoWrapFlags</a>(<span class="keyword">this</span>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, Flags);</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160; </div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  <span class="comment">// Canonicalize nested AddRecs in by nesting them in order of loop depth.</span></div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *NestedAR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[0])) {</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *NestedLoop = NestedAR-&gt;getLoop();</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(NestedLoop)</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;            ? (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a57994482c17097d9f936acff3a6598ac">getLoopDepth</a>() &lt; NestedLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a57994482c17097d9f936acff3a6598ac">getLoopDepth</a>())</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;            : (!NestedLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(L) &amp;&amp;</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;               DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>(), NestedLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()))) {</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> NestedOperands(NestedAR-&gt;operands());</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;      <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[0] = NestedAR-&gt;getStart();</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;      <span class="comment">// AddRecs require their operands be loop-invariant with respect to their</span></div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;      <span class="comment">// loops. Don&#39;t perform this transformation if it would break this</span></div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;      <span class="comment">// requirement.</span></div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;      <span class="keywordtype">bool</span> AllInvariant = <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;          <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) { <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, L); });</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160; </div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;      <span class="keywordflow">if</span> (AllInvariant) {</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;        <span class="comment">// Create a recurrence for the outer loop with the same step size.</span></div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;        <span class="comment">// The outer recurrence keeps its NW flag but only keeps NUW/NSW if the</span></div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        <span class="comment">// inner recurrence has the same property.</span></div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> OuterFlags =</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">maskFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a> | NestedAR-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160; </div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;        NestedOperands[0] = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, L, OuterFlags);</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        AllInvariant = <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(NestedOperands, [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NestedLoop);</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;        });</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160; </div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;        <span class="keywordflow">if</span> (AllInvariant) {</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;          <span class="comment">// Ok, both add recurrences are valid after the transformation.</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;          <span class="comment">// The inner recurrence keeps its NW flag but only keeps NUW/NSW if</span></div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;          <span class="comment">// the outer recurrence has the same property.</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;          <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> InnerFlags =</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">maskFlags</a>(NestedAR-&gt;getNoWrapFlags(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a> | Flags);</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(NestedOperands, NestedLoop, InnerFlags);</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;        }</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;      }</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;      <span class="comment">// Reset Operands to its original state.</span></div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;      <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[0] = NestedAR;</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    }</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;  }</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160; </div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;  <span class="comment">// Okay, it looks like we really DO need an addrec expr.  Check to see if we</span></div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;  <span class="keywordflow">return</span> getOrCreateAddRecExpr(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, L, Flags);</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;}</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160; </div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l03748"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a0f3039f831c483956c153ed9dee23dba"> 3748</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a0f3039f831c483956c153ed9dee23dba">ScalarEvolution::getGEPExpr</a>(<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>,</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;IndexExprs) {</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BaseExpr = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand());</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  <span class="comment">// getSCEV(Base)-&gt;getType() has the same address space as Base-&gt;getType()</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;  <span class="comment">// because SCEV::getType() preserves the address space.</span></div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IntIdxTy = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(BaseExpr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> AssumeInBoundsFlags = [&amp;]() {</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;isInBounds())</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160; </div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    <span class="comment">// We&#39;d like to propagate flags from the IR to the corresponding SCEV nodes,</span></div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;    <span class="comment">// but to do that, we have to ensure that said flag is valid in the entire</span></div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    <span class="comment">// defined scope of the SCEV.</span></div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <span class="keyword">auto</span> *GEPI = dyn_cast&lt;Instruction&gt;(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>);</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    <span class="comment">// TODO: non-instructions have global scope.  We might be able to prove</span></div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;    <span class="comment">// some global scope cases</span></div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    <span class="keywordflow">return</span> GEPI &amp;&amp; isSCEVExprNeverPoison(GEPI);</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  }();</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160; </div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> OffsetWrap =</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    AssumeInBoundsFlags ? <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160; </div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *CurTy = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getType();</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  <span class="keywordtype">bool</span> FirstIter = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> <a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *IndexExpr : IndexExprs) {</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    <span class="comment">// Compute the (potentially symbolic) offset in bytes for this index.</span></div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(CurTy)) {</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;      <span class="comment">// For a struct, add the member offset.</span></div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = cast&lt;SCEVConstant&gt;(IndexExpr)-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>();</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;      <span class="keywordtype">unsigned</span> FieldNo = <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>-&gt;<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FieldOffset = <a class="code" href="classllvm_1_1ScalarEvolution.html#a60be12dda0289837dae43964608cf568">getOffsetOfExpr</a>(IntIdxTy, STy, FieldNo);</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;      <a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>.push_back(FieldOffset);</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160; </div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;      <span class="comment">// Update CurTy to the type of the field at Index.</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;      CurTy = STy-&gt;getTypeAtIndex(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;      <span class="comment">// Update CurTy to its element type.</span></div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;      <span class="keywordflow">if</span> (FirstIter) {</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;PointerType&gt;(CurTy) &amp;&amp;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;               <span class="stringliteral">&quot;The first index of a GEP indexes a pointer&quot;</span>);</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;        CurTy = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getSourceElementType();</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        FirstIter = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;        CurTy = <a class="code" href="classllvm_1_1GetElementPtrInst.html#a056eabb719f475aa4c5a7e2ba11973b9">GetElementPtrInst::getTypeAtIndex</a>(CurTy, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;      }</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;      <span class="comment">// For an array, add the element offset, explicitly scaled.</span></div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ElementSize = <a class="code" href="classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570">getSizeOfExpr</a>(IntIdxTy, CurTy);</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;      <span class="comment">// Getelementptr indices are signed.</span></div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;      IndexExpr = <a class="code" href="classllvm_1_1ScalarEvolution.html#af156ea88617d19e05470b8af2bb62dd9">getTruncateOrSignExtend</a>(IndexExpr, IntIdxTy);</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160; </div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;      <span class="comment">// Multiply the index by the element size to compute the element offset.</span></div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LocalOffset = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(IndexExpr, ElementSize, OffsetWrap);</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;      <a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>.push_back(LocalOffset);</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;    }</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;  }</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160; </div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <span class="comment">// Handle degenerate case of GEP without offsets.</span></div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>.empty())</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    <span class="keywordflow">return</span> BaseExpr;</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160; </div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  <span class="comment">// Add the offsets together, assuming nsw if inbounds.</span></div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>, OffsetWrap);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  <span class="comment">// Add the base address and the offset. We cannot use the nsw flag, as the</span></div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  <span class="comment">// base address is unsigned. However, if we know that the offset is</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  <span class="comment">// non-negative, we can use nuw.</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> BaseWrap = AssumeInBoundsFlags &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;                                   ? <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;  <span class="keyword">auto</span> *GEPExpr = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(BaseExpr, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, BaseWrap);</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BaseExpr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>() == GEPExpr-&gt;getType() &amp;&amp;</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;         <span class="stringliteral">&quot;GEP should not change type mid-flight.&quot;</span>);</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  <span class="keywordflow">return</span> GEPExpr;</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;}</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160; </div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;<a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::findExistingSCEVInCache(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> SCEVType,</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                                               <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops) {</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(SCEVType);</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Ops)</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;  <span class="keywordflow">return</span> UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP);</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;}</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160; </div>
<div class="line"><a name="l03832"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a10f946da317366de10f25a7b59db8e72"> 3832</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a10f946da317366de10f25a7b59db8e72">ScalarEvolution::getAbsExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keywordtype">bool</span> IsNSW) {</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags = IsNSW ? <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">getSMaxExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Flags));</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;}</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160; </div>
<div class="line"><a name="l03837"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79"> 3837</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">ScalarEvolution::getMinMaxExpr</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> Kind,</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;                                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops) {</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SCEVMinMaxExpr::isMinMaxType(Kind) &amp;&amp; <span class="stringliteral">&quot;Not a SCEVMinMaxExpr!&quot;</span>);</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Ops.empty() &amp;&amp; <span class="stringliteral">&quot;Cannot get empty (u|s)(min|max)!&quot;</span>);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ops[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()) == ETy &amp;&amp;</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;           <span class="stringliteral">&quot;Operand types don&#39;t match!&quot;</span>);</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ops[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()-&gt;isPointerTy() ==</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;               Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()-&gt;isPointerTy() &amp;&amp;</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;           <span class="stringliteral">&quot;min/max should be consistently pointerish&quot;</span>);</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  }</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160; </div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;  <span class="keywordtype">bool</span> IsSigned = Kind == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a> || Kind == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>;</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="keywordtype">bool</span> IsMax = Kind == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a> || Kind == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160; </div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  <span class="comment">// Sort by complexity, this groups all similar expression types together.</span></div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;  <a class="code" href="ScalarEvolution_8cpp.html#a4d43163acfcdefe57d402dab3640d8be">GroupByComplexity</a>(Ops, &amp;LI, DT);</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160; </div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;  <span class="comment">// Check if we have created the same expression before.</span></div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = findExistingSCEVInCache(Kind, Ops)) {</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;  }</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;  <span class="comment">// If there are any constants, fold them together.</span></div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 0;</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[0])) {</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;    ++Idx;</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx &lt; Ops.size());</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    <span class="keyword">auto</span> FoldOp = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;      <span class="keywordflow">if</span> (Kind == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>)</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">APIntOps::smax</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Kind == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>)</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">APIntOps::smin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Kind == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>)</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">APIntOps::umax</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Kind == <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>)</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">APIntOps::umin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV min/max opcode&quot;</span>);</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    };</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160; </div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[Idx])) {</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;      <span class="comment">// We found two constants, fold them together!</span></div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Fold = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), FoldOp(LHSC-&gt;getAPInt(), RHSC-&gt;getAPInt()));</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;      Ops[0] = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Fold);</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+1);  <span class="comment">// Erase the folded element</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;      <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;      LHSC = cast&lt;SCEVConstant&gt;(Ops[0]);</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;    }</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160; </div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    <span class="keywordtype">bool</span> IsMinV = LHSC-&gt;getValue()-&gt;isMinValue(IsSigned);</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    <span class="keywordtype">bool</span> IsMaxV = LHSC-&gt;getValue()-&gt;isMaxValue(IsSigned);</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160; </div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;    <span class="keywordflow">if</span> (IsMax ? IsMinV : IsMaxV) {</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;      <span class="comment">// If we are left with a constant minimum(/maximum)-int, strip it off.</span></div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin());</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;      --Idx;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsMax ? IsMaxV : IsMinV) {</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;      <span class="comment">// If we have a max(/min) with a constant maximum(/minimum)-int,</span></div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;      <span class="comment">// it will always be the extremum.</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;      <span class="keywordflow">return</span> LHSC;</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;    }</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160; </div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;    <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;  }</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160; </div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;  <span class="comment">// Find the first operation of the same kind</span></div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.size() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; Kind)</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    ++Idx;</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160; </div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;  <span class="comment">// Check to see if one of the operands is of the same kind. If so, expand its</span></div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;  <span class="comment">// operands onto our operand list, and recurse to simplify.</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; Ops.size()) {</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;    <span class="keywordtype">bool</span> DeletedAny = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;    <span class="keywordflow">while</span> (Ops[Idx]-&gt;getSCEVType() == Kind) {</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMinMaxExpr.html">SCEVMinMaxExpr</a> *SMME = cast&lt;SCEVMinMaxExpr&gt;(Ops[Idx]);</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin()+Idx);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(Ops, SMME-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>());</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;      DeletedAny = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    }</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160; </div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    <span class="keywordflow">if</span> (DeletedAny)</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">getMinMaxExpr</a>(Kind, Ops);</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;  }</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160; </div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;  <span class="comment">// Okay, check to see if the same value occurs in the operand list twice.  If</span></div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  <span class="comment">// so, delete one.  Since we sorted the list, these values are required to</span></div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;  <span class="comment">// be adjacent.</span></div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a> GEPred =</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>;</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a> LEPred =</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;      IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>;</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a> FirstPred = IsMax ? GEPred : LEPred;</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a> SecondPred = IsMax ? LEPred : GEPred;</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size() - 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <span class="keywordflow">if</span> (Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1] ||</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;        isKnownViaNonRecursiveReasoning(FirstPred, Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1])) {</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;      <span class="comment">//  X op Y op Y  --&gt;  X op Y</span></div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;      <span class="comment">//  X op Y       --&gt;  X, if we know X, Y are ordered appropriately</span></div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin() + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1, Ops.begin() + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2);</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;      --<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;      --<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isKnownViaNonRecursiveReasoning(SecondPred, Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;                                               Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1])) {</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;      <span class="comment">//  X op Y       --&gt;  Y, if we know X, Y are ordered appropriately</span></div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin() + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Ops.begin() + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1);</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      --<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      --<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    }</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;  }</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160; </div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;  <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160; </div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Ops.empty() &amp;&amp; <span class="stringliteral">&quot;Reduced smax down to nothing!&quot;</span>);</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160; </div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;  <span class="comment">// Okay, it looks like we really DO need an expr.  Check to see if we</span></div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(Kind);</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExistingSCEV = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP);</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;  <span class="keywordflow">if</span> (ExistingSCEV)</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    <span class="keywordflow">return</span> ExistingSCEV;</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = SCEVAllocator.<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html#af050e9702e6ff2b745dc4d2afd0963cf">Allocate</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Ops.size());</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  std::uninitialized_copy(Ops.begin(), Ops.end(), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>);</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator)</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;      <a class="code" href="classllvm_1_1SCEVMinMaxExpr.html">SCEVMinMaxExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), Kind, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, Ops.size());</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160; </div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;  UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, Ops);</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;}</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160; </div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160; </div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;<span class="keyword">class </span>SCEVSequentialMinMaxDeduplicatingVisitor final</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    : <span class="keyword">public</span> <a class="code" href="structllvm_1_1SCEVVisitor.html">SCEVVisitor</a>&lt;SCEVSequentialMinMaxDeduplicatingVisitor,</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;                         std::optional&lt;const SCEV *&gt;&gt; {</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;  <span class="keyword">using</span> RetVal = std::optional&lt;const SCEV *&gt;;</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="structllvm_1_1SCEVVisitor.html">SCEVVisitor&lt;SCEVSequentialMinMaxDeduplicatingVisitor, RetVal&gt;</a>;</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160; </div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> RootKind; <span class="comment">// Must be a sequential min/max expression.</span></div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> NonSequentialRootKind; <span class="comment">// Non-sequential variant of RootKind.</span></div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEV *, 16&gt;</a> SeenOps;</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160; </div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;  <span class="keywordtype">bool</span> canRecurseInto(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> Kind)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;    <span class="comment">// We can only recurse into the SCEV expression of the same effective type</span></div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;    <span class="comment">// as the type of our root SCEV expression.</span></div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;    <span class="keywordflow">return</span> RootKind == Kind || NonSequentialRootKind == Kind;</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  };</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160; </div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;  RetVal visitAnyMinMaxExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;SCEVMinMaxExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) || isa&lt;SCEVSequentialMinMaxExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)) &amp;&amp;</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;           <span class="stringliteral">&quot;Only for min/max expressions.&quot;</span>);</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;    <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> Kind = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType();</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160; </div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <span class="keywordflow">if</span> (!canRecurseInto(Kind))</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160; </div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    <span class="keyword">auto</span> *NAry = cast&lt;SCEVNAryExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> NewOps;</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <span class="keywordtype">bool</span> Changed = visit(Kind, NAry-&gt;operands(), NewOps);</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160; </div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    <span class="keywordflow">if</span> (!Changed)</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    <span class="keywordflow">if</span> (NewOps.empty())</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160; </div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    <span class="keywordflow">return</span> isa&lt;SCEVSequentialMinMaxExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;               ? SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03">getSequentialMinMaxExpr</a>(Kind, NewOps)</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;               : SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">getMinMaxExpr</a>(Kind, NewOps);</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;  }</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160; </div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;  RetVal visit(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;    <span class="comment">// Has the whole operand been seen already?</span></div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;    <span class="keywordflow">if</span> (!SeenOps.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>).second)</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;    <span class="keywordflow">return</span> Base::visit(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;  }</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160; </div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;  SCEVSequentialMinMaxDeduplicatingVisitor(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;                                           <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> RootKind)</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;      : SE(SE), RootKind(RootKind),</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;        NonSequentialRootKind(</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;            <a class="code" href="classllvm_1_1SCEVSequentialMinMaxExpr.html">SCEVSequentialMinMaxExpr</a>::getEquivalentNonSequentialSCEVType(</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;                RootKind)) {}</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160; </div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  <span class="keywordtype">bool</span> <span class="comment">/*Changed*/</span> visit(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> Kind, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> OrigOps,</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;                         <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;NewOps) {</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> Ops;</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(OrigOps.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>());</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160; </div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : OrigOps) {</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;      RetVal NewOp = visit(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;      <span class="keywordflow">if</span> (NewOp != <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;      <span class="keywordflow">if</span> (NewOp)</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;        Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(*NewOp);</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;    }</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160; </div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;    <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;      NewOps = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Ops);</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;  }</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160; </div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;  RetVal visitConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="classllvm_1_1Constant.html">Constant</a>) { <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a>; }</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160; </div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;  RetVal visitPtrToIntExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPtrToIntExpr.html">SCEVPtrToIntExpr</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160; </div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;  RetVal visitTruncateExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160; </div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;  RetVal visitZeroExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160; </div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;  RetVal visitSignExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160; </div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;  RetVal visitAddExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160; </div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;  RetVal visitMulExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160; </div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;  RetVal visitUDivExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160; </div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;  RetVal visitAddRecExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160; </div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;  RetVal visitSMaxExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSMaxExpr.html">SCEVSMaxExpr</a> *Expr) {</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;    <span class="keywordflow">return</span> visitAnyMinMaxExpr(Expr);</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;  }</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160; </div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;  RetVal visitUMaxExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUMaxExpr.html">SCEVUMaxExpr</a> *Expr) {</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;    <span class="keywordflow">return</span> visitAnyMinMaxExpr(Expr);</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;  }</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160; </div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;  RetVal visitSMinExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSMinExpr.html">SCEVSMinExpr</a> *Expr) {</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;    <span class="keywordflow">return</span> visitAnyMinMaxExpr(Expr);</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;  }</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160; </div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;  RetVal visitUMinExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUMinExpr.html">SCEVUMinExpr</a> *Expr) {</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    <span class="keywordflow">return</span> visitAnyMinMaxExpr(Expr);</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;  }</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160; </div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;  RetVal visitSequentialUMinExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSequentialUMinExpr.html">SCEVSequentialUMinExpr</a> *Expr) {</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;    <span class="keywordflow">return</span> visitAnyMinMaxExpr(Expr);</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;  }</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160; </div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;  RetVal visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160; </div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;  RetVal visitCouldNotCompute(<span class="keyword">const</span> <a class="code" href="structllvm_1_1SCEVCouldNotCompute.html">SCEVCouldNotCompute</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;};</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160; </div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160; </div>
<div class="line"><a name="l04096"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#af515b92b636744fd878c931e2642afe3"> 4096</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#af515b92b636744fd878c931e2642afe3">scevUnconditionallyPropagatesPoisonFromOperands</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> Kind) {</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;  <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;    <span class="comment">// If any operand is poison, the whole expression is poison.</span></div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;    <span class="comment">// FIXME: if the *first* operand is poison, the whole expression is poison.</span></div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Pessimistically, say that it does not propagate poison.</span></div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;  }</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;}</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;<span class="comment">/// Return true if V is poison given that AssumedPoison is already poison.</span></div>
<div class="line"><a name="l04124"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a0520335783c6025037d671dc6025f450"> 4124</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a71a4a4e0f6178682ef05a0d85891e5a9">impliesPoison</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *AssumedPoison, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <span class="comment">// The only way poison may be introduced in a SCEV expression is from a</span></div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;  <span class="comment">// poison SCEVUnknown (ConstantExprs are also represented as SCEVUnknown,</span></div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  <span class="comment">// not SCEVConstant). Notably, nowrap flags in SCEV nodes can *not*</span></div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  <span class="comment">// introduce poison -- they encode guaranteed, non-speculated knowledge.</span></div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  <span class="comment">// Additionally, all SCEV nodes propagate poison from inputs to outputs,</span></div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  <span class="comment">// with the notable exception of umin_seq, where only poison from the first</span></div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;  <span class="comment">// operand is (unconditionally) propagated.</span></div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;  <span class="keyword">struct </span>SCEVPoisonCollector {</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    <span class="keywordtype">bool</span> LookThroughSeq;</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEV *, 4&gt;</a> MaybePoison;</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    SCEVPoisonCollector(<span class="keywordtype">bool</span> LookThroughSeq) : LookThroughSeq(LookThroughSeq) {}</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160; </div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;    <span class="keywordtype">bool</span> follow(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="ScalarEvolution_8cpp.html#af515b92b636744fd878c931e2642afe3">scevUnconditionallyPropagatesPoisonFromOperands</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType())) {</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType()) {</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;These all unconditionally propagate poison.&quot;</span>);</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;          <span class="comment">// TODO: We can always follow the first operand,</span></div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;          <span class="comment">// but the SCEVTraversal API doesn&#39;t support this.</span></div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;          <span class="keywordflow">if</span> (!LookThroughSeq)</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;        }</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;      }</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160; </div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SU = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)) {</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">isGuaranteedNotToBePoison</a>(SU-&gt;getValue()))</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;          MaybePoison.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;      }</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;    }</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    <span class="keywordtype">bool</span> isDone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;  };</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160; </div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;  <span class="comment">// First collect all SCEVs that might result in AssumedPoison to be poison.</span></div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;  <span class="comment">// We need to look through umin_seq here, because we want to find all SCEVs</span></div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;  <span class="comment">// that *might* result in poison, not only those that are *required* to.</span></div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;  SCEVPoisonCollector PC1(<span class="comment">/* LookThroughSeq */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  <a class="code" href="namespacellvm.html#a002c7b1beef8b58691fe7aa42ffa2fe7">visitAll</a>(AssumedPoison, PC1);</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160; </div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;  <span class="comment">// AssumedPoison is never poison. As the assumption is false, the implication</span></div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;  <span class="comment">// is true. Don&#39;t bother walking the other SCEV in this case.</span></div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;  <span class="keywordflow">if</span> (PC1.MaybePoison.empty())</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160; </div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;  <span class="comment">// Collect all SCEVs in S that, if poison, *will* result in S being poison</span></div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;  <span class="comment">// as well. We cannot look through umin_seq here, as its argument only *may*</span></div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;  <span class="comment">// make the result poison.</span></div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;  SCEVPoisonCollector PC2(<span class="comment">/* LookThroughSeq */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;  <a class="code" href="namespacellvm.html#a002c7b1beef8b58691fe7aa42ffa2fe7">visitAll</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, PC2);</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160; </div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;  <span class="comment">// Make sure that no matter which SCEV in PC1.MaybePoison is actually poison,</span></div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  <span class="comment">// it will also make S poison by being part of PC2.MaybePoison.</span></div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(PC1.MaybePoison,</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;                [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) { return PC2.MaybePoison.contains(S); });</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;}</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160; </div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l04200"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03"> 4200</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03">ScalarEvolution::getSequentialMinMaxExpr</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> Kind,</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;                                         <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops) {</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SCEVSequentialMinMaxExpr::isSequentialMinMaxType(Kind) &amp;&amp;</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;         <span class="stringliteral">&quot;Not a SCEVSequentialMinMaxExpr!&quot;</span>);</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Ops.empty() &amp;&amp; <span class="stringliteral">&quot;Cannot get empty (u|s)(min|max)!&quot;</span>);</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;  <span class="keywordflow">if</span> (Ops.size() == 1)</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;    <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ops[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()) == ETy &amp;&amp;</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;           <span class="stringliteral">&quot;Operand types don&#39;t match!&quot;</span>);</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ops[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()-&gt;isPointerTy() ==</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;               Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()-&gt;isPointerTy() &amp;&amp;</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;           <span class="stringliteral">&quot;min/max should be consistently pointerish&quot;</span>);</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;  }</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160; </div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;  <span class="comment">// Note that SCEVSequentialMinMaxExpr is *NOT* commutative,</span></div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;  <span class="comment">// so we can *NOT* do any kind of sorting of the expressions!</span></div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160; </div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;  <span class="comment">// Check if we have created the same expression before.</span></div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = findExistingSCEVInCache(Kind, Ops))</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160; </div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;  <span class="comment">// FIXME: there are *some* simplifications that we can do here.</span></div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160; </div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;  <span class="comment">// Keep only the first instance of an operand.</span></div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;  {</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;    SCEVSequentialMinMaxDeduplicatingVisitor Deduplicator(*<span class="keyword">this</span>, Kind);</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    <span class="keywordtype">bool</span> Changed = Deduplicator.visit(Kind, Ops, Ops);</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;    <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03">getSequentialMinMaxExpr</a>(Kind, Ops);</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;  }</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160; </div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;  <span class="comment">// Check to see if one of the operands is of the same kind. If so, expand its</span></div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;  <span class="comment">// operands onto our operand list, and recurse to simplify.</span></div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;  {</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;    <span class="keywordtype">unsigned</span> Idx = 0;</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <span class="keywordtype">bool</span> DeletedAny = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;    <span class="keywordflow">while</span> (Idx &lt; Ops.size()) {</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;      <span class="keywordflow">if</span> (Ops[Idx]-&gt;getSCEVType() != Kind) {</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;        ++Idx;</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;      }</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *SMME = cast&lt;SCEVSequentialMinMaxExpr&gt;(Ops[Idx]);</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin() + Idx);</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(Ops.begin() + Idx, SMME-&gt;operands().begin(),</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;                 SMME-&gt;operands().end());</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;      DeletedAny = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    }</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160; </div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    <span class="keywordflow">if</span> (DeletedAny)</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03">getSequentialMinMaxExpr</a>(Kind, Ops);</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;  }</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160; </div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SaturationPoint;</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    SaturationPoint = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(Ops[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>;</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Not a sequential min/max type.&quot;</span>);</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  }</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160; </div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    <span class="comment">// We can replace %x umin_seq %y with %x umin %y if either:</span></div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    <span class="comment">//  * %y being poison implies %x is also poison.</span></div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;    <span class="comment">//  * %x cannot be the saturating value (e.g. zero for umin).</span></div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    <span class="keywordflow">if</span> (::<a class="code" href="namespacellvm.html#a71a4a4e0f6178682ef05a0d85891e5a9">impliesPoison</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1]) ||</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;        isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>, Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1],</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;                                        SaturationPoint)) {</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> SeqOps = {Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1], Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]};</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;      Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1] = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">getMinMaxExpr</a>(</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;          <a class="code" href="classllvm_1_1SCEVSequentialMinMaxExpr.html#af8532b54a025a850863502cadc554fdd">SCEVSequentialMinMaxExpr::getEquivalentNonSequentialSCEVType</a>(Kind),</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;          SeqOps);</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin() + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03">getSequentialMinMaxExpr</a>(Kind, Ops);</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;    }</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    <span class="comment">// Fold %x umin_seq %y to %x if %x ule %y.</span></div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    <span class="comment">// TODO: We might be able to prove the predicate for a later operand.</span></div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    <span class="keywordflow">if</span> (isKnownViaNonRecursiveReasoning(Pred, Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1], Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(Ops.begin() + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03">getSequentialMinMaxExpr</a>(Kind, Ops);</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    }</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;  }</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160; </div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;  <span class="comment">// Okay, it looks like we really DO need an expr.  Check to see if we</span></div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(Kind);</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;    <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExistingSCEV = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP);</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;  <span class="keywordflow">if</span> (ExistingSCEV)</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;    <span class="keywordflow">return</span> ExistingSCEV;</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160; </div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = SCEVAllocator.<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html#af050e9702e6ff2b745dc4d2afd0963cf">Allocate</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Ops.size());</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;  std::uninitialized_copy(Ops.begin(), Ops.end(), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>);</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator)</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;      <a class="code" href="classllvm_1_1SCEVSequentialMinMaxExpr.html">SCEVSequentialMinMaxExpr</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), Kind, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, Ops.size());</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160; </div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;  UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">registerUser</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, Ops);</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;}</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160; </div>
<div class="line"><a name="l04310"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12"> 4310</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">ScalarEvolution::getSMaxExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Ops = {<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>};</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">getSMaxExpr</a>(Ops);</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;}</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160; </div>
<div class="line"><a name="l04315"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae4ee621c2217d36c9e9f0bd823fb3e57"> 4315</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">ScalarEvolution::getSMaxExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops) {</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">getMinMaxExpr</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>, Ops);</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;}</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160; </div>
<div class="line"><a name="l04319"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b"> 4319</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">ScalarEvolution::getUMaxExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Ops = {<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>};</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(Ops);</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;}</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160; </div>
<div class="line"><a name="l04324"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a213bb9cc661533b20602b1e035d63791"> 4324</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">ScalarEvolution::getUMaxExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops) {</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">getMinMaxExpr</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>, Ops);</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;}</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160; </div>
<div class="line"><a name="l04328"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e"> 4328</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">ScalarEvolution::getSMinExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Ops = { <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> };</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">getSMinExpr</a>(Ops);</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;}</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160; </div>
<div class="line"><a name="l04334"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5c1b89d3d26909f63f0243f35e3538ee"> 4334</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">ScalarEvolution::getSMinExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops) {</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">getMinMaxExpr</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>, Ops);</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;}</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160; </div>
<div class="line"><a name="l04338"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b"> 4338</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">ScalarEvolution::getUMinExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;                                         <span class="keywordtype">bool</span> Sequential) {</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Ops = { <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> };</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(Ops, Sequential);</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;}</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160; </div>
<div class="line"><a name="l04344"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a997ab75fad6de5dda923e63c28553834"> 4344</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">ScalarEvolution::getUMinExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops,</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;                                         <span class="keywordtype">bool</span> Sequential) {</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;  <span class="keywordflow">return</span> Sequential ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03">getSequentialMinMaxExpr</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>, Ops)</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;                    : <a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">getMinMaxExpr</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>, Ops);</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;}</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160; </div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l04351"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae7d65777d0f8b47ea8edf7d548988216"> 4351</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#ae7d65777d0f8b47ea8edf7d548988216">ScalarEvolution::getSizeOfScalableVectorExpr</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *IntTy,</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;                                             <a class="code" href="classllvm_1_1ScalableVectorType.html">ScalableVectorType</a> *ScalableTy) {</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NullPtr = <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(ScalableTy-&gt;<a class="code" href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">getPointerTo</a>());</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *One = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntTy, 1);</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">ConstantExpr::getGetElementPtr</a>(ScalableTy, NullPtr, One);</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;  <span class="comment">// Note that the expression we created is the final expression, we don&#39;t</span></div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;  <span class="comment">// want to simplify it any further Also, if we call a normal getSCEV(),</span></div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;  <span class="comment">// we&#39;ll end up in an endless recursion. So just create an SCEVUnknown.</span></div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(<a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, IntTy));</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;}</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160; </div>
<div class="line"><a name="l04362"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570"> 4362</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570">ScalarEvolution::getSizeOfExpr</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *IntTy, <a class="code" href="classllvm_1_1Type.html">Type</a> *AllocTy) {</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ScalableAllocTy = dyn_cast&lt;ScalableVectorType&gt;(AllocTy))</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ae7d65777d0f8b47ea8edf7d548988216">getSizeOfScalableVectorExpr</a>(IntTy, ScalableAllocTy);</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;  <span class="comment">// We can bypass creating a target-independent constant expression and then</span></div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;  <span class="comment">// folding it back into a ConstantInt. This is just a compile-time</span></div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  <span class="comment">// optimization.</span></div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(IntTy, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().getTypeAllocSize(AllocTy));</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;}</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160; </div>
<div class="line"><a name="l04371"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a8a954b66f08640930cebdd008bc65d4d"> 4371</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a8a954b66f08640930cebdd008bc65d4d">ScalarEvolution::getStoreSizeOfExpr</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *IntTy, <a class="code" href="classllvm_1_1Type.html">Type</a> *StoreTy) {</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ScalableStoreTy = dyn_cast&lt;ScalableVectorType&gt;(StoreTy))</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ae7d65777d0f8b47ea8edf7d548988216">getSizeOfScalableVectorExpr</a>(IntTy, ScalableStoreTy);</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;  <span class="comment">// We can bypass creating a target-independent constant expression and then</span></div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;  <span class="comment">// folding it back into a ConstantInt. This is just a compile-time</span></div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;  <span class="comment">// optimization.</span></div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(IntTy, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().getTypeStoreSize(StoreTy));</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;}</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160; </div>
<div class="line"><a name="l04380"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a60be12dda0289837dae43964608cf568"> 4380</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a60be12dda0289837dae43964608cf568">ScalarEvolution::getOffsetOfExpr</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *IntTy,</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;                                             <a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy,</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;                                             <span class="keywordtype">unsigned</span> FieldNo) {</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;  <span class="comment">// We can bypass creating a target-independent constant expression and then</span></div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;  <span class="comment">// folding it back into a ConstantInt. This is just a compile-time</span></div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;  <span class="comment">// optimization.</span></div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;      IntTy, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().getStructLayout(STy)-&gt;getElementOffset(FieldNo));</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;}</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160; </div>
<div class="line"><a name="l04390"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338"> 4390</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">ScalarEvolution::getUnknown</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;  <span class="comment">// Don&#39;t attempt to do anything other than create a SCEVUnknown object</span></div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;  <span class="comment">// here.  createSCEV only calls getUnknown after checking for all other</span></div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;  <span class="comment">// interesting possibilities, and any other code that calls getUnknown</span></div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;  <span class="comment">// is doing so in order to hide a value from SCEV canonicalization.</span></div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160; </div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>);</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(V);</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP)) {</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)-&gt;getValue() == V &amp;&amp;</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;           <span class="stringliteral">&quot;Stale SCEVUnknown in uniquing map!&quot;</span>);</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;  }</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1ScalarEvolution.html#a9a1917da5135c7cd0431c35b583db2aa">SCEVUnknown</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), V, <span class="keyword">this</span>,</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;                                            FirstUnknown);</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;  FirstUnknown = cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;  UniqueSCEVs.InsertNode(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, IP);</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;}</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160; </div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;<span class="comment">//            Basic SCEV Analysis and PHI Idiom Recognition Code</span></div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;<span class="comment">/// Test if values of the given type are analyzable within the SCEV</span></div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;<span class="comment">/// framework. This primarily includes integer types, and it can optionally</span></div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;<span class="comment">/// include pointer types if the ScalarEvolution class has access to</span></div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;<span class="comment">/// target-specific information.</span></div>
<div class="line"><a name="l04420"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855"> 4420</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">ScalarEvolution::isSCEVable</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;  <span class="comment">// Integers and pointers are always SCEVable.</span></div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;  <span class="keywordflow">return</span> Ty-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>();</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;}</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;<span class="comment">/// Return the size in bits of the specified type, for which isSCEVable must</span></div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;<span class="comment">/// return true.</span></div>
<div class="line"><a name="l04427"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c"> 4427</a></span>&#160;<span class="comment"></span><a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">ScalarEvolution::getTypeSizeInBits</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(Ty) &amp;&amp; <span class="stringliteral">&quot;Type is not SCEVable!&quot;</span>);</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;  <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#a822fce84743a12eba6f9c83c9c719140">getIndexTypeSizeInBits</a>(Ty);</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#acf0b1898efd7f81a078e9288befd9290">getTypeSizeInBits</a>(Ty);</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;}</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;<span class="comment">/// Return a type with the same bitwidth as the given type and which represents</span></div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;<span class="comment">/// how SCEV will treat the given type, for which isSCEVable must return</span></div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;<span class="comment">/// true. For pointer types, this is the pointer index sized integer type.</span></div>
<div class="line"><a name="l04437"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f"> 4437</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">ScalarEvolution::getEffectiveSCEVType</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(Ty) &amp;&amp; <span class="stringliteral">&quot;Type is not SCEVable!&quot;</span>);</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160; </div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;  <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>())</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;    <span class="keywordflow">return</span> Ty;</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160; </div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;  <span class="comment">// The only other support type is pointer.</span></div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected non-pointer non-integer type!&quot;</span>);</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#abbd9ed911d1d58b73f9571f300cc6a7b">getIndexType</a>(Ty);</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;}</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160; </div>
<div class="line"><a name="l04448"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a10cde7087f90dc664b6799814aa28584"> 4448</a></span>&#160;<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a10cde7087f90dc664b6799814aa28584">ScalarEvolution::getWiderType</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *T2)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;  <span class="keywordflow">return</span>  <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a>) &gt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(T2) ? <a class="code" href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a> : T2;</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;}</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160; </div>
<div class="line"><a name="l04452"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a9b3e98e22aeae5783a4c2ed7bd823050"> 4452</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9b3e98e22aeae5783a4c2ed7bd823050">ScalarEvolution::instructionCouldExistWitthOperands</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *A,</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;                                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {<span class="comment"></span></div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;<span class="comment">  /// For a valid use point to exist, the defining scope of one operand</span></div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;<span class="comment">  /// must dominate the other.</span></div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> PreciseA, PreciseB;</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;  <span class="keyword">auto</span> *ScopeA = getDefiningScopeBound({A}, PreciseA);</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;  <span class="keyword">auto</span> *ScopeB = getDefiningScopeBound({<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>}, PreciseB);</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;  <span class="keywordflow">if</span> (!PreciseA || !PreciseB)</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;    <span class="comment">// Can&#39;t tell.</span></div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;  <span class="keywordflow">return</span> (ScopeA == ScopeB) || DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(ScopeA, ScopeB) ||</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(ScopeB, ScopeA);</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;}</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160; </div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160; </div>
<div class="line"><a name="l04467"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5"> 4467</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">ScalarEvolution::getCouldNotCompute</a>() {</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;  <span class="keywordflow">return</span> CouldNotCompute.get();</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;}</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160; </div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::checkValidity(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;  <span class="keywordtype">bool</span> ContainsNulls = <a class="code" href="namespacellvm.html#affb88623037a9864e030154052747ba1">SCEVExprContains</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;    <span class="keyword">auto</span> *SU = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;    <span class="keywordflow">return</span> SU &amp;&amp; SU-&gt;getValue() == <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;  });</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160; </div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;  <span class="keywordflow">return</span> !ContainsNulls;</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;}</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160; </div>
<div class="line"><a name="l04480"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a62b3c09f031f2478ebd6c92b8c80aa2f"> 4480</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a62b3c09f031f2478ebd6c92b8c80aa2f">ScalarEvolution::containsAddRecurrence</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">HasRecMapType::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = HasRecMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != HasRecMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160; </div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;  <span class="keywordtype">bool</span> FoundAddRec =</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;      <a class="code" href="namespacellvm.html#affb88623037a9864e030154052747ba1">SCEVExprContains</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) { <span class="keywordflow">return</span> isa&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>); });</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;  HasRecMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, FoundAddRec});</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;  <span class="keywordflow">return</span> FoundAddRec;</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;}</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;<span class="comment">/// Return the ValueOffsetPair set for \p S. \p S can be represented</span></div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;<span class="comment">/// by the value and offset from any ValueOffsetPair in the set.</span></div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> ScalarEvolution::getSCEVValues(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;  <a class="code" href="classllvm_1_1DenseMapBase.html#a214e872d61db2ea8cb023f127cafd0b9">ExprValueMapType::iterator</a> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d0e3c8c4929835ce78f942191d8d719">find_as</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> == ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#af48cae27e88c749514d63d3eafb4dc3c">VerifySCEVMap</a>) {</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;    <span class="comment">// Check there is no dangling Value in the set returned.</span></div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;second)</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(V));</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;  }</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;second.getArrayRef();</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;}</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;<span class="comment">/// Erase Value from ValueExprMap and ExprValueMap. ValueExprMap.erase(V)</span></div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;<span class="comment">/// cannot be used separately. eraseValueFromMap should be used to remove</span></div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;<span class="comment">/// V from ValueExprMap and ExprValueMap at the same time.</span></div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ScalarEvolution::eraseValueFromMap(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;  <a class="code" href="classllvm_1_1DenseMapBase.html#a214e872d61db2ea8cb023f127cafd0b9">ValueExprMapType::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d0e3c8c4929835ce78f942191d8d719">find_as</a>(V);</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;    <span class="keyword">auto</span> EVIt = ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second);</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;    <span class="keywordtype">bool</span> Removed = EVIt-&gt;second.remove(V);</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    (void) Removed;</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Removed &amp;&amp; <span class="stringliteral">&quot;Value not in ExprValueMap?&quot;</span>);</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;    ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;  }</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;}</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160; </div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::insertValueToMap(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;  <span class="comment">// A recursive query may have already computed the SCEV. It should be</span></div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;  <span class="comment">// equivalent, but may not necessarily be exactly the same, e.g. due to lazily</span></div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;  <span class="comment">// inferred nowrap flags.</span></div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;  <span class="keyword">auto</span> It = ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d0e3c8c4929835ce78f942191d8d719">find_as</a>(V);</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;  <span class="keywordflow">if</span> (It == ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;    ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({<a class="code" href="classllvm_1_1ScalarEvolution.html#a9fefddc47a698935163a34218708a00b">SCEVCallbackVH</a>(V, <span class="keyword">this</span>), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>});</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;    ExprValueMap[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(V);</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;  }</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;}</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;<span class="comment">/// Return an existing SCEV if it exists, otherwise analyze the expression and</span></div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;<span class="comment">/// create a new one.</span></div>
<div class="line"><a name="l04534"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49"> 4534</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">ScalarEvolution::getSCEV</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &amp;&amp; <span class="stringliteral">&quot;Value is not SCEVable!&quot;</span>);</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160; </div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = getExistingSCEV(V))</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;  <span class="keywordflow">return</span> createSCEVIter(V);</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;}</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160; </div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::getExistingSCEV(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &amp;&amp; <span class="stringliteral">&quot;Value is not SCEVable!&quot;</span>);</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160; </div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;  <a class="code" href="classllvm_1_1DenseMapBase.html#a214e872d61db2ea8cb023f127cafd0b9">ValueExprMapType::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d0e3c8c4929835ce78f942191d8d719">find_as</a>(V);</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(checkValidity(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) &amp;&amp;</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;           <span class="stringliteral">&quot;existing SCEV has not been properly invalidated&quot;</span>);</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;  }</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;}</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;<span class="comment">/// Return a SCEV corresponding to -V = -1*V</span></div>
<div class="line"><a name="l04556"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1"> 4556</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">ScalarEvolution::getNegativeSCEV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V,</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;                                             <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags) {</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a> = dyn_cast&lt;SCEVConstant&gt;(V))</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;               cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#afa29f0cd072ab9b3a2630681ffe5760f">ConstantExpr::getNeg</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>-&gt;getValue())));</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160; </div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;  Ty = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ty);</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(V, <a class="code" href="classllvm_1_1ScalarEvolution.html#a8b52e1d4097374216c56c6cc68c78fa8">getMinusOne</a>(Ty), Flags);</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;}</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;<span class="comment">/// If Expr computes ~A, return A else return nullptr</span></div>
<div class="line"><a name="l04568"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a507b0650daf87aeaae607b004376b7ff"> 4568</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#a507b0650daf87aeaae607b004376b7ff">MatchNotExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr) {</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(Expr);</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;  <span class="keywordflow">if</span> (!Add || Add-&gt;getNumOperands() != 2 ||</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;      !Add-&gt;getOperand(0)-&gt;isAllOnesValue())</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160; </div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *AddRHS = dyn_cast&lt;SCEVMulExpr&gt;(Add-&gt;getOperand(1));</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;  <span class="keywordflow">if</span> (!AddRHS || AddRHS-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>() != 2 ||</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;      !AddRHS-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1SCEV.html#a7ac0db66a4bb6e1e1066609d5c6d28d8">isAllOnesValue</a>())</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160; </div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;  <span class="keywordflow">return</span> AddRHS-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(1);</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;}</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;<span class="comment">/// Return a SCEV corresponding to ~V = -1-V</span></div>
<div class="line"><a name="l04583"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832"> 4583</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">ScalarEvolution::getNotSCEV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V) {</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t negate pointer&quot;</span>);</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160; </div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a> = dyn_cast&lt;SCEVConstant&gt;(V))</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;                cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#a5b43a866f0fca605556f0f69f70c522a">ConstantExpr::getNot</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>-&gt;getValue())));</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160; </div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;  <span class="comment">// Fold ~(u|s)(min|max)(~x, ~y) to (u|s)(max|min)(x, y)</span></div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMinMaxExpr.html">SCEVMinMaxExpr</a> *MME = dyn_cast&lt;SCEVMinMaxExpr&gt;(V)) {</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;    <span class="keyword">auto</span> MatchMinMaxNegation = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMinMaxExpr.html">SCEVMinMaxExpr</a> *MME) {</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> MatchedOperands;</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Operand : MME-&gt;<a class="code" href="classllvm_1_1SCEV.html#a0b675a820ab094d694d602eb16ef02e5">operands</a>()) {</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Matched = <a class="code" href="ScalarEvolution_8cpp.html#a507b0650daf87aeaae607b004376b7ff">MatchNotExpr</a>(Operand);</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;        <span class="keywordflow">if</span> (!Matched)</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;          <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *)<span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;        MatchedOperands.push_back(Matched);</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;      }</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">getMinMaxExpr</a>(<a class="code" href="classllvm_1_1SCEVMinMaxExpr.html#a42279dc4cc3028a574cae6d8168067b9">SCEVMinMaxExpr::negate</a>(MME-&gt;getSCEVType()),</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;                           MatchedOperands);</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;    };</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Replaced = MatchMinMaxNegation(MME))</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;      <span class="keywordflow">return</span> Replaced;</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;  }</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160; </div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;  Ty = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(Ty);</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8b52e1d4097374216c56c6cc68c78fa8">getMinusOne</a>(Ty), V);</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;}</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160; </div>
<div class="line"><a name="l04612"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a1e4038e28db703c29e5e3de1549806ca"> 4612</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a1e4038e28db703c29e5e3de1549806ca">ScalarEvolution::removePointerBase</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getType()-&gt;isPointerTy());</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160; </div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)) {</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;    <span class="comment">// The base of an AddRec is the first operand.</span></div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> Ops{AddRec-&gt;operands()};</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;    Ops[0] = <a class="code" href="classllvm_1_1ScalarEvolution.html#a1e4038e28db703c29e5e3de1549806ca">removePointerBase</a>(Ops[0]);</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;    <span class="comment">// Don&#39;t try to transfer nowrap flags for now. We could in some cases</span></div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;    <span class="comment">// (for example, if pointer operand of the AddRec is a SCEVUnknown).</span></div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Ops, AddRec-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;  }</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Add = dyn_cast&lt;SCEVAddExpr&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)) {</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;    <span class="comment">// The base of an Add is the pointer operand.</span></div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> Ops{Add-&gt;operands()};</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **PtrOp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;AddOp : Ops) {</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;      <span class="keywordflow">if</span> (AddOp-&gt;getType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!PtrOp &amp;&amp; <span class="stringliteral">&quot;Cannot have multiple pointer ops&quot;</span>);</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;        PtrOp = &amp;AddOp;</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;      }</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;    }</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;    *PtrOp = <a class="code" href="classllvm_1_1ScalarEvolution.html#a1e4038e28db703c29e5e3de1549806ca">removePointerBase</a>(*PtrOp);</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;    <span class="comment">// Don&#39;t try to transfer nowrap flags for now. We could in some cases</span></div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;    <span class="comment">// (for example, if the pointer operand of the Add is a SCEVUnknown).</span></div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops);</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;  }</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;  <span class="comment">// Any other expression must be a pointer base.</span></div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getType());</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;}</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160; </div>
<div class="line"><a name="l04642"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96"> 4642</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">ScalarEvolution::getMinusSCEV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;                                          <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags,</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;                                          <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;  <span class="comment">// Fast path: X - X --&gt; 0.</span></div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160; </div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;  <span class="comment">// If we subtract two pointers with different pointer bases, bail.</span></div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;  <span class="comment">// Eventually, we&#39;re going to add an assertion to getMulExpr that we</span></div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;  <span class="comment">// can&#39;t multiply by a pointer.</span></div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() ||</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">getPointerBase</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) != <a class="code" href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">getPointerBase</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a1e4038e28db703c29e5e3de1549806ca">removePointerBase</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a1e4038e28db703c29e5e3de1549806ca">removePointerBase</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;  }</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160; </div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;  <span class="comment">// We represent LHS - RHS as LHS + (-1)*RHS. This transformation</span></div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;  <span class="comment">// makes it so that we cannot make much use of NUW.</span></div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;  <span class="keyword">auto</span> AddFlags = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> RHSIsNotMinSigned =</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;      !<a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>).<a class="code" href="classllvm_1_1APInt.html#a1f04e382556a817950fd0390aeaf9b0e">isMinSignedValue</a>();</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a0410d63819514e3062a73eb48a5ecc82">hasFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>)) {</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;    <span class="comment">// Let M be the minimum representable signed value. Then (-1)*RHS</span></div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;    <span class="comment">// signed-wraps if and only if RHS is M. That can happen even for</span></div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;    <span class="comment">// a NSW subtraction because e.g. (-1)*M signed-wraps even though</span></div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;    <span class="comment">// -1 - M does not. So to transfer NSW from LHS - RHS to LHS +</span></div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;    <span class="comment">// (-1)*RHS, we need to prove that RHS != M.</span></div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;    <span class="comment">// If LHS is non-negative and we know that LHS - RHS does not</span></div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;    <span class="comment">// signed-wrap, then RHS cannot be M. So we can rule out signed-wrap</span></div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;    <span class="comment">// either by proving that RHS &gt; M or that LHS &gt;= 0.</span></div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    <span class="keywordflow">if</span> (RHSIsNotMinSigned || <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;      AddFlags = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>;</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;    }</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;  }</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160; </div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;  <span class="comment">// FIXME: Find a correct way to transfer NSW to (-1)*M when LHS -</span></div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;  <span class="comment">// RHS is NSW and LHS &gt;= 0.</span></div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;  <span class="comment">// The difficulty here is that the NSW flag may have been proven</span></div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;  <span class="comment">// relative to a loop that is to be found in a recurrence in LHS and</span></div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;  <span class="comment">// not in RHS. Applying NSW to (-1)*M may then let the NSW have a</span></div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;  <span class="comment">// larger scope than intended.</span></div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;  <span class="keyword">auto</span> NegFlags = RHSIsNotMinSigned ? <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160; </div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, NegFlags), AddFlags, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;}</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160; </div>
<div class="line"><a name="l04692"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055"> 4692</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">ScalarEvolution::getTruncateOrZeroExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;                                                     <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp; Ty-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp;</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;         <span class="stringliteral">&quot;Cannot truncate or zero extend with non-integer arguments!&quot;</span>);</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) &gt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(V, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(V, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;}</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160; </div>
<div class="line"><a name="l04704"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#af156ea88617d19e05470b8af2bb62dd9"> 4704</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#af156ea88617d19e05470b8af2bb62dd9">ScalarEvolution::getTruncateOrSignExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;                                                     <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp; Ty-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp;</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;         <span class="stringliteral">&quot;Cannot truncate or zero extend with non-integer arguments!&quot;</span>);</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) &gt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(V, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(V, Ty, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;}</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160; </div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l04717"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b"> 4717</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">ScalarEvolution::getNoopOrZeroExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp; Ty-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp;</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;         <span class="stringliteral">&quot;Cannot noop or zero extend with non-integer arguments!&quot;</span>);</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) &lt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;         <span class="stringliteral">&quot;getNoopOrZeroExtend cannot truncate!&quot;</span>);</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(V, Ty);</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;}</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160; </div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l04729"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a38c440751f1bf5f19bc12b95f8f0f2a6"> 4729</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a38c440751f1bf5f19bc12b95f8f0f2a6">ScalarEvolution::getNoopOrSignExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp; Ty-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp;</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;         <span class="stringliteral">&quot;Cannot noop or sign extend with non-integer arguments!&quot;</span>);</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) &lt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;         <span class="stringliteral">&quot;getNoopOrSignExtend cannot truncate!&quot;</span>);</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(V, Ty);</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;}</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160; </div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l04741"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a829bd04a95f833114e36a195c7e67f0a"> 4741</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a829bd04a95f833114e36a195c7e67f0a">ScalarEvolution::getNoopOrAnyExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp; Ty-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp;</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;         <span class="stringliteral">&quot;Cannot noop or any extend with non-integer arguments!&quot;</span>);</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) &lt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;         <span class="stringliteral">&quot;getNoopOrAnyExtend cannot truncate!&quot;</span>);</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156">getAnyExtendExpr</a>(V, Ty);</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;}</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160; </div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l04753"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a426976cfd81411f49f7e5fe77ee4e3a4"> 4753</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a426976cfd81411f49f7e5fe77ee4e3a4">ScalarEvolution::getTruncateOrNoop</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp; Ty-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp;</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;         <span class="stringliteral">&quot;Cannot truncate or noop with non-integer arguments!&quot;</span>);</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) &gt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;         <span class="stringliteral">&quot;getTruncateOrNoop cannot extend!&quot;</span>);</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SrcTy) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty))</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(V, Ty);</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;}</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160; </div>
<div class="line"><a name="l04764"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a254484ad2e230cf0db1f2c779abfe39c"> 4764</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a254484ad2e230cf0db1f2c779abfe39c">ScalarEvolution::getUMaxFromMismatchedTypes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;                                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PromotedLHS = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PromotedRHS = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160; </div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &gt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;    PromotedRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;    PromotedLHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">getNoopOrZeroExtend</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160; </div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(PromotedLHS, PromotedRHS);</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;}</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160; </div>
<div class="line"><a name="l04777"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395"> 4777</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">ScalarEvolution::getUMinFromMismatchedTypes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;                                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;                                                        <span class="keywordtype">bool</span> Sequential) {</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Ops = { <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> };</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">getUMinFromMismatchedTypes</a>(Ops, Sequential);</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;}</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160; </div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l04785"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aef86e2e34d31e4595f5a442fe55ecbe9"> 4785</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">ScalarEvolution::getUMinFromMismatchedTypes</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops,</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;                                            <span class="keywordtype">bool</span> Sequential) {</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Ops.empty() &amp;&amp; <span class="stringliteral">&quot;At least one operand must be!&quot;</span>);</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;  <span class="comment">// Trivial case.</span></div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;  <span class="keywordflow">if</span> (Ops.size() == 1)</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;    <span class="keywordflow">return</span> Ops[0];</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160; </div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;  <span class="comment">// Find the max type first.</span></div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *MaxType = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : Ops)</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;    <span class="keywordflow">if</span> (MaxType)</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;      MaxType = <a class="code" href="classllvm_1_1ScalarEvolution.html#a10cde7087f90dc664b6799814aa28584">getWiderType</a>(MaxType, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getType());</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;      MaxType = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getType();</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MaxType &amp;&amp; <span class="stringliteral">&quot;Failed to find maximum type!&quot;</span>);</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160; </div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;  <span class="comment">// Extend all ops to max type.</span></div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> PromotedOps;</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : Ops)</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;    PromotedOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">getNoopOrZeroExtend</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, MaxType));</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160; </div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;  <span class="comment">// Generate umin.</span></div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(PromotedOps, Sequential);</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;}</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160; </div>
<div class="line"><a name="l04810"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e"> 4810</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">ScalarEvolution::getPointerBase</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V) {</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;  <span class="comment">// A pointer operand may evaluate to a nonpointer expression, such as null.</span></div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;  <span class="keywordflow">if</span> (!V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160; </div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(V)) {</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;      V = AddRec-&gt;getStart();</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Add = dyn_cast&lt;SCEVAddExpr&gt;(V)) {</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PtrOp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *AddOp : Add-&gt;operands()) {</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;        <span class="keywordflow">if</span> (AddOp-&gt;getType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!PtrOp &amp;&amp; <span class="stringliteral">&quot;Cannot have multiple pointer ops&quot;</span>);</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;          PtrOp = AddOp;</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;        }</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;      }</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PtrOp &amp;&amp; <span class="stringliteral">&quot;Must have pointer op&quot;</span>);</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;      V = PtrOp;</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    } <span class="keywordflow">else</span> <span class="comment">// Not something we can look further into.</span></div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;  }</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;}</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;<span class="comment">/// Push users of the given Instruction onto the given Worklist.</span></div>
<div class="line"><a name="l04834"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a8c47deb9ff88d1453a3fde3200347a95"> 4834</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScalarEvolution_8cpp.html#a8c47deb9ff88d1453a3fde3200347a95">PushDefUseChildren</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;                               <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Instruction *&gt;</a> &amp;Worklist,</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;                               <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;Instruction *&gt;</a> &amp;Visited) {</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  <span class="comment">// Push the def-use children onto the Worklist stack.</span></div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;users()) {</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;    <span class="keyword">auto</span> *UserInsn = cast&lt;Instruction&gt;(U);</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(UserInsn).second)</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;      Worklist.push_back(UserInsn);</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;  }</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;}</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160; </div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;<span class="comment">/// Takes SCEV S and Loop L. For each AddRec sub-expression, use its start</span></div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;<span class="comment">/// expression in case its Loop is L. If it is not L then</span></div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;<span class="comment">/// if IgnoreOtherLoops is true then use AddRec itself</span></div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;<span class="comment">/// otherwise rewrite cannot be done.</span></div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;<span class="comment">/// If SCEV contains non-invariant unknown SCEV rewrite cannot be done.</span></div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;<span class="comment"></span><span class="keyword">class </span>SCEVInitRewriter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>&lt;SCEVInitRewriter&gt; {</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">rewrite</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;                             <span class="keywordtype">bool</span> IgnoreOtherLoops = <span class="keyword">true</span>) {</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;    SCEVInitRewriter <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>(L, SE);</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.visit(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.hasSeenLoopVariantSCEVUnknown())</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.hasSeenOtherLoops() &amp;&amp; !IgnoreOtherLoops</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;               ? SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;               : <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;  }</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160; </div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;    <span class="keywordflow">if</span> (!SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(Expr, L))</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;      SeenLoopVariantSCEVUnknown = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;  }</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160; </div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitAddRecExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *Expr) {</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;    <span class="comment">// Only re-write AddRecExprs for this loop.</span></div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;    <span class="keywordflow">if</span> (Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() == L)</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;      <span class="keywordflow">return</span> Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>();</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    SeenOtherLoops = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;  }</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160; </div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;  <span class="keywordtype">bool</span> hasSeenLoopVariantSCEVUnknown() { <span class="keywordflow">return</span> SeenLoopVariantSCEVUnknown; }</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160; </div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;  <span class="keywordtype">bool</span> hasSeenOtherLoops() { <span class="keywordflow">return</span> SeenOtherLoops; }</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160; </div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;  <span class="keyword">explicit</span> SCEVInitRewriter(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE)</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;      : <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>(SE), L(L) {}</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160; </div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L;</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;  <span class="keywordtype">bool</span> SeenLoopVariantSCEVUnknown = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;  <span class="keywordtype">bool</span> SeenOtherLoops = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;};</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;<span class="comment">/// Takes SCEV S and Loop L. For each AddRec sub-expression, use its post</span></div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;<span class="comment">/// increment expression in case its Loop is L. If it is not L then</span></div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;<span class="comment">/// use AddRec itself.</span></div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;<span class="comment">/// If SCEV contains non-invariant unknown SCEV rewrite cannot be done.</span></div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;<span class="comment"></span><span class="keyword">class </span>SCEVPostIncRewriter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>&lt;SCEVPostIncRewriter&gt; {</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">rewrite</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;    SCEVPostIncRewriter <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>(L, SE);</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.visit(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.hasSeenLoopVariantSCEVUnknown()</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;        ? SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        : <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;  }</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160; </div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;    <span class="keywordflow">if</span> (!SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(Expr, L))</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;      SeenLoopVariantSCEVUnknown = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;    <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;  }</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160; </div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitAddRecExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *Expr) {</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;    <span class="comment">// Only re-write AddRecExprs for this loop.</span></div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;    <span class="keywordflow">if</span> (Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() == L)</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;      <span class="keywordflow">return</span> Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a8e3dc6f52dcd0a9cf61508d5703cbe57">getPostIncExpr</a>(SE);</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;    SeenOtherLoops = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;    <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;  }</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160; </div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;  <span class="keywordtype">bool</span> hasSeenLoopVariantSCEVUnknown() { <span class="keywordflow">return</span> SeenLoopVariantSCEVUnknown; }</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160; </div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;  <span class="keywordtype">bool</span> hasSeenOtherLoops() { <span class="keywordflow">return</span> SeenOtherLoops; }</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160; </div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;  <span class="keyword">explicit</span> SCEVPostIncRewriter(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE)</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;      : <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>(SE), L(L) {}</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160; </div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L;</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;  <span class="keywordtype">bool</span> SeenLoopVariantSCEVUnknown = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;  <span class="keywordtype">bool</span> SeenOtherLoops = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;};</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;<span class="comment">/// This class evaluates the compare condition by matching it against the</span></div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;<span class="comment">/// condition of loop latch. If there is a match we assume a true value</span></div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;<span class="comment">/// for the condition while building SCEV nodes.</span></div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;<span class="comment"></span><span class="keyword">class </span>SCEVBackedgeConditionFolder</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>&lt;SCEVBackedgeConditionFolder&gt; {</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">rewrite</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;                             <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;    <span class="keywordtype">bool</span> IsPosBECond = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *BECond = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>()) {</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;      <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = dyn_cast&lt;BranchInst&gt;(Latch-&gt;getTerminator());</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;      <span class="keywordflow">if</span> (BI &amp;&amp; BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a7e4be8b16fbd68c9045a388904044e01">isConditional</a>()) {</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0) != BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(1) &amp;&amp;</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;               <span class="stringliteral">&quot;Both outgoing branches should not target same header!&quot;</span>);</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;        BECond = BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">getCondition</a>();</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;        IsPosBECond = BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0) == L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>();</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;      }</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    }</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;    SCEVBackedgeConditionFolder <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>(L, BECond, IsPosBECond, SE);</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.visit(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;  }</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160; </div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = Expr;</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;    <span class="keywordtype">bool</span> InvariantF = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(Expr, L);</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160; </div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    <span class="keywordflow">if</span> (!InvariantF) {</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = cast&lt;Instruction&gt;(Expr-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>());</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>: {</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;        <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = cast&lt;SelectInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;        std::optional&lt;const SCEV *&gt; Res =</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;            compareWithBackedgeCondition(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getCondition());</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;        <span class="keywordflow">if</span> (Res) {</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;          <span class="keywordtype">bool</span> IsOne = cast&lt;SCEVConstant&gt;(*Res)-&gt;getValue()-&gt;isOne();</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;          <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(IsOne ? <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getTrueValue() : <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getFalseValue());</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;        }</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;      }</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;      <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;        std::optional&lt;const SCEV *&gt; Res = compareWithBackedgeCondition(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;        <span class="keywordflow">if</span> (Res)</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;          <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = *Res;</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;      }</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;      }</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;    }</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;  }</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160; </div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;  <span class="keyword">explicit</span> SCEVBackedgeConditionFolder(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1Value.html">Value</a> *BECond,</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;                                       <span class="keywordtype">bool</span> IsPosBECond, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE)</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;      : <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>(SE), L(L), BackedgeCond(BECond),</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;        IsPositiveBECond(IsPosBECond) {}</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160; </div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;  std::optional&lt;const SCEV *&gt; compareWithBackedgeCondition(<a class="code" href="classllvm_1_1Value.html">Value</a> *IC);</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160; </div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L;<span class="comment"></span></div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;<span class="comment">  /// Loop back condition.</span></div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *BackedgeCond = <span class="keyword">nullptr</span>;<span class="comment"></span></div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;<span class="comment">  /// Set to true if loop back is on positive branch condition.</span></div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> IsPositiveBECond;</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;};</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160; </div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;std::optional&lt;const SCEV *&gt;</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;SCEVBackedgeConditionFolder::compareWithBackedgeCondition(<a class="code" href="classllvm_1_1Value.html">Value</a> *IC) {</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160; </div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;  <span class="comment">// If value matches the backedge condition for loop latch,</span></div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;  <span class="comment">// then return a constant evolution node based on loopback</span></div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;  <span class="comment">// branch taken.</span></div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;  <span class="keywordflow">if</span> (BackedgeCond == IC)</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;    <span class="keywordflow">return</span> IsPositiveBECond ? SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(<a class="code" href="classllvm_1_1Type.html#aa75984a442f2379de0c66018201fa628">Type::getInt1Ty</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>()))</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;                            : SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="classllvm_1_1Type.html#aa75984a442f2379de0c66018201fa628">Type::getInt1Ty</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>()));</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;}</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160; </div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;<span class="keyword">class </span>SCEVShiftRewriter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>&lt;SCEVShiftRewriter&gt; {</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">rewrite</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;                             <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;    SCEVShiftRewriter <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>(L, SE);</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.visit(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.<a class="code" href="classllvm_1_1Register.html#a4a6966b99e305bd6f01fb17c645ae3da">isValid</a>() ? <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> : SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;  }</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160; </div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;    <span class="comment">// Only allow AddRecExprs for this loop.</span></div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    <span class="keywordflow">if</span> (!SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(Expr, L))</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;      Valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;    <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;  }</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160; </div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitAddRecExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *Expr) {</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;    <span class="keywordflow">if</span> (Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() == L &amp;&amp; Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>())</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Expr, Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(SE));</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;    Valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;    <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;  }</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160; </div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="RustDemangle_8cpp.html#a103d8cfe62c1651cd70e181746f8a840">isValid</a>() { <span class="keywordflow">return</span> Valid; }</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160; </div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;  <span class="keyword">explicit</span> SCEVShiftRewriter(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE)</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;      : <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>(SE), L(L) {}</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160; </div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L;</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;  <span class="keywordtype">bool</span> Valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;};</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160; </div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160; </div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a></div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;ScalarEvolution::proveNoWrapViaConstantRanges(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR) {</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;  <span class="keywordflow">if</span> (!AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>())</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160; </div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;  <span class="keyword">using</span> OBO = <a class="code" href="classllvm_1_1OverflowingBinaryOperator.html">OverflowingBinaryOperator</a>;</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160; </div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160; </div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;  <span class="keywordflow">if</span> (!AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a71deee7ef49ab5407b7e1aa758b6ec0a">hasNoSignedWrap</a>()) {</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> AddRecRange = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(AR);</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> IncRange = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160; </div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;    <span class="keyword">auto</span> NSWRegion = <a class="code" href="classllvm_1_1ConstantRange.html#ace208c0bd1d845fe49f319be6a954764">ConstantRange::makeGuaranteedNoWrapRegion</a>(</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;        <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, IncRange, OBO::NoSignedWrap);</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;    <span class="keywordflow">if</span> (NSWRegion.contains(AddRecRange))</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Result, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;  }</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160; </div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;  <span class="keywordflow">if</span> (!AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a09cc70290a71475141063b6dff42a5d2">hasNoUnsignedWrap</a>()) {</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> AddRecRange = <a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(AR);</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> IncRange = <a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160; </div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;    <span class="keyword">auto</span> NUWRegion = <a class="code" href="classllvm_1_1ConstantRange.html#ace208c0bd1d845fe49f319be6a954764">ConstantRange::makeGuaranteedNoWrapRegion</a>(</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;        <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, IncRange, OBO::NoUnsignedWrap);</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;    <span class="keywordflow">if</span> (NUWRegion.contains(AddRecRange))</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Result, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;  }</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160; </div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;}</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160; </div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a></div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;ScalarEvolution::proveNoSignedWrapViaInduction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR) {</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>();</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160; </div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;  <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a71deee7ef49ab5407b7e1aa758b6ec0a">hasNoSignedWrap</a>())</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160; </div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;  <span class="keywordflow">if</span> (!AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>())</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160; </div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;  <span class="comment">// This function can be expensive, only try to prove NSW once per AddRec.</span></div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;  <span class="keywordflow">if</span> (!SignedWrapViaInductionTried.insert(AR).second)</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160; </div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>();</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160; </div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;  <span class="comment">// Check whether the backedge-taken count is SCEVCouldNotCompute.</span></div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;  <span class="comment">// Note that this serves two purposes: It filters out loops that are</span></div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;  <span class="comment">// simply not analyzable, and it covers the case where this code is</span></div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;  <span class="comment">// being called from within backedge-taken count analysis, such that</span></div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;  <span class="comment">// attempting to ask for the backedge-taken count would likely result</span></div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;  <span class="comment">// in infinite recursion. In the later case, the analysis code will</span></div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;  <span class="comment">// cope with a conservative value, and it will take care to purge</span></div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;  <span class="comment">// that value once it has finished.</span></div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a80d7048687367a15d267ac5418b8a168">getConstantMaxBackedgeTakenCount</a>(L);</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160; </div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;  <span class="comment">// Normally, in the cases we can prove no-overflow via a</span></div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;  <span class="comment">// backedge guarding condition, we can also compute a backedge</span></div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;  <span class="comment">// taken count for the loop.  The exceptions are assumptions and</span></div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;  <span class="comment">// guards present in the loop -- SCEV is not great at exploiting</span></div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;  <span class="comment">// these to compute max backedge taken counts, but can still use</span></div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;  <span class="comment">// these to prove lack of overflow.  Use this fact to avoid</span></div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;  <span class="comment">// doing extra work that may not pay off.</span></div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160; </div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(MaxBECount) &amp;&amp; AC.<a class="code" href="classllvm_1_1AssumptionCache.html#a9af26068ead88bf19cbf15167e82d200">assumptions</a>().empty())</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160; </div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;  <span class="comment">// If the backedge is guarded by a comparison with the pre-inc  value the</span></div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;  <span class="comment">// addrec is safe. Also, if the entry is guarded by a comparison with the</span></div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;  <span class="comment">// start value and the backedge is guarded by a comparison with the post-inc</span></div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;  <span class="comment">// value, the addrec is safe.</span></div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OverflowLimit =</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a7026c24c62fdbb46fe47dce8688c6943">getSignedOverflowLimitForStep</a>(Step, &amp;Pred, <span class="keyword">this</span>);</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;  <span class="keywordflow">if</span> (OverflowLimit &amp;&amp;</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;      (<a class="code" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">isLoopBackedgeGuardedByCond</a>(L, Pred, AR, OverflowLimit) ||</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;       <a class="code" href="classllvm_1_1ScalarEvolution.html#a68f0233de81fa48662571534730a3ad6">isKnownOnEveryIteration</a>(Pred, AR, OverflowLimit))) {</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;    <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Result, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;  }</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;}</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a></div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;ScalarEvolution::proveNoUnsignedWrapViaInduction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR) {</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>();</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160; </div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;  <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a09cc70290a71475141063b6dff42a5d2">hasNoUnsignedWrap</a>())</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160; </div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;  <span class="keywordflow">if</span> (!AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>())</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160; </div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;  <span class="comment">// This function can be expensive, only try to prove NUW once per AddRec.</span></div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;  <span class="keywordflow">if</span> (!UnsignedWrapViaInductionTried.insert(AR).second)</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160; </div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>());</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>();</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160; </div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;  <span class="comment">// Check whether the backedge-taken count is SCEVCouldNotCompute.</span></div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;  <span class="comment">// Note that this serves two purposes: It filters out loops that are</span></div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;  <span class="comment">// simply not analyzable, and it covers the case where this code is</span></div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;  <span class="comment">// being called from within backedge-taken count analysis, such that</span></div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;  <span class="comment">// attempting to ask for the backedge-taken count would likely result</span></div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;  <span class="comment">// in infinite recursion. In the later case, the analysis code will</span></div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;  <span class="comment">// cope with a conservative value, and it will take care to purge</span></div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;  <span class="comment">// that value once it has finished.</span></div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a80d7048687367a15d267ac5418b8a168">getConstantMaxBackedgeTakenCount</a>(L);</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160; </div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;  <span class="comment">// Normally, in the cases we can prove no-overflow via a</span></div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;  <span class="comment">// backedge guarding condition, we can also compute a backedge</span></div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;  <span class="comment">// taken count for the loop.  The exceptions are assumptions and</span></div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;  <span class="comment">// guards present in the loop -- SCEV is not great at exploiting</span></div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;  <span class="comment">// these to compute max backedge taken counts, but can still use</span></div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;  <span class="comment">// these to prove lack of overflow.  Use this fact to avoid</span></div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;  <span class="comment">// doing extra work that may not pay off.</span></div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160; </div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(MaxBECount) &amp;&amp; AC.<a class="code" href="classllvm_1_1AssumptionCache.html#a9af26068ead88bf19cbf15167e82d200">assumptions</a>().empty())</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160; </div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;  <span class="comment">// If the backedge is guarded by a comparison with the pre-inc  value the</span></div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;  <span class="comment">// addrec is safe. Also, if the entry is guarded by a comparison with the</span></div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;  <span class="comment">// start value and the backedge is guarded by a comparison with the post-inc</span></div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;  <span class="comment">// value, the addrec is safe.</span></div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(Step)) {</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) -</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;                                <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(Step));</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">isLoopBackedgeGuardedByCond</a>(L, <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>, AR, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) ||</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a68f0233de81fa48662571534730a3ad6">isKnownOnEveryIteration</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>, AR, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Result, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;    }</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;  }</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160; </div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;}</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160; </div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;<span class="comment">/// Represents an abstract binary operation.  This may exist as a</span></div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;<span class="comment">/// normal instruction or constant expression, or may have been</span></div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;<span class="comment">/// derived from an expression tree.</span></div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;<span class="comment"></span><span class="keyword">struct </span>BinaryOp {</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;  <span class="keywordtype">unsigned</span> Opcode;</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;  <span class="keywordtype">bool</span> IsNSW = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;  <span class="keywordtype">bool</span> IsNUW = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;<span class="comment">  /// Op is set if this BinaryOp corresponds to a concrete LLVM instruction or</span></div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;<span class="comment">  /// constant expression.</span></div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Operator.html">Operator</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160; </div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;  <span class="keyword">explicit</span> BinaryOp(<a class="code" href="classllvm_1_1Operator.html">Operator</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;      : Opcode(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;<a class="code" href="VPlanSLP_8cpp.html#af04704e906a9654777e92a4612c58c13">getOpcode</a>()), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0)), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1)),</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *OBO = dyn_cast&lt;OverflowingBinaryOperator&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;      IsNSW = OBO-&gt;hasNoSignedWrap();</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;      IsNUW = OBO-&gt;hasNoUnsignedWrap();</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;    }</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;  }</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160; </div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;  <span class="keyword">explicit</span> BinaryOp(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keywordtype">bool</span> IsNSW = <span class="keyword">false</span>,</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;                    <span class="keywordtype">bool</span> IsNUW = <span class="keyword">false</span>)</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;      : Opcode(Opcode), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), IsNSW(IsNSW), IsNUW(IsNUW) {}</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;};</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160; </div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;<span class="comment">/// Try to map \p V into a BinaryOp, and return \c std::nullopt on failure.</span></div>
<div class="line"><a name="l05220"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f"> 5220</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> std::optional&lt;BinaryOp&gt; <a class="code" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;                                             <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC,</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT,</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CxtI) {</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = dyn_cast&lt;Operator&gt;(V);</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160; </div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;  <span class="comment">// Implementation detail: all the cleverness here should happen without</span></div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;  <span class="comment">// creating new SCEV expressions -- our caller knowns tricks to avoid creating</span></div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;  <span class="comment">// SCEV expressions when possible, and we should not break that.</span></div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160; </div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>:</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>:</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;  <span class="keywordflow">case</span> Instruction::URem:</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;  <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;    <span class="keywordflow">return</span> BinaryOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160; </div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;  <span class="keywordflow">case</span> Instruction::Or: {</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;    <span class="comment">// LLVM loves to convert `add` of operands with no common bits</span></div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;    <span class="comment">// into an `or`. But SCEV really doesn&#39;t deal with `or` that well,</span></div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;    <span class="comment">// so try extra hard to recognize this `or` as an `add`.</span></div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aa0f28bd61d319f9fd170e9ffee1ec7ba">haveNoCommonBitsSet</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;AC, CxtI,</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;                            &amp;DT, <span class="comment">/*UseInstrInfo=*/</span><span class="keyword">true</span>))</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;      <span class="keywordflow">return</span> BinaryOp(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1),</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;                      <span class="comment">/*IsNSW=*/</span><span class="keyword">true</span>, <span class="comment">/*IsNUW=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;    <span class="keywordflow">return</span> BinaryOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;  }</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160; </div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;  <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *RHSC = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1)))</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;      <span class="comment">// If the RHS of the xor is a signmask, then this is just an add.</span></div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;      <span class="comment">// Instcombine turns add of signmask into xor as a strength reduction step.</span></div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;      <span class="keywordflow">if</span> (RHSC-&gt;getValue().isSignMask())</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;        <span class="keywordflow">return</span> BinaryOp(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;    <span class="comment">// Binary `xor` is a bit-wise `add`.</span></div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;    <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(1))</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;      <span class="keywordflow">return</span> BinaryOp(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;    <span class="keywordflow">return</span> BinaryOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160; </div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;    <span class="comment">// Turn logical shift right of a constant into a unsigned divide.</span></div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SA = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1))) {</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = cast&lt;IntegerType&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType())-&gt;getBitWidth();</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160; </div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;      <span class="comment">// If the shift count is not less than the bitwidth, the result of</span></div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;      <span class="comment">// the shift is undefined. Don&#39;t try to analyze it, because the</span></div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;      <span class="comment">// resolution chosen here may differ from the resolution chosen in</span></div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;      <span class="comment">// other parts of the compiler.</span></div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;      <span class="keywordflow">if</span> (SA-&gt;getValue().ult(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)) {</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> =</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;            <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(SA-&gt;getContext(),</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;                             <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, SA-&gt;getZExtValue()));</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;        <span class="keywordflow">return</span> BinaryOp(Instruction::UDiv, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;      }</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    }</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;    <span class="keywordflow">return</span> BinaryOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160; </div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;  <span class="keywordflow">case</span> Instruction::ExtractValue: {</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;    <span class="keyword">auto</span> *EVI = cast&lt;ExtractValueInst&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;    <span class="keywordflow">if</span> (EVI-&gt;getNumIndices() != 1 || EVI-&gt;getIndices()[0] != 0)</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160; </div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;    <span class="keyword">auto</span> *WO = dyn_cast&lt;WithOverflowInst&gt;(EVI-&gt;getAggregateOperand());</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;    <span class="keywordflow">if</span> (!WO)</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160; </div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> BinOp = WO-&gt;getBinaryOp();</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = WO-&gt;isSigned();</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;    <span class="comment">// TODO: Should add nuw/nsw flags for mul as well.</span></div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;    <span class="keywordflow">if</span> (BinOp == <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a> || !<a class="code" href="namespacellvm.html#a5804b68ebc77c8751a9cb4e066735450">isOverflowIntrinsicNoWrap</a>(WO, DT))</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;      <span class="keywordflow">return</span> BinaryOp(BinOp, WO-&gt;getLHS(), WO-&gt;getRHS());</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160; </div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;    <span class="comment">// Now that we know that all uses of the arithmetic-result component of</span></div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    <span class="comment">// CI are guarded by the overflow check, we can go ahead and pretend</span></div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;    <span class="comment">// that the arithmetic is non-overflowing.</span></div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;    <span class="keywordflow">return</span> BinaryOp(BinOp, WO-&gt;getLHS(), WO-&gt;getRHS(),</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;                    <span class="comment">/* IsNSW = */</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>, <span class="comment">/* IsNUW = */</span> !<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>);</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;  }</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160; </div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;  }</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160; </div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;  <span class="comment">// Recognise intrinsic loop.decrement.reg, and as this has exactly the same</span></div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;  <span class="comment">// semantics as a Sub, return a binary sub expression.</span></div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(V))</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;    <span class="keywordflow">if</span> (II-&gt;getIntrinsicID() == Intrinsic::loop_decrement_reg)</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;      <span class="keywordflow">return</span> BinaryOp(Instruction::Sub, II-&gt;getOperand(0), II-&gt;getOperand(1));</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160; </div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;}</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;<span class="comment">/// Helper function to createAddRecFromPHIWithCasts. We have a phi</span></div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;<span class="comment">/// node whose symbolic (unknown) SCEV is \p SymbolicPHI, which is updated via</span></div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;<span class="comment">/// the loop backedge by a SCEVAddExpr, possibly also with a few casts on the</span></div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;<span class="comment">/// way. This function checks if \p Op, an operand of this SCEVAddExpr,</span></div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;<span class="comment">/// follows one of the following patterns:</span></div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;<span class="comment">/// Op == (SExt ix (Trunc iy (%SymbolicPHI) to ix) to iy)</span></div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;<span class="comment">/// Op == (ZExt ix (Trunc iy (%SymbolicPHI) to ix) to iy)</span></div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;<span class="comment">/// If the SCEV expression of \p Op conforms with one of the expected patterns</span></div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;<span class="comment">/// we return the type of the truncation operation, and indicate whether the</span></div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;<span class="comment">/// truncated type should be treated as signed/unsigned by setting</span></div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;<span class="comment">/// \p Signed to true/false, respectively.</span></div>
<div class="line"><a name="l05329"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aec8a152b46535b3f832b154e3085d2af"> 5329</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="ScalarEvolution_8cpp.html#aec8a152b46535b3f832b154e3085d2af">isSimpleCastedPHI</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *SymbolicPHI,</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;                               <span class="keywordtype">bool</span> &amp;<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;  <span class="comment">// The case where Op == SymbolicPHI (that is, with no type conversions on</span></div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;  <span class="comment">// the way) is handled by the regular add recurrence creating logic and</span></div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;  <span class="comment">// would have already been triggered in createAddRecForPHI. Reaching it here</span></div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;  <span class="comment">// means that createAddRecFromPHI had failed for this PHI before (e.g.,</span></div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;  <span class="comment">// because one of the other operands of the SCEVAddExpr updating this PHI is</span></div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;  <span class="comment">// not invariant).</span></div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;  <span class="comment">// Here we look for the case where Op = (ext(trunc(SymbolicPHI))), and in</span></div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;  <span class="comment">// this case predicates that allow us to prove that Op == SymbolicPHI will</span></div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;  <span class="comment">// be added.</span></div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> == SymbolicPHI)</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160; </div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;  <span class="keywordtype">unsigned</span> SourceBits = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(SymbolicPHI-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad5a0788fd78a5c5269fcaf45164b6e9a">getType</a>());</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;  <span class="keywordtype">unsigned</span> NewBits = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType());</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;  <span class="keywordflow">if</span> (SourceBits != NewBits)</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160; </div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SExt = dyn_cast&lt;SCEVSignExtendExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;  <span class="keywordflow">if</span> (!SExt &amp;&amp; !ZExt)</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Trunc =</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;      SExt ? dyn_cast&lt;SCEVTruncateExpr&gt;(SExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>())</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;           : dyn_cast&lt;SCEVTruncateExpr&gt;(ZExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>());</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;  <span class="keywordflow">if</span> (!Trunc)</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = Trunc-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>();</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> != SymbolicPHI)</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;  <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = SExt != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;  <span class="keywordflow">return</span> Trunc-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>();</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;}</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160; </div>
<div class="line"><a name="l05365"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a3fc83010f49fffc0997db370a3e0512d"> 5365</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *<a class="code" href="ScalarEvolution_8cpp.html#a3fc83010f49fffc0997db370a3e0512d">isIntegerLoopHeaderPHI</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN, <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI) {</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;  <span class="keywordflow">if</span> (!PN-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>())</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;  <span class="keywordflow">if</span> (!L || L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>() != PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>())</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;  <span class="keywordflow">return</span> L;</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;}</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160; </div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;<span class="comment">// Analyze \p SymbolicPHI, a SCEV expression of a phi node, and check if the</span></div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;<span class="comment">// computation that updates the phi follows the following pattern:</span></div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;<span class="comment">//   (SExt/ZExt ix (Trunc iy (%SymbolicPHI) to ix) to iy) + InvariantAccum</span></div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;<span class="comment">// which correspond to a phi-&gt;trunc-&gt;sext/zext-&gt;add-&gt;phi update chain.</span></div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;<span class="comment">// If so, try to see if it can be rewritten as an AddRecExpr under some</span></div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;<span class="comment">// Predicates. If successful, return them as a pair. Also cache the results</span></div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;<span class="comment">// of the analysis.</span></div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;<span class="comment">// Example usage scenario:</span></div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;<span class="comment">//    Say the Rewriter is called for the following SCEV:</span></div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;<span class="comment">//         8 * ((sext i32 (trunc i64 %X to i32) to i64) + %Step)</span></div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;<span class="comment">//    where:</span></div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;<span class="comment">//         %X = phi i64 (%Start, %BEValue)</span></div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;<span class="comment">//    It will visitMul-&gt;visitAdd-&gt;visitSExt-&gt;visitTrunc-&gt;visitUnknown(%X),</span></div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;<span class="comment">//    and call this function with %SymbolicPHI = %X.</span></div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;<span class="comment">//    The analysis will find that the value coming around the backedge has</span></div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;<span class="comment">//    the following SCEV:</span></div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;<span class="comment">//         BEValue = ((sext i32 (trunc i64 %X to i32) to i64) + %Step)</span></div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;<span class="comment">//    Upon concluding that this matches the desired pattern, the function</span></div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;<span class="comment">//    will return the pair {NewAddRec, SmallPredsVec} where:</span></div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;<span class="comment">//         NewAddRec = {%Start,+,%Step}</span></div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;<span class="comment">//         SmallPredsVec = {P1, P2, P3} as follows:</span></div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;<span class="comment">//           P1(WrapPred): AR: {trunc(%Start),+,(trunc %Step)}&lt;nsw&gt; Flags: &lt;nssw&gt;</span></div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;<span class="comment">//           P2(EqualPred): %Start == (sext i32 (trunc i64 %Start to i32) to i64)</span></div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;<span class="comment">//           P3(EqualPred): %Step == (sext i32 (trunc i64 %Step to i32) to i64)</span></div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;<span class="comment">//    The returned pair means that SymbolicPHI can be rewritten into NewAddRec</span></div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;<span class="comment">//    under the predicates {P1,P2,P3}.</span></div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;<span class="comment">//    This predicated rewrite will be cached in PredicatedSCEVRewrites:</span></div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;<span class="comment">//         PredicatedSCEVRewrites[{%X,L}] = {NewAddRec, {P1,P2,P3)}</span></div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;<span class="comment">// TODO&#39;s:</span></div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;<span class="comment">// 1) Extend the Induction descriptor to also support inductions that involve</span></div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;<span class="comment">//    casts: When needed (namely, when we are called in the context of the</span></div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;<span class="comment">//    vectorizer induction analysis), a Set of cast instructions will be</span></div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;<span class="comment">//    populated by this method, and provided back to isInductionPHI. This is</span></div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;<span class="comment">//    needed to allow the vectorizer to properly record them to be ignored by</span></div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;<span class="comment">//    the cost model and to avoid vectorizing them (otherwise these casts,</span></div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;<span class="comment">//    which are redundant under the runtime overflow checks, will be</span></div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;<span class="comment">//    vectorized, which can be costly).</span></div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;<span class="comment">// 2) Support additional induction/PHISCEV patterns: We also want to support</span></div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;<span class="comment">//    inductions where the sext-trunc / zext-trunc operations (partly) occur</span></div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;<span class="comment">//    after the induction update operation (the induction increment):</span></div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;<span class="comment">//      (Trunc iy (SExt/ZExt ix (%SymbolicPHI + InvariantAccum) to iy) to ix)</span></div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;<span class="comment">//    which correspond to a phi-&gt;add-&gt;trunc-&gt;sext/zext-&gt;phi update chain.</span></div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;<span class="comment">//      (Trunc iy ((SExt/ZExt ix (%SymbolicPhi) to iy) + InvariantAccum) to ix)</span></div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;<span class="comment">//    which correspond to a phi-&gt;trunc-&gt;add-&gt;sext/zext-&gt;phi update chain.</span></div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;<span class="comment">// 3) Outline common code with createAddRecFromPHI to avoid duplication.</span></div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;std::optional&lt;std::pair&lt;const SCEV *, SmallVector&lt;const SCEVPredicate *, 3&gt;&gt;&gt;</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;ScalarEvolution::createAddRecFromPHIWithCastsImpl(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *SymbolicPHI) {</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEVPredicate *, 3&gt;</a> Predicates;</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160; </div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;  <span class="comment">// *** Part1: Analyze if we have a phi-with-cast pattern for which we can</span></div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;  <span class="comment">// return an AddRec expression under some predicate.</span></div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160; </div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;  <span class="keyword">auto</span> *PN = cast&lt;PHINode&gt;(SymbolicPHI-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>());</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = <a class="code" href="ScalarEvolution_8cpp.html#a3fc83010f49fffc0997db370a3e0512d">isIntegerLoopHeaderPHI</a>(PN, LI);</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L &amp;&amp; <span class="stringliteral">&quot;Expecting an integer loop header phi&quot;</span>);</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160; </div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;  <span class="comment">// The loop may have multiple entrances or multiple exits; we can analyze</span></div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;  <span class="comment">// this phi as an addrec if it has a unique entry value and a unique</span></div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;  <span class="comment">// backedge value.</span></div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValueV = <span class="keyword">nullptr</span>, *StartValueV = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = PN-&gt;getNumIncomingValues(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = PN-&gt;getIncomingValue(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;    <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(PN-&gt;getIncomingBlock(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;      <span class="keywordflow">if</span> (!BEValueV) {</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;        BEValueV = V;</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BEValueV != V) {</div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;        BEValueV = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;      }</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!StartValueV) {</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;      StartValueV = V;</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (StartValueV != V) {</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;      StartValueV = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;    }</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;  }</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;  <span class="keywordflow">if</span> (!BEValueV || !StartValueV)</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160; </div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BEValue = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BEValueV);</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160; </div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;  <span class="comment">// If the value coming around the backedge is an add with the symbolic</span></div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;  <span class="comment">// value we just inserted, possibly with casts that we can ignore under</span></div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;  <span class="comment">// an appropriate runtime guard, then we found a simple induction variable!</span></div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a> = dyn_cast&lt;SCEVAddExpr&gt;(BEValue);</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;  <span class="keywordflow">if</span> (!Add)</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160; </div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;  <span class="comment">// If there is a single occurrence of the symbolic value, possibly</span></div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;  <span class="comment">// casted, replace it with a recurrence.</span></div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;  <span class="keywordtype">unsigned</span> FoundIndex = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getNumOperands();</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *TruncTy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>;</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;    <span class="keywordflow">if</span> ((TruncTy =</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;             <a class="code" href="ScalarEvolution_8cpp.html#aec8a152b46535b3f832b154e3085d2af">isSimpleCastedPHI</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), SymbolicPHI, <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>, *<span class="keyword">this</span>)))</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;      <span class="keywordflow">if</span> (FoundIndex == <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>) {</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;        FoundIndex = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;      }</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160; </div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;  <span class="keywordflow">if</span> (FoundIndex == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getNumOperands())</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160; </div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;  <span class="comment">// Create an add with everything but the specified operand.</span></div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> Ops;</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != FoundIndex)</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;      Ops.push_back(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Accum = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops);</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160; </div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;  <span class="comment">// The runtime checks will not be valid if the step amount is</span></div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;  <span class="comment">// varying inside the loop.</span></div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(Accum, L))</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160; </div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;  <span class="comment">// *** Part2: Create the predicates</span></div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160; </div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;  <span class="comment">// Analysis was successful: we have a phi-with-cast pattern for which we</span></div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;  <span class="comment">// can return an AddRec expression under the following predicates:</span></div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;  <span class="comment">// P1: A Wrap predicate that guarantees that Trunc(Start) + i*Trunc(Accum)</span></div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;  <span class="comment">//     fits within the truncated type (does not overflow) for i = 0 to n-1.</span></div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;  <span class="comment">// P2: An Equal predicate that guarantees that</span></div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;  <span class="comment">//     Start = (Ext ix (Trunc iy (Start) to ix) to iy)</span></div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;  <span class="comment">// P3: An Equal predicate that guarantees that</span></div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;  <span class="comment">//     Accum = (Ext ix (Trunc iy (Accum) to ix) to iy)</span></div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;  <span class="comment">// As we next prove, the above predicates guarantee that:</span></div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;  <span class="comment">//     Start + i*Accum = (Ext ix (Trunc iy ( Start + i*Accum ) to ix) to iy)</span></div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;  <span class="comment">// More formally, we want to prove that:</span></div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;  <span class="comment">//     Expr(i+1) = Start + (i+1) * Accum</span></div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;  <span class="comment">//               = (Ext ix (Trunc iy (Expr(i)) to ix) to iy) + Accum</span></div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;  <span class="comment">// Given that:</span></div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;  <span class="comment">// 1) Expr(0) = Start</span></div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;  <span class="comment">// 2) Expr(1) = Start + Accum</span></div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;  <span class="comment">//            = (Ext ix (Trunc iy (Start) to ix) to iy) + Accum :: from P2</span></div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;  <span class="comment">// 3) Induction hypothesis (step i):</span></div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;  <span class="comment">//    Expr(i) = (Ext ix (Trunc iy (Expr(i-1)) to ix) to iy) + Accum</span></div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;  <span class="comment">// Proof:</span></div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;  <span class="comment">//  Expr(i+1) =</span></div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;  <span class="comment">//   = Start + (i+1)*Accum</span></div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;  <span class="comment">//   = (Start + i*Accum) + Accum</span></div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;  <span class="comment">//   = Expr(i) + Accum</span></div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;  <span class="comment">//   = (Ext ix (Trunc iy (Expr(i-1)) to ix) to iy) + Accum + Accum</span></div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;  <span class="comment">//                                                             :: from step i</span></div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;  <span class="comment">//   = (Ext ix (Trunc iy (Start + (i-1)*Accum) to ix) to iy) + Accum + Accum</span></div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;  <span class="comment">//   = (Ext ix (Trunc iy (Start + (i-1)*Accum) to ix) to iy)</span></div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;  <span class="comment">//     + (Ext ix (Trunc iy (Accum) to ix) to iy)</span></div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;  <span class="comment">//     + Accum                                                     :: from P3</span></div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;  <span class="comment">//   = (Ext ix (Trunc iy ((Start + (i-1)*Accum) + Accum) to ix) to iy)</span></div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;  <span class="comment">//     + Accum                            :: from P1: Ext(x)+Ext(y)=&gt;Ext(x+y)</span></div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;  <span class="comment">//   = (Ext ix (Trunc iy (Start + i*Accum) to ix) to iy) + Accum</span></div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;  <span class="comment">//   = (Ext ix (Trunc iy (Expr(i)) to ix) to iy) + Accum</span></div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;  <span class="comment">// By induction, the same applies to all iterations 1&lt;=i&lt;n:</span></div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160; </div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;  <span class="comment">// Create a truncated addrec for which we will add a no overflow check (P1).</span></div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *StartVal = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(StartValueV);</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PHISCEV =</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(StartVal, TruncTy),</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;                    <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(Accum, TruncTy), L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160; </div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;  <span class="comment">// PHISCEV can be either a SCEVConstant or a SCEVAddRecExpr.</span></div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;  <span class="comment">// ex: If truncated Accum is 0 and StartVal is a constant, then PHISCEV</span></div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;  <span class="comment">// will be constant.</span></div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;  <span class="comment">//  If PHISCEV is a constant, then P1 degenerates into P2 or P3, so we don&#39;t</span></div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;  <span class="comment">// add P1.</span></div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(PHISCEV)) {</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;    <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">SCEVWrapPredicate::IncrementWrapFlags</a> AddedFlags =</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;        <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70aa4c321f736f542d50b81bb06351f7fce">SCEVWrapPredicate::IncrementNSSW</a></div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;               : <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70a17e825823d4b6a92c1b221c4460c91a3">SCEVWrapPredicate::IncrementNUSW</a>;</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *AddRecPred = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8b4da0fed92ca11bf8cb2fd763168d3c">getWrapPredicate</a>(AR, AddedFlags);</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;    Predicates.push_back(AddRecPred);</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;  }</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160; </div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;  <span class="comment">// Create the Equal Predicates P2,P3:</span></div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160; </div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;  <span class="comment">// It is possible that the predicates P2 and/or P3 are computable at</span></div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;  <span class="comment">// compile time due to StartVal and/or Accum being constants.</span></div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;  <span class="comment">// If either one is, then we can check that now and escape if either P2</span></div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;  <span class="comment">// or P3 is false.</span></div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160; </div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;  <span class="comment">// Construct the extended SCEV: (Ext ix (Trunc iy (Expr) to ix) to iy)</span></div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;  <span class="comment">// for each of StartVal and Accum</span></div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;  <span class="keyword">auto</span> getExtendedExpr = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr,</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;                             <span class="keywordtype">bool</span> CreateSignExtend) -&gt; <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> * {</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(Expr, L) &amp;&amp; <span class="stringliteral">&quot;Expr is expected to be invariant&quot;</span>);</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TruncatedExpr = <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(Expr, TruncTy);</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExtendedExpr =</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;        CreateSignExtend ? <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(TruncatedExpr, Expr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>())</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;                         : <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(TruncatedExpr, Expr-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;    <span class="keywordflow">return</span> ExtendedExpr;</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;  };</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160; </div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;  <span class="comment">// Given:</span></div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;  <span class="comment">//  ExtendedExpr = (Ext ix (Trunc iy (Expr) to ix) to iy</span></div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;  <span class="comment">//               = getExtendedExpr(Expr)</span></div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;  <span class="comment">// Determine whether the predicate P: Expr == ExtendedExpr</span></div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;  <span class="comment">// is known to be false at compile time</span></div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;  <span class="keyword">auto</span> PredIsKnownFalse = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr,</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExtendedExpr) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;    <span class="keywordflow">return</span> Expr != ExtendedExpr &amp;&amp;</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;           <a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>, Expr, ExtendedExpr);</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;  };</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160; </div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *StartExtended = getExtendedExpr(StartVal, <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>);</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;  <span class="keywordflow">if</span> (PredIsKnownFalse(StartVal, StartExtended)) {</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;P2 is compile-time false\n&quot;</span>;);</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;  }</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160; </div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;  <span class="comment">// The Step is always Signed (because the overflow checks are either</span></div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;  <span class="comment">// NSSW or NUSW)</span></div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *AccumExtended = getExtendedExpr(Accum, <span class="comment">/*CreateSignExtend=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;  <span class="keywordflow">if</span> (PredIsKnownFalse(Accum, AccumExtended)) {</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;P3 is compile-time false\n&quot;</span>;);</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;  }</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160; </div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;  <span class="keyword">auto</span> AppendPredicate = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr,</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExtendedExpr) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;    <span class="keywordflow">if</span> (Expr != ExtendedExpr &amp;&amp;</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;        !<a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>, Expr, ExtendedExpr)) {</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *Pred = <a class="code" href="classllvm_1_1ScalarEvolution.html#a29cffc9779968caccc3dd405819e55f5">getEqualPredicate</a>(Expr, ExtendedExpr);</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Added Predicate: &quot;</span> &lt;&lt; *Pred);</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;      Predicates.push_back(Pred);</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;    }</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;  };</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160; </div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;  AppendPredicate(StartVal, StartExtended);</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;  AppendPredicate(Accum, AccumExtended);</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160; </div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;  <span class="comment">// *** Part3: Predicates are ready. Now go ahead and create the new addrec in</span></div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;  <span class="comment">// which the casts had been folded away. The caller can rewrite SymbolicPHI</span></div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;  <span class="comment">// into NewAR if it will also add the runtime overflow checks specified in</span></div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;  <span class="comment">// Predicates.</span></div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;  <span class="keyword">auto</span> *NewAR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(StartVal, Accum, L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160; </div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;  std::pair&lt;const SCEV *, SmallVector&lt;const SCEVPredicate *, 3&gt;&gt; PredRewrite =</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;      std::make_pair(NewAR, Predicates);</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;  <span class="comment">// Remember the result of the analysis for this SCEV at this locayyytion.</span></div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;  PredicatedSCEVRewrites[{SymbolicPHI, L}] = PredRewrite;</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;  <span class="keywordflow">return</span> PredRewrite;</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;}</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160; </div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;std::optional&lt;std::pair&lt;const SCEV *, SmallVector&lt;const SCEVPredicate *, 3&gt;&gt;&gt;</div>
<div class="line"><a name="l05639"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ada4b4e4637302939402932b866e82cf3"> 5639</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#ada4b4e4637302939402932b866e82cf3">ScalarEvolution::createAddRecFromPHIWithCasts</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *SymbolicPHI) {</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;  <span class="keyword">auto</span> *PN = cast&lt;PHINode&gt;(SymbolicPHI-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>());</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = <a class="code" href="ScalarEvolution_8cpp.html#a3fc83010f49fffc0997db370a3e0512d">isIntegerLoopHeaderPHI</a>(PN, LI);</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;  <span class="keywordflow">if</span> (!L)</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160; </div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;  <span class="comment">// Check to see if we already analyzed this PHI.</span></div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = PredicatedSCEVRewrites.find({SymbolicPHI, L});</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != PredicatedSCEVRewrites.end()) {</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;    std::pair&lt;const SCEV *, SmallVector&lt;const SCEVPredicate *, 3&gt;&gt; Rewrite =</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;    <span class="comment">// Analysis was done before and failed to create an AddRec:</span></div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;    <span class="keywordflow">if</span> (Rewrite.first == SymbolicPHI)</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;    <span class="comment">// Analysis was done before and succeeded to create an AddRec under</span></div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;    <span class="comment">// a predicate:</span></div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;SCEVAddRecExpr&gt;(Rewrite.first) &amp;&amp; <span class="stringliteral">&quot;Expected an AddRec&quot;</span>);</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(Rewrite.second).empty() &amp;&amp; <span class="stringliteral">&quot;Expected to find Predicates&quot;</span>);</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;    <span class="keywordflow">return</span> Rewrite;</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;  }</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160; </div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;  std::optional&lt;std::pair&lt;const SCEV *, SmallVector&lt;const SCEVPredicate *, 3&gt;&gt;&gt;</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;    Rewrite = createAddRecFromPHIWithCastsImpl(SymbolicPHI);</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160; </div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;  <span class="comment">// Record in the cache that the analysis failed</span></div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;  <span class="keywordflow">if</span> (!Rewrite) {</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEVPredicate *, 3&gt;</a> Predicates;</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;    PredicatedSCEVRewrites[{SymbolicPHI, L}] = {SymbolicPHI, Predicates};</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;  }</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160; </div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;  <span class="keywordflow">return</span> Rewrite;</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;}</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160; </div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;<span class="comment">// FIXME: This utility is currently required because the Rewriter currently</span></div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;<span class="comment">// does not rewrite this expression:</span></div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;<span class="comment">// {0, +, (sext ix (trunc iy to ix) to iy)}</span></div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;<span class="comment">// into {0, +, %step},</span></div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;<span class="comment">// even when the following Equal predicate exists:</span></div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;<span class="comment">// &quot;%step == (sext ix (trunc iy to ix) to iy)&quot;.</span></div>
<div class="line"><a name="l05679"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#aa1aac224801967b8ca7361a4a71b36f7"> 5679</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#aa1aac224801967b8ca7361a4a71b36f7">PredicatedScalarEvolution::areAddRecsEqualWithPreds</a>(</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR2)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;  <span class="keywordflow">if</span> (AR1 == AR2)</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160; </div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;  <span class="keyword">auto</span> areExprsEqual = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr2) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;    <span class="keywordflow">if</span> (Expr1 != Expr2 &amp;&amp; !Preds-&gt;implies(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a29cffc9779968caccc3dd405819e55f5">getEqualPredicate</a>(Expr1, Expr2)) &amp;&amp;</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;        !Preds-&gt;implies(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a29cffc9779968caccc3dd405819e55f5">getEqualPredicate</a>(Expr2, Expr1)))</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;  };</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160; </div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;  <span class="keywordflow">if</span> (!areExprsEqual(AR1-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(), AR2-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>()) ||</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;      !areExprsEqual(AR1-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(SE), AR2-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(SE)))</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;}</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;<span class="comment">/// A helper function for createAddRecFromPHI to handle simple cases.</span></div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;<span class="comment">/// This function tries to find an AddRec expression for the simplest (yet most</span></div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;<span class="comment">/// common) cases: PN = PHI(Start, OP(Self, LoopInvariant)).</span></div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;<span class="comment">/// If it fails, createAddRecFromPHI will use a more general, but slow,</span></div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;<span class="comment">/// technique for finding the AddRec expression.</span></div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createSimpleAffineAddRec(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN,</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;                                                      <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValueV,</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;                                                      <a class="code" href="classllvm_1_1Value.html">Value</a> *StartValueV) {</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L &amp;&amp; L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>() == PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BEValueV &amp;&amp; StartValueV);</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160; </div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;  <span class="keyword">auto</span> BO = <a class="code" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a>(BEValueV, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), AC, DT, PN);</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;  <span class="keywordflow">if</span> (!BO)</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160; </div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;  <span class="keywordflow">if</span> (BO-&gt;Opcode != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>)</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160; </div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Accum = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;  <span class="keywordflow">if</span> (BO-&gt;LHS == PN &amp;&amp; L-&gt;<a class="code" href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">isLoopInvariant</a>(BO-&gt;RHS))</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;    Accum = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS);</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BO-&gt;RHS == PN &amp;&amp; L-&gt;<a class="code" href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">isLoopInvariant</a>(BO-&gt;LHS))</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;    Accum = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160; </div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;  <span class="keywordflow">if</span> (!Accum)</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160; </div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;  <span class="keywordflow">if</span> (BO-&gt;IsNUW)</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;    Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;  <span class="keywordflow">if</span> (BO-&gt;IsNSW)</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;    Flags = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160; </div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *StartVal = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(StartValueV);</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PHISCEV = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(StartVal, Accum, L, Flags);</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;  insertValueToMap(PN, PHISCEV);</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160; </div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;  <span class="comment">// We can add Flags to the post-inc expression only if we</span></div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;  <span class="comment">// know that it is *undefined behavior* for BEValueV to</span></div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;  <span class="comment">// overflow.</span></div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BEInst = dyn_cast&lt;Instruction&gt;(BEValueV)) {</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(Accum, L) &amp;&amp;</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;           <span class="stringliteral">&quot;Accum is defined outside L, but is not invariant?&quot;</span>);</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;    <span class="keywordflow">if</span> (isAddRecNeverPoison(BEInst, L))</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;      (void)<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(StartVal, Accum), Accum, L, Flags);</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;  }</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160; </div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;  <span class="keywordflow">return</span> PHISCEV;</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;}</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160; </div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createAddRecFromPHI(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN) {</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;  <span class="keywordflow">if</span> (!L || L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>() != PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>())</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160; </div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;  <span class="comment">// The loop may have multiple entrances or multiple exits; we can analyze</span></div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;  <span class="comment">// this phi as an addrec if it has a unique entry value and a unique</span></div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;  <span class="comment">// backedge value.</span></div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValueV = <span class="keyword">nullptr</span>, *StartValueV = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;    <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;      <span class="keywordflow">if</span> (!BEValueV) {</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;        BEValueV = V;</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BEValueV != V) {</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;        BEValueV = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;      }</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!StartValueV) {</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;      StartValueV = V;</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (StartValueV != V) {</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;      StartValueV = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;    }</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;  }</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;  <span class="keywordflow">if</span> (!BEValueV || !StartValueV)</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160; </div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d0e3c8c4929835ce78f942191d8d719">find_as</a>(PN) == ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp;</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;         <span class="stringliteral">&quot;PHI node already processed?&quot;</span>);</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160; </div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;  <span class="comment">// First, try to find AddRec expression without creating a fictituos symbolic</span></div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;  <span class="comment">// value for PN.</span></div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = createSimpleAffineAddRec(PN, BEValueV, StartValueV))</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160; </div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;  <span class="comment">// Handle PHI node value symbolically.</span></div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymbolicName = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(PN);</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;  insertValueToMap(PN, SymbolicName);</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160; </div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;  <span class="comment">// Using this symbolic name for the PHI, analyze the value coming around</span></div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;  <span class="comment">// the back-edge.</span></div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BEValue = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BEValueV);</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160; </div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;  <span class="comment">// NOTE: If BEValue is loop invariant, we know that the PHI node just</span></div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;  <span class="comment">// has a special value for the first iteration of the loop.</span></div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160; </div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;  <span class="comment">// If the value coming around the backedge is an add with the symbolic</span></div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;  <span class="comment">// value we just inserted, then we found a simple induction variable!</span></div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(BEValue)) {</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;    <span class="comment">// If there is a single occurrence of the symbolic value, replace it</span></div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;    <span class="comment">// with a recurrence.</span></div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;    <span class="keywordtype">unsigned</span> FoundIndex = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getNumOperands();</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == SymbolicName)</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;        <span class="keywordflow">if</span> (FoundIndex == <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>) {</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;          FoundIndex = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;        }</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160; </div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;    <span class="keywordflow">if</span> (FoundIndex != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getNumOperands()) {</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;      <span class="comment">// Create an add with everything but the specified operand.</span></div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> Ops;</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != FoundIndex)</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;          Ops.push_back(<a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">SCEVBackedgeConditionFolder::rewrite</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>),</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;                                                             L, *<span class="keyword">this</span>));</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Accum = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Ops);</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160; </div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;      <span class="comment">// This is not a valid addrec if the step amount is varying each</span></div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;      <span class="comment">// loop iteration, but is not itself an addrec in this loop.</span></div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(Accum, L) ||</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;          (isa&lt;SCEVAddRecExpr&gt;(Accum) &amp;&amp;</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;           cast&lt;SCEVAddRecExpr&gt;(Accum)-&gt;getLoop() == L)) {</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160; </div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> BO = <a class="code" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a>(BEValueV, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), AC, DT, PN)) {</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;          <span class="keywordflow">if</span> (BO-&gt;Opcode == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a> &amp;&amp; BO-&gt;LHS == PN) {</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;            <span class="keywordflow">if</span> (BO-&gt;IsNUW)</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;              <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;            <span class="keywordflow">if</span> (BO-&gt;IsNSW)</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;              <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;          }</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GEPOperator&gt;(BEValueV)) {</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;          <span class="comment">// If the increment is an inbounds GEP, then we know the address</span></div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;          <span class="comment">// space cannot be wrapped around. We cannot make any guarantee</span></div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;          <span class="comment">// about signed or unsigned overflow because pointers are</span></div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;          <span class="comment">// unsigned but we may have a negative index from the base</span></div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;          <span class="comment">// pointer. We can guarantee that no unsigned wrap occurs if the</span></div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;          <span class="comment">// indices form a positive value.</span></div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;isInBounds() &amp;&amp; <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getOperand(0) == PN) {</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;            <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160; </div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand());</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>), <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)))</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;              <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;          }</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160; </div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;          <span class="comment">// We cannot transfer nuw and nsw flags from subtraction</span></div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;          <span class="comment">// operations -- sub nuw X, Y is not the same as add nuw X, -Y</span></div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;          <span class="comment">// for instance.</span></div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;        }</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160; </div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *StartVal = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(StartValueV);</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PHISCEV = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(StartVal, Accum, L, Flags);</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160; </div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;        <span class="comment">// Okay, for the entire analysis of this edge we assumed the PHI</span></div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;        <span class="comment">// to be symbolic.  We now need to go back and purge all of the</span></div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;        <span class="comment">// entries for the scalars that use the symbolic expression.</span></div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;        forgetMemoizedResults(SymbolicName);</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;        insertValueToMap(PN, PHISCEV);</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160; </div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;        <span class="comment">// We can add Flags to the post-inc expression only if we</span></div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;        <span class="comment">// know that it is *undefined behavior* for BEValueV to</span></div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;        <span class="comment">// overflow.</span></div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BEInst = dyn_cast&lt;Instruction&gt;(BEValueV))</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(Accum, L) &amp;&amp; isAddRecNeverPoison(BEInst, L))</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;            (void)<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(StartVal, Accum), Accum, L, <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>);</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160; </div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;        <span class="keywordflow">return</span> PHISCEV;</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;      }</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;    }</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;    <span class="comment">// Otherwise, this could be a loop like this:</span></div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;    <span class="comment">//     i = 0;  for (j = 1; ..; ++j) { ....  i = j; }</span></div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;    <span class="comment">// In this case, j = {1,+,1}  and BEValue is j.</span></div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;    <span class="comment">// Because the other in-value of i (0) fits the evolution of BEValue</span></div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;    <span class="comment">// i really is an addrec evolution.</span></div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;    <span class="comment">// We can generalize this saying that i is the shifted value of BEValue</span></div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;    <span class="comment">// by one iteration:</span></div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;    <span class="comment">//   PHI(f(0), f({1,+,1})) --&gt; f({0,+,1})</span></div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Shifted = <a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">SCEVShiftRewriter::rewrite</a>(BEValue, L, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = <a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">SCEVInitRewriter::rewrite</a>(Shifted, L, *<span class="keyword">this</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;    <span class="keywordflow">if</span> (Shifted != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp;</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;        Start != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()) {</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *StartVal = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(StartValueV);</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;      <span class="keywordflow">if</span> (Start == StartVal) {</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;        <span class="comment">// Okay, for the entire analysis of this edge we assumed the PHI</span></div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;        <span class="comment">// to be symbolic.  We now need to go back and purge all of the</span></div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;        <span class="comment">// entries for the scalars that use the symbolic expression.</span></div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;        forgetMemoizedResults(SymbolicName);</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;        insertValueToMap(PN, Shifted);</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;        <span class="keywordflow">return</span> Shifted;</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;      }</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;    }</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;  }</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160; </div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;  <span class="comment">// Remove the temporary PHI node SCEV that has been inserted while intending</span></div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;  <span class="comment">// to create an AddRecExpr for this PHI node. We can not keep this temporary</span></div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;  <span class="comment">// as it will prevent later (possibly simpler) SCEV expressions to be added</span></div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;  <span class="comment">// to the ValueExprMap.</span></div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;  eraseValueFromMap(PN);</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160; </div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;}</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160; </div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;<span class="comment">// Checks if the SCEV S is available at BB.  S is considered available at BB</span></div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;<span class="comment">// if S can be materialized at BB without introducing a fault.</span></div>
<div class="line"><a name="l05908"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ac99b948bcde1ca2925452cc91317656b"> 5908</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#ac99b948bcde1ca2925452cc91317656b">IsAvailableOnEntry</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>,</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;                               <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  <span class="keyword">struct </span>CheckAvailable {</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;    <span class="keywordtype">bool</span> TraversalDone = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b">Available</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160; </div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = <span class="keyword">nullptr</span>;  <span class="comment">// The loop BB is in (can be nullptr)</span></div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;    <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT;</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160; </div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    CheckAvailable(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT)</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;      : L(L), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>), DT(DT) {}</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160; </div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;    <span class="keywordtype">bool</span> setUnavailable() {</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;      TraversalDone = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;      <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b">Available</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;    }</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160; </div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;    <span class="keywordtype">bool</span> follow(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType()) {</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;        <span class="comment">// These expressions are available if their operand(s) is/are.</span></div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160; </div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;        <span class="comment">// We allow add recurrences that are on the loop BB is in, or some</span></div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;        <span class="comment">// outer loop.  This guarantees availability because the value of the</span></div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;        <span class="comment">// add recurrence at BB is simply the &quot;current&quot; value of the induction</span></div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;        <span class="comment">// variable.  We can relax this in the future; for instance an add</span></div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;        <span class="comment">// recurrence on a sibling dominating loop is also available at BB.</span></div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> *ARLoop = cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)-&gt;getLoop();</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;        <span class="keywordflow">if</span> (L &amp;&amp; (ARLoop == L || ARLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(L)))</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160; </div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;        <span class="keywordflow">return</span> setUnavailable();</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;      }</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160; </div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>: {</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;        <span class="comment">// For SCEVUnknown, we check for simple dominance.</span></div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> *SU = cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *V = SU-&gt;getValue();</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160; </div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;        <span class="keywordflow">if</span> (isa&lt;Argument&gt;(V))</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160; </div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;        <span class="keywordflow">if</span> (isa&lt;Instruction&gt;(V) &amp;&amp; DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(cast&lt;Instruction&gt;(V), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160; </div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;        <span class="keywordflow">return</span> setUnavailable();</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;      }</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160; </div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;        <span class="comment">// We do not try to smart about these at all.</span></div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;        <span class="keywordflow">return</span> setUnavailable();</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;      }</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;    }</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160; </div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;    <span class="keywordtype">bool</span> isDone() { <span class="keywordflow">return</span> TraversalDone; }</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;  };</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160; </div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;  CheckAvailable CA(L, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, DT);</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;  <a class="code" href="classllvm_1_1SCEVTraversal.html">SCEVTraversal&lt;CheckAvailable&gt;</a> <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>(CA);</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160; </div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;  <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.visitAll(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;  <span class="keywordflow">return</span> CA.Available;</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;}</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160; </div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;<span class="comment">// Try to match a control flow sequence that branches out at BI and merges back</span></div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;<span class="comment">// at Merge into a &quot;C ? LHS : RHS&quot; select pattern.  Return true on a successful</span></div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;<span class="comment">// match.</span></div>
<div class="line"><a name="l05992"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a341358b4e9c3ffb463182ea3280b2016"> 5992</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#a341358b4e9c3ffb463182ea3280b2016">BrPHIToSelect</a>(<a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI, <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a>,</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;                          <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">getCondition</a>();</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160; </div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;  <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> LeftEdge(BI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(), BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0));</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;  <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> RightEdge(BI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(), BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(1));</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160; </div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;  <span class="keywordflow">if</span> (!LeftEdge.<a class="code" href="classllvm_1_1BasicBlockEdge.html#a9c8df2ee2950f5957a98ca2bec57c399">isSingleEdge</a>())</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160; </div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RightEdge.<a class="code" href="classllvm_1_1BasicBlockEdge.html#a9c8df2ee2950f5957a98ca2bec57c399">isSingleEdge</a>() &amp;&amp; <span class="stringliteral">&quot;Follows from LeftEdge.isSingleEdge()&quot;</span>);</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160; </div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;  <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;LeftUse = <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a>-&gt;getOperandUse(0);</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;  <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;RightUse = <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a>-&gt;getOperandUse(1);</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160; </div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;  <span class="keywordflow">if</span> (DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(LeftEdge, LeftUse) &amp;&amp; DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(RightEdge, RightUse)) {</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = LeftUse;</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = RightUse;</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;  }</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160; </div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;  <span class="keywordflow">if</span> (DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(LeftEdge, RightUse) &amp;&amp; DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(RightEdge, LeftUse)) {</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = RightUse;</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = LeftUse;</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;  }</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160; </div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;}</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160; </div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createNodeFromSelectLikePHI(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN) {</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;  <span class="keyword">auto</span> IsReachable =</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;      [&amp;](<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) { <span class="keywordflow">return</span> DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>); };</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;  <span class="keywordflow">if</span> (PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>() == 2 &amp;&amp; <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a88c1c3dd33d232dc889a5d29c75b75f3">blocks</a>(), IsReachable)) {</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160; </div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;    <span class="comment">// We don&#39;t want to break LCSSA, even in a SCEV expression tree.</span></div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;      <span class="keywordflow">if</span> (LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)) != L)</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160; </div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;    <span class="comment">// Try to match</span></div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;    <span class="comment">//  br %cond, label %left, label %right</span></div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    <span class="comment">// left:</span></div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;    <span class="comment">//  br label %merge</span></div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;    <span class="comment">// right:</span></div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;    <span class="comment">//  br label %merge</span></div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;    <span class="comment">// merge:</span></div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;    <span class="comment">//  V = phi [ %x, %left ], [ %y, %right ]</span></div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;    <span class="comment">// as &quot;select %cond, %x, %y&quot;</span></div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160; </div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *IDom = DT[PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()]-&gt;getIDom()-&gt;getBlock();</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IDom &amp;&amp; <span class="stringliteral">&quot;At least the entry block should dominate PN&quot;</span>);</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160; </div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;    <span class="keyword">auto</span> *BI = dyn_cast&lt;BranchInst&gt;(IDom-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>());</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <span class="keyword">nullptr</span>, *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <span class="keyword">nullptr</span>, *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160; </div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;    <span class="keywordflow">if</span> (BI &amp;&amp; BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a7e4be8b16fbd68c9045a388904044e01">isConditional</a>() &amp;&amp;</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;        <a class="code" href="ScalarEvolution_8cpp.html#a341358b4e9c3ffb463182ea3280b2016">BrPHIToSelect</a>(DT, BI, PN, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp;</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;        <a class="code" href="ScalarEvolution_8cpp.html#ac99b948bcde1ca2925452cc91317656b">IsAvailableOnEntry</a>(L, DT, <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()) &amp;&amp;</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;        <a class="code" href="ScalarEvolution_8cpp.html#ac99b948bcde1ca2925452cc91317656b">IsAvailableOnEntry</a>(L, DT, <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()))</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;      <span class="keywordflow">return</span> createNodeForSelectOrPHI(PN, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;  }</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160; </div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;}</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160; </div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createNodeForPHI(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN) {</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = createAddRecFromPHI(PN))</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160; </div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = createNodeFromSelectLikePHI(PN))</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160; </div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941">simplifyInstruction</a>(PN, {<a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), &amp;TLI, &amp;DT, &amp;AC}))</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(V);</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160; </div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;  <span class="comment">// If it&#39;s not a loop phi, we can&#39;t handle it yet.</span></div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(PN);</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;}</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160; </div>
<div class="line"><a name="l06075"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a02c3cff4baf0eb36d46fd37369a0bb88"> 6075</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#a02c3cff4baf0eb36d46fd37369a0bb88">SCEVMinMaxExprContains</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Root, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OperandToFind,</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;                            <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> RootKind) {</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;  <span class="keyword">struct </span>FindClosure {</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OperandToFind;</div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> RootKind; <span class="comment">// Must be a sequential min/max expression.</span></div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> NonSequentialRootKind; <span class="comment">// Non-seq variant of RootKind.</span></div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160; </div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;    <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160; </div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;    <span class="keywordtype">bool</span> canRecurseInto(<a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> Kind)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;      <span class="comment">// We can only recurse into the SCEV expression of the same effective type</span></div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;      <span class="comment">// as the type of our root SCEV expression, and into zero-extensions.</span></div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;      <span class="keywordflow">return</span> RootKind == Kind || NonSequentialRootKind == Kind ||</div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;             <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a> == Kind;</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;    };</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160; </div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;    FindClosure(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OperandToFind, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">SCEVTypes</a> RootKind)</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;        : OperandToFind(OperandToFind), RootKind(RootKind),</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;          NonSequentialRootKind(</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;              <a class="code" href="classllvm_1_1SCEVSequentialMinMaxExpr.html#af8532b54a025a850863502cadc554fdd">SCEVSequentialMinMaxExpr::getEquivalentNonSequentialSCEVType</a>(</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;                  RootKind)) {}</div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160; </div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;    <span class="keywordtype">bool</span> follow(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;      Found = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> == OperandToFind;</div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160; </div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;      <span class="keywordflow">return</span> !isDone() &amp;&amp; canRecurseInto(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType());</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;    }</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160; </div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;    <span class="keywordtype">bool</span> isDone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Found; }</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;  };</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160; </div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;  FindClosure <a class="code" href="namespaceR600__InstFlag.html#a23106439cc906be24dc8953eedd3940da8949a42ff4563a29d1e70e18338fd522">FC</a>(OperandToFind, RootKind);</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;  <a class="code" href="namespacellvm.html#a002c7b1beef8b58691fe7aa42ffa2fe7">visitAll</a>(Root, <a class="code" href="namespaceR600__InstFlag.html#a23106439cc906be24dc8953eedd3940da8949a42ff4563a29d1e70e18338fd522">FC</a>);</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceR600__InstFlag.html#a23106439cc906be24dc8953eedd3940da8949a42ff4563a29d1e70e18338fd522">FC</a>.Found;</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;}</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160; </div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;std::optional&lt;const SCEV *&gt;</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;ScalarEvolution::createNodeForSelectOrPHIInstWithICmpInstCond(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;                                                              <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;                                                              <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>,</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;                                                              <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) {</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;  <span class="comment">// Try to match some simple smax or umax patterns.</span></div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;  <span class="keyword">auto</span> *ICI = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>;</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160; </div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = ICI-&gt;getOperand(0);</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = ICI-&gt;getOperand(1);</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160; </div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;  <span class="keywordflow">switch</span> (ICI-&gt;getPredicate()) {</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;    <span class="comment">// a &gt; b ? a+x : b+x  -&gt;  max(a, b)+x</span></div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;    <span class="comment">// a &gt; b ? b+x : a+x  -&gt;  min(a, b)+x</span></div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &lt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty)) {</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = ICI-&gt;isSigned();</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>);</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>);</div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a>-&gt;getType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;        <span class="comment">// FIXME: Handle cases where LS/RS are pointers not equal to LA/RA.</span></div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;        <span class="comment">// Need to make sure we can&#39;t produce weird expressions involving</span></div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;        <span class="comment">// negated pointers.</span></div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a> == <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a> &amp;&amp; <a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> == RS)</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">getSMaxExpr</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, RS) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, RS);</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a> == RS &amp;&amp; <a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> == <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>)</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">getSMinExpr</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, RS) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, RS);</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;      }</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;      <span class="keyword">auto</span> CoerceOperand = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) -&gt; <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> * {</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;          <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>;</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;        }</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>)</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a38c440751f1bf5f19bc12b95f8f0f2a6">getNoopOrSignExtend</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">getNoopOrZeroExtend</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty);</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>;</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;      };</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;      <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a> = CoerceOperand(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>);</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;      RS = CoerceOperand(RS);</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>) || isa&lt;SCEVCouldNotCompute&gt;(RS))</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LDiff = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a>, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>);</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RDiff = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>, RS);</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;      <span class="keywordflow">if</span> (LDiff == RDiff)</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">getSMaxExpr</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, RS) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, RS),</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;                          LDiff);</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;      LDiff = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">LA</a>, RS);</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;      RDiff = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>);</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;      <span class="keywordflow">if</span> (LDiff == RDiff)</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">getSMinExpr</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, RS) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, RS),</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;                          LDiff);</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;    }</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    <span class="comment">// x != 0 ? x+y : C+y  -&gt;  x == 0 ? C+y : x+y</span></div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>);</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;    <span class="comment">// x == 0 ? C+y : x+y  -&gt;  umax(x, C)+y   iff C u&lt;= 1</span></div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &lt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty) &amp;&amp;</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;        isa&lt;ConstantInt&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; cast&lt;ConstantInt&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)-&gt;<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>()) {</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">getNoopOrZeroExtend</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), Ty);</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TrueValExpr = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>);    <span class="comment">// C+y</span></div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FalseValExpr = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>);  <span class="comment">// x+y</span></div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(FalseValExpr, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>); <span class="comment">// y = (x+y)-x</span></div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(TrueValExpr, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);  <span class="comment">// C = (C+y)-y</span></div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) &amp;&amp; cast&lt;SCEVConstant&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)-&gt;getAPInt().ule(1))</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;    }</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;    <span class="comment">// x == 0 ? 0 : umin    (..., x, ...)  -&gt;  umin_seq(x, umin    (...))</span></div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;    <span class="comment">// x == 0 ? 0 : umin_seq(..., x, ...)  -&gt;  umin_seq(x, umin_seq(...))</span></div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;    <span class="comment">// x == 0 ? 0 : umin    (..., umin_seq(..., x, ...), ...)</span></div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;    <span class="comment">//                    -&gt;  umin_seq(x, umin (..., umin_seq(...), ...))</span></div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; cast&lt;ConstantInt&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)-&gt;<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>() &amp;&amp;</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;        isa&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>) &amp;&amp; cast&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>)-&gt;<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>()) {</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;      <span class="keywordflow">while</span> (<span class="keyword">auto</span> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;        <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = ZExt-&gt;getOperand();</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType()) &lt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Ty)) {</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FalseValExpr = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>);</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#a02c3cff4baf0eb36d46fd37369a0bb88">SCEVMinMaxExprContains</a>(FalseValExpr, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>))</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">getNoopOrZeroExtend</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Ty), FalseValExpr,</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;                             <span class="comment">/*Sequential=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;      }</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;    }</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;  }</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160; </div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;}</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160; </div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;<span class="keyword">static</span> std::optional&lt;const SCEV *&gt;</div>
<div class="line"><a name="l06219"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ae2603e5d4afe9b5515729fb37e74fa36"> 6219</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#ae2603e5d4afe9b5515729fb37e74fa36">createNodeForSelectViaUMinSeq</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CondExpr,</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TrueExpr, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FalseExpr) {</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CondExpr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(1) &amp;&amp;</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;         TrueExpr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>() == FalseExpr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>() &amp;&amp;</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;         TrueExpr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(1) &amp;&amp;</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;         <span class="stringliteral">&quot;Unexpected operands of a select.&quot;</span>);</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160; </div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;  <span class="comment">// i1 cond ? i1 x : i1 C  --&gt;  C + (i1  cond ? (i1 x - i1 C) : i1 0)</span></div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;  <span class="comment">//                        --&gt;  C + (umin_seq  cond, x - C)</span></div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;  <span class="comment">// i1 cond ? i1 C : i1 x  --&gt;  C + (i1  cond ? i1 0 : (i1 x - i1 C))</span></div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;  <span class="comment">//                        --&gt;  C + (i1 ~cond ? (i1 x - i1 C) : i1 0)</span></div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;  <span class="comment">//                        --&gt;  C + (umin_seq ~cond, x - C)</span></div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160; </div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;  <span class="comment">// FIXME: while we can&#39;t legally model the case where both of the hands</span></div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;  <span class="comment">// are fully variable, we only require that the *difference* is constant.</span></div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(TrueExpr) &amp;&amp; !isa&lt;SCEVConstant&gt;(FalseExpr))</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160; </div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(TrueExpr)) {</div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;    CondExpr = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">getNotSCEV</a>(CondExpr);</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;    <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = FalseExpr;</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = TrueExpr;</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;    <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = TrueExpr;</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = FalseExpr;</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;  }</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(CondExpr, SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>),</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;                                           <span class="comment">/*Sequential=*/</span><span class="keyword">true</span>));</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;}</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160; </div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;<span class="keyword">static</span> std::optional&lt;const SCEV *&gt;</div>
<div class="line"><a name="l06252"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a77493c5e0c5c1f87780f2db76eb28b65"> 6252</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#ae2603e5d4afe9b5515729fb37e74fa36">createNodeForSelectViaUMinSeq</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>,</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;                              <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) {</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>) &amp;&amp; !isa&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>))</div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160; </div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *SECond = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *SETrue = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>);</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *SEFalse = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>);</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#ae2603e5d4afe9b5515729fb37e74fa36">createNodeForSelectViaUMinSeq</a>(SE, SECond, SETrue, SEFalse);</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;}</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160; </div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createNodeForSelectOrPHIViaUMinSeq(</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) {</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType()-&gt;isIntegerTy(1) &amp;&amp; <span class="stringliteral">&quot;Select condition is not an i1?&quot;</span>);</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>-&gt;getType() == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>-&gt;getType() &amp;&amp;</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;         V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>-&gt;getType() &amp;&amp;</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;         <span class="stringliteral">&quot;Types of select hands and of the result must match.&quot;</span>);</div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160; </div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;  <span class="comment">// For now, only deal with i1-typed `select`s.</span></div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;  <span class="keywordflow">if</span> (!V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(1))</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160; </div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;  <span class="keywordflow">if</span> (std::optional&lt;const SCEV *&gt; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;          <a class="code" href="ScalarEvolution_8cpp.html#ae2603e5d4afe9b5515729fb37e74fa36">createNodeForSelectViaUMinSeq</a>(<span class="keyword">this</span>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>))</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160; </div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;}</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160; </div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createNodeForSelectOrPHI(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;                                                      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>,</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;                                                      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) {</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;  <span class="comment">// Handle &quot;constant&quot; branch or select. This can occur for instance when a</span></div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;  <span class="comment">// loop pass transforms an inner loop and moves on to process the outer loop.</span></div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>))</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(CI-&gt;isOne() ? <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>);</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160; </div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V)) {</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ICI = dyn_cast&lt;ICmpInst&gt;(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)) {</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;      <span class="keywordflow">if</span> (std::optional&lt;const SCEV *&gt; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;              createNodeForSelectOrPHIInstWithICmpInstCond(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType(), ICI,</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;                                                           <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>))</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;        <span class="keywordflow">return</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;    }</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;  }</div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160; </div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;  <span class="keywordflow">return</span> createNodeForSelectOrPHIViaUMinSeq(V, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>);</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;}</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;<span class="comment">/// Expand GEP instructions into add and multiply operations. This allows them</span></div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;<span class="comment">/// to be analyzed by regular SCEV code.</span></div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createNodeForGEP(<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>) {</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getSourceElementType()-&gt;isSized() &amp;&amp;</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;         <span class="stringliteral">&quot;GEP source element type must be sized&quot;</span>);</div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160; </div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> IndexExprs;</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> : <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;indices())</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;    IndexExprs.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>));</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a0f3039f831c483956c153ed9dee23dba">getGEPExpr</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, IndexExprs);</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;}</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160; </div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;<a class="code" href="classuint32__t.html">uint32_t</a> ScalarEvolution::GetMinTrailingZerosImpl(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType()) {</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVConstant&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)-&gt;getAPInt().countTrailingZeros();</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>: {</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="classT.html">T</a> = cast&lt;SCEVTruncateExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(<a class="code" href="classT.html">T</a>-&gt;getOperand()),</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;                    (<a class="code" href="classuint32__t.html">uint32_t</a>)<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="classT.html">T</a>-&gt;getType()));</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;  }</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>: {</div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> OpRes = <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;getOperand());</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;    <span class="keywordflow">return</span> OpRes == <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;getOperand()-&gt;getType())</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;               ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;getType())</div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;               : OpRes;</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;  }</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>: {</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = cast&lt;SCEVSignExtendExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> OpRes = <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;getOperand());</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;    <span class="keywordflow">return</span> OpRes == <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;getOperand()-&gt;getType())</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;               ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;getType())</div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;               : OpRes;</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;  }</div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>: {</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = cast&lt;SCEVMulExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;    <span class="comment">// The result is the sum of all operands results.</span></div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> SumOpRes = <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getType());</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands();</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;         SumOpRes != <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;      SumOpRes =</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;          <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(SumOpRes + <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;    <span class="keywordflow">return</span> SumOpRes;</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;  }</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>: {</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;    <span class="comment">// The result is the min of all operands results.</span></div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;operands();</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> MinOpRes = <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(Ops[0]);</div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); MinOpRes &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;      MinOpRes = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(MinOpRes, <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(Ops[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]));</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;    <span class="keywordflow">return</span> MinOpRes;</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;  }</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>: {</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U = cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;    <span class="comment">// For a SCEVUnknown, ask ValueTracking.</span></div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known =</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;        <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>(), <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), 0, &amp;AC, <span class="keyword">nullptr</span>, &amp;DT);</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;    <span class="keywordflow">return</span> Known.<a class="code" href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">countMinTrailingZeros</a>();</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;  }</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;  }</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;}</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160; </div>
<div class="line"><a name="l06377"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a"> 6377</a></span>&#160;<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">ScalarEvolution::GetMinTrailingZeros</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MinTrailingZerosCache.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != MinTrailingZerosCache.end())</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160; </div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> Result = GetMinTrailingZerosImpl(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;  <span class="keyword">auto</span> InsertPair = MinTrailingZerosCache.insert({<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, Result});</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InsertPair.second &amp;&amp; <span class="stringliteral">&quot;Should insert a new key&quot;</span>);</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;  <span class="keywordflow">return</span> InsertPair.first-&gt;second;</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;}</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;<span class="comment">/// Helper method to assign a range to V from metadata present in the IR.</span></div>
<div class="line"><a name="l06389"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a104347bf076d992f7dba551cb2efc3fb"> 6389</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> std::optional&lt;ConstantRange&gt; <a class="code" href="ScalarEvolution_8cpp.html#a104347bf076d992f7dba551cb2efc3fb">GetRangeFromMetadata</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V))</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getMetadata(LLVMContext::MD_range))</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5193c3535375c450b9430e5671cbeb2d">getConstantRangeFromMetadata</a>(*MD);</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160; </div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;}</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160; </div>
<div class="line"><a name="l06397"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37"> 6397</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">ScalarEvolution::setNoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec,</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;                                     <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags) {</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;  <span class="keywordflow">if</span> (AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>(Flags) != Flags) {</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a5316a2763777f3670c1606452f4e99d7">setNoWrapFlags</a>(Flags);</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;    UnsignedRanges.erase(AddRec);</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;    SignedRanges.erase(AddRec);</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;  }</div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;}</div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160; </div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ScalarEvolution::</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;getRangeForUnknownRecurrence(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U) {</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>();</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160; </div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad5a0788fd78a5c5269fcaf45164b6e9a">getType</a>());</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> FullSet(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <span class="comment">/*isFullSet=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160; </div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;  <span class="comment">// Match a simple recurrence of the form: &lt;start, ShiftOp, Step&gt;, and then</span></div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;  <span class="comment">// use information about the trip count to improve our available range.  Note</span></div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;  <span class="comment">// that the trip count independent cases are already handled by known bits.</span></div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;  <span class="comment">// WARNING: The definition of recurrence used here is subtly different than</span></div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;  <span class="comment">// the one used by AddRec (and thus most of this file).  Step is allowed to</span></div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;  <span class="comment">// be arbitrarily loop varying here, where AddRec allows only loop invariant</span></div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;  <span class="comment">// and other addrecs in the same loop (for non-affine addrecs).  The code</span></div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;  <span class="comment">// below intentionally handles the case where step is not loop invariant.</span></div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = dyn_cast&lt;PHINode&gt;(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>());</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;    <span class="keywordflow">return</span> FullSet;</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160; </div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;  <span class="comment">// Make sure that no Phi input comes from an unreachable block. Otherwise,</span></div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;  <span class="comment">// even the values that are not available in these blocks may come from them,</span></div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;  <span class="comment">// and this leads to false-positive recurrence test.</span></div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Pred : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getParent()))</div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;    <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(Pred))</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;      <span class="keywordflow">return</span> FullSet;</div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160; </div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BO;</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Start, *Step;</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a5be4877e6cc76e0fe6f8a005c69aa7c2">matchSimpleRecurrence</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, BO, Start, Step))</div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;    <span class="keywordflow">return</span> FullSet;</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160; </div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;  <span class="comment">// If we found a recurrence in reachable code, we must be in a loop. Note</span></div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;  <span class="comment">// that BO might be in some subloop of L, and that&#39;s completely okay.</span></div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;  <span class="keyword">auto</span> *L = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getParent());</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L &amp;&amp; L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>() == <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getParent());</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;  <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(BO-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()))</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;    <span class="comment">// NOTE: This bailout should be an assert instead.  However, asserting</span></div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;    <span class="comment">// the condition here exposes a case where LoopFusion is querying SCEV</span></div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;    <span class="comment">// with malformed loop information during the midst of the transform.</span></div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;    <span class="comment">// There doesn&#39;t appear to be an obvious fix, so for the moment bailout</span></div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;    <span class="comment">// until the caller issue can be fixed.  PR49566 tracks the bug.</span></div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;    <span class="keywordflow">return</span> FullSet;</div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160; </div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;  <span class="comment">// TODO: Extend to other opcodes such as mul, and div</span></div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;  <span class="keywordflow">switch</span> (BO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>()) {</div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;    <span class="keywordflow">return</span> FullSet;</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;  };</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160; </div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;  <span class="keywordflow">if</span> (BO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0) != <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;    <span class="comment">// TODO: Handle the power function forms some day.</span></div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;    <span class="keywordflow">return</span> FullSet;</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160; </div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;  <span class="keywordtype">unsigned</span> TC = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3cc216ff1aa29e15999df96770a870bf">getSmallConstantMaxTripCount</a>(L);</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;  <span class="keywordflow">if</span> (!TC || TC &gt;= <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;    <span class="keywordflow">return</span> FullSet;</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160; </div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;  <span class="keyword">auto</span> KnownStart = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(Start, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, &amp;AC, <span class="keyword">nullptr</span>, &amp;DT);</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;  <span class="keyword">auto</span> KnownStep = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(Step, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, &amp;AC, <span class="keyword">nullptr</span>, &amp;DT);</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(KnownStart.getBitWidth() == <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp;</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;         KnownStep.getBitWidth() == <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160; </div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;  <span class="comment">// Compute total shift amount, being careful of overflow and bitwidths.</span></div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;  <span class="keyword">auto</span> MaxShiftAmt = KnownStep.getMaxValue();</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> TCAP(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, TC-1);</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;  <span class="keywordtype">bool</span> Overflow = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;  <span class="keyword">auto</span> TotalShift = MaxShiftAmt.umul_ov(TCAP, Overflow);</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;  <span class="keywordflow">if</span> (Overflow)</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;    <span class="keywordflow">return</span> FullSet;</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160; </div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;  <span class="keywordflow">switch</span> (BO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>()) {</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;filtered out above&quot;</span>);</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr: {</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;    <span class="comment">// For each ashr, three cases:</span></div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;    <span class="comment">//   shift = 0 =&gt; unchanged value</span></div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;    <span class="comment">//   saturation =&gt; 0 or -1</span></div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;    <span class="comment">//   other =&gt; a value closer to zero (of the same sign)</span></div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;    <span class="comment">// Thus, the end value is closer to zero than the start.</span></div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;    <span class="keyword">auto</span> KnownEnd = <a class="code" href="structllvm_1_1KnownBits.html#a569ead6f4476bd4564bbe8d0cd0d6191">KnownBits::ashr</a>(KnownStart,</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;                                    <a class="code" href="structllvm_1_1KnownBits.html#a066220c7a472d8793de64a0ad23487d2">KnownBits::makeConstant</a>(TotalShift));</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;    <span class="keywordflow">if</span> (KnownStart.isNonNegative())</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;      <span class="comment">// Analogous to lshr (simply not yet canonicalized)</span></div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantRange.html#acd8afecbb15ee69487d5339371f64a76">ConstantRange::getNonEmpty</a>(KnownEnd.getMinValue(),</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;                                        KnownStart.getMaxValue() + 1);</div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;    <span class="keywordflow">if</span> (KnownStart.isNegative())</div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;      <span class="comment">// End &gt;=u Start &amp;&amp; End &lt;=s Start</span></div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantRange.html#acd8afecbb15ee69487d5339371f64a76">ConstantRange::getNonEmpty</a>(KnownStart.getMinValue(),</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;                                        KnownEnd.getMaxValue() + 1);</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;  }</div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr: {</div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;    <span class="comment">// For each lshr, three cases:</span></div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;    <span class="comment">//   shift = 0 =&gt; unchanged value</span></div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;    <span class="comment">//   saturation =&gt; 0</span></div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;    <span class="comment">//   other =&gt; a smaller positive number</span></div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;    <span class="comment">// Thus, the low end of the unsigned range is the last value produced.</span></div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;    <span class="keyword">auto</span> KnownEnd = <a class="code" href="structllvm_1_1KnownBits.html#a4999a804f03e6b5d268504249e4ab3df">KnownBits::lshr</a>(KnownStart,</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;                                    <a class="code" href="structllvm_1_1KnownBits.html#a066220c7a472d8793de64a0ad23487d2">KnownBits::makeConstant</a>(TotalShift));</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantRange.html#acd8afecbb15ee69487d5339371f64a76">ConstantRange::getNonEmpty</a>(KnownEnd.getMinValue(),</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;                                      KnownStart.getMaxValue() + 1);</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;  }</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl: {</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;    <span class="comment">// Iff no bits are shifted out, value increases on every shift.</span></div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;    <span class="keyword">auto</span> KnownEnd = <a class="code" href="structllvm_1_1KnownBits.html#a2b783b3eeb66a5a3827e5a20057086cf">KnownBits::shl</a>(KnownStart,</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;                                   <a class="code" href="structllvm_1_1KnownBits.html#a066220c7a472d8793de64a0ad23487d2">KnownBits::makeConstant</a>(TotalShift));</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;    <span class="keywordflow">if</span> (TotalShift.ult(KnownStart.countMinLeadingZeros()))</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(KnownStart.getMinValue(),</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;                           KnownEnd.getMaxValue() + 1);</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;  }</div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;  };</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;  <span class="keywordflow">return</span> FullSet;</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;}</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160; </div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;ScalarEvolution::getRangeRefIter(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>,</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;                                 ScalarEvolution::RangeSignHint SignHint) {</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, ConstantRange&gt;</a> &amp;Cache =</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;      SignHint == ScalarEvolution::HINT_RANGE_UNSIGNED ? UnsignedRanges</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;                                                       : SignedRanges;</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> WorkList;</div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEV *, 8&gt;</a> Seen;</div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160; </div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;  <span class="comment">// Add Expr to the worklist, if Expr is either an N-ary expression or a</span></div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;  <span class="comment">// SCEVUnknown PHI node.</span></div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;  <span class="keyword">auto</span> AddToWorklist = [&amp;WorkList, &amp;Seen, &amp;Cache](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr) {</div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;    <span class="keywordflow">if</span> (!Seen.insert(Expr).second)</div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;    <span class="keywordflow">if</span> (Cache.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Expr) != Cache.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;    <span class="keywordflow">switch</span> (Expr-&gt;<a class="code" href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">getSCEVType</a>()) {</div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;PHINode&gt;(cast&lt;SCEVUnknown&gt;(Expr)-&gt;getValue()))</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;      WorkList.push_back(Expr);</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;    }</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;  };</div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;  AddToWorklist(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160; </div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;  <span class="comment">// Build worklist by queuing operands of N-ary expressions and phi nodes.</span></div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != WorkList.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = WorkList[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;    <span class="keyword">auto</span> *UnknownS = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;    <span class="comment">// If it is not a `SCEVUnknown`, just recurse into operands.</span></div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;    <span class="keywordflow">if</span> (!UnknownS) {</div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;operands())</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;        AddToWorklist(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;    }</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;    <span class="comment">// `SCEVUnknown`&#39;s require special treatment.</span></div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = dyn_cast&lt;PHINode&gt;(UnknownS-&gt;getValue())) {</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;      <span class="keywordflow">if</span> (!PendingPhiRangesIter.insert(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>).second)</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;operands()))</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;        AddToWorklist(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;    }</div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;  }</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160; </div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;  <span class="keywordflow">if</span> (!WorkList.empty()) {</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;    <span class="comment">// Use getRangeRef to compute ranges for items in the worklist in reverse</span></div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;    <span class="comment">// order. This will force ranges for earlier operands to be computed before</span></div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;    <span class="comment">// their users in most cases.</span></div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> :</div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;         <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(<a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(WorkList.begin() + 1, WorkList.end()))) {</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;      getRangeRef(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, SignHint);</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160; </div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *UnknownS = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>))</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = dyn_cast&lt;PHINode&gt;(UnknownS-&gt;getValue()))</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;          PendingPhiRangesIter.erase(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;    }</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;  }</div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160; </div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;  <span class="keywordflow">return</span> getRangeRef(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, SignHint, 0);</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;}</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;<span class="comment">/// Determine the range for a particular SCEV.  If SignHint is</span></div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;<span class="comment">/// HINT_RANGE_UNSIGNED (resp. HINT_RANGE_SIGNED) then getRange prefers ranges</span></div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;<span class="comment">/// with a &quot;cleaner&quot; unsigned (resp. signed) representation.</span></div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;ScalarEvolution::getRangeRef(</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, ScalarEvolution::RangeSignHint SignHint, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, ConstantRange&gt;</a> &amp;Cache =</div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;      SignHint == ScalarEvolution::HINT_RANGE_UNSIGNED ? UnsignedRanges</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;                                                       : SignedRanges;</div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html#a0e6f2069000829208cbac185a07d8082">ConstantRange::PreferredRangeType</a> RangeType =</div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;      SignHint == ScalarEvolution::HINT_RANGE_UNSIGNED ? <a class="code" href="classllvm_1_1ConstantRange.html#a0e6f2069000829208cbac185a07d8082ade1662f5186fd8852b4dcce8eb6563bc">ConstantRange::Unsigned</a></div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;                                                       : <a class="code" href="classllvm_1_1ConstantRange.html#a0e6f2069000829208cbac185a07d8082a8260f3d302e2463fd93753dfd0de6ec1">ConstantRange::Signed</a>;</div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160; </div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;  <span class="comment">// See if we&#39;ve computed this range already.</span></div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, ConstantRange&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Cache.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Cache.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160; </div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;    <span class="keywordflow">return</span> setRange(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, SignHint, <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPInt()));</div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160; </div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;  <span class="comment">// Switch to iteratively computing the range for S, if it is part of a deeply</span></div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;  <span class="comment">// nested expression.</span></div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#a3baedfc8c5a0a2895dad5d884357bbad">RangeIterThreshold</a>)</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;    <span class="keywordflow">return</span> getRangeRefIter(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, SignHint);</div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160; </div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getType());</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ConservativeResult(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <span class="comment">/*isFullSet=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;  <span class="keyword">using</span> OBO = <a class="code" href="classllvm_1_1OverflowingBinaryOperator.html">OverflowingBinaryOperator</a>;</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160; </div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;  <span class="comment">// If the value has known zeros, the maximum value will have those known zeros</span></div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;  <span class="comment">// as well.</span></div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> TZ = <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;  <span class="keywordflow">if</span> (TZ != 0) {</div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;    <span class="keywordflow">if</span> (SignHint == ScalarEvolution::HINT_RANGE_UNSIGNED)</div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;      ConservativeResult =</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;          <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>),</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;                        <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>).<a class="code" href="README__P9_8txt.html#a1339768ca51595b3ebf5c0e69b80c9e8">lshr</a>(TZ).<a class="code" href="lib_2Target_2X86_2README_8txt.html#af91797dc0ab1ae005fdbf19482859eaf">shl</a>(TZ) + 1);</div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;      ConservativeResult = <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;          <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>),</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;          <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>).ashr(TZ).<a class="code" href="lib_2Target_2X86_2README_8txt.html#af91797dc0ab1ae005fdbf19482859eaf">shl</a>(TZ) + 1);</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;  }</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160; </div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType()) {</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Already handled above.&quot;</span>);</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>: {</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Trunc = cast&lt;SCEVTruncateExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = getRangeRef(Trunc-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>(), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;    <span class="keywordflow">return</span> setRange(</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;        Trunc, SignHint,</div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;        ConservativeResult.intersectWith(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.truncate(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>), RangeType));</div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;  }</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>: {</div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *ZExt = cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = getRangeRef(ZExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>(), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;    <span class="keywordflow">return</span> setRange(</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;        ZExt, SignHint,</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;        ConservativeResult.intersectWith(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.zeroExtend(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>), RangeType));</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;  }</div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>: {</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SExt = cast&lt;SCEVSignExtendExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = getRangeRef(SExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>(), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;    <span class="keywordflow">return</span> setRange(</div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;        SExt, SignHint,</div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;        ConservativeResult.intersectWith(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.signExtend(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>), RangeType));</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;  }</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>: {</div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPtrToIntExpr.html">SCEVPtrToIntExpr</a> *PtrToInt = cast&lt;SCEVPtrToIntExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = getRangeRef(PtrToInt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>(), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;    <span class="keywordflow">return</span> setRange(PtrToInt, SignHint, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;  }</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>: {</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a> = cast&lt;SCEVAddExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = getRangeRef(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getOperand(0), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;    <span class="keywordtype">unsigned</span> WrapType = OBO::AnyWrap;</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;hasNoSignedWrap())</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;      WrapType |= OBO::NoSignedWrap;</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;hasNoUnsignedWrap())</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;      WrapType |= OBO::NoUnsignedWrap;</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;      <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.addWithNoWrap(getRangeRef(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1),</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;                          WrapType, RangeType);</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;    <span class="keywordflow">return</span> setRange(Add, SignHint,</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;                    ConservativeResult.intersectWith(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, RangeType));</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;  }</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>: {</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = cast&lt;SCEVMulExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = getRangeRef(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;      <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.multiply(getRangeRef(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1));</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;    <span class="keywordflow">return</span> setRange(Mul, SignHint,</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;                    ConservativeResult.intersectWith(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, RangeType));</div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;  }</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>: {</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *UDiv = cast&lt;SCEVUDivExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = getRangeRef(UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#af273c9351671a7ca11b52de9215f48f8">getLHS</a>(), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = getRangeRef(UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a5c27598f80fb5edbdb4432d37e2c71cb">getRHS</a>(), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;    <span class="keywordflow">return</span> setRange(UDiv, SignHint,</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;                    ConservativeResult.intersectWith(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.udiv(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), RangeType));</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;  }</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;    <span class="comment">// If there&#39;s no unsigned wrap, the value will never be less than its</span></div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;    <span class="comment">// initial value.</span></div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;    <span class="keywordflow">if</span> (AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a09cc70290a71475141063b6dff42a5d2">hasNoUnsignedWrap</a>()) {</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> UnsignedMinValue = <a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>());</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;      <span class="keywordflow">if</span> (!UnsignedMinValue.<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>())</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;        ConservativeResult = ConservativeResult.intersectWith(</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;            <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(UnsignedMinValue, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0)), RangeType);</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;    }</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160; </div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;    <span class="comment">// If there&#39;s no signed wrap, and all the operands except initial value have</span></div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;    <span class="comment">// the same sign or zero, the value won&#39;t ever be:</span></div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;    <span class="comment">// 1: smaller than initial value if operands are non negative,</span></div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;    <span class="comment">// 2: bigger than initial value if operands are non positive.</span></div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;    <span class="comment">// For both cases, value can not cross signed min/max boundary.</span></div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;    <span class="keywordflow">if</span> (AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a71deee7ef49ab5407b7e1aa758b6ec0a">hasNoSignedWrap</a>()) {</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;      <span class="keywordtype">bool</span> AllNonNeg = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;      <span class="keywordtype">bool</span> AllNonPos = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)))</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;          AllNonNeg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a121ee24f11c464f3b3197cac87b0980e">isKnownNonPositive</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)))</div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;          AllNonPos = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;      }</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;      <span class="keywordflow">if</span> (AllNonNeg)</div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;        ConservativeResult = ConservativeResult.intersectWith(</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;            <a class="code" href="classllvm_1_1ConstantRange.html#acd8afecbb15ee69487d5339371f64a76">ConstantRange::getNonEmpty</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>()),</div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;                                       <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)),</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;            RangeType);</div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AllNonPos)</div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;        ConservativeResult = ConservativeResult.intersectWith(</div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;            <a class="code" href="classllvm_1_1ConstantRange.html#acd8afecbb15ee69487d5339371f64a76">ConstantRange::getNonEmpty</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>),</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;                                       <a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>()) +</div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;                                           1),</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;            RangeType);</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;    }</div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160; </div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;    <span class="comment">// TODO: non-affine addrec</span></div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;    <span class="keywordflow">if</span> (AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>()) {</div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount =</div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a80d7048687367a15d267ac5418b8a168">getConstantMaxBackedgeTakenCount</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>());</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(MaxBECount) &amp;&amp;</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()) &lt;= <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) {</div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;        <span class="keyword">auto</span> RangeFromAffine = getRangeForAffineAR(</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;            AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(), AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>), MaxBECount,</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;            <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;        ConservativeResult =</div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;            ConservativeResult.intersectWith(RangeFromAffine, RangeType);</div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160; </div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;        <span class="keyword">auto</span> RangeFromFactoring = getRangeViaFactoring(</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;            AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(), AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>), MaxBECount,</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;            <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;        ConservativeResult =</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;            ConservativeResult.intersectWith(RangeFromFactoring, RangeType);</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;      }</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160; </div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;      <span class="comment">// Now try symbolic BE count and more powerful methods.</span></div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#a87663d0d33a0c3282091364a217a8269">UseExpensiveRangeSharpening</a>) {</div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymbolicMaxBECount =</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#aa3e7344b86ba444cc1eb0c20fece4629">getSymbolicMaxBackedgeTakenCount</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>());</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;        <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(SymbolicMaxBECount) &amp;&amp;</div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()) &lt;= <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp;</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;            AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a6429bca8fd0024ceb2d76ccaace43c4e">hasNoSelfWrap</a>()) {</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;          <span class="keyword">auto</span> RangeFromAffineNew = getRangeForAffineNoSelfWrappingAR(</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;              AddRec, SymbolicMaxBECount, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, SignHint);</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;          ConservativeResult =</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;              ConservativeResult.intersectWith(RangeFromAffineNew, RangeType);</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;        }</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;      }</div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;    }</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160; </div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;    <span class="keywordflow">return</span> setRange(AddRec, SignHint, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ConservativeResult));</div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;  }</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>: {</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType()) {</div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;      <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a>;</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;      <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a>;</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;      <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">Intrinsic::umin</a>;</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;      <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>;</div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEVMinMaxExpr/SCEVSequentialMinMaxExpr.&quot;</span>);</div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;    }</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160; </div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *NAry = cast&lt;SCEVNAryExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = getRangeRef(NAry-&gt;getOperand(0), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = NAry-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;      <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.intrinsic(</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;          <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, {<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, getRangeRef(NAry-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1)});</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;    <span class="keywordflow">return</span> setRange(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, SignHint,</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;                    ConservativeResult.intersectWith(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, RangeType));</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;  }</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>: {</div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U = cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160; </div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;    <span class="comment">// Check if the IR explicitly contains !range metadata.</span></div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;    std::optional&lt;ConstantRange&gt; MDRange = <a class="code" href="ScalarEvolution_8cpp.html#a104347bf076d992f7dba551cb2efc3fb">GetRangeFromMetadata</a>(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>());</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;    <span class="keywordflow">if</span> (MDRange)</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;      ConservativeResult =</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;          ConservativeResult.intersectWith(*MDRange, RangeType);</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160; </div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;    <span class="comment">// Use facts about recurrences in the underlying IR.  Note that add</span></div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;    <span class="comment">// recurrences are AddRecExprs and thus don&#39;t hit this path.  This</span></div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;    <span class="comment">// primarily handles shift recurrences.</span></div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;    <span class="keyword">auto</span> CR = getRangeForUnknownRecurrence(U);</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;    ConservativeResult = ConservativeResult.intersectWith(CR);</div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160; </div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;    <span class="comment">// See if ValueTracking can give us a useful range.</span></div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>();</div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, &amp;AC, <span class="keyword">nullptr</span>, &amp;DT);</div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;    <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">getBitWidth</a>() != <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)</div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;      Known = Known.<a class="code" href="structllvm_1_1KnownBits.html#a7ddb13bdf305b1d4eee7bf1a9ac9d35e">zextOrTrunc</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160; </div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;    <span class="comment">// ValueTracking may be able to compute a tighter result for the number of</span></div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;    <span class="comment">// sign bits than for the value of those sign bits.</span></div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;    <span class="keywordtype">unsigned</span> NS = <a class="code" href="namespacellvm.html#ad46ed333b920b20e78d948610366254c">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, &amp;AC, <span class="keyword">nullptr</span>, &amp;DT);</div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;    <span class="keywordflow">if</span> (U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad5a0788fd78a5c5269fcaf45164b6e9a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;      <span class="comment">// If the pointer size is larger than the index size type, this can cause</span></div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;      <span class="comment">// NS to be larger than BitWidth. So compensate for this.</span></div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;      <span class="keywordtype">unsigned</span> ptrSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getPointerTypeSizeInBits(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad5a0788fd78a5c5269fcaf45164b6e9a">getType</a>());</div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;      <span class="keywordtype">int</span> ptrIdxDiff = ptrSize - <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>;</div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;      <span class="keywordflow">if</span> (ptrIdxDiff &gt; 0 &amp;&amp; ptrSize &gt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp; NS &gt; (<span class="keywordtype">unsigned</span>)ptrIdxDiff)</div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;        NS -= ptrIdxDiff;</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;    }</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160; </div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;    <span class="keywordflow">if</span> (NS &gt; 1) {</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;      <span class="comment">// If we know any of the sign bits, we know all of the sign bits.</span></div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;      <span class="keywordflow">if</span> (!Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#a2d5c4385716b3fa4a96e879987cccedc">getHiBits</a>(NS).<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>())</div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;        Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#a2780c5606880394d3f07cd2079a27697">setHighBits</a>(NS);</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;      <span class="keywordflow">if</span> (!Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#a2d5c4385716b3fa4a96e879987cccedc">getHiBits</a>(NS).<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>())</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;        Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#a2780c5606880394d3f07cd2079a27697">setHighBits</a>(NS);</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;    }</div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160; </div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;    <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#a9b35c622a902a7a7dc93b807a9fa9265">getMinValue</a>() != Known.<a class="code" href="structllvm_1_1KnownBits.html#a825476b2436eb817b735fdd34ee521c4">getMaxValue</a>() + 1)</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;      ConservativeResult = ConservativeResult.intersectWith(</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;          <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(Known.<a class="code" href="structllvm_1_1KnownBits.html#a9b35c622a902a7a7dc93b807a9fa9265">getMinValue</a>(), Known.<a class="code" href="structllvm_1_1KnownBits.html#a825476b2436eb817b735fdd34ee521c4">getMaxValue</a>() + 1),</div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;          RangeType);</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;    <span class="keywordflow">if</span> (NS &gt; 1)</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;      ConservativeResult = ConservativeResult.intersectWith(</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;          <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>).ashr(NS - 1),</div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;                        <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>).ashr(NS - 1) + 1),</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;          RangeType);</div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160; </div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;    <span class="comment">// A range of Phi is a subset of union of all ranges of its input.</span></div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi = dyn_cast&lt;PHINode&gt;(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>())) {</div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;      <span class="comment">// Make sure that we do not run over cycled Phis.</span></div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;      <span class="keywordflow">if</span> (PendingPhiRanges.insert(Phi).second) {</div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> RangeFromOps(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <span class="comment">/*isFullSet=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160; </div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Phi-&gt;operands()) {</div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;          <span class="keyword">auto</span> OpRange = getRangeRef(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), SignHint, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;          RangeFromOps = RangeFromOps.unionWith(OpRange);</div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;          <span class="comment">// No point to continue if we already have a full set.</span></div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;          <span class="keywordflow">if</span> (RangeFromOps.isFullSet())</div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;        }</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;        ConservativeResult =</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;            ConservativeResult.intersectWith(RangeFromOps, RangeType);</div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;        <span class="keywordtype">bool</span> Erased = PendingPhiRanges.erase(Phi);</div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Erased &amp;&amp; <span class="stringliteral">&quot;Failed to erase Phi properly?&quot;</span>);</div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;        (void)Erased;</div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;      }</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;    }</div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160; </div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;    <span class="comment">// vscale can&#39;t be equal to zero</span></div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>()))</div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;      <span class="keywordflow">if</span> (II-&gt;getIntrinsicID() == Intrinsic::vscale) {</div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> Disallowed = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;        ConservativeResult = ConservativeResult.difference(Disallowed);</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;      }</div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160; </div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;    <span class="keywordflow">return</span> setRange(U, SignHint, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ConservativeResult));</div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;  }</div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;  }</div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160; </div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;  <span class="keywordflow">return</span> setRange(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, SignHint, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ConservativeResult));</div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;}</div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160; </div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;<span class="comment">// Given a StartRange, Step and MaxBECount for an expression compute a range of</span></div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;<span class="comment">// values that the expression can take. Initially, the expression has a value</span></div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;<span class="comment">// from StartRange and then is changed by Step up to MaxBECount times. Signed</span></div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;<span class="comment">// argument defines if we treat Step as signed or unsigned.</span></div>
<div class="line"><a name="l06903"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#abffe1c5730168a86a46e690447dd6d97"> 6903</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="ScalarEvolution_8cpp.html#abffe1c5730168a86a46e690447dd6d97">getRangeForAffineARHelper</a>(<a class="code" href="classllvm_1_1APInt.html">APInt</a> Step,</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;StartRange,</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;MaxBECount,</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;                                               <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>) {</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;  <span class="comment">// If either Step or MaxBECount is 0, then the expression won&#39;t change, and we</span></div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;  <span class="comment">// just need to return the initial range.</span></div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;  <span class="keywordflow">if</span> (Step == 0 || MaxBECount == 0)</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;    <span class="keywordflow">return</span> StartRange;</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160; </div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;  <span class="comment">// If we don&#39;t know anything about the initial value (i.e. StartRange is</span></div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;  <span class="comment">// FullRange), then we don&#39;t know anything about the final range either.</span></div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;  <span class="comment">// Return FullRange.</span></div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;  <span class="keywordflow">if</span> (StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a4f6242fab5145c424cee29230fefe746">isFullSet</a>())</div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160; </div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;  <span class="comment">// If Step is signed and negative, then we use its absolute value, but we also</span></div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;  <span class="comment">// note that we&#39;re moving in the opposite direction.</span></div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;  <span class="keywordtype">bool</span> Descending = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> &amp;&amp; Step.<a class="code" href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">isNegative</a>();</div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160; </div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>)</div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;    <span class="comment">// This is correct even for INT_SMIN. Let&#39;s look at i8 to illustrate this:</span></div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;    <span class="comment">// abs(INT_SMIN) = abs(-128) = abs(0x80) = -0x80 = 0x80 = 128.</span></div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;    <span class="comment">// This equations hold true due to the well-defined wrap-around behavior of</span></div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;    <span class="comment">// APInt.</span></div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;    Step = Step.<a class="code" href="classllvm_1_1APInt.html#a38e964f0cadf077725453884734a6c99">abs</a>();</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160; </div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;  <span class="comment">// Check if Offset is more than full span of BitWidth. If it is, the</span></div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;  <span class="comment">// expression is guaranteed to overflow.</span></div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#ad7f81241f958a1f5917a3410942d3199">getBitWidth</a>()).<a class="code" href="classllvm_1_1APInt.html#a05d674becc60ba4ef8cd4dd4d38ac27a">udiv</a>(Step).<a class="code" href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">ult</a>(MaxBECount))</div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160; </div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;  <span class="comment">// Offset is by how much the expression can change. Checks above guarantee no</span></div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;  <span class="comment">// overflow here.</span></div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = Step * MaxBECount;</div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160; </div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;  <span class="comment">// Minimum value of the final range will match the minimal value of StartRange</span></div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;  <span class="comment">// if the expression is increasing and will be decreased by Offset otherwise.</span></div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;  <span class="comment">// Maximum value of the final range will match the maximal value of StartRange</span></div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;  <span class="comment">// if the expression is decreasing and will be increased by Offset otherwise.</span></div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> StartLower = StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a4c57cff33f93411b9c32991f3c5336ad">getLower</a>();</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> StartUpper = StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a04459fa7cb4eeda3238a0f7d554ad3be">getUpper</a>() - 1;</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MovedBoundary = Descending ? (StartLower - <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>))</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;                                   : (StartUpper + <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>));</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160; </div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;  <span class="comment">// It&#39;s possible that the new minimum/maximum value will fall into the initial</span></div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;  <span class="comment">// range (due to wrap around). This means that the expression can take any</span></div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;  <span class="comment">// value in this bitwidth, and we have to return full range.</span></div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;  <span class="keywordflow">if</span> (StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#aaca3a4d2b25c24b11179cbd01079b73c">contains</a>(MovedBoundary))</div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160; </div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewLower =</div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;      Descending ? <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(MovedBoundary) : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(StartLower);</div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewUpper =</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;      Descending ? <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(StartUpper) : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(MovedBoundary);</div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;  NewUpper += 1;</div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160; </div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;  <span class="comment">// No overflow detected, return [StartLower, StartUpper + Offset + 1) range.</span></div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantRange.html#acd8afecbb15ee69487d5339371f64a76">ConstantRange::getNonEmpty</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(NewLower), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(NewUpper));</div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;}</div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160; </div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ScalarEvolution::getRangeForAffineAR(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start,</div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount,</div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;                                                   <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) {</div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isa&lt;SCEVCouldNotCompute&gt;(MaxBECount) &amp;&amp;</div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;         <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()) &lt;= <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp;</div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;         <span class="stringliteral">&quot;Precondition!&quot;</span>);</div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160; </div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;  MaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">getNoopOrZeroExtend</a>(MaxBECount, Start-&gt;getType());</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxBECountValue = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(MaxBECount);</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160; </div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;  <span class="comment">// First, consider step signed.</span></div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> StartSRange = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(Start);</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> StepSRange = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(Step);</div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160; </div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;  <span class="comment">// If Step can be both positive and negative, we need to find ranges for the</span></div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;  <span class="comment">// maximum absolute step values in both directions and union them.</span></div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> SR =</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#abffe1c5730168a86a46e690447dd6d97">getRangeForAffineARHelper</a>(StepSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a6c03477d3ea04e382431f02a0f21aa41">getSignedMin</a>(), StartSRange,</div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;                                MaxBECountValue, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <span class="comment">/* Signed = */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;  SR = SR.<a class="code" href="classllvm_1_1ConstantRange.html#aa81521f99442a5c30f9061b8c6ce795e">unionWith</a>(<a class="code" href="ScalarEvolution_8cpp.html#abffe1c5730168a86a46e690447dd6d97">getRangeForAffineARHelper</a>(StepSRange.<a class="code" href="classllvm_1_1ConstantRange.html#ac45b1557ea43684a07058cb74396c435">getSignedMax</a>(),</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;                                              StartSRange, MaxBECountValue,</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;                                              <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <span class="comment">/* Signed = */</span> <span class="keyword">true</span>));</div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160; </div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;  <span class="comment">// Next, consider step unsigned.</span></div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> UR = <a class="code" href="ScalarEvolution_8cpp.html#abffe1c5730168a86a46e690447dd6d97">getRangeForAffineARHelper</a>(</div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(Step), <a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(Start),</div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;      MaxBECountValue, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <span class="comment">/* Signed = */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160; </div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;  <span class="comment">// Finally, intersect signed and unsigned ranges.</span></div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;  <span class="keywordflow">return</span> SR.<a class="code" href="classllvm_1_1ConstantRange.html#ac098fe4f07549fb029fbf950dbe78fd3">intersectWith</a>(UR, <a class="code" href="classllvm_1_1ConstantRange.html#a0e6f2069000829208cbac185a07d8082a25a373cd66e09df5cb7b8cf3f443ea2b">ConstantRange::Smallest</a>);</div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;}</div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160; </div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ScalarEvolution::getRangeForAffineNoSelfWrappingAR(</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>,</div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;    ScalarEvolution::RangeSignHint SignHint) {</div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>() &amp;&amp; <span class="stringliteral">&quot;Non-affine AddRecs are not suppored!\n&quot;</span>);</div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a6429bca8fd0024ceb2d76ccaace43c4e">hasNoSelfWrap</a>() &amp;&amp;</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;         <span class="stringliteral">&quot;This only works for non-self-wrapping AddRecs!&quot;</span>);</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> IsSigned = SignHint == HINT_RANGE_SIGNED;</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;  <span class="comment">// Only deal with constant step to save compile time.</span></div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(Step))</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;  <span class="comment">// Let&#39;s make sure that we can prove that we do not self-wrap during</span></div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;  <span class="comment">// MaxBECount iterations. We need this because MaxBECount is a maximum</span></div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;  <span class="comment">// iteration count estimate, and we might infer nw from some exit for which we</span></div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;  <span class="comment">// do not know max exit count (or any other side reasoning).</span></div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;  <span class="comment">// TODO: Turn into assert at some point.</span></div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()) &gt;</div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>()))</div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;  MaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">getNoopOrZeroExtend</a>(MaxBECount, AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>());</div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RangeWidth = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8b52e1d4097374216c56c6cc68c78fa8">getMinusOne</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>());</div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *StepAbs = <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(Step, <a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(Step));</div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxItersWithoutWrap = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(RangeWidth, StepAbs);</div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;  <span class="keywordflow">if</span> (!isKnownPredicateViaConstantRanges(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>, MaxBECount,</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;                                         MaxItersWithoutWrap))</div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160; </div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> LEPred =</div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;      IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>;</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> GEPred =</div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;      IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>;</div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *End = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a33583576f220997d1c415df033559a57">evaluateAtIteration</a>(MaxBECount, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160; </div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;  <span class="comment">// We know that there is no self-wrap. Let&#39;s take Start and End values and</span></div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;  <span class="comment">// look at all intermediate values V1, V2, ..., Vn that IndVar takes during</span></div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;  <span class="comment">// the iteration. They either lie inside the range [Min(Start, End),</span></div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;  <span class="comment">// Max(Start, End)] or outside it:</span></div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;  <span class="comment">// Case 1:   RangeMin    ...    Start V1 ... VN End ...           RangeMax;</span></div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;  <span class="comment">// Case 2:   RangeMin Vk ... V1 Start    ...    End Vn ... Vk + 1 RangeMax;</span></div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;  <span class="comment">// No self wrap flag guarantees that the intermediate values cannot be BOTH</span></div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;  <span class="comment">// outside and inside the range [Min(Start, End), Max(Start, End)]. Using that</span></div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;  <span class="comment">// knowledge, let&#39;s try to prove that we are dealing with Case 1. It is so if</span></div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;  <span class="comment">// Start &lt;= End and step is positive, or Start &gt;= End and step is negative.</span></div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>();</div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> StartRange = getRangeRef(Start, SignHint);</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> EndRange = getRangeRef(End, SignHint);</div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> RangeBetween = StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#aa81521f99442a5c30f9061b8c6ce795e">unionWith</a>(EndRange);</div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;  <span class="comment">// If they already cover full iteration space, we will know nothing useful</span></div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;  <span class="comment">// even if we prove what we want to prove.</span></div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;  <span class="keywordflow">if</span> (RangeBetween.<a class="code" href="classllvm_1_1ConstantRange.html#a4f6242fab5145c424cee29230fefe746">isFullSet</a>())</div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;    <span class="keywordflow">return</span> RangeBetween;</div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;  <span class="comment">// Only deal with ranges that do not wrap (i.e. RangeMin &lt; RangeMax).</span></div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;  <span class="keywordtype">bool</span> IsWrappedSet = IsSigned ? RangeBetween.<a class="code" href="classllvm_1_1ConstantRange.html#a66d4b4c9a335549fc329921f27ac67fc">isSignWrappedSet</a>()</div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;                               : RangeBetween.<a class="code" href="classllvm_1_1ConstantRange.html#a76bca22a9253d0962fd07031c89b98e7">isWrappedSet</a>();</div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;  <span class="keywordflow">if</span> (IsWrappedSet)</div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160; </div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(Step) &amp;&amp;</div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;      isKnownPredicateViaConstantRanges(LEPred, Start, End))</div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;    <span class="keywordflow">return</span> RangeBetween;</div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">isKnownNegative</a>(Step) &amp;&amp;</div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;           isKnownPredicateViaConstantRanges(GEPred, Start, End))</div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;    <span class="keywordflow">return</span> RangeBetween;</div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;  <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;}</div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160; </div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ScalarEvolution::getRangeViaFactoring(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start,</div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount,</div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;                                                    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) {</div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;  <span class="comment">//    RangeOf({C?A:B,+,C?P:Q}) == RangeOf(C?{A,+,P}:{B,+,Q})</span></div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;  <span class="comment">// == RangeOf({A,+,P}) union RangeOf({B,+,Q})</span></div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160; </div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;  <span class="keyword">struct </span>SelectPattern {</div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Condition = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> TrueValue;</div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> FalseValue;</div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160; </div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;    <span class="keyword">explicit</span> SelectPattern(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>,</div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;      std::optional&lt;unsigned&gt; CastOp;</div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0);</div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160; </div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getType()) == <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &amp;&amp;</div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;             <span class="stringliteral">&quot;Should be!&quot;</span>);</div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160; </div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;      <span class="comment">// Peel off a constant offset:</span></div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SA = dyn_cast&lt;SCEVAddExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)) {</div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;        <span class="comment">// In the future we could consider being smarter here and handle</span></div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;        <span class="comment">// {Start+Step,+,Step} too.</span></div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;        <span class="keywordflow">if</span> (SA-&gt;getNumOperands() != 2 || !isa&lt;SCEVConstant&gt;(SA-&gt;getOperand(0)))</div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160; </div>
<div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;        <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = cast&lt;SCEVConstant&gt;(SA-&gt;getOperand(0))-&gt;getAPInt();</div>
<div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = SA-&gt;getOperand(1);</div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;      }</div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160; </div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;      <span class="comment">// Peel off a cast operation</span></div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SCast = dyn_cast&lt;SCEVIntegralCastExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)) {</div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;        CastOp = SCast-&gt;getSCEVType();</div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = SCast-&gt;getOperand();</div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;      }</div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160; </div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;      <span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a>;</div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160; </div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;      <span class="keyword">auto</span> *SU = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;      <span class="keywordflow">if</span> (!SU ||</div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;          !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(SU-&gt;getValue(), <a class="code" href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">m_Select</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Condition), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>),</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;                                          <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>)))) {</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;        Condition = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;      }</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160; </div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;      TrueValue = *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>;</div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;      FalseValue = *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160; </div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;      <span class="comment">// Re-apply the cast we peeled off earlier</span></div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;      <span class="keywordflow">if</span> (CastOp)</div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;        <span class="keywordflow">switch</span> (*CastOp) {</div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV cast type!&quot;</span>);</div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160; </div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;          TrueValue = TrueValue.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;          FalseValue = FalseValue.<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;          TrueValue = TrueValue.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;          FalseValue = FalseValue.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;          TrueValue = TrueValue.<a class="code" href="classllvm_1_1APInt.html#aca8fce65eb69a82aa10a635e2e79877a">sext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;          FalseValue = FalseValue.<a class="code" href="classllvm_1_1APInt.html#aca8fce65eb69a82aa10a635e2e79877a">sext</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;        }</div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160; </div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;      <span class="comment">// Re-apply the constant offset we peeled off earlier</span></div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;      TrueValue += <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;      FalseValue += <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;    }</div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160; </div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;    <span class="keywordtype">bool</span> isRecognized() { <span class="keywordflow">return</span> Condition != <span class="keyword">nullptr</span>; }</div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;  };</div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160; </div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;  SelectPattern StartPattern(*<span class="keyword">this</span>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, Start);</div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;  <span class="keywordflow">if</span> (!StartPattern.isRecognized())</div>
<div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160; </div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;  SelectPattern StepPattern(*<span class="keyword">this</span>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, Step);</div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;  <span class="keywordflow">if</span> (!StepPattern.isRecognized())</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160; </div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;  <span class="keywordflow">if</span> (StartPattern.Condition != StepPattern.Condition) {</div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;    <span class="comment">// We don&#39;t handle this case today; but we could, by considering four</span></div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;    <span class="comment">// possibilities below instead of two. I&#39;m not sure if there are cases where</span></div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;    <span class="comment">// that will help over what getRange already does, though.</span></div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;    <span class="keywordflow">return</span> ConstantRange::getFull(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;  }</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160; </div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;  <span class="comment">// NB! Calling ScalarEvolution::getConstant is fine, but we should not try to</span></div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;  <span class="comment">// construct arbitrary general SCEV expressions here.  This function is called</span></div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;  <span class="comment">// from deep in the call stack, and calling getSCEV (on a sext instruction,</span></div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;  <span class="comment">// say) can end up caching a suboptimal value.</span></div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160; </div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;  <span class="comment">// FIXME: without the explicit `this` receiver below, MSVC errors out with</span></div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;  <span class="comment">// C2352 and C2512 (otherwise it isn&#39;t needed).</span></div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160; </div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TrueStart = this-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(StartPattern.TrueValue);</div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TrueStep = this-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(StepPattern.TrueValue);</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FalseStart = this-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(StartPattern.FalseValue);</div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FalseStep = this-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(StepPattern.FalseValue);</div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160; </div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> TrueRange =</div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;      this-&gt;getRangeForAffineAR(TrueStart, TrueStep, MaxBECount, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> FalseRange =</div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;      this-&gt;getRangeForAffineAR(FalseStart, FalseStep, MaxBECount, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160; </div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;  <span class="keywordflow">return</span> TrueRange.<a class="code" href="classllvm_1_1ConstantRange.html#aa81521f99442a5c30f9061b8c6ce795e">unionWith</a>(FalseRange);</div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;}</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160; </div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> ScalarEvolution::getNoWrapFlagsFromUB(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantExpr&gt;(V)) <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BinOp = cast&lt;BinaryOperator&gt;(V);</div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160; </div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;  <span class="comment">// Return early if there are no flags to propagate to the SCEV.</span></div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;  <span class="keywordflow">if</span> (BinOp-&gt;<a class="code" href="classllvm_1_1Instruction.html#a100c666f9253331dd1d166a863248326">hasNoUnsignedWrap</a>())</div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;    <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;  <span class="keywordflow">if</span> (BinOp-&gt;<a class="code" href="classllvm_1_1Instruction.html#a350f4fdc01c770b5cf6a8be2624ae3e5">hasNoSignedWrap</a>())</div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;    <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;  <span class="keywordflow">if</span> (Flags == <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>)</div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160; </div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;  <span class="keywordflow">return</span> isSCEVExprNeverPoison(BinOp) ? <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;}</div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160; </div>
<div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *</div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;ScalarEvolution::getNonTrivialDefiningScopeBound(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;    <span class="keywordflow">return</span> &amp;*AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *U = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>()))</div>
<div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;}</div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160; </div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *</div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;ScalarEvolution::getDefiningScopeBound(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops,</div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;                                       <span class="keywordtype">bool</span> &amp;Precise) {</div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;  Precise = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;  <span class="comment">// Do a bounded search of the def relation of the requested SCEVs.</span></div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;const SCEV *, 16&gt;</a> Visited;</div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> Worklist;</div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;  <span class="keyword">auto</span> pushOp = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>).second)</div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;    <span class="comment">// Threshold of 30 here is arbitrary.</span></div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;    <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallSet.html#afd7c135e18f2d7253d4f8545cd7b1756">size</a>() &gt; 30) {</div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;      Precise = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;    }</div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;    Worklist.push_back(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;  };</div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160; </div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : Ops)</div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;    pushOp(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160; </div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Bound = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DefI = getNonTrivialDefiningScopeBound(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)) {</div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;      <span class="keywordflow">if</span> (!Bound || DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(Bound, DefI))</div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;        Bound = DefI;</div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;operands())</div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;        pushOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160;    }</div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;  }</div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;  <span class="keywordflow">return</span> Bound ? Bound : &amp;*F.<a class="code" href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">getEntryBlock</a>().<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;}</div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160; </div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *</div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;ScalarEvolution::getDefiningScopeBound(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops) {</div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;  <span class="keywordtype">bool</span> Discard;</div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;  <span class="keywordflow">return</span> getDefiningScopeBound(Ops, Discard);</div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;}</div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160; </div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isGuaranteedToTransferExecutionTo(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *A,</div>
<div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;                                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getParent() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getParent() &amp;&amp;</div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;      <a class="code" href="namespacellvm.html#abff5a423c1f45e23958dde8ee695c9a9">isGuaranteedToTransferExecutionToSuccessor</a>(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getIterator(),</div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;                                                 <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getIterator()))</div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160; </div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;  <span class="keyword">auto</span> *BLoop = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getParent());</div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;  <span class="keywordflow">if</span> (BLoop &amp;&amp; BLoop-&gt;getHeader() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getParent() &amp;&amp;</div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;      BLoop-&gt;getLoopPreheader() == <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getParent() &amp;&amp;</div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;      <a class="code" href="namespacellvm.html#abff5a423c1f45e23958dde8ee695c9a9">isGuaranteedToTransferExecutionToSuccessor</a>(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getIterator(),</div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;                                                 <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getParent()-&gt;end()) &amp;&amp;</div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;      <a class="code" href="namespacellvm.html#abff5a423c1f45e23958dde8ee695c9a9">isGuaranteedToTransferExecutionToSuccessor</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getParent()-&gt;begin(),</div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;                                                 <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getIterator()))</div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;}</div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160; </div>
<div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160; </div>
<div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isSCEVExprNeverPoison(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;  <span class="comment">// Only proceed if we can prove that I does not yield poison.</span></div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a7a3935517c67d2e9aa8e04f1cfc9f983">programUndefinedIfPoison</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160; </div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;  <span class="comment">// At this point we know that if I is executed, then it does not wrap</span></div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;  <span class="comment">// according to at least one of NSW or NUW. If I is not executed, then we do</span></div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;  <span class="comment">// not know if the calculation that I represents would wrap. Multiple</span></div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;  <span class="comment">// instructions can map to the same SCEV. If we apply NSW or NUW from I to</span></div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;  <span class="comment">// the SCEV, we must guarantee no wrapping for that SCEV also when it is</span></div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;  <span class="comment">// derived from other instructions that map to the same SCEV. We cannot make</span></div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;  <span class="comment">// that guarantee for cases where I is not executed. So we need to find a</span></div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;  <span class="comment">// upper bound on the defining scope for the SCEV, and prove that I is</span></div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;  <span class="comment">// executed every time we enter that scope.  When the bounding scope is a</span></div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;  <span class="comment">// loop (the common case), this is equivalent to proving I executes on every</span></div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;  <span class="comment">// iteration of that loop.</span></div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> SCEVOps;</div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands()) {</div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;    <span class="comment">// I could be an extractvalue from a call to an overflow intrinsic.</span></div>
<div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;    <span class="comment">// TODO: We can do better here in some cases.</span></div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()))</div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;      SCEVOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;  }</div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;  <span class="keyword">auto</span> *DefI = getDefiningScopeBound(SCEVOps);</div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;  <span class="keywordflow">return</span> isGuaranteedToTransferExecutionTo(DefI, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;}</div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160; </div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isAddRecNeverPoison(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;  <span class="comment">// If we know that \c I can never be poison period, then that&#39;s enough.</span></div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;  <span class="keywordflow">if</span> (isSCEVExprNeverPoison(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160; </div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;  <span class="comment">// For an add recurrence specifically, we assume that infinite loops without</span></div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;  <span class="comment">// side effects are undefined behavior, and then reason as follows:</span></div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;  <span class="comment">// If the add recurrence is poison in any iteration, it is poison on all</span></div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;  <span class="comment">// future iterations (since incrementing poison yields poison). If the result</span></div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;  <span class="comment">// of the add recurrence is fed into the loop latch condition and the loop</span></div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;  <span class="comment">// does not contain any throws or exiting blocks other than the latch, we now</span></div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;  <span class="comment">// have the ability to &quot;choose&quot; whether the backedge is taken or not (by</span></div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;  <span class="comment">// choosing a sufficiently evil value for the poison feeding into the branch)</span></div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;  <span class="comment">// for every iteration including and after the one in which \p I first became</span></div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;  <span class="comment">// poison.  There are two possibilities (let&#39;s call the iteration in which \p</span></div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;  <span class="comment">// I first became poison as K):</span></div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;  <span class="comment">//  1. In the set of iterations including and after K, the loop body executes</span></div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;  <span class="comment">//     no side effects.  In this case executing the backege an infinte number</span></div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;  <span class="comment">//     of times will yield undefined behavior.</span></div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;  <span class="comment">//  2. In the set of iterations including and after K, the loop body executes</span></div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;  <span class="comment">//     at least one side effect.  In this case, that specific instance of side</span></div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;  <span class="comment">//     effect is control dependent on poison, which also yields undefined</span></div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;  <span class="comment">//     behavior.</span></div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160; </div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;  <span class="keyword">auto</span> *ExitingBB = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#adf6f53d7652b471c995b7d10f3dd2729">getExitingBlock</a>();</div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;  <span class="keyword">auto</span> *LatchBB = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;  <span class="keywordflow">if</span> (!ExitingBB || !LatchBB || ExitingBB != LatchBB)</div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160; </div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const Instruction *, 16&gt;</a> Pushed;</div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Instruction *, 8&gt;</a> PoisonStack;</div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160; </div>
<div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;  <span class="comment">// We start by assuming \c I, the post-inc add recurrence, is poison.  Only</span></div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;  <span class="comment">// things that are known to be poison under that assumption go on the</span></div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;  <span class="comment">// PoisonStack.</span></div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;  Pushed.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;  PoisonStack.push_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160; </div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;  <span class="keywordtype">bool</span> LatchControlDependentOnPoison = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;  <span class="keywordflow">while</span> (!PoisonStack.empty() &amp;&amp; !LatchControlDependentOnPoison) {</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Poison = PoisonStack.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160; </div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : Poison-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1User.html">User</a> *PoisonUser = U.getUser();</div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aa7b7afb33f3a3f2da4bb2420499b398e">propagatesPoison</a>(U)) {</div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;        <span class="keywordflow">if</span> (Pushed.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(cast&lt;Instruction&gt;(PoisonUser)).second)</div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;          PoisonStack.push_back(cast&lt;Instruction&gt;(PoisonUser));</div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BI = dyn_cast&lt;BranchInst&gt;(PoisonUser)) {</div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a7e4be8b16fbd68c9045a388904044e01">isConditional</a>() &amp;&amp; <span class="stringliteral">&quot;Only possibility!&quot;</span>);</div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;        <span class="keywordflow">if</span> (BI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>() == LatchBB) {</div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;          LatchControlDependentOnPoison = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;        }</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;      }</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;    }</div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;  }</div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160; </div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;  <span class="keywordflow">return</span> LatchControlDependentOnPoison &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a3db092f7661158b76135b3b7d39f0991">loopHasNoAbnormalExits</a>(L);</div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;}</div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160; </div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;ScalarEvolution::LoopProperties</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;ScalarEvolution::getLoopProperties(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;  <span class="keyword">using</span> LoopProperties = ScalarEvolution::LoopProperties;</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160; </div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;  <span class="keyword">auto</span> Itr = LoopPropertiesCache.find(L);</div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;  <span class="keywordflow">if</span> (Itr == LoopPropertiesCache.end()) {</div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;    <span class="keyword">auto</span> HasSideEffects = [](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isSimple();</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160; </div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayThrow() || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayWriteToMemory();</div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;    };</div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160; </div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;    LoopProperties LP = {<span class="comment">/* HasNoAbnormalExits */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;                         <span class="comment">/*HasNoSideEffects*/</span> <span class="keyword">true</span>};</div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160; </div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a5cc113cb783ab6e5ca7b69241431c19c">getBlocks</a>())</div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#abff5a423c1f45e23958dde8ee695c9a9">isGuaranteedToTransferExecutionToSuccessor</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;          LP.HasNoAbnormalExits = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;        <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (HasSideEffects(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;          LP.HasNoSideEffects = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;        <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (!LP.HasNoAbnormalExits &amp;&amp; !LP.HasNoSideEffects)</div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;          <span class="keywordflow">break</span>; <span class="comment">// We&#39;re already as pessimistic as we can get.</span></div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;      }</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160; </div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;    <span class="keyword">auto</span> InsertPair = LoopPropertiesCache.insert({L, LP});</div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InsertPair.second &amp;&amp; <span class="stringliteral">&quot;We just checked!&quot;</span>);</div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;    Itr = InsertPair.first;</div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;  }</div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160; </div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;  <span class="keywordflow">return</span> Itr-&gt;second;</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;}</div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160; </div>
<div class="line"><a name="l07389"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a9b1509388282f293de48b34276e5b538"> 7389</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9b1509388282f293de48b34276e5b538">ScalarEvolution::loopIsFiniteByAssumption</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;  <span class="comment">// A mustprogress loop without side effects must be finite.</span></div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;  <span class="comment">// TODO: The check used here is very conservative.  It&#39;s only *specific*</span></div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;  <span class="comment">// side effects which are well defined in infinite loops.</span></div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a74f807e3ffa9720347aa991a0877eba7">isFinite</a>(L) || (<a class="code" href="namespacellvm.html#a6de4882dde0c939a449377f8f8abb8a8">isMustProgress</a>(L) &amp;&amp; loopHasNoSideEffects(L));</div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;}</div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160; </div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createSCEVIter(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;  <span class="comment">// Worklist item with a Value and a bool indicating whether all operands have</span></div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;  <span class="comment">// been visited already.</span></div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespacellvm.html#a2d5a7634b0ed15979c2cd15c62d6d4b5">PointerTy</a> = <a class="code" href="classllvm_1_1PointerIntPair.html">PointerIntPair&lt;Value *, 1, bool&gt;</a>;</div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;PointerTy&gt;</a> Stack;</div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160; </div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;  Stack.emplace_back(V, <span class="keyword">true</span>);</div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;  Stack.emplace_back(V, <span class="keyword">false</span>);</div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;  <span class="keywordflow">while</span> (!Stack.empty()) {</div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;    <span class="keyword">auto</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Stack.pop_back_val();</div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *CurV = <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.getPointer();</div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160; </div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;    <span class="keywordflow">if</span> (getExistingSCEV(CurV))</div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160; </div>
<div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *&gt;</a> Ops;</div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CreatedSCEV = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;    <span class="comment">// If all operands have been visited already, create the SCEV.</span></div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.getInt()) {</div>
<div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;      CreatedSCEV = createSCEV(CurV);</div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;      <span class="comment">// Otherwise get the operands we need to create SCEV&#39;s for before creating</span></div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;      <span class="comment">// the SCEV for CurV. If the SCEV for CurV can be constructed trivially,</span></div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;      <span class="comment">// just use it.</span></div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;      CreatedSCEV = getOperandsToCreate(CurV, Ops);</div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;    }</div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160; </div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;    <span class="keywordflow">if</span> (CreatedSCEV) {</div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;      insertValueToMap(CurV, CreatedSCEV);</div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;      <span class="comment">// Queue CurV for SCEV creation, followed by its&#39;s operands which need to</span></div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;      <span class="comment">// be constructed first.</span></div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;      <a class="code" href="namespacellvm_1_1pdb.html#a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca">Stack</a>.emplace_back(CurV, <span class="keyword">true</span>);</div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Ops)</div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;        <a class="code" href="namespacellvm_1_1pdb.html#a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca">Stack</a>.emplace_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;    }</div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;  }</div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160; </div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;  <span class="keywordflow">return</span> getExistingSCEV(V);</div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;}</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160; </div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;ScalarEvolution::getOperandsToCreate(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value *&gt;</a> &amp;Ops) {</div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160; </div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V)) {</div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;    <span class="comment">// Don&#39;t attempt to analyze instructions in blocks that aren&#39;t</span></div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;    <span class="comment">// reachable. Such instructions don&#39;t matter, and they aren&#39;t required</span></div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;    <span class="comment">// to obey basic rules for definitions dominating uses which this</span></div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;    <span class="comment">// analysis depends on.</span></div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;    <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()))</div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(<a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(V))</div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(CI);</div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(V)) {</div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;    <span class="keywordflow">if</span> (!GA-&gt;isInterposable()) {</div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;      Ops.push_back(GA-&gt;getAliasee());</div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;    }</div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isa&lt;ConstantExpr&gt;(V))</div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160; </div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;  <a class="code" href="classllvm_1_1Operator.html">Operator</a> *U = cast&lt;Operator&gt;(V);</div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> BO =</div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;          <a class="code" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a>(U, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), AC, DT, dyn_cast&lt;Instruction&gt;(V))) {</div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;    <span class="keywordtype">bool</span> IsConstArg = isa&lt;ConstantInt&gt;(BO-&gt;RHS);</div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;    <span class="keywordflow">switch</span> (BO-&gt;Opcode) {</div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>:</div>
<div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>: {</div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;      <span class="comment">// For additions and multiplications, traverse add/mul chains for which we</span></div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;      <span class="comment">// can potentially create a single SCEV, to reduce the number of</span></div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;      <span class="comment">// get{Add,Mul}Expr calls.</span></div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;        <span class="keywordflow">if</span> (BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>) {</div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;          <span class="keywordflow">if</span> (BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a> != V &amp;&amp; getExistingSCEV(BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>)) {</div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;            Ops.push_back(BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>);</div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;          }</div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;        }</div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;        Ops.push_back(BO-&gt;RHS);</div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;        <span class="keyword">auto</span> NewBO = <a class="code" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a>(BO-&gt;LHS, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), AC, DT,</div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;                                   dyn_cast&lt;Instruction&gt;(V));</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;        <span class="keywordflow">if</span> (!NewBO ||</div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;            (U-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>() == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a> &amp;&amp;</div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;             (NewBO-&gt;Opcode != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a> &amp;&amp;</div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;              NewBO-&gt;Opcode != Instruction::Sub)) ||</div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;            (U-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>() == <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a> &amp;&amp;</div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;             NewBO-&gt;Opcode != <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>)) {</div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;          Ops.push_back(BO-&gt;LHS);</div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;        }</div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;        <span class="comment">// CreateSCEV calls getNoWrapFlagsFromUB, which under certain conditions</span></div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;        <span class="comment">// requires a SCEV for the LHS.</span></div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;        <span class="keywordflow">if</span> (NewBO-&gt;Op &amp;&amp; (NewBO-&gt;IsNSW || NewBO-&gt;IsNUW)) {</div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;          <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(NewBO-&gt;Op);</div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &amp;&amp; <a class="code" href="namespacellvm.html#a7a3935517c67d2e9aa8e04f1cfc9f983">programUndefinedIfPoison</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;            Ops.push_back(BO-&gt;LHS);</div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;          }</div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;        }</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;        BO = NewBO;</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;      } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;    }</div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;    <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;    <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;    <span class="keywordflow">case</span> Instruction::URem:</div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;    <span class="keywordflow">case</span> Instruction::AShr:</div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;    <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;    <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;      <span class="keywordflow">if</span> (!IsConstArg)</div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;    <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;    <span class="keywordflow">case</span> Instruction::Or:</div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;      <span class="keywordflow">if</span> (!IsConstArg &amp;&amp; BO-&gt;LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(1))</div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;    <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled binop&quot;</span>);</div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;    }</div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160; </div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;    Ops.push_back(BO-&gt;LHS);</div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;    Ops.push_back(BO-&gt;RHS);</div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;  }</div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160; </div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;  <span class="keywordflow">switch</span> (U-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>()) {</div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;  <span class="keywordflow">case</span> Instruction::Trunc:</div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;  <span class="keywordflow">case</span> Instruction::ZExt:</div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;  <span class="keywordflow">case</span> Instruction::SExt:</div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;  <span class="keywordflow">case</span> Instruction::PtrToInt:</div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;    Ops.push_back(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160; </div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;  <span class="keywordflow">case</span> Instruction::BitCast:</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(U-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())) {</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;      Ops.push_back(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;    }</div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160; </div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:</div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem:</div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;    Ops.push_back(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;    Ops.push_back(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1));</div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160; </div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr:</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(cast&lt;GEPOperator&gt;(U)-&gt;getSourceElementType()-&gt;isSized() &amp;&amp;</div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;           <span class="stringliteral">&quot;GEP source element type must be sized&quot;</span>);</div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> : U-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>())</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;      Ops.push_back(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160; </div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;  <span class="keywordflow">case</span> Instruction::IntToPtr:</div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160; </div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">Instruction::PHI</a>:</div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;    <span class="comment">// Keep constructing SCEVs&#39; for phis recursively for now.</span></div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160; </div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>: {</div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;    <span class="comment">// Check if U is a select that can be simplified to a SCEVUnknown.</span></div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;    <span class="keyword">auto</span> CanSimplifyToUnknown = [<span class="keyword">this</span>, U]() {</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;      <span class="keywordflow">if</span> (U-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(1) || isa&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)))</div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160; </div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;      <span class="keyword">auto</span> *ICI = dyn_cast&lt;ICmpInst&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;      <span class="keywordflow">if</span> (!ICI)</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = ICI-&gt;getOperand(0);</div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = ICI-&gt;getOperand(1);</div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;      <span class="keywordflow">if</span> (ICI-&gt;getPredicate() == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a> ||</div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;          ICI-&gt;getPredicate() == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>) {</div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;        <span class="keywordflow">if</span> (!(isa&lt;ConstantInt&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; cast&lt;ConstantInt&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)-&gt;<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>()))</div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &gt;</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;                 <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(U-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;    };</div>
<div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;    <span class="keywordflow">if</span> (CanSimplifyToUnknown())</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(U);</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160; </div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *Inc : U-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>())</div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;      Ops.push_back(Inc);</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;  }</div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a>:</div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;  <span class="keywordflow">case</span> Instruction::Invoke:</div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *RV = cast&lt;CallBase&gt;(U)-&gt;getReturnedArgOperand()) {</div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;      Ops.push_back(RV);</div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;    }</div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160; </div>
<div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(U)) {</div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;      <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">Intrinsic::abs</a>:</div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;        Ops.push_back(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a>:</div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">Intrinsic::umin</a>:</div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a>:</div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>:</div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;      <span class="keywordflow">case</span> Intrinsic::usub_sat:</div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;      <span class="keywordflow">case</span> Intrinsic::uadd_sat:</div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;        Ops.push_back(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;        Ops.push_back(II-&gt;getArgOperand(1));</div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;      <span class="keywordflow">case</span> Intrinsic::start_loop_iterations:</div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;      <span class="keywordflow">case</span> Intrinsic::annotation:</div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;      <span class="keywordflow">case</span> Intrinsic::ptr_annotation:</div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;        Ops.push_back(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;      }</div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;    }</div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;  }</div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160; </div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;}</div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160; </div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createSCEV(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160; </div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V)) {</div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;    <span class="comment">// Don&#39;t attempt to analyze instructions in blocks that aren&#39;t</span></div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;    <span class="comment">// reachable. Such instructions don&#39;t matter, and they aren&#39;t required</span></div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;    <span class="comment">// to obey basic rules for definitions dominating uses which this</span></div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;    <span class="comment">// analysis depends on.</span></div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;    <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()))</div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(<a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(V))</div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(CI);</div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(V))</div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;    <span class="keywordflow">return</span> GA-&gt;isInterposable() ? <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(GA-&gt;getAliasee());</div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isa&lt;ConstantExpr&gt;(V))</div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160; </div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160; </div>
<div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;  <a class="code" href="classllvm_1_1Operator.html">Operator</a> *U = cast&lt;Operator&gt;(V);</div>
<div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> BO =</div>
<div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;          <a class="code" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a>(U, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), AC, DT, dyn_cast&lt;Instruction&gt;(V))) {</div>
<div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;    <span class="keywordflow">switch</span> (BO-&gt;Opcode) {</div>
<div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>: {</div>
<div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;      <span class="comment">// The simple thing to do would be to just call getSCEV on both operands</span></div>
<div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;      <span class="comment">// and call getAddExpr with the result. However if we&#39;re looking at a</span></div>
<div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;      <span class="comment">// bunch of things all added together, this can be quite inefficient,</span></div>
<div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;      <span class="comment">// because it leads to N-1 getAddExpr calls for N ultimate operands.</span></div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;      <span class="comment">// Instead, gather up all the operands and make a single getAddExpr call.</span></div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;      <span class="comment">// LLVM IR canonical form means we need only traverse the left operands.</span></div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> AddOps;</div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;        <span class="keywordflow">if</span> (BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>) {</div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *OpSCEV = getExistingSCEV(BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>)) {</div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;            AddOps.push_back(OpSCEV);</div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;          }</div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160; </div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;          <span class="comment">// If a NUW or NSW flag can be applied to the SCEV for this</span></div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;          <span class="comment">// addition, then compute the SCEV for this addition by itself</span></div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;          <span class="comment">// with a separate call to getAddExpr. We need to do that</span></div>
<div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;          <span class="comment">// instead of pushing the operands of the addition onto AddOps,</span></div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;          <span class="comment">// since the flags are only known to apply to this particular</span></div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;          <span class="comment">// addition - they may not apply to other additions that can be</span></div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;          <span class="comment">// formed with operands from AddOps.</span></div>
<div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS);</div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;          <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = getNoWrapFlagsFromUB(BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>);</div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;          <span class="keywordflow">if</span> (Flags != <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>) {</div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;            <span class="keywordflow">if</span> (BO-&gt;Opcode == Instruction::Sub)</div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;              AddOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Flags));</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;              AddOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Flags));</div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;          }</div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;        }</div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160; </div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;        <span class="keywordflow">if</span> (BO-&gt;Opcode == Instruction::Sub)</div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;          AddOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS)));</div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;          AddOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS));</div>
<div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160; </div>
<div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;        <span class="keyword">auto</span> NewBO = <a class="code" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a>(BO-&gt;LHS, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), AC, DT,</div>
<div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;                                   dyn_cast&lt;Instruction&gt;(V));</div>
<div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;        <span class="keywordflow">if</span> (!NewBO || (NewBO-&gt;Opcode != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a> &amp;&amp;</div>
<div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;                       NewBO-&gt;Opcode != Instruction::Sub)) {</div>
<div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160;          AddOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS));</div>
<div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;        }</div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;        BO = NewBO;</div>
<div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;      } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160; </div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(AddOps);</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;    }</div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160; </div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>: {</div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps;</div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;        <span class="keywordflow">if</span> (BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>) {</div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *OpSCEV = getExistingSCEV(BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>)) {</div>
<div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;            MulOps.push_back(OpSCEV);</div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;          }</div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160; </div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;          <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = getNoWrapFlagsFromUB(BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>);</div>
<div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;          <span class="keywordflow">if</span> (Flags != <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>) {</div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;            <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;            <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS);</div>
<div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;            MulOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Flags));</div>
<div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;          }</div>
<div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160;        }</div>
<div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160; </div>
<div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;        MulOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS));</div>
<div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;        <span class="keyword">auto</span> NewBO = <a class="code" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a>(BO-&gt;LHS, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), AC, DT,</div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;                                   dyn_cast&lt;Instruction&gt;(V));</div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;        <span class="keywordflow">if</span> (!NewBO || NewBO-&gt;Opcode != <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>) {</div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;          MulOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS));</div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;        }</div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;        BO = NewBO;</div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;      } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160; </div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(MulOps);</div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;    }</div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;    <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS);</div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;    <span class="keywordflow">case</span> Instruction::URem:</div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS);</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a13b9eb961d35ad9ecb3b633f5703253a">getURemExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;    <span class="keywordflow">case</span> Instruction::Sub: {</div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;      <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;      <span class="keywordflow">if</span> (BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>)</div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;        <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = getNoWrapFlagsFromUB(BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>);</div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS);</div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Flags);</div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;    }</div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;    <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;      <span class="comment">// For an expression like x&amp;255 that merely masks off the high bits,</span></div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;      <span class="comment">// use zext(trunc(x)) as the SCEV expression.</span></div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(BO-&gt;RHS)) {</div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;        <span class="keywordflow">if</span> (CI-&gt;isZero())</div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS);</div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;        <span class="keywordflow">if</span> (CI-&gt;isMinusOne())</div>
<div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = CI-&gt;getValue();</div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160; </div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;        <span class="comment">// Instcombine&#39;s ShrinkDemandedConstant may strip bits out of</span></div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;        <span class="comment">// constants, obscuring what would otherwise be a low-bits mask.</span></div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;        <span class="comment">// Use computeKnownBits to compute what ShrinkDemandedConstant</span></div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;        <span class="comment">// knew about to reconstruct a low-bits mask value.</span></div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;        <span class="keywordtype">unsigned</span> LZ = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.countLeadingZeros();</div>
<div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;        <span class="keywordtype">unsigned</span> TZ = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.countTrailingZeros();</div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.getBitWidth();</div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;        <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;        <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(BO-&gt;LHS, Known, <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(),</div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160;                         0, &amp;AC, <span class="keyword">nullptr</span>, &amp;DT);</div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160; </div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> EffectiveMask =</div>
<div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160;            <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - LZ - TZ).<a class="code" href="classllvm_1_1APInt.html#acb9c55b6986369948507ca5241b4e411">shl</a>(TZ);</div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;        <span class="keywordflow">if</span> ((LZ != 0 || TZ != 0) &amp;&amp; !((~A &amp; ~Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>) &amp; EffectiveMask)) {</div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MulCount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, TZ));</div>
<div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ShiftedLHS = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LHSMul = dyn_cast&lt;SCEVMulExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">auto</span> *OpC = dyn_cast&lt;SCEVConstant&gt;(LHSMul-&gt;getOperand(0))) {</div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;              <span class="comment">// For an expression like (x * 8) &amp; 8, simplify the multiply.</span></div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;              <span class="keywordtype">unsigned</span> MulZeros = OpC-&gt;getAPInt().countTrailingZeros();</div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;              <span class="keywordtype">unsigned</span> GCD = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(MulZeros, TZ);</div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160;              <a class="code" href="classllvm_1_1APInt.html">APInt</a> DivAmt = <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, TZ - GCD);</div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;              <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV*, 4&gt;</a> MulOps;</div>
<div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160;              MulOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(OpC-&gt;getAPInt().lshr(GCD)));</div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;              <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(MulOps, LHSMul-&gt;operands().drop_front());</div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;              <span class="keyword">auto</span> *NewMul = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(MulOps, LHSMul-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;              ShiftedLHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(NewMul, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(DivAmt));</div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;            }</div>
<div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;          }</div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;          <span class="keywordflow">if</span> (!ShiftedLHS)</div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;            ShiftedLHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, MulCount);</div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(</div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;                  <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(ShiftedLHS,</div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;                      <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - LZ - TZ)),</div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;                  BO-&gt;LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;              MulCount);</div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160;        }</div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;      }</div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;      <span class="comment">// Binary `and` is a bit-wise `umin`.</span></div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;      <span class="keywordflow">if</span> (BO-&gt;LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(1)) {</div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS);</div>
<div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;      }</div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160; </div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;    <span class="keywordflow">case</span> Instruction::Or:</div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;      <span class="comment">// Binary `or` is a bit-wise `umax`.</span></div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;      <span class="keywordflow">if</span> (BO-&gt;LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(1)) {</div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS);</div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS);</div>
<div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;      }</div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160; </div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;    <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(BO-&gt;RHS)) {</div>
<div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;        <span class="comment">// If the RHS of xor is -1, then this is a not operation.</span></div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;        <span class="keywordflow">if</span> (CI-&gt;isMinusOne())</div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">getNotSCEV</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS));</div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160; </div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;        <span class="comment">// Model xor(and(x, C), C) as and(~x, C), if C is a low-bits mask.</span></div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;        <span class="comment">// This is a variant of the check for xor with -1, and it handles</span></div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;        <span class="comment">// the case where instcombine has trimmed non-demanded bits out</span></div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;        <span class="comment">// of an xor with -1.</span></div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LBO = dyn_cast&lt;BinaryOperator&gt;(BO-&gt;LHS))</div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *LCI = dyn_cast&lt;ConstantInt&gt;(LBO-&gt;getOperand(1)))</div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;            <span class="keywordflow">if</span> (LBO-&gt;getOpcode() == Instruction::And &amp;&amp;</div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;                LCI-&gt;getValue() == CI-&gt;getValue())</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;              <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *<a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> =</div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;                      dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS))) {</div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;                <a class="code" href="classllvm_1_1Type.html">Type</a> *UTy = BO-&gt;LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160;                <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Z0 = <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>-&gt;getOperand();</div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;                <a class="code" href="classllvm_1_1Type.html">Type</a> *Z0Ty = Z0-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;                <span class="keywordtype">unsigned</span> Z0TySize = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Z0Ty);</div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160; </div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;                <span class="comment">// If C is a low-bits mask, the zero extend is serving to</span></div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;                <span class="comment">// mask off the high bits. Complement the operand and</span></div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;                <span class="comment">// re-apply the zext.</span></div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;                <span class="keywordflow">if</span> (CI-&gt;getValue().isMask(Z0TySize))</div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">getNotSCEV</a>(Z0), UTy);</div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160; </div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;                <span class="comment">// If C is a single bit, it may be in the sign-bit position</span></div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;                <span class="comment">// before the zero-extend. In this case, represent the xor</span></div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;                <span class="comment">// using an add, which is equivalent, and re-apply the zext.</span></div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;                <a class="code" href="classllvm_1_1APInt.html">APInt</a> Trunc = CI-&gt;getValue().<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(Z0TySize);</div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;                <span class="keywordflow">if</span> (Trunc.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(UTy)) == CI-&gt;getValue() &amp;&amp;</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;                    Trunc.<a class="code" href="classllvm_1_1APInt.html#a4aa7e7ca8ab4093fd0dbadb223b998c0">isSignMask</a>())</div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Z0, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Trunc)),</div>
<div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;                                           UTy);</div>
<div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;              }</div>
<div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;      }</div>
<div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160; </div>
<div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;    <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;      <span class="comment">// Turn shift left of a constant amount into a multiply.</span></div>
<div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SA = dyn_cast&lt;ConstantInt&gt;(BO-&gt;RHS)) {</div>
<div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = cast&lt;IntegerType&gt;(SA-&gt;getType())-&gt;getBitWidth();</div>
<div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160; </div>
<div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;        <span class="comment">// If the shift count is not less than the bitwidth, the result of</span></div>
<div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;        <span class="comment">// the shift is undefined. Don&#39;t try to analyze it, because the</span></div>
<div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;        <span class="comment">// resolution chosen here may differ from the resolution chosen in</span></div>
<div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160;        <span class="comment">// other parts of the compiler.</span></div>
<div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;        <span class="keywordflow">if</span> (SA-&gt;getValue().uge(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>))</div>
<div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160; </div>
<div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;        <span class="comment">// We can safely preserve the nuw flag in all cases. It&#39;s also safe to</span></div>
<div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;        <span class="comment">// turn a nuw nsw shl into a nuw nsw mul. However, nsw in isolation</span></div>
<div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;        <span class="comment">// requires special handling. It can be preserved as long as we&#39;re not</span></div>
<div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;        <span class="comment">// left shifting by bitwidth - 1.</span></div>
<div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;        <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div>
<div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160;        <span class="keywordflow">if</span> (BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>) {</div>
<div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;          <span class="keyword">auto</span> MulFlags = getNoWrapFlagsFromUB(BO-&gt;<a class="code" href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">Op</a>);</div>
<div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;          <span class="keywordflow">if</span> ((MulFlags &amp; <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>) &amp;&amp;</div>
<div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160;              ((MulFlags &amp; <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>) || SA-&gt;getValue().ult(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - 1)))</div>
<div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;            <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)(Flags | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;          <span class="keywordflow">if</span> (MulFlags &amp; <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>)</div>
<div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160;            <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)(Flags | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;        }</div>
<div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160; </div>
<div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(</div>
<div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, SA-&gt;getZExtValue()));</div>
<div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS), <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), Flags);</div>
<div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160;      }</div>
<div class="line"><a name="l07887"></a><span class="lineno"> 7887</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160; </div>
<div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160;    <span class="keywordflow">case</span> Instruction::AShr: {</div>
<div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;      <span class="comment">// AShr X, C, where C is a constant.</span></div>
<div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(BO-&gt;RHS);</div>
<div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;      <span class="keywordflow">if</span> (!CI)</div>
<div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160; </div>
<div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *OuterTy = BO-&gt;LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(OuterTy);</div>
<div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;      <span class="comment">// If the shift count is not less than the bitwidth, the result of</span></div>
<div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;      <span class="comment">// the shift is undefined. Don&#39;t try to analyze it, because the</span></div>
<div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160;      <span class="comment">// resolution chosen here may differ from the resolution chosen in</span></div>
<div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;      <span class="comment">// other parts of the compiler.</span></div>
<div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">uge</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>))</div>
<div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160; </div>
<div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a882d55a6aa2028e1a5ad708b275334e0">isZero</a>())</div>
<div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS); <span class="comment">// shift by zero --&gt; noop</span></div>
<div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160; </div>
<div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AShrAmt = CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>();</div>
<div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *TruncTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - AShrAmt);</div>
<div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160; </div>
<div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;      <a class="code" href="classllvm_1_1Operator.html">Operator</a> *L = dyn_cast&lt;Operator&gt;(BO-&gt;LHS);</div>
<div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;      <span class="keywordflow">if</span> (L &amp;&amp; L-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>() == Instruction::Shl) {</div>
<div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;        <span class="comment">// X = Shl A, n</span></div>
<div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;        <span class="comment">// Y = AShr X, m</span></div>
<div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;        <span class="comment">// Both n and m are constant.</span></div>
<div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160; </div>
<div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ShlOp0SCEV = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(L-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;        <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1) == BO-&gt;RHS)</div>
<div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;          <span class="comment">// For a two-shift sext-inreg, i.e. n = m,</span></div>
<div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;          <span class="comment">// use sext(trunc(x)) as the SCEV expression.</span></div>
<div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(</div>
<div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;              <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(ShlOp0SCEV, TruncTy), OuterTy);</div>
<div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160; </div>
<div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ShlAmtCI = dyn_cast&lt;ConstantInt&gt;(L-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1));</div>
<div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;        <span class="keywordflow">if</span> (ShlAmtCI &amp;&amp; ShlAmtCI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">ult</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)) {</div>
<div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;          <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShlAmt = ShlAmtCI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>();</div>
<div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160;          <span class="keywordflow">if</span> (ShlAmt &gt; AShrAmt) {</div>
<div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;            <span class="comment">// When n &gt; m, use sext(mul(trunc(x), 2^(n-m)))) as the SCEV</span></div>
<div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;            <span class="comment">// expression. We already checked that ShlAmt &lt; BitWidth, so</span></div>
<div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;            <span class="comment">// the multiplier, 1 &lt;&lt; (ShlAmt - AShrAmt), fits into TruncTy as</span></div>
<div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160;            <span class="comment">// ShlAmt - AShrAmt &lt; Amt.</span></div>
<div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;            <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - AShrAmt,</div>
<div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;                                            ShlAmt - AShrAmt);</div>
<div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(</div>
<div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160;                <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(ShlOp0SCEV, TruncTy),</div>
<div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160;                <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Mul)), OuterTy);</div>
<div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;          }</div>
<div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;        }</div>
<div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;      }</div>
<div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07940"></a><span class="lineno"> 7940</span>&#160;    }</div>
<div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;    }</div>
<div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160;  }</div>
<div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160; </div>
<div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;  <span class="keywordflow">switch</span> (U-&gt;<a class="code" href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">getOpcode</a>()) {</div>
<div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160;  <span class="keywordflow">case</span> Instruction::Trunc:</div>
<div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)), U-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160; </div>
<div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160;  <span class="keywordflow">case</span> Instruction::ZExt:</div>
<div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)), U-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160; </div>
<div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;  <span class="keywordflow">case</span> Instruction::SExt:</div>
<div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> BO = <a class="code" href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>(), AC, DT,</div>
<div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160;                                dyn_cast&lt;Instruction&gt;(V))) {</div>
<div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160;      <span class="comment">// The NSW flag of a subtract does not always survive the conversion to</span></div>
<div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160;      <span class="comment">// A + (-1)*B.  By pushing sign extension onto its operands we are much</span></div>
<div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;      <span class="comment">// more likely to preserve NSW and allow later AddRec optimisations.</span></div>
<div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;      <span class="comment">// NOTE: This is effectively duplicating this logic from getSignExtend:</span></div>
<div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;      <span class="comment">//   sext((A + B + ...)&lt;nsw&gt;) --&gt; (sext(A) + sext(B) + ...)&lt;nsw&gt;</span></div>
<div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;      <span class="comment">// but by that point the NSW information has potentially been lost.</span></div>
<div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160;      <span class="keywordflow">if</span> (BO-&gt;Opcode == Instruction::Sub &amp;&amp; BO-&gt;IsNSW) {</div>
<div class="line"><a name="l07962"></a><span class="lineno"> 7962</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = U-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;        <span class="keyword">auto</span> *V1 = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;LHS), Ty);</div>
<div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;        <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BO-&gt;RHS), Ty);</div>
<div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(V1, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160;      }</div>
<div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;    }</div>
<div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)), U-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160; </div>
<div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;  <span class="keywordflow">case</span> Instruction::BitCast:</div>
<div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;    <span class="comment">// BitCasts are no-op casts so we just eliminate the cast.</span></div>
<div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(U-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160; </div>
<div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;  <span class="keywordflow">case</span> Instruction::PtrToInt: {</div>
<div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;    <span class="comment">// Pointer to integer cast is straight-forward, so do model it.</span></div>
<div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *DstIntTy = U-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;    <span class="comment">// But only if effective SCEV (integer) type is wide enough to represent</span></div>
<div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;    <span class="comment">// all possible pointer values.</span></div>
<div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *IntOp = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4f28ee6ec3dad0938d2660c56168d91d">getPtrToIntExpr</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, DstIntTy);</div>
<div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(IntOp))</div>
<div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160;    <span class="keywordflow">return</span> IntOp;</div>
<div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;  }</div>
<div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;  <span class="keywordflow">case</span> Instruction::IntToPtr:</div>
<div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;    <span class="comment">// Just don&#39;t deal with inttoptr casts.</span></div>
<div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160; </div>
<div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:</div>
<div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160;    <span class="comment">// If both operands are non-negative, this is just an udiv.</span></div>
<div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0))) &amp;&amp;</div>
<div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1))))</div>
<div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)), <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)));</div>
<div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160; </div>
<div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem:</div>
<div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;    <span class="comment">// If both operands are non-negative, this is just an urem.</span></div>
<div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0))) &amp;&amp;</div>
<div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1))))</div>
<div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a13b9eb961d35ad9ecb3b633f5703253a">getURemExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)), <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)));</div>
<div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160; </div>
<div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr:</div>
<div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160;    <span class="keywordflow">return</span> createNodeForGEP(cast&lt;GEPOperator&gt;(U));</div>
<div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160; </div>
<div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">Instruction::PHI</a>:</div>
<div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;    <span class="keywordflow">return</span> createNodeForPHI(cast&lt;PHINode&gt;(U));</div>
<div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160; </div>
<div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>:</div>
<div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;    <span class="keywordflow">return</span> createNodeForSelectOrPHI(U, U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1),</div>
<div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160;                                    U-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(2));</div>
<div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160; </div>
<div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a>:</div>
<div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;  <span class="keywordflow">case</span> Instruction::Invoke:</div>
<div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *RV = cast&lt;CallBase&gt;(U)-&gt;getReturnedArgOperand())</div>
<div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(RV);</div>
<div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160; </div>
<div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(U)) {</div>
<div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;      <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">Intrinsic::abs</a>:</div>
<div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a10f946da317366de10f25a7b59db8e72">getAbsExpr</a>(</div>
<div class="line"><a name="l08024"></a><span class="lineno"> 8024</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(0)),</div>
<div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;            <span class="comment">/*IsNSW=*/</span>cast&lt;ConstantInt&gt;(II-&gt;getArgOperand(1))-&gt;<a class="code" href="classllvm_1_1SCEV.html#a1ecb726f4e7b445057b795ed500546a0">isOne</a>());</div>
<div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a>:</div>
<div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(1));</div>
<div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">Intrinsic::umin</a>:</div>
<div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(1));</div>
<div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a>:</div>
<div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(1));</div>
<div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">getSMaxExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>:</div>
<div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(1));</div>
<div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">getSMinExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;      <span class="keywordflow">case</span> Intrinsic::usub_sat: {</div>
<div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(1));</div>
<div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ClampedY = <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, ClampedY, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;      }</div>
<div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;      <span class="keywordflow">case</span> Intrinsic::uadd_sat: {</div>
<div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(1));</div>
<div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ClampedX = <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">getNotSCEV</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>));</div>
<div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(ClampedX, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160;      }</div>
<div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160;      <span class="keywordflow">case</span> Intrinsic::start_loop_iterations:</div>
<div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160;      <span class="keywordflow">case</span> Intrinsic::annotation:</div>
<div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160;      <span class="keywordflow">case</span> Intrinsic::ptr_annotation:</div>
<div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;        <span class="comment">// A start_loop_iterations or llvm.annotation or llvm.prt.annotation is</span></div>
<div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160;        <span class="comment">// just eqivalent to the first operand for SCEV purposes.</span></div>
<div class="line"><a name="l08059"></a><span class="lineno"> 8059</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(II-&gt;getArgOperand(0));</div>
<div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;      }</div>
<div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160;    }</div>
<div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08065"></a><span class="lineno"> 8065</span>&#160;  }</div>
<div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160; </div>
<div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(V);</div>
<div class="line"><a name="l08068"></a><span class="lineno"> 8068</span>&#160;}</div>
<div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160; </div>
<div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160;<span class="comment">//                   Iteration Count Computation Code</span></div>
<div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160; </div>
<div class="line"><a name="l08074"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5bb94ae7a535ff5335b731270969c6d3"> 8074</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a5bb94ae7a535ff5335b731270969c6d3">ScalarEvolution::getTripCountFromExitCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExitCount,</div>
<div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;                                                       <span class="keywordtype">bool</span> Extend) {</div>
<div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(ExitCount))</div>
<div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160; </div>
<div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;  <span class="keyword">auto</span> *ExitCountType = ExitCount-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ExitCountType-&gt;isIntegerTy());</div>
<div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160; </div>
<div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160;  <span class="keywordflow">if</span> (!Extend)</div>
<div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(ExitCount, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(ExitCountType));</div>
<div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160; </div>
<div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;  <span class="keyword">auto</span> *WiderType = <a class="code" href="classllvm_1_1Type.html#acaf8e4c3e40e01e848c1fad5f05b81cd">Type::getIntNTy</a>(ExitCountType-&gt;getContext(),</div>
<div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160;                                    1 + ExitCountType-&gt;getScalarSizeInBits());</div>
<div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">getNoopOrZeroExtend</a>(ExitCount, WiderType),</div>
<div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;                    <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(WiderType));</div>
<div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160;}</div>
<div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160; </div>
<div class="line"><a name="l08091"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a0bf0cf316748d2fb01a45268ffc10a02"> 8091</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ScalarEvolution_8cpp.html#a0bf0cf316748d2fb01a45268ffc10a02">getConstantTripCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *ExitCount) {</div>
<div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;  <span class="keywordflow">if</span> (!ExitCount)</div>
<div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160; </div>
<div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ExitConst = ExitCount-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#ab319aacb4209aeca2c72d50a0d585b47">getValue</a>();</div>
<div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160; </div>
<div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160;  <span class="comment">// Guard against huge trip counts.</span></div>
<div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160;  <span class="keywordflow">if</span> (ExitConst-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a3015474e70e59c0a3ed4f9f0e8644b75">getActiveBits</a>() &gt; 32)</div>
<div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160; </div>
<div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160;  <span class="comment">// In case of integer overflow, this returns 0, which is correct.</span></div>
<div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160;  <span class="keywordflow">return</span> ((<span class="keywordtype">unsigned</span>)ExitConst-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>()) + 1;</div>
<div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;}</div>
<div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160; </div>
<div class="line"><a name="l08105"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#abec0c616087c002528fcf80c6583eadd"> 8105</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#abec0c616087c002528fcf80c6583eadd">ScalarEvolution::getSmallConstantTripCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l08106"></a><span class="lineno"> 8106</span>&#160;  <span class="keyword">auto</span> *ExitCount = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e">getBackedgeTakenCount</a>(L, <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a>));</div>
<div class="line"><a name="l08107"></a><span class="lineno"> 8107</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a0bf0cf316748d2fb01a45268ffc10a02">getConstantTripCount</a>(ExitCount);</div>
<div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;}</div>
<div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160; </div>
<div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160;<span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l08111"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a2bf0e851d8784ff477a3bc34ae007ced"> 8111</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#abec0c616087c002528fcf80c6583eadd">ScalarEvolution::getSmallConstantTripCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock) {</div>
<div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ExitingBlock &amp;&amp; <span class="stringliteral">&quot;Must pass a non-null exiting block!&quot;</span>);</div>
<div class="line"><a name="l08114"></a><span class="lineno"> 8114</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#af691775d5a45e28afbdb3e97cab22eee">isLoopExiting</a>(ExitingBlock) &amp;&amp;</div>
<div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;         <span class="stringliteral">&quot;Exiting block must actually branch out of the loop!&quot;</span>);</div>
<div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *ExitCount =</div>
<div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;      dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">getExitCount</a>(L, ExitingBlock));</div>
<div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a0bf0cf316748d2fb01a45268ffc10a02">getConstantTripCount</a>(ExitCount);</div>
<div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160;}</div>
<div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160; </div>
<div class="line"><a name="l08121"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a3cc216ff1aa29e15999df96770a870bf"> 8121</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a3cc216ff1aa29e15999df96770a870bf">ScalarEvolution::getSmallConstantMaxTripCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *MaxExitCount =</div>
<div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160;      dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a80d7048687367a15d267ac5418b8a168">getConstantMaxBackedgeTakenCount</a>(L));</div>
<div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a0bf0cf316748d2fb01a45268ffc10a02">getConstantTripCount</a>(MaxExitCount);</div>
<div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;}</div>
<div class="line"><a name="l08126"></a><span class="lineno"> 8126</span>&#160; </div>
<div class="line"><a name="l08127"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac994394f9fd76addc7dd77a550c67e30"> 8127</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ac994394f9fd76addc7dd77a550c67e30">ScalarEvolution::getConstantMaxTripCountFromArray</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;  <span class="comment">// We can&#39;t infer from Array in Irregular Loop.</span></div>
<div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;  <span class="comment">// FIXME: It&#39;s hard to infer loop bound from array operated in Nested Loop.</span></div>
<div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160;  <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1Loop.html#ac233a2693163ed58305215ca2f6921e3">isLoopSimplifyForm</a>() || !L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a16165c1e5da45acaa086c3a54a188d34">isInnermost</a>())</div>
<div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160; </div>
<div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160;  <span class="comment">// FIXME: To make the scene more typical, we only analysis loops that have</span></div>
<div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;  <span class="comment">// one exiting block and that block must be the latch. To make it easier to</span></div>
<div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;  <span class="comment">// capture loops that have memory access and memory access will be executed</span></div>
<div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160;  <span class="comment">// in each iteration.</span></div>
<div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LoopLatch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoopLatch &amp;&amp; <span class="stringliteral">&quot;See defination of simplify form loop.&quot;</span>);</div>
<div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160;  <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#adf6f53d7652b471c995b7d10f3dd2729">getExitingBlock</a>() != LoopLatch)</div>
<div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08141"></a><span class="lineno"> 8141</span>&#160; </div>
<div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>();</div>
<div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> InferCountColl;</div>
<div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a5cc113cb783ab6e5ca7b69241431c19c">getBlocks</a>()) {</div>
<div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160;    <span class="comment">// Go here, we can know that Loop is a single exiting and simplified form</span></div>
<div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;    <span class="comment">// loop. Make sure that infer from Memory Operation in those BBs must be</span></div>
<div class="line"><a name="l08147"></a><span class="lineno"> 8147</span>&#160;    <span class="comment">// executed in loop. First step, we can make sure that max execution time</span></div>
<div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160;    <span class="comment">// of MemAccessBB in loop represents latch max excution time.</span></div>
<div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;    <span class="comment">// If MemAccessBB does not dom Latch, skip.</span></div>
<div class="line"><a name="l08150"></a><span class="lineno"> 8150</span>&#160;    <span class="comment">//            Entry</span></div>
<div class="line"><a name="l08151"></a><span class="lineno"> 8151</span>&#160;    <span class="comment">//              │</span></div>
<div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160;    <span class="comment">//        ┌─────▼─────┐</span></div>
<div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;    <span class="comment">//        │Loop Header◄─────┐</span></div>
<div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160;    <span class="comment">//        └──┬──────┬─┘     │</span></div>
<div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;    <span class="comment">//           │      │       │</span></div>
<div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160;    <span class="comment">//  ┌────────▼──┐ ┌─▼─────┐ │</span></div>
<div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;    <span class="comment">//  │MemAccessBB│ │OtherBB│ │</span></div>
<div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160;    <span class="comment">//  └────────┬──┘ └─┬─────┘ │</span></div>
<div class="line"><a name="l08159"></a><span class="lineno"> 8159</span>&#160;    <span class="comment">//           │      │       │</span></div>
<div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;    <span class="comment">//         ┌─▼──────▼─┐     │</span></div>
<div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;    <span class="comment">//         │Loop Latch├─────┘</span></div>
<div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160;    <span class="comment">//         └────┬─────┘</span></div>
<div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;    <span class="comment">//              ▼</span></div>
<div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;    <span class="comment">//             Exit</span></div>
<div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160;    <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, LoopLatch))</div>
<div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08167"></a><span class="lineno"> 8167</span>&#160; </div>
<div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;Inst : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160;      <span class="comment">// Find Memory Operation Instruction.</span></div>
<div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = <a class="code" href="namespacellvm.html#aee44336886a06f3c1b8c35c701ba8316">getLoadStorePointerOperand</a>(&amp;Inst);</div>
<div class="line"><a name="l08171"></a><span class="lineno"> 8171</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>)</div>
<div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160; </div>
<div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;      <span class="keyword">auto</span> *ElemSize = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad61acd1c9fda9921a30f3ff510509873">getElementSize</a>(&amp;Inst));</div>
<div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160;      <span class="comment">// Do not infer from scalar type, eg.&quot;ElemSize = sizeof()&quot;.</span></div>
<div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160;      <span class="keywordflow">if</span> (!ElemSize)</div>
<div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160; </div>
<div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;      <span class="comment">// Use a existing polynomial recurrence on the trip count.</span></div>
<div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;      <span class="keyword">auto</span> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>));</div>
<div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;      <span class="keywordflow">if</span> (!AddRec)</div>
<div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;      <span class="keyword">auto</span> *ArrBase = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">getPointerBase</a>(AddRec));</div>
<div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160;      <span class="keyword">auto</span> *Step = dyn_cast&lt;SCEVConstant&gt;(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160;      <span class="keywordflow">if</span> (!ArrBase || !Step)</div>
<div class="line"><a name="l08186"></a><span class="lineno"> 8186</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(ArrBase, L) &amp;&amp; <span class="stringliteral">&quot;See addrec definition&quot;</span>);</div>
<div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160; </div>
<div class="line"><a name="l08189"></a><span class="lineno"> 8189</span>&#160;      <span class="comment">// Only handle { %array + step },</span></div>
<div class="line"><a name="l08190"></a><span class="lineno"> 8190</span>&#160;      <span class="comment">// FIXME: {(SCEVAddRecExpr) + step } could not be analysed here.</span></div>
<div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160;      <span class="keywordflow">if</span> (AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>() != ArrBase)</div>
<div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160; </div>
<div class="line"><a name="l08194"></a><span class="lineno"> 8194</span>&#160;      <span class="comment">// Memory operation pattern which have gaps.</span></div>
<div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;      <span class="comment">// Or repeat memory opreation.</span></div>
<div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160;      <span class="comment">// And index of GEP wraps arround.</span></div>
<div class="line"><a name="l08197"></a><span class="lineno"> 8197</span>&#160;      <span class="keywordflow">if</span> (Step-&gt;getAPInt().getActiveBits() &gt; 32 ||</div>
<div class="line"><a name="l08198"></a><span class="lineno"> 8198</span>&#160;          Step-&gt;getAPInt().getZExtValue() !=</div>
<div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160;              ElemSize-&gt;getAPInt().getZExtValue() ||</div>
<div class="line"><a name="l08200"></a><span class="lineno"> 8200</span>&#160;          Step-&gt;<a class="code" href="classllvm_1_1SCEV.html#a4541962f9c18aacceb7243520eb15e1f">isZero</a>() || Step-&gt;getAPInt().isNegative())</div>
<div class="line"><a name="l08201"></a><span class="lineno"> 8201</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08202"></a><span class="lineno"> 8202</span>&#160; </div>
<div class="line"><a name="l08203"></a><span class="lineno"> 8203</span>&#160;      <span class="comment">// Only infer from stack array which has certain size.</span></div>
<div class="line"><a name="l08204"></a><span class="lineno"> 8204</span>&#160;      <span class="comment">// Make sure alloca instruction is not excuted in loop.</span></div>
<div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;      <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AllocateInst = dyn_cast&lt;AllocaInst&gt;(ArrBase-&gt;getValue());</div>
<div class="line"><a name="l08206"></a><span class="lineno"> 8206</span>&#160;      <span class="keywordflow">if</span> (!AllocateInst || L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(AllocateInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()))</div>
<div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08208"></a><span class="lineno"> 8208</span>&#160; </div>
<div class="line"><a name="l08209"></a><span class="lineno"> 8209</span>&#160;      <span class="comment">// Make sure only handle normal array.</span></div>
<div class="line"><a name="l08210"></a><span class="lineno"> 8210</span>&#160;      <span class="keyword">auto</span> *Ty = dyn_cast&lt;ArrayType&gt;(AllocateInst-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a074617b3e2f9f98ee3a2ac208e8e7210">getAllocatedType</a>());</div>
<div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160;      <span class="keyword">auto</span> *ArrSize = dyn_cast&lt;ConstantInt&gt;(AllocateInst-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#aaca14fdf6d151782f7ab0a66405453fb">getArraySize</a>());</div>
<div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160;      <span class="keywordflow">if</span> (!Ty || !ArrSize || !ArrSize-&gt;isOne())</div>
<div class="line"><a name="l08213"></a><span class="lineno"> 8213</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08214"></a><span class="lineno"> 8214</span>&#160; </div>
<div class="line"><a name="l08215"></a><span class="lineno"> 8215</span>&#160;      <span class="comment">// FIXME: Since gep indices are silently zext to the indexing type,</span></div>
<div class="line"><a name="l08216"></a><span class="lineno"> 8216</span>&#160;      <span class="comment">// we will have a narrow gep index which wraps around rather than</span></div>
<div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160;      <span class="comment">// increasing strictly, we shoule ensure that step is increasing</span></div>
<div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160;      <span class="comment">// strictly by the loop iteration.</span></div>
<div class="line"><a name="l08219"></a><span class="lineno"> 8219</span>&#160;      <span class="comment">// Now we can infer a max execution time by MemLength/StepLength.</span></div>
<div class="line"><a name="l08220"></a><span class="lineno"> 8220</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MemSize =</div>
<div class="line"><a name="l08221"></a><span class="lineno"> 8221</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Step-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(Ty));</div>
<div class="line"><a name="l08222"></a><span class="lineno"> 8222</span>&#160;      <span class="keyword">auto</span> *MaxExeCount =</div>
<div class="line"><a name="l08223"></a><span class="lineno"> 8223</span>&#160;          dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a0daed958320635f1a9d440819f5bd487">getUDivCeilSCEV</a>(MemSize, Step));</div>
<div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160;      <span class="keywordflow">if</span> (!MaxExeCount || MaxExeCount-&gt;getAPInt().getActiveBits() &gt; 32)</div>
<div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160; </div>
<div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160;      <span class="comment">// If the loop reaches the maximum number of executions, we can not</span></div>
<div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;      <span class="comment">// access bytes starting outside the statically allocated size without</span></div>
<div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160;      <span class="comment">// being immediate UB. But it is allowed to enter loop header one more</span></div>
<div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160;      <span class="comment">// time.</span></div>
<div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;      <span class="keyword">auto</span> *InferCount = dyn_cast&lt;SCEVConstant&gt;(</div>
<div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(MaxExeCount, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(MaxExeCount-&gt;getType())));</div>
<div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160;      <span class="comment">// Discard the maximum number of execution times under 32bits.</span></div>
<div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160;      <span class="keywordflow">if</span> (!InferCount || InferCount-&gt;getAPInt().getActiveBits() &gt; 32)</div>
<div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160; </div>
<div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160;      InferCountColl.push_back(InferCount);</div>
<div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160;    }</div>
<div class="line"><a name="l08239"></a><span class="lineno"> 8239</span>&#160;  }</div>
<div class="line"><a name="l08240"></a><span class="lineno"> 8240</span>&#160; </div>
<div class="line"><a name="l08241"></a><span class="lineno"> 8241</span>&#160;  <span class="keywordflow">if</span> (InferCountColl.size() == 0)</div>
<div class="line"><a name="l08242"></a><span class="lineno"> 8242</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08243"></a><span class="lineno"> 8243</span>&#160; </div>
<div class="line"><a name="l08244"></a><span class="lineno"> 8244</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">getUMinFromMismatchedTypes</a>(InferCountColl);</div>
<div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;}</div>
<div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160; </div>
<div class="line"><a name="l08247"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a679b9639c06fbd0a28b01cdea9b5d639"> 8247</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9">ScalarEvolution::getSmallConstantTripMultiple</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 8&gt;</a> ExitingBlocks;</div>
<div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;  L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a46880fab7a9d5bd439725f2acc59b80d">getExitingBlocks</a>(ExitingBlocks);</div>
<div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160; </div>
<div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;  std::optional&lt;unsigned&gt; Res;</div>
<div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *ExitingBB : ExitingBlocks) {</div>
<div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160;    <span class="keywordtype">unsigned</span> Multiple = <a class="code" href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9">getSmallConstantTripMultiple</a>(L, ExitingBB);</div>
<div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;    <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;      Res = Multiple;</div>
<div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160;    Res = (<a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>)<a class="code" href="ScalarEvolution_8cpp.html#aa4ab138d4aa4beb5e35a996d3bd21765">std::gcd</a>(*Res, Multiple);</div>
<div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;  }</div>
<div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;  <span class="keywordflow">return</span> Res.value_or(1);</div>
<div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160;}</div>
<div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160; </div>
<div class="line"><a name="l08261"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9"> 8261</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9">ScalarEvolution::getSmallConstantTripMultiple</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;                                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExitCount) {</div>
<div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;  <span class="keywordflow">if</span> (ExitCount == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160; </div>
<div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160;  <span class="comment">// Get the trip count</span></div>
<div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TCExpr = <a class="code" href="classllvm_1_1ScalarEvolution.html#a5bb94ae7a535ff5335b731270969c6d3">getTripCountFromExitCount</a>(ExitCount);</div>
<div class="line"><a name="l08268"></a><span class="lineno"> 8268</span>&#160; </div>
<div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *TC = dyn_cast&lt;SCEVConstant&gt;(TCExpr);</div>
<div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160;  <span class="keywordflow">if</span> (!TC)</div>
<div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;    <span class="comment">// Attempt to factor more general cases. Returns the greatest power of</span></div>
<div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;    <span class="comment">// two divisor. If overflow happens, the trip count expression is still</span></div>
<div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160;    <span class="comment">// divisible by the greatest power of 2 divisor returned.</span></div>
<div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160;    <span class="keywordflow">return</span> 1U &lt;&lt; <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>((<a class="code" href="classuint32__t.html">uint32_t</a>)31,</div>
<div class="line"><a name="l08275"></a><span class="lineno"> 8275</span>&#160;                          <a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad146072469181af4ccb7ef03c28999ba">applyLoopGuards</a>(TCExpr, L)));</div>
<div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160; </div>
<div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Result = TC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#ab319aacb4209aeca2c72d50a0d585b47">getValue</a>();</div>
<div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160; </div>
<div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;  <span class="comment">// Guard against huge trip counts (this requires checking</span></div>
<div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160;  <span class="comment">// for zero to handle the case where the trip count == -1 and the</span></div>
<div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160;  <span class="comment">// addition wraps).</span></div>
<div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160;  <span class="keywordflow">if</span> (!Result || Result-&gt;getValue().getActiveBits() &gt; 32 ||</div>
<div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;      Result-&gt;getValue().getActiveBits() == 0)</div>
<div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l08285"></a><span class="lineno"> 8285</span>&#160; </div>
<div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span>)Result-&gt;getZExtValue();</div>
<div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160;}</div>
<div class="line"><a name="l08288"></a><span class="lineno"> 8288</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160;<span class="comment">/// Returns the largest constant divisor of the trip count of this loop as a</span></div>
<div class="line"><a name="l08290"></a><span class="lineno"> 8290</span>&#160;<span class="comment">/// normal unsigned value, if possible. This means that the actual trip count is</span></div>
<div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160;<span class="comment">/// always a multiple of the returned value (don&#39;t forget the trip count could</span></div>
<div class="line"><a name="l08292"></a><span class="lineno"> 8292</span>&#160;<span class="comment">/// very well be zero as well!).</span></div>
<div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;<span class="comment">/// Returns 1 if the trip count is unknown or not guaranteed to be the</span></div>
<div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160;<span class="comment">/// multiple of a constant (which is also the case if the trip count is simply</span></div>
<div class="line"><a name="l08296"></a><span class="lineno"> 8296</span>&#160;<span class="comment">/// constant, use getSmallConstantTripCount for that case), Will also return 1</span></div>
<div class="line"><a name="l08297"></a><span class="lineno"> 8297</span>&#160;<span class="comment">/// if the trip count is very large (&gt;= 2^32).</span></div>
<div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l08299"></a><span class="lineno"> 8299</span>&#160;<span class="comment">/// As explained in the comments for getSmallConstantTripCount, this assumes</span></div>
<div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160;<span class="comment">/// that control exits the loop via ExitingBlock.</span></div>
<div class="line"><a name="l08301"></a><span class="lineno"> 8301</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l08302"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a187e4afb699cf8f508b886d219589c67"> 8302</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9">ScalarEvolution::getSmallConstantTripMultiple</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l08303"></a><span class="lineno"> 8303</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock) {</div>
<div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ExitingBlock &amp;&amp; <span class="stringliteral">&quot;Must pass a non-null exiting block!&quot;</span>);</div>
<div class="line"><a name="l08305"></a><span class="lineno"> 8305</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#af691775d5a45e28afbdb3e97cab22eee">isLoopExiting</a>(ExitingBlock) &amp;&amp;</div>
<div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;         <span class="stringliteral">&quot;Exiting block must actually branch out of the loop!&quot;</span>);</div>
<div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExitCount = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">getExitCount</a>(L, ExitingBlock);</div>
<div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9">getSmallConstantTripMultiple</a>(L, ExitCount);</div>
<div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160;}</div>
<div class="line"><a name="l08310"></a><span class="lineno"> 8310</span>&#160; </div>
<div class="line"><a name="l08311"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e"> 8311</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">ScalarEvolution::getExitCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l08312"></a><span class="lineno"> 8312</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock,</div>
<div class="line"><a name="l08313"></a><span class="lineno"> 8313</span>&#160;                                          <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecef">ExitCountKind</a> Kind) {</div>
<div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160;  <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l08315"></a><span class="lineno"> 8315</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a>:</div>
<div class="line"><a name="l08316"></a><span class="lineno"> 8316</span>&#160;    <span class="keywordflow">return</span> getBackedgeTakenInfo(L).getExact(ExitingBlock, <span class="keyword">this</span>);</div>
<div class="line"><a name="l08317"></a><span class="lineno"> 8317</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefa007c52805d507c0cc6d53cbea782eaf4">SymbolicMaximum</a>:</div>
<div class="line"><a name="l08318"></a><span class="lineno"> 8318</span>&#160;    <span class="keywordflow">return</span> getBackedgeTakenInfo(L).getSymbolicMax(ExitingBlock, <span class="keyword">this</span>);</div>
<div class="line"><a name="l08319"></a><span class="lineno"> 8319</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefa707795ac384dd38bc1fc47cded39f5de">ConstantMaximum</a>:</div>
<div class="line"><a name="l08320"></a><span class="lineno"> 8320</span>&#160;    <span class="keywordflow">return</span> getBackedgeTakenInfo(L).getConstantMax(ExitingBlock, <span class="keyword">this</span>);</div>
<div class="line"><a name="l08321"></a><span class="lineno"> 8321</span>&#160;  };</div>
<div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid ExitCountKind!&quot;</span>);</div>
<div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;}</div>
<div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160; </div>
<div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l08326"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a79fea84c72cff6e47eb3079272bec666"> 8326</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a79fea84c72cff6e47eb3079272bec666">ScalarEvolution::getPredicatedBackedgeTakenCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;                                                 <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEVPredicate *, 4&gt;</a> &amp;Preds) {</div>
<div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;  <span class="keywordflow">return</span> getPredicatedBackedgeTakenInfo(L).getExact(L, <span class="keyword">this</span>, &amp;Preds);</div>
<div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160;}</div>
<div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160; </div>
<div class="line"><a name="l08331"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e"> 8331</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e">ScalarEvolution::getBackedgeTakenCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l08332"></a><span class="lineno"> 8332</span>&#160;                                                   <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecef">ExitCountKind</a> Kind) {</div>
<div class="line"><a name="l08333"></a><span class="lineno"> 8333</span>&#160;  <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l08334"></a><span class="lineno"> 8334</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a>:</div>
<div class="line"><a name="l08335"></a><span class="lineno"> 8335</span>&#160;    <span class="keywordflow">return</span> getBackedgeTakenInfo(L).getExact(L, <span class="keyword">this</span>);</div>
<div class="line"><a name="l08336"></a><span class="lineno"> 8336</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefa707795ac384dd38bc1fc47cded39f5de">ConstantMaximum</a>:</div>
<div class="line"><a name="l08337"></a><span class="lineno"> 8337</span>&#160;    <span class="keywordflow">return</span> getBackedgeTakenInfo(L).getConstantMax(<span class="keyword">this</span>);</div>
<div class="line"><a name="l08338"></a><span class="lineno"> 8338</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefa007c52805d507c0cc6d53cbea782eaf4">SymbolicMaximum</a>:</div>
<div class="line"><a name="l08339"></a><span class="lineno"> 8339</span>&#160;    <span class="keywordflow">return</span> getBackedgeTakenInfo(L).getSymbolicMax(L, <span class="keyword">this</span>);</div>
<div class="line"><a name="l08340"></a><span class="lineno"> 8340</span>&#160;  };</div>
<div class="line"><a name="l08341"></a><span class="lineno"> 8341</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid ExitCountKind!&quot;</span>);</div>
<div class="line"><a name="l08342"></a><span class="lineno"> 8342</span>&#160;}</div>
<div class="line"><a name="l08343"></a><span class="lineno"> 8343</span>&#160; </div>
<div class="line"><a name="l08344"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a57a6829dad387e7075a6325e3ec6ace5"> 8344</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a57a6829dad387e7075a6325e3ec6ace5">ScalarEvolution::isBackedgeTakenCountMaxOrZero</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l08345"></a><span class="lineno"> 8345</span>&#160;  <span class="keywordflow">return</span> getBackedgeTakenInfo(L).isConstantMaxOrZero(<span class="keyword">this</span>);</div>
<div class="line"><a name="l08346"></a><span class="lineno"> 8346</span>&#160;}</div>
<div class="line"><a name="l08347"></a><span class="lineno"> 8347</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l08348"></a><span class="lineno"> 8348</span>&#160;<span class="comment">/// Push PHI nodes in the header of the given loop onto the given Worklist.</span></div>
<div class="line"><a name="l08349"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a1be30af6ed42477abe149692b7b8a44c"> 8349</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScalarEvolution_8cpp.html#a1be30af6ed42477abe149692b7b8a44c">PushLoopPHIs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l08350"></a><span class="lineno"> 8350</span>&#160;                         <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Instruction *&gt;</a> &amp;Worklist,</div>
<div class="line"><a name="l08351"></a><span class="lineno"> 8351</span>&#160;                         <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;Instruction *&gt;</a> &amp;Visited) {</div>
<div class="line"><a name="l08352"></a><span class="lineno"> 8352</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>();</div>
<div class="line"><a name="l08353"></a><span class="lineno"> 8353</span>&#160; </div>
<div class="line"><a name="l08354"></a><span class="lineno"> 8354</span>&#160;  <span class="comment">// Push all Loop-header PHIs onto the Worklist stack.</span></div>
<div class="line"><a name="l08355"></a><span class="lineno"> 8355</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;PN : Header-&gt;phis())</div>
<div class="line"><a name="l08356"></a><span class="lineno"> 8356</span>&#160;    <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;PN).second)</div>
<div class="line"><a name="l08357"></a><span class="lineno"> 8357</span>&#160;      Worklist.push_back(&amp;PN);</div>
<div class="line"><a name="l08358"></a><span class="lineno"> 8358</span>&#160;}</div>
<div class="line"><a name="l08359"></a><span class="lineno"> 8359</span>&#160; </div>
<div class="line"><a name="l08360"></a><span class="lineno"> 8360</span>&#160;<span class="keyword">const</span> ScalarEvolution::BackedgeTakenInfo &amp;</div>
<div class="line"><a name="l08361"></a><span class="lineno"> 8361</span>&#160;ScalarEvolution::getPredicatedBackedgeTakenInfo(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l08362"></a><span class="lineno"> 8362</span>&#160;  <span class="keyword">auto</span> &amp;BTI = getBackedgeTakenInfo(L);</div>
<div class="line"><a name="l08363"></a><span class="lineno"> 8363</span>&#160;  <span class="keywordflow">if</span> (BTI.hasFullInfo())</div>
<div class="line"><a name="l08364"></a><span class="lineno"> 8364</span>&#160;    <span class="keywordflow">return</span> BTI;</div>
<div class="line"><a name="l08365"></a><span class="lineno"> 8365</span>&#160; </div>
<div class="line"><a name="l08366"></a><span class="lineno"> 8366</span>&#160;  <span class="keyword">auto</span> Pair = PredicatedBackedgeTakenCounts.insert({L, BackedgeTakenInfo()});</div>
<div class="line"><a name="l08367"></a><span class="lineno"> 8367</span>&#160; </div>
<div class="line"><a name="l08368"></a><span class="lineno"> 8368</span>&#160;  <span class="keywordflow">if</span> (!Pair.second)</div>
<div class="line"><a name="l08369"></a><span class="lineno"> 8369</span>&#160;    <span class="keywordflow">return</span> Pair.first-&gt;second;</div>
<div class="line"><a name="l08370"></a><span class="lineno"> 8370</span>&#160; </div>
<div class="line"><a name="l08371"></a><span class="lineno"> 8371</span>&#160;  BackedgeTakenInfo <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> =</div>
<div class="line"><a name="l08372"></a><span class="lineno"> 8372</span>&#160;      computeBackedgeTakenCount(L, <span class="comment">/*AllowPredicates=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l08373"></a><span class="lineno"> 8373</span>&#160; </div>
<div class="line"><a name="l08374"></a><span class="lineno"> 8374</span>&#160;  <span class="keywordflow">return</span> PredicatedBackedgeTakenCounts.find(L)-&gt;second = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Result);</div>
<div class="line"><a name="l08375"></a><span class="lineno"> 8375</span>&#160;}</div>
<div class="line"><a name="l08376"></a><span class="lineno"> 8376</span>&#160; </div>
<div class="line"><a name="l08377"></a><span class="lineno"> 8377</span>&#160;ScalarEvolution::BackedgeTakenInfo &amp;</div>
<div class="line"><a name="l08378"></a><span class="lineno"> 8378</span>&#160;ScalarEvolution::getBackedgeTakenInfo(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l08379"></a><span class="lineno"> 8379</span>&#160;  <span class="comment">// Initially insert an invalid entry for this loop. If the insertion</span></div>
<div class="line"><a name="l08380"></a><span class="lineno"> 8380</span>&#160;  <span class="comment">// succeeds, proceed to actually compute a backedge-taken count and</span></div>
<div class="line"><a name="l08381"></a><span class="lineno"> 8381</span>&#160;  <span class="comment">// update the value. The temporary CouldNotCompute value tells SCEV</span></div>
<div class="line"><a name="l08382"></a><span class="lineno"> 8382</span>&#160;  <span class="comment">// code elsewhere that it shouldn&#39;t attempt to request a new</span></div>
<div class="line"><a name="l08383"></a><span class="lineno"> 8383</span>&#160;  <span class="comment">// backedge-taken count, which could result in infinite recursion.</span></div>
<div class="line"><a name="l08384"></a><span class="lineno"> 8384</span>&#160;  std::pair&lt;DenseMap&lt;const Loop *, BackedgeTakenInfo&gt;::iterator, <span class="keywordtype">bool</span>&gt; Pair =</div>
<div class="line"><a name="l08385"></a><span class="lineno"> 8385</span>&#160;      BackedgeTakenCounts.insert({L, BackedgeTakenInfo()});</div>
<div class="line"><a name="l08386"></a><span class="lineno"> 8386</span>&#160;  <span class="keywordflow">if</span> (!Pair.second)</div>
<div class="line"><a name="l08387"></a><span class="lineno"> 8387</span>&#160;    <span class="keywordflow">return</span> Pair.first-&gt;second;</div>
<div class="line"><a name="l08388"></a><span class="lineno"> 8388</span>&#160; </div>
<div class="line"><a name="l08389"></a><span class="lineno"> 8389</span>&#160;  <span class="comment">// computeBackedgeTakenCount may allocate memory for its result. Inserting it</span></div>
<div class="line"><a name="l08390"></a><span class="lineno"> 8390</span>&#160;  <span class="comment">// into the BackedgeTakenCounts map transfers ownership. Otherwise, the result</span></div>
<div class="line"><a name="l08391"></a><span class="lineno"> 8391</span>&#160;  <span class="comment">// must be cleared in this scope.</span></div>
<div class="line"><a name="l08392"></a><span class="lineno"> 8392</span>&#160;  BackedgeTakenInfo <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = computeBackedgeTakenCount(L);</div>
<div class="line"><a name="l08393"></a><span class="lineno"> 8393</span>&#160; </div>
<div class="line"><a name="l08394"></a><span class="lineno"> 8394</span>&#160;  <span class="comment">// In product build, there are no usage of statistic.</span></div>
<div class="line"><a name="l08395"></a><span class="lineno"> 8395</span>&#160;  (void)NumTripCountsComputed;</div>
<div class="line"><a name="l08396"></a><span class="lineno"> 8396</span>&#160;  (void)NumTripCountsNotComputed;</div>
<div class="line"><a name="l08397"></a><span class="lineno"> 8397</span>&#160;<span class="preprocessor">#if LLVM_ENABLE_STATS || !defined(NDEBUG)</span></div>
<div class="line"><a name="l08398"></a><span class="lineno"> 8398</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BEExact = <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.getExact(L, <span class="keyword">this</span>);</div>
<div class="line"><a name="l08399"></a><span class="lineno"> 8399</span>&#160;  <span class="keywordflow">if</span> (BEExact != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()) {</div>
<div class="line"><a name="l08400"></a><span class="lineno"> 8400</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(BEExact, L) &amp;&amp;</div>
<div class="line"><a name="l08401"></a><span class="lineno"> 8401</span>&#160;           <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.getConstantMax(<span class="keyword">this</span>), L) &amp;&amp;</div>
<div class="line"><a name="l08402"></a><span class="lineno"> 8402</span>&#160;           <span class="stringliteral">&quot;Computed backedge-taken count isn&#39;t loop invariant for loop!&quot;</span>);</div>
<div class="line"><a name="l08403"></a><span class="lineno"> 8403</span>&#160;    ++NumTripCountsComputed;</div>
<div class="line"><a name="l08404"></a><span class="lineno"> 8404</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.getConstantMax(<span class="keyword">this</span>) == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp;</div>
<div class="line"><a name="l08405"></a><span class="lineno"> 8405</span>&#160;             isa&lt;PHINode&gt;(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>())) {</div>
<div class="line"><a name="l08406"></a><span class="lineno"> 8406</span>&#160;    <span class="comment">// Only count loops that have phi nodes as not being computable.</span></div>
<div class="line"><a name="l08407"></a><span class="lineno"> 8407</span>&#160;    ++NumTripCountsNotComputed;</div>
<div class="line"><a name="l08408"></a><span class="lineno"> 8408</span>&#160;  }</div>
<div class="line"><a name="l08409"></a><span class="lineno"> 8409</span>&#160;<span class="preprocessor">#endif // LLVM_ENABLE_STATS || !defined(NDEBUG)</span></div>
<div class="line"><a name="l08410"></a><span class="lineno"> 8410</span>&#160; </div>
<div class="line"><a name="l08411"></a><span class="lineno"> 8411</span>&#160;  <span class="comment">// Now that we know more about the trip count for this loop, forget any</span></div>
<div class="line"><a name="l08412"></a><span class="lineno"> 8412</span>&#160;  <span class="comment">// existing SCEV values for PHI nodes in this loop since they are only</span></div>
<div class="line"><a name="l08413"></a><span class="lineno"> 8413</span>&#160;  <span class="comment">// conservative estimates made without the benefit of trip count</span></div>
<div class="line"><a name="l08414"></a><span class="lineno"> 8414</span>&#160;  <span class="comment">// information. This invalidation is not necessary for correctness, and is</span></div>
<div class="line"><a name="l08415"></a><span class="lineno"> 8415</span>&#160;  <span class="comment">// only done to produce more precise results.</span></div>
<div class="line"><a name="l08416"></a><span class="lineno"> 8416</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.hasAnyInfo()) {</div>
<div class="line"><a name="l08417"></a><span class="lineno"> 8417</span>&#160;    <span class="comment">// Invalidate any expression using an addrec in this loop.</span></div>
<div class="line"><a name="l08418"></a><span class="lineno"> 8418</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> ToForget;</div>
<div class="line"><a name="l08419"></a><span class="lineno"> 8419</span>&#160;    <span class="keyword">auto</span> LoopUsersIt = LoopUsers.find(L);</div>
<div class="line"><a name="l08420"></a><span class="lineno"> 8420</span>&#160;    <span class="keywordflow">if</span> (LoopUsersIt != LoopUsers.end())</div>
<div class="line"><a name="l08421"></a><span class="lineno"> 8421</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(ToForget, LoopUsersIt-&gt;second);</div>
<div class="line"><a name="l08422"></a><span class="lineno"> 8422</span>&#160;    forgetMemoizedResults(ToForget);</div>
<div class="line"><a name="l08423"></a><span class="lineno"> 8423</span>&#160; </div>
<div class="line"><a name="l08424"></a><span class="lineno"> 8424</span>&#160;    <span class="comment">// Invalidate constant-evolved loop header phis.</span></div>
<div class="line"><a name="l08425"></a><span class="lineno"> 8425</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;PN : L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a72516971c5734dc0f7546e64affca425">phis</a>())</div>
<div class="line"><a name="l08426"></a><span class="lineno"> 8426</span>&#160;      ConstantEvolutionLoopExitValue.erase(&amp;PN);</div>
<div class="line"><a name="l08427"></a><span class="lineno"> 8427</span>&#160;  }</div>
<div class="line"><a name="l08428"></a><span class="lineno"> 8428</span>&#160; </div>
<div class="line"><a name="l08429"></a><span class="lineno"> 8429</span>&#160;  <span class="comment">// Re-lookup the insert position, since the call to</span></div>
<div class="line"><a name="l08430"></a><span class="lineno"> 8430</span>&#160;  <span class="comment">// computeBackedgeTakenCount above could result in a</span></div>
<div class="line"><a name="l08431"></a><span class="lineno"> 8431</span>&#160;  <span class="comment">// recusive call to getBackedgeTakenInfo (on a different</span></div>
<div class="line"><a name="l08432"></a><span class="lineno"> 8432</span>&#160;  <span class="comment">// loop), which would invalidate the iterator computed</span></div>
<div class="line"><a name="l08433"></a><span class="lineno"> 8433</span>&#160;  <span class="comment">// earlier.</span></div>
<div class="line"><a name="l08434"></a><span class="lineno"> 8434</span>&#160;  <span class="keywordflow">return</span> BackedgeTakenCounts.find(L)-&gt;second = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Result);</div>
<div class="line"><a name="l08435"></a><span class="lineno"> 8435</span>&#160;}</div>
<div class="line"><a name="l08436"></a><span class="lineno"> 8436</span>&#160; </div>
<div class="line"><a name="l08437"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac5f5c8803494a746eb35e42f67abd0ec"> 8437</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac5f5c8803494a746eb35e42f67abd0ec">ScalarEvolution::forgetAllLoops</a>() {</div>
<div class="line"><a name="l08438"></a><span class="lineno"> 8438</span>&#160;  <span class="comment">// This method is intended to forget all info about loops. It should</span></div>
<div class="line"><a name="l08439"></a><span class="lineno"> 8439</span>&#160;  <span class="comment">// invalidate caches as if the following happened:</span></div>
<div class="line"><a name="l08440"></a><span class="lineno"> 8440</span>&#160;  <span class="comment">// - The trip counts of all loops have changed arbitrarily</span></div>
<div class="line"><a name="l08441"></a><span class="lineno"> 8441</span>&#160;  <span class="comment">// - Every llvm::Value has been updated in place to produce a different</span></div>
<div class="line"><a name="l08442"></a><span class="lineno"> 8442</span>&#160;  <span class="comment">// result.</span></div>
<div class="line"><a name="l08443"></a><span class="lineno"> 8443</span>&#160;  BackedgeTakenCounts.clear();</div>
<div class="line"><a name="l08444"></a><span class="lineno"> 8444</span>&#160;  PredicatedBackedgeTakenCounts.clear();</div>
<div class="line"><a name="l08445"></a><span class="lineno"> 8445</span>&#160;  BECountUsers.clear();</div>
<div class="line"><a name="l08446"></a><span class="lineno"> 8446</span>&#160;  LoopPropertiesCache.clear();</div>
<div class="line"><a name="l08447"></a><span class="lineno"> 8447</span>&#160;  ConstantEvolutionLoopExitValue.clear();</div>
<div class="line"><a name="l08448"></a><span class="lineno"> 8448</span>&#160;  ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l08449"></a><span class="lineno"> 8449</span>&#160;  ValuesAtScopes.clear();</div>
<div class="line"><a name="l08450"></a><span class="lineno"> 8450</span>&#160;  ValuesAtScopesUsers.clear();</div>
<div class="line"><a name="l08451"></a><span class="lineno"> 8451</span>&#160;  LoopDispositions.clear();</div>
<div class="line"><a name="l08452"></a><span class="lineno"> 8452</span>&#160;  BlockDispositions.clear();</div>
<div class="line"><a name="l08453"></a><span class="lineno"> 8453</span>&#160;  UnsignedRanges.clear();</div>
<div class="line"><a name="l08454"></a><span class="lineno"> 8454</span>&#160;  SignedRanges.clear();</div>
<div class="line"><a name="l08455"></a><span class="lineno"> 8455</span>&#160;  ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l08456"></a><span class="lineno"> 8456</span>&#160;  HasRecMap.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l08457"></a><span class="lineno"> 8457</span>&#160;  MinTrailingZerosCache.clear();</div>
<div class="line"><a name="l08458"></a><span class="lineno"> 8458</span>&#160;  PredicatedSCEVRewrites.clear();</div>
<div class="line"><a name="l08459"></a><span class="lineno"> 8459</span>&#160;  FoldCache.clear();</div>
<div class="line"><a name="l08460"></a><span class="lineno"> 8460</span>&#160;  FoldCacheUser.clear();</div>
<div class="line"><a name="l08461"></a><span class="lineno"> 8461</span>&#160;}</div>
<div class="line"><a name="l08462"></a><span class="lineno"> 8462</span>&#160; </div>
<div class="line"><a name="l08463"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900"> 8463</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900">ScalarEvolution::forgetLoop</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l08464"></a><span class="lineno"> 8464</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Loop *, 16&gt;</a> LoopWorklist(1, L);</div>
<div class="line"><a name="l08465"></a><span class="lineno"> 8465</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 32&gt;</a> Worklist;</div>
<div class="line"><a name="l08466"></a><span class="lineno"> 8466</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction *, 16&gt;</a> Visited;</div>
<div class="line"><a name="l08467"></a><span class="lineno"> 8467</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 16&gt;</a> ToForget;</div>
<div class="line"><a name="l08468"></a><span class="lineno"> 8468</span>&#160; </div>
<div class="line"><a name="l08469"></a><span class="lineno"> 8469</span>&#160;  <span class="comment">// Iterate over all the loops and sub-loops to drop SCEV information.</span></div>
<div class="line"><a name="l08470"></a><span class="lineno"> 8470</span>&#160;  <span class="keywordflow">while</span> (!LoopWorklist.empty()) {</div>
<div class="line"><a name="l08471"></a><span class="lineno"> 8471</span>&#160;    <span class="keyword">auto</span> *CurrL = LoopWorklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l08472"></a><span class="lineno"> 8472</span>&#160; </div>
<div class="line"><a name="l08473"></a><span class="lineno"> 8473</span>&#160;    <span class="comment">// Drop any stored trip count value.</span></div>
<div class="line"><a name="l08474"></a><span class="lineno"> 8474</span>&#160;    forgetBackedgeTakenCounts(CurrL, <span class="comment">/* Predicated */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l08475"></a><span class="lineno"> 8475</span>&#160;    forgetBackedgeTakenCounts(CurrL, <span class="comment">/* Predicated */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l08476"></a><span class="lineno"> 8476</span>&#160; </div>
<div class="line"><a name="l08477"></a><span class="lineno"> 8477</span>&#160;    <span class="comment">// Drop information about predicated SCEV rewrites for this loop.</span></div>
<div class="line"><a name="l08478"></a><span class="lineno"> 8478</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = PredicatedSCEVRewrites.begin();</div>
<div class="line"><a name="l08479"></a><span class="lineno"> 8479</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != PredicatedSCEVRewrites.end();) {</div>
<div class="line"><a name="l08480"></a><span class="lineno"> 8480</span>&#160;      std::pair&lt;const SCEV *, const Loop *&gt; Entry = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first;</div>
<div class="line"><a name="l08481"></a><span class="lineno"> 8481</span>&#160;      <span class="keywordflow">if</span> (Entry.second == CurrL)</div>
<div class="line"><a name="l08482"></a><span class="lineno"> 8482</span>&#160;        PredicatedSCEVRewrites.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++);</div>
<div class="line"><a name="l08483"></a><span class="lineno"> 8483</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l08484"></a><span class="lineno"> 8484</span>&#160;        ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l08485"></a><span class="lineno"> 8485</span>&#160;    }</div>
<div class="line"><a name="l08486"></a><span class="lineno"> 8486</span>&#160; </div>
<div class="line"><a name="l08487"></a><span class="lineno"> 8487</span>&#160;    <span class="keyword">auto</span> LoopUsersItr = LoopUsers.find(CurrL);</div>
<div class="line"><a name="l08488"></a><span class="lineno"> 8488</span>&#160;    <span class="keywordflow">if</span> (LoopUsersItr != LoopUsers.end()) {</div>
<div class="line"><a name="l08489"></a><span class="lineno"> 8489</span>&#160;      ToForget.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(ToForget.end(), LoopUsersItr-&gt;second.begin(),</div>
<div class="line"><a name="l08490"></a><span class="lineno"> 8490</span>&#160;                LoopUsersItr-&gt;second.end());</div>
<div class="line"><a name="l08491"></a><span class="lineno"> 8491</span>&#160;    }</div>
<div class="line"><a name="l08492"></a><span class="lineno"> 8492</span>&#160; </div>
<div class="line"><a name="l08493"></a><span class="lineno"> 8493</span>&#160;    <span class="comment">// Drop information about expressions based on loop-header PHIs.</span></div>
<div class="line"><a name="l08494"></a><span class="lineno"> 8494</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a1be30af6ed42477abe149692b7b8a44c">PushLoopPHIs</a>(CurrL, Worklist, Visited);</div>
<div class="line"><a name="l08495"></a><span class="lineno"> 8495</span>&#160; </div>
<div class="line"><a name="l08496"></a><span class="lineno"> 8496</span>&#160;    <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l08497"></a><span class="lineno"> 8497</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l08498"></a><span class="lineno"> 8498</span>&#160; </div>
<div class="line"><a name="l08499"></a><span class="lineno"> 8499</span>&#160;      <a class="code" href="classllvm_1_1DenseMapIterator.html">ValueExprMapType::iterator</a> It =</div>
<div class="line"><a name="l08500"></a><span class="lineno"> 8500</span>&#160;          ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d0e3c8c4929835ce78f942191d8d719">find_as</a>(<span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Value.html">Value</a> *<span class="keyword">&gt;</span>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l08501"></a><span class="lineno"> 8501</span>&#160;      <span class="keywordflow">if</span> (It != ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l08502"></a><span class="lineno"> 8502</span>&#160;        eraseValueFromMap(It-&gt;first);</div>
<div class="line"><a name="l08503"></a><span class="lineno"> 8503</span>&#160;        ToForget.push_back(It-&gt;second);</div>
<div class="line"><a name="l08504"></a><span class="lineno"> 8504</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l08505"></a><span class="lineno"> 8505</span>&#160;          ConstantEvolutionLoopExitValue.erase(PN);</div>
<div class="line"><a name="l08506"></a><span class="lineno"> 8506</span>&#160;      }</div>
<div class="line"><a name="l08507"></a><span class="lineno"> 8507</span>&#160; </div>
<div class="line"><a name="l08508"></a><span class="lineno"> 8508</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#a8c47deb9ff88d1453a3fde3200347a95">PushDefUseChildren</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Worklist, Visited);</div>
<div class="line"><a name="l08509"></a><span class="lineno"> 8509</span>&#160;    }</div>
<div class="line"><a name="l08510"></a><span class="lineno"> 8510</span>&#160; </div>
<div class="line"><a name="l08511"></a><span class="lineno"> 8511</span>&#160;    LoopPropertiesCache.erase(CurrL);</div>
<div class="line"><a name="l08512"></a><span class="lineno"> 8512</span>&#160;    <span class="comment">// Forget all contained loops too, to avoid dangling entries in the</span></div>
<div class="line"><a name="l08513"></a><span class="lineno"> 8513</span>&#160;    <span class="comment">// ValuesAtScopes map.</span></div>
<div class="line"><a name="l08514"></a><span class="lineno"> 8514</span>&#160;    LoopWorklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(CurrL-&gt;begin(), CurrL-&gt;end());</div>
<div class="line"><a name="l08515"></a><span class="lineno"> 8515</span>&#160;  }</div>
<div class="line"><a name="l08516"></a><span class="lineno"> 8516</span>&#160;  forgetMemoizedResults(ToForget);</div>
<div class="line"><a name="l08517"></a><span class="lineno"> 8517</span>&#160;}</div>
<div class="line"><a name="l08518"></a><span class="lineno"> 8518</span>&#160; </div>
<div class="line"><a name="l08519"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a7d5bfa1ac3c7c096af6b26fb95cd699d"> 8519</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a7d5bfa1ac3c7c096af6b26fb95cd699d">ScalarEvolution::forgetTopmostLoop</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l08520"></a><span class="lineno"> 8520</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900">forgetLoop</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ad5cdd95803efd96c2c62da74a4aa6cd7">getOutermostLoop</a>());</div>
<div class="line"><a name="l08521"></a><span class="lineno"> 8521</span>&#160;}</div>
<div class="line"><a name="l08522"></a><span class="lineno"> 8522</span>&#160; </div>
<div class="line"><a name="l08523"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a804545e5b568edec8b970da32cd37359"> 8523</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a804545e5b568edec8b970da32cd37359">ScalarEvolution::forgetValue</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l08524"></a><span class="lineno"> 8524</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V);</div>
<div class="line"><a name="l08525"></a><span class="lineno"> 8525</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08526"></a><span class="lineno"> 8526</span>&#160; </div>
<div class="line"><a name="l08527"></a><span class="lineno"> 8527</span>&#160;  <span class="comment">// Drop information about expressions based on loop-header PHIs.</span></div>
<div class="line"><a name="l08528"></a><span class="lineno"> 8528</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 16&gt;</a> Worklist;</div>
<div class="line"><a name="l08529"></a><span class="lineno"> 8529</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l08530"></a><span class="lineno"> 8530</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> ToForget;</div>
<div class="line"><a name="l08531"></a><span class="lineno"> 8531</span>&#160;  Worklist.push_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l08532"></a><span class="lineno"> 8532</span>&#160;  Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l08533"></a><span class="lineno"> 8533</span>&#160; </div>
<div class="line"><a name="l08534"></a><span class="lineno"> 8534</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l08535"></a><span class="lineno"> 8535</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l08536"></a><span class="lineno"> 8536</span>&#160;    <a class="code" href="classllvm_1_1DenseMapIterator.html">ValueExprMapType::iterator</a> It =</div>
<div class="line"><a name="l08537"></a><span class="lineno"> 8537</span>&#160;      ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d0e3c8c4929835ce78f942191d8d719">find_as</a>(<span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Value.html">Value</a> *<span class="keyword">&gt;</span>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l08538"></a><span class="lineno"> 8538</span>&#160;    <span class="keywordflow">if</span> (It != ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l08539"></a><span class="lineno"> 8539</span>&#160;      eraseValueFromMap(It-&gt;first);</div>
<div class="line"><a name="l08540"></a><span class="lineno"> 8540</span>&#160;      ToForget.push_back(It-&gt;second);</div>
<div class="line"><a name="l08541"></a><span class="lineno"> 8541</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l08542"></a><span class="lineno"> 8542</span>&#160;        ConstantEvolutionLoopExitValue.erase(PN);</div>
<div class="line"><a name="l08543"></a><span class="lineno"> 8543</span>&#160;    }</div>
<div class="line"><a name="l08544"></a><span class="lineno"> 8544</span>&#160; </div>
<div class="line"><a name="l08545"></a><span class="lineno"> 8545</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a8c47deb9ff88d1453a3fde3200347a95">PushDefUseChildren</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Worklist, Visited);</div>
<div class="line"><a name="l08546"></a><span class="lineno"> 8546</span>&#160;  }</div>
<div class="line"><a name="l08547"></a><span class="lineno"> 8547</span>&#160;  forgetMemoizedResults(ToForget);</div>
<div class="line"><a name="l08548"></a><span class="lineno"> 8548</span>&#160;}</div>
<div class="line"><a name="l08549"></a><span class="lineno"> 8549</span>&#160; </div>
<div class="line"><a name="l08550"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#abb9c0178bec51fd25f95b4399faa569c"> 8550</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#abb9c0178bec51fd25f95b4399faa569c">ScalarEvolution::forgetLoopDispositions</a>() { LoopDispositions.clear(); }</div>
<div class="line"><a name="l08551"></a><span class="lineno"> 8551</span>&#160; </div>
<div class="line"><a name="l08552"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a830ba09d5969cd66878b05c17fdf66b6"> 8552</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a830ba09d5969cd66878b05c17fdf66b6">ScalarEvolution::forgetBlockAndLoopDispositions</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l08553"></a><span class="lineno"> 8553</span>&#160;  <span class="comment">// Unless a specific value is passed to invalidation, completely clear both</span></div>
<div class="line"><a name="l08554"></a><span class="lineno"> 8554</span>&#160;  <span class="comment">// caches.</span></div>
<div class="line"><a name="l08555"></a><span class="lineno"> 8555</span>&#160;  <span class="keywordflow">if</span> (!V) {</div>
<div class="line"><a name="l08556"></a><span class="lineno"> 8556</span>&#160;    BlockDispositions.clear();</div>
<div class="line"><a name="l08557"></a><span class="lineno"> 8557</span>&#160;    LoopDispositions.clear();</div>
<div class="line"><a name="l08558"></a><span class="lineno"> 8558</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08559"></a><span class="lineno"> 8559</span>&#160;  }</div>
<div class="line"><a name="l08560"></a><span class="lineno"> 8560</span>&#160; </div>
<div class="line"><a name="l08561"></a><span class="lineno"> 8561</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l08562"></a><span class="lineno"> 8562</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08563"></a><span class="lineno"> 8563</span>&#160; </div>
<div class="line"><a name="l08564"></a><span class="lineno"> 8564</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = getExistingSCEV(V);</div>
<div class="line"><a name="l08565"></a><span class="lineno"> 8565</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)</div>
<div class="line"><a name="l08566"></a><span class="lineno"> 8566</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08567"></a><span class="lineno"> 8567</span>&#160; </div>
<div class="line"><a name="l08568"></a><span class="lineno"> 8568</span>&#160;  <span class="comment">// Invalidate the block and loop dispositions cached for S. Dispositions of</span></div>
<div class="line"><a name="l08569"></a><span class="lineno"> 8569</span>&#160;  <span class="comment">// S&#39;s users may change if S&#39;s disposition changes (i.e. a user may change to</span></div>
<div class="line"><a name="l08570"></a><span class="lineno"> 8570</span>&#160;  <span class="comment">// loop-invariant, if S changes to loop invariant), so also invalidate</span></div>
<div class="line"><a name="l08571"></a><span class="lineno"> 8571</span>&#160;  <span class="comment">// dispositions of S&#39;s users recursively.</span></div>
<div class="line"><a name="l08572"></a><span class="lineno"> 8572</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> Worklist = {<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>};</div>
<div class="line"><a name="l08573"></a><span class="lineno"> 8573</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEV *, 8&gt;</a> Seen = {<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>};</div>
<div class="line"><a name="l08574"></a><span class="lineno"> 8574</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l08575"></a><span class="lineno"> 8575</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Curr = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l08576"></a><span class="lineno"> 8576</span>&#160;    <span class="keywordtype">bool</span> LoopDispoRemoved = LoopDispositions.erase(Curr);</div>
<div class="line"><a name="l08577"></a><span class="lineno"> 8577</span>&#160;    <span class="keywordtype">bool</span> BlockDispoRemoved = BlockDispositions.erase(Curr);</div>
<div class="line"><a name="l08578"></a><span class="lineno"> 8578</span>&#160;    <span class="keywordflow">if</span> (!LoopDispoRemoved &amp;&amp; !BlockDispoRemoved)</div>
<div class="line"><a name="l08579"></a><span class="lineno"> 8579</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08580"></a><span class="lineno"> 8580</span>&#160;    <span class="keyword">auto</span> <a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a> = SCEVUsers.find(Curr);</div>
<div class="line"><a name="l08581"></a><span class="lineno"> 8581</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a> != SCEVUsers.end())</div>
<div class="line"><a name="l08582"></a><span class="lineno"> 8582</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="classllvm_1_1User.html">User</a> : <a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a>-&gt;second)</div>
<div class="line"><a name="l08583"></a><span class="lineno"> 8583</span>&#160;        <span class="keywordflow">if</span> (Seen.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="classllvm_1_1User.html">User</a>).second)</div>
<div class="line"><a name="l08584"></a><span class="lineno"> 8584</span>&#160;          Worklist.push_back(<a class="code" href="classllvm_1_1User.html">User</a>);</div>
<div class="line"><a name="l08585"></a><span class="lineno"> 8585</span>&#160;  }</div>
<div class="line"><a name="l08586"></a><span class="lineno"> 8586</span>&#160;}</div>
<div class="line"><a name="l08587"></a><span class="lineno"> 8587</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l08588"></a><span class="lineno"> 8588</span>&#160;<span class="comment">/// Get the exact loop backedge taken count considering all loop exits. A</span></div>
<div class="line"><a name="l08589"></a><span class="lineno"> 8589</span>&#160;<span class="comment">/// computable result can only be returned for loops with all exiting blocks</span></div>
<div class="line"><a name="l08590"></a><span class="lineno"> 8590</span>&#160;<span class="comment">/// dominating the latch. howFarToZero assumes that the limit of each loop test</span></div>
<div class="line"><a name="l08591"></a><span class="lineno"> 8591</span>&#160;<span class="comment">/// is never skipped. This is a valid assumption as long as the loop exits via</span></div>
<div class="line"><a name="l08592"></a><span class="lineno"> 8592</span>&#160;<span class="comment">/// that test. For precise results, it is the caller&#39;s responsibility to specify</span></div>
<div class="line"><a name="l08593"></a><span class="lineno"> 8593</span>&#160;<span class="comment">/// the relevant loop exiting block using getExact(ExitingBlock, SE).</span></div>
<div class="line"><a name="l08594"></a><span class="lineno"> 8594</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l08595"></a><span class="lineno"> 8595</span>&#160;ScalarEvolution::BackedgeTakenInfo::getExact(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE,</div>
<div class="line"><a name="l08596"></a><span class="lineno"> 8596</span>&#160;                                             <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEVPredicate *, 4&gt;</a> *Preds)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08597"></a><span class="lineno"> 8597</span>&#160;  <span class="comment">// If any exits were not computable, the loop is not computable.</span></div>
<div class="line"><a name="l08598"></a><span class="lineno"> 8598</span>&#160;  <span class="keywordflow">if</span> (!isComplete() || ExitNotTaken.empty())</div>
<div class="line"><a name="l08599"></a><span class="lineno"> 8599</span>&#160;    <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08600"></a><span class="lineno"> 8600</span>&#160; </div>
<div class="line"><a name="l08601"></a><span class="lineno"> 8601</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l08602"></a><span class="lineno"> 8602</span>&#160;  <span class="comment">// All exiting blocks we have collected must dominate the only backedge.</span></div>
<div class="line"><a name="l08603"></a><span class="lineno"> 8603</span>&#160;  <span class="keywordflow">if</span> (!Latch)</div>
<div class="line"><a name="l08604"></a><span class="lineno"> 8604</span>&#160;    <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08605"></a><span class="lineno"> 8605</span>&#160; </div>
<div class="line"><a name="l08606"></a><span class="lineno"> 8606</span>&#160;  <span class="comment">// All exiting blocks we have gathered dominate loop&#39;s latch, so exact trip</span></div>
<div class="line"><a name="l08607"></a><span class="lineno"> 8607</span>&#160;  <span class="comment">// count is simply a minimum out of all these calculated exit counts.</span></div>
<div class="line"><a name="l08608"></a><span class="lineno"> 8608</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Ops;</div>
<div class="line"><a name="l08609"></a><span class="lineno"> 8609</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ENT : ExitNotTaken) {</div>
<div class="line"><a name="l08610"></a><span class="lineno"> 8610</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = ENT.ExactNotTaken;</div>
<div class="line"><a name="l08611"></a><span class="lineno"> 8611</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BECount != SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp; <span class="stringliteral">&quot;Bad exit SCEV!&quot;</span>);</div>
<div class="line"><a name="l08612"></a><span class="lineno"> 8612</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SE-&gt;DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(ENT.ExitingBlock, Latch) &amp;&amp;</div>
<div class="line"><a name="l08613"></a><span class="lineno"> 8613</span>&#160;           <span class="stringliteral">&quot;We should only have known counts for exiting blocks that dominate &quot;</span></div>
<div class="line"><a name="l08614"></a><span class="lineno"> 8614</span>&#160;           <span class="stringliteral">&quot;latch!&quot;</span>);</div>
<div class="line"><a name="l08615"></a><span class="lineno"> 8615</span>&#160; </div>
<div class="line"><a name="l08616"></a><span class="lineno"> 8616</span>&#160;    Ops.push_back(BECount);</div>
<div class="line"><a name="l08617"></a><span class="lineno"> 8617</span>&#160; </div>
<div class="line"><a name="l08618"></a><span class="lineno"> 8618</span>&#160;    <span class="keywordflow">if</span> (Preds)</div>
<div class="line"><a name="l08619"></a><span class="lineno"> 8619</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : ENT.Predicates)</div>
<div class="line"><a name="l08620"></a><span class="lineno"> 8620</span>&#160;        Preds-&gt;push_back(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l08621"></a><span class="lineno"> 8621</span>&#160; </div>
<div class="line"><a name="l08622"></a><span class="lineno"> 8622</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Preds || ENT.hasAlwaysTruePredicate()) &amp;&amp;</div>
<div class="line"><a name="l08623"></a><span class="lineno"> 8623</span>&#160;           <span class="stringliteral">&quot;Predicate should be always true!&quot;</span>);</div>
<div class="line"><a name="l08624"></a><span class="lineno"> 8624</span>&#160;  }</div>
<div class="line"><a name="l08625"></a><span class="lineno"> 8625</span>&#160; </div>
<div class="line"><a name="l08626"></a><span class="lineno"> 8626</span>&#160;  <span class="comment">// If an earlier exit exits on the first iteration (exit count zero), then</span></div>
<div class="line"><a name="l08627"></a><span class="lineno"> 8627</span>&#160;  <span class="comment">// a later poison exit count should not propagate into the result. This are</span></div>
<div class="line"><a name="l08628"></a><span class="lineno"> 8628</span>&#160;  <span class="comment">// exactly the semantics provided by umin_seq.</span></div>
<div class="line"><a name="l08629"></a><span class="lineno"> 8629</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">getUMinFromMismatchedTypes</a>(Ops, <span class="comment">/* Sequential */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l08630"></a><span class="lineno"> 8630</span>&#160;}</div>
<div class="line"><a name="l08631"></a><span class="lineno"> 8631</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l08632"></a><span class="lineno"> 8632</span>&#160;<span class="comment">/// Get the exact not taken count for this loop exit.</span></div>
<div class="line"><a name="l08633"></a><span class="lineno"> 8633</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l08634"></a><span class="lineno"> 8634</span>&#160;ScalarEvolution::BackedgeTakenInfo::getExact(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock,</div>
<div class="line"><a name="l08635"></a><span class="lineno"> 8635</span>&#160;                                             <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08636"></a><span class="lineno"> 8636</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ENT : ExitNotTaken)</div>
<div class="line"><a name="l08637"></a><span class="lineno"> 8637</span>&#160;    <span class="keywordflow">if</span> (ENT.ExitingBlock == ExitingBlock &amp;&amp; ENT.hasAlwaysTruePredicate())</div>
<div class="line"><a name="l08638"></a><span class="lineno"> 8638</span>&#160;      <span class="keywordflow">return</span> ENT.ExactNotTaken;</div>
<div class="line"><a name="l08639"></a><span class="lineno"> 8639</span>&#160; </div>
<div class="line"><a name="l08640"></a><span class="lineno"> 8640</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08641"></a><span class="lineno"> 8641</span>&#160;}</div>
<div class="line"><a name="l08642"></a><span class="lineno"> 8642</span>&#160; </div>
<div class="line"><a name="l08643"></a><span class="lineno"> 8643</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::BackedgeTakenInfo::getConstantMax(</div>
<div class="line"><a name="l08644"></a><span class="lineno"> 8644</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08645"></a><span class="lineno"> 8645</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ENT : ExitNotTaken)</div>
<div class="line"><a name="l08646"></a><span class="lineno"> 8646</span>&#160;    <span class="keywordflow">if</span> (ENT.ExitingBlock == ExitingBlock &amp;&amp; ENT.hasAlwaysTruePredicate())</div>
<div class="line"><a name="l08647"></a><span class="lineno"> 8647</span>&#160;      <span class="keywordflow">return</span> ENT.ConstantMaxNotTaken;</div>
<div class="line"><a name="l08648"></a><span class="lineno"> 8648</span>&#160; </div>
<div class="line"><a name="l08649"></a><span class="lineno"> 8649</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08650"></a><span class="lineno"> 8650</span>&#160;}</div>
<div class="line"><a name="l08651"></a><span class="lineno"> 8651</span>&#160; </div>
<div class="line"><a name="l08652"></a><span class="lineno"> 8652</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::BackedgeTakenInfo::getSymbolicMax(</div>
<div class="line"><a name="l08653"></a><span class="lineno"> 8653</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08654"></a><span class="lineno"> 8654</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ENT : ExitNotTaken)</div>
<div class="line"><a name="l08655"></a><span class="lineno"> 8655</span>&#160;    <span class="keywordflow">if</span> (ENT.ExitingBlock == ExitingBlock &amp;&amp; ENT.hasAlwaysTruePredicate())</div>
<div class="line"><a name="l08656"></a><span class="lineno"> 8656</span>&#160;      <span class="keywordflow">return</span> ENT.SymbolicMaxNotTaken;</div>
<div class="line"><a name="l08657"></a><span class="lineno"> 8657</span>&#160; </div>
<div class="line"><a name="l08658"></a><span class="lineno"> 8658</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08659"></a><span class="lineno"> 8659</span>&#160;}</div>
<div class="line"><a name="l08660"></a><span class="lineno"> 8660</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l08661"></a><span class="lineno"> 8661</span>&#160;<span class="comment">/// getConstantMax - Get the constant max backedge taken count for the loop.</span></div>
<div class="line"><a name="l08662"></a><span class="lineno"> 8662</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l08663"></a><span class="lineno"> 8663</span>&#160;ScalarEvolution::BackedgeTakenInfo::getConstantMax(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08664"></a><span class="lineno"> 8664</span>&#160;  <span class="keyword">auto</span> PredicateNotAlwaysTrue = [](<span class="keyword">const</span> ExitNotTakenInfo &amp;ENT) {</div>
<div class="line"><a name="l08665"></a><span class="lineno"> 8665</span>&#160;    <span class="keywordflow">return</span> !ENT.hasAlwaysTruePredicate();</div>
<div class="line"><a name="l08666"></a><span class="lineno"> 8666</span>&#160;  };</div>
<div class="line"><a name="l08667"></a><span class="lineno"> 8667</span>&#160; </div>
<div class="line"><a name="l08668"></a><span class="lineno"> 8668</span>&#160;  <span class="keywordflow">if</span> (!getConstantMax() || <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(ExitNotTaken, PredicateNotAlwaysTrue))</div>
<div class="line"><a name="l08669"></a><span class="lineno"> 8669</span>&#160;    <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08670"></a><span class="lineno"> 8670</span>&#160; </div>
<div class="line"><a name="l08671"></a><span class="lineno"> 8671</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;SCEVCouldNotCompute&gt;(getConstantMax()) ||</div>
<div class="line"><a name="l08672"></a><span class="lineno"> 8672</span>&#160;          isa&lt;SCEVConstant&gt;(getConstantMax())) &amp;&amp;</div>
<div class="line"><a name="l08673"></a><span class="lineno"> 8673</span>&#160;         <span class="stringliteral">&quot;No point in having a non-constant max backedge taken count!&quot;</span>);</div>
<div class="line"><a name="l08674"></a><span class="lineno"> 8674</span>&#160;  <span class="keywordflow">return</span> getConstantMax();</div>
<div class="line"><a name="l08675"></a><span class="lineno"> 8675</span>&#160;}</div>
<div class="line"><a name="l08676"></a><span class="lineno"> 8676</span>&#160; </div>
<div class="line"><a name="l08677"></a><span class="lineno"> 8677</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l08678"></a><span class="lineno"> 8678</span>&#160;ScalarEvolution::BackedgeTakenInfo::getSymbolicMax(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l08679"></a><span class="lineno"> 8679</span>&#160;                                                   <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE) {</div>
<div class="line"><a name="l08680"></a><span class="lineno"> 8680</span>&#160;  <span class="keywordflow">if</span> (!SymbolicMax)</div>
<div class="line"><a name="l08681"></a><span class="lineno"> 8681</span>&#160;    SymbolicMax = SE-&gt;computeSymbolicMaxBackedgeTakenCount(L);</div>
<div class="line"><a name="l08682"></a><span class="lineno"> 8682</span>&#160;  <span class="keywordflow">return</span> SymbolicMax;</div>
<div class="line"><a name="l08683"></a><span class="lineno"> 8683</span>&#160;}</div>
<div class="line"><a name="l08684"></a><span class="lineno"> 8684</span>&#160; </div>
<div class="line"><a name="l08685"></a><span class="lineno"> 8685</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::BackedgeTakenInfo::isConstantMaxOrZero(</div>
<div class="line"><a name="l08686"></a><span class="lineno"> 8686</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08687"></a><span class="lineno"> 8687</span>&#160;  <span class="keyword">auto</span> PredicateNotAlwaysTrue = [](<span class="keyword">const</span> ExitNotTakenInfo &amp;ENT) {</div>
<div class="line"><a name="l08688"></a><span class="lineno"> 8688</span>&#160;    <span class="keywordflow">return</span> !ENT.hasAlwaysTruePredicate();</div>
<div class="line"><a name="l08689"></a><span class="lineno"> 8689</span>&#160;  };</div>
<div class="line"><a name="l08690"></a><span class="lineno"> 8690</span>&#160;  <span class="keywordflow">return</span> MaxOrZero &amp;&amp; !<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(ExitNotTaken, PredicateNotAlwaysTrue);</div>
<div class="line"><a name="l08691"></a><span class="lineno"> 8691</span>&#160;}</div>
<div class="line"><a name="l08692"></a><span class="lineno"> 8692</span>&#160; </div>
<div class="line"><a name="l08693"></a><span class="lineno"><a class="line" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a1e319052f7cf5f2d9769db4ed04694ce"> 8693</a></span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a1e319052f7cf5f2d9769db4ed04694ce">ScalarEvolution::ExitLimit::ExitLimit</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)</div>
<div class="line"><a name="l08694"></a><span class="lineno"> 8694</span>&#160;    : <a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ExitLimit</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacestd.html">std</a>::nullopt) {}</div>
<div class="line"><a name="l08695"></a><span class="lineno"> 8695</span>&#160; </div>
<div class="line"><a name="l08696"></a><span class="lineno"><a class="line" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a1492b18c838b942dec3e6428262045cd"> 8696</a></span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a1e319052f7cf5f2d9769db4ed04694ce">ScalarEvolution::ExitLimit::ExitLimit</a>(</div>
<div class="line"><a name="l08697"></a><span class="lineno"> 8697</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ConstantMaxNotTaken,</div>
<div class="line"><a name="l08698"></a><span class="lineno"> 8698</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymbolicMaxNotTaken, <span class="keywordtype">bool</span> MaxOrZero,</div>
<div class="line"><a name="l08699"></a><span class="lineno"> 8699</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const SCEVPredicate *&gt;</a> *&gt; PredSetList)</div>
<div class="line"><a name="l08700"></a><span class="lineno"> 8700</span>&#160;    : ExactNotTaken(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>), ConstantMaxNotTaken(ConstantMaxNotTaken),</div>
<div class="line"><a name="l08701"></a><span class="lineno"> 8701</span>&#160;      SymbolicMaxNotTaken(SymbolicMaxNotTaken), MaxOrZero(MaxOrZero) {</div>
<div class="line"><a name="l08702"></a><span class="lineno"> 8702</span>&#160;  <span class="comment">// If we prove the max count is zero, so is the symbolic bound.  This happens</span></div>
<div class="line"><a name="l08703"></a><span class="lineno"> 8703</span>&#160;  <span class="comment">// in practice due to differences in a) how context sensitive we&#39;ve chosen</span></div>
<div class="line"><a name="l08704"></a><span class="lineno"> 8704</span>&#160;  <span class="comment">// to be and b) how we reason about bounds implied by UB.</span></div>
<div class="line"><a name="l08705"></a><span class="lineno"> 8705</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">ConstantMaxNotTaken</a>-&gt;<a class="code" href="classllvm_1_1SCEV.html#a4541962f9c18aacceb7243520eb15e1f">isZero</a>()) {</div>
<div class="line"><a name="l08706"></a><span class="lineno"> 8706</span>&#160;    this-&gt;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a5012e3204345ebea8f21e6e164fb49c4">ExactNotTaken</a> = E = <a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">ConstantMaxNotTaken</a>;</div>
<div class="line"><a name="l08707"></a><span class="lineno"> 8707</span>&#160;    this-&gt;SymbolicMaxNotTaken = <a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a5280609b4bd8ce312891524a2e2a870f">SymbolicMaxNotTaken</a> = <a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">ConstantMaxNotTaken</a>;</div>
<div class="line"><a name="l08708"></a><span class="lineno"> 8708</span>&#160;  }</div>
<div class="line"><a name="l08709"></a><span class="lineno"> 8709</span>&#160; </div>
<div class="line"><a name="l08710"></a><span class="lineno"> 8710</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a5012e3204345ebea8f21e6e164fb49c4">ExactNotTaken</a>) ||</div>
<div class="line"><a name="l08711"></a><span class="lineno"> 8711</span>&#160;          !isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">ConstantMaxNotTaken</a>)) &amp;&amp;</div>
<div class="line"><a name="l08712"></a><span class="lineno"> 8712</span>&#160;         <span class="stringliteral">&quot;Exact is not allowed to be less precise than Constant Max&quot;</span>);</div>
<div class="line"><a name="l08713"></a><span class="lineno"> 8713</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a5012e3204345ebea8f21e6e164fb49c4">ExactNotTaken</a>) ||</div>
<div class="line"><a name="l08714"></a><span class="lineno"> 8714</span>&#160;          !isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a5280609b4bd8ce312891524a2e2a870f">SymbolicMaxNotTaken</a>)) &amp;&amp;</div>
<div class="line"><a name="l08715"></a><span class="lineno"> 8715</span>&#160;         <span class="stringliteral">&quot;Exact is not allowed to be less precise than Symbolic Max&quot;</span>);</div>
<div class="line"><a name="l08716"></a><span class="lineno"> 8716</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a5280609b4bd8ce312891524a2e2a870f">SymbolicMaxNotTaken</a>) ||</div>
<div class="line"><a name="l08717"></a><span class="lineno"> 8717</span>&#160;          !isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">ConstantMaxNotTaken</a>)) &amp;&amp;</div>
<div class="line"><a name="l08718"></a><span class="lineno"> 8718</span>&#160;         <span class="stringliteral">&quot;Symbolic Max is not allowed to be less precise than Constant Max&quot;</span>);</div>
<div class="line"><a name="l08719"></a><span class="lineno"> 8719</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">ConstantMaxNotTaken</a>) ||</div>
<div class="line"><a name="l08720"></a><span class="lineno"> 8720</span>&#160;          isa&lt;SCEVConstant&gt;(<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">ConstantMaxNotTaken</a>)) &amp;&amp;</div>
<div class="line"><a name="l08721"></a><span class="lineno"> 8721</span>&#160;         <span class="stringliteral">&quot;No point in having a non-constant max backedge taken count!&quot;</span>);</div>
<div class="line"><a name="l08722"></a><span class="lineno"> 8722</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PredSet : PredSetList)</div>
<div class="line"><a name="l08723"></a><span class="lineno"> 8723</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : *PredSet)</div>
<div class="line"><a name="l08724"></a><span class="lineno"> 8724</span>&#160;      <a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a8c24105a8c2d6c26b939ea2bd2d8c71e">addPredicate</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l08725"></a><span class="lineno"> 8725</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>) || !<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;getType()-&gt;isPointerTy()) &amp;&amp;</div>
<div class="line"><a name="l08726"></a><span class="lineno"> 8726</span>&#160;         <span class="stringliteral">&quot;Backedge count should be int&quot;</span>);</div>
<div class="line"><a name="l08727"></a><span class="lineno"> 8727</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">ConstantMaxNotTaken</a>) ||</div>
<div class="line"><a name="l08728"></a><span class="lineno"> 8728</span>&#160;          !<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">ConstantMaxNotTaken</a>-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) &amp;&amp;</div>
<div class="line"><a name="l08729"></a><span class="lineno"> 8729</span>&#160;         <span class="stringliteral">&quot;Max backedge count should be int&quot;</span>);</div>
<div class="line"><a name="l08730"></a><span class="lineno"> 8730</span>&#160;}</div>
<div class="line"><a name="l08731"></a><span class="lineno"> 8731</span>&#160; </div>
<div class="line"><a name="l08732"></a><span class="lineno"><a class="line" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#ad356fe46e8c190bd301691402bddbe78"> 8732</a></span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a1e319052f7cf5f2d9769db4ed04694ce">ScalarEvolution::ExitLimit::ExitLimit</a>(</div>
<div class="line"><a name="l08733"></a><span class="lineno"> 8733</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ConstantMaxNotTaken,</div>
<div class="line"><a name="l08734"></a><span class="lineno"> 8734</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymbolicMaxNotTaken, <span class="keywordtype">bool</span> MaxOrZero,</div>
<div class="line"><a name="l08735"></a><span class="lineno"> 8735</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const SCEVPredicate *&gt;</a> &amp;PredSet)</div>
<div class="line"><a name="l08736"></a><span class="lineno"> 8736</span>&#160;    : <a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ExitLimit</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, ConstantMaxNotTaken, SymbolicMaxNotTaken, MaxOrZero,</div>
<div class="line"><a name="l08737"></a><span class="lineno"> 8737</span>&#160;                { &amp;PredSet }) {}</div>
<div class="line"><a name="l08738"></a><span class="lineno"> 8738</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l08739"></a><span class="lineno"> 8739</span>&#160;<span class="comment">/// Allocate memory for BackedgeTakenInfo and copy the not-taken count of each</span></div>
<div class="line"><a name="l08740"></a><span class="lineno"> 8740</span>&#160;<span class="comment">/// computable exit into a persistent ExitNotTakenInfo array.</span></div>
<div class="line"><a name="l08741"></a><span class="lineno"> 8741</span>&#160;<span class="comment"></span>ScalarEvolution::BackedgeTakenInfo::BackedgeTakenInfo(</div>
<div class="line"><a name="l08742"></a><span class="lineno"> 8742</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;ScalarEvolution::BackedgeTakenInfo::EdgeExitInfo&gt;</a> ExitCounts,</div>
<div class="line"><a name="l08743"></a><span class="lineno"> 8743</span>&#160;    <span class="keywordtype">bool</span> IsComplete, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ConstantMax, <span class="keywordtype">bool</span> MaxOrZero)</div>
<div class="line"><a name="l08744"></a><span class="lineno"> 8744</span>&#160;    : ConstantMax(ConstantMax), IsComplete(IsComplete), MaxOrZero(MaxOrZero) {</div>
<div class="line"><a name="l08745"></a><span class="lineno"> 8745</span>&#160;  <span class="keyword">using</span> EdgeExitInfo = ScalarEvolution::BackedgeTakenInfo::EdgeExitInfo;</div>
<div class="line"><a name="l08746"></a><span class="lineno"> 8746</span>&#160; </div>
<div class="line"><a name="l08747"></a><span class="lineno"> 8747</span>&#160;  ExitNotTaken.reserve(ExitCounts.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>());</div>
<div class="line"><a name="l08748"></a><span class="lineno"> 8748</span>&#160;  <a class="code" href="lib_2Target_2README_8txt.html#a69955d334349c9adad86cd95171dce4c">std::transform</a>(ExitCounts.<a class="code" href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">begin</a>(), ExitCounts.<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>(),</div>
<div class="line"><a name="l08749"></a><span class="lineno"> 8749</span>&#160;                 std::back_inserter(ExitNotTaken),</div>
<div class="line"><a name="l08750"></a><span class="lineno"> 8750</span>&#160;                 [&amp;](<span class="keyword">const</span> EdgeExitInfo &amp;EEI) {</div>
<div class="line"><a name="l08751"></a><span class="lineno"> 8751</span>&#160;        BasicBlock *ExitBB = EEI.first;</div>
<div class="line"><a name="l08752"></a><span class="lineno"> 8752</span>&#160;        const ExitLimit &amp;EL = EEI.second;</div>
<div class="line"><a name="l08753"></a><span class="lineno"> 8753</span>&#160;        return ExitNotTakenInfo(ExitBB, EL.ExactNotTaken,</div>
<div class="line"><a name="l08754"></a><span class="lineno"> 8754</span>&#160;                                EL.ConstantMaxNotTaken, EL.SymbolicMaxNotTaken,</div>
<div class="line"><a name="l08755"></a><span class="lineno"> 8755</span>&#160;                                EL.Predicates);</div>
<div class="line"><a name="l08756"></a><span class="lineno"> 8756</span>&#160;  });</div>
<div class="line"><a name="l08757"></a><span class="lineno"> 8757</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;SCEVCouldNotCompute&gt;(ConstantMax) ||</div>
<div class="line"><a name="l08758"></a><span class="lineno"> 8758</span>&#160;          isa&lt;SCEVConstant&gt;(ConstantMax)) &amp;&amp;</div>
<div class="line"><a name="l08759"></a><span class="lineno"> 8759</span>&#160;         <span class="stringliteral">&quot;No point in having a non-constant max backedge taken count!&quot;</span>);</div>
<div class="line"><a name="l08760"></a><span class="lineno"> 8760</span>&#160;}</div>
<div class="line"><a name="l08761"></a><span class="lineno"> 8761</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l08762"></a><span class="lineno"> 8762</span>&#160;<span class="comment">/// Compute the number of times the backedge of the specified loop will execute.</span></div>
<div class="line"><a name="l08763"></a><span class="lineno"> 8763</span>&#160;<span class="comment"></span>ScalarEvolution::BackedgeTakenInfo</div>
<div class="line"><a name="l08764"></a><span class="lineno"> 8764</span>&#160;ScalarEvolution::computeBackedgeTakenCount(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l08765"></a><span class="lineno"> 8765</span>&#160;                                           <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l08766"></a><span class="lineno"> 8766</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 8&gt;</a> ExitingBlocks;</div>
<div class="line"><a name="l08767"></a><span class="lineno"> 8767</span>&#160;  L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a46880fab7a9d5bd439725f2acc59b80d">getExitingBlocks</a>(ExitingBlocks);</div>
<div class="line"><a name="l08768"></a><span class="lineno"> 8768</span>&#160; </div>
<div class="line"><a name="l08769"></a><span class="lineno"> 8769</span>&#160;  <span class="keyword">using</span> EdgeExitInfo = ScalarEvolution::BackedgeTakenInfo::EdgeExitInfo;</div>
<div class="line"><a name="l08770"></a><span class="lineno"> 8770</span>&#160; </div>
<div class="line"><a name="l08771"></a><span class="lineno"> 8771</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;EdgeExitInfo, 4&gt;</a> ExitCounts;</div>
<div class="line"><a name="l08772"></a><span class="lineno"> 8772</span>&#160;  <span class="keywordtype">bool</span> CouldComputeBECount = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08773"></a><span class="lineno"> 8773</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>(); <span class="comment">// may be NULL.</span></div>
<div class="line"><a name="l08774"></a><span class="lineno"> 8774</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MustExitMaxBECount = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08775"></a><span class="lineno"> 8775</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MayExitMaxBECount = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08776"></a><span class="lineno"> 8776</span>&#160;  <span class="keywordtype">bool</span> MustExitMaxOrZero = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08777"></a><span class="lineno"> 8777</span>&#160; </div>
<div class="line"><a name="l08778"></a><span class="lineno"> 8778</span>&#160;  <span class="comment">// Compute the ExitLimit for each loop exit. Use this to populate ExitCounts</span></div>
<div class="line"><a name="l08779"></a><span class="lineno"> 8779</span>&#160;  <span class="comment">// and compute maxBECount.</span></div>
<div class="line"><a name="l08780"></a><span class="lineno"> 8780</span>&#160;  <span class="comment">// Do a union of all the predicates here.</span></div>
<div class="line"><a name="l08781"></a><span class="lineno"> 8781</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = ExitingBlocks.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l08782"></a><span class="lineno"> 8782</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitBB = ExitingBlocks[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l08783"></a><span class="lineno"> 8783</span>&#160; </div>
<div class="line"><a name="l08784"></a><span class="lineno"> 8784</span>&#160;    <span class="comment">// We canonicalize untaken exits to br (constant), ignore them so that</span></div>
<div class="line"><a name="l08785"></a><span class="lineno"> 8785</span>&#160;    <span class="comment">// proving an exit untaken doesn&#39;t negatively impact our ability to reason</span></div>
<div class="line"><a name="l08786"></a><span class="lineno"> 8786</span>&#160;    <span class="comment">// about the loop as whole.</span></div>
<div class="line"><a name="l08787"></a><span class="lineno"> 8787</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BI = dyn_cast&lt;BranchInst&gt;(ExitBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>()))</div>
<div class="line"><a name="l08788"></a><span class="lineno"> 8788</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;ConstantInt&gt;(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">getCondition</a>())) {</div>
<div class="line"><a name="l08789"></a><span class="lineno"> 8789</span>&#160;        <span class="keywordtype">bool</span> ExitIfTrue = !L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0));</div>
<div class="line"><a name="l08790"></a><span class="lineno"> 8790</span>&#160;        <span class="keywordflow">if</span> (ExitIfTrue == CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a882d55a6aa2028e1a5ad708b275334e0">isZero</a>())</div>
<div class="line"><a name="l08791"></a><span class="lineno"> 8791</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08792"></a><span class="lineno"> 8792</span>&#160;      }</div>
<div class="line"><a name="l08793"></a><span class="lineno"> 8793</span>&#160; </div>
<div class="line"><a name="l08794"></a><span class="lineno"> 8794</span>&#160;    ExitLimit EL = computeExitLimit(L, ExitBB, AllowPredicates);</div>
<div class="line"><a name="l08795"></a><span class="lineno"> 8795</span>&#160; </div>
<div class="line"><a name="l08796"></a><span class="lineno"> 8796</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((AllowPredicates || EL.Predicates.empty()) &amp;&amp;</div>
<div class="line"><a name="l08797"></a><span class="lineno"> 8797</span>&#160;           <span class="stringliteral">&quot;Predicated exit limit when predicates are not allowed!&quot;</span>);</div>
<div class="line"><a name="l08798"></a><span class="lineno"> 8798</span>&#160; </div>
<div class="line"><a name="l08799"></a><span class="lineno"> 8799</span>&#160;    <span class="comment">// 1. For each exit that can be computed, add an entry to ExitCounts.</span></div>
<div class="line"><a name="l08800"></a><span class="lineno"> 8800</span>&#160;    <span class="comment">// CouldComputeBECount is true only if all exits can be computed.</span></div>
<div class="line"><a name="l08801"></a><span class="lineno"> 8801</span>&#160;    <span class="keywordflow">if</span> (EL.ExactNotTaken == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l08802"></a><span class="lineno"> 8802</span>&#160;      <span class="comment">// We couldn&#39;t compute an exact value for this exit, so</span></div>
<div class="line"><a name="l08803"></a><span class="lineno"> 8803</span>&#160;      <span class="comment">// we won&#39;t be able to compute an exact value for the loop.</span></div>
<div class="line"><a name="l08804"></a><span class="lineno"> 8804</span>&#160;      CouldComputeBECount = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08805"></a><span class="lineno"> 8805</span>&#160;    <span class="comment">// Remember exit count if either exact or symbolic is known. Because</span></div>
<div class="line"><a name="l08806"></a><span class="lineno"> 8806</span>&#160;    <span class="comment">// Exact always implies symbolic, only check symbolic.</span></div>
<div class="line"><a name="l08807"></a><span class="lineno"> 8807</span>&#160;    <span class="keywordflow">if</span> (EL.SymbolicMaxNotTaken != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l08808"></a><span class="lineno"> 8808</span>&#160;      ExitCounts.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(ExitBB, EL);</div>
<div class="line"><a name="l08809"></a><span class="lineno"> 8809</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l08810"></a><span class="lineno"> 8810</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EL.ExactNotTaken == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp;</div>
<div class="line"><a name="l08811"></a><span class="lineno"> 8811</span>&#160;             <span class="stringliteral">&quot;Exact is known but symbolic isn&#39;t?&quot;</span>);</div>
<div class="line"><a name="l08812"></a><span class="lineno"> 8812</span>&#160; </div>
<div class="line"><a name="l08813"></a><span class="lineno"> 8813</span>&#160;    <span class="comment">// 2. Derive the loop&#39;s MaxBECount from each exit&#39;s max number of</span></div>
<div class="line"><a name="l08814"></a><span class="lineno"> 8814</span>&#160;    <span class="comment">// non-exiting iterations. Partition the loop exits into two kinds:</span></div>
<div class="line"><a name="l08815"></a><span class="lineno"> 8815</span>&#160;    <span class="comment">// LoopMustExits and LoopMayExits.</span></div>
<div class="line"><a name="l08816"></a><span class="lineno"> 8816</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08817"></a><span class="lineno"> 8817</span>&#160;    <span class="comment">// If the exit dominates the loop latch, it is a LoopMustExit otherwise it</span></div>
<div class="line"><a name="l08818"></a><span class="lineno"> 8818</span>&#160;    <span class="comment">// is a LoopMayExit.  If any computable LoopMustExit is found, then</span></div>
<div class="line"><a name="l08819"></a><span class="lineno"> 8819</span>&#160;    <span class="comment">// MaxBECount is the minimum EL.ConstantMaxNotTaken of computable</span></div>
<div class="line"><a name="l08820"></a><span class="lineno"> 8820</span>&#160;    <span class="comment">// LoopMustExits. Otherwise, MaxBECount is conservatively the maximum</span></div>
<div class="line"><a name="l08821"></a><span class="lineno"> 8821</span>&#160;    <span class="comment">// EL.ConstantMaxNotTaken, where CouldNotCompute is considered greater than</span></div>
<div class="line"><a name="l08822"></a><span class="lineno"> 8822</span>&#160;    <span class="comment">// any</span></div>
<div class="line"><a name="l08823"></a><span class="lineno"> 8823</span>&#160;    <span class="comment">// computable EL.ConstantMaxNotTaken.</span></div>
<div class="line"><a name="l08824"></a><span class="lineno"> 8824</span>&#160;    <span class="keywordflow">if</span> (EL.ConstantMaxNotTaken != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp; Latch &amp;&amp;</div>
<div class="line"><a name="l08825"></a><span class="lineno"> 8825</span>&#160;        DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(ExitBB, Latch)) {</div>
<div class="line"><a name="l08826"></a><span class="lineno"> 8826</span>&#160;      <span class="keywordflow">if</span> (!MustExitMaxBECount) {</div>
<div class="line"><a name="l08827"></a><span class="lineno"> 8827</span>&#160;        MustExitMaxBECount = EL.ConstantMaxNotTaken;</div>
<div class="line"><a name="l08828"></a><span class="lineno"> 8828</span>&#160;        MustExitMaxOrZero = EL.MaxOrZero;</div>
<div class="line"><a name="l08829"></a><span class="lineno"> 8829</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08830"></a><span class="lineno"> 8830</span>&#160;        MustExitMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">getUMinFromMismatchedTypes</a>(MustExitMaxBECount,</div>
<div class="line"><a name="l08831"></a><span class="lineno"> 8831</span>&#160;                                                        EL.ConstantMaxNotTaken);</div>
<div class="line"><a name="l08832"></a><span class="lineno"> 8832</span>&#160;      }</div>
<div class="line"><a name="l08833"></a><span class="lineno"> 8833</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MayExitMaxBECount != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()) {</div>
<div class="line"><a name="l08834"></a><span class="lineno"> 8834</span>&#160;      <span class="keywordflow">if</span> (!MayExitMaxBECount || EL.ConstantMaxNotTaken == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l08835"></a><span class="lineno"> 8835</span>&#160;        MayExitMaxBECount = EL.ConstantMaxNotTaken;</div>
<div class="line"><a name="l08836"></a><span class="lineno"> 8836</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08837"></a><span class="lineno"> 8837</span>&#160;        MayExitMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a254484ad2e230cf0db1f2c779abfe39c">getUMaxFromMismatchedTypes</a>(MayExitMaxBECount,</div>
<div class="line"><a name="l08838"></a><span class="lineno"> 8838</span>&#160;                                                       EL.ConstantMaxNotTaken);</div>
<div class="line"><a name="l08839"></a><span class="lineno"> 8839</span>&#160;      }</div>
<div class="line"><a name="l08840"></a><span class="lineno"> 8840</span>&#160;    }</div>
<div class="line"><a name="l08841"></a><span class="lineno"> 8841</span>&#160;  }</div>
<div class="line"><a name="l08842"></a><span class="lineno"> 8842</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = MustExitMaxBECount ? MustExitMaxBECount :</div>
<div class="line"><a name="l08843"></a><span class="lineno"> 8843</span>&#160;    (MayExitMaxBECount ? MayExitMaxBECount : <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>());</div>
<div class="line"><a name="l08844"></a><span class="lineno"> 8844</span>&#160;  <span class="comment">// The loop backedge will be taken the maximum or zero times if there&#39;s</span></div>
<div class="line"><a name="l08845"></a><span class="lineno"> 8845</span>&#160;  <span class="comment">// a single exit that must be taken the maximum or zero times.</span></div>
<div class="line"><a name="l08846"></a><span class="lineno"> 8846</span>&#160;  <span class="keywordtype">bool</span> MaxOrZero = (MustExitMaxOrZero &amp;&amp; ExitingBlocks.size() == 1);</div>
<div class="line"><a name="l08847"></a><span class="lineno"> 8847</span>&#160; </div>
<div class="line"><a name="l08848"></a><span class="lineno"> 8848</span>&#160;  <span class="comment">// Remember which SCEVs are used in exit limits for invalidation purposes.</span></div>
<div class="line"><a name="l08849"></a><span class="lineno"> 8849</span>&#160;  <span class="comment">// We only care about non-constant SCEVs here, so we can ignore</span></div>
<div class="line"><a name="l08850"></a><span class="lineno"> 8850</span>&#160;  <span class="comment">// EL.ConstantMaxNotTaken</span></div>
<div class="line"><a name="l08851"></a><span class="lineno"> 8851</span>&#160;  <span class="comment">// and MaxBECount, which must be SCEVConstant.</span></div>
<div class="line"><a name="l08852"></a><span class="lineno"> 8852</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : ExitCounts) {</div>
<div class="line"><a name="l08853"></a><span class="lineno"> 8853</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(Pair.second.ExactNotTaken))</div>
<div class="line"><a name="l08854"></a><span class="lineno"> 8854</span>&#160;      BECountUsers[Pair.second.ExactNotTaken].insert({L, AllowPredicates});</div>
<div class="line"><a name="l08855"></a><span class="lineno"> 8855</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(Pair.second.SymbolicMaxNotTaken))</div>
<div class="line"><a name="l08856"></a><span class="lineno"> 8856</span>&#160;      BECountUsers[Pair.second.SymbolicMaxNotTaken].insert(</div>
<div class="line"><a name="l08857"></a><span class="lineno"> 8857</span>&#160;          {L, AllowPredicates});</div>
<div class="line"><a name="l08858"></a><span class="lineno"> 8858</span>&#160;  }</div>
<div class="line"><a name="l08859"></a><span class="lineno"> 8859</span>&#160;  <span class="keywordflow">return</span> BackedgeTakenInfo(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ExitCounts), CouldComputeBECount,</div>
<div class="line"><a name="l08860"></a><span class="lineno"> 8860</span>&#160;                           MaxBECount, MaxOrZero);</div>
<div class="line"><a name="l08861"></a><span class="lineno"> 8861</span>&#160;}</div>
<div class="line"><a name="l08862"></a><span class="lineno"> 8862</span>&#160; </div>
<div class="line"><a name="l08863"></a><span class="lineno"> 8863</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a></div>
<div class="line"><a name="l08864"></a><span class="lineno"> 8864</span>&#160;ScalarEvolution::computeExitLimit(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock,</div>
<div class="line"><a name="l08865"></a><span class="lineno"> 8865</span>&#160;                                      <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l08866"></a><span class="lineno"> 8866</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(ExitingBlock) &amp;&amp; <span class="stringliteral">&quot;Exit count for non-loop block?&quot;</span>);</div>
<div class="line"><a name="l08867"></a><span class="lineno"> 8867</span>&#160;  <span class="comment">// If our exiting block does not dominate the latch, then its connection with</span></div>
<div class="line"><a name="l08868"></a><span class="lineno"> 8868</span>&#160;  <span class="comment">// loop&#39;s exit limit may be far from trivial.</span></div>
<div class="line"><a name="l08869"></a><span class="lineno"> 8869</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l08870"></a><span class="lineno"> 8870</span>&#160;  <span class="keywordflow">if</span> (!Latch || !DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(ExitingBlock, Latch))</div>
<div class="line"><a name="l08871"></a><span class="lineno"> 8871</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08872"></a><span class="lineno"> 8872</span>&#160; </div>
<div class="line"><a name="l08873"></a><span class="lineno"> 8873</span>&#160;  <span class="keywordtype">bool</span> IsOnlyExit = (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#adf6f53d7652b471c995b7d10f3dd2729">getExitingBlock</a>() != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l08874"></a><span class="lineno"> 8874</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a> = ExitingBlock-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>();</div>
<div class="line"><a name="l08875"></a><span class="lineno"> 8875</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = dyn_cast&lt;BranchInst&gt;(<a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>)) {</div>
<div class="line"><a name="l08876"></a><span class="lineno"> 8876</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a7e4be8b16fbd68c9045a388904044e01">isConditional</a>() &amp;&amp; <span class="stringliteral">&quot;If unconditional, it can&#39;t be in loop!&quot;</span>);</div>
<div class="line"><a name="l08877"></a><span class="lineno"> 8877</span>&#160;    <span class="keywordtype">bool</span> ExitIfTrue = !L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0));</div>
<div class="line"><a name="l08878"></a><span class="lineno"> 8878</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ExitIfTrue == L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(1)) &amp;&amp;</div>
<div class="line"><a name="l08879"></a><span class="lineno"> 8879</span>&#160;           <span class="stringliteral">&quot;It should have one successor in loop and one exit block!&quot;</span>);</div>
<div class="line"><a name="l08880"></a><span class="lineno"> 8880</span>&#160;    <span class="comment">// Proceed to the next level to examine the exit condition expression.</span></div>
<div class="line"><a name="l08881"></a><span class="lineno"> 8881</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#acbc087c889e3c823c52a44b3b18ae1ff">computeExitLimitFromCond</a>(</div>
<div class="line"><a name="l08882"></a><span class="lineno"> 8882</span>&#160;        L, BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">getCondition</a>(), ExitIfTrue,</div>
<div class="line"><a name="l08883"></a><span class="lineno"> 8883</span>&#160;        <span class="comment">/*ControlsExit=*/</span>IsOnlyExit, AllowPredicates);</div>
<div class="line"><a name="l08884"></a><span class="lineno"> 8884</span>&#160;  }</div>
<div class="line"><a name="l08885"></a><span class="lineno"> 8885</span>&#160; </div>
<div class="line"><a name="l08886"></a><span class="lineno"> 8886</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SwitchInst.html">SwitchInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;SwitchInst&gt;(<a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>)) {</div>
<div class="line"><a name="l08887"></a><span class="lineno"> 8887</span>&#160;    <span class="comment">// For switch, make sure that there is a single exit from the loop.</span></div>
<div class="line"><a name="l08888"></a><span class="lineno"> 8888</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Exit = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08889"></a><span class="lineno"> 8889</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *SBB : <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(ExitingBlock))</div>
<div class="line"><a name="l08890"></a><span class="lineno"> 8890</span>&#160;      <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(SBB)) {</div>
<div class="line"><a name="l08891"></a><span class="lineno"> 8891</span>&#160;        <span class="keywordflow">if</span> (Exit) <span class="comment">// Multiple exit successors.</span></div>
<div class="line"><a name="l08892"></a><span class="lineno"> 8892</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08893"></a><span class="lineno"> 8893</span>&#160;        Exit = <a class="code" href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aa5d99076d052295315dc1e2dd067d2ad7">SBB</a>;</div>
<div class="line"><a name="l08894"></a><span class="lineno"> 8894</span>&#160;      }</div>
<div class="line"><a name="l08895"></a><span class="lineno"> 8895</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Exit &amp;&amp; <span class="stringliteral">&quot;Exiting block must have at least one exit&quot;</span>);</div>
<div class="line"><a name="l08896"></a><span class="lineno"> 8896</span>&#160;    <span class="keywordflow">return</span> computeExitLimitFromSingleExitSwitch(L, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, Exit,</div>
<div class="line"><a name="l08897"></a><span class="lineno"> 8897</span>&#160;                                                <span class="comment">/*ControlsExit=*/</span>IsOnlyExit);</div>
<div class="line"><a name="l08898"></a><span class="lineno"> 8898</span>&#160;  }</div>
<div class="line"><a name="l08899"></a><span class="lineno"> 8899</span>&#160; </div>
<div class="line"><a name="l08900"></a><span class="lineno"> 8900</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08901"></a><span class="lineno"> 8901</span>&#160;}</div>
<div class="line"><a name="l08902"></a><span class="lineno"> 8902</span>&#160; </div>
<div class="line"><a name="l08903"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#acbc087c889e3c823c52a44b3b18ae1ff"> 8903</a></span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a> <a class="code" href="classllvm_1_1ScalarEvolution.html#acbc087c889e3c823c52a44b3b18ae1ff">ScalarEvolution::computeExitLimitFromCond</a>(</div>
<div class="line"><a name="l08904"></a><span class="lineno"> 8904</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1Value.html">Value</a> *ExitCond, <span class="keywordtype">bool</span> ExitIfTrue,</div>
<div class="line"><a name="l08905"></a><span class="lineno"> 8905</span>&#160;    <span class="keywordtype">bool</span> ControlsExit, <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l08906"></a><span class="lineno"> 8906</span>&#160;  ScalarEvolution::ExitLimitCacheTy Cache(L, ExitIfTrue, AllowPredicates);</div>
<div class="line"><a name="l08907"></a><span class="lineno"> 8907</span>&#160;  <span class="keywordflow">return</span> computeExitLimitFromCondCached(Cache, L, ExitCond, ExitIfTrue,</div>
<div class="line"><a name="l08908"></a><span class="lineno"> 8908</span>&#160;                                        ControlsExit, AllowPredicates);</div>
<div class="line"><a name="l08909"></a><span class="lineno"> 8909</span>&#160;}</div>
<div class="line"><a name="l08910"></a><span class="lineno"> 8910</span>&#160; </div>
<div class="line"><a name="l08911"></a><span class="lineno"> 8911</span>&#160;std::optional&lt;ScalarEvolution::ExitLimit&gt;</div>
<div class="line"><a name="l08912"></a><span class="lineno"> 8912</span>&#160;<a class="code" href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">ScalarEvolution::ExitLimitCache::find</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1Value.html">Value</a> *ExitCond,</div>
<div class="line"><a name="l08913"></a><span class="lineno"> 8913</span>&#160;                                      <span class="keywordtype">bool</span> ExitIfTrue, <span class="keywordtype">bool</span> ControlsExit,</div>
<div class="line"><a name="l08914"></a><span class="lineno"> 8914</span>&#160;                                      <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l08915"></a><span class="lineno"> 8915</span>&#160;  (void)this-&gt;L;</div>
<div class="line"><a name="l08916"></a><span class="lineno"> 8916</span>&#160;  (void)this-&gt;ExitIfTrue;</div>
<div class="line"><a name="l08917"></a><span class="lineno"> 8917</span>&#160;  (void)this-&gt;AllowPredicates;</div>
<div class="line"><a name="l08918"></a><span class="lineno"> 8918</span>&#160; </div>
<div class="line"><a name="l08919"></a><span class="lineno"> 8919</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(this-&gt;L == L &amp;&amp; this-&gt;ExitIfTrue == ExitIfTrue &amp;&amp;</div>
<div class="line"><a name="l08920"></a><span class="lineno"> 8920</span>&#160;         this-&gt;AllowPredicates == AllowPredicates &amp;&amp;</div>
<div class="line"><a name="l08921"></a><span class="lineno"> 8921</span>&#160;         <span class="stringliteral">&quot;Variance in assumed invariant key components!&quot;</span>);</div>
<div class="line"><a name="l08922"></a><span class="lineno"> 8922</span>&#160;  <span class="keyword">auto</span> Itr = TripCountMap.find({ExitCond, ControlsExit});</div>
<div class="line"><a name="l08923"></a><span class="lineno"> 8923</span>&#160;  <span class="keywordflow">if</span> (Itr == TripCountMap.end())</div>
<div class="line"><a name="l08924"></a><span class="lineno"> 8924</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l08925"></a><span class="lineno"> 8925</span>&#160;  <span class="keywordflow">return</span> Itr-&gt;second;</div>
<div class="line"><a name="l08926"></a><span class="lineno"> 8926</span>&#160;}</div>
<div class="line"><a name="l08927"></a><span class="lineno"> 8927</span>&#160; </div>
<div class="line"><a name="l08928"></a><span class="lineno"> 8928</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::ExitLimitCache::insert(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1Value.html">Value</a> *ExitCond,</div>
<div class="line"><a name="l08929"></a><span class="lineno"> 8929</span>&#160;                                             <span class="keywordtype">bool</span> ExitIfTrue,</div>
<div class="line"><a name="l08930"></a><span class="lineno"> 8930</span>&#160;                                             <span class="keywordtype">bool</span> ControlsExit,</div>
<div class="line"><a name="l08931"></a><span class="lineno"> 8931</span>&#160;                                             <span class="keywordtype">bool</span> AllowPredicates,</div>
<div class="line"><a name="l08932"></a><span class="lineno"> 8932</span>&#160;                                             <span class="keyword">const</span> ExitLimit &amp;EL) {</div>
<div class="line"><a name="l08933"></a><span class="lineno"> 8933</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(this-&gt;L == L &amp;&amp; this-&gt;ExitIfTrue == ExitIfTrue &amp;&amp;</div>
<div class="line"><a name="l08934"></a><span class="lineno"> 8934</span>&#160;         this-&gt;AllowPredicates == AllowPredicates &amp;&amp;</div>
<div class="line"><a name="l08935"></a><span class="lineno"> 8935</span>&#160;         <span class="stringliteral">&quot;Variance in assumed invariant key components!&quot;</span>);</div>
<div class="line"><a name="l08936"></a><span class="lineno"> 8936</span>&#160; </div>
<div class="line"><a name="l08937"></a><span class="lineno"> 8937</span>&#160;  <span class="keyword">auto</span> InsertResult = TripCountMap.insert({{ExitCond, ControlsExit}, EL});</div>
<div class="line"><a name="l08938"></a><span class="lineno"> 8938</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InsertResult.second &amp;&amp; <span class="stringliteral">&quot;Expected successful insertion!&quot;</span>);</div>
<div class="line"><a name="l08939"></a><span class="lineno"> 8939</span>&#160;  (void)InsertResult;</div>
<div class="line"><a name="l08940"></a><span class="lineno"> 8940</span>&#160;  (void)ExitIfTrue;</div>
<div class="line"><a name="l08941"></a><span class="lineno"> 8941</span>&#160;}</div>
<div class="line"><a name="l08942"></a><span class="lineno"> 8942</span>&#160; </div>
<div class="line"><a name="l08943"></a><span class="lineno"> 8943</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a> ScalarEvolution::computeExitLimitFromCondCached(</div>
<div class="line"><a name="l08944"></a><span class="lineno"> 8944</span>&#160;    ExitLimitCacheTy &amp;Cache, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1Value.html">Value</a> *ExitCond, <span class="keywordtype">bool</span> ExitIfTrue,</div>
<div class="line"><a name="l08945"></a><span class="lineno"> 8945</span>&#160;    <span class="keywordtype">bool</span> ControlsExit, <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l08946"></a><span class="lineno"> 8946</span>&#160; </div>
<div class="line"><a name="l08947"></a><span class="lineno"> 8947</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> MaybeEL =</div>
<div class="line"><a name="l08948"></a><span class="lineno"> 8948</span>&#160;          Cache.find(L, ExitCond, ExitIfTrue, ControlsExit, AllowPredicates))</div>
<div class="line"><a name="l08949"></a><span class="lineno"> 8949</span>&#160;    <span class="keywordflow">return</span> *MaybeEL;</div>
<div class="line"><a name="l08950"></a><span class="lineno"> 8950</span>&#160; </div>
<div class="line"><a name="l08951"></a><span class="lineno"> 8951</span>&#160;  ExitLimit EL = computeExitLimitFromCondImpl(Cache, L, ExitCond, ExitIfTrue,</div>
<div class="line"><a name="l08952"></a><span class="lineno"> 8952</span>&#160;                                              ControlsExit, AllowPredicates);</div>
<div class="line"><a name="l08953"></a><span class="lineno"> 8953</span>&#160;  Cache.insert(L, ExitCond, ExitIfTrue, ControlsExit, AllowPredicates, EL);</div>
<div class="line"><a name="l08954"></a><span class="lineno"> 8954</span>&#160;  <span class="keywordflow">return</span> EL;</div>
<div class="line"><a name="l08955"></a><span class="lineno"> 8955</span>&#160;}</div>
<div class="line"><a name="l08956"></a><span class="lineno"> 8956</span>&#160; </div>
<div class="line"><a name="l08957"></a><span class="lineno"> 8957</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a> ScalarEvolution::computeExitLimitFromCondImpl(</div>
<div class="line"><a name="l08958"></a><span class="lineno"> 8958</span>&#160;    ExitLimitCacheTy &amp;Cache, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1Value.html">Value</a> *ExitCond, <span class="keywordtype">bool</span> ExitIfTrue,</div>
<div class="line"><a name="l08959"></a><span class="lineno"> 8959</span>&#160;    <span class="keywordtype">bool</span> ControlsExit, <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l08960"></a><span class="lineno"> 8960</span>&#160;  <span class="comment">// Handle BinOp conditions (And, Or).</span></div>
<div class="line"><a name="l08961"></a><span class="lineno"> 8961</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> LimitFromBinOp = computeExitLimitFromCondFromBinOp(</div>
<div class="line"><a name="l08962"></a><span class="lineno"> 8962</span>&#160;          Cache, L, ExitCond, ExitIfTrue, ControlsExit, AllowPredicates))</div>
<div class="line"><a name="l08963"></a><span class="lineno"> 8963</span>&#160;    <span class="keywordflow">return</span> *LimitFromBinOp;</div>
<div class="line"><a name="l08964"></a><span class="lineno"> 8964</span>&#160; </div>
<div class="line"><a name="l08965"></a><span class="lineno"> 8965</span>&#160;  <span class="comment">// With an icmp, it may be feasible to compute an exact backedge-taken count.</span></div>
<div class="line"><a name="l08966"></a><span class="lineno"> 8966</span>&#160;  <span class="comment">// Proceed to the next level to examine the icmp.</span></div>
<div class="line"><a name="l08967"></a><span class="lineno"> 8967</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ExitCondICmp = dyn_cast&lt;ICmpInst&gt;(ExitCond)) {</div>
<div class="line"><a name="l08968"></a><span class="lineno"> 8968</span>&#160;    ExitLimit EL =</div>
<div class="line"><a name="l08969"></a><span class="lineno"> 8969</span>&#160;        computeExitLimitFromICmp(L, ExitCondICmp, ExitIfTrue, ControlsExit);</div>
<div class="line"><a name="l08970"></a><span class="lineno"> 8970</span>&#160;    <span class="keywordflow">if</span> (EL.hasFullInfo() || !AllowPredicates)</div>
<div class="line"><a name="l08971"></a><span class="lineno"> 8971</span>&#160;      <span class="keywordflow">return</span> EL;</div>
<div class="line"><a name="l08972"></a><span class="lineno"> 8972</span>&#160; </div>
<div class="line"><a name="l08973"></a><span class="lineno"> 8973</span>&#160;    <span class="comment">// Try again, but use SCEV predicates this time.</span></div>
<div class="line"><a name="l08974"></a><span class="lineno"> 8974</span>&#160;    <span class="keywordflow">return</span> computeExitLimitFromICmp(L, ExitCondICmp, ExitIfTrue, ControlsExit,</div>
<div class="line"><a name="l08975"></a><span class="lineno"> 8975</span>&#160;                                    <span class="comment">/*AllowPredicates=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l08976"></a><span class="lineno"> 8976</span>&#160;  }</div>
<div class="line"><a name="l08977"></a><span class="lineno"> 8977</span>&#160; </div>
<div class="line"><a name="l08978"></a><span class="lineno"> 8978</span>&#160;  <span class="comment">// Check for a constant condition. These are normally stripped out by</span></div>
<div class="line"><a name="l08979"></a><span class="lineno"> 8979</span>&#160;  <span class="comment">// SimplifyCFG, but ScalarEvolution may be used by a pass which wishes to</span></div>
<div class="line"><a name="l08980"></a><span class="lineno"> 8980</span>&#160;  <span class="comment">// preserve the CFG and is temporarily leaving constant conditions</span></div>
<div class="line"><a name="l08981"></a><span class="lineno"> 8981</span>&#160;  <span class="comment">// in place.</span></div>
<div class="line"><a name="l08982"></a><span class="lineno"> 8982</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(ExitCond)) {</div>
<div class="line"><a name="l08983"></a><span class="lineno"> 8983</span>&#160;    <span class="keywordflow">if</span> (ExitIfTrue == !CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>())</div>
<div class="line"><a name="l08984"></a><span class="lineno"> 8984</span>&#160;      <span class="comment">// The backedge is always taken.</span></div>
<div class="line"><a name="l08985"></a><span class="lineno"> 8985</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l08986"></a><span class="lineno"> 8986</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l08987"></a><span class="lineno"> 8987</span>&#160;      <span class="comment">// The backedge is never taken.</span></div>
<div class="line"><a name="l08988"></a><span class="lineno"> 8988</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#afe3ce7fc89f36474eb0369cbb792c05a">getType</a>());</div>
<div class="line"><a name="l08989"></a><span class="lineno"> 8989</span>&#160;  }</div>
<div class="line"><a name="l08990"></a><span class="lineno"> 8990</span>&#160; </div>
<div class="line"><a name="l08991"></a><span class="lineno"> 8991</span>&#160;  <span class="comment">// If we&#39;re exiting based on the overflow flag of an x.with.overflow intrinsic</span></div>
<div class="line"><a name="l08992"></a><span class="lineno"> 8992</span>&#160;  <span class="comment">// with a constant step, we can form an equivalent icmp predicate and figure</span></div>
<div class="line"><a name="l08993"></a><span class="lineno"> 8993</span>&#160;  <span class="comment">// out how many iterations will be taken before we exit.</span></div>
<div class="line"><a name="l08994"></a><span class="lineno"> 8994</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1WithOverflowInst.html">WithOverflowInst</a> *WO;</div>
<div class="line"><a name="l08995"></a><span class="lineno"> 8995</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l08996"></a><span class="lineno"> 8996</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(ExitCond, m_ExtractValue&lt;1&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#adc96aac34b80bf17222592bce8f95079">m_WithOverflowInst</a>(WO))) &amp;&amp;</div>
<div class="line"><a name="l08997"></a><span class="lineno"> 8997</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#a6822c506d77c8ba56e85bee5cd1ed01b">getRHS</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) {</div>
<div class="line"><a name="l08998"></a><span class="lineno"> 8998</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> NWR =</div>
<div class="line"><a name="l08999"></a><span class="lineno"> 8999</span>&#160;      <a class="code" href="classllvm_1_1ConstantRange.html#aeddb6f4f9ffcb9e893e5cb321b7a7f83">ConstantRange::makeExactNoWrapRegion</a>(WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#aa73e62aac1753cb7b3c3aaccef3df8b1">getBinaryOp</a>(), *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div>
<div class="line"><a name="l09000"></a><span class="lineno"> 9000</span>&#160;                                           WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#a3f8c92c02ddf72337cdd32207498e731">getNoWrapKind</a>());</div>
<div class="line"><a name="l09001"></a><span class="lineno"> 9001</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l09002"></a><span class="lineno"> 9002</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewRHSC, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l09003"></a><span class="lineno"> 9003</span>&#160;    NWR.<a class="code" href="classllvm_1_1ConstantRange.html#a1616515fc811646b8cc5e6625e36b954">getEquivalentICmp</a>(Pred, NewRHSC, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l09004"></a><span class="lineno"> 9004</span>&#160;    <span class="keywordflow">if</span> (!ExitIfTrue)</div>
<div class="line"><a name="l09005"></a><span class="lineno"> 9005</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">ICmpInst::getInversePredicate</a>(Pred);</div>
<div class="line"><a name="l09006"></a><span class="lineno"> 9006</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#a8818b44063f9f3339d4ced72bd76b107">getLHS</a>());</div>
<div class="line"><a name="l09007"></a><span class="lineno"> 9007</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> != 0)</div>
<div class="line"><a name="l09008"></a><span class="lineno"> 9008</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>));</div>
<div class="line"><a name="l09009"></a><span class="lineno"> 9009</span>&#160;    <span class="keyword">auto</span> EL = computeExitLimitFromICmp(L, Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(NewRHSC),</div>
<div class="line"><a name="l09010"></a><span class="lineno"> 9010</span>&#160;                                       ControlsExit, AllowPredicates);</div>
<div class="line"><a name="l09011"></a><span class="lineno"> 9011</span>&#160;    <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div>
<div class="line"><a name="l09012"></a><span class="lineno"> 9012</span>&#160;  }</div>
<div class="line"><a name="l09013"></a><span class="lineno"> 9013</span>&#160; </div>
<div class="line"><a name="l09014"></a><span class="lineno"> 9014</span>&#160;  <span class="comment">// If it&#39;s not an integer or pointer comparison then compute it the hard way.</span></div>
<div class="line"><a name="l09015"></a><span class="lineno"> 9015</span>&#160;  <span class="keywordflow">return</span> computeExitCountExhaustively(L, ExitCond, ExitIfTrue);</div>
<div class="line"><a name="l09016"></a><span class="lineno"> 9016</span>&#160;}</div>
<div class="line"><a name="l09017"></a><span class="lineno"> 9017</span>&#160; </div>
<div class="line"><a name="l09018"></a><span class="lineno"> 9018</span>&#160;std::optional&lt;ScalarEvolution::ExitLimit&gt;</div>
<div class="line"><a name="l09019"></a><span class="lineno"> 9019</span>&#160;ScalarEvolution::computeExitLimitFromCondFromBinOp(</div>
<div class="line"><a name="l09020"></a><span class="lineno"> 9020</span>&#160;    ExitLimitCacheTy &amp;Cache, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1Value.html">Value</a> *ExitCond, <span class="keywordtype">bool</span> ExitIfTrue,</div>
<div class="line"><a name="l09021"></a><span class="lineno"> 9021</span>&#160;    <span class="keywordtype">bool</span> ControlsExit, <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l09022"></a><span class="lineno"> 9022</span>&#160;  <span class="comment">// Check if the controlling expression for this loop is an And or Or.</span></div>
<div class="line"><a name="l09023"></a><span class="lineno"> 9023</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, *Op1;</div>
<div class="line"><a name="l09024"></a><span class="lineno"> 9024</span>&#160;  <span class="keywordtype">bool</span> IsAnd = <span class="keyword">false</span>;</div>
<div class="line"><a name="l09025"></a><span class="lineno"> 9025</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(ExitCond, <a class="code" href="namespacellvm_1_1PatternMatch.html#a213e6c0ca6e838157373b9a6018c0769">m_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Op0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Op1))))</div>
<div class="line"><a name="l09026"></a><span class="lineno"> 9026</span>&#160;    IsAnd = <span class="keyword">true</span>;</div>
<div class="line"><a name="l09027"></a><span class="lineno"> 9027</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(ExitCond, <a class="code" href="namespacellvm_1_1PatternMatch.html#a1a06b1cff93069d7403ea03e6150e386">m_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Op0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Op1))))</div>
<div class="line"><a name="l09028"></a><span class="lineno"> 9028</span>&#160;    IsAnd = <span class="keyword">false</span>;</div>
<div class="line"><a name="l09029"></a><span class="lineno"> 9029</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l09030"></a><span class="lineno"> 9030</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l09031"></a><span class="lineno"> 9031</span>&#160; </div>
<div class="line"><a name="l09032"></a><span class="lineno"> 9032</span>&#160;  <span class="comment">// EitherMayExit is true in these two cases:</span></div>
<div class="line"><a name="l09033"></a><span class="lineno"> 9033</span>&#160;  <span class="comment">//   br (and Op0 Op1), loop, exit</span></div>
<div class="line"><a name="l09034"></a><span class="lineno"> 9034</span>&#160;  <span class="comment">//   br (or  Op0 Op1), exit, loop</span></div>
<div class="line"><a name="l09035"></a><span class="lineno"> 9035</span>&#160;  <span class="keywordtype">bool</span> EitherMayExit = IsAnd ^ ExitIfTrue;</div>
<div class="line"><a name="l09036"></a><span class="lineno"> 9036</span>&#160;  ExitLimit EL0 = computeExitLimitFromCondCached(Cache, L, Op0, ExitIfTrue,</div>
<div class="line"><a name="l09037"></a><span class="lineno"> 9037</span>&#160;                                                 ControlsExit &amp;&amp; !EitherMayExit,</div>
<div class="line"><a name="l09038"></a><span class="lineno"> 9038</span>&#160;                                                 AllowPredicates);</div>
<div class="line"><a name="l09039"></a><span class="lineno"> 9039</span>&#160;  ExitLimit EL1 = computeExitLimitFromCondCached(Cache, L, Op1, ExitIfTrue,</div>
<div class="line"><a name="l09040"></a><span class="lineno"> 9040</span>&#160;                                                 ControlsExit &amp;&amp; !EitherMayExit,</div>
<div class="line"><a name="l09041"></a><span class="lineno"> 9041</span>&#160;                                                 AllowPredicates);</div>
<div class="line"><a name="l09042"></a><span class="lineno"> 9042</span>&#160; </div>
<div class="line"><a name="l09043"></a><span class="lineno"> 9043</span>&#160;  <span class="comment">// Be robust against unsimplified IR for the form &quot;op i1 X, NeutralElement&quot;</span></div>
<div class="line"><a name="l09044"></a><span class="lineno"> 9044</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NeutralElement = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(ExitCond-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), IsAnd);</div>
<div class="line"><a name="l09045"></a><span class="lineno"> 9045</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(Op1))</div>
<div class="line"><a name="l09046"></a><span class="lineno"> 9046</span>&#160;    <span class="keywordflow">return</span> Op1 == NeutralElement ? EL0 : EL1;</div>
<div class="line"><a name="l09047"></a><span class="lineno"> 9047</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(Op0))</div>
<div class="line"><a name="l09048"></a><span class="lineno"> 9048</span>&#160;    <span class="keywordflow">return</span> Op0 == NeutralElement ? EL1 : EL0;</div>
<div class="line"><a name="l09049"></a><span class="lineno"> 9049</span>&#160; </div>
<div class="line"><a name="l09050"></a><span class="lineno"> 9050</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09051"></a><span class="lineno"> 9051</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ConstantMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09052"></a><span class="lineno"> 9052</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymbolicMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09053"></a><span class="lineno"> 9053</span>&#160;  <span class="keywordflow">if</span> (EitherMayExit) {</div>
<div class="line"><a name="l09054"></a><span class="lineno"> 9054</span>&#160;    <span class="keywordtype">bool</span> UseSequentialUMin = !isa&lt;BinaryOperator&gt;(ExitCond);</div>
<div class="line"><a name="l09055"></a><span class="lineno"> 9055</span>&#160;    <span class="comment">// Both conditions must be same for the loop to continue executing.</span></div>
<div class="line"><a name="l09056"></a><span class="lineno"> 9056</span>&#160;    <span class="comment">// Choose the less conservative count.</span></div>
<div class="line"><a name="l09057"></a><span class="lineno"> 9057</span>&#160;    <span class="keywordflow">if</span> (EL0.ExactNotTaken != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp;</div>
<div class="line"><a name="l09058"></a><span class="lineno"> 9058</span>&#160;        EL1.ExactNotTaken != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()) {</div>
<div class="line"><a name="l09059"></a><span class="lineno"> 9059</span>&#160;      BECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">getUMinFromMismatchedTypes</a>(EL0.ExactNotTaken, EL1.ExactNotTaken,</div>
<div class="line"><a name="l09060"></a><span class="lineno"> 9060</span>&#160;                                           UseSequentialUMin);</div>
<div class="line"><a name="l09061"></a><span class="lineno"> 9061</span>&#160;    }</div>
<div class="line"><a name="l09062"></a><span class="lineno"> 9062</span>&#160;    <span class="keywordflow">if</span> (EL0.ConstantMaxNotTaken == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l09063"></a><span class="lineno"> 9063</span>&#160;      ConstantMaxBECount = EL1.ConstantMaxNotTaken;</div>
<div class="line"><a name="l09064"></a><span class="lineno"> 9064</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EL1.ConstantMaxNotTaken == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l09065"></a><span class="lineno"> 9065</span>&#160;      ConstantMaxBECount = EL0.ConstantMaxNotTaken;</div>
<div class="line"><a name="l09066"></a><span class="lineno"> 9066</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l09067"></a><span class="lineno"> 9067</span>&#160;      ConstantMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">getUMinFromMismatchedTypes</a>(EL0.ConstantMaxNotTaken,</div>
<div class="line"><a name="l09068"></a><span class="lineno"> 9068</span>&#160;                                                      EL1.ConstantMaxNotTaken);</div>
<div class="line"><a name="l09069"></a><span class="lineno"> 9069</span>&#160;    <span class="keywordflow">if</span> (EL0.SymbolicMaxNotTaken == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l09070"></a><span class="lineno"> 9070</span>&#160;      SymbolicMaxBECount = EL1.SymbolicMaxNotTaken;</div>
<div class="line"><a name="l09071"></a><span class="lineno"> 9071</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EL1.SymbolicMaxNotTaken == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l09072"></a><span class="lineno"> 9072</span>&#160;      SymbolicMaxBECount = EL0.SymbolicMaxNotTaken;</div>
<div class="line"><a name="l09073"></a><span class="lineno"> 9073</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l09074"></a><span class="lineno"> 9074</span>&#160;      SymbolicMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">getUMinFromMismatchedTypes</a>(</div>
<div class="line"><a name="l09075"></a><span class="lineno"> 9075</span>&#160;          EL0.SymbolicMaxNotTaken, EL1.SymbolicMaxNotTaken, UseSequentialUMin);</div>
<div class="line"><a name="l09076"></a><span class="lineno"> 9076</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09077"></a><span class="lineno"> 9077</span>&#160;    <span class="comment">// Both conditions must be same at the same time for the loop to exit.</span></div>
<div class="line"><a name="l09078"></a><span class="lineno"> 9078</span>&#160;    <span class="comment">// For now, be conservative.</span></div>
<div class="line"><a name="l09079"></a><span class="lineno"> 9079</span>&#160;    <span class="keywordflow">if</span> (EL0.ExactNotTaken == EL1.ExactNotTaken)</div>
<div class="line"><a name="l09080"></a><span class="lineno"> 9080</span>&#160;      BECount = EL0.ExactNotTaken;</div>
<div class="line"><a name="l09081"></a><span class="lineno"> 9081</span>&#160;  }</div>
<div class="line"><a name="l09082"></a><span class="lineno"> 9082</span>&#160; </div>
<div class="line"><a name="l09083"></a><span class="lineno"> 9083</span>&#160;  <span class="comment">// There are cases (e.g. PR26207) where computeExitLimitFromCond is able</span></div>
<div class="line"><a name="l09084"></a><span class="lineno"> 9084</span>&#160;  <span class="comment">// to be more aggressive when computing BECount than when computing</span></div>
<div class="line"><a name="l09085"></a><span class="lineno"> 9085</span>&#160;  <span class="comment">// ConstantMaxBECount.  In these cases it is possible for EL0.ExactNotTaken</span></div>
<div class="line"><a name="l09086"></a><span class="lineno"> 9086</span>&#160;  <span class="comment">// and</span></div>
<div class="line"><a name="l09087"></a><span class="lineno"> 9087</span>&#160;  <span class="comment">// EL1.ExactNotTaken to match, but for EL0.ConstantMaxNotTaken and</span></div>
<div class="line"><a name="l09088"></a><span class="lineno"> 9088</span>&#160;  <span class="comment">// EL1.ConstantMaxNotTaken to not.</span></div>
<div class="line"><a name="l09089"></a><span class="lineno"> 9089</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(ConstantMaxBECount) &amp;&amp;</div>
<div class="line"><a name="l09090"></a><span class="lineno"> 9090</span>&#160;      !isa&lt;SCEVCouldNotCompute&gt;(BECount))</div>
<div class="line"><a name="l09091"></a><span class="lineno"> 9091</span>&#160;    ConstantMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(BECount));</div>
<div class="line"><a name="l09092"></a><span class="lineno"> 9092</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(SymbolicMaxBECount))</div>
<div class="line"><a name="l09093"></a><span class="lineno"> 9093</span>&#160;    SymbolicMaxBECount =</div>
<div class="line"><a name="l09094"></a><span class="lineno"> 9094</span>&#160;        isa&lt;SCEVCouldNotCompute&gt;(BECount) ? ConstantMaxBECount : BECount;</div>
<div class="line"><a name="l09095"></a><span class="lineno"> 9095</span>&#160;  <span class="keywordflow">return</span> ExitLimit(BECount, ConstantMaxBECount, SymbolicMaxBECount, <span class="keyword">false</span>,</div>
<div class="line"><a name="l09096"></a><span class="lineno"> 9096</span>&#160;                   { &amp;EL0.Predicates, &amp;EL1.Predicates });</div>
<div class="line"><a name="l09097"></a><span class="lineno"> 9097</span>&#160;}</div>
<div class="line"><a name="l09098"></a><span class="lineno"> 9098</span>&#160; </div>
<div class="line"><a name="l09099"></a><span class="lineno"> 9099</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a></div>
<div class="line"><a name="l09100"></a><span class="lineno"> 9100</span>&#160;ScalarEvolution::computeExitLimitFromICmp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l09101"></a><span class="lineno"> 9101</span>&#160;                                          <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ExitCond,</div>
<div class="line"><a name="l09102"></a><span class="lineno"> 9102</span>&#160;                                          <span class="keywordtype">bool</span> ExitIfTrue,</div>
<div class="line"><a name="l09103"></a><span class="lineno"> 9103</span>&#160;                                          <span class="keywordtype">bool</span> ControlsExit,</div>
<div class="line"><a name="l09104"></a><span class="lineno"> 9104</span>&#160;                                          <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l09105"></a><span class="lineno"> 9105</span>&#160;  <span class="comment">// If the condition was exit on true, convert the condition to exit on false</span></div>
<div class="line"><a name="l09106"></a><span class="lineno"> 9106</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l09107"></a><span class="lineno"> 9107</span>&#160;  <span class="keywordflow">if</span> (!ExitIfTrue)</div>
<div class="line"><a name="l09108"></a><span class="lineno"> 9108</span>&#160;    Pred = ExitCond-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">getPredicate</a>();</div>
<div class="line"><a name="l09109"></a><span class="lineno"> 9109</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l09110"></a><span class="lineno"> 9110</span>&#160;    Pred = ExitCond-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">getInversePredicate</a>();</div>
<div class="line"><a name="l09111"></a><span class="lineno"> 9111</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> OriginalPred = Pred;</div>
<div class="line"><a name="l09112"></a><span class="lineno"> 9112</span>&#160; </div>
<div class="line"><a name="l09113"></a><span class="lineno"> 9113</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(ExitCond-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l09114"></a><span class="lineno"> 9114</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(ExitCond-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1));</div>
<div class="line"><a name="l09115"></a><span class="lineno"> 9115</span>&#160; </div>
<div class="line"><a name="l09116"></a><span class="lineno"> 9116</span>&#160;  ExitLimit EL = computeExitLimitFromICmp(L, Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, ControlsExit,</div>
<div class="line"><a name="l09117"></a><span class="lineno"> 9117</span>&#160;                                          AllowPredicates);</div>
<div class="line"><a name="l09118"></a><span class="lineno"> 9118</span>&#160;  <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div>
<div class="line"><a name="l09119"></a><span class="lineno"> 9119</span>&#160; </div>
<div class="line"><a name="l09120"></a><span class="lineno"> 9120</span>&#160;  <span class="keyword">auto</span> *ExhaustiveCount =</div>
<div class="line"><a name="l09121"></a><span class="lineno"> 9121</span>&#160;      computeExitCountExhaustively(L, ExitCond, ExitIfTrue);</div>
<div class="line"><a name="l09122"></a><span class="lineno"> 9122</span>&#160; </div>
<div class="line"><a name="l09123"></a><span class="lineno"> 9123</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(ExhaustiveCount))</div>
<div class="line"><a name="l09124"></a><span class="lineno"> 9124</span>&#160;    <span class="keywordflow">return</span> ExhaustiveCount;</div>
<div class="line"><a name="l09125"></a><span class="lineno"> 9125</span>&#160; </div>
<div class="line"><a name="l09126"></a><span class="lineno"> 9126</span>&#160;  <span class="keywordflow">return</span> computeShiftCompareExitLimit(ExitCond-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0),</div>
<div class="line"><a name="l09127"></a><span class="lineno"> 9127</span>&#160;                                      ExitCond-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1), L, OriginalPred);</div>
<div class="line"><a name="l09128"></a><span class="lineno"> 9128</span>&#160;}</div>
<div class="line"><a name="l09129"></a><span class="lineno"> 9129</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a></div>
<div class="line"><a name="l09130"></a><span class="lineno"> 9130</span>&#160;ScalarEvolution::computeExitLimitFromICmp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l09131"></a><span class="lineno"> 9131</span>&#160;                                          <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l09132"></a><span class="lineno"> 9132</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l09133"></a><span class="lineno"> 9133</span>&#160;                                          <span class="keywordtype">bool</span> ControlsExit,</div>
<div class="line"><a name="l09134"></a><span class="lineno"> 9134</span>&#160;                                          <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l09135"></a><span class="lineno"> 9135</span>&#160; </div>
<div class="line"><a name="l09136"></a><span class="lineno"> 9136</span>&#160;  <span class="comment">// Try to evaluate any dependencies out of the loop.</span></div>
<div class="line"><a name="l09137"></a><span class="lineno"> 9137</span>&#160;  <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, L);</div>
<div class="line"><a name="l09138"></a><span class="lineno"> 9138</span>&#160;  <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L);</div>
<div class="line"><a name="l09139"></a><span class="lineno"> 9139</span>&#160; </div>
<div class="line"><a name="l09140"></a><span class="lineno"> 9140</span>&#160;  <span class="comment">// At this point, we would like to compute how many iterations of the</span></div>
<div class="line"><a name="l09141"></a><span class="lineno"> 9141</span>&#160;  <span class="comment">// loop the predicate will return true for these inputs.</span></div>
<div class="line"><a name="l09142"></a><span class="lineno"> 9142</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, L) &amp;&amp; !<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L)) {</div>
<div class="line"><a name="l09143"></a><span class="lineno"> 9143</span>&#160;    <span class="comment">// If there is a loop-invariant, force it into the RHS.</span></div>
<div class="line"><a name="l09144"></a><span class="lineno"> 9144</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09145"></a><span class="lineno"> 9145</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l09146"></a><span class="lineno"> 9146</span>&#160;  }</div>
<div class="line"><a name="l09147"></a><span class="lineno"> 9147</span>&#160; </div>
<div class="line"><a name="l09148"></a><span class="lineno"> 9148</span>&#160;  <span class="keywordtype">bool</span> ControllingFiniteLoop =</div>
<div class="line"><a name="l09149"></a><span class="lineno"> 9149</span>&#160;      ControlsExit &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a3db092f7661158b76135b3b7d39f0991">loopHasNoAbnormalExits</a>(L) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a9b1509388282f293de48b34276e5b538">loopIsFiniteByAssumption</a>(L);</div>
<div class="line"><a name="l09150"></a><span class="lineno"> 9150</span>&#160;  <span class="comment">// Simplify the operands before analyzing them.</span></div>
<div class="line"><a name="l09151"></a><span class="lineno"> 9151</span>&#160;  (void)<a class="code" href="classllvm_1_1ScalarEvolution.html#ad1c48ca1756aa11e5ea9e8a477d48e15">SimplifyICmpOperands</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="comment">/*Depth=*/</span>0,</div>
<div class="line"><a name="l09152"></a><span class="lineno"> 9152</span>&#160;                             (<a class="code" href="ScalarEvolution_8cpp.html#af90e20c9dfa469b0144a6290215f267d">EnableFiniteLoopControl</a> ? ControllingFiniteLoop</div>
<div class="line"><a name="l09153"></a><span class="lineno"> 9153</span>&#160;                                                     : <span class="keyword">false</span>));</div>
<div class="line"><a name="l09154"></a><span class="lineno"> 9154</span>&#160; </div>
<div class="line"><a name="l09155"></a><span class="lineno"> 9155</span>&#160;  <span class="comment">// If we have a comparison of a chrec against a constant, try to use value</span></div>
<div class="line"><a name="l09156"></a><span class="lineno"> 9156</span>&#160;  <span class="comment">// ranges to answer this query.</span></div>
<div class="line"><a name="l09157"></a><span class="lineno"> 9157</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l09158"></a><span class="lineno"> 9158</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l09159"></a><span class="lineno"> 9159</span>&#160;      <span class="keywordflow">if</span> (AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() == L) {</div>
<div class="line"><a name="l09160"></a><span class="lineno"> 9160</span>&#160;        <span class="comment">// Form the constant range.</span></div>
<div class="line"><a name="l09161"></a><span class="lineno"> 9161</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CompRange =</div>
<div class="line"><a name="l09162"></a><span class="lineno"> 9162</span>&#160;            <a class="code" href="classllvm_1_1ConstantRange.html#aa89e9cec92a0b38d2f47a077bf12cc98">ConstantRange::makeExactICmpRegion</a>(Pred, RHSC-&gt;getAPInt());</div>
<div class="line"><a name="l09163"></a><span class="lineno"> 9163</span>&#160; </div>
<div class="line"><a name="l09164"></a><span class="lineno"> 9164</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7e688afe102c3fa48ea49cb972a0f00c">getNumIterationsInRange</a>(CompRange, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l09165"></a><span class="lineno"> 9165</span>&#160;        <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>)) <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>;</div>
<div class="line"><a name="l09166"></a><span class="lineno"> 9166</span>&#160;      }</div>
<div class="line"><a name="l09167"></a><span class="lineno"> 9167</span>&#160; </div>
<div class="line"><a name="l09168"></a><span class="lineno"> 9168</span>&#160;  <span class="comment">// If this loop must exit based on this condition (or execute undefined</span></div>
<div class="line"><a name="l09169"></a><span class="lineno"> 9169</span>&#160;  <span class="comment">// behaviour), and we can prove the test sequence produced must repeat</span></div>
<div class="line"><a name="l09170"></a><span class="lineno"> 9170</span>&#160;  <span class="comment">// the same values on self-wrap of the IV, then we can infer that IV</span></div>
<div class="line"><a name="l09171"></a><span class="lineno"> 9171</span>&#160;  <span class="comment">// doesn&#39;t self wrap because if it did, we&#39;d have an infinite (undefined)</span></div>
<div class="line"><a name="l09172"></a><span class="lineno"> 9172</span>&#160;  <span class="comment">// loop.</span></div>
<div class="line"><a name="l09173"></a><span class="lineno"> 9173</span>&#160;  <span class="keywordflow">if</span> (ControllingFiniteLoop &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L)) {</div>
<div class="line"><a name="l09174"></a><span class="lineno"> 9174</span>&#160;    <span class="comment">// TODO: We can peel off any functions which are invertible *in L*.  Loop</span></div>
<div class="line"><a name="l09175"></a><span class="lineno"> 9175</span>&#160;    <span class="comment">// invariant terms are effectively constants for our purposes here.</span></div>
<div class="line"><a name="l09176"></a><span class="lineno"> 9176</span>&#160;    <span class="keyword">auto</span> *InnerLHS = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l09177"></a><span class="lineno"> 9177</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l09178"></a><span class="lineno"> 9178</span>&#160;      InnerLHS = ZExt-&gt;getOperand();</div>
<div class="line"><a name="l09179"></a><span class="lineno"> 9179</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(InnerLHS)) {</div>
<div class="line"><a name="l09180"></a><span class="lineno"> 9180</span>&#160;      <span class="keyword">auto</span> *StrideC = dyn_cast&lt;SCEVConstant&gt;(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l09181"></a><span class="lineno"> 9181</span>&#160;      <span class="keywordflow">if</span> (!AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a6429bca8fd0024ceb2d76ccaace43c4e">hasNoSelfWrap</a>() &amp;&amp; AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() == L &amp;&amp; AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>() &amp;&amp; </div>
<div class="line"><a name="l09182"></a><span class="lineno"> 9182</span>&#160;          StrideC &amp;&amp; StrideC-&gt;getAPInt().isPowerOf2()) {</div>
<div class="line"><a name="l09183"></a><span class="lineno"> 9183</span>&#160;        <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>();</div>
<div class="line"><a name="l09184"></a><span class="lineno"> 9184</span>&#160;        <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div>
<div class="line"><a name="l09185"></a><span class="lineno"> 9185</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV*&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>{AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>()};</div>
<div class="line"><a name="l09186"></a><span class="lineno"> 9186</span>&#160;        <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="ScalarEvolution_8cpp.html#ae99f51fb7f4e120a8ebeb76e3c53cf2b">StrengthenNoWrapFlags</a>(<span class="keyword">this</span>, <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, Flags);</div>
<div class="line"><a name="l09187"></a><span class="lineno"> 9187</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), Flags);</div>
<div class="line"><a name="l09188"></a><span class="lineno"> 9188</span>&#160;      }</div>
<div class="line"><a name="l09189"></a><span class="lineno"> 9189</span>&#160;    }</div>
<div class="line"><a name="l09190"></a><span class="lineno"> 9190</span>&#160;  }</div>
<div class="line"><a name="l09191"></a><span class="lineno"> 9191</span>&#160; </div>
<div class="line"><a name="l09192"></a><span class="lineno"> 9192</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l09193"></a><span class="lineno"> 9193</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>: {                     <span class="comment">// while (X != Y)</span></div>
<div class="line"><a name="l09194"></a><span class="lineno"> 9194</span>&#160;    <span class="comment">// Convert to: while (X-Y != 0)</span></div>
<div class="line"><a name="l09195"></a><span class="lineno"> 9195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l09196"></a><span class="lineno"> 9196</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l09197"></a><span class="lineno"> 9197</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l09198"></a><span class="lineno"> 9198</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l09199"></a><span class="lineno"> 9199</span>&#160;    }</div>
<div class="line"><a name="l09200"></a><span class="lineno"> 9200</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l09201"></a><span class="lineno"> 9201</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09202"></a><span class="lineno"> 9202</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l09203"></a><span class="lineno"> 9203</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l09204"></a><span class="lineno"> 9204</span>&#160;    }</div>
<div class="line"><a name="l09205"></a><span class="lineno"> 9205</span>&#160;    ExitLimit EL = howFarToZero(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), L, ControlsExit,</div>
<div class="line"><a name="l09206"></a><span class="lineno"> 9206</span>&#160;                                AllowPredicates);</div>
<div class="line"><a name="l09207"></a><span class="lineno"> 9207</span>&#160;    <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div>
<div class="line"><a name="l09208"></a><span class="lineno"> 9208</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09209"></a><span class="lineno"> 9209</span>&#160;  }</div>
<div class="line"><a name="l09210"></a><span class="lineno"> 9210</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>: {                     <span class="comment">// while (X == Y)</span></div>
<div class="line"><a name="l09211"></a><span class="lineno"> 9211</span>&#160;    <span class="comment">// Convert to: while (X-Y == 0)</span></div>
<div class="line"><a name="l09212"></a><span class="lineno"> 9212</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l09213"></a><span class="lineno"> 9213</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l09214"></a><span class="lineno"> 9214</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l09215"></a><span class="lineno"> 9215</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l09216"></a><span class="lineno"> 9216</span>&#160;    }</div>
<div class="line"><a name="l09217"></a><span class="lineno"> 9217</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l09218"></a><span class="lineno"> 9218</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l09219"></a><span class="lineno"> 9219</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l09220"></a><span class="lineno"> 9220</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l09221"></a><span class="lineno"> 9221</span>&#160;    }</div>
<div class="line"><a name="l09222"></a><span class="lineno"> 9222</span>&#160;    ExitLimit EL = howFarToNonZero(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), L);</div>
<div class="line"><a name="l09223"></a><span class="lineno"> 9223</span>&#160;    <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div>
<div class="line"><a name="l09224"></a><span class="lineno"> 9224</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09225"></a><span class="lineno"> 9225</span>&#160;  }</div>
<div class="line"><a name="l09226"></a><span class="lineno"> 9226</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l09227"></a><span class="lineno"> 9227</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>: {                    <span class="comment">// while (X &lt; Y)</span></div>
<div class="line"><a name="l09228"></a><span class="lineno"> 9228</span>&#160;    <span class="keywordtype">bool</span> IsSigned = Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div>
<div class="line"><a name="l09229"></a><span class="lineno"> 9229</span>&#160;    ExitLimit EL = howManyLessThans(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L, IsSigned, ControlsExit,</div>
<div class="line"><a name="l09230"></a><span class="lineno"> 9230</span>&#160;                                    AllowPredicates);</div>
<div class="line"><a name="l09231"></a><span class="lineno"> 9231</span>&#160;    <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div>
<div class="line"><a name="l09232"></a><span class="lineno"> 9232</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09233"></a><span class="lineno"> 9233</span>&#160;  }</div>
<div class="line"><a name="l09234"></a><span class="lineno"> 9234</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l09235"></a><span class="lineno"> 9235</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>: {                    <span class="comment">// while (X &gt; Y)</span></div>
<div class="line"><a name="l09236"></a><span class="lineno"> 9236</span>&#160;    <span class="keywordtype">bool</span> IsSigned = Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div>
<div class="line"><a name="l09237"></a><span class="lineno"> 9237</span>&#160;    ExitLimit EL =</div>
<div class="line"><a name="l09238"></a><span class="lineno"> 9238</span>&#160;        howManyGreaterThans(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L, IsSigned, ControlsExit,</div>
<div class="line"><a name="l09239"></a><span class="lineno"> 9239</span>&#160;                            AllowPredicates);</div>
<div class="line"><a name="l09240"></a><span class="lineno"> 9240</span>&#160;    <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div>
<div class="line"><a name="l09241"></a><span class="lineno"> 9241</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09242"></a><span class="lineno"> 9242</span>&#160;  }</div>
<div class="line"><a name="l09243"></a><span class="lineno"> 9243</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l09244"></a><span class="lineno"> 9244</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09245"></a><span class="lineno"> 9245</span>&#160;  }</div>
<div class="line"><a name="l09246"></a><span class="lineno"> 9246</span>&#160; </div>
<div class="line"><a name="l09247"></a><span class="lineno"> 9247</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09248"></a><span class="lineno"> 9248</span>&#160;}</div>
<div class="line"><a name="l09249"></a><span class="lineno"> 9249</span>&#160; </div>
<div class="line"><a name="l09250"></a><span class="lineno"> 9250</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a></div>
<div class="line"><a name="l09251"></a><span class="lineno"> 9251</span>&#160;ScalarEvolution::computeExitLimitFromSingleExitSwitch(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l09252"></a><span class="lineno"> 9252</span>&#160;                                                      <a class="code" href="classllvm_1_1SwitchInst.html">SwitchInst</a> *Switch,</div>
<div class="line"><a name="l09253"></a><span class="lineno"> 9253</span>&#160;                                                      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock,</div>
<div class="line"><a name="l09254"></a><span class="lineno"> 9254</span>&#160;                                                      <span class="keywordtype">bool</span> ControlsExit) {</div>
<div class="line"><a name="l09255"></a><span class="lineno"> 9255</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(ExitingBlock) &amp;&amp; <span class="stringliteral">&quot;Not an exiting block!&quot;</span>);</div>
<div class="line"><a name="l09256"></a><span class="lineno"> 9256</span>&#160; </div>
<div class="line"><a name="l09257"></a><span class="lineno"> 9257</span>&#160;  <span class="comment">// Give up if the exit is the default dest of a switch.</span></div>
<div class="line"><a name="l09258"></a><span class="lineno"> 9258</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">Switch</a>-&gt;getDefaultDest() == ExitingBlock)</div>
<div class="line"><a name="l09259"></a><span class="lineno"> 9259</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09260"></a><span class="lineno"> 9260</span>&#160; </div>
<div class="line"><a name="l09261"></a><span class="lineno"> 9261</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">Switch</a>-&gt;getDefaultDest()) &amp;&amp;</div>
<div class="line"><a name="l09262"></a><span class="lineno"> 9262</span>&#160;         <span class="stringliteral">&quot;Default case must not exit the loop!&quot;</span>);</div>
<div class="line"><a name="l09263"></a><span class="lineno"> 9263</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">Switch</a>-&gt;getCondition(), L);</div>
<div class="line"><a name="l09264"></a><span class="lineno"> 9264</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">Switch</a>-&gt;findCaseDest(ExitingBlock));</div>
<div class="line"><a name="l09265"></a><span class="lineno"> 9265</span>&#160; </div>
<div class="line"><a name="l09266"></a><span class="lineno"> 9266</span>&#160;  <span class="comment">// while (X != Y) --&gt; while (X-Y != 0)</span></div>
<div class="line"><a name="l09267"></a><span class="lineno"> 9267</span>&#160;  ExitLimit EL = howFarToZero(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), L, ControlsExit);</div>
<div class="line"><a name="l09268"></a><span class="lineno"> 9268</span>&#160;  <span class="keywordflow">if</span> (EL.hasAnyInfo())</div>
<div class="line"><a name="l09269"></a><span class="lineno"> 9269</span>&#160;    <span class="keywordflow">return</span> EL;</div>
<div class="line"><a name="l09270"></a><span class="lineno"> 9270</span>&#160; </div>
<div class="line"><a name="l09271"></a><span class="lineno"> 9271</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09272"></a><span class="lineno"> 9272</span>&#160;}</div>
<div class="line"><a name="l09273"></a><span class="lineno"> 9273</span>&#160; </div>
<div class="line"><a name="l09274"></a><span class="lineno"> 9274</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *</div>
<div class="line"><a name="l09275"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0"> 9275</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec, <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div>
<div class="line"><a name="l09276"></a><span class="lineno"> 9276</span>&#160;                                <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l09277"></a><span class="lineno"> 9277</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InVal = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l09278"></a><span class="lineno"> 9278</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Val = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a33583576f220997d1c415df033559a57">evaluateAtIteration</a>(InVal, SE);</div>
<div class="line"><a name="l09279"></a><span class="lineno"> 9279</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;SCEVConstant&gt;(Val) &amp;&amp;</div>
<div class="line"><a name="l09280"></a><span class="lineno"> 9280</span>&#160;         <span class="stringliteral">&quot;Evaluation of SCEV at constant didn&#39;t fold correctly?&quot;</span>);</div>
<div class="line"><a name="l09281"></a><span class="lineno"> 9281</span>&#160;  <span class="keywordflow">return</span> cast&lt;SCEVConstant&gt;(Val)-&gt;getValue();</div>
<div class="line"><a name="l09282"></a><span class="lineno"> 9282</span>&#160;}</div>
<div class="line"><a name="l09283"></a><span class="lineno"> 9283</span>&#160; </div>
<div class="line"><a name="l09284"></a><span class="lineno"> 9284</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a> ScalarEvolution::computeShiftCompareExitLimit(</div>
<div class="line"><a name="l09285"></a><span class="lineno"> 9285</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHSV, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred) {</div>
<div class="line"><a name="l09286"></a><span class="lineno"> 9286</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = dyn_cast&lt;ConstantInt&gt;(RHSV);</div>
<div class="line"><a name="l09287"></a><span class="lineno"> 9287</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l09288"></a><span class="lineno"> 9288</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09289"></a><span class="lineno"> 9289</span>&#160; </div>
<div class="line"><a name="l09290"></a><span class="lineno"> 9290</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l09291"></a><span class="lineno"> 9291</span>&#160;  <span class="keywordflow">if</span> (!Latch)</div>
<div class="line"><a name="l09292"></a><span class="lineno"> 9292</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09293"></a><span class="lineno"> 9293</span>&#160; </div>
<div class="line"><a name="l09294"></a><span class="lineno"> 9294</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Predecessor = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a88575baf2ad9f4cd2e2432e6da4a976b">getLoopPredecessor</a>();</div>
<div class="line"><a name="l09295"></a><span class="lineno"> 9295</span>&#160;  <span class="keywordflow">if</span> (!Predecessor)</div>
<div class="line"><a name="l09296"></a><span class="lineno"> 9296</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09297"></a><span class="lineno"> 9297</span>&#160; </div>
<div class="line"><a name="l09298"></a><span class="lineno"> 9298</span>&#160;  <span class="comment">// Return true if V is of the form &quot;LHS `shift_op` &lt;positive constant&gt;&quot;.</span></div>
<div class="line"><a name="l09299"></a><span class="lineno"> 9299</span>&#160;  <span class="comment">// Return LHS in OutLHS and shift_opt in OutOpCode.</span></div>
<div class="line"><a name="l09300"></a><span class="lineno"> 9300</span>&#160;  <span class="keyword">auto</span> MatchPositiveShift =</div>
<div class="line"><a name="l09301"></a><span class="lineno"> 9301</span>&#160;      [](<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;OutLHS, <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> &amp;OutOpCode) {</div>
<div class="line"><a name="l09302"></a><span class="lineno"> 9302</span>&#160; </div>
<div class="line"><a name="l09303"></a><span class="lineno"> 9303</span>&#160;    <span class="keyword">using namespace </span>PatternMatch;</div>
<div class="line"><a name="l09304"></a><span class="lineno"> 9304</span>&#160; </div>
<div class="line"><a name="l09305"></a><span class="lineno"> 9305</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ShiftAmt;</div>
<div class="line"><a name="l09306"></a><span class="lineno"> 9306</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(OutLHS), <a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(ShiftAmt))))</div>
<div class="line"><a name="l09307"></a><span class="lineno"> 9307</span>&#160;      OutOpCode = Instruction::LShr;</div>
<div class="line"><a name="l09308"></a><span class="lineno"> 9308</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a64153676e101a130bbbaaf91635d253a">m_AShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(OutLHS), <a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(ShiftAmt))))</div>
<div class="line"><a name="l09309"></a><span class="lineno"> 9309</span>&#160;      OutOpCode = Instruction::AShr;</div>
<div class="line"><a name="l09310"></a><span class="lineno"> 9310</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(OutLHS), <a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(ShiftAmt))))</div>
<div class="line"><a name="l09311"></a><span class="lineno"> 9311</span>&#160;      OutOpCode = Instruction::Shl;</div>
<div class="line"><a name="l09312"></a><span class="lineno"> 9312</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l09313"></a><span class="lineno"> 9313</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09314"></a><span class="lineno"> 9314</span>&#160; </div>
<div class="line"><a name="l09315"></a><span class="lineno"> 9315</span>&#160;    <span class="keywordflow">return</span> ShiftAmt-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#aa17c104fbda554c818cf87e53f32f20a">isStrictlyPositive</a>();</div>
<div class="line"><a name="l09316"></a><span class="lineno"> 9316</span>&#160;  };</div>
<div class="line"><a name="l09317"></a><span class="lineno"> 9317</span>&#160; </div>
<div class="line"><a name="l09318"></a><span class="lineno"> 9318</span>&#160;  <span class="comment">// Recognize a &quot;shift recurrence&quot; either of the form %iv or of %iv.shifted in</span></div>
<div class="line"><a name="l09319"></a><span class="lineno"> 9319</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l09320"></a><span class="lineno"> 9320</span>&#160;  <span class="comment">// loop:</span></div>
<div class="line"><a name="l09321"></a><span class="lineno"> 9321</span>&#160;  <span class="comment">//   %iv = phi i32 [ %iv.shifted, %loop ], [ %val, %preheader ]</span></div>
<div class="line"><a name="l09322"></a><span class="lineno"> 9322</span>&#160;  <span class="comment">//   %iv.shifted = lshr i32 %iv, &lt;positive constant&gt;</span></div>
<div class="line"><a name="l09323"></a><span class="lineno"> 9323</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l09324"></a><span class="lineno"> 9324</span>&#160;  <span class="comment">// Return true on a successful match.  Return the corresponding PHI node (%iv</span></div>
<div class="line"><a name="l09325"></a><span class="lineno"> 9325</span>&#160;  <span class="comment">// above) in PNOut and the opcode of the shift operation in OpCodeOut.</span></div>
<div class="line"><a name="l09326"></a><span class="lineno"> 9326</span>&#160;  <span class="keyword">auto</span> MatchShiftRecurrence =</div>
<div class="line"><a name="l09327"></a><span class="lineno"> 9327</span>&#160;      [&amp;](<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *&amp;PNOut, <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> &amp;OpCodeOut) {</div>
<div class="line"><a name="l09328"></a><span class="lineno"> 9328</span>&#160;    std::optional&lt;Instruction::BinaryOps&gt; PostShiftOpCode;</div>
<div class="line"><a name="l09329"></a><span class="lineno"> 9329</span>&#160; </div>
<div class="line"><a name="l09330"></a><span class="lineno"> 9330</span>&#160;    {</div>
<div class="line"><a name="l09331"></a><span class="lineno"> 9331</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> OpC;</div>
<div class="line"><a name="l09332"></a><span class="lineno"> 9332</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *V;</div>
<div class="line"><a name="l09333"></a><span class="lineno"> 9333</span>&#160; </div>
<div class="line"><a name="l09334"></a><span class="lineno"> 9334</span>&#160;      <span class="comment">// If we encounter a shift instruction, &quot;peel off&quot; the shift operation,</span></div>
<div class="line"><a name="l09335"></a><span class="lineno"> 9335</span>&#160;      <span class="comment">// and remember that we did so.  Later when we inspect %iv&#39;s backedge</span></div>
<div class="line"><a name="l09336"></a><span class="lineno"> 9336</span>&#160;      <span class="comment">// value, we will make sure that the backedge value uses the same</span></div>
<div class="line"><a name="l09337"></a><span class="lineno"> 9337</span>&#160;      <span class="comment">// operation.</span></div>
<div class="line"><a name="l09338"></a><span class="lineno"> 9338</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l09339"></a><span class="lineno"> 9339</span>&#160;      <span class="comment">// Note: the peeled shift operation does not have to be the same</span></div>
<div class="line"><a name="l09340"></a><span class="lineno"> 9340</span>&#160;      <span class="comment">// instruction as the one feeding into the PHI&#39;s backedge value.  We only</span></div>
<div class="line"><a name="l09341"></a><span class="lineno"> 9341</span>&#160;      <span class="comment">// really care about it being the same *kind* of shift instruction --</span></div>
<div class="line"><a name="l09342"></a><span class="lineno"> 9342</span>&#160;      <span class="comment">// that&#39;s all that is required for our later inferences to hold.</span></div>
<div class="line"><a name="l09343"></a><span class="lineno"> 9343</span>&#160;      <span class="keywordflow">if</span> (MatchPositiveShift(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, V, OpC)) {</div>
<div class="line"><a name="l09344"></a><span class="lineno"> 9344</span>&#160;        PostShiftOpCode = OpC;</div>
<div class="line"><a name="l09345"></a><span class="lineno"> 9345</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = V;</div>
<div class="line"><a name="l09346"></a><span class="lineno"> 9346</span>&#160;      }</div>
<div class="line"><a name="l09347"></a><span class="lineno"> 9347</span>&#160;    }</div>
<div class="line"><a name="l09348"></a><span class="lineno"> 9348</span>&#160; </div>
<div class="line"><a name="l09349"></a><span class="lineno"> 9349</span>&#160;    PNOut = dyn_cast&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l09350"></a><span class="lineno"> 9350</span>&#160;    <span class="keywordflow">if</span> (!PNOut || PNOut-&gt;getParent() != L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l09351"></a><span class="lineno"> 9351</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09352"></a><span class="lineno"> 9352</span>&#160; </div>
<div class="line"><a name="l09353"></a><span class="lineno"> 9353</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValue = PNOut-&gt;getIncomingValueForBlock(Latch);</div>
<div class="line"><a name="l09354"></a><span class="lineno"> 9354</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *OpLHS;</div>
<div class="line"><a name="l09355"></a><span class="lineno"> 9355</span>&#160; </div>
<div class="line"><a name="l09356"></a><span class="lineno"> 9356</span>&#160;    <span class="keywordflow">return</span></div>
<div class="line"><a name="l09357"></a><span class="lineno"> 9357</span>&#160;        <span class="comment">// The backedge value for the PHI node must be a shift by a positive</span></div>
<div class="line"><a name="l09358"></a><span class="lineno"> 9358</span>&#160;        <span class="comment">// amount</span></div>
<div class="line"><a name="l09359"></a><span class="lineno"> 9359</span>&#160;        MatchPositiveShift(BEValue, OpLHS, OpCodeOut) &amp;&amp;</div>
<div class="line"><a name="l09360"></a><span class="lineno"> 9360</span>&#160; </div>
<div class="line"><a name="l09361"></a><span class="lineno"> 9361</span>&#160;        <span class="comment">// of the PHI node itself</span></div>
<div class="line"><a name="l09362"></a><span class="lineno"> 9362</span>&#160;        OpLHS == PNOut &amp;&amp;</div>
<div class="line"><a name="l09363"></a><span class="lineno"> 9363</span>&#160; </div>
<div class="line"><a name="l09364"></a><span class="lineno"> 9364</span>&#160;        <span class="comment">// and the kind of shift should be match the kind of shift we peeled</span></div>
<div class="line"><a name="l09365"></a><span class="lineno"> 9365</span>&#160;        <span class="comment">// off, if any.</span></div>
<div class="line"><a name="l09366"></a><span class="lineno"> 9366</span>&#160;        (!PostShiftOpCode || *PostShiftOpCode == OpCodeOut);</div>
<div class="line"><a name="l09367"></a><span class="lineno"> 9367</span>&#160;  };</div>
<div class="line"><a name="l09368"></a><span class="lineno"> 9368</span>&#160; </div>
<div class="line"><a name="l09369"></a><span class="lineno"> 9369</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN;</div>
<div class="line"><a name="l09370"></a><span class="lineno"> 9370</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> OpCode;</div>
<div class="line"><a name="l09371"></a><span class="lineno"> 9371</span>&#160;  <span class="keywordflow">if</span> (!MatchShiftRecurrence(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, PN, OpCode))</div>
<div class="line"><a name="l09372"></a><span class="lineno"> 9372</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09373"></a><span class="lineno"> 9373</span>&#160; </div>
<div class="line"><a name="l09374"></a><span class="lineno"> 9374</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>();</div>
<div class="line"><a name="l09375"></a><span class="lineno"> 9375</span>&#160; </div>
<div class="line"><a name="l09376"></a><span class="lineno"> 9376</span>&#160;  <span class="comment">// The key rationale for this optimization is that for some kinds of shift</span></div>
<div class="line"><a name="l09377"></a><span class="lineno"> 9377</span>&#160;  <span class="comment">// recurrences, the value of the recurrence &quot;stabilizes&quot; to either 0 or -1</span></div>
<div class="line"><a name="l09378"></a><span class="lineno"> 9378</span>&#160;  <span class="comment">// within a finite number of iterations.  If the condition guarding the</span></div>
<div class="line"><a name="l09379"></a><span class="lineno"> 9379</span>&#160;  <span class="comment">// backedge (in the sense that the backedge is taken if the condition is true)</span></div>
<div class="line"><a name="l09380"></a><span class="lineno"> 9380</span>&#160;  <span class="comment">// is false for the value the shift recurrence stabilizes to, then we know</span></div>
<div class="line"><a name="l09381"></a><span class="lineno"> 9381</span>&#160;  <span class="comment">// that the backedge is taken only a finite number of times.</span></div>
<div class="line"><a name="l09382"></a><span class="lineno"> 9382</span>&#160; </div>
<div class="line"><a name="l09383"></a><span class="lineno"> 9383</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *StableValue = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09384"></a><span class="lineno"> 9384</span>&#160;  <span class="keywordflow">switch</span> (OpCode) {</div>
<div class="line"><a name="l09385"></a><span class="lineno"> 9385</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l09386"></a><span class="lineno"> 9386</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Impossible case!&quot;</span>);</div>
<div class="line"><a name="l09387"></a><span class="lineno"> 9387</span>&#160; </div>
<div class="line"><a name="l09388"></a><span class="lineno"> 9388</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr: {</div>
<div class="line"><a name="l09389"></a><span class="lineno"> 9389</span>&#160;    <span class="comment">// {K,ashr,&lt;positive-constant&gt;} stabilizes to signum(K) in at most</span></div>
<div class="line"><a name="l09390"></a><span class="lineno"> 9390</span>&#160;    <span class="comment">// bitwidth(K) iterations.</span></div>
<div class="line"><a name="l09391"></a><span class="lineno"> 9391</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *FirstValue = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(Predecessor);</div>
<div class="line"><a name="l09392"></a><span class="lineno"> 9392</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(FirstValue, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, &amp;AC,</div>
<div class="line"><a name="l09393"></a><span class="lineno"> 9393</span>&#160;                                       Predecessor-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>(), &amp;DT);</div>
<div class="line"><a name="l09394"></a><span class="lineno"> 9394</span>&#160;    <span class="keyword">auto</span> *Ty = cast&lt;IntegerType&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l09395"></a><span class="lineno"> 9395</span>&#160;    <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>())</div>
<div class="line"><a name="l09396"></a><span class="lineno"> 9396</span>&#160;      StableValue = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, 0);</div>
<div class="line"><a name="l09397"></a><span class="lineno"> 9397</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">isNegative</a>())</div>
<div class="line"><a name="l09398"></a><span class="lineno"> 9398</span>&#160;      StableValue = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, -1, <span class="keyword">true</span>);</div>
<div class="line"><a name="l09399"></a><span class="lineno"> 9399</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l09400"></a><span class="lineno"> 9400</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09401"></a><span class="lineno"> 9401</span>&#160; </div>
<div class="line"><a name="l09402"></a><span class="lineno"> 9402</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09403"></a><span class="lineno"> 9403</span>&#160;  }</div>
<div class="line"><a name="l09404"></a><span class="lineno"> 9404</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l09405"></a><span class="lineno"> 9405</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l09406"></a><span class="lineno"> 9406</span>&#160;    <span class="comment">// Both {K,lshr,&lt;positive-constant&gt;} and {K,shl,&lt;positive-constant&gt;}</span></div>
<div class="line"><a name="l09407"></a><span class="lineno"> 9407</span>&#160;    <span class="comment">// stabilize to 0 in at most bitwidth(K) iterations.</span></div>
<div class="line"><a name="l09408"></a><span class="lineno"> 9408</span>&#160;    StableValue = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(cast&lt;IntegerType&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()), 0);</div>
<div class="line"><a name="l09409"></a><span class="lineno"> 9409</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09410"></a><span class="lineno"> 9410</span>&#160;  }</div>
<div class="line"><a name="l09411"></a><span class="lineno"> 9411</span>&#160; </div>
<div class="line"><a name="l09412"></a><span class="lineno"> 9412</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> =</div>
<div class="line"><a name="l09413"></a><span class="lineno"> 9413</span>&#160;      <a class="code" href="namespacellvm.html#a3cd3a3ec28036937ecebe767498ba55d">ConstantFoldCompareInstOperands</a>(Pred, StableValue, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;TLI);</div>
<div class="line"><a name="l09414"></a><span class="lineno"> 9414</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>-&gt;getType()-&gt;isIntegerTy(1) &amp;&amp;</div>
<div class="line"><a name="l09415"></a><span class="lineno"> 9415</span>&#160;         <span class="stringliteral">&quot;Otherwise cannot be an operand to a branch instruction&quot;</span>);</div>
<div class="line"><a name="l09416"></a><span class="lineno"> 9416</span>&#160; </div>
<div class="line"><a name="l09417"></a><span class="lineno"> 9417</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>-&gt;isZeroValue()) {</div>
<div class="line"><a name="l09418"></a><span class="lineno"> 9418</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l09419"></a><span class="lineno"> 9419</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *UpperBound =</div>
<div class="line"><a name="l09420"></a><span class="lineno"> 9420</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l09421"></a><span class="lineno"> 9421</span>&#160;    <span class="keywordflow">return</span> ExitLimit(<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>(), UpperBound, UpperBound, <span class="keyword">false</span>);</div>
<div class="line"><a name="l09422"></a><span class="lineno"> 9422</span>&#160;  }</div>
<div class="line"><a name="l09423"></a><span class="lineno"> 9423</span>&#160; </div>
<div class="line"><a name="l09424"></a><span class="lineno"> 9424</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09425"></a><span class="lineno"> 9425</span>&#160;}</div>
<div class="line"><a name="l09426"></a><span class="lineno"> 9426</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l09427"></a><span class="lineno"> 9427</span>&#160;<span class="comment">/// Return true if we can constant fold an instruction of the specified type,</span></div>
<div class="line"><a name="l09428"></a><span class="lineno"> 9428</span>&#160;<span class="comment">/// assuming that all operands were constants.</span></div>
<div class="line"><a name="l09429"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185"> 9429</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185">CanConstantFold</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l09430"></a><span class="lineno"> 9430</span>&#160;  <span class="keywordflow">if</span> (isa&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;CmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) ||</div>
<div class="line"><a name="l09431"></a><span class="lineno"> 9431</span>&#160;      isa&lt;SelectInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;CastInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;GetElementPtrInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) ||</div>
<div class="line"><a name="l09432"></a><span class="lineno"> 9432</span>&#160;      isa&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;ExtractValueInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l09433"></a><span class="lineno"> 9433</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09434"></a><span class="lineno"> 9434</span>&#160; </div>
<div class="line"><a name="l09435"></a><span class="lineno"> 9435</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l09436"></a><span class="lineno"> 9436</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *F = CI-&gt;getCalledFunction())</div>
<div class="line"><a name="l09437"></a><span class="lineno"> 9437</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a20f356124998d05f7e605549cc2dda91">canConstantFoldCallTo</a>(CI, F);</div>
<div class="line"><a name="l09438"></a><span class="lineno"> 9438</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09439"></a><span class="lineno"> 9439</span>&#160;}</div>
<div class="line"><a name="l09440"></a><span class="lineno"> 9440</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l09441"></a><span class="lineno"> 9441</span>&#160;<span class="comment">/// Determine whether this instruction can constant evolve within this loop</span></div>
<div class="line"><a name="l09442"></a><span class="lineno"> 9442</span>&#160;<span class="comment">/// assuming its operands can all constant evolve.</span></div>
<div class="line"><a name="l09443"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95"> 9443</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l09444"></a><span class="lineno"> 9444</span>&#160;  <span class="comment">// An instruction outside of the loop can&#39;t be derived from a loop PHI.</span></div>
<div class="line"><a name="l09445"></a><span class="lineno"> 9445</span>&#160;  <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09446"></a><span class="lineno"> 9446</span>&#160; </div>
<div class="line"><a name="l09447"></a><span class="lineno"> 9447</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l09448"></a><span class="lineno"> 9448</span>&#160;    <span class="comment">// We don&#39;t currently keep track of the control flow needed to evaluate</span></div>
<div class="line"><a name="l09449"></a><span class="lineno"> 9449</span>&#160;    <span class="comment">// PHIs, so we cannot handle PHIs inside of loops.</span></div>
<div class="line"><a name="l09450"></a><span class="lineno"> 9450</span>&#160;    <span class="keywordflow">return</span> L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>() == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent();</div>
<div class="line"><a name="l09451"></a><span class="lineno"> 9451</span>&#160;  }</div>
<div class="line"><a name="l09452"></a><span class="lineno"> 9452</span>&#160; </div>
<div class="line"><a name="l09453"></a><span class="lineno"> 9453</span>&#160;  <span class="comment">// If we won&#39;t be able to constant fold this expression even if the operands</span></div>
<div class="line"><a name="l09454"></a><span class="lineno"> 9454</span>&#160;  <span class="comment">// are constants, bail early.</span></div>
<div class="line"><a name="l09455"></a><span class="lineno"> 9455</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185">CanConstantFold</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l09456"></a><span class="lineno"> 9456</span>&#160;}</div>
<div class="line"><a name="l09457"></a><span class="lineno"> 9457</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l09458"></a><span class="lineno"> 9458</span>&#160;<span class="comment">/// getConstantEvolvingPHIOperands - Implement getConstantEvolvingPHI by</span></div>
<div class="line"><a name="l09459"></a><span class="lineno"> 9459</span>&#160;<span class="comment">/// recursing through each instruction operand until reaching a loop header phi.</span></div>
<div class="line"><a name="l09460"></a><span class="lineno"> 9460</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *</div>
<div class="line"><a name="l09461"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a6ed8a5b1d1f8bdf4c1daf83a38018cae"> 9461</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a6ed8a5b1d1f8bdf4c1daf83a38018cae">getConstantEvolvingPHIOperands</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UseInst, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l09462"></a><span class="lineno"> 9462</span>&#160;                               <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, PHINode *&gt;</a> &amp;PHIMap,</div>
<div class="line"><a name="l09463"></a><span class="lineno"> 9463</span>&#160;                               <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l09464"></a><span class="lineno"> 9464</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#a37f233a36ee50544cc4066ce49debc92">MaxConstantEvolvingDepth</a>)</div>
<div class="line"><a name="l09465"></a><span class="lineno"> 9465</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09466"></a><span class="lineno"> 9466</span>&#160; </div>
<div class="line"><a name="l09467"></a><span class="lineno"> 9467</span>&#160;  <span class="comment">// Otherwise, we can evaluate this instruction if all of its operands are</span></div>
<div class="line"><a name="l09468"></a><span class="lineno"> 9468</span>&#160;  <span class="comment">// constant or derived from a PHI node themselves.</span></div>
<div class="line"><a name="l09469"></a><span class="lineno"> 9469</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09470"></a><span class="lineno"> 9470</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : UseInst-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>()) {</div>
<div class="line"><a name="l09471"></a><span class="lineno"> 9471</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09472"></a><span class="lineno"> 9472</span>&#160; </div>
<div class="line"><a name="l09473"></a><span class="lineno"> 9473</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OpInst = dyn_cast&lt;Instruction&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l09474"></a><span class="lineno"> 9474</span>&#160;    <span class="keywordflow">if</span> (!OpInst || !<a class="code" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a>(OpInst, L)) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09475"></a><span class="lineno"> 9475</span>&#160; </div>
<div class="line"><a name="l09476"></a><span class="lineno"> 9476</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = dyn_cast&lt;PHINode&gt;(OpInst);</div>
<div class="line"><a name="l09477"></a><span class="lineno"> 9477</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)</div>
<div class="line"><a name="l09478"></a><span class="lineno"> 9478</span>&#160;      <span class="comment">// If this operand is already visited, reuse the prior result.</span></div>
<div class="line"><a name="l09479"></a><span class="lineno"> 9479</span>&#160;      <span class="comment">// We may have P != PHI if this is the deepest point at which the</span></div>
<div class="line"><a name="l09480"></a><span class="lineno"> 9480</span>&#160;      <span class="comment">// inconsistent paths meet.</span></div>
<div class="line"><a name="l09481"></a><span class="lineno"> 9481</span>&#160;      <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = PHIMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">lookup</a>(OpInst);</div>
<div class="line"><a name="l09482"></a><span class="lineno"> 9482</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l09483"></a><span class="lineno"> 9483</span>&#160;      <span class="comment">// Recurse and memoize the results, whether a phi is found or not.</span></div>
<div class="line"><a name="l09484"></a><span class="lineno"> 9484</span>&#160;      <span class="comment">// This recursive call invalidates pointers into PHIMap.</span></div>
<div class="line"><a name="l09485"></a><span class="lineno"> 9485</span>&#160;      <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="ScalarEvolution_8cpp.html#a6ed8a5b1d1f8bdf4c1daf83a38018cae">getConstantEvolvingPHIOperands</a>(OpInst, L, PHIMap, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l09486"></a><span class="lineno"> 9486</span>&#160;      PHIMap[OpInst] = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l09487"></a><span class="lineno"> 9487</span>&#160;    }</div>
<div class="line"><a name="l09488"></a><span class="lineno"> 9488</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)</div>
<div class="line"><a name="l09489"></a><span class="lineno"> 9489</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;  <span class="comment">// Not evolving from PHI</span></div>
<div class="line"><a name="l09490"></a><span class="lineno"> 9490</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> &amp;&amp; <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> != <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)</div>
<div class="line"><a name="l09491"></a><span class="lineno"> 9491</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;  <span class="comment">// Evolving from multiple different PHIs.</span></div>
<div class="line"><a name="l09492"></a><span class="lineno"> 9492</span>&#160;    <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l09493"></a><span class="lineno"> 9493</span>&#160;  }</div>
<div class="line"><a name="l09494"></a><span class="lineno"> 9494</span>&#160;  <span class="comment">// This is a expression evolving from a constant PHI!</span></div>
<div class="line"><a name="l09495"></a><span class="lineno"> 9495</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>;</div>
<div class="line"><a name="l09496"></a><span class="lineno"> 9496</span>&#160;}</div>
<div class="line"><a name="l09497"></a><span class="lineno"> 9497</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l09498"></a><span class="lineno"> 9498</span>&#160;<span class="comment">/// getConstantEvolvingPHI - Given an LLVM value and a loop, return a PHI node</span></div>
<div class="line"><a name="l09499"></a><span class="lineno"> 9499</span>&#160;<span class="comment">/// in the loop that V is derived from.  We allow arbitrary operations along the</span></div>
<div class="line"><a name="l09500"></a><span class="lineno"> 9500</span>&#160;<span class="comment">/// way, but the operands of an operation must either be constants or a value</span></div>
<div class="line"><a name="l09501"></a><span class="lineno"> 9501</span>&#160;<span class="comment">/// derived from a constant PHI.  If this expression does not fit with these</span></div>
<div class="line"><a name="l09502"></a><span class="lineno"> 9502</span>&#160;<span class="comment">/// constraints, return null.</span></div>
<div class="line"><a name="l09503"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#adb9a8e03cbf26bc06a1be8770914e63b"> 9503</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="ScalarEvolution_8cpp.html#adb9a8e03cbf26bc06a1be8770914e63b">getConstantEvolvingPHI</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l09504"></a><span class="lineno"> 9504</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V);</div>
<div class="line"><a name="l09505"></a><span class="lineno"> 9505</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> || !<a class="code" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L)) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09506"></a><span class="lineno"> 9506</span>&#160; </div>
<div class="line"><a name="l09507"></a><span class="lineno"> 9507</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l09508"></a><span class="lineno"> 9508</span>&#160;    <span class="keywordflow">return</span> PN;</div>
<div class="line"><a name="l09509"></a><span class="lineno"> 9509</span>&#160; </div>
<div class="line"><a name="l09510"></a><span class="lineno"> 9510</span>&#160;  <span class="comment">// Record non-constant instructions contained by the loop.</span></div>
<div class="line"><a name="l09511"></a><span class="lineno"> 9511</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, PHINode *&gt;</a> PHIMap;</div>
<div class="line"><a name="l09512"></a><span class="lineno"> 9512</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a6ed8a5b1d1f8bdf4c1daf83a38018cae">getConstantEvolvingPHIOperands</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L, PHIMap, 0);</div>
<div class="line"><a name="l09513"></a><span class="lineno"> 9513</span>&#160;}</div>
<div class="line"><a name="l09514"></a><span class="lineno"> 9514</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l09515"></a><span class="lineno"> 9515</span>&#160;<span class="comment">/// EvaluateExpression - Given an expression that passes the</span></div>
<div class="line"><a name="l09516"></a><span class="lineno"> 9516</span>&#160;<span class="comment">/// getConstantEvolvingPHI predicate, evaluate its value assuming the PHI node</span></div>
<div class="line"><a name="l09517"></a><span class="lineno"> 9517</span>&#160;<span class="comment">/// in the loop has the value PHIVal.  If we can&#39;t fold this expression for some</span></div>
<div class="line"><a name="l09518"></a><span class="lineno"> 9518</span>&#160;<span class="comment">/// reason, return null.</span></div>
<div class="line"><a name="l09519"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a7028dc2baa72be21dbd21d5d4d1d677f"> 9519</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="ScalarEvolution_8cpp.html#a7028dc2baa72be21dbd21d5d4d1d677f">EvaluateExpression</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l09520"></a><span class="lineno"> 9520</span>&#160;                                    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> &amp;Vals,</div>
<div class="line"><a name="l09521"></a><span class="lineno"> 9521</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l09522"></a><span class="lineno"> 9522</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div>
<div class="line"><a name="l09523"></a><span class="lineno"> 9523</span>&#160;  <span class="comment">// Convenient constant check, but redundant for recursive calls.</span></div>
<div class="line"><a name="l09524"></a><span class="lineno"> 9524</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(V)) <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l09525"></a><span class="lineno"> 9525</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V);</div>
<div class="line"><a name="l09526"></a><span class="lineno"> 9526</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09527"></a><span class="lineno"> 9527</span>&#160; </div>
<div class="line"><a name="l09528"></a><span class="lineno"> 9528</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Vals.<a class="code" href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">lookup</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l09529"></a><span class="lineno"> 9529</span>&#160; </div>
<div class="line"><a name="l09530"></a><span class="lineno"> 9530</span>&#160;  <span class="comment">// An instruction inside the loop depends on a value outside the loop that we</span></div>
<div class="line"><a name="l09531"></a><span class="lineno"> 9531</span>&#160;  <span class="comment">// weren&#39;t given a mapping for, or a value such as a call inside the loop.</span></div>
<div class="line"><a name="l09532"></a><span class="lineno"> 9532</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L)) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09533"></a><span class="lineno"> 9533</span>&#160; </div>
<div class="line"><a name="l09534"></a><span class="lineno"> 9534</span>&#160;  <span class="comment">// An unmapped PHI can be due to a branch or another loop inside this loop,</span></div>
<div class="line"><a name="l09535"></a><span class="lineno"> 9535</span>&#160;  <span class="comment">// or due to this not being the initial iteration through a loop where we</span></div>
<div class="line"><a name="l09536"></a><span class="lineno"> 9536</span>&#160;  <span class="comment">// couldn&#39;t compute the evolution of this particular PHI last time.</span></div>
<div class="line"><a name="l09537"></a><span class="lineno"> 9537</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09538"></a><span class="lineno"> 9538</span>&#160; </div>
<div class="line"><a name="l09539"></a><span class="lineno"> 9539</span>&#160;  std::vector&lt;Constant*&gt; <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands());</div>
<div class="line"><a name="l09540"></a><span class="lineno"> 9540</span>&#160; </div>
<div class="line"><a name="l09541"></a><span class="lineno"> 9541</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l09542"></a><span class="lineno"> 9542</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Operand = dyn_cast&lt;Instruction&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l09543"></a><span class="lineno"> 9543</span>&#160;    <span class="keywordflow">if</span> (!Operand) {</div>
<div class="line"><a name="l09544"></a><span class="lineno"> 9544</span>&#160;      <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = dyn_cast&lt;Constant&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l09545"></a><span class="lineno"> 9545</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09546"></a><span class="lineno"> 9546</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09547"></a><span class="lineno"> 9547</span>&#160;    }</div>
<div class="line"><a name="l09548"></a><span class="lineno"> 9548</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="ScalarEvolution_8cpp.html#a7028dc2baa72be21dbd21d5d4d1d677f">EvaluateExpression</a>(Operand, L, Vals, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI);</div>
<div class="line"><a name="l09549"></a><span class="lineno"> 9549</span>&#160;    Vals[Operand] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l09550"></a><span class="lineno"> 9550</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09551"></a><span class="lineno"> 9551</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l09552"></a><span class="lineno"> 9552</span>&#160;  }</div>
<div class="line"><a name="l09553"></a><span class="lineno"> 9553</span>&#160; </div>
<div class="line"><a name="l09554"></a><span class="lineno"> 9554</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a72278be77e997abc4b0dbde1be280006">ConstantFoldInstOperands</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI);</div>
<div class="line"><a name="l09555"></a><span class="lineno"> 9555</span>&#160;}</div>
<div class="line"><a name="l09556"></a><span class="lineno"> 9556</span>&#160; </div>
<div class="line"><a name="l09557"></a><span class="lineno"> 9557</span>&#160; </div>
<div class="line"><a name="l09558"></a><span class="lineno"> 9558</span>&#160;<span class="comment">// If every incoming value to PN except the one for BB is a specific Constant,</span></div>
<div class="line"><a name="l09559"></a><span class="lineno"> 9559</span>&#160;<span class="comment">// return that, else return nullptr.</span></div>
<div class="line"><a name="l09560"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ab363ae2f79a01dba54a59392c1a69f53"> 9560</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="ScalarEvolution_8cpp.html#ab363ae2f79a01dba54a59392c1a69f53">getOtherIncomingValue</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l09561"></a><span class="lineno"> 9561</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *IncomingVal = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09562"></a><span class="lineno"> 9562</span>&#160; </div>
<div class="line"><a name="l09563"></a><span class="lineno"> 9563</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l09564"></a><span class="lineno"> 9564</span>&#160;    <span class="keywordflow">if</span> (PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l09565"></a><span class="lineno"> 9565</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09566"></a><span class="lineno"> 9566</span>&#160; </div>
<div class="line"><a name="l09567"></a><span class="lineno"> 9567</span>&#160;    <span class="keyword">auto</span> *CurrentVal = dyn_cast&lt;Constant&gt;(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l09568"></a><span class="lineno"> 9568</span>&#160;    <span class="keywordflow">if</span> (!CurrentVal)</div>
<div class="line"><a name="l09569"></a><span class="lineno"> 9569</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09570"></a><span class="lineno"> 9570</span>&#160; </div>
<div class="line"><a name="l09571"></a><span class="lineno"> 9571</span>&#160;    <span class="keywordflow">if</span> (IncomingVal != CurrentVal) {</div>
<div class="line"><a name="l09572"></a><span class="lineno"> 9572</span>&#160;      <span class="keywordflow">if</span> (IncomingVal)</div>
<div class="line"><a name="l09573"></a><span class="lineno"> 9573</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09574"></a><span class="lineno"> 9574</span>&#160;      IncomingVal = CurrentVal;</div>
<div class="line"><a name="l09575"></a><span class="lineno"> 9575</span>&#160;    }</div>
<div class="line"><a name="l09576"></a><span class="lineno"> 9576</span>&#160;  }</div>
<div class="line"><a name="l09577"></a><span class="lineno"> 9577</span>&#160; </div>
<div class="line"><a name="l09578"></a><span class="lineno"> 9578</span>&#160;  <span class="keywordflow">return</span> IncomingVal;</div>
<div class="line"><a name="l09579"></a><span class="lineno"> 9579</span>&#160;}</div>
<div class="line"><a name="l09580"></a><span class="lineno"> 9580</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l09581"></a><span class="lineno"> 9581</span>&#160;<span class="comment">/// getConstantEvolutionLoopExitValue - If we know that the specified Phi is</span></div>
<div class="line"><a name="l09582"></a><span class="lineno"> 9582</span>&#160;<span class="comment">/// in the header of its containing loop, we know the loop executes a</span></div>
<div class="line"><a name="l09583"></a><span class="lineno"> 9583</span>&#160;<span class="comment">/// constant number of times, and the PHI node is just a recurrence</span></div>
<div class="line"><a name="l09584"></a><span class="lineno"> 9584</span>&#160;<span class="comment">/// involving constants, fold it.</span></div>
<div class="line"><a name="l09585"></a><span class="lineno"> 9585</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Constant.html">Constant</a> *</div>
<div class="line"><a name="l09586"></a><span class="lineno"> 9586</span>&#160;ScalarEvolution::getConstantEvolutionLoopExitValue(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN,</div>
<div class="line"><a name="l09587"></a><span class="lineno"> 9587</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;BEs,</div>
<div class="line"><a name="l09588"></a><span class="lineno"> 9588</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l09589"></a><span class="lineno"> 9589</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ConstantEvolutionLoopExitValue.find(PN);</div>
<div class="line"><a name="l09590"></a><span class="lineno"> 9590</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != ConstantEvolutionLoopExitValue.end())</div>
<div class="line"><a name="l09591"></a><span class="lineno"> 9591</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l09592"></a><span class="lineno"> 9592</span>&#160; </div>
<div class="line"><a name="l09593"></a><span class="lineno"> 9593</span>&#160;  <span class="keywordflow">if</span> (BEs.<a class="code" href="classllvm_1_1APInt.html#a46a7cbf3724080a5f4f4c7e7a4551e26">ugt</a>(<a class="code" href="ScalarEvolution_8cpp.html#aacfeb3ed0f2f45dfd47a91f932353846">MaxBruteForceIterations</a>))</div>
<div class="line"><a name="l09594"></a><span class="lineno"> 9594</span>&#160;    <span class="keywordflow">return</span> ConstantEvolutionLoopExitValue[PN] = <span class="keyword">nullptr</span>;  <span class="comment">// Not going to evaluate it.</span></div>
<div class="line"><a name="l09595"></a><span class="lineno"> 9595</span>&#160; </div>
<div class="line"><a name="l09596"></a><span class="lineno"> 9596</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *&amp;RetVal = ConstantEvolutionLoopExitValue[PN];</div>
<div class="line"><a name="l09597"></a><span class="lineno"> 9597</span>&#160; </div>
<div class="line"><a name="l09598"></a><span class="lineno"> 9598</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> CurrentIterVals;</div>
<div class="line"><a name="l09599"></a><span class="lineno"> 9599</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>();</div>
<div class="line"><a name="l09600"></a><span class="lineno"> 9600</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>() == Header &amp;&amp; <span class="stringliteral">&quot;Can&#39;t evaluate PHI not in loop header!&quot;</span>);</div>
<div class="line"><a name="l09601"></a><span class="lineno"> 9601</span>&#160; </div>
<div class="line"><a name="l09602"></a><span class="lineno"> 9602</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l09603"></a><span class="lineno"> 9603</span>&#160;  <span class="keywordflow">if</span> (!Latch)</div>
<div class="line"><a name="l09604"></a><span class="lineno"> 9604</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09605"></a><span class="lineno"> 9605</span>&#160; </div>
<div class="line"><a name="l09606"></a><span class="lineno"> 9606</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> : Header-&gt;phis()) {</div>
<div class="line"><a name="l09607"></a><span class="lineno"> 9607</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *StartCST = <a class="code" href="ScalarEvolution_8cpp.html#ab363ae2f79a01dba54a59392c1a69f53">getOtherIncomingValue</a>(&amp;<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>, Latch))</div>
<div class="line"><a name="l09608"></a><span class="lineno"> 9608</span>&#160;      CurrentIterVals[&amp;<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>] = StartCST;</div>
<div class="line"><a name="l09609"></a><span class="lineno"> 9609</span>&#160;  }</div>
<div class="line"><a name="l09610"></a><span class="lineno"> 9610</span>&#160;  <span class="keywordflow">if</span> (!CurrentIterVals.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(PN))</div>
<div class="line"><a name="l09611"></a><span class="lineno"> 9611</span>&#160;    <span class="keywordflow">return</span> RetVal = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09612"></a><span class="lineno"> 9612</span>&#160; </div>
<div class="line"><a name="l09613"></a><span class="lineno"> 9613</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValue = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(Latch);</div>
<div class="line"><a name="l09614"></a><span class="lineno"> 9614</span>&#160; </div>
<div class="line"><a name="l09615"></a><span class="lineno"> 9615</span>&#160;  <span class="comment">// Execute the loop symbolically to determine the exit value.</span></div>
<div class="line"><a name="l09616"></a><span class="lineno"> 9616</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BEs.<a class="code" href="classllvm_1_1APInt.html#a3015474e70e59c0a3ed4f9f0e8644b75">getActiveBits</a>() &lt; CHAR_BIT * <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span>) &amp;&amp;</div>
<div class="line"><a name="l09617"></a><span class="lineno"> 9617</span>&#160;         <span class="stringliteral">&quot;BEs is &lt;= MaxBruteForceIterations which is an &#39;unsigned&#39;!&quot;</span>);</div>
<div class="line"><a name="l09618"></a><span class="lineno"> 9618</span>&#160; </div>
<div class="line"><a name="l09619"></a><span class="lineno"> 9619</span>&#160;  <span class="keywordtype">unsigned</span> NumIterations = BEs.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>(); <span class="comment">// must be in range</span></div>
<div class="line"><a name="l09620"></a><span class="lineno"> 9620</span>&#160;  <span class="keywordtype">unsigned</span> IterationNum = 0;</div>
<div class="line"><a name="l09621"></a><span class="lineno"> 9621</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>();</div>
<div class="line"><a name="l09622"></a><span class="lineno"> 9622</span>&#160;  <span class="keywordflow">for</span> (; ; ++IterationNum) {</div>
<div class="line"><a name="l09623"></a><span class="lineno"> 9623</span>&#160;    <span class="keywordflow">if</span> (IterationNum == NumIterations)</div>
<div class="line"><a name="l09624"></a><span class="lineno"> 9624</span>&#160;      <span class="keywordflow">return</span> RetVal = CurrentIterVals[PN];  <span class="comment">// Got exit value!</span></div>
<div class="line"><a name="l09625"></a><span class="lineno"> 9625</span>&#160; </div>
<div class="line"><a name="l09626"></a><span class="lineno"> 9626</span>&#160;    <span class="comment">// Compute the value of the PHIs for the next iteration.</span></div>
<div class="line"><a name="l09627"></a><span class="lineno"> 9627</span>&#160;    <span class="comment">// EvaluateExpression adds non-phi values to the CurrentIterVals map.</span></div>
<div class="line"><a name="l09628"></a><span class="lineno"> 9628</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> NextIterVals;</div>
<div class="line"><a name="l09629"></a><span class="lineno"> 9629</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NextPHI =</div>
<div class="line"><a name="l09630"></a><span class="lineno"> 9630</span>&#160;        <a class="code" href="ScalarEvolution_8cpp.html#a7028dc2baa72be21dbd21d5d4d1d677f">EvaluateExpression</a>(BEValue, L, CurrentIterVals, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;TLI);</div>
<div class="line"><a name="l09631"></a><span class="lineno"> 9631</span>&#160;    <span class="keywordflow">if</span> (!NextPHI)</div>
<div class="line"><a name="l09632"></a><span class="lineno"> 9632</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;        <span class="comment">// Couldn&#39;t evaluate!</span></div>
<div class="line"><a name="l09633"></a><span class="lineno"> 9633</span>&#160;    NextIterVals[PN] = NextPHI;</div>
<div class="line"><a name="l09634"></a><span class="lineno"> 9634</span>&#160; </div>
<div class="line"><a name="l09635"></a><span class="lineno"> 9635</span>&#160;    <span class="keywordtype">bool</span> StoppedEvolving = NextPHI == CurrentIterVals[PN];</div>
<div class="line"><a name="l09636"></a><span class="lineno"> 9636</span>&#160; </div>
<div class="line"><a name="l09637"></a><span class="lineno"> 9637</span>&#160;    <span class="comment">// Also evaluate the other PHI nodes.  However, we don&#39;t get to stop if we</span></div>
<div class="line"><a name="l09638"></a><span class="lineno"> 9638</span>&#160;    <span class="comment">// cease to be able to evaluate one of them or if they stop evolving,</span></div>
<div class="line"><a name="l09639"></a><span class="lineno"> 9639</span>&#160;    <span class="comment">// because that doesn&#39;t necessarily prevent us from computing PN.</span></div>
<div class="line"><a name="l09640"></a><span class="lineno"> 9640</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;PHINode *, Constant *&gt;</a>, 8&gt; PHIsToCompute;</div>
<div class="line"><a name="l09641"></a><span class="lineno"> 9641</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : CurrentIterVals) {</div>
<div class="line"><a name="l09642"></a><span class="lineno"> 9642</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> = dyn_cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first);</div>
<div class="line"><a name="l09643"></a><span class="lineno"> 9643</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> || <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> == PN || <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;getParent() != Header) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09644"></a><span class="lineno"> 9644</span>&#160;      PHIsToCompute.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second);</div>
<div class="line"><a name="l09645"></a><span class="lineno"> 9645</span>&#160;    }</div>
<div class="line"><a name="l09646"></a><span class="lineno"> 9646</span>&#160;    <span class="comment">// We use two distinct loops because EvaluateExpression may invalidate any</span></div>
<div class="line"><a name="l09647"></a><span class="lineno"> 9647</span>&#160;    <span class="comment">// iterators into CurrentIterVals.</span></div>
<div class="line"><a name="l09648"></a><span class="lineno"> 9648</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : PHIsToCompute) {</div>
<div class="line"><a name="l09649"></a><span class="lineno"> 9649</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first;</div>
<div class="line"><a name="l09650"></a><span class="lineno"> 9650</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *&amp;NextPHI = NextIterVals[<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>];</div>
<div class="line"><a name="l09651"></a><span class="lineno"> 9651</span>&#160;      <span class="keywordflow">if</span> (!NextPHI) {   <span class="comment">// Not already computed.</span></div>
<div class="line"><a name="l09652"></a><span class="lineno"> 9652</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValue = <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;getIncomingValueForBlock(Latch);</div>
<div class="line"><a name="l09653"></a><span class="lineno"> 9653</span>&#160;        NextPHI = <a class="code" href="ScalarEvolution_8cpp.html#a7028dc2baa72be21dbd21d5d4d1d677f">EvaluateExpression</a>(BEValue, L, CurrentIterVals, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;TLI);</div>
<div class="line"><a name="l09654"></a><span class="lineno"> 9654</span>&#160;      }</div>
<div class="line"><a name="l09655"></a><span class="lineno"> 9655</span>&#160;      <span class="keywordflow">if</span> (NextPHI != <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second)</div>
<div class="line"><a name="l09656"></a><span class="lineno"> 9656</span>&#160;        StoppedEvolving = <span class="keyword">false</span>;</div>
<div class="line"><a name="l09657"></a><span class="lineno"> 9657</span>&#160;    }</div>
<div class="line"><a name="l09658"></a><span class="lineno"> 9658</span>&#160; </div>
<div class="line"><a name="l09659"></a><span class="lineno"> 9659</span>&#160;    <span class="comment">// If all entries in CurrentIterVals == NextIterVals then we can stop</span></div>
<div class="line"><a name="l09660"></a><span class="lineno"> 9660</span>&#160;    <span class="comment">// iterating, the loop can&#39;t continue to change.</span></div>
<div class="line"><a name="l09661"></a><span class="lineno"> 9661</span>&#160;    <span class="keywordflow">if</span> (StoppedEvolving)</div>
<div class="line"><a name="l09662"></a><span class="lineno"> 9662</span>&#160;      <span class="keywordflow">return</span> RetVal = CurrentIterVals[PN];</div>
<div class="line"><a name="l09663"></a><span class="lineno"> 9663</span>&#160; </div>
<div class="line"><a name="l09664"></a><span class="lineno"> 9664</span>&#160;    CurrentIterVals.swap(NextIterVals);</div>
<div class="line"><a name="l09665"></a><span class="lineno"> 9665</span>&#160;  }</div>
<div class="line"><a name="l09666"></a><span class="lineno"> 9666</span>&#160;}</div>
<div class="line"><a name="l09667"></a><span class="lineno"> 9667</span>&#160; </div>
<div class="line"><a name="l09668"></a><span class="lineno"> 9668</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::computeExitCountExhaustively(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l09669"></a><span class="lineno"> 9669</span>&#160;                                                          <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l09670"></a><span class="lineno"> 9670</span>&#160;                                                          <span class="keywordtype">bool</span> ExitWhen) {</div>
<div class="line"><a name="l09671"></a><span class="lineno"> 9671</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = <a class="code" href="ScalarEvolution_8cpp.html#adb9a8e03cbf26bc06a1be8770914e63b">getConstantEvolvingPHI</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, L);</div>
<div class="line"><a name="l09672"></a><span class="lineno"> 9672</span>&#160;  <span class="keywordflow">if</span> (!PN) <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09673"></a><span class="lineno"> 9673</span>&#160; </div>
<div class="line"><a name="l09674"></a><span class="lineno"> 9674</span>&#160;  <span class="comment">// If the loop is canonicalized, the PHI will have exactly two entries.</span></div>
<div class="line"><a name="l09675"></a><span class="lineno"> 9675</span>&#160;  <span class="comment">// That&#39;s the only form we support here.</span></div>
<div class="line"><a name="l09676"></a><span class="lineno"> 9676</span>&#160;  <span class="keywordflow">if</span> (PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>() != 2) <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09677"></a><span class="lineno"> 9677</span>&#160; </div>
<div class="line"><a name="l09678"></a><span class="lineno"> 9678</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> CurrentIterVals;</div>
<div class="line"><a name="l09679"></a><span class="lineno"> 9679</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>();</div>
<div class="line"><a name="l09680"></a><span class="lineno"> 9680</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>() == Header &amp;&amp; <span class="stringliteral">&quot;Can&#39;t evaluate PHI not in loop header!&quot;</span>);</div>
<div class="line"><a name="l09681"></a><span class="lineno"> 9681</span>&#160; </div>
<div class="line"><a name="l09682"></a><span class="lineno"> 9682</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l09683"></a><span class="lineno"> 9683</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Latch &amp;&amp; <span class="stringliteral">&quot;Should follow from NumIncomingValues == 2!&quot;</span>);</div>
<div class="line"><a name="l09684"></a><span class="lineno"> 9684</span>&#160; </div>
<div class="line"><a name="l09685"></a><span class="lineno"> 9685</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> : Header-&gt;phis()) {</div>
<div class="line"><a name="l09686"></a><span class="lineno"> 9686</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *StartCST = <a class="code" href="ScalarEvolution_8cpp.html#ab363ae2f79a01dba54a59392c1a69f53">getOtherIncomingValue</a>(&amp;<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>, Latch))</div>
<div class="line"><a name="l09687"></a><span class="lineno"> 9687</span>&#160;      CurrentIterVals[&amp;<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>] = StartCST;</div>
<div class="line"><a name="l09688"></a><span class="lineno"> 9688</span>&#160;  }</div>
<div class="line"><a name="l09689"></a><span class="lineno"> 9689</span>&#160;  <span class="keywordflow">if</span> (!CurrentIterVals.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(PN))</div>
<div class="line"><a name="l09690"></a><span class="lineno"> 9690</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09691"></a><span class="lineno"> 9691</span>&#160; </div>
<div class="line"><a name="l09692"></a><span class="lineno"> 9692</span>&#160;  <span class="comment">// Okay, we find a PHI node that defines the trip count of this loop.  Execute</span></div>
<div class="line"><a name="l09693"></a><span class="lineno"> 9693</span>&#160;  <span class="comment">// the loop symbolically to determine when the condition gets a value of</span></div>
<div class="line"><a name="l09694"></a><span class="lineno"> 9694</span>&#160;  <span class="comment">// &quot;ExitWhen&quot;.</span></div>
<div class="line"><a name="l09695"></a><span class="lineno"> 9695</span>&#160;  <span class="keywordtype">unsigned</span> MaxIterations = <a class="code" href="ScalarEvolution_8cpp.html#aacfeb3ed0f2f45dfd47a91f932353846">MaxBruteForceIterations</a>;   <span class="comment">// Limit analysis.</span></div>
<div class="line"><a name="l09696"></a><span class="lineno"> 9696</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>();</div>
<div class="line"><a name="l09697"></a><span class="lineno"> 9697</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> IterationNum = 0; IterationNum != MaxIterations;++IterationNum){</div>
<div class="line"><a name="l09698"></a><span class="lineno"> 9698</span>&#160;    <span class="keyword">auto</span> *CondVal = dyn_cast_or_null&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l09699"></a><span class="lineno"> 9699</span>&#160;        <a class="code" href="ScalarEvolution_8cpp.html#a7028dc2baa72be21dbd21d5d4d1d677f">EvaluateExpression</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, L, CurrentIterVals, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;TLI));</div>
<div class="line"><a name="l09700"></a><span class="lineno"> 9700</span>&#160; </div>
<div class="line"><a name="l09701"></a><span class="lineno"> 9701</span>&#160;    <span class="comment">// Couldn&#39;t symbolically evaluate.</span></div>
<div class="line"><a name="l09702"></a><span class="lineno"> 9702</span>&#160;    <span class="keywordflow">if</span> (!CondVal) <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09703"></a><span class="lineno"> 9703</span>&#160; </div>
<div class="line"><a name="l09704"></a><span class="lineno"> 9704</span>&#160;    <span class="keywordflow">if</span> (CondVal-&gt;getValue() == <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(ExitWhen)) {</div>
<div class="line"><a name="l09705"></a><span class="lineno"> 9705</span>&#160;      ++NumBruteForceTripCountsComputed;</div>
<div class="line"><a name="l09706"></a><span class="lineno"> 9706</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>()), IterationNum);</div>
<div class="line"><a name="l09707"></a><span class="lineno"> 9707</span>&#160;    }</div>
<div class="line"><a name="l09708"></a><span class="lineno"> 9708</span>&#160; </div>
<div class="line"><a name="l09709"></a><span class="lineno"> 9709</span>&#160;    <span class="comment">// Update all the PHI nodes for the next iteration.</span></div>
<div class="line"><a name="l09710"></a><span class="lineno"> 9710</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> NextIterVals;</div>
<div class="line"><a name="l09711"></a><span class="lineno"> 9711</span>&#160; </div>
<div class="line"><a name="l09712"></a><span class="lineno"> 9712</span>&#160;    <span class="comment">// Create a list of which PHIs we need to compute. We want to do this before</span></div>
<div class="line"><a name="l09713"></a><span class="lineno"> 9713</span>&#160;    <span class="comment">// calling EvaluateExpression on them because that may invalidate iterators</span></div>
<div class="line"><a name="l09714"></a><span class="lineno"> 9714</span>&#160;    <span class="comment">// into CurrentIterVals.</span></div>
<div class="line"><a name="l09715"></a><span class="lineno"> 9715</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;PHINode *, 8&gt;</a> PHIsToCompute;</div>
<div class="line"><a name="l09716"></a><span class="lineno"> 9716</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : CurrentIterVals) {</div>
<div class="line"><a name="l09717"></a><span class="lineno"> 9717</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> = dyn_cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first);</div>
<div class="line"><a name="l09718"></a><span class="lineno"> 9718</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> || <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;getParent() != Header) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09719"></a><span class="lineno"> 9719</span>&#160;      PHIsToCompute.push_back(<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>);</div>
<div class="line"><a name="l09720"></a><span class="lineno"> 9720</span>&#160;    }</div>
<div class="line"><a name="l09721"></a><span class="lineno"> 9721</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> : PHIsToCompute) {</div>
<div class="line"><a name="l09722"></a><span class="lineno"> 9722</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *&amp;NextPHI = NextIterVals[<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>];</div>
<div class="line"><a name="l09723"></a><span class="lineno"> 9723</span>&#160;      <span class="keywordflow">if</span> (NextPHI) <span class="keywordflow">continue</span>;    <span class="comment">// Already computed!</span></div>
<div class="line"><a name="l09724"></a><span class="lineno"> 9724</span>&#160; </div>
<div class="line"><a name="l09725"></a><span class="lineno"> 9725</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValue = <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;getIncomingValueForBlock(Latch);</div>
<div class="line"><a name="l09726"></a><span class="lineno"> 9726</span>&#160;      NextPHI = <a class="code" href="ScalarEvolution_8cpp.html#a7028dc2baa72be21dbd21d5d4d1d677f">EvaluateExpression</a>(BEValue, L, CurrentIterVals, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;TLI);</div>
<div class="line"><a name="l09727"></a><span class="lineno"> 9727</span>&#160;    }</div>
<div class="line"><a name="l09728"></a><span class="lineno"> 9728</span>&#160;    CurrentIterVals.swap(NextIterVals);</div>
<div class="line"><a name="l09729"></a><span class="lineno"> 9729</span>&#160;  }</div>
<div class="line"><a name="l09730"></a><span class="lineno"> 9730</span>&#160; </div>
<div class="line"><a name="l09731"></a><span class="lineno"> 9731</span>&#160;  <span class="comment">// Too many iterations were needed to evaluate.</span></div>
<div class="line"><a name="l09732"></a><span class="lineno"> 9732</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l09733"></a><span class="lineno"> 9733</span>&#160;}</div>
<div class="line"><a name="l09734"></a><span class="lineno"> 9734</span>&#160; </div>
<div class="line"><a name="l09735"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68"> 9735</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">ScalarEvolution::getSCEVAtScope</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l09736"></a><span class="lineno"> 9736</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;const Loop *, const SCEV *&gt;</a>, 2&gt; &amp;Values =</div>
<div class="line"><a name="l09737"></a><span class="lineno"> 9737</span>&#160;      ValuesAtScopes[V];</div>
<div class="line"><a name="l09738"></a><span class="lineno"> 9738</span>&#160;  <span class="comment">// Check to see if we&#39;ve folded this expression at this loop before.</span></div>
<div class="line"><a name="l09739"></a><span class="lineno"> 9739</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a> : Values)</div>
<div class="line"><a name="l09740"></a><span class="lineno"> 9740</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>.first == L)</div>
<div class="line"><a name="l09741"></a><span class="lineno"> 9741</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>.second ? <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>.second : V;</div>
<div class="line"><a name="l09742"></a><span class="lineno"> 9742</span>&#160; </div>
<div class="line"><a name="l09743"></a><span class="lineno"> 9743</span>&#160;  Values.emplace_back(L, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l09744"></a><span class="lineno"> 9744</span>&#160; </div>
<div class="line"><a name="l09745"></a><span class="lineno"> 9745</span>&#160;  <span class="comment">// Otherwise compute it.</span></div>
<div class="line"><a name="l09746"></a><span class="lineno"> 9746</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = computeSCEVAtScope(V, L);</div>
<div class="line"><a name="l09747"></a><span class="lineno"> 9747</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(ValuesAtScopes[V]))</div>
<div class="line"><a name="l09748"></a><span class="lineno"> 9748</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>.first == L) {</div>
<div class="line"><a name="l09749"></a><span class="lineno"> 9749</span>&#160;      <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>.second = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l09750"></a><span class="lineno"> 9750</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l09751"></a><span class="lineno"> 9751</span>&#160;        ValuesAtScopesUsers[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>].push_back({L, V});</div>
<div class="line"><a name="l09752"></a><span class="lineno"> 9752</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09753"></a><span class="lineno"> 9753</span>&#160;    }</div>
<div class="line"><a name="l09754"></a><span class="lineno"> 9754</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l09755"></a><span class="lineno"> 9755</span>&#160;}</div>
<div class="line"><a name="l09756"></a><span class="lineno"> 9756</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l09757"></a><span class="lineno"> 9757</span>&#160;<span class="comment">/// This builds up a Constant using the ConstantExpr interface.  That way, we</span></div>
<div class="line"><a name="l09758"></a><span class="lineno"> 9758</span>&#160;<span class="comment">/// will return Constants for objects which aren&#39;t represented by a</span></div>
<div class="line"><a name="l09759"></a><span class="lineno"> 9759</span>&#160;<span class="comment">/// SCEVConstant, because SCEVConstant is restricted to ConstantInt.</span></div>
<div class="line"><a name="l09760"></a><span class="lineno"> 9760</span>&#160;<span class="comment">/// Returns NULL if the SCEV isn&#39;t representable as a Constant.</span></div>
<div class="line"><a name="l09761"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e"> 9761</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V) {</div>
<div class="line"><a name="l09762"></a><span class="lineno"> 9762</span>&#160;  <span class="keywordflow">switch</span> (V-&gt;<a class="code" href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">getSCEVType</a>()) {</div>
<div class="line"><a name="l09763"></a><span class="lineno"> 9763</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l09764"></a><span class="lineno"> 9764</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div>
<div class="line"><a name="l09765"></a><span class="lineno"> 9765</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09766"></a><span class="lineno"> 9766</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l09767"></a><span class="lineno"> 9767</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVConstant&gt;(V)-&gt;getValue();</div>
<div class="line"><a name="l09768"></a><span class="lineno"> 9768</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div>
<div class="line"><a name="l09769"></a><span class="lineno"> 9769</span>&#160;    <span class="keywordflow">return</span> dyn_cast&lt;Constant&gt;(cast&lt;SCEVUnknown&gt;(V)-&gt;getValue());</div>
<div class="line"><a name="l09770"></a><span class="lineno"> 9770</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>: {</div>
<div class="line"><a name="l09771"></a><span class="lineno"> 9771</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> = cast&lt;SCEVSignExtendExpr&gt;(V);</div>
<div class="line"><a name="l09772"></a><span class="lineno"> 9772</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CastOp = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>-&gt;getOperand()))</div>
<div class="line"><a name="l09773"></a><span class="lineno"> 9773</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#aa342c9b3d47cd9bde63b80c83ead429b">ConstantExpr::getSExt</a>(CastOp, <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>-&gt;getType());</div>
<div class="line"><a name="l09774"></a><span class="lineno"> 9774</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09775"></a><span class="lineno"> 9775</span>&#160;  }</div>
<div class="line"><a name="l09776"></a><span class="lineno"> 9776</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>: {</div>
<div class="line"><a name="l09777"></a><span class="lineno"> 9777</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *SZ = cast&lt;SCEVZeroExtendExpr&gt;(V);</div>
<div class="line"><a name="l09778"></a><span class="lineno"> 9778</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CastOp = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(SZ-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>()))</div>
<div class="line"><a name="l09779"></a><span class="lineno"> 9779</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a58d6359cee16e5da66861058836dcca9">ConstantExpr::getZExt</a>(CastOp, SZ-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>());</div>
<div class="line"><a name="l09780"></a><span class="lineno"> 9780</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09781"></a><span class="lineno"> 9781</span>&#160;  }</div>
<div class="line"><a name="l09782"></a><span class="lineno"> 9782</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>: {</div>
<div class="line"><a name="l09783"></a><span class="lineno"> 9783</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPtrToIntExpr.html">SCEVPtrToIntExpr</a> *P2I = cast&lt;SCEVPtrToIntExpr&gt;(V);</div>
<div class="line"><a name="l09784"></a><span class="lineno"> 9784</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CastOp = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(P2I-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>()))</div>
<div class="line"><a name="l09785"></a><span class="lineno"> 9785</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(CastOp, P2I-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>());</div>
<div class="line"><a name="l09786"></a><span class="lineno"> 9786</span>&#160; </div>
<div class="line"><a name="l09787"></a><span class="lineno"> 9787</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09788"></a><span class="lineno"> 9788</span>&#160;  }</div>
<div class="line"><a name="l09789"></a><span class="lineno"> 9789</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>: {</div>
<div class="line"><a name="l09790"></a><span class="lineno"> 9790</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = cast&lt;SCEVTruncateExpr&gt;(V);</div>
<div class="line"><a name="l09791"></a><span class="lineno"> 9791</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CastOp = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getOperand()))</div>
<div class="line"><a name="l09792"></a><span class="lineno"> 9792</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">ConstantExpr::getTrunc</a>(CastOp, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getType());</div>
<div class="line"><a name="l09793"></a><span class="lineno"> 9793</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09794"></a><span class="lineno"> 9794</span>&#160;  }</div>
<div class="line"><a name="l09795"></a><span class="lineno"> 9795</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>: {</div>
<div class="line"><a name="l09796"></a><span class="lineno"> 9796</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *SA = cast&lt;SCEVAddExpr&gt;(V);</div>
<div class="line"><a name="l09797"></a><span class="lineno"> 9797</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09798"></a><span class="lineno"> 9798</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>()) {</div>
<div class="line"><a name="l09799"></a><span class="lineno"> 9799</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *OpC = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l09800"></a><span class="lineno"> 9800</span>&#160;      <span class="keywordflow">if</span> (!OpC)</div>
<div class="line"><a name="l09801"></a><span class="lineno"> 9801</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09802"></a><span class="lineno"> 9802</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l09803"></a><span class="lineno"> 9803</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = OpC;</div>
<div class="line"><a name="l09804"></a><span class="lineno"> 9804</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09805"></a><span class="lineno"> 9805</span>&#160;      }</div>
<div class="line"><a name="l09806"></a><span class="lineno"> 9806</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType()-&gt;isPointerTy() &amp;&amp;</div>
<div class="line"><a name="l09807"></a><span class="lineno"> 9807</span>&#160;             <span class="stringliteral">&quot;Can only have one pointer, and it must be last&quot;</span>);</div>
<div class="line"><a name="l09808"></a><span class="lineno"> 9808</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *PT = dyn_cast&lt;PointerType&gt;(OpC-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())) {</div>
<div class="line"><a name="l09809"></a><span class="lineno"> 9809</span>&#160;        <span class="comment">// The offsets have been converted to bytes.  We can add bytes to an</span></div>
<div class="line"><a name="l09810"></a><span class="lineno"> 9810</span>&#160;        <span class="comment">// i8* by GEP with the byte count in the first index.</span></div>
<div class="line"><a name="l09811"></a><span class="lineno"> 9811</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *DestPtrTy =</div>
<div class="line"><a name="l09812"></a><span class="lineno"> 9812</span>&#160;            <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(PT-&gt;getContext(), PT-&gt;getAddressSpace());</div>
<div class="line"><a name="l09813"></a><span class="lineno"> 9813</span>&#160;        OpC = <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(OpC, DestPtrTy);</div>
<div class="line"><a name="l09814"></a><span class="lineno"> 9814</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">ConstantExpr::getGetElementPtr</a>(<a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getContext()),</div>
<div class="line"><a name="l09815"></a><span class="lineno"> 9815</span>&#160;                                           OpC, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l09816"></a><span class="lineno"> 9816</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09817"></a><span class="lineno"> 9817</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">ConstantExpr::getAdd</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, OpC);</div>
<div class="line"><a name="l09818"></a><span class="lineno"> 9818</span>&#160;      }</div>
<div class="line"><a name="l09819"></a><span class="lineno"> 9819</span>&#160;    }</div>
<div class="line"><a name="l09820"></a><span class="lineno"> 9820</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l09821"></a><span class="lineno"> 9821</span>&#160;  }</div>
<div class="line"><a name="l09822"></a><span class="lineno"> 9822</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>: {</div>
<div class="line"><a name="l09823"></a><span class="lineno"> 9823</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *SM = cast&lt;SCEVMulExpr&gt;(V);</div>
<div class="line"><a name="l09824"></a><span class="lineno"> 9824</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09825"></a><span class="lineno"> 9825</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : SM-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>()) {</div>
<div class="line"><a name="l09826"></a><span class="lineno"> 9826</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isPointerTy() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t multiply pointers&quot;</span>);</div>
<div class="line"><a name="l09827"></a><span class="lineno"> 9827</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *OpC = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l09828"></a><span class="lineno"> 9828</span>&#160;      <span class="keywordflow">if</span> (!OpC)</div>
<div class="line"><a name="l09829"></a><span class="lineno"> 9829</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09830"></a><span class="lineno"> 9830</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> ? <a class="code" href="classllvm_1_1ConstantExpr.html#aa3e1005525fe79e631f1fe5bd91fdf3c">ConstantExpr::getMul</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, OpC) : OpC;</div>
<div class="line"><a name="l09831"></a><span class="lineno"> 9831</span>&#160;    }</div>
<div class="line"><a name="l09832"></a><span class="lineno"> 9832</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l09833"></a><span class="lineno"> 9833</span>&#160;  }</div>
<div class="line"><a name="l09834"></a><span class="lineno"> 9834</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l09835"></a><span class="lineno"> 9835</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l09836"></a><span class="lineno"> 9836</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l09837"></a><span class="lineno"> 9837</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l09838"></a><span class="lineno"> 9838</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l09839"></a><span class="lineno"> 9839</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l09840"></a><span class="lineno"> 9840</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; <span class="comment">// TODO: smax, umax, smin, umax, umin_seq.</span></div>
<div class="line"><a name="l09841"></a><span class="lineno"> 9841</span>&#160;  }</div>
<div class="line"><a name="l09842"></a><span class="lineno"> 9842</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l09843"></a><span class="lineno"> 9843</span>&#160;}</div>
<div class="line"><a name="l09844"></a><span class="lineno"> 9844</span>&#160; </div>
<div class="line"><a name="l09845"></a><span class="lineno"> 9845</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::computeSCEVAtScope(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l09846"></a><span class="lineno"> 9846</span>&#160;  <span class="keywordflow">switch</span> (V-&gt;<a class="code" href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">getSCEVType</a>()) {</div>
<div class="line"><a name="l09847"></a><span class="lineno"> 9847</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l09848"></a><span class="lineno"> 9848</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l09849"></a><span class="lineno"> 9849</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div>
<div class="line"><a name="l09850"></a><span class="lineno"> 9850</span>&#160;    <span class="comment">// If this is a loop recurrence for a loop that does not contain L, then we</span></div>
<div class="line"><a name="l09851"></a><span class="lineno"> 9851</span>&#160;    <span class="comment">// are dealing with the final value computed by the loop.</span></div>
<div class="line"><a name="l09852"></a><span class="lineno"> 9852</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = cast&lt;SCEVAddRecExpr&gt;(V);</div>
<div class="line"><a name="l09853"></a><span class="lineno"> 9853</span>&#160;    <span class="comment">// First, attempt to evaluate each operand.</span></div>
<div class="line"><a name="l09854"></a><span class="lineno"> 9854</span>&#160;    <span class="comment">// Avoid performing the look-up in the common case where the specified</span></div>
<div class="line"><a name="l09855"></a><span class="lineno"> 9855</span>&#160;    <span class="comment">// expression has no loop-variant portions.</span></div>
<div class="line"><a name="l09856"></a><span class="lineno"> 9856</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l09857"></a><span class="lineno"> 9857</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OpAtScope = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), L);</div>
<div class="line"><a name="l09858"></a><span class="lineno"> 9858</span>&#160;      <span class="keywordflow">if</span> (OpAtScope == AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l09859"></a><span class="lineno"> 9859</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09860"></a><span class="lineno"> 9860</span>&#160; </div>
<div class="line"><a name="l09861"></a><span class="lineno"> 9861</span>&#160;      <span class="comment">// Okay, at least one of these operands is loop variant but might be</span></div>
<div class="line"><a name="l09862"></a><span class="lineno"> 9862</span>&#160;      <span class="comment">// foldable.  Build a new instance of the folded commutative expression.</span></div>
<div class="line"><a name="l09863"></a><span class="lineno"> 9863</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> NewOps;</div>
<div class="line"><a name="l09864"></a><span class="lineno"> 9864</span>&#160;      NewOps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>());</div>
<div class="line"><a name="l09865"></a><span class="lineno"> 9865</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(NewOps, AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>().take_front(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l09866"></a><span class="lineno"> 9866</span>&#160;      NewOps.push_back(OpAtScope);</div>
<div class="line"><a name="l09867"></a><span class="lineno"> 9867</span>&#160;      <span class="keywordflow">for</span> (++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l09868"></a><span class="lineno"> 9868</span>&#160;        NewOps.push_back(<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), L));</div>
<div class="line"><a name="l09869"></a><span class="lineno"> 9869</span>&#160; </div>
<div class="line"><a name="l09870"></a><span class="lineno"> 9870</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoldedRec = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(</div>
<div class="line"><a name="l09871"></a><span class="lineno"> 9871</span>&#160;          NewOps, AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>(), AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>));</div>
<div class="line"><a name="l09872"></a><span class="lineno"> 9872</span>&#160;      AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(FoldedRec);</div>
<div class="line"><a name="l09873"></a><span class="lineno"> 9873</span>&#160;      <span class="comment">// The addrec may be folded to a nonrecurrence, for example, if the</span></div>
<div class="line"><a name="l09874"></a><span class="lineno"> 9874</span>&#160;      <span class="comment">// induction variable is multiplied by zero after constant folding. Go</span></div>
<div class="line"><a name="l09875"></a><span class="lineno"> 9875</span>&#160;      <span class="comment">// ahead and return the folded value.</span></div>
<div class="line"><a name="l09876"></a><span class="lineno"> 9876</span>&#160;      <span class="keywordflow">if</span> (!AddRec)</div>
<div class="line"><a name="l09877"></a><span class="lineno"> 9877</span>&#160;        <span class="keywordflow">return</span> FoldedRec;</div>
<div class="line"><a name="l09878"></a><span class="lineno"> 9878</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09879"></a><span class="lineno"> 9879</span>&#160;    }</div>
<div class="line"><a name="l09880"></a><span class="lineno"> 9880</span>&#160; </div>
<div class="line"><a name="l09881"></a><span class="lineno"> 9881</span>&#160;    <span class="comment">// If the scope is outside the addrec&#39;s loop, evaluate it by using the</span></div>
<div class="line"><a name="l09882"></a><span class="lineno"> 9882</span>&#160;    <span class="comment">// loop exit value of the addrec.</span></div>
<div class="line"><a name="l09883"></a><span class="lineno"> 9883</span>&#160;    <span class="keywordflow">if</span> (!AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(L)) {</div>
<div class="line"><a name="l09884"></a><span class="lineno"> 9884</span>&#160;      <span class="comment">// To evaluate this recurrence, we need to know how many times the AddRec</span></div>
<div class="line"><a name="l09885"></a><span class="lineno"> 9885</span>&#160;      <span class="comment">// loop iterates.  Compute this now.</span></div>
<div class="line"><a name="l09886"></a><span class="lineno"> 9886</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BackedgeTakenCount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e">getBackedgeTakenCount</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>());</div>
<div class="line"><a name="l09887"></a><span class="lineno"> 9887</span>&#160;      <span class="keywordflow">if</span> (BackedgeTakenCount == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l09888"></a><span class="lineno"> 9888</span>&#160;        <span class="keywordflow">return</span> AddRec;</div>
<div class="line"><a name="l09889"></a><span class="lineno"> 9889</span>&#160; </div>
<div class="line"><a name="l09890"></a><span class="lineno"> 9890</span>&#160;      <span class="comment">// Then, evaluate the AddRec.</span></div>
<div class="line"><a name="l09891"></a><span class="lineno"> 9891</span>&#160;      <span class="keywordflow">return</span> AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a33583576f220997d1c415df033559a57">evaluateAtIteration</a>(BackedgeTakenCount, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l09892"></a><span class="lineno"> 9892</span>&#160;    }</div>
<div class="line"><a name="l09893"></a><span class="lineno"> 9893</span>&#160; </div>
<div class="line"><a name="l09894"></a><span class="lineno"> 9894</span>&#160;    <span class="keywordflow">return</span> AddRec;</div>
<div class="line"><a name="l09895"></a><span class="lineno"> 9895</span>&#160;  }</div>
<div class="line"><a name="l09896"></a><span class="lineno"> 9896</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l09897"></a><span class="lineno"> 9897</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l09898"></a><span class="lineno"> 9898</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l09899"></a><span class="lineno"> 9899</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l09900"></a><span class="lineno"> 9900</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l09901"></a><span class="lineno"> 9901</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l09902"></a><span class="lineno"> 9902</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l09903"></a><span class="lineno"> 9903</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l09904"></a><span class="lineno"> 9904</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l09905"></a><span class="lineno"> 9905</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l09906"></a><span class="lineno"> 9906</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l09907"></a><span class="lineno"> 9907</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>: {</div>
<div class="line"><a name="l09908"></a><span class="lineno"> 9908</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a0b675a820ab094d694d602eb16ef02e5">operands</a>();</div>
<div class="line"><a name="l09909"></a><span class="lineno"> 9909</span>&#160;    <span class="comment">// Avoid performing the look-up in the common case where the specified</span></div>
<div class="line"><a name="l09910"></a><span class="lineno"> 9910</span>&#160;    <span class="comment">// expression has no loop-variant portions.</span></div>
<div class="line"><a name="l09911"></a><span class="lineno"> 9911</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l09912"></a><span class="lineno"> 9912</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OpAtScope = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], L);</div>
<div class="line"><a name="l09913"></a><span class="lineno"> 9913</span>&#160;      <span class="keywordflow">if</span> (OpAtScope != Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l09914"></a><span class="lineno"> 9914</span>&#160;        <span class="comment">// Okay, at least one of these operands is loop variant but might be</span></div>
<div class="line"><a name="l09915"></a><span class="lineno"> 9915</span>&#160;        <span class="comment">// foldable.  Build a new instance of the folded commutative expression.</span></div>
<div class="line"><a name="l09916"></a><span class="lineno"> 9916</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> NewOps;</div>
<div class="line"><a name="l09917"></a><span class="lineno"> 9917</span>&#160;        NewOps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>());</div>
<div class="line"><a name="l09918"></a><span class="lineno"> 9918</span>&#160;        <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(NewOps, Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a640fb8bb3d3ed856afb1e76b8bcd6e19">take_front</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l09919"></a><span class="lineno"> 9919</span>&#160;        NewOps.push_back(OpAtScope);</div>
<div class="line"><a name="l09920"></a><span class="lineno"> 9920</span>&#160; </div>
<div class="line"><a name="l09921"></a><span class="lineno"> 9921</span>&#160;        <span class="keywordflow">for</span> (++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l09922"></a><span class="lineno"> 9922</span>&#160;          OpAtScope = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(Ops[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], L);</div>
<div class="line"><a name="l09923"></a><span class="lineno"> 9923</span>&#160;          NewOps.push_back(OpAtScope);</div>
<div class="line"><a name="l09924"></a><span class="lineno"> 9924</span>&#160;        }</div>
<div class="line"><a name="l09925"></a><span class="lineno"> 9925</span>&#160; </div>
<div class="line"><a name="l09926"></a><span class="lineno"> 9926</span>&#160;        <span class="keywordflow">switch</span> (V-&gt;<a class="code" href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">getSCEVType</a>()) {</div>
<div class="line"><a name="l09927"></a><span class="lineno"> 9927</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l09928"></a><span class="lineno"> 9928</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l09929"></a><span class="lineno"> 9929</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l09930"></a><span class="lineno"> 9930</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l09931"></a><span class="lineno"> 9931</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a48216fb35fa09727a5717cd28faca9bf">getCastExpr</a>(V-&gt;<a class="code" href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">getSCEVType</a>(), NewOps[0], V-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l09932"></a><span class="lineno"> 9932</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l09933"></a><span class="lineno"> 9933</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(NewOps, cast&lt;SCEVAddExpr&gt;(V)-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l09934"></a><span class="lineno"> 9934</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l09935"></a><span class="lineno"> 9935</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(NewOps, cast&lt;SCEVMulExpr&gt;(V)-&gt;getNoWrapFlags());</div>
<div class="line"><a name="l09936"></a><span class="lineno"> 9936</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l09937"></a><span class="lineno"> 9937</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(NewOps[0], NewOps[1]);</div>
<div class="line"><a name="l09938"></a><span class="lineno"> 9938</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l09939"></a><span class="lineno"> 9939</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l09940"></a><span class="lineno"> 9940</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l09941"></a><span class="lineno"> 9941</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l09942"></a><span class="lineno"> 9942</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">getMinMaxExpr</a>(V-&gt;<a class="code" href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">getSCEVType</a>(), NewOps);</div>
<div class="line"><a name="l09943"></a><span class="lineno"> 9943</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>:</div>
<div class="line"><a name="l09944"></a><span class="lineno"> 9944</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03">getSequentialMinMaxExpr</a>(V-&gt;<a class="code" href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">getSCEVType</a>(), NewOps);</div>
<div class="line"><a name="l09945"></a><span class="lineno"> 9945</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l09946"></a><span class="lineno"> 9946</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div>
<div class="line"><a name="l09947"></a><span class="lineno"> 9947</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div>
<div class="line"><a name="l09948"></a><span class="lineno"> 9948</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l09949"></a><span class="lineno"> 9949</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Can not get those expressions here.&quot;</span>);</div>
<div class="line"><a name="l09950"></a><span class="lineno"> 9950</span>&#160;        }</div>
<div class="line"><a name="l09951"></a><span class="lineno"> 9951</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown n-ary-like SCEV type!&quot;</span>);</div>
<div class="line"><a name="l09952"></a><span class="lineno"> 9952</span>&#160;      }</div>
<div class="line"><a name="l09953"></a><span class="lineno"> 9953</span>&#160;    }</div>
<div class="line"><a name="l09954"></a><span class="lineno"> 9954</span>&#160;    <span class="comment">// If we got here, all operands are loop invariant.</span></div>
<div class="line"><a name="l09955"></a><span class="lineno"> 9955</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l09956"></a><span class="lineno"> 9956</span>&#160;  }</div>
<div class="line"><a name="l09957"></a><span class="lineno"> 9957</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>: {</div>
<div class="line"><a name="l09958"></a><span class="lineno"> 9958</span>&#160;    <span class="comment">// If this instruction is evolved from a constant-evolving PHI, compute the</span></div>
<div class="line"><a name="l09959"></a><span class="lineno"> 9959</span>&#160;    <span class="comment">// exit value from the loop without using SCEVs.</span></div>
<div class="line"><a name="l09960"></a><span class="lineno"> 9960</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *SU = cast&lt;SCEVUnknown&gt;(V);</div>
<div class="line"><a name="l09961"></a><span class="lineno"> 9961</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(SU-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>());</div>
<div class="line"><a name="l09962"></a><span class="lineno"> 9962</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l09963"></a><span class="lineno"> 9963</span>&#160;      <span class="keywordflow">return</span> V; <span class="comment">// This is some other type of SCEVUnknown, just return it.</span></div>
<div class="line"><a name="l09964"></a><span class="lineno"> 9964</span>&#160; </div>
<div class="line"><a name="l09965"></a><span class="lineno"> 9965</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l09966"></a><span class="lineno"> 9966</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *CurrLoop = this-&gt;LI[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()];</div>
<div class="line"><a name="l09967"></a><span class="lineno"> 9967</span>&#160;      <span class="comment">// Looking for loop exit value.</span></div>
<div class="line"><a name="l09968"></a><span class="lineno"> 9968</span>&#160;      <span class="keywordflow">if</span> (CurrLoop &amp;&amp; CurrLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a62733c3335a87750623dbfc5b3ae4f6c">getParentLoop</a>() == L &amp;&amp;</div>
<div class="line"><a name="l09969"></a><span class="lineno"> 9969</span>&#160;          PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>() == CurrLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()) {</div>
<div class="line"><a name="l09970"></a><span class="lineno"> 9970</span>&#160;        <span class="comment">// Okay, there is no closed form solution for the PHI node.  Check</span></div>
<div class="line"><a name="l09971"></a><span class="lineno"> 9971</span>&#160;        <span class="comment">// to see if the loop that contains it has a known backedge-taken</span></div>
<div class="line"><a name="l09972"></a><span class="lineno"> 9972</span>&#160;        <span class="comment">// count.  If so, we may be able to force computation of the exit</span></div>
<div class="line"><a name="l09973"></a><span class="lineno"> 9973</span>&#160;        <span class="comment">// value.</span></div>
<div class="line"><a name="l09974"></a><span class="lineno"> 9974</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BackedgeTakenCount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e">getBackedgeTakenCount</a>(CurrLoop);</div>
<div class="line"><a name="l09975"></a><span class="lineno"> 9975</span>&#160;        <span class="comment">// This trivial case can show up in some degenerate cases where</span></div>
<div class="line"><a name="l09976"></a><span class="lineno"> 9976</span>&#160;        <span class="comment">// the incoming IR has not yet been fully simplified.</span></div>
<div class="line"><a name="l09977"></a><span class="lineno"> 9977</span>&#160;        <span class="keywordflow">if</span> (BackedgeTakenCount-&gt;<a class="code" href="classllvm_1_1SCEV.html#a4541962f9c18aacceb7243520eb15e1f">isZero</a>()) {</div>
<div class="line"><a name="l09978"></a><span class="lineno"> 9978</span>&#160;          <a class="code" href="classllvm_1_1Value.html">Value</a> *InitValue = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09979"></a><span class="lineno"> 9979</span>&#160;          <span class="keywordtype">bool</span> MultipleInitValues = <span class="keyword">false</span>;</div>
<div class="line"><a name="l09980"></a><span class="lineno"> 9980</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l09981"></a><span class="lineno"> 9981</span>&#160;            <span class="keywordflow">if</span> (!CurrLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div>
<div class="line"><a name="l09982"></a><span class="lineno"> 9982</span>&#160;              <span class="keywordflow">if</span> (!InitValue)</div>
<div class="line"><a name="l09983"></a><span class="lineno"> 9983</span>&#160;                InitValue = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l09984"></a><span class="lineno"> 9984</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (InitValue != PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)) {</div>
<div class="line"><a name="l09985"></a><span class="lineno"> 9985</span>&#160;                MultipleInitValues = <span class="keyword">true</span>;</div>
<div class="line"><a name="l09986"></a><span class="lineno"> 9986</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09987"></a><span class="lineno"> 9987</span>&#160;              }</div>
<div class="line"><a name="l09988"></a><span class="lineno"> 9988</span>&#160;            }</div>
<div class="line"><a name="l09989"></a><span class="lineno"> 9989</span>&#160;          }</div>
<div class="line"><a name="l09990"></a><span class="lineno"> 9990</span>&#160;          <span class="keywordflow">if</span> (!MultipleInitValues &amp;&amp; InitValue)</div>
<div class="line"><a name="l09991"></a><span class="lineno"> 9991</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(InitValue);</div>
<div class="line"><a name="l09992"></a><span class="lineno"> 9992</span>&#160;        }</div>
<div class="line"><a name="l09993"></a><span class="lineno"> 9993</span>&#160;        <span class="comment">// Do we have a loop invariant value flowing around the backedge</span></div>
<div class="line"><a name="l09994"></a><span class="lineno"> 9994</span>&#160;        <span class="comment">// for a loop which must execute the backedge?</span></div>
<div class="line"><a name="l09995"></a><span class="lineno"> 9995</span>&#160;        <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(BackedgeTakenCount) &amp;&amp;</div>
<div class="line"><a name="l09996"></a><span class="lineno"> 9996</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(BackedgeTakenCount) &amp;&amp;</div>
<div class="line"><a name="l09997"></a><span class="lineno"> 9997</span>&#160;            PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>() == 2) {</div>
<div class="line"><a name="l09998"></a><span class="lineno"> 9998</span>&#160; </div>
<div class="line"><a name="l09999"></a><span class="lineno"> 9999</span>&#160;          <span class="keywordtype">unsigned</span> InLoopPred =</div>
<div class="line"><a name="l10000"></a><span class="lineno">10000</span>&#160;              CurrLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(0)) ? 0 : 1;</div>
<div class="line"><a name="l10001"></a><span class="lineno">10001</span>&#160;          <a class="code" href="classllvm_1_1Value.html">Value</a> *BackedgeVal = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(InLoopPred);</div>
<div class="line"><a name="l10002"></a><span class="lineno">10002</span>&#160;          <span class="keywordflow">if</span> (CurrLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">isLoopInvariant</a>(BackedgeVal))</div>
<div class="line"><a name="l10003"></a><span class="lineno">10003</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BackedgeVal);</div>
<div class="line"><a name="l10004"></a><span class="lineno">10004</span>&#160;        }</div>
<div class="line"><a name="l10005"></a><span class="lineno">10005</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BTCC = dyn_cast&lt;SCEVConstant&gt;(BackedgeTakenCount)) {</div>
<div class="line"><a name="l10006"></a><span class="lineno">10006</span>&#160;          <span class="comment">// Okay, we know how many times the containing loop executes.  If</span></div>
<div class="line"><a name="l10007"></a><span class="lineno">10007</span>&#160;          <span class="comment">// this is a constant evolving PHI node, get the final value at</span></div>
<div class="line"><a name="l10008"></a><span class="lineno">10008</span>&#160;          <span class="comment">// the specified iteration number.</span></div>
<div class="line"><a name="l10009"></a><span class="lineno">10009</span>&#160;          <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RV =</div>
<div class="line"><a name="l10010"></a><span class="lineno">10010</span>&#160;              getConstantEvolutionLoopExitValue(PN, BTCC-&gt;getAPInt(), CurrLoop);</div>
<div class="line"><a name="l10011"></a><span class="lineno">10011</span>&#160;          <span class="keywordflow">if</span> (RV)</div>
<div class="line"><a name="l10012"></a><span class="lineno">10012</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(RV);</div>
<div class="line"><a name="l10013"></a><span class="lineno">10013</span>&#160;        }</div>
<div class="line"><a name="l10014"></a><span class="lineno">10014</span>&#160;      }</div>
<div class="line"><a name="l10015"></a><span class="lineno">10015</span>&#160; </div>
<div class="line"><a name="l10016"></a><span class="lineno">10016</span>&#160;      <span class="comment">// If there is a single-input Phi, evaluate it at our scope. If we can</span></div>
<div class="line"><a name="l10017"></a><span class="lineno">10017</span>&#160;      <span class="comment">// prove that this replacement does not break LCSSA form, use new value.</span></div>
<div class="line"><a name="l10018"></a><span class="lineno">10018</span>&#160;      <span class="keywordflow">if</span> (PN-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() == 1) {</div>
<div class="line"><a name="l10019"></a><span class="lineno">10019</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Input = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(PN-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l10020"></a><span class="lineno">10020</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InputAtScope = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(Input, L);</div>
<div class="line"><a name="l10021"></a><span class="lineno">10021</span>&#160;        <span class="comment">// TODO: We can generalize it using LI.replacementPreservesLCSSAForm,</span></div>
<div class="line"><a name="l10022"></a><span class="lineno">10022</span>&#160;        <span class="comment">// for the simplest case just support constants.</span></div>
<div class="line"><a name="l10023"></a><span class="lineno">10023</span>&#160;        <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(InputAtScope))</div>
<div class="line"><a name="l10024"></a><span class="lineno">10024</span>&#160;          <span class="keywordflow">return</span> InputAtScope;</div>
<div class="line"><a name="l10025"></a><span class="lineno">10025</span>&#160;      }</div>
<div class="line"><a name="l10026"></a><span class="lineno">10026</span>&#160;    }</div>
<div class="line"><a name="l10027"></a><span class="lineno">10027</span>&#160; </div>
<div class="line"><a name="l10028"></a><span class="lineno">10028</span>&#160;    <span class="comment">// Okay, this is an expression that we cannot symbolically evaluate</span></div>
<div class="line"><a name="l10029"></a><span class="lineno">10029</span>&#160;    <span class="comment">// into a SCEV.  Check to see if it&#39;s possible to symbolically evaluate</span></div>
<div class="line"><a name="l10030"></a><span class="lineno">10030</span>&#160;    <span class="comment">// the arguments into constants, and if so, try to constant propagate the</span></div>
<div class="line"><a name="l10031"></a><span class="lineno">10031</span>&#160;    <span class="comment">// result.  This is particularly useful for computing loop exit values.</span></div>
<div class="line"><a name="l10032"></a><span class="lineno">10032</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185">CanConstantFold</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l10033"></a><span class="lineno">10033</span>&#160;      <span class="keywordflow">return</span> V; <span class="comment">// This is some other type of SCEVUnknown, just return it.</span></div>
<div class="line"><a name="l10034"></a><span class="lineno">10034</span>&#160; </div>
<div class="line"><a name="l10035"></a><span class="lineno">10035</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 4&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l10036"></a><span class="lineno">10036</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.reserve(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands());</div>
<div class="line"><a name="l10037"></a><span class="lineno">10037</span>&#160;    <span class="keywordtype">bool</span> MadeImprovement = <span class="keyword">false</span>;</div>
<div class="line"><a name="l10038"></a><span class="lineno">10038</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands()) {</div>
<div class="line"><a name="l10039"></a><span class="lineno">10039</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l10040"></a><span class="lineno">10040</span>&#160;        <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l10041"></a><span class="lineno">10041</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l10042"></a><span class="lineno">10042</span>&#160;      }</div>
<div class="line"><a name="l10043"></a><span class="lineno">10043</span>&#160; </div>
<div class="line"><a name="l10044"></a><span class="lineno">10044</span>&#160;      <span class="comment">// If any of the operands is non-constant and if they are</span></div>
<div class="line"><a name="l10045"></a><span class="lineno">10045</span>&#160;      <span class="comment">// non-integer and non-pointer, don&#39;t even try to analyze them</span></div>
<div class="line"><a name="l10046"></a><span class="lineno">10046</span>&#160;      <span class="comment">// with scev techniques.</span></div>
<div class="line"><a name="l10047"></a><span class="lineno">10047</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()))</div>
<div class="line"><a name="l10048"></a><span class="lineno">10048</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l10049"></a><span class="lineno">10049</span>&#160; </div>
<div class="line"><a name="l10050"></a><span class="lineno">10050</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OrigV = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l10051"></a><span class="lineno">10051</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OpV = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(OrigV, L);</div>
<div class="line"><a name="l10052"></a><span class="lineno">10052</span>&#160;      MadeImprovement |= OrigV != OpV;</div>
<div class="line"><a name="l10053"></a><span class="lineno">10053</span>&#160; </div>
<div class="line"><a name="l10054"></a><span class="lineno">10054</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(OpV);</div>
<div class="line"><a name="l10055"></a><span class="lineno">10055</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l10056"></a><span class="lineno">10056</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l10057"></a><span class="lineno">10057</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType() != <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType())</div>
<div class="line"><a name="l10058"></a><span class="lineno">10058</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a49b69843927f7cd96d866768b3aec92b">ConstantExpr::getCast</a>(</div>
<div class="line"><a name="l10059"></a><span class="lineno">10059</span>&#160;            <a class="code" href="classllvm_1_1CastInst.html#a06dc25da1f16f389f5244304e8d33127">CastInst::getCastOpcode</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <span class="keyword">false</span>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType(), <span class="keyword">false</span>), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div>
<div class="line"><a name="l10060"></a><span class="lineno">10060</span>&#160;            <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType());</div>
<div class="line"><a name="l10061"></a><span class="lineno">10061</span>&#160;      <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l10062"></a><span class="lineno">10062</span>&#160;    }</div>
<div class="line"><a name="l10063"></a><span class="lineno">10063</span>&#160; </div>
<div class="line"><a name="l10064"></a><span class="lineno">10064</span>&#160;    <span class="comment">// Check to see if getSCEVAtScope actually made an improvement.</span></div>
<div class="line"><a name="l10065"></a><span class="lineno">10065</span>&#160;    <span class="keywordflow">if</span> (!MadeImprovement)</div>
<div class="line"><a name="l10066"></a><span class="lineno">10066</span>&#160;      <span class="keywordflow">return</span> V; <span class="comment">// This is some other type of SCEVUnknown, just return it.</span></div>
<div class="line"><a name="l10067"></a><span class="lineno">10067</span>&#160; </div>
<div class="line"><a name="l10068"></a><span class="lineno">10068</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l10069"></a><span class="lineno">10069</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">getDataLayout</a>();</div>
<div class="line"><a name="l10070"></a><span class="lineno">10070</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#a72278be77e997abc4b0dbde1be280006">ConstantFoldInstOperands</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;TLI);</div>
<div class="line"><a name="l10071"></a><span class="lineno">10071</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l10072"></a><span class="lineno">10072</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l10073"></a><span class="lineno">10073</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l10074"></a><span class="lineno">10074</span>&#160;  }</div>
<div class="line"><a name="l10075"></a><span class="lineno">10075</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l10076"></a><span class="lineno">10076</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l10077"></a><span class="lineno">10077</span>&#160;  }</div>
<div class="line"><a name="l10078"></a><span class="lineno">10078</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV type!&quot;</span>);</div>
<div class="line"><a name="l10079"></a><span class="lineno">10079</span>&#160;}</div>
<div class="line"><a name="l10080"></a><span class="lineno">10080</span>&#160; </div>
<div class="line"><a name="l10081"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae219c962e224c9424b2ec40847496ff0">10081</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">ScalarEvolution::getSCEVAtScope</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l10082"></a><span class="lineno">10082</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(V), L);</div>
<div class="line"><a name="l10083"></a><span class="lineno">10083</span>&#160;}</div>
<div class="line"><a name="l10084"></a><span class="lineno">10084</span>&#160; </div>
<div class="line"><a name="l10085"></a><span class="lineno">10085</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::stripInjectiveFunctions(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l10086"></a><span class="lineno">10086</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l10087"></a><span class="lineno">10087</span>&#160;    <span class="keywordflow">return</span> stripInjectiveFunctions(ZExt-&gt;getOperand());</div>
<div class="line"><a name="l10088"></a><span class="lineno">10088</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SExt = dyn_cast&lt;SCEVSignExtendExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l10089"></a><span class="lineno">10089</span>&#160;    <span class="keywordflow">return</span> stripInjectiveFunctions(SExt-&gt;getOperand());</div>
<div class="line"><a name="l10090"></a><span class="lineno">10090</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l10091"></a><span class="lineno">10091</span>&#160;}</div>
<div class="line"><a name="l10092"></a><span class="lineno">10092</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l10093"></a><span class="lineno">10093</span>&#160;<span class="comment">/// Finds the minimum unsigned root of the following equation:</span></div>
<div class="line"><a name="l10094"></a><span class="lineno">10094</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l10095"></a><span class="lineno">10095</span>&#160;<span class="comment">///     A * X = B (mod N)</span></div>
<div class="line"><a name="l10096"></a><span class="lineno">10096</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l10097"></a><span class="lineno">10097</span>&#160;<span class="comment">/// where N = 2^BW and BW is the common bit width of A and B. The signedness of</span></div>
<div class="line"><a name="l10098"></a><span class="lineno">10098</span>&#160;<span class="comment">/// A and B isn&#39;t important.</span></div>
<div class="line"><a name="l10099"></a><span class="lineno">10099</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l10100"></a><span class="lineno">10100</span>&#160;<span class="comment">/// If the equation does not have a solution, SCEVCouldNotCompute is returned.</span></div>
<div class="line"><a name="l10101"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#adad8e587f6b3e82c1b7207639c08fc58">10101</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#adad8e587f6b3e82c1b7207639c08fc58">SolveLinEquationWithOverflow</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>,</div>
<div class="line"><a name="l10102"></a><span class="lineno">10102</span>&#160;                                               <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l10103"></a><span class="lineno">10103</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> BW = A.getBitWidth();</div>
<div class="line"><a name="l10104"></a><span class="lineno">10104</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BW == SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getType()));</div>
<div class="line"><a name="l10105"></a><span class="lineno">10105</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(A != 0 &amp;&amp; <span class="stringliteral">&quot;A must be non-zero.&quot;</span>);</div>
<div class="line"><a name="l10106"></a><span class="lineno">10106</span>&#160; </div>
<div class="line"><a name="l10107"></a><span class="lineno">10107</span>&#160;  <span class="comment">// 1. D = gcd(A, N)</span></div>
<div class="line"><a name="l10108"></a><span class="lineno">10108</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10109"></a><span class="lineno">10109</span>&#160;  <span class="comment">// The gcd of A and N may have only one prime factor: 2. The number of</span></div>
<div class="line"><a name="l10110"></a><span class="lineno">10110</span>&#160;  <span class="comment">// trailing zeros in A is its multiplicity</span></div>
<div class="line"><a name="l10111"></a><span class="lineno">10111</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> Mult2 = A.countTrailingZeros();</div>
<div class="line"><a name="l10112"></a><span class="lineno">10112</span>&#160;  <span class="comment">// D = 2^Mult2</span></div>
<div class="line"><a name="l10113"></a><span class="lineno">10113</span>&#160; </div>
<div class="line"><a name="l10114"></a><span class="lineno">10114</span>&#160;  <span class="comment">// 2. Check if B is divisible by D.</span></div>
<div class="line"><a name="l10115"></a><span class="lineno">10115</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10116"></a><span class="lineno">10116</span>&#160;  <span class="comment">// B is divisible by D if and only if the multiplicity of prime factor 2 for B</span></div>
<div class="line"><a name="l10117"></a><span class="lineno">10117</span>&#160;  <span class="comment">// is not less than multiplicity of this prime factor for D.</span></div>
<div class="line"><a name="l10118"></a><span class="lineno">10118</span>&#160;  <span class="keywordflow">if</span> (SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">GetMinTrailingZeros</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) &lt; Mult2)</div>
<div class="line"><a name="l10119"></a><span class="lineno">10119</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l10120"></a><span class="lineno">10120</span>&#160; </div>
<div class="line"><a name="l10121"></a><span class="lineno">10121</span>&#160;  <span class="comment">// 3. Compute I: the multiplicative inverse of (A / D) in arithmetic</span></div>
<div class="line"><a name="l10122"></a><span class="lineno">10122</span>&#160;  <span class="comment">// modulo (N / D).</span></div>
<div class="line"><a name="l10123"></a><span class="lineno">10123</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10124"></a><span class="lineno">10124</span>&#160;  <span class="comment">// If D == 1, (N / D) == N == 2^BW, so we need one extra bit to represent</span></div>
<div class="line"><a name="l10125"></a><span class="lineno">10125</span>&#160;  <span class="comment">// (N / D) in general. The inverse itself always fits into BW bits, though,</span></div>
<div class="line"><a name="l10126"></a><span class="lineno">10126</span>&#160;  <span class="comment">// so we immediately truncate it.</span></div>
<div class="line"><a name="l10127"></a><span class="lineno">10127</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> AD = A.lshr(Mult2).zext(BW + 1);  <span class="comment">// AD = A / D</span></div>
<div class="line"><a name="l10128"></a><span class="lineno">10128</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>(BW + 1, 0);</div>
<div class="line"><a name="l10129"></a><span class="lineno">10129</span>&#160;  <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>.setBit(BW - Mult2);  <span class="comment">// Mod = N / D</span></div>
<div class="line"><a name="l10130"></a><span class="lineno">10130</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AD.<a class="code" href="classllvm_1_1APInt.html#a28ee15b0286415cce5599d4fb9f9ce02">multiplicativeInverse</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>).<a class="code" href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">trunc</a>(BW);</div>
<div class="line"><a name="l10131"></a><span class="lineno">10131</span>&#160; </div>
<div class="line"><a name="l10132"></a><span class="lineno">10132</span>&#160;  <span class="comment">// 4. Compute the minimum unsigned root of the equation:</span></div>
<div class="line"><a name="l10133"></a><span class="lineno">10133</span>&#160;  <span class="comment">// I * (B / D) mod (N / D)</span></div>
<div class="line"><a name="l10134"></a><span class="lineno">10134</span>&#160;  <span class="comment">// To simplify the computation, we factor out the divide by D:</span></div>
<div class="line"><a name="l10135"></a><span class="lineno">10135</span>&#160;  <span class="comment">// (I * B mod N) / D</span></div>
<div class="line"><a name="l10136"></a><span class="lineno">10136</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(BW, Mult2));</div>
<div class="line"><a name="l10137"></a><span class="lineno">10137</span>&#160;  <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aeca82ae7bafbb557b7026f7d035643b8">getUDivExactExpr</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>);</div>
<div class="line"><a name="l10138"></a><span class="lineno">10138</span>&#160;}</div>
<div class="line"><a name="l10139"></a><span class="lineno">10139</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l10140"></a><span class="lineno">10140</span>&#160;<span class="comment">/// For a given quadratic addrec, generate coefficients of the corresponding</span></div>
<div class="line"><a name="l10141"></a><span class="lineno">10141</span>&#160;<span class="comment">/// quadratic equation, multiplied by a common value to ensure that they are</span></div>
<div class="line"><a name="l10142"></a><span class="lineno">10142</span>&#160;<span class="comment">/// integers.</span></div>
<div class="line"><a name="l10143"></a><span class="lineno">10143</span>&#160;<span class="comment">/// The returned value is a tuple { A, B, C, M, BitWidth }, where</span></div>
<div class="line"><a name="l10144"></a><span class="lineno">10144</span>&#160;<span class="comment">/// Ax^2 + Bx + C is the quadratic function, M is the value that A, B and C</span></div>
<div class="line"><a name="l10145"></a><span class="lineno">10145</span>&#160;<span class="comment">/// were multiplied by, and BitWidth is the bit width of the original addrec</span></div>
<div class="line"><a name="l10146"></a><span class="lineno">10146</span>&#160;<span class="comment">/// coefficients.</span></div>
<div class="line"><a name="l10147"></a><span class="lineno">10147</span>&#160;<span class="comment">/// This function returns std::nullopt if the addrec coefficients are not</span></div>
<div class="line"><a name="l10148"></a><span class="lineno">10148</span>&#160;<span class="comment">/// compile- time constants.</span></div>
<div class="line"><a name="l10149"></a><span class="lineno">10149</span>&#160;<span class="comment"></span><span class="keyword">static</span> std::optional&lt;std::tuple&lt;APInt, APInt, APInt, APInt, unsigned&gt;&gt;</div>
<div class="line"><a name="l10150"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a929bb4cc9d4e23ed607b73e88ac6006a">10150</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a929bb4cc9d4e23ed607b73e88ac6006a">GetQuadraticEquation</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec) {</div>
<div class="line"><a name="l10151"></a><span class="lineno">10151</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">getNumOperands</a>() == 3 &amp;&amp; <span class="stringliteral">&quot;This is not a quadratic chrec!&quot;</span>);</div>
<div class="line"><a name="l10152"></a><span class="lineno">10152</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LC = dyn_cast&lt;SCEVConstant&gt;(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(0));</div>
<div class="line"><a name="l10153"></a><span class="lineno">10153</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *MC = dyn_cast&lt;SCEVConstant&gt;(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(1));</div>
<div class="line"><a name="l10154"></a><span class="lineno">10154</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a> = dyn_cast&lt;SCEVConstant&gt;(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(2));</div>
<div class="line"><a name="l10155"></a><span class="lineno">10155</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;: analyzing quadratic addrec: &quot;</span></div>
<div class="line"><a name="l10156"></a><span class="lineno">10156</span>&#160;                    &lt;&lt; *AddRec &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l10157"></a><span class="lineno">10157</span>&#160; </div>
<div class="line"><a name="l10158"></a><span class="lineno">10158</span>&#160;  <span class="comment">// We currently can only solve this if the coefficients are constants.</span></div>
<div class="line"><a name="l10159"></a><span class="lineno">10159</span>&#160;  <span class="keywordflow">if</span> (!LC || !MC || !<a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a>) {</div>
<div class="line"><a name="l10160"></a><span class="lineno">10160</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;: coefficients are not constant\n&quot;</span>);</div>
<div class="line"><a name="l10161"></a><span class="lineno">10161</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10162"></a><span class="lineno">10162</span>&#160;  }</div>
<div class="line"><a name="l10163"></a><span class="lineno">10163</span>&#160; </div>
<div class="line"><a name="l10164"></a><span class="lineno">10164</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> L = LC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>();</div>
<div class="line"><a name="l10165"></a><span class="lineno">10165</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = MC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>();</div>
<div class="line"><a name="l10166"></a><span class="lineno">10166</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a>-&gt;getAPInt();</div>
<div class="line"><a name="l10167"></a><span class="lineno">10167</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.isZero() &amp;&amp; <span class="stringliteral">&quot;This is not a quadratic addrec&quot;</span>);</div>
<div class="line"><a name="l10168"></a><span class="lineno">10168</span>&#160; </div>
<div class="line"><a name="l10169"></a><span class="lineno">10169</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = LC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>().<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>();</div>
<div class="line"><a name="l10170"></a><span class="lineno">10170</span>&#160;  <span class="keywordtype">unsigned</span> NewWidth = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> + 1;</div>
<div class="line"><a name="l10171"></a><span class="lineno">10171</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;: addrec coeff bw: &quot;</span></div>
<div class="line"><a name="l10172"></a><span class="lineno">10172</span>&#160;                    &lt;&lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l10173"></a><span class="lineno">10173</span>&#160;  <span class="comment">// The sign-extension (as opposed to a zero-extension) here matches the</span></div>
<div class="line"><a name="l10174"></a><span class="lineno">10174</span>&#160;  <span class="comment">// extension used in SolveQuadraticEquationWrap (with the same motivation).</span></div>
<div class="line"><a name="l10175"></a><span class="lineno">10175</span>&#160;  <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.sext(NewWidth);</div>
<div class="line"><a name="l10176"></a><span class="lineno">10176</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.sext(NewWidth);</div>
<div class="line"><a name="l10177"></a><span class="lineno">10177</span>&#160;  L = L.<a class="code" href="classllvm_1_1APInt.html#aca8fce65eb69a82aa10a635e2e79877a">sext</a>(NewWidth);</div>
<div class="line"><a name="l10178"></a><span class="lineno">10178</span>&#160; </div>
<div class="line"><a name="l10179"></a><span class="lineno">10179</span>&#160;  <span class="comment">// The increments are M, M+N, M+2N, ..., so the accumulated values are</span></div>
<div class="line"><a name="l10180"></a><span class="lineno">10180</span>&#160;  <span class="comment">//   L+M, (L+M)+(M+N), (L+M)+(M+N)+(M+2N), ..., that is,</span></div>
<div class="line"><a name="l10181"></a><span class="lineno">10181</span>&#160;  <span class="comment">//   L+M, L+2M+N, L+3M+3N, ...</span></div>
<div class="line"><a name="l10182"></a><span class="lineno">10182</span>&#160;  <span class="comment">// After n iterations the accumulated value Acc is L + nM + n(n-1)/2 N.</span></div>
<div class="line"><a name="l10183"></a><span class="lineno">10183</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10184"></a><span class="lineno">10184</span>&#160;  <span class="comment">// The equation Acc = 0 is then</span></div>
<div class="line"><a name="l10185"></a><span class="lineno">10185</span>&#160;  <span class="comment">//   L + nM + n(n-1)/2 N = 0,  or  2L + 2M n + n(n-1) N = 0.</span></div>
<div class="line"><a name="l10186"></a><span class="lineno">10186</span>&#160;  <span class="comment">// In a quadratic form it becomes:</span></div>
<div class="line"><a name="l10187"></a><span class="lineno">10187</span>&#160;  <span class="comment">//   N n^2 + (2M-N) n + 2L = 0.</span></div>
<div class="line"><a name="l10188"></a><span class="lineno">10188</span>&#160; </div>
<div class="line"><a name="l10189"></a><span class="lineno">10189</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> A = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l10190"></a><span class="lineno">10190</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = 2 * <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> - A;</div>
<div class="line"><a name="l10191"></a><span class="lineno">10191</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = 2 * L;</div>
<div class="line"><a name="l10192"></a><span class="lineno">10192</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="classT.html">T</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(NewWidth, 2);</div>
<div class="line"><a name="l10193"></a><span class="lineno">10193</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;: equation &quot;</span> &lt;&lt; A &lt;&lt; <span class="stringliteral">&quot;x^2 + &quot;</span> &lt;&lt; <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div>
<div class="line"><a name="l10194"></a><span class="lineno">10194</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;x + &quot;</span> &lt;&lt; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &lt;&lt; <span class="stringliteral">&quot;, coeff bw: &quot;</span> &lt;&lt; NewWidth</div>
<div class="line"><a name="l10195"></a><span class="lineno">10195</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, multiplied by &quot;</span> &lt;&lt; <a class="code" href="classT.html">T</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l10196"></a><span class="lineno">10196</span>&#160;  <span class="keywordflow">return</span> std::make_tuple(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classT.html">T</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l10197"></a><span class="lineno">10197</span>&#160;}</div>
<div class="line"><a name="l10198"></a><span class="lineno">10198</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l10199"></a><span class="lineno">10199</span>&#160;<span class="comment">/// Helper function to compare optional APInts:</span></div>
<div class="line"><a name="l10200"></a><span class="lineno">10200</span>&#160;<span class="comment">/// (a) if X and Y both exist, return min(X, Y),</span></div>
<div class="line"><a name="l10201"></a><span class="lineno">10201</span>&#160;<span class="comment">/// (b) if neither X nor Y exist, return std::nullopt,</span></div>
<div class="line"><a name="l10202"></a><span class="lineno">10202</span>&#160;<span class="comment">/// (c) if exactly one of X and Y exists, return that value.</span></div>
<div class="line"><a name="l10203"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a2438fed16c3cb4cde45cd861762fefdd">10203</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> std::optional&lt;APInt&gt; <a class="code" href="ScalarEvolution_8cpp.html#a2438fed16c3cb4cde45cd861762fefdd">MinOptional</a>(std::optional&lt;APInt&gt; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l10204"></a><span class="lineno">10204</span>&#160;                                        std::optional&lt;APInt&gt; <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>) {</div>
<div class="line"><a name="l10205"></a><span class="lineno">10205</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> &amp;&amp; <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>) {</div>
<div class="line"><a name="l10206"></a><span class="lineno">10206</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getBitWidth(), <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;getBitWidth());</div>
<div class="line"><a name="l10207"></a><span class="lineno">10207</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> XW = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;sext(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>);</div>
<div class="line"><a name="l10208"></a><span class="lineno">10208</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> YW = <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;sext(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>);</div>
<div class="line"><a name="l10209"></a><span class="lineno">10209</span>&#160;    <span class="keywordflow">return</span> XW.<a class="code" href="classllvm_1_1APInt.html#adafa9575780f9246d1df0b7e2a619356">slt</a>(YW) ? *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> : *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l10210"></a><span class="lineno">10210</span>&#160;  }</div>
<div class="line"><a name="l10211"></a><span class="lineno">10211</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> &amp;&amp; !<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)</div>
<div class="line"><a name="l10212"></a><span class="lineno">10212</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10213"></a><span class="lineno">10213</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> ? *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> : *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l10214"></a><span class="lineno">10214</span>&#160;}</div>
<div class="line"><a name="l10215"></a><span class="lineno">10215</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l10216"></a><span class="lineno">10216</span>&#160;<span class="comment">/// Helper function to truncate an optional APInt to a given BitWidth.</span></div>
<div class="line"><a name="l10217"></a><span class="lineno">10217</span>&#160;<span class="comment">/// When solving addrec-related equations, it is preferable to return a value</span></div>
<div class="line"><a name="l10218"></a><span class="lineno">10218</span>&#160;<span class="comment">/// that has the same bit width as the original addrec&#39;s coefficients. If the</span></div>
<div class="line"><a name="l10219"></a><span class="lineno">10219</span>&#160;<span class="comment">/// solution fits in the original bit width, truncate it (except for i1).</span></div>
<div class="line"><a name="l10220"></a><span class="lineno">10220</span>&#160;<span class="comment">/// Returning a value of a different bit width may inhibit some optimizations.</span></div>
<div class="line"><a name="l10221"></a><span class="lineno">10221</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l10222"></a><span class="lineno">10222</span>&#160;<span class="comment">/// In general, a solution to a quadratic equation generated from an addrec</span></div>
<div class="line"><a name="l10223"></a><span class="lineno">10223</span>&#160;<span class="comment">/// may require BW+1 bits, where BW is the bit width of the addrec&#39;s</span></div>
<div class="line"><a name="l10224"></a><span class="lineno">10224</span>&#160;<span class="comment">/// coefficients. The reason is that the coefficients of the quadratic</span></div>
<div class="line"><a name="l10225"></a><span class="lineno">10225</span>&#160;<span class="comment">/// equation are BW+1 bits wide (to avoid truncation when converting from</span></div>
<div class="line"><a name="l10226"></a><span class="lineno">10226</span>&#160;<span class="comment">/// the addrec to the equation).</span></div>
<div class="line"><a name="l10227"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a2715f6ab4c9bdd5c10865247739716fa">10227</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> std::optional&lt;APInt&gt; <a class="code" href="ScalarEvolution_8cpp.html#a2715f6ab4c9bdd5c10865247739716fa">TruncIfPossible</a>(std::optional&lt;APInt&gt; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l10228"></a><span class="lineno">10228</span>&#160;                                            <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) {</div>
<div class="line"><a name="l10229"></a><span class="lineno">10229</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)</div>
<div class="line"><a name="l10230"></a><span class="lineno">10230</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10231"></a><span class="lineno">10231</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getBitWidth();</div>
<div class="line"><a name="l10232"></a><span class="lineno">10232</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &gt; 1 &amp;&amp; BitWidth &lt; W &amp;&amp; X-&gt;<a class="code" href="namespacellvm.html#aad80b46c754cc7216244a866ec9b1cb0">isIntN</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>))</div>
<div class="line"><a name="l10233"></a><span class="lineno">10233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;trunc(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l10234"></a><span class="lineno">10234</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l10235"></a><span class="lineno">10235</span>&#160;}</div>
<div class="line"><a name="l10236"></a><span class="lineno">10236</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l10237"></a><span class="lineno">10237</span>&#160;<span class="comment">/// Let c(n) be the value of the quadratic chrec {L,+,M,+,N} after n</span></div>
<div class="line"><a name="l10238"></a><span class="lineno">10238</span>&#160;<span class="comment">/// iterations. The values L, M, N are assumed to be signed, and they</span></div>
<div class="line"><a name="l10239"></a><span class="lineno">10239</span>&#160;<span class="comment">/// should all have the same bit widths.</span></div>
<div class="line"><a name="l10240"></a><span class="lineno">10240</span>&#160;<span class="comment">/// Find the least n &gt;= 0 such that c(n) = 0 in the arithmetic modulo 2^BW,</span></div>
<div class="line"><a name="l10241"></a><span class="lineno">10241</span>&#160;<span class="comment">/// where BW is the bit width of the addrec&#39;s coefficients.</span></div>
<div class="line"><a name="l10242"></a><span class="lineno">10242</span>&#160;<span class="comment">/// If the calculated value is a BW-bit integer (for BW &gt; 1), it will be</span></div>
<div class="line"><a name="l10243"></a><span class="lineno">10243</span>&#160;<span class="comment">/// returned as such, otherwise the bit width of the returned value may</span></div>
<div class="line"><a name="l10244"></a><span class="lineno">10244</span>&#160;<span class="comment">/// be greater than BW.</span></div>
<div class="line"><a name="l10245"></a><span class="lineno">10245</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l10246"></a><span class="lineno">10246</span>&#160;<span class="comment">/// This function returns std::nullopt if</span></div>
<div class="line"><a name="l10247"></a><span class="lineno">10247</span>&#160;<span class="comment">/// (a) the addrec coefficients are not constant, or</span></div>
<div class="line"><a name="l10248"></a><span class="lineno">10248</span>&#160;<span class="comment">/// (b) SolveQuadraticEquationWrap was unable to find a solution. For cases</span></div>
<div class="line"><a name="l10249"></a><span class="lineno">10249</span>&#160;<span class="comment">///     like x^2 = 5, no integer solutions exist, in other cases an integer</span></div>
<div class="line"><a name="l10250"></a><span class="lineno">10250</span>&#160;<span class="comment">///     solution may exist, but SolveQuadraticEquationWrap may fail to find it.</span></div>
<div class="line"><a name="l10251"></a><span class="lineno">10251</span>&#160;<span class="comment"></span><span class="keyword">static</span> std::optional&lt;APInt&gt;</div>
<div class="line"><a name="l10252"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a489f02dd88052216487026291385d55c">10252</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a489f02dd88052216487026291385d55c">SolveQuadraticAddRecExact</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l10253"></a><span class="lineno">10253</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l10254"></a><span class="lineno">10254</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>;</div>
<div class="line"><a name="l10255"></a><span class="lineno">10255</span>&#160;  <span class="keyword">auto</span> <a class="code" href="classT.html">T</a> = <a class="code" href="ScalarEvolution_8cpp.html#a929bb4cc9d4e23ed607b73e88ac6006a">GetQuadraticEquation</a>(AddRec);</div>
<div class="line"><a name="l10256"></a><span class="lineno">10256</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classT.html">T</a>)</div>
<div class="line"><a name="l10257"></a><span class="lineno">10257</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10258"></a><span class="lineno">10258</span>&#160; </div>
<div class="line"><a name="l10259"></a><span class="lineno">10259</span>&#160;  std::tie(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) = *<a class="code" href="classT.html">T</a>;</div>
<div class="line"><a name="l10260"></a><span class="lineno">10260</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;: solving for unsigned overflow\n&quot;</span>);</div>
<div class="line"><a name="l10261"></a><span class="lineno">10261</span>&#160;  std::optional&lt;APInt&gt; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> =</div>
<div class="line"><a name="l10262"></a><span class="lineno">10262</span>&#160;      <a class="code" href="namespacellvm_1_1APIntOps.html#ab9e94d7f7d74b11670e87904ed30dc2a">APIntOps::SolveQuadraticEquationWrap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> + 1);</div>
<div class="line"><a name="l10263"></a><span class="lineno">10263</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)</div>
<div class="line"><a name="l10264"></a><span class="lineno">10264</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10265"></a><span class="lineno">10265</span>&#160; </div>
<div class="line"><a name="l10266"></a><span class="lineno">10266</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CX = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l10267"></a><span class="lineno">10267</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *V = <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(AddRec, CX, SE);</div>
<div class="line"><a name="l10268"></a><span class="lineno">10268</span>&#160;  <span class="keywordflow">if</span> (!V-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a882d55a6aa2028e1a5ad708b275334e0">isZero</a>())</div>
<div class="line"><a name="l10269"></a><span class="lineno">10269</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10270"></a><span class="lineno">10270</span>&#160; </div>
<div class="line"><a name="l10271"></a><span class="lineno">10271</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a2715f6ab4c9bdd5c10865247739716fa">TruncIfPossible</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l10272"></a><span class="lineno">10272</span>&#160;}</div>
<div class="line"><a name="l10273"></a><span class="lineno">10273</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l10274"></a><span class="lineno">10274</span>&#160;<span class="comment">/// Let c(n) be the value of the quadratic chrec {0,+,M,+,N} after n</span></div>
<div class="line"><a name="l10275"></a><span class="lineno">10275</span>&#160;<span class="comment">/// iterations. The values M, N are assumed to be signed, and they</span></div>
<div class="line"><a name="l10276"></a><span class="lineno">10276</span>&#160;<span class="comment">/// should all have the same bit widths.</span></div>
<div class="line"><a name="l10277"></a><span class="lineno">10277</span>&#160;<span class="comment">/// Find the least n such that c(n) does not belong to the given range,</span></div>
<div class="line"><a name="l10278"></a><span class="lineno">10278</span>&#160;<span class="comment">/// while c(n-1) does.</span></div>
<div class="line"><a name="l10279"></a><span class="lineno">10279</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l10280"></a><span class="lineno">10280</span>&#160;<span class="comment">/// This function returns std::nullopt if</span></div>
<div class="line"><a name="l10281"></a><span class="lineno">10281</span>&#160;<span class="comment">/// (a) the addrec coefficients are not constant, or</span></div>
<div class="line"><a name="l10282"></a><span class="lineno">10282</span>&#160;<span class="comment">/// (b) SolveQuadraticEquationWrap was unable to find a solution for the</span></div>
<div class="line"><a name="l10283"></a><span class="lineno">10283</span>&#160;<span class="comment">///     bounds of the range.</span></div>
<div class="line"><a name="l10284"></a><span class="lineno">10284</span>&#160;<span class="comment"></span><span class="keyword">static</span> std::optional&lt;APInt&gt;</div>
<div class="line"><a name="l10285"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aebb9acb35b4f5ae7f3c6399eb088c082">10285</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#aebb9acb35b4f5ae7f3c6399eb088c082">SolveQuadraticAddRecRange</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec,</div>
<div class="line"><a name="l10286"></a><span class="lineno">10286</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;Range, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l10287"></a><span class="lineno">10287</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1SCEV.html#a4541962f9c18aacceb7243520eb15e1f">isZero</a>() &amp;&amp;</div>
<div class="line"><a name="l10288"></a><span class="lineno">10288</span>&#160;         <span class="stringliteral">&quot;Starting value of addrec should be 0&quot;</span>);</div>
<div class="line"><a name="l10289"></a><span class="lineno">10289</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;: solving boundary crossing for range &quot;</span></div>
<div class="line"><a name="l10290"></a><span class="lineno">10290</span>&#160;                    &lt;&lt; Range &lt;&lt; <span class="stringliteral">&quot;, addrec &quot;</span> &lt;&lt; *AddRec &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l10291"></a><span class="lineno">10291</span>&#160;  <span class="comment">// This case is handled in getNumIterationsInRange. Here we can assume that</span></div>
<div class="line"><a name="l10292"></a><span class="lineno">10292</span>&#160;  <span class="comment">// we start in the range.</span></div>
<div class="line"><a name="l10293"></a><span class="lineno">10293</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Range.contains(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>()), 0)) &amp;&amp;</div>
<div class="line"><a name="l10294"></a><span class="lineno">10294</span>&#160;         <span class="stringliteral">&quot;Addrec&#39;s initial value should be in range&quot;</span>);</div>
<div class="line"><a name="l10295"></a><span class="lineno">10295</span>&#160; </div>
<div class="line"><a name="l10296"></a><span class="lineno">10296</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l10297"></a><span class="lineno">10297</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>;</div>
<div class="line"><a name="l10298"></a><span class="lineno">10298</span>&#160;  <span class="keyword">auto</span> <a class="code" href="classT.html">T</a> = <a class="code" href="ScalarEvolution_8cpp.html#a929bb4cc9d4e23ed607b73e88ac6006a">GetQuadraticEquation</a>(AddRec);</div>
<div class="line"><a name="l10299"></a><span class="lineno">10299</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classT.html">T</a>)</div>
<div class="line"><a name="l10300"></a><span class="lineno">10300</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10301"></a><span class="lineno">10301</span>&#160; </div>
<div class="line"><a name="l10302"></a><span class="lineno">10302</span>&#160;  <span class="comment">// Be careful about the return value: there can be two reasons for not</span></div>
<div class="line"><a name="l10303"></a><span class="lineno">10303</span>&#160;  <span class="comment">// returning an actual number. First, if no solutions to the equations</span></div>
<div class="line"><a name="l10304"></a><span class="lineno">10304</span>&#160;  <span class="comment">// were found, and second, if the solutions don&#39;t leave the given range.</span></div>
<div class="line"><a name="l10305"></a><span class="lineno">10305</span>&#160;  <span class="comment">// The first case means that the actual solution is &quot;unknown&quot;, the second</span></div>
<div class="line"><a name="l10306"></a><span class="lineno">10306</span>&#160;  <span class="comment">// means that it&#39;s known, but not valid. If the solution is unknown, we</span></div>
<div class="line"><a name="l10307"></a><span class="lineno">10307</span>&#160;  <span class="comment">// cannot make any conclusions.</span></div>
<div class="line"><a name="l10308"></a><span class="lineno">10308</span>&#160;  <span class="comment">// Return a pair: the optional solution and a flag indicating if the</span></div>
<div class="line"><a name="l10309"></a><span class="lineno">10309</span>&#160;  <span class="comment">// solution was found.</span></div>
<div class="line"><a name="l10310"></a><span class="lineno">10310</span>&#160;  <span class="keyword">auto</span> SolveForBoundary =</div>
<div class="line"><a name="l10311"></a><span class="lineno">10311</span>&#160;      [&amp;](<a class="code" href="classllvm_1_1APInt.html">APInt</a> Bound) -&gt; std::pair&lt;std::optional&lt;APInt&gt;, <span class="keywordtype">bool</span>&gt; {</div>
<div class="line"><a name="l10312"></a><span class="lineno">10312</span>&#160;    <span class="comment">// Solve for signed overflow and unsigned overflow, pick the lower</span></div>
<div class="line"><a name="l10313"></a><span class="lineno">10313</span>&#160;    <span class="comment">// solution.</span></div>
<div class="line"><a name="l10314"></a><span class="lineno">10314</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SolveQuadraticAddRecRange: checking boundary &quot;</span></div>
<div class="line"><a name="l10315"></a><span class="lineno">10315</span>&#160;                      &lt;&lt; Bound &lt;&lt; <span class="stringliteral">&quot; (before multiplying by &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l10316"></a><span class="lineno">10316</span>&#160;    Bound *= <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>; <span class="comment">// The quadratic equation multiplier.</span></div>
<div class="line"><a name="l10317"></a><span class="lineno">10317</span>&#160; </div>
<div class="line"><a name="l10318"></a><span class="lineno">10318</span>&#160;    std::optional&lt;APInt&gt; SO;</div>
<div class="line"><a name="l10319"></a><span class="lineno">10319</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &gt; 1) {</div>
<div class="line"><a name="l10320"></a><span class="lineno">10320</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SolveQuadraticAddRecRange: solving for &quot;</span></div>
<div class="line"><a name="l10321"></a><span class="lineno">10321</span>&#160;                           <span class="stringliteral">&quot;signed overflow\n&quot;</span>);</div>
<div class="line"><a name="l10322"></a><span class="lineno">10322</span>&#160;      SO = <a class="code" href="namespacellvm_1_1APIntOps.html#ab9e94d7f7d74b11670e87904ed30dc2a">APIntOps::SolveQuadraticEquationWrap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, -Bound, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l10323"></a><span class="lineno">10323</span>&#160;    }</div>
<div class="line"><a name="l10324"></a><span class="lineno">10324</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SolveQuadraticAddRecRange: solving for &quot;</span></div>
<div class="line"><a name="l10325"></a><span class="lineno">10325</span>&#160;                         <span class="stringliteral">&quot;unsigned overflow\n&quot;</span>);</div>
<div class="line"><a name="l10326"></a><span class="lineno">10326</span>&#160;    std::optional&lt;APInt&gt; UO =</div>
<div class="line"><a name="l10327"></a><span class="lineno">10327</span>&#160;        <a class="code" href="namespacellvm_1_1APIntOps.html#ab9e94d7f7d74b11670e87904ed30dc2a">APIntOps::SolveQuadraticEquationWrap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, -Bound, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> + 1);</div>
<div class="line"><a name="l10328"></a><span class="lineno">10328</span>&#160; </div>
<div class="line"><a name="l10329"></a><span class="lineno">10329</span>&#160;    <span class="keyword">auto</span> LeavesRange = [&amp;] (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>) {</div>
<div class="line"><a name="l10330"></a><span class="lineno">10330</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *C0 = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l10331"></a><span class="lineno">10331</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *V0 = <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(AddRec, C0, SE);</div>
<div class="line"><a name="l10332"></a><span class="lineno">10332</span>&#160;      <span class="keywordflow">if</span> (Range.contains(V0-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>()))</div>
<div class="line"><a name="l10333"></a><span class="lineno">10333</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10334"></a><span class="lineno">10334</span>&#160;      <span class="comment">// X should be at least 1, so X-1 is non-negative.</span></div>
<div class="line"><a name="l10335"></a><span class="lineno">10335</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-1);</div>
<div class="line"><a name="l10336"></a><span class="lineno">10336</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *V1 = <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(AddRec, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, SE);</div>
<div class="line"><a name="l10337"></a><span class="lineno">10337</span>&#160;      <span class="keywordflow">if</span> (Range.contains(V1-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>()))</div>
<div class="line"><a name="l10338"></a><span class="lineno">10338</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10339"></a><span class="lineno">10339</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10340"></a><span class="lineno">10340</span>&#160;    };</div>
<div class="line"><a name="l10341"></a><span class="lineno">10341</span>&#160; </div>
<div class="line"><a name="l10342"></a><span class="lineno">10342</span>&#160;    <span class="comment">// If SolveQuadraticEquationWrap returns std::nullopt, it means that there</span></div>
<div class="line"><a name="l10343"></a><span class="lineno">10343</span>&#160;    <span class="comment">// can be a solution, but the function failed to find it. We cannot treat it</span></div>
<div class="line"><a name="l10344"></a><span class="lineno">10344</span>&#160;    <span class="comment">// as &quot;no solution&quot;.</span></div>
<div class="line"><a name="l10345"></a><span class="lineno">10345</span>&#160;    <span class="keywordflow">if</span> (!SO || !UO)</div>
<div class="line"><a name="l10346"></a><span class="lineno">10346</span>&#160;      <span class="keywordflow">return</span> {std::nullopt, <span class="keyword">false</span>};</div>
<div class="line"><a name="l10347"></a><span class="lineno">10347</span>&#160; </div>
<div class="line"><a name="l10348"></a><span class="lineno">10348</span>&#160;    <span class="comment">// Check the smaller value first to see if it leaves the range.</span></div>
<div class="line"><a name="l10349"></a><span class="lineno">10349</span>&#160;    <span class="comment">// At this point, both SO and UO must have values.</span></div>
<div class="line"><a name="l10350"></a><span class="lineno">10350</span>&#160;    std::optional&lt;APInt&gt; Min = <a class="code" href="ScalarEvolution_8cpp.html#a2438fed16c3cb4cde45cd861762fefdd">MinOptional</a>(SO, UO);</div>
<div class="line"><a name="l10351"></a><span class="lineno">10351</span>&#160;    <span class="keywordflow">if</span> (LeavesRange(*Min))</div>
<div class="line"><a name="l10352"></a><span class="lineno">10352</span>&#160;      <span class="keywordflow">return</span> { Min, <span class="keyword">true</span> };</div>
<div class="line"><a name="l10353"></a><span class="lineno">10353</span>&#160;    std::optional&lt;APInt&gt; Max = Min == SO ? UO : SO;</div>
<div class="line"><a name="l10354"></a><span class="lineno">10354</span>&#160;    <span class="keywordflow">if</span> (LeavesRange(*Max))</div>
<div class="line"><a name="l10355"></a><span class="lineno">10355</span>&#160;      <span class="keywordflow">return</span> { Max, <span class="keyword">true</span> };</div>
<div class="line"><a name="l10356"></a><span class="lineno">10356</span>&#160; </div>
<div class="line"><a name="l10357"></a><span class="lineno">10357</span>&#160;    <span class="comment">// Solutions were found, but were eliminated, hence the &quot;true&quot;.</span></div>
<div class="line"><a name="l10358"></a><span class="lineno">10358</span>&#160;    <span class="keywordflow">return</span> {std::nullopt, <span class="keyword">true</span>};</div>
<div class="line"><a name="l10359"></a><span class="lineno">10359</span>&#160;  };</div>
<div class="line"><a name="l10360"></a><span class="lineno">10360</span>&#160; </div>
<div class="line"><a name="l10361"></a><span class="lineno">10361</span>&#160;  std::tie(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) = *<a class="code" href="classT.html">T</a>;</div>
<div class="line"><a name="l10362"></a><span class="lineno">10362</span>&#160;  <span class="comment">// Lower bound is inclusive, subtract 1 to represent the exiting value.</span></div>
<div class="line"><a name="l10363"></a><span class="lineno">10363</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Lower = Range.getLower().sext(A.getBitWidth()) - 1;</div>
<div class="line"><a name="l10364"></a><span class="lineno">10364</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm.html#a6893db19648a2dba0912d181aaa57ec0a19de5b94f7b83900d4b296d9fa491aec">Upper</a> = Range.getUpper().sext(A.getBitWidth());</div>
<div class="line"><a name="l10365"></a><span class="lineno">10365</span>&#160;  <span class="keyword">auto</span> SL = SolveForBoundary(Lower);</div>
<div class="line"><a name="l10366"></a><span class="lineno">10366</span>&#160;  <span class="keyword">auto</span> SU = SolveForBoundary(<a class="code" href="namespacellvm.html#a6893db19648a2dba0912d181aaa57ec0a19de5b94f7b83900d4b296d9fa491aec">Upper</a>);</div>
<div class="line"><a name="l10367"></a><span class="lineno">10367</span>&#160;  <span class="comment">// If any of the solutions was unknown, no meaninigful conclusions can</span></div>
<div class="line"><a name="l10368"></a><span class="lineno">10368</span>&#160;  <span class="comment">// be made.</span></div>
<div class="line"><a name="l10369"></a><span class="lineno">10369</span>&#160;  <span class="keywordflow">if</span> (!SL.second || !SU.second)</div>
<div class="line"><a name="l10370"></a><span class="lineno">10370</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10371"></a><span class="lineno">10371</span>&#160; </div>
<div class="line"><a name="l10372"></a><span class="lineno">10372</span>&#160;  <span class="comment">// Claim: The correct solution is not some value between Min and Max.</span></div>
<div class="line"><a name="l10373"></a><span class="lineno">10373</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10374"></a><span class="lineno">10374</span>&#160;  <span class="comment">// Justification: Assuming that Min and Max are different values, one of</span></div>
<div class="line"><a name="l10375"></a><span class="lineno">10375</span>&#160;  <span class="comment">// them is when the first signed overflow happens, the other is when the</span></div>
<div class="line"><a name="l10376"></a><span class="lineno">10376</span>&#160;  <span class="comment">// first unsigned overflow happens. Crossing the range boundary is only</span></div>
<div class="line"><a name="l10377"></a><span class="lineno">10377</span>&#160;  <span class="comment">// possible via an overflow (treating 0 as a special case of it, modeling</span></div>
<div class="line"><a name="l10378"></a><span class="lineno">10378</span>&#160;  <span class="comment">// an overflow as crossing k*2^W for some k).</span></div>
<div class="line"><a name="l10379"></a><span class="lineno">10379</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10380"></a><span class="lineno">10380</span>&#160;  <span class="comment">// The interesting case here is when Min was eliminated as an invalid</span></div>
<div class="line"><a name="l10381"></a><span class="lineno">10381</span>&#160;  <span class="comment">// solution, but Max was not. The argument is that if there was another</span></div>
<div class="line"><a name="l10382"></a><span class="lineno">10382</span>&#160;  <span class="comment">// overflow between Min and Max, it would also have been eliminated if</span></div>
<div class="line"><a name="l10383"></a><span class="lineno">10383</span>&#160;  <span class="comment">// it was considered.</span></div>
<div class="line"><a name="l10384"></a><span class="lineno">10384</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10385"></a><span class="lineno">10385</span>&#160;  <span class="comment">// For a given boundary, it is possible to have two overflows of the same</span></div>
<div class="line"><a name="l10386"></a><span class="lineno">10386</span>&#160;  <span class="comment">// type (signed/unsigned) without having the other type in between: this</span></div>
<div class="line"><a name="l10387"></a><span class="lineno">10387</span>&#160;  <span class="comment">// can happen when the vertex of the parabola is between the iterations</span></div>
<div class="line"><a name="l10388"></a><span class="lineno">10388</span>&#160;  <span class="comment">// corresponding to the overflows. This is only possible when the two</span></div>
<div class="line"><a name="l10389"></a><span class="lineno">10389</span>&#160;  <span class="comment">// overflows cross k*2^W for the same k. In such case, if the second one</span></div>
<div class="line"><a name="l10390"></a><span class="lineno">10390</span>&#160;  <span class="comment">// left the range (and was the first one to do so), the first overflow</span></div>
<div class="line"><a name="l10391"></a><span class="lineno">10391</span>&#160;  <span class="comment">// would have to enter the range, which would mean that either we had left</span></div>
<div class="line"><a name="l10392"></a><span class="lineno">10392</span>&#160;  <span class="comment">// the range before or that we started outside of it. Both of these cases</span></div>
<div class="line"><a name="l10393"></a><span class="lineno">10393</span>&#160;  <span class="comment">// are contradictions.</span></div>
<div class="line"><a name="l10394"></a><span class="lineno">10394</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10395"></a><span class="lineno">10395</span>&#160;  <span class="comment">// Claim: In the case where SolveForBoundary returns std::nullopt, the correct</span></div>
<div class="line"><a name="l10396"></a><span class="lineno">10396</span>&#160;  <span class="comment">// solution is not some value between the Max for this boundary and the</span></div>
<div class="line"><a name="l10397"></a><span class="lineno">10397</span>&#160;  <span class="comment">// Min of the other boundary.</span></div>
<div class="line"><a name="l10398"></a><span class="lineno">10398</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10399"></a><span class="lineno">10399</span>&#160;  <span class="comment">// Justification: Assume that we had such Max_A and Min_B corresponding</span></div>
<div class="line"><a name="l10400"></a><span class="lineno">10400</span>&#160;  <span class="comment">// to range boundaries A and B and such that Max_A &lt; Min_B. If there was</span></div>
<div class="line"><a name="l10401"></a><span class="lineno">10401</span>&#160;  <span class="comment">// a solution between Max_A and Min_B, it would have to be caused by an</span></div>
<div class="line"><a name="l10402"></a><span class="lineno">10402</span>&#160;  <span class="comment">// overflow corresponding to either A or B. It cannot correspond to B,</span></div>
<div class="line"><a name="l10403"></a><span class="lineno">10403</span>&#160;  <span class="comment">// since Min_B is the first occurrence of such an overflow. If it</span></div>
<div class="line"><a name="l10404"></a><span class="lineno">10404</span>&#160;  <span class="comment">// corresponded to A, it would have to be either a signed or an unsigned</span></div>
<div class="line"><a name="l10405"></a><span class="lineno">10405</span>&#160;  <span class="comment">// overflow that is larger than both eliminated overflows for A. But</span></div>
<div class="line"><a name="l10406"></a><span class="lineno">10406</span>&#160;  <span class="comment">// between the eliminated overflows and this overflow, the values would</span></div>
<div class="line"><a name="l10407"></a><span class="lineno">10407</span>&#160;  <span class="comment">// cover the entire value space, thus crossing the other boundary, which</span></div>
<div class="line"><a name="l10408"></a><span class="lineno">10408</span>&#160;  <span class="comment">// is a contradiction.</span></div>
<div class="line"><a name="l10409"></a><span class="lineno">10409</span>&#160; </div>
<div class="line"><a name="l10410"></a><span class="lineno">10410</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a2715f6ab4c9bdd5c10865247739716fa">TruncIfPossible</a>(<a class="code" href="ScalarEvolution_8cpp.html#a2438fed16c3cb4cde45cd861762fefdd">MinOptional</a>(SL.first, SU.first), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l10411"></a><span class="lineno">10411</span>&#160;}</div>
<div class="line"><a name="l10412"></a><span class="lineno">10412</span>&#160; </div>
<div class="line"><a name="l10413"></a><span class="lineno">10413</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a></div>
<div class="line"><a name="l10414"></a><span class="lineno">10414</span>&#160;ScalarEvolution::howFarToZero(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keywordtype">bool</span> ControlsExit,</div>
<div class="line"><a name="l10415"></a><span class="lineno">10415</span>&#160;                              <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l10416"></a><span class="lineno">10416</span>&#160; </div>
<div class="line"><a name="l10417"></a><span class="lineno">10417</span>&#160;  <span class="comment">// This is only used for loops with a &quot;x != y&quot; exit test. The exit condition</span></div>
<div class="line"><a name="l10418"></a><span class="lineno">10418</span>&#160;  <span class="comment">// is now expressed as a single expression, V = x-y. So the exit test is</span></div>
<div class="line"><a name="l10419"></a><span class="lineno">10419</span>&#160;  <span class="comment">// effectively V != 0.  We know and take advantage of the fact that this</span></div>
<div class="line"><a name="l10420"></a><span class="lineno">10420</span>&#160;  <span class="comment">// expression only being used in a comparison by zero context.</span></div>
<div class="line"><a name="l10421"></a><span class="lineno">10421</span>&#160; </div>
<div class="line"><a name="l10422"></a><span class="lineno">10422</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEVPredicate *, 4&gt;</a> Predicates;</div>
<div class="line"><a name="l10423"></a><span class="lineno">10423</span>&#160;  <span class="comment">// If the value is a constant</span></div>
<div class="line"><a name="l10424"></a><span class="lineno">10424</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(V)) {</div>
<div class="line"><a name="l10425"></a><span class="lineno">10425</span>&#160;    <span class="comment">// If the value is already zero, the branch will execute zero times.</span></div>
<div class="line"><a name="l10426"></a><span class="lineno">10426</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;isZero()) <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l10427"></a><span class="lineno">10427</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();  <span class="comment">// Otherwise it will loop infinitely.</span></div>
<div class="line"><a name="l10428"></a><span class="lineno">10428</span>&#160;  }</div>
<div class="line"><a name="l10429"></a><span class="lineno">10429</span>&#160; </div>
<div class="line"><a name="l10430"></a><span class="lineno">10430</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec =</div>
<div class="line"><a name="l10431"></a><span class="lineno">10431</span>&#160;      dyn_cast&lt;SCEVAddRecExpr&gt;(stripInjectiveFunctions(V));</div>
<div class="line"><a name="l10432"></a><span class="lineno">10432</span>&#160; </div>
<div class="line"><a name="l10433"></a><span class="lineno">10433</span>&#160;  <span class="keywordflow">if</span> (!AddRec &amp;&amp; AllowPredicates)</div>
<div class="line"><a name="l10434"></a><span class="lineno">10434</span>&#160;    <span class="comment">// Try to make this an AddRec using runtime tests, in the first X</span></div>
<div class="line"><a name="l10435"></a><span class="lineno">10435</span>&#160;    <span class="comment">// iterations of this loop, where X is the SCEV expression found by the</span></div>
<div class="line"><a name="l10436"></a><span class="lineno">10436</span>&#160;    <span class="comment">// algorithm below.</span></div>
<div class="line"><a name="l10437"></a><span class="lineno">10437</span>&#160;    AddRec = <a class="code" href="classllvm_1_1ScalarEvolution.html#aa5e72c64cab442ede71f4a6f03284527">convertSCEVToAddRecWithPredicates</a>(V, L, Predicates);</div>
<div class="line"><a name="l10438"></a><span class="lineno">10438</span>&#160; </div>
<div class="line"><a name="l10439"></a><span class="lineno">10439</span>&#160;  <span class="keywordflow">if</span> (!AddRec || AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() != L)</div>
<div class="line"><a name="l10440"></a><span class="lineno">10440</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l10441"></a><span class="lineno">10441</span>&#160; </div>
<div class="line"><a name="l10442"></a><span class="lineno">10442</span>&#160;  <span class="comment">// If this is a quadratic (3-term) AddRec {L,+,M,+,N}, find the roots of</span></div>
<div class="line"><a name="l10443"></a><span class="lineno">10443</span>&#160;  <span class="comment">// the quadratic equation to solve it.</span></div>
<div class="line"><a name="l10444"></a><span class="lineno">10444</span>&#160;  <span class="keywordflow">if</span> (AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a5e91958e021e28eb6fbd30f76c96b731">isQuadratic</a>() &amp;&amp; AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>()) {</div>
<div class="line"><a name="l10445"></a><span class="lineno">10445</span>&#160;    <span class="comment">// We can only use this value if the chrec ends up with an exact zero</span></div>
<div class="line"><a name="l10446"></a><span class="lineno">10446</span>&#160;    <span class="comment">// value at this index.  When solving for &quot;X*X != 5&quot;, for example, we</span></div>
<div class="line"><a name="l10447"></a><span class="lineno">10447</span>&#160;    <span class="comment">// should not accept a root of 2.</span></div>
<div class="line"><a name="l10448"></a><span class="lineno">10448</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="ScalarEvolution_8cpp.html#a489f02dd88052216487026291385d55c">SolveQuadraticAddRecExact</a>(AddRec, *<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l10449"></a><span class="lineno">10449</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(*<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>));</div>
<div class="line"><a name="l10450"></a><span class="lineno">10450</span>&#160;      <span class="keywordflow">return</span> ExitLimit(R, R, R, <span class="keyword">false</span>, Predicates);</div>
<div class="line"><a name="l10451"></a><span class="lineno">10451</span>&#160;    }</div>
<div class="line"><a name="l10452"></a><span class="lineno">10452</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l10453"></a><span class="lineno">10453</span>&#160;  }</div>
<div class="line"><a name="l10454"></a><span class="lineno">10454</span>&#160; </div>
<div class="line"><a name="l10455"></a><span class="lineno">10455</span>&#160;  <span class="comment">// Otherwise we can only handle this if it is affine.</span></div>
<div class="line"><a name="l10456"></a><span class="lineno">10456</span>&#160;  <span class="keywordflow">if</span> (!AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>())</div>
<div class="line"><a name="l10457"></a><span class="lineno">10457</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l10458"></a><span class="lineno">10458</span>&#160; </div>
<div class="line"><a name="l10459"></a><span class="lineno">10459</span>&#160;  <span class="comment">// If this is an affine expression, the execution count of this branch is</span></div>
<div class="line"><a name="l10460"></a><span class="lineno">10460</span>&#160;  <span class="comment">// the minimum unsigned root of the following equation:</span></div>
<div class="line"><a name="l10461"></a><span class="lineno">10461</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10462"></a><span class="lineno">10462</span>&#160;  <span class="comment">//     Start + Step*N = 0 (mod 2^BW)</span></div>
<div class="line"><a name="l10463"></a><span class="lineno">10463</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10464"></a><span class="lineno">10464</span>&#160;  <span class="comment">// equivalent to:</span></div>
<div class="line"><a name="l10465"></a><span class="lineno">10465</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10466"></a><span class="lineno">10466</span>&#160;  <span class="comment">//             Step*N = -Start (mod 2^BW)</span></div>
<div class="line"><a name="l10467"></a><span class="lineno">10467</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10468"></a><span class="lineno">10468</span>&#160;  <span class="comment">// where BW is the common bit width of Start and Step.</span></div>
<div class="line"><a name="l10469"></a><span class="lineno">10469</span>&#160; </div>
<div class="line"><a name="l10470"></a><span class="lineno">10470</span>&#160;  <span class="comment">// Get the initial value for the loop.</span></div>
<div class="line"><a name="l10471"></a><span class="lineno">10471</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(), L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a62733c3335a87750623dbfc5b3ae4f6c">getParentLoop</a>());</div>
<div class="line"><a name="l10472"></a><span class="lineno">10472</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = <a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">getOperand</a>(1), L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a62733c3335a87750623dbfc5b3ae4f6c">getParentLoop</a>());</div>
<div class="line"><a name="l10473"></a><span class="lineno">10473</span>&#160; </div>
<div class="line"><a name="l10474"></a><span class="lineno">10474</span>&#160;  <span class="comment">// For now we handle only constant steps.</span></div>
<div class="line"><a name="l10475"></a><span class="lineno">10475</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10476"></a><span class="lineno">10476</span>&#160;  <span class="comment">// TODO: Handle a nonconstant Step given AddRec&lt;NUW&gt;. If the</span></div>
<div class="line"><a name="l10477"></a><span class="lineno">10477</span>&#160;  <span class="comment">// AddRec is NUW, then (in an unsigned sense) it cannot be counting up to wrap</span></div>
<div class="line"><a name="l10478"></a><span class="lineno">10478</span>&#160;  <span class="comment">// to 0, it must be counting down to equal 0. Consequently, N = Start / -Step.</span></div>
<div class="line"><a name="l10479"></a><span class="lineno">10479</span>&#160;  <span class="comment">// We have not yet seen any such cases.</span></div>
<div class="line"><a name="l10480"></a><span class="lineno">10480</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *StepC = dyn_cast&lt;SCEVConstant&gt;(Step);</div>
<div class="line"><a name="l10481"></a><span class="lineno">10481</span>&#160;  <span class="keywordflow">if</span> (!StepC || StepC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#ab319aacb4209aeca2c72d50a0d585b47">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a882d55a6aa2028e1a5ad708b275334e0">isZero</a>())</div>
<div class="line"><a name="l10482"></a><span class="lineno">10482</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l10483"></a><span class="lineno">10483</span>&#160; </div>
<div class="line"><a name="l10484"></a><span class="lineno">10484</span>&#160;  <span class="comment">// For positive steps (counting up until unsigned overflow):</span></div>
<div class="line"><a name="l10485"></a><span class="lineno">10485</span>&#160;  <span class="comment">//   N = -Start/Step (as unsigned)</span></div>
<div class="line"><a name="l10486"></a><span class="lineno">10486</span>&#160;  <span class="comment">// For negative steps (counting down to zero):</span></div>
<div class="line"><a name="l10487"></a><span class="lineno">10487</span>&#160;  <span class="comment">//   N = Start/-Step</span></div>
<div class="line"><a name="l10488"></a><span class="lineno">10488</span>&#160;  <span class="comment">// First compute the unsigned distance from zero in the direction of Step.</span></div>
<div class="line"><a name="l10489"></a><span class="lineno">10489</span>&#160;  <span class="keywordtype">bool</span> CountDown = StepC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>().<a class="code" href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">isNegative</a>();</div>
<div class="line"><a name="l10490"></a><span class="lineno">10490</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Distance = CountDown ? Start : <a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(Start);</div>
<div class="line"><a name="l10491"></a><span class="lineno">10491</span>&#160; </div>
<div class="line"><a name="l10492"></a><span class="lineno">10492</span>&#160;  <span class="comment">// Handle unitary steps, which cannot wraparound.</span></div>
<div class="line"><a name="l10493"></a><span class="lineno">10493</span>&#160;  <span class="comment">// 1*N = -Start; -1*N = Start (mod 2^BW), so:</span></div>
<div class="line"><a name="l10494"></a><span class="lineno">10494</span>&#160;  <span class="comment">//   N = Distance (as unsigned)</span></div>
<div class="line"><a name="l10495"></a><span class="lineno">10495</span>&#160;  <span class="keywordflow">if</span> (StepC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#ab319aacb4209aeca2c72d50a0d585b47">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a244bfbe5aae876e56cf5e62f0f27867a">isOne</a>() || StepC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#ab319aacb4209aeca2c72d50a0d585b47">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a13cc1f5d3225f4ec063520a747acec4c">isMinusOne</a>()) {</div>
<div class="line"><a name="l10496"></a><span class="lineno">10496</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad146072469181af4ccb7ef03c28999ba">applyLoopGuards</a>(Distance, L));</div>
<div class="line"><a name="l10497"></a><span class="lineno">10497</span>&#160;    MaxBECount = <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">APIntOps::umin</a>(MaxBECount, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(Distance));</div>
<div class="line"><a name="l10498"></a><span class="lineno">10498</span>&#160; </div>
<div class="line"><a name="l10499"></a><span class="lineno">10499</span>&#160;    <span class="comment">// When a loop like &quot;for (int i = 0; i != n; ++i) { /* body */ }&quot; is rotated,</span></div>
<div class="line"><a name="l10500"></a><span class="lineno">10500</span>&#160;    <span class="comment">// we end up with a loop whose backedge-taken count is n - 1.  Detect this</span></div>
<div class="line"><a name="l10501"></a><span class="lineno">10501</span>&#160;    <span class="comment">// case, and see if we can improve the bound.</span></div>
<div class="line"><a name="l10502"></a><span class="lineno">10502</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l10503"></a><span class="lineno">10503</span>&#160;    <span class="comment">// Explicitly handling this here is necessary because getUnsignedRange</span></div>
<div class="line"><a name="l10504"></a><span class="lineno">10504</span>&#160;    <span class="comment">// isn&#39;t context-sensitive; it doesn&#39;t know that we only care about the</span></div>
<div class="line"><a name="l10505"></a><span class="lineno">10505</span>&#160;    <span class="comment">// range inside the loop.</span></div>
<div class="line"><a name="l10506"></a><span class="lineno">10506</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(Distance-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l10507"></a><span class="lineno">10507</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(Distance-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l10508"></a><span class="lineno">10508</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *DistancePlusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Distance, One);</div>
<div class="line"><a name="l10509"></a><span class="lineno">10509</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>, DistancePlusOne, Zero)) {</div>
<div class="line"><a name="l10510"></a><span class="lineno">10510</span>&#160;      <span class="comment">// If Distance + 1 doesn&#39;t overflow, we can compute the maximum distance</span></div>
<div class="line"><a name="l10511"></a><span class="lineno">10511</span>&#160;      <span class="comment">// as &quot;unsigned_max(Distance + 1) - 1&quot;.</span></div>
<div class="line"><a name="l10512"></a><span class="lineno">10512</span>&#160;      <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(DistancePlusOne);</div>
<div class="line"><a name="l10513"></a><span class="lineno">10513</span>&#160;      MaxBECount = <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">APIntOps::umin</a>(MaxBECount, CR.<a class="code" href="classllvm_1_1ConstantRange.html#ab7f67c2ed8b2799c64ec64ca31d75c60">getUnsignedMax</a>() - 1);</div>
<div class="line"><a name="l10514"></a><span class="lineno">10514</span>&#160;    }</div>
<div class="line"><a name="l10515"></a><span class="lineno">10515</span>&#160;    <span class="keywordflow">return</span> ExitLimit(Distance, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(MaxBECount), Distance, <span class="keyword">false</span>,</div>
<div class="line"><a name="l10516"></a><span class="lineno">10516</span>&#160;                     Predicates);</div>
<div class="line"><a name="l10517"></a><span class="lineno">10517</span>&#160;  }</div>
<div class="line"><a name="l10518"></a><span class="lineno">10518</span>&#160; </div>
<div class="line"><a name="l10519"></a><span class="lineno">10519</span>&#160;  <span class="comment">// If the condition controls loop exit (the loop exits only if the expression</span></div>
<div class="line"><a name="l10520"></a><span class="lineno">10520</span>&#160;  <span class="comment">// is true) and the addition is no-wrap we can use unsigned divide to</span></div>
<div class="line"><a name="l10521"></a><span class="lineno">10521</span>&#160;  <span class="comment">// compute the backedge count.  In this case, the step may not divide the</span></div>
<div class="line"><a name="l10522"></a><span class="lineno">10522</span>&#160;  <span class="comment">// distance, but we don&#39;t care because if the condition is &quot;missed&quot; the loop</span></div>
<div class="line"><a name="l10523"></a><span class="lineno">10523</span>&#160;  <span class="comment">// will have undefined behavior due to wrapping.</span></div>
<div class="line"><a name="l10524"></a><span class="lineno">10524</span>&#160;  <span class="keywordflow">if</span> (ControlsExit &amp;&amp; AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a6429bca8fd0024ceb2d76ccaace43c4e">hasNoSelfWrap</a>() &amp;&amp;</div>
<div class="line"><a name="l10525"></a><span class="lineno">10525</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a3db092f7661158b76135b3b7d39f0991">loopHasNoAbnormalExits</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>())) {</div>
<div class="line"><a name="l10526"></a><span class="lineno">10526</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a> =</div>
<div class="line"><a name="l10527"></a><span class="lineno">10527</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(Distance, CountDown ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(Step) : Step);</div>
<div class="line"><a name="l10528"></a><span class="lineno">10528</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ConstantMax = <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l10529"></a><span class="lineno">10529</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a> != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()) {</div>
<div class="line"><a name="l10530"></a><span class="lineno">10530</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxInt = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad146072469181af4ccb7ef03c28999ba">applyLoopGuards</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a>, L));</div>
<div class="line"><a name="l10531"></a><span class="lineno">10531</span>&#160;      ConstantMax =</div>
<div class="line"><a name="l10532"></a><span class="lineno">10532</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">APIntOps::umin</a>(MaxInt, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a>)));</div>
<div class="line"><a name="l10533"></a><span class="lineno">10533</span>&#160;    }</div>
<div class="line"><a name="l10534"></a><span class="lineno">10534</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymbolicMax =</div>
<div class="line"><a name="l10535"></a><span class="lineno">10535</span>&#160;        isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a>) ? ConstantMax : <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a>;</div>
<div class="line"><a name="l10536"></a><span class="lineno">10536</span>&#160;    <span class="keywordflow">return</span> ExitLimit(<a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">Exact</a>, ConstantMax, SymbolicMax, <span class="keyword">false</span>, Predicates);</div>
<div class="line"><a name="l10537"></a><span class="lineno">10537</span>&#160;  }</div>
<div class="line"><a name="l10538"></a><span class="lineno">10538</span>&#160; </div>
<div class="line"><a name="l10539"></a><span class="lineno">10539</span>&#160;  <span class="comment">// Solve the general equation.</span></div>
<div class="line"><a name="l10540"></a><span class="lineno">10540</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="ScalarEvolution_8cpp.html#adad8e587f6b3e82c1b7207639c08fc58">SolveLinEquationWithOverflow</a>(StepC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">getAPInt</a>(),</div>
<div class="line"><a name="l10541"></a><span class="lineno">10541</span>&#160;                                               <a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(Start), *<span class="keyword">this</span>);</div>
<div class="line"><a name="l10542"></a><span class="lineno">10542</span>&#160; </div>
<div class="line"><a name="l10543"></a><span class="lineno">10543</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l10544"></a><span class="lineno">10544</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()) {</div>
<div class="line"><a name="l10545"></a><span class="lineno">10545</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxWithGuards = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad146072469181af4ccb7ef03c28999ba">applyLoopGuards</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, L));</div>
<div class="line"><a name="l10546"></a><span class="lineno">10546</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">APIntOps::umin</a>(MaxWithGuards, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)));</div>
<div class="line"><a name="l10547"></a><span class="lineno">10547</span>&#160;  }</div>
<div class="line"><a name="l10548"></a><span class="lineno">10548</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>) ? <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> : <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l10549"></a><span class="lineno">10549</span>&#160;  <span class="keywordflow">return</span> ExitLimit(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, M, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">false</span>, Predicates);</div>
<div class="line"><a name="l10550"></a><span class="lineno">10550</span>&#160;}</div>
<div class="line"><a name="l10551"></a><span class="lineno">10551</span>&#160; </div>
<div class="line"><a name="l10552"></a><span class="lineno">10552</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a></div>
<div class="line"><a name="l10553"></a><span class="lineno">10553</span>&#160;ScalarEvolution::howFarToNonZero(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l10554"></a><span class="lineno">10554</span>&#160;  <span class="comment">// Loops that look like: while (X == 0) are very strange indeed.  We don&#39;t</span></div>
<div class="line"><a name="l10555"></a><span class="lineno">10555</span>&#160;  <span class="comment">// handle them yet except for the trivial case.  This could be expanded in the</span></div>
<div class="line"><a name="l10556"></a><span class="lineno">10556</span>&#160;  <span class="comment">// future as needed.</span></div>
<div class="line"><a name="l10557"></a><span class="lineno">10557</span>&#160; </div>
<div class="line"><a name="l10558"></a><span class="lineno">10558</span>&#160;  <span class="comment">// If the value is a constant, check to see if it is known to be non-zero</span></div>
<div class="line"><a name="l10559"></a><span class="lineno">10559</span>&#160;  <span class="comment">// already.  If so, the backedge will execute zero times.</span></div>
<div class="line"><a name="l10560"></a><span class="lineno">10560</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(V)) {</div>
<div class="line"><a name="l10561"></a><span class="lineno">10561</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;isZero())</div>
<div class="line"><a name="l10562"></a><span class="lineno">10562</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType());</div>
<div class="line"><a name="l10563"></a><span class="lineno">10563</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();  <span class="comment">// Otherwise it will loop infinitely.</span></div>
<div class="line"><a name="l10564"></a><span class="lineno">10564</span>&#160;  }</div>
<div class="line"><a name="l10565"></a><span class="lineno">10565</span>&#160; </div>
<div class="line"><a name="l10566"></a><span class="lineno">10566</span>&#160;  <span class="comment">// We could implement others, but I really doubt anyone writes loops like</span></div>
<div class="line"><a name="l10567"></a><span class="lineno">10567</span>&#160;  <span class="comment">// this, and if they did, they would already be constant folded.</span></div>
<div class="line"><a name="l10568"></a><span class="lineno">10568</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l10569"></a><span class="lineno">10569</span>&#160;}</div>
<div class="line"><a name="l10570"></a><span class="lineno">10570</span>&#160; </div>
<div class="line"><a name="l10571"></a><span class="lineno">10571</span>&#160;std::pair&lt;const BasicBlock *, const BasicBlock *&gt;</div>
<div class="line"><a name="l10572"></a><span class="lineno">10572</span>&#160;ScalarEvolution::getPredecessorWithUniqueSuccessorForBB(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)<span class="keyword"></span></div>
<div class="line"><a name="l10573"></a><span class="lineno">10573</span>&#160;<span class="keyword">    const </span>{</div>
<div class="line"><a name="l10574"></a><span class="lineno">10574</span>&#160;  <span class="comment">// If the block has a unique predecessor, then there is no path from the</span></div>
<div class="line"><a name="l10575"></a><span class="lineno">10575</span>&#160;  <span class="comment">// predecessor to the block that does not go through the direct edge</span></div>
<div class="line"><a name="l10576"></a><span class="lineno">10576</span>&#160;  <span class="comment">// from the predecessor to the block.</span></div>
<div class="line"><a name="l10577"></a><span class="lineno">10577</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getSinglePredecessor())</div>
<div class="line"><a name="l10578"></a><span class="lineno">10578</span>&#160;    <span class="keywordflow">return</span> {Pred, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>};</div>
<div class="line"><a name="l10579"></a><span class="lineno">10579</span>&#160; </div>
<div class="line"><a name="l10580"></a><span class="lineno">10580</span>&#160;  <span class="comment">// A loop&#39;s header is defined to be a block that dominates the loop.</span></div>
<div class="line"><a name="l10581"></a><span class="lineno">10581</span>&#160;  <span class="comment">// If the header has a unique predecessor outside the loop, it must be</span></div>
<div class="line"><a name="l10582"></a><span class="lineno">10582</span>&#160;  <span class="comment">// a block that has exactly one successor that can reach the loop.</span></div>
<div class="line"><a name="l10583"></a><span class="lineno">10583</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l10584"></a><span class="lineno">10584</span>&#160;    <span class="keywordflow">return</span> {L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a88575baf2ad9f4cd2e2432e6da4a976b">getLoopPredecessor</a>(), L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()};</div>
<div class="line"><a name="l10585"></a><span class="lineno">10585</span>&#160; </div>
<div class="line"><a name="l10586"></a><span class="lineno">10586</span>&#160;  <span class="keywordflow">return</span> {<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l10587"></a><span class="lineno">10587</span>&#160;}</div>
<div class="line"><a name="l10588"></a><span class="lineno">10588</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l10589"></a><span class="lineno">10589</span>&#160;<span class="comment">/// SCEV structural equivalence is usually sufficient for testing whether two</span></div>
<div class="line"><a name="l10590"></a><span class="lineno">10590</span>&#160;<span class="comment">/// expressions are equal, however for the purposes of looking for a condition</span></div>
<div class="line"><a name="l10591"></a><span class="lineno">10591</span>&#160;<span class="comment">/// guarding a loop, it can be useful to be a little more general, since a</span></div>
<div class="line"><a name="l10592"></a><span class="lineno">10592</span>&#160;<span class="comment">/// front-end may have replicated the controlling expression.</span></div>
<div class="line"><a name="l10593"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">10593</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l10594"></a><span class="lineno">10594</span>&#160;  <span class="comment">// Quick check to see if they are the same SCEV.</span></div>
<div class="line"><a name="l10595"></a><span class="lineno">10595</span>&#160;  <span class="keywordflow">if</span> (A == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10596"></a><span class="lineno">10596</span>&#160; </div>
<div class="line"><a name="l10597"></a><span class="lineno">10597</span>&#160;  <span class="keyword">auto</span> ComputesEqualValues = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l10598"></a><span class="lineno">10598</span>&#160;    <span class="comment">// Not all instructions that are &quot;identical&quot; compute the same value.  For</span></div>
<div class="line"><a name="l10599"></a><span class="lineno">10599</span>&#160;    <span class="comment">// instance, two distinct alloca instructions allocating the same type are</span></div>
<div class="line"><a name="l10600"></a><span class="lineno">10600</span>&#160;    <span class="comment">// identical and do not read memory; but compute distinct values.</span></div>
<div class="line"><a name="l10601"></a><span class="lineno">10601</span>&#160;    <span class="keywordflow">return</span> A-&gt;isIdenticalTo(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) &amp;&amp; (isa&lt;BinaryOperator&gt;(A) || isa&lt;GetElementPtrInst&gt;(A));</div>
<div class="line"><a name="l10602"></a><span class="lineno">10602</span>&#160;  };</div>
<div class="line"><a name="l10603"></a><span class="lineno">10603</span>&#160; </div>
<div class="line"><a name="l10604"></a><span class="lineno">10604</span>&#160;  <span class="comment">// Otherwise, if they&#39;re both SCEVUnknown, it&#39;s possible that they hold</span></div>
<div class="line"><a name="l10605"></a><span class="lineno">10605</span>&#160;  <span class="comment">// two different instructions with the same value. Check for this case.</span></div>
<div class="line"><a name="l10606"></a><span class="lineno">10606</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *AU = dyn_cast&lt;SCEVUnknown&gt;(A))</div>
<div class="line"><a name="l10607"></a><span class="lineno">10607</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *BU = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l10608"></a><span class="lineno">10608</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *AI = dyn_cast&lt;Instruction&gt;(AU-&gt;getValue()))</div>
<div class="line"><a name="l10609"></a><span class="lineno">10609</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *BI = dyn_cast&lt;Instruction&gt;(BU-&gt;getValue()))</div>
<div class="line"><a name="l10610"></a><span class="lineno">10610</span>&#160;          <span class="keywordflow">if</span> (ComputesEqualValues(AI, BI))</div>
<div class="line"><a name="l10611"></a><span class="lineno">10611</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10612"></a><span class="lineno">10612</span>&#160; </div>
<div class="line"><a name="l10613"></a><span class="lineno">10613</span>&#160;  <span class="comment">// Otherwise assume they may have a different value.</span></div>
<div class="line"><a name="l10614"></a><span class="lineno">10614</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10615"></a><span class="lineno">10615</span>&#160;}</div>
<div class="line"><a name="l10616"></a><span class="lineno">10616</span>&#160; </div>
<div class="line"><a name="l10617"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ad1c48ca1756aa11e5ea9e8a477d48e15">10617</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad1c48ca1756aa11e5ea9e8a477d48e15">ScalarEvolution::SimplifyICmpOperands</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> &amp;Pred,</div>
<div class="line"><a name="l10618"></a><span class="lineno">10618</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l10619"></a><span class="lineno">10619</span>&#160;                                           <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>,</div>
<div class="line"><a name="l10620"></a><span class="lineno">10620</span>&#160;                                           <span class="keywordtype">bool</span> ControllingFiniteLoop) {</div>
<div class="line"><a name="l10621"></a><span class="lineno">10621</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l10622"></a><span class="lineno">10622</span>&#160;  <span class="comment">// Simplifies ICMP to trivial true or false by turning it into &#39;0 == 0&#39; or</span></div>
<div class="line"><a name="l10623"></a><span class="lineno">10623</span>&#160;  <span class="comment">// &#39;0 != 0&#39;.</span></div>
<div class="line"><a name="l10624"></a><span class="lineno">10624</span>&#160;  <span class="keyword">auto</span> TrivialCase = [&amp;](<span class="keywordtype">bool</span> TriviallyTrue) {</div>
<div class="line"><a name="l10625"></a><span class="lineno">10625</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>()));</div>
<div class="line"><a name="l10626"></a><span class="lineno">10626</span>&#160;    Pred = TriviallyTrue ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div>
<div class="line"><a name="l10627"></a><span class="lineno">10627</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10628"></a><span class="lineno">10628</span>&#160;  };</div>
<div class="line"><a name="l10629"></a><span class="lineno">10629</span>&#160;  <span class="comment">// If we hit the max recursion limit bail out.</span></div>
<div class="line"><a name="l10630"></a><span class="lineno">10630</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt;= 3)</div>
<div class="line"><a name="l10631"></a><span class="lineno">10631</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10632"></a><span class="lineno">10632</span>&#160; </div>
<div class="line"><a name="l10633"></a><span class="lineno">10633</span>&#160;  <span class="comment">// Canonicalize a constant to the right side.</span></div>
<div class="line"><a name="l10634"></a><span class="lineno">10634</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l10635"></a><span class="lineno">10635</span>&#160;    <span class="comment">// Check for both operands constant.</span></div>
<div class="line"><a name="l10636"></a><span class="lineno">10636</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l10637"></a><span class="lineno">10637</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html#a68fce0638c5ec7b96b8572cad9c20488">ConstantExpr::getICmp</a>(Pred,</div>
<div class="line"><a name="l10638"></a><span class="lineno">10638</span>&#160;                                LHSC-&gt;getValue(),</div>
<div class="line"><a name="l10639"></a><span class="lineno">10639</span>&#160;                                RHSC-&gt;getValue())-&gt;<a class="code" href="classllvm_1_1Constant.html#ae4b6abe77abf42fb02081a6cc41a0132">isNullValue</a>())</div>
<div class="line"><a name="l10640"></a><span class="lineno">10640</span>&#160;        <span class="keywordflow">return</span> TrivialCase(<span class="keyword">false</span>);</div>
<div class="line"><a name="l10641"></a><span class="lineno">10641</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l10642"></a><span class="lineno">10642</span>&#160;        <span class="keywordflow">return</span> TrivialCase(<span class="keyword">true</span>);</div>
<div class="line"><a name="l10643"></a><span class="lineno">10643</span>&#160;    }</div>
<div class="line"><a name="l10644"></a><span class="lineno">10644</span>&#160;    <span class="comment">// Otherwise swap the operands to put the constant on the right.</span></div>
<div class="line"><a name="l10645"></a><span class="lineno">10645</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10646"></a><span class="lineno">10646</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l10647"></a><span class="lineno">10647</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10648"></a><span class="lineno">10648</span>&#160;  }</div>
<div class="line"><a name="l10649"></a><span class="lineno">10649</span>&#160; </div>
<div class="line"><a name="l10650"></a><span class="lineno">10650</span>&#160;  <span class="comment">// If we&#39;re comparing an addrec with a value which is loop-invariant in the</span></div>
<div class="line"><a name="l10651"></a><span class="lineno">10651</span>&#160;  <span class="comment">// addrec&#39;s loop, put the addrec on the left. Also make a dominance check,</span></div>
<div class="line"><a name="l10652"></a><span class="lineno">10652</span>&#160;  <span class="comment">// as both operands could be addrecs loop-invariant in each other&#39;s loop.</span></div>
<div class="line"><a name="l10653"></a><span class="lineno">10653</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l10654"></a><span class="lineno">10654</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>();</div>
<div class="line"><a name="l10655"></a><span class="lineno">10655</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, L) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#ae0d036af111b8aafe90db0771b8e9ce3">properlyDominates</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())) {</div>
<div class="line"><a name="l10656"></a><span class="lineno">10656</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10657"></a><span class="lineno">10657</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l10658"></a><span class="lineno">10658</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10659"></a><span class="lineno">10659</span>&#160;    }</div>
<div class="line"><a name="l10660"></a><span class="lineno">10660</span>&#160;  }</div>
<div class="line"><a name="l10661"></a><span class="lineno">10661</span>&#160; </div>
<div class="line"><a name="l10662"></a><span class="lineno">10662</span>&#160;  <span class="comment">// If there&#39;s a constant operand, canonicalize comparisons with boundary</span></div>
<div class="line"><a name="l10663"></a><span class="lineno">10663</span>&#160;  <span class="comment">// cases, and canonicalize *-or-equal comparisons to regular comparisons.</span></div>
<div class="line"><a name="l10664"></a><span class="lineno">10664</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l10665"></a><span class="lineno">10665</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> = RC-&gt;getAPInt();</div>
<div class="line"><a name="l10666"></a><span class="lineno">10666</span>&#160; </div>
<div class="line"><a name="l10667"></a><span class="lineno">10667</span>&#160;    <span class="keywordtype">bool</span> SimplifiedByConstantRange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l10668"></a><span class="lineno">10668</span>&#160; </div>
<div class="line"><a name="l10669"></a><span class="lineno">10669</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred)) {</div>
<div class="line"><a name="l10670"></a><span class="lineno">10670</span>&#160;      <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ExactCR = <a class="code" href="classllvm_1_1ConstantRange.html#aa89e9cec92a0b38d2f47a077bf12cc98">ConstantRange::makeExactICmpRegion</a>(Pred, <a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>);</div>
<div class="line"><a name="l10671"></a><span class="lineno">10671</span>&#160;      <span class="keywordflow">if</span> (ExactCR.<a class="code" href="classllvm_1_1ConstantRange.html#a4f6242fab5145c424cee29230fefe746">isFullSet</a>())</div>
<div class="line"><a name="l10672"></a><span class="lineno">10672</span>&#160;        <span class="keywordflow">return</span> TrivialCase(<span class="keyword">true</span>);</div>
<div class="line"><a name="l10673"></a><span class="lineno">10673</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ExactCR.<a class="code" href="classllvm_1_1ConstantRange.html#a5bd6d98b4a7ecc1dcdc571e4352fcc52">isEmptySet</a>())</div>
<div class="line"><a name="l10674"></a><span class="lineno">10674</span>&#160;        <span class="keywordflow">return</span> TrivialCase(<span class="keyword">false</span>);</div>
<div class="line"><a name="l10675"></a><span class="lineno">10675</span>&#160; </div>
<div class="line"><a name="l10676"></a><span class="lineno">10676</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewRHS;</div>
<div class="line"><a name="l10677"></a><span class="lineno">10677</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> NewPred;</div>
<div class="line"><a name="l10678"></a><span class="lineno">10678</span>&#160;      <span class="keywordflow">if</span> (ExactCR.<a class="code" href="classllvm_1_1ConstantRange.html#a1616515fc811646b8cc5e6625e36b954">getEquivalentICmp</a>(NewPred, NewRHS) &amp;&amp;</div>
<div class="line"><a name="l10679"></a><span class="lineno">10679</span>&#160;          <a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(NewPred)) {</div>
<div class="line"><a name="l10680"></a><span class="lineno">10680</span>&#160;        <span class="comment">// We were able to convert an inequality to an equality.</span></div>
<div class="line"><a name="l10681"></a><span class="lineno">10681</span>&#160;        Pred = NewPred;</div>
<div class="line"><a name="l10682"></a><span class="lineno">10682</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(NewRHS);</div>
<div class="line"><a name="l10683"></a><span class="lineno">10683</span>&#160;        Changed = SimplifiedByConstantRange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10684"></a><span class="lineno">10684</span>&#160;      }</div>
<div class="line"><a name="l10685"></a><span class="lineno">10685</span>&#160;    }</div>
<div class="line"><a name="l10686"></a><span class="lineno">10686</span>&#160; </div>
<div class="line"><a name="l10687"></a><span class="lineno">10687</span>&#160;    <span class="keywordflow">if</span> (!SimplifiedByConstantRange) {</div>
<div class="line"><a name="l10688"></a><span class="lineno">10688</span>&#160;      <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l10689"></a><span class="lineno">10689</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l10690"></a><span class="lineno">10690</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10691"></a><span class="lineno">10691</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l10692"></a><span class="lineno">10692</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l10693"></a><span class="lineno">10693</span>&#160;        <span class="comment">// Fold ((-1) * %a) + %b == 0 (equivalent to %b-%a == 0) into %a == %b.</span></div>
<div class="line"><a name="l10694"></a><span class="lineno">10694</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>)</div>
<div class="line"><a name="l10695"></a><span class="lineno">10695</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *AE = dyn_cast&lt;SCEVAddExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l10696"></a><span class="lineno">10696</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *ME =</div>
<div class="line"><a name="l10697"></a><span class="lineno">10697</span>&#160;                    dyn_cast&lt;SCEVMulExpr&gt;(AE-&gt;getOperand(0)))</div>
<div class="line"><a name="l10698"></a><span class="lineno">10698</span>&#160;              <span class="keywordflow">if</span> (AE-&gt;getNumOperands() == 2 &amp;&amp; ME-&gt;getNumOperands() == 2 &amp;&amp;</div>
<div class="line"><a name="l10699"></a><span class="lineno">10699</span>&#160;                  ME-&gt;getOperand(0)-&gt;isAllOnesValue()) {</div>
<div class="line"><a name="l10700"></a><span class="lineno">10700</span>&#160;                <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = AE-&gt;getOperand(1);</div>
<div class="line"><a name="l10701"></a><span class="lineno">10701</span>&#160;                <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = ME-&gt;getOperand(1);</div>
<div class="line"><a name="l10702"></a><span class="lineno">10702</span>&#160;                Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10703"></a><span class="lineno">10703</span>&#160;              }</div>
<div class="line"><a name="l10704"></a><span class="lineno">10704</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10705"></a><span class="lineno">10705</span>&#160; </div>
<div class="line"><a name="l10706"></a><span class="lineno">10706</span>&#160; </div>
<div class="line"><a name="l10707"></a><span class="lineno">10707</span>&#160;        <span class="comment">// The &quot;Should have been caught earlier!&quot; messages refer to the fact</span></div>
<div class="line"><a name="l10708"></a><span class="lineno">10708</span>&#160;        <span class="comment">// that the ExactCR.isFullSet() or ExactCR.isEmptySet() check above</span></div>
<div class="line"><a name="l10709"></a><span class="lineno">10709</span>&#160;        <span class="comment">// should have fired on the corresponding cases, and canonicalized the</span></div>
<div class="line"><a name="l10710"></a><span class="lineno">10710</span>&#160;        <span class="comment">// check to trivial case.</span></div>
<div class="line"><a name="l10711"></a><span class="lineno">10711</span>&#160; </div>
<div class="line"><a name="l10712"></a><span class="lineno">10712</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l10713"></a><span class="lineno">10713</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>.isMinValue() &amp;&amp; <span class="stringliteral">&quot;Should have been caught earlier!&quot;</span>);</div>
<div class="line"><a name="l10714"></a><span class="lineno">10714</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div>
<div class="line"><a name="l10715"></a><span class="lineno">10715</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> - 1);</div>
<div class="line"><a name="l10716"></a><span class="lineno">10716</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10717"></a><span class="lineno">10717</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10718"></a><span class="lineno">10718</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l10719"></a><span class="lineno">10719</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>.isMaxValue() &amp;&amp; <span class="stringliteral">&quot;Should have been caught earlier!&quot;</span>);</div>
<div class="line"><a name="l10720"></a><span class="lineno">10720</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div>
<div class="line"><a name="l10721"></a><span class="lineno">10721</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> + 1);</div>
<div class="line"><a name="l10722"></a><span class="lineno">10722</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10723"></a><span class="lineno">10723</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10724"></a><span class="lineno">10724</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l10725"></a><span class="lineno">10725</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>.isMinSignedValue() &amp;&amp; <span class="stringliteral">&quot;Should have been caught earlier!&quot;</span>);</div>
<div class="line"><a name="l10726"></a><span class="lineno">10726</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div>
<div class="line"><a name="l10727"></a><span class="lineno">10727</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> - 1);</div>
<div class="line"><a name="l10728"></a><span class="lineno">10728</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10729"></a><span class="lineno">10729</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10730"></a><span class="lineno">10730</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l10731"></a><span class="lineno">10731</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>.isMaxSignedValue() &amp;&amp; <span class="stringliteral">&quot;Should have been caught earlier!&quot;</span>);</div>
<div class="line"><a name="l10732"></a><span class="lineno">10732</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div>
<div class="line"><a name="l10733"></a><span class="lineno">10733</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> + 1);</div>
<div class="line"><a name="l10734"></a><span class="lineno">10734</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10735"></a><span class="lineno">10735</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10736"></a><span class="lineno">10736</span>&#160;      }</div>
<div class="line"><a name="l10737"></a><span class="lineno">10737</span>&#160;    }</div>
<div class="line"><a name="l10738"></a><span class="lineno">10738</span>&#160;  }</div>
<div class="line"><a name="l10739"></a><span class="lineno">10739</span>&#160; </div>
<div class="line"><a name="l10740"></a><span class="lineno">10740</span>&#160;  <span class="comment">// Check for obvious equality.</span></div>
<div class="line"><a name="l10741"></a><span class="lineno">10741</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l10742"></a><span class="lineno">10742</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">ICmpInst::isTrueWhenEqual</a>(Pred))</div>
<div class="line"><a name="l10743"></a><span class="lineno">10743</span>&#160;      <span class="keywordflow">return</span> TrivialCase(<span class="keyword">true</span>);</div>
<div class="line"><a name="l10744"></a><span class="lineno">10744</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a1e32582702cf5b9d4484c0ce346b2f57">ICmpInst::isFalseWhenEqual</a>(Pred))</div>
<div class="line"><a name="l10745"></a><span class="lineno">10745</span>&#160;      <span class="keywordflow">return</span> TrivialCase(<span class="keyword">false</span>);</div>
<div class="line"><a name="l10746"></a><span class="lineno">10746</span>&#160;  }</div>
<div class="line"><a name="l10747"></a><span class="lineno">10747</span>&#160; </div>
<div class="line"><a name="l10748"></a><span class="lineno">10748</span>&#160;  <span class="comment">// If possible, canonicalize GE/LE comparisons to GT/LT comparisons, by</span></div>
<div class="line"><a name="l10749"></a><span class="lineno">10749</span>&#160;  <span class="comment">// adding or subtracting 1 from one of the operands. This can be done for</span></div>
<div class="line"><a name="l10750"></a><span class="lineno">10750</span>&#160;  <span class="comment">// one of two reasons:</span></div>
<div class="line"><a name="l10751"></a><span class="lineno">10751</span>&#160;  <span class="comment">// 1) The range of the RHS does not include the (signed/unsigned) boundaries</span></div>
<div class="line"><a name="l10752"></a><span class="lineno">10752</span>&#160;  <span class="comment">// 2) The loop is finite, with this comparison controlling the exit. Since the</span></div>
<div class="line"><a name="l10753"></a><span class="lineno">10753</span>&#160;  <span class="comment">// loop is finite, the bound cannot include the corresponding boundary</span></div>
<div class="line"><a name="l10754"></a><span class="lineno">10754</span>&#160;  <span class="comment">// (otherwise it would loop forever).</span></div>
<div class="line"><a name="l10755"></a><span class="lineno">10755</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l10756"></a><span class="lineno">10756</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l10757"></a><span class="lineno">10757</span>&#160;    <span class="keywordflow">if</span> (ControllingFiniteLoop || !<a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>).isMaxSignedValue()) {</div>
<div class="line"><a name="l10758"></a><span class="lineno">10758</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), 1, <span class="keyword">true</span>), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l10759"></a><span class="lineno">10759</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l10760"></a><span class="lineno">10760</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div>
<div class="line"><a name="l10761"></a><span class="lineno">10761</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10762"></a><span class="lineno">10762</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>).isMinSignedValue()) {</div>
<div class="line"><a name="l10763"></a><span class="lineno">10763</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)-1, <span class="keyword">true</span>), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10764"></a><span class="lineno">10764</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l10765"></a><span class="lineno">10765</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div>
<div class="line"><a name="l10766"></a><span class="lineno">10766</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10767"></a><span class="lineno">10767</span>&#160;    }</div>
<div class="line"><a name="l10768"></a><span class="lineno">10768</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10769"></a><span class="lineno">10769</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l10770"></a><span class="lineno">10770</span>&#160;    <span class="keywordflow">if</span> (ControllingFiniteLoop || !<a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>).isMinSignedValue()) {</div>
<div class="line"><a name="l10771"></a><span class="lineno">10771</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)-1, <span class="keyword">true</span>), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l10772"></a><span class="lineno">10772</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l10773"></a><span class="lineno">10773</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div>
<div class="line"><a name="l10774"></a><span class="lineno">10774</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10775"></a><span class="lineno">10775</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>).isMaxSignedValue()) {</div>
<div class="line"><a name="l10776"></a><span class="lineno">10776</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), 1, <span class="keyword">true</span>), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10777"></a><span class="lineno">10777</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div>
<div class="line"><a name="l10778"></a><span class="lineno">10778</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div>
<div class="line"><a name="l10779"></a><span class="lineno">10779</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10780"></a><span class="lineno">10780</span>&#160;    }</div>
<div class="line"><a name="l10781"></a><span class="lineno">10781</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10782"></a><span class="lineno">10782</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l10783"></a><span class="lineno">10783</span>&#160;    <span class="keywordflow">if</span> (ControllingFiniteLoop || !<a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>).isMaxValue()) {</div>
<div class="line"><a name="l10784"></a><span class="lineno">10784</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), 1, <span class="keyword">true</span>), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l10785"></a><span class="lineno">10785</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l10786"></a><span class="lineno">10786</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div>
<div class="line"><a name="l10787"></a><span class="lineno">10787</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10788"></a><span class="lineno">10788</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>).isMinValue()) {</div>
<div class="line"><a name="l10789"></a><span class="lineno">10789</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)-1, <span class="keyword">true</span>), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l10790"></a><span class="lineno">10790</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div>
<div class="line"><a name="l10791"></a><span class="lineno">10791</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10792"></a><span class="lineno">10792</span>&#160;    }</div>
<div class="line"><a name="l10793"></a><span class="lineno">10793</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10794"></a><span class="lineno">10794</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l10795"></a><span class="lineno">10795</span>&#160;    <span class="keywordflow">if</span> (ControllingFiniteLoop || !<a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>).isMinValue()) {</div>
<div class="line"><a name="l10796"></a><span class="lineno">10796</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)-1, <span class="keyword">true</span>), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10797"></a><span class="lineno">10797</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div>
<div class="line"><a name="l10798"></a><span class="lineno">10798</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10799"></a><span class="lineno">10799</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>).isMaxValue()) {</div>
<div class="line"><a name="l10800"></a><span class="lineno">10800</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), 1, <span class="keyword">true</span>), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10801"></a><span class="lineno">10801</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l10802"></a><span class="lineno">10802</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div>
<div class="line"><a name="l10803"></a><span class="lineno">10803</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l10804"></a><span class="lineno">10804</span>&#160;    }</div>
<div class="line"><a name="l10805"></a><span class="lineno">10805</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10806"></a><span class="lineno">10806</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l10807"></a><span class="lineno">10807</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10808"></a><span class="lineno">10808</span>&#160;  }</div>
<div class="line"><a name="l10809"></a><span class="lineno">10809</span>&#160; </div>
<div class="line"><a name="l10810"></a><span class="lineno">10810</span>&#160;  <span class="comment">// TODO: More simplifications are possible here.</span></div>
<div class="line"><a name="l10811"></a><span class="lineno">10811</span>&#160; </div>
<div class="line"><a name="l10812"></a><span class="lineno">10812</span>&#160;  <span class="comment">// Recursively simplify until we either hit a recursion limit or nothing</span></div>
<div class="line"><a name="l10813"></a><span class="lineno">10813</span>&#160;  <span class="comment">// changes.</span></div>
<div class="line"><a name="l10814"></a><span class="lineno">10814</span>&#160;  <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l10815"></a><span class="lineno">10815</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ad1c48ca1756aa11e5ea9e8a477d48e15">SimplifyICmpOperands</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1,</div>
<div class="line"><a name="l10816"></a><span class="lineno">10816</span>&#160;                                ControllingFiniteLoop);</div>
<div class="line"><a name="l10817"></a><span class="lineno">10817</span>&#160; </div>
<div class="line"><a name="l10818"></a><span class="lineno">10818</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l10819"></a><span class="lineno">10819</span>&#160;}</div>
<div class="line"><a name="l10820"></a><span class="lineno">10820</span>&#160; </div>
<div class="line"><a name="l10821"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">10821</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">ScalarEvolution::isKnownNegative</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l10822"></a><span class="lineno">10822</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>).<a class="code" href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">isNegative</a>();</div>
<div class="line"><a name="l10823"></a><span class="lineno">10823</span>&#160;}</div>
<div class="line"><a name="l10824"></a><span class="lineno">10824</span>&#160; </div>
<div class="line"><a name="l10825"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">10825</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">ScalarEvolution::isKnownPositive</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l10826"></a><span class="lineno">10826</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>).<a class="code" href="classllvm_1_1APInt.html#aa17c104fbda554c818cf87e53f32f20a">isStrictlyPositive</a>();</div>
<div class="line"><a name="l10827"></a><span class="lineno">10827</span>&#160;}</div>
<div class="line"><a name="l10828"></a><span class="lineno">10828</span>&#160; </div>
<div class="line"><a name="l10829"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">10829</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">ScalarEvolution::isKnownNonNegative</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l10830"></a><span class="lineno">10830</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>).<a class="code" href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">isNegative</a>();</div>
<div class="line"><a name="l10831"></a><span class="lineno">10831</span>&#160;}</div>
<div class="line"><a name="l10832"></a><span class="lineno">10832</span>&#160; </div>
<div class="line"><a name="l10833"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a121ee24f11c464f3b3197cac87b0980e">10833</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a121ee24f11c464f3b3197cac87b0980e">ScalarEvolution::isKnownNonPositive</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l10834"></a><span class="lineno">10834</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>).<a class="code" href="classllvm_1_1APInt.html#aa17c104fbda554c818cf87e53f32f20a">isStrictlyPositive</a>();</div>
<div class="line"><a name="l10835"></a><span class="lineno">10835</span>&#160;}</div>
<div class="line"><a name="l10836"></a><span class="lineno">10836</span>&#160; </div>
<div class="line"><a name="l10837"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a20c66c97bae0b3e6725d03cfa61c488b">10837</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a20c66c97bae0b3e6725d03cfa61c488b">ScalarEvolution::isKnownNonZero</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l10838"></a><span class="lineno">10838</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) != 0;</div>
<div class="line"><a name="l10839"></a><span class="lineno">10839</span>&#160;}</div>
<div class="line"><a name="l10840"></a><span class="lineno">10840</span>&#160; </div>
<div class="line"><a name="l10841"></a><span class="lineno">10841</span>&#160;std::pair&lt;const SCEV *, const SCEV *&gt;</div>
<div class="line"><a name="l10842"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae7a40d693574be8048944e80774e6c1d">10842</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#ae7a40d693574be8048944e80774e6c1d">ScalarEvolution::SplitIntoInitAndPostInc</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l10843"></a><span class="lineno">10843</span>&#160;  <span class="comment">// Compute SCEV on entry of loop L.</span></div>
<div class="line"><a name="l10844"></a><span class="lineno">10844</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = <a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">SCEVInitRewriter::rewrite</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, L, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l10845"></a><span class="lineno">10845</span>&#160;  <span class="keywordflow">if</span> (Start == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l10846"></a><span class="lineno">10846</span>&#160;    <span class="keywordflow">return</span> { Start, Start };</div>
<div class="line"><a name="l10847"></a><span class="lineno">10847</span>&#160;  <span class="comment">// Compute post increment SCEV for loop L.</span></div>
<div class="line"><a name="l10848"></a><span class="lineno">10848</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a1673ee57164ca23d9545b629b55e08d2">PostInc</a> = <a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">SCEVPostIncRewriter::rewrite</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, L, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l10849"></a><span class="lineno">10849</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a1673ee57164ca23d9545b629b55e08d2">PostInc</a> != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected could not compute&quot;</span>);</div>
<div class="line"><a name="l10850"></a><span class="lineno">10850</span>&#160;  <span class="keywordflow">return</span> { Start, <a class="code" href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a1673ee57164ca23d9545b629b55e08d2">PostInc</a> };</div>
<div class="line"><a name="l10851"></a><span class="lineno">10851</span>&#160;}</div>
<div class="line"><a name="l10852"></a><span class="lineno">10852</span>&#160; </div>
<div class="line"><a name="l10853"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a4cc98603a0b86854a68b17aba70b4718">10853</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4cc98603a0b86854a68b17aba70b4718">ScalarEvolution::isKnownViaInduction</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l10854"></a><span class="lineno">10854</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l10855"></a><span class="lineno">10855</span>&#160;  <span class="comment">// First collect all loops.</span></div>
<div class="line"><a name="l10856"></a><span class="lineno">10856</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const Loop *, 8&gt;</a> LoopsUsed;</div>
<div class="line"><a name="l10857"></a><span class="lineno">10857</span>&#160;  getUsedLoops(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, LoopsUsed);</div>
<div class="line"><a name="l10858"></a><span class="lineno">10858</span>&#160;  getUsedLoops(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, LoopsUsed);</div>
<div class="line"><a name="l10859"></a><span class="lineno">10859</span>&#160; </div>
<div class="line"><a name="l10860"></a><span class="lineno">10860</span>&#160;  <span class="keywordflow">if</span> (LoopsUsed.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">empty</a>())</div>
<div class="line"><a name="l10861"></a><span class="lineno">10861</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10862"></a><span class="lineno">10862</span>&#160; </div>
<div class="line"><a name="l10863"></a><span class="lineno">10863</span>&#160;  <span class="comment">// Domination relationship must be a linear order on collected loops.</span></div>
<div class="line"><a name="l10864"></a><span class="lineno">10864</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l10865"></a><span class="lineno">10865</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *L1 : LoopsUsed)</div>
<div class="line"><a name="l10866"></a><span class="lineno">10866</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#adefbb946b174533d5eb8db503b1f4ffa">L2</a> : LoopsUsed)</div>
<div class="line"><a name="l10867"></a><span class="lineno">10867</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(L1-&gt;getHeader(), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#adefbb946b174533d5eb8db503b1f4ffa">L2</a>-&gt;getHeader()) ||</div>
<div class="line"><a name="l10868"></a><span class="lineno">10868</span>&#160;              DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#adefbb946b174533d5eb8db503b1f4ffa">L2</a>-&gt;getHeader(), L1-&gt;getHeader())) &amp;&amp;</div>
<div class="line"><a name="l10869"></a><span class="lineno">10869</span>&#160;             <span class="stringliteral">&quot;Domination relationship is not a linear order&quot;</span>);</div>
<div class="line"><a name="l10870"></a><span class="lineno">10870</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10871"></a><span class="lineno">10871</span>&#160; </div>
<div class="line"><a name="l10872"></a><span class="lineno">10872</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *MDL =</div>
<div class="line"><a name="l10873"></a><span class="lineno">10873</span>&#160;      *std::max_element(LoopsUsed.begin(), LoopsUsed.end(),</div>
<div class="line"><a name="l10874"></a><span class="lineno">10874</span>&#160;                        [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#adefbb946b174533d5eb8db503b1f4ffa">L2</a>) {</div>
<div class="line"><a name="l10875"></a><span class="lineno">10875</span>&#160;         return DT.properlyDominates(L1-&gt;getHeader(), L2-&gt;getHeader());</div>
<div class="line"><a name="l10876"></a><span class="lineno">10876</span>&#160;       });</div>
<div class="line"><a name="l10877"></a><span class="lineno">10877</span>&#160; </div>
<div class="line"><a name="l10878"></a><span class="lineno">10878</span>&#160;  <span class="comment">// Get init and post increment value for LHS.</span></div>
<div class="line"><a name="l10879"></a><span class="lineno">10879</span>&#160;  <span class="keyword">auto</span> SplitLHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#ae7a40d693574be8048944e80774e6c1d">SplitIntoInitAndPostInc</a>(MDL, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l10880"></a><span class="lineno">10880</span>&#160;  <span class="comment">// if LHS contains unknown non-invariant SCEV then bail out.</span></div>
<div class="line"><a name="l10881"></a><span class="lineno">10881</span>&#160;  <span class="keywordflow">if</span> (SplitLHS.first == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l10882"></a><span class="lineno">10882</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10883"></a><span class="lineno">10883</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (SplitLHS.second != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected CNC&quot;</span>);</div>
<div class="line"><a name="l10884"></a><span class="lineno">10884</span>&#160;  <span class="comment">// Get init and post increment value for RHS.</span></div>
<div class="line"><a name="l10885"></a><span class="lineno">10885</span>&#160;  <span class="keyword">auto</span> SplitRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#ae7a40d693574be8048944e80774e6c1d">SplitIntoInitAndPostInc</a>(MDL, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10886"></a><span class="lineno">10886</span>&#160;  <span class="comment">// if RHS contains unknown non-invariant SCEV then bail out.</span></div>
<div class="line"><a name="l10887"></a><span class="lineno">10887</span>&#160;  <span class="keywordflow">if</span> (SplitRHS.first == <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>())</div>
<div class="line"><a name="l10888"></a><span class="lineno">10888</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10889"></a><span class="lineno">10889</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (SplitRHS.second != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected CNC&quot;</span>);</div>
<div class="line"><a name="l10890"></a><span class="lineno">10890</span>&#160;  <span class="comment">// It is possible that init SCEV contains an invariant load but it does</span></div>
<div class="line"><a name="l10891"></a><span class="lineno">10891</span>&#160;  <span class="comment">// not dominate MDL and is not available at MDL loop entry, so we should</span></div>
<div class="line"><a name="l10892"></a><span class="lineno">10892</span>&#160;  <span class="comment">// check it here.</span></div>
<div class="line"><a name="l10893"></a><span class="lineno">10893</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(SplitLHS.first, MDL) ||</div>
<div class="line"><a name="l10894"></a><span class="lineno">10894</span>&#160;      !<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(SplitRHS.first, MDL))</div>
<div class="line"><a name="l10895"></a><span class="lineno">10895</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10896"></a><span class="lineno">10896</span>&#160; </div>
<div class="line"><a name="l10897"></a><span class="lineno">10897</span>&#160;  <span class="comment">// It seems backedge guard check is faster than entry one so in some cases</span></div>
<div class="line"><a name="l10898"></a><span class="lineno">10898</span>&#160;  <span class="comment">// it can speed up whole estimation by short circuit</span></div>
<div class="line"><a name="l10899"></a><span class="lineno">10899</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">isLoopBackedgeGuardedByCond</a>(MDL, Pred, SplitLHS.second,</div>
<div class="line"><a name="l10900"></a><span class="lineno">10900</span>&#160;                                     SplitRHS.second) &amp;&amp;</div>
<div class="line"><a name="l10901"></a><span class="lineno">10901</span>&#160;         <a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(MDL, Pred, SplitLHS.first, SplitRHS.first);</div>
<div class="line"><a name="l10902"></a><span class="lineno">10902</span>&#160;}</div>
<div class="line"><a name="l10903"></a><span class="lineno">10903</span>&#160; </div>
<div class="line"><a name="l10904"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">10904</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">ScalarEvolution::isKnownPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l10905"></a><span class="lineno">10905</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l10906"></a><span class="lineno">10906</span>&#160;  <span class="comment">// Canonicalize the inputs first.</span></div>
<div class="line"><a name="l10907"></a><span class="lineno">10907</span>&#160;  (void)<a class="code" href="classllvm_1_1ScalarEvolution.html#ad1c48ca1756aa11e5ea9e8a477d48e15">SimplifyICmpOperands</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10908"></a><span class="lineno">10908</span>&#160; </div>
<div class="line"><a name="l10909"></a><span class="lineno">10909</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a4cc98603a0b86854a68b17aba70b4718">isKnownViaInduction</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l10910"></a><span class="lineno">10910</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10911"></a><span class="lineno">10911</span>&#160; </div>
<div class="line"><a name="l10912"></a><span class="lineno">10912</span>&#160;  <span class="keywordflow">if</span> (isKnownPredicateViaSplitting(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l10913"></a><span class="lineno">10913</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10914"></a><span class="lineno">10914</span>&#160; </div>
<div class="line"><a name="l10915"></a><span class="lineno">10915</span>&#160;  <span class="comment">// Otherwise see what can be done with some simple reasoning.</span></div>
<div class="line"><a name="l10916"></a><span class="lineno">10916</span>&#160;  <span class="keywordflow">return</span> isKnownViaNonRecursiveReasoning(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10917"></a><span class="lineno">10917</span>&#160;}</div>
<div class="line"><a name="l10918"></a><span class="lineno">10918</span>&#160; </div>
<div class="line"><a name="l10919"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a4cd909a15a97a10de847579ea5e9f46a">10919</a></span>&#160;std::optional&lt;bool&gt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a4cd909a15a97a10de847579ea5e9f46a">ScalarEvolution::evaluatePredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l10920"></a><span class="lineno">10920</span>&#160;                                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10921"></a><span class="lineno">10921</span>&#160;                                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l10922"></a><span class="lineno">10922</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l10923"></a><span class="lineno">10923</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10924"></a><span class="lineno">10924</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">ICmpInst::getInversePredicate</a>(Pred), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l10925"></a><span class="lineno">10925</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10926"></a><span class="lineno">10926</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10927"></a><span class="lineno">10927</span>&#160;}</div>
<div class="line"><a name="l10928"></a><span class="lineno">10928</span>&#160; </div>
<div class="line"><a name="l10929"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a4daf873f99d8d423c92a951331de5185">10929</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4daf873f99d8d423c92a951331de5185">ScalarEvolution::isKnownPredicateAt</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l10930"></a><span class="lineno">10930</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l10931"></a><span class="lineno">10931</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI) {</div>
<div class="line"><a name="l10932"></a><span class="lineno">10932</span>&#160;  <span class="comment">// TODO: Analyze guards and assumes from Context&#39;s block.</span></div>
<div class="line"><a name="l10933"></a><span class="lineno">10933</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) ||</div>
<div class="line"><a name="l10934"></a><span class="lineno">10934</span>&#160;         <a class="code" href="classllvm_1_1ScalarEvolution.html#a67bf0314365917e11f91509c7f0425e8">isBasicBlockEntryGuardedByCond</a>(CtxI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(), Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10935"></a><span class="lineno">10935</span>&#160;}</div>
<div class="line"><a name="l10936"></a><span class="lineno">10936</span>&#160; </div>
<div class="line"><a name="l10937"></a><span class="lineno">10937</span>&#160;std::optional&lt;bool&gt;</div>
<div class="line"><a name="l10938"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a74d9f077f43759e0fbf5c60c5885bafd">10938</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a74d9f077f43759e0fbf5c60c5885bafd">ScalarEvolution::evaluatePredicateAt</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10939"></a><span class="lineno">10939</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI) {</div>
<div class="line"><a name="l10940"></a><span class="lineno">10940</span>&#160;  std::optional&lt;bool&gt; KnownWithoutContext = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4cd909a15a97a10de847579ea5e9f46a">evaluatePredicate</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10941"></a><span class="lineno">10941</span>&#160;  <span class="keywordflow">if</span> (KnownWithoutContext)</div>
<div class="line"><a name="l10942"></a><span class="lineno">10942</span>&#160;    <span class="keywordflow">return</span> KnownWithoutContext;</div>
<div class="line"><a name="l10943"></a><span class="lineno">10943</span>&#160; </div>
<div class="line"><a name="l10944"></a><span class="lineno">10944</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a67bf0314365917e11f91509c7f0425e8">isBasicBlockEntryGuardedByCond</a>(CtxI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(), Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l10945"></a><span class="lineno">10945</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10946"></a><span class="lineno">10946</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a67bf0314365917e11f91509c7f0425e8">isBasicBlockEntryGuardedByCond</a>(CtxI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(),</div>
<div class="line"><a name="l10947"></a><span class="lineno">10947</span>&#160;                                          <a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">ICmpInst::getInversePredicate</a>(Pred),</div>
<div class="line"><a name="l10948"></a><span class="lineno">10948</span>&#160;                                          <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l10949"></a><span class="lineno">10949</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10950"></a><span class="lineno">10950</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10951"></a><span class="lineno">10951</span>&#160;}</div>
<div class="line"><a name="l10952"></a><span class="lineno">10952</span>&#160; </div>
<div class="line"><a name="l10953"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a68f0233de81fa48662571534730a3ad6">10953</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a68f0233de81fa48662571534730a3ad6">ScalarEvolution::isKnownOnEveryIteration</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l10954"></a><span class="lineno">10954</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10955"></a><span class="lineno">10955</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l10956"></a><span class="lineno">10956</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getLoop();</div>
<div class="line"><a name="l10957"></a><span class="lineno">10957</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getStart(), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp;</div>
<div class="line"><a name="l10958"></a><span class="lineno">10958</span>&#160;         <a class="code" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">isLoopBackedgeGuardedByCond</a>(L, Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getPostIncExpr(*<span class="keyword">this</span>), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l10959"></a><span class="lineno">10959</span>&#160;}</div>
<div class="line"><a name="l10960"></a><span class="lineno">10960</span>&#160; </div>
<div class="line"><a name="l10961"></a><span class="lineno">10961</span>&#160;std::optional&lt;ScalarEvolution::MonotonicPredicateType&gt;</div>
<div class="line"><a name="l10962"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aa92b3e6375805368f9a24cf69ce73797">10962</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#aa92b3e6375805368f9a24cf69ce73797">ScalarEvolution::getMonotonicPredicateType</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10963"></a><span class="lineno">10963</span>&#160;                                           <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred) {</div>
<div class="line"><a name="l10964"></a><span class="lineno">10964</span>&#160;  <span class="keyword">auto</span> Result = getMonotonicPredicateTypeImpl(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Pred);</div>
<div class="line"><a name="l10965"></a><span class="lineno">10965</span>&#160; </div>
<div class="line"><a name="l10966"></a><span class="lineno">10966</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l10967"></a><span class="lineno">10967</span>&#160;  <span class="comment">// Verify an invariant: inverting the predicate should turn a monotonically</span></div>
<div class="line"><a name="l10968"></a><span class="lineno">10968</span>&#160;  <span class="comment">// increasing change to a monotonically decreasing one, and vice versa.</span></div>
<div class="line"><a name="l10969"></a><span class="lineno">10969</span>&#160;  <span class="keywordflow">if</span> (Result) {</div>
<div class="line"><a name="l10970"></a><span class="lineno">10970</span>&#160;    <span class="keyword">auto</span> ResultSwapped =</div>
<div class="line"><a name="l10971"></a><span class="lineno">10971</span>&#160;        getMonotonicPredicateTypeImpl(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred));</div>
<div class="line"><a name="l10972"></a><span class="lineno">10972</span>&#160; </div>
<div class="line"><a name="l10973"></a><span class="lineno">10973</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(*ResultSwapped != *Result &amp;&amp;</div>
<div class="line"><a name="l10974"></a><span class="lineno">10974</span>&#160;           <span class="stringliteral">&quot;monotonicity should flip as we flip the predicate&quot;</span>);</div>
<div class="line"><a name="l10975"></a><span class="lineno">10975</span>&#160;  }</div>
<div class="line"><a name="l10976"></a><span class="lineno">10976</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10977"></a><span class="lineno">10977</span>&#160; </div>
<div class="line"><a name="l10978"></a><span class="lineno">10978</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l10979"></a><span class="lineno">10979</span>&#160;}</div>
<div class="line"><a name="l10980"></a><span class="lineno">10980</span>&#160; </div>
<div class="line"><a name="l10981"></a><span class="lineno">10981</span>&#160;std::optional&lt;ScalarEvolution::MonotonicPredicateType&gt;</div>
<div class="line"><a name="l10982"></a><span class="lineno">10982</span>&#160;ScalarEvolution::getMonotonicPredicateTypeImpl(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l10983"></a><span class="lineno">10983</span>&#160;                                               <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred) {</div>
<div class="line"><a name="l10984"></a><span class="lineno">10984</span>&#160;  <span class="comment">// A zero step value for LHS means the induction variable is essentially a</span></div>
<div class="line"><a name="l10985"></a><span class="lineno">10985</span>&#160;  <span class="comment">// loop invariant value. We don&#39;t really depend on the predicate actually</span></div>
<div class="line"><a name="l10986"></a><span class="lineno">10986</span>&#160;  <span class="comment">// flipping from false to true (for increasing predicates, and the other way</span></div>
<div class="line"><a name="l10987"></a><span class="lineno">10987</span>&#160;  <span class="comment">// around for decreasing predicates), all we care about is that *if* the</span></div>
<div class="line"><a name="l10988"></a><span class="lineno">10988</span>&#160;  <span class="comment">// predicate changes then it only changes from false to true.</span></div>
<div class="line"><a name="l10989"></a><span class="lineno">10989</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10990"></a><span class="lineno">10990</span>&#160;  <span class="comment">// A zero step value in itself is not very useful, but there may be places</span></div>
<div class="line"><a name="l10991"></a><span class="lineno">10991</span>&#160;  <span class="comment">// where SCEV can prove X &gt;= 0 but not prove X &gt; 0, so it is helpful to be</span></div>
<div class="line"><a name="l10992"></a><span class="lineno">10992</span>&#160;  <span class="comment">// as general as possible.</span></div>
<div class="line"><a name="l10993"></a><span class="lineno">10993</span>&#160; </div>
<div class="line"><a name="l10994"></a><span class="lineno">10994</span>&#160;  <span class="comment">// Only handle LE/LT/GE/GT predicates.</span></div>
<div class="line"><a name="l10995"></a><span class="lineno">10995</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ICmpInst.html#ae955171baab3d9254f3ffb089c082206">ICmpInst::isRelational</a>(Pred))</div>
<div class="line"><a name="l10996"></a><span class="lineno">10996</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l10997"></a><span class="lineno">10997</span>&#160; </div>
<div class="line"><a name="l10998"></a><span class="lineno">10998</span>&#160;  <span class="keywordtype">bool</span> IsGreater = <a class="code" href="classllvm_1_1ICmpInst.html#a4db9c79611d8a0a8cfad3e190b9206fc">ICmpInst::isGE</a>(Pred) || <a class="code" href="classllvm_1_1ICmpInst.html#a8295e869b64b0c77ba2c917eeb5f530d">ICmpInst::isGT</a>(Pred);</div>
<div class="line"><a name="l10999"></a><span class="lineno">10999</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((IsGreater || <a class="code" href="classllvm_1_1ICmpInst.html#afc5ae5e45df2c40564929779114e8afa">ICmpInst::isLE</a>(Pred) || <a class="code" href="classllvm_1_1ICmpInst.html#a5a5f1a2e8e2ab96bad265dfbddd41e09">ICmpInst::isLT</a>(Pred)) &amp;&amp;</div>
<div class="line"><a name="l11000"></a><span class="lineno">11000</span>&#160;         <span class="stringliteral">&quot;Should be greater or less!&quot;</span>);</div>
<div class="line"><a name="l11001"></a><span class="lineno">11001</span>&#160; </div>
<div class="line"><a name="l11002"></a><span class="lineno">11002</span>&#160;  <span class="comment">// Check that AR does not wrap.</span></div>
<div class="line"><a name="l11003"></a><span class="lineno">11003</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">ICmpInst::isUnsigned</a>(Pred)) {</div>
<div class="line"><a name="l11004"></a><span class="lineno">11004</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;hasNoUnsignedWrap())</div>
<div class="line"><a name="l11005"></a><span class="lineno">11005</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11006"></a><span class="lineno">11006</span>&#160;    <span class="keywordflow">return</span> IsGreater ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a899d8027fa6af3ca29aae6d88b6050efab8a33d7289e160c15fb2a8d84a3eade8">MonotonicallyIncreasing</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#a899d8027fa6af3ca29aae6d88b6050efa085821bc8d4415d64b66a10d517612fb">MonotonicallyDecreasing</a>;</div>
<div class="line"><a name="l11007"></a><span class="lineno">11007</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11008"></a><span class="lineno">11008</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">ICmpInst::isSigned</a>(Pred) &amp;&amp;</div>
<div class="line"><a name="l11009"></a><span class="lineno">11009</span>&#160;           <span class="stringliteral">&quot;Relational predicate is either signed or unsigned!&quot;</span>);</div>
<div class="line"><a name="l11010"></a><span class="lineno">11010</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;hasNoSignedWrap())</div>
<div class="line"><a name="l11011"></a><span class="lineno">11011</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11012"></a><span class="lineno">11012</span>&#160; </div>
<div class="line"><a name="l11013"></a><span class="lineno">11013</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getStepRecurrence(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l11014"></a><span class="lineno">11014</span>&#160; </div>
<div class="line"><a name="l11015"></a><span class="lineno">11015</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(Step))</div>
<div class="line"><a name="l11016"></a><span class="lineno">11016</span>&#160;      <span class="keywordflow">return</span> IsGreater ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a899d8027fa6af3ca29aae6d88b6050efab8a33d7289e160c15fb2a8d84a3eade8">MonotonicallyIncreasing</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#a899d8027fa6af3ca29aae6d88b6050efa085821bc8d4415d64b66a10d517612fb">MonotonicallyDecreasing</a>;</div>
<div class="line"><a name="l11017"></a><span class="lineno">11017</span>&#160; </div>
<div class="line"><a name="l11018"></a><span class="lineno">11018</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a121ee24f11c464f3b3197cac87b0980e">isKnownNonPositive</a>(Step))</div>
<div class="line"><a name="l11019"></a><span class="lineno">11019</span>&#160;      <span class="keywordflow">return</span> !IsGreater ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a899d8027fa6af3ca29aae6d88b6050efab8a33d7289e160c15fb2a8d84a3eade8">MonotonicallyIncreasing</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#a899d8027fa6af3ca29aae6d88b6050efa085821bc8d4415d64b66a10d517612fb">MonotonicallyDecreasing</a>;</div>
<div class="line"><a name="l11020"></a><span class="lineno">11020</span>&#160; </div>
<div class="line"><a name="l11021"></a><span class="lineno">11021</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11022"></a><span class="lineno">11022</span>&#160;  }</div>
<div class="line"><a name="l11023"></a><span class="lineno">11023</span>&#160;}</div>
<div class="line"><a name="l11024"></a><span class="lineno">11024</span>&#160; </div>
<div class="line"><a name="l11025"></a><span class="lineno">11025</span>&#160;std::optional&lt;ScalarEvolution::LoopInvariantPredicate&gt;</div>
<div class="line"><a name="l11026"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a741e5065c867d7dfd716eb8e16fccf12">11026</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a741e5065c867d7dfd716eb8e16fccf12">ScalarEvolution::getLoopInvariantPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l11027"></a><span class="lineno">11027</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l11028"></a><span class="lineno">11028</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l11029"></a><span class="lineno">11029</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI) {</div>
<div class="line"><a name="l11030"></a><span class="lineno">11030</span>&#160;  <span class="comment">// If there is a loop-invariant, force it into the RHS, otherwise bail out.</span></div>
<div class="line"><a name="l11031"></a><span class="lineno">11031</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L)) {</div>
<div class="line"><a name="l11032"></a><span class="lineno">11032</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, L))</div>
<div class="line"><a name="l11033"></a><span class="lineno">11033</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11034"></a><span class="lineno">11034</span>&#160; </div>
<div class="line"><a name="l11035"></a><span class="lineno">11035</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11036"></a><span class="lineno">11036</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l11037"></a><span class="lineno">11037</span>&#160;  }</div>
<div class="line"><a name="l11038"></a><span class="lineno">11038</span>&#160; </div>
<div class="line"><a name="l11039"></a><span class="lineno">11039</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *ArLHS = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l11040"></a><span class="lineno">11040</span>&#160;  <span class="keywordflow">if</span> (!ArLHS || ArLHS-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() != L)</div>
<div class="line"><a name="l11041"></a><span class="lineno">11041</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11042"></a><span class="lineno">11042</span>&#160; </div>
<div class="line"><a name="l11043"></a><span class="lineno">11043</span>&#160;  <span class="keyword">auto</span> MonotonicType = <a class="code" href="classllvm_1_1ScalarEvolution.html#aa92b3e6375805368f9a24cf69ce73797">getMonotonicPredicateType</a>(ArLHS, Pred);</div>
<div class="line"><a name="l11044"></a><span class="lineno">11044</span>&#160;  <span class="keywordflow">if</span> (!MonotonicType)</div>
<div class="line"><a name="l11045"></a><span class="lineno">11045</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11046"></a><span class="lineno">11046</span>&#160;  <span class="comment">// If the predicate &quot;ArLHS `Pred` RHS&quot; monotonically increases from false to</span></div>
<div class="line"><a name="l11047"></a><span class="lineno">11047</span>&#160;  <span class="comment">// true as the loop iterates, and the backedge is control dependent on</span></div>
<div class="line"><a name="l11048"></a><span class="lineno">11048</span>&#160;  <span class="comment">// &quot;ArLHS `Pred` RHS&quot; == true then we can reason as follows:</span></div>
<div class="line"><a name="l11049"></a><span class="lineno">11049</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l11050"></a><span class="lineno">11050</span>&#160;  <span class="comment">//   * if the predicate was false in the first iteration then the predicate</span></div>
<div class="line"><a name="l11051"></a><span class="lineno">11051</span>&#160;  <span class="comment">//     is never evaluated again, since the loop exits without taking the</span></div>
<div class="line"><a name="l11052"></a><span class="lineno">11052</span>&#160;  <span class="comment">//     backedge.</span></div>
<div class="line"><a name="l11053"></a><span class="lineno">11053</span>&#160;  <span class="comment">//   * if the predicate was true in the first iteration then it will</span></div>
<div class="line"><a name="l11054"></a><span class="lineno">11054</span>&#160;  <span class="comment">//     continue to be true for all future iterations since it is</span></div>
<div class="line"><a name="l11055"></a><span class="lineno">11055</span>&#160;  <span class="comment">//     monotonically increasing.</span></div>
<div class="line"><a name="l11056"></a><span class="lineno">11056</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l11057"></a><span class="lineno">11057</span>&#160;  <span class="comment">// For both the above possibilities, we can replace the loop varying</span></div>
<div class="line"><a name="l11058"></a><span class="lineno">11058</span>&#160;  <span class="comment">// predicate with its value on the first iteration of the loop (which is</span></div>
<div class="line"><a name="l11059"></a><span class="lineno">11059</span>&#160;  <span class="comment">// loop invariant).</span></div>
<div class="line"><a name="l11060"></a><span class="lineno">11060</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l11061"></a><span class="lineno">11061</span>&#160;  <span class="comment">// A similar reasoning applies for a monotonically decreasing predicate, by</span></div>
<div class="line"><a name="l11062"></a><span class="lineno">11062</span>&#160;  <span class="comment">// replacing true with false and false with true in the above two bullets.</span></div>
<div class="line"><a name="l11063"></a><span class="lineno">11063</span>&#160;  <span class="keywordtype">bool</span> Increasing = *MonotonicType == <a class="code" href="classllvm_1_1ScalarEvolution.html#a899d8027fa6af3ca29aae6d88b6050efab8a33d7289e160c15fb2a8d84a3eade8">ScalarEvolution::MonotonicallyIncreasing</a>;</div>
<div class="line"><a name="l11064"></a><span class="lineno">11064</span>&#160;  <span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = Increasing ? Pred : <a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">ICmpInst::getInversePredicate</a>(Pred);</div>
<div class="line"><a name="l11065"></a><span class="lineno">11065</span>&#160; </div>
<div class="line"><a name="l11066"></a><span class="lineno">11066</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">isLoopBackedgeGuardedByCond</a>(L, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l11067"></a><span class="lineno">11067</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1ScalarEvolution_1_1LoopInvariantPredicate.html">ScalarEvolution::LoopInvariantPredicate</a>(Pred, ArLHS-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(),</div>
<div class="line"><a name="l11068"></a><span class="lineno">11068</span>&#160;                                                   <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11069"></a><span class="lineno">11069</span>&#160; </div>
<div class="line"><a name="l11070"></a><span class="lineno">11070</span>&#160;  <span class="keywordflow">if</span> (!CtxI)</div>
<div class="line"><a name="l11071"></a><span class="lineno">11071</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11072"></a><span class="lineno">11072</span>&#160;  <span class="comment">// Try to prove via context.</span></div>
<div class="line"><a name="l11073"></a><span class="lineno">11073</span>&#160;  <span class="comment">// TODO: Support other cases.</span></div>
<div class="line"><a name="l11074"></a><span class="lineno">11074</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l11075"></a><span class="lineno">11075</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l11076"></a><span class="lineno">11076</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11077"></a><span class="lineno">11077</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l11078"></a><span class="lineno">11078</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>: {</div>
<div class="line"><a name="l11079"></a><span class="lineno">11079</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ArLHS-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a09cc70290a71475141063b6dff42a5d2">hasNoUnsignedWrap</a>() &amp;&amp; <span class="stringliteral">&quot;Is a requirement of monotonicity!&quot;</span>);</div>
<div class="line"><a name="l11080"></a><span class="lineno">11080</span>&#160;    <span class="comment">// Given preconditions</span></div>
<div class="line"><a name="l11081"></a><span class="lineno">11081</span>&#160;    <span class="comment">// (1) ArLHS does not cross the border of positive and negative parts of</span></div>
<div class="line"><a name="l11082"></a><span class="lineno">11082</span>&#160;    <span class="comment">//     range because of:</span></div>
<div class="line"><a name="l11083"></a><span class="lineno">11083</span>&#160;    <span class="comment">//     - Positive step; (TODO: lift this limitation)</span></div>
<div class="line"><a name="l11084"></a><span class="lineno">11084</span>&#160;    <span class="comment">//     - nuw - does not cross zero boundary;</span></div>
<div class="line"><a name="l11085"></a><span class="lineno">11085</span>&#160;    <span class="comment">//     - nsw - does not cross SINT_MAX boundary;</span></div>
<div class="line"><a name="l11086"></a><span class="lineno">11086</span>&#160;    <span class="comment">// (2) ArLHS &lt;s RHS</span></div>
<div class="line"><a name="l11087"></a><span class="lineno">11087</span>&#160;    <span class="comment">// (3) RHS &gt;=s 0</span></div>
<div class="line"><a name="l11088"></a><span class="lineno">11088</span>&#160;    <span class="comment">// we can replace the loop variant ArLHS &lt;u RHS condition with loop</span></div>
<div class="line"><a name="l11089"></a><span class="lineno">11089</span>&#160;    <span class="comment">// invariant Start(ArLHS) &lt;u RHS.</span></div>
<div class="line"><a name="l11090"></a><span class="lineno">11090</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l11091"></a><span class="lineno">11091</span>&#160;    <span class="comment">// Because of (1) there are two options:</span></div>
<div class="line"><a name="l11092"></a><span class="lineno">11092</span>&#160;    <span class="comment">// - ArLHS is always negative. It means that ArLHS &lt;u RHS is always false;</span></div>
<div class="line"><a name="l11093"></a><span class="lineno">11093</span>&#160;    <span class="comment">// - ArLHS is always non-negative. Because of (3) RHS is also non-negative.</span></div>
<div class="line"><a name="l11094"></a><span class="lineno">11094</span>&#160;    <span class="comment">//   It means that ArLHS &lt;s RHS &lt;=&gt; ArLHS &lt;u RHS.</span></div>
<div class="line"><a name="l11095"></a><span class="lineno">11095</span>&#160;    <span class="comment">//   Because of (2) ArLHS &lt;u RHS is trivially true.</span></div>
<div class="line"><a name="l11096"></a><span class="lineno">11096</span>&#160;    <span class="comment">// All together it means that ArLHS &lt;u RHS &lt;=&gt; Start(ArLHS) &gt;=s 0.</span></div>
<div class="line"><a name="l11097"></a><span class="lineno">11097</span>&#160;    <span class="comment">// We can strengthen this to Start(ArLHS) &lt;u RHS.</span></div>
<div class="line"><a name="l11098"></a><span class="lineno">11098</span>&#160;    <span class="keyword">auto</span> SignFlippedPred = <a class="code" href="classllvm_1_1CmpInst.html#abbc0190ff3870af6a8b96f5d7da8be06">ICmpInst::getFlippedSignednessPredicate</a>(Pred);</div>
<div class="line"><a name="l11099"></a><span class="lineno">11099</span>&#160;    <span class="keywordflow">if</span> (ArLHS-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a71deee7ef49ab5407b7e1aa758b6ec0a">hasNoSignedWrap</a>() &amp;&amp; ArLHS-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>() &amp;&amp;</div>
<div class="line"><a name="l11100"></a><span class="lineno">11100</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(ArLHS-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>)) &amp;&amp;</div>
<div class="line"><a name="l11101"></a><span class="lineno">11101</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp;</div>
<div class="line"><a name="l11102"></a><span class="lineno">11102</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a4daf873f99d8d423c92a951331de5185">isKnownPredicateAt</a>(SignFlippedPred, ArLHS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CtxI))</div>
<div class="line"><a name="l11103"></a><span class="lineno">11103</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1ScalarEvolution_1_1LoopInvariantPredicate.html">ScalarEvolution::LoopInvariantPredicate</a>(Pred, ArLHS-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(),</div>
<div class="line"><a name="l11104"></a><span class="lineno">11104</span>&#160;                                                     <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11105"></a><span class="lineno">11105</span>&#160;  }</div>
<div class="line"><a name="l11106"></a><span class="lineno">11106</span>&#160;  }</div>
<div class="line"><a name="l11107"></a><span class="lineno">11107</span>&#160; </div>
<div class="line"><a name="l11108"></a><span class="lineno">11108</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11109"></a><span class="lineno">11109</span>&#160;}</div>
<div class="line"><a name="l11110"></a><span class="lineno">11110</span>&#160; </div>
<div class="line"><a name="l11111"></a><span class="lineno">11111</span>&#160;std::optional&lt;ScalarEvolution::LoopInvariantPredicate&gt;</div>
<div class="line"><a name="l11112"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#acfba20b8f0ef37236f824d176fcab288">11112</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#acfba20b8f0ef37236f824d176fcab288">ScalarEvolution::getLoopInvariantExitCondDuringFirstIterations</a>(</div>
<div class="line"><a name="l11113"></a><span class="lineno">11113</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l11114"></a><span class="lineno">11114</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxIter) {</div>
<div class="line"><a name="l11115"></a><span class="lineno">11115</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> LIP = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab02ac78d085871ac8766d18593159944">getLoopInvariantExitCondDuringFirstIterationsImpl</a>(</div>
<div class="line"><a name="l11116"></a><span class="lineno">11116</span>&#160;          Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L, CtxI, MaxIter))</div>
<div class="line"><a name="l11117"></a><span class="lineno">11117</span>&#160;    <span class="keywordflow">return</span> LIP;</div>
<div class="line"><a name="l11118"></a><span class="lineno">11118</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea1c692ed4bf463fb08fca4d8cb8201ac0">UMin</a> = dyn_cast&lt;SCEVUMinExpr&gt;(MaxIter))</div>
<div class="line"><a name="l11119"></a><span class="lineno">11119</span>&#160;    <span class="comment">// Number of iterations expressed as UMIN isn&#39;t always great for expressing</span></div>
<div class="line"><a name="l11120"></a><span class="lineno">11120</span>&#160;    <span class="comment">// the value on the last iteration. If the straightforward approach didn&#39;t</span></div>
<div class="line"><a name="l11121"></a><span class="lineno">11121</span>&#160;    <span class="comment">// work, try the following trick: if the a predicate is invariant for X, it</span></div>
<div class="line"><a name="l11122"></a><span class="lineno">11122</span>&#160;    <span class="comment">// is also invariant for umin(X, ...). So try to find something that works</span></div>
<div class="line"><a name="l11123"></a><span class="lineno">11123</span>&#160;    <span class="comment">// among subexpressions of MaxIter expressed as umin.</span></div>
<div class="line"><a name="l11124"></a><span class="lineno">11124</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea1c692ed4bf463fb08fca4d8cb8201ac0">UMin</a>-&gt;operands())</div>
<div class="line"><a name="l11125"></a><span class="lineno">11125</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> LIP = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab02ac78d085871ac8766d18593159944">getLoopInvariantExitCondDuringFirstIterationsImpl</a>(</div>
<div class="line"><a name="l11126"></a><span class="lineno">11126</span>&#160;              Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L, CtxI, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l11127"></a><span class="lineno">11127</span>&#160;        <span class="keywordflow">return</span> LIP;</div>
<div class="line"><a name="l11128"></a><span class="lineno">11128</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11129"></a><span class="lineno">11129</span>&#160;}</div>
<div class="line"><a name="l11130"></a><span class="lineno">11130</span>&#160; </div>
<div class="line"><a name="l11131"></a><span class="lineno">11131</span>&#160;std::optional&lt;ScalarEvolution::LoopInvariantPredicate&gt;</div>
<div class="line"><a name="l11132"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ab02ac78d085871ac8766d18593159944">11132</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#ab02ac78d085871ac8766d18593159944">ScalarEvolution::getLoopInvariantExitCondDuringFirstIterationsImpl</a>(</div>
<div class="line"><a name="l11133"></a><span class="lineno">11133</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l11134"></a><span class="lineno">11134</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxIter) {</div>
<div class="line"><a name="l11135"></a><span class="lineno">11135</span>&#160;  <span class="comment">// Try to prove the following set of facts:</span></div>
<div class="line"><a name="l11136"></a><span class="lineno">11136</span>&#160;  <span class="comment">// - The predicate is monotonic in the iteration space.</span></div>
<div class="line"><a name="l11137"></a><span class="lineno">11137</span>&#160;  <span class="comment">// - If the check does not fail on the 1st iteration:</span></div>
<div class="line"><a name="l11138"></a><span class="lineno">11138</span>&#160;  <span class="comment">//   - No overflow will happen during first MaxIter iterations;</span></div>
<div class="line"><a name="l11139"></a><span class="lineno">11139</span>&#160;  <span class="comment">//   - It will not fail on the MaxIter&#39;th iteration.</span></div>
<div class="line"><a name="l11140"></a><span class="lineno">11140</span>&#160;  <span class="comment">// If the check does fail on the 1st iteration, we leave the loop and no</span></div>
<div class="line"><a name="l11141"></a><span class="lineno">11141</span>&#160;  <span class="comment">// other checks matter.</span></div>
<div class="line"><a name="l11142"></a><span class="lineno">11142</span>&#160; </div>
<div class="line"><a name="l11143"></a><span class="lineno">11143</span>&#160;  <span class="comment">// If there is a loop-invariant, force it into the RHS, otherwise bail out.</span></div>
<div class="line"><a name="l11144"></a><span class="lineno">11144</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L)) {</div>
<div class="line"><a name="l11145"></a><span class="lineno">11145</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, L))</div>
<div class="line"><a name="l11146"></a><span class="lineno">11146</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11147"></a><span class="lineno">11147</span>&#160; </div>
<div class="line"><a name="l11148"></a><span class="lineno">11148</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11149"></a><span class="lineno">11149</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l11150"></a><span class="lineno">11150</span>&#160;  }</div>
<div class="line"><a name="l11151"></a><span class="lineno">11151</span>&#160; </div>
<div class="line"><a name="l11152"></a><span class="lineno">11152</span>&#160;  <span class="keyword">auto</span> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l11153"></a><span class="lineno">11153</span>&#160;  <span class="keywordflow">if</span> (!AR || AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() != L)</div>
<div class="line"><a name="l11154"></a><span class="lineno">11154</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11155"></a><span class="lineno">11155</span>&#160; </div>
<div class="line"><a name="l11156"></a><span class="lineno">11156</span>&#160;  <span class="comment">// The predicate must be relational (i.e. &lt;, &lt;=, &gt;=, &gt;).</span></div>
<div class="line"><a name="l11157"></a><span class="lineno">11157</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ICmpInst.html#ae955171baab3d9254f3ffb089c082206">ICmpInst::isRelational</a>(Pred))</div>
<div class="line"><a name="l11158"></a><span class="lineno">11158</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11159"></a><span class="lineno">11159</span>&#160; </div>
<div class="line"><a name="l11160"></a><span class="lineno">11160</span>&#160;  <span class="comment">// TODO: Support steps other than +/- 1.</span></div>
<div class="line"><a name="l11161"></a><span class="lineno">11161</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l11162"></a><span class="lineno">11162</span>&#160;  <span class="keyword">auto</span> *One = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(Step-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l11163"></a><span class="lineno">11163</span>&#160;  <span class="keyword">auto</span> *MinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(One);</div>
<div class="line"><a name="l11164"></a><span class="lineno">11164</span>&#160;  <span class="keywordflow">if</span> (Step != One &amp;&amp; Step != MinusOne)</div>
<div class="line"><a name="l11165"></a><span class="lineno">11165</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11166"></a><span class="lineno">11166</span>&#160; </div>
<div class="line"><a name="l11167"></a><span class="lineno">11167</span>&#160;  <span class="comment">// Type mismatch here means that MaxIter is potentially larger than max</span></div>
<div class="line"><a name="l11168"></a><span class="lineno">11168</span>&#160;  <span class="comment">// unsigned value in start type, which mean we cannot prove no wrap for the</span></div>
<div class="line"><a name="l11169"></a><span class="lineno">11169</span>&#160;  <span class="comment">// indvar.</span></div>
<div class="line"><a name="l11170"></a><span class="lineno">11170</span>&#160;  <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>() != MaxIter-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>())</div>
<div class="line"><a name="l11171"></a><span class="lineno">11171</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11172"></a><span class="lineno">11172</span>&#160; </div>
<div class="line"><a name="l11173"></a><span class="lineno">11173</span>&#160;  <span class="comment">// Value of IV on suggested last iteration.</span></div>
<div class="line"><a name="l11174"></a><span class="lineno">11174</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a> = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a33583576f220997d1c415df033559a57">evaluateAtIteration</a>(MaxIter, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l11175"></a><span class="lineno">11175</span>&#160;  <span class="comment">// Does it still meet the requirement?</span></div>
<div class="line"><a name="l11176"></a><span class="lineno">11176</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">isLoopBackedgeGuardedByCond</a>(L, Pred, <a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l11177"></a><span class="lineno">11177</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11178"></a><span class="lineno">11178</span>&#160;  <span class="comment">// Because step is +/- 1 and MaxIter has same type as Start (i.e. it does</span></div>
<div class="line"><a name="l11179"></a><span class="lineno">11179</span>&#160;  <span class="comment">// not exceed max unsigned value of this type), this effectively proves</span></div>
<div class="line"><a name="l11180"></a><span class="lineno">11180</span>&#160;  <span class="comment">// that there is no wrap during the iteration. To prove that there is no</span></div>
<div class="line"><a name="l11181"></a><span class="lineno">11181</span>&#160;  <span class="comment">// signed/unsigned wrap, we need to check that</span></div>
<div class="line"><a name="l11182"></a><span class="lineno">11182</span>&#160;  <span class="comment">// Start &lt;= Last for step = 1 or Start &gt;= Last for step = -1.</span></div>
<div class="line"><a name="l11183"></a><span class="lineno">11183</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> NoOverflowPred =</div>
<div class="line"><a name="l11184"></a><span class="lineno">11184</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">CmpInst::isSigned</a>(Pred) ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>;</div>
<div class="line"><a name="l11185"></a><span class="lineno">11185</span>&#160;  <span class="keywordflow">if</span> (Step == MinusOne)</div>
<div class="line"><a name="l11186"></a><span class="lineno">11186</span>&#160;    NoOverflowPred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(NoOverflowPred);</div>
<div class="line"><a name="l11187"></a><span class="lineno">11187</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>();</div>
<div class="line"><a name="l11188"></a><span class="lineno">11188</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a4daf873f99d8d423c92a951331de5185">isKnownPredicateAt</a>(NoOverflowPred, Start, <a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>, CtxI))</div>
<div class="line"><a name="l11189"></a><span class="lineno">11189</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11190"></a><span class="lineno">11190</span>&#160; </div>
<div class="line"><a name="l11191"></a><span class="lineno">11191</span>&#160;  <span class="comment">// Everything is fine.</span></div>
<div class="line"><a name="l11192"></a><span class="lineno">11192</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1ScalarEvolution_1_1LoopInvariantPredicate.html">ScalarEvolution::LoopInvariantPredicate</a>(Pred, Start, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11193"></a><span class="lineno">11193</span>&#160;}</div>
<div class="line"><a name="l11194"></a><span class="lineno">11194</span>&#160; </div>
<div class="line"><a name="l11195"></a><span class="lineno">11195</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isKnownPredicateViaConstantRanges(</div>
<div class="line"><a name="l11196"></a><span class="lineno">11196</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l11197"></a><span class="lineno">11197</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l11198"></a><span class="lineno">11198</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">ICmpInst::isTrueWhenEqual</a>(Pred);</div>
<div class="line"><a name="l11199"></a><span class="lineno">11199</span>&#160; </div>
<div class="line"><a name="l11200"></a><span class="lineno">11200</span>&#160;  <span class="comment">// This code is split out from isKnownPredicate because it is called from</span></div>
<div class="line"><a name="l11201"></a><span class="lineno">11201</span>&#160;  <span class="comment">// within isLoopEntryGuardedByCond.</span></div>
<div class="line"><a name="l11202"></a><span class="lineno">11202</span>&#160; </div>
<div class="line"><a name="l11203"></a><span class="lineno">11203</span>&#160;  <span class="keyword">auto</span> CheckRanges = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;RangeLHS,</div>
<div class="line"><a name="l11204"></a><span class="lineno">11204</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;RangeRHS) {</div>
<div class="line"><a name="l11205"></a><span class="lineno">11205</span>&#160;    <span class="keywordflow">return</span> RangeLHS.<a class="code" href="classllvm_1_1ConstantRange.html#a53f1dcccf8991c637acec7883aba7bfc">icmp</a>(Pred, RangeRHS);</div>
<div class="line"><a name="l11206"></a><span class="lineno">11206</span>&#160;  };</div>
<div class="line"><a name="l11207"></a><span class="lineno">11207</span>&#160; </div>
<div class="line"><a name="l11208"></a><span class="lineno">11208</span>&#160;  <span class="comment">// The check at the top of the function catches the case where the values are</span></div>
<div class="line"><a name="l11209"></a><span class="lineno">11209</span>&#160;  <span class="comment">// known to be equal.</span></div>
<div class="line"><a name="l11210"></a><span class="lineno">11210</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l11211"></a><span class="lineno">11211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11212"></a><span class="lineno">11212</span>&#160; </div>
<div class="line"><a name="l11213"></a><span class="lineno">11213</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>) {</div>
<div class="line"><a name="l11214"></a><span class="lineno">11214</span>&#160;    <span class="keyword">auto</span> SL = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l11215"></a><span class="lineno">11215</span>&#160;    <span class="keyword">auto</span> SR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11216"></a><span class="lineno">11216</span>&#160;    <span class="keywordflow">if</span> (CheckRanges(SL, SR))</div>
<div class="line"><a name="l11217"></a><span class="lineno">11217</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11218"></a><span class="lineno">11218</span>&#160;    <span class="keyword">auto</span> UL = <a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l11219"></a><span class="lineno">11219</span>&#160;    <span class="keyword">auto</span> UR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11220"></a><span class="lineno">11220</span>&#160;    <span class="keywordflow">if</span> (CheckRanges(UL, UR))</div>
<div class="line"><a name="l11221"></a><span class="lineno">11221</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11222"></a><span class="lineno">11222</span>&#160;    <span class="keyword">auto</span> *Diff = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11223"></a><span class="lineno">11223</span>&#160;    <span class="keywordflow">return</span> !isa&lt;SCEVCouldNotCompute&gt;(Diff) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a20c66c97bae0b3e6725d03cfa61c488b">isKnownNonZero</a>(Diff);</div>
<div class="line"><a name="l11224"></a><span class="lineno">11224</span>&#160;  }</div>
<div class="line"><a name="l11225"></a><span class="lineno">11225</span>&#160; </div>
<div class="line"><a name="l11226"></a><span class="lineno">11226</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">CmpInst::isSigned</a>(Pred)) {</div>
<div class="line"><a name="l11227"></a><span class="lineno">11227</span>&#160;    <span class="keyword">auto</span> SL = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l11228"></a><span class="lineno">11228</span>&#160;    <span class="keyword">auto</span> SR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11229"></a><span class="lineno">11229</span>&#160;    <span class="keywordflow">return</span> CheckRanges(SL, SR);</div>
<div class="line"><a name="l11230"></a><span class="lineno">11230</span>&#160;  }</div>
<div class="line"><a name="l11231"></a><span class="lineno">11231</span>&#160; </div>
<div class="line"><a name="l11232"></a><span class="lineno">11232</span>&#160;  <span class="keyword">auto</span> UL = <a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l11233"></a><span class="lineno">11233</span>&#160;  <span class="keyword">auto</span> UR = <a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11234"></a><span class="lineno">11234</span>&#160;  <span class="keywordflow">return</span> CheckRanges(UL, UR);</div>
<div class="line"><a name="l11235"></a><span class="lineno">11235</span>&#160;}</div>
<div class="line"><a name="l11236"></a><span class="lineno">11236</span>&#160; </div>
<div class="line"><a name="l11237"></a><span class="lineno">11237</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isKnownPredicateViaNoOverflow(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l11238"></a><span class="lineno">11238</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l11239"></a><span class="lineno">11239</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l11240"></a><span class="lineno">11240</span>&#160;  <span class="comment">// Match X to (A + C1)&lt;ExpectedFlags&gt; and Y to (A + C2)&lt;ExpectedFlags&gt;, where</span></div>
<div class="line"><a name="l11241"></a><span class="lineno">11241</span>&#160;  <span class="comment">// C1 and C2 are constant integers. If either X or Y are not add expressions,</span></div>
<div class="line"><a name="l11242"></a><span class="lineno">11242</span>&#160;  <span class="comment">// consider them as X + 0 and Y + 0 respectively. C1 and C2 are returned via</span></div>
<div class="line"><a name="l11243"></a><span class="lineno">11243</span>&#160;  <span class="comment">// OutC1 and OutC2.</span></div>
<div class="line"><a name="l11244"></a><span class="lineno">11244</span>&#160;  <span class="keyword">auto</span> MatchBinaryAddToConst = [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>,</div>
<div class="line"><a name="l11245"></a><span class="lineno">11245</span>&#160;                                      <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;OutC1, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;OutC2,</div>
<div class="line"><a name="l11246"></a><span class="lineno">11246</span>&#160;                                      <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> ExpectedFlags) {</div>
<div class="line"><a name="l11247"></a><span class="lineno">11247</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *XNonConstOp, *XConstOp;</div>
<div class="line"><a name="l11248"></a><span class="lineno">11248</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *YNonConstOp, *YConstOp;</div>
<div class="line"><a name="l11249"></a><span class="lineno">11249</span>&#160;    <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> XFlagsPresent;</div>
<div class="line"><a name="l11250"></a><span class="lineno">11250</span>&#160;    <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> YFlagsPresent;</div>
<div class="line"><a name="l11251"></a><span class="lineno">11251</span>&#160; </div>
<div class="line"><a name="l11252"></a><span class="lineno">11252</span>&#160;    <span class="keywordflow">if</span> (!splitBinaryAdd(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, XConstOp, XNonConstOp, XFlagsPresent)) {</div>
<div class="line"><a name="l11253"></a><span class="lineno">11253</span>&#160;      XConstOp = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType());</div>
<div class="line"><a name="l11254"></a><span class="lineno">11254</span>&#160;      XNonConstOp = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l11255"></a><span class="lineno">11255</span>&#160;      XFlagsPresent = ExpectedFlags;</div>
<div class="line"><a name="l11256"></a><span class="lineno">11256</span>&#160;    }</div>
<div class="line"><a name="l11257"></a><span class="lineno">11257</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(XConstOp) ||</div>
<div class="line"><a name="l11258"></a><span class="lineno">11258</span>&#160;        (XFlagsPresent &amp; ExpectedFlags) != ExpectedFlags)</div>
<div class="line"><a name="l11259"></a><span class="lineno">11259</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11260"></a><span class="lineno">11260</span>&#160; </div>
<div class="line"><a name="l11261"></a><span class="lineno">11261</span>&#160;    <span class="keywordflow">if</span> (!splitBinaryAdd(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, YConstOp, YNonConstOp, YFlagsPresent)) {</div>
<div class="line"><a name="l11262"></a><span class="lineno">11262</span>&#160;      YConstOp = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;getType());</div>
<div class="line"><a name="l11263"></a><span class="lineno">11263</span>&#160;      YNonConstOp = <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l11264"></a><span class="lineno">11264</span>&#160;      YFlagsPresent = ExpectedFlags;</div>
<div class="line"><a name="l11265"></a><span class="lineno">11265</span>&#160;    }</div>
<div class="line"><a name="l11266"></a><span class="lineno">11266</span>&#160; </div>
<div class="line"><a name="l11267"></a><span class="lineno">11267</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(YConstOp) ||</div>
<div class="line"><a name="l11268"></a><span class="lineno">11268</span>&#160;        (YFlagsPresent &amp; ExpectedFlags) != ExpectedFlags)</div>
<div class="line"><a name="l11269"></a><span class="lineno">11269</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11270"></a><span class="lineno">11270</span>&#160; </div>
<div class="line"><a name="l11271"></a><span class="lineno">11271</span>&#160;    <span class="keywordflow">if</span> (YNonConstOp != XNonConstOp)</div>
<div class="line"><a name="l11272"></a><span class="lineno">11272</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11273"></a><span class="lineno">11273</span>&#160; </div>
<div class="line"><a name="l11274"></a><span class="lineno">11274</span>&#160;    OutC1 = cast&lt;SCEVConstant&gt;(XConstOp)-&gt;getAPInt();</div>
<div class="line"><a name="l11275"></a><span class="lineno">11275</span>&#160;    OutC2 = cast&lt;SCEVConstant&gt;(YConstOp)-&gt;getAPInt();</div>
<div class="line"><a name="l11276"></a><span class="lineno">11276</span>&#160; </div>
<div class="line"><a name="l11277"></a><span class="lineno">11277</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11278"></a><span class="lineno">11278</span>&#160;  };</div>
<div class="line"><a name="l11279"></a><span class="lineno">11279</span>&#160; </div>
<div class="line"><a name="l11280"></a><span class="lineno">11280</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l11281"></a><span class="lineno">11281</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> C2;</div>
<div class="line"><a name="l11282"></a><span class="lineno">11282</span>&#160; </div>
<div class="line"><a name="l11283"></a><span class="lineno">11283</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l11284"></a><span class="lineno">11284</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l11285"></a><span class="lineno">11285</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11286"></a><span class="lineno">11286</span>&#160; </div>
<div class="line"><a name="l11287"></a><span class="lineno">11287</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l11288"></a><span class="lineno">11288</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11289"></a><span class="lineno">11289</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l11290"></a><span class="lineno">11290</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l11291"></a><span class="lineno">11291</span>&#160;    <span class="comment">// (X + C1)&lt;nsw&gt; s&lt;= (X + C2)&lt;nsw&gt; if C1 s&lt;= C2.</span></div>
<div class="line"><a name="l11292"></a><span class="lineno">11292</span>&#160;    <span class="keywordflow">if</span> (MatchBinaryAddToConst(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, C2, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>) &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.sle(C2))</div>
<div class="line"><a name="l11293"></a><span class="lineno">11293</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11294"></a><span class="lineno">11294</span>&#160; </div>
<div class="line"><a name="l11295"></a><span class="lineno">11295</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11296"></a><span class="lineno">11296</span>&#160; </div>
<div class="line"><a name="l11297"></a><span class="lineno">11297</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l11298"></a><span class="lineno">11298</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11299"></a><span class="lineno">11299</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l11300"></a><span class="lineno">11300</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l11301"></a><span class="lineno">11301</span>&#160;    <span class="comment">// (X + C1)&lt;nsw&gt; s&lt; (X + C2)&lt;nsw&gt; if C1 s&lt; C2.</span></div>
<div class="line"><a name="l11302"></a><span class="lineno">11302</span>&#160;    <span class="keywordflow">if</span> (MatchBinaryAddToConst(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, C2, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>) &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.slt(C2))</div>
<div class="line"><a name="l11303"></a><span class="lineno">11303</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11304"></a><span class="lineno">11304</span>&#160; </div>
<div class="line"><a name="l11305"></a><span class="lineno">11305</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11306"></a><span class="lineno">11306</span>&#160; </div>
<div class="line"><a name="l11307"></a><span class="lineno">11307</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l11308"></a><span class="lineno">11308</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11309"></a><span class="lineno">11309</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l11310"></a><span class="lineno">11310</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l11311"></a><span class="lineno">11311</span>&#160;    <span class="comment">// (X + C1)&lt;nuw&gt; u&lt;= (X + C2)&lt;nuw&gt; for C1 u&lt;= C2.</span></div>
<div class="line"><a name="l11312"></a><span class="lineno">11312</span>&#160;    <span class="keywordflow">if</span> (MatchBinaryAddToConst(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, C2, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>) &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.ule(C2))</div>
<div class="line"><a name="l11313"></a><span class="lineno">11313</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11314"></a><span class="lineno">11314</span>&#160; </div>
<div class="line"><a name="l11315"></a><span class="lineno">11315</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11316"></a><span class="lineno">11316</span>&#160; </div>
<div class="line"><a name="l11317"></a><span class="lineno">11317</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l11318"></a><span class="lineno">11318</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11319"></a><span class="lineno">11319</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l11320"></a><span class="lineno">11320</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l11321"></a><span class="lineno">11321</span>&#160;    <span class="comment">// (X + C1)&lt;nuw&gt; u&lt; (X + C2)&lt;nuw&gt; if C1 u&lt; C2.</span></div>
<div class="line"><a name="l11322"></a><span class="lineno">11322</span>&#160;    <span class="keywordflow">if</span> (MatchBinaryAddToConst(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, C2, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>) &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.ult(C2))</div>
<div class="line"><a name="l11323"></a><span class="lineno">11323</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11324"></a><span class="lineno">11324</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11325"></a><span class="lineno">11325</span>&#160;  }</div>
<div class="line"><a name="l11326"></a><span class="lineno">11326</span>&#160; </div>
<div class="line"><a name="l11327"></a><span class="lineno">11327</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11328"></a><span class="lineno">11328</span>&#160;}</div>
<div class="line"><a name="l11329"></a><span class="lineno">11329</span>&#160; </div>
<div class="line"><a name="l11330"></a><span class="lineno">11330</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isKnownPredicateViaSplitting(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l11331"></a><span class="lineno">11331</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l11332"></a><span class="lineno">11332</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l11333"></a><span class="lineno">11333</span>&#160;  <span class="keywordflow">if</span> (Pred != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> || ProvingSplitPredicate)</div>
<div class="line"><a name="l11334"></a><span class="lineno">11334</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11335"></a><span class="lineno">11335</span>&#160; </div>
<div class="line"><a name="l11336"></a><span class="lineno">11336</span>&#160;  <span class="comment">// Allowing arbitrary number of activations of isKnownPredicateViaSplitting on</span></div>
<div class="line"><a name="l11337"></a><span class="lineno">11337</span>&#160;  <span class="comment">// the stack can result in exponential time complexity.</span></div>
<div class="line"><a name="l11338"></a><span class="lineno">11338</span>&#160;  <a class="code" href="structllvm_1_1SaveAndRestore.html">SaveAndRestore</a> Restore(ProvingSplitPredicate, <span class="keyword">true</span>);</div>
<div class="line"><a name="l11339"></a><span class="lineno">11339</span>&#160; </div>
<div class="line"><a name="l11340"></a><span class="lineno">11340</span>&#160;  <span class="comment">// If L &gt;= 0 then I `ult` L &lt;=&gt; I &gt;= 0 &amp;&amp; I `slt` L</span></div>
<div class="line"><a name="l11341"></a><span class="lineno">11341</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l11342"></a><span class="lineno">11342</span>&#160;  <span class="comment">// To prove L &gt;= 0 we use isKnownNonNegative whereas to prove I &gt;= 0 we use</span></div>
<div class="line"><a name="l11343"></a><span class="lineno">11343</span>&#160;  <span class="comment">// isKnownPredicate.  isKnownPredicate is more powerful, but also more</span></div>
<div class="line"><a name="l11344"></a><span class="lineno">11344</span>&#160;  <span class="comment">// expensive; and using isKnownNonNegative(RHS) is sufficient for most of the</span></div>
<div class="line"><a name="l11345"></a><span class="lineno">11345</span>&#160;  <span class="comment">// interesting cases seen in practice.  We can consider &quot;upgrading&quot; L &gt;= 0 to</span></div>
<div class="line"><a name="l11346"></a><span class="lineno">11346</span>&#160;  <span class="comment">// use isKnownPredicate later if needed.</span></div>
<div class="line"><a name="l11347"></a><span class="lineno">11347</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp;</div>
<div class="line"><a name="l11348"></a><span class="lineno">11348</span>&#160;         <a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())) &amp;&amp;</div>
<div class="line"><a name="l11349"></a><span class="lineno">11349</span>&#160;         <a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11350"></a><span class="lineno">11350</span>&#160;}</div>
<div class="line"><a name="l11351"></a><span class="lineno">11351</span>&#160; </div>
<div class="line"><a name="l11352"></a><span class="lineno">11352</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedViaGuard(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l11353"></a><span class="lineno">11353</span>&#160;                                        <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l11354"></a><span class="lineno">11354</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l11355"></a><span class="lineno">11355</span>&#160;  <span class="comment">// No need to even try if we know the module has no guards.</span></div>
<div class="line"><a name="l11356"></a><span class="lineno">11356</span>&#160;  <span class="keywordflow">if</span> (AC.<a class="code" href="classllvm_1_1AssumptionCache.html#a9af26068ead88bf19cbf15167e82d200">assumptions</a>().empty())</div>
<div class="line"><a name="l11357"></a><span class="lineno">11357</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11358"></a><span class="lineno">11358</span>&#160; </div>
<div class="line"><a name="l11359"></a><span class="lineno">11359</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l11360"></a><span class="lineno">11360</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a>;</div>
<div class="line"><a name="l11361"></a><span class="lineno">11361</span>&#160; </div>
<div class="line"><a name="l11362"></a><span class="lineno">11362</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Condition;</div>
<div class="line"><a name="l11363"></a><span class="lineno">11363</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, m_Intrinsic&lt;Intrinsic::experimental_guard&gt;(</div>
<div class="line"><a name="l11364"></a><span class="lineno">11364</span>&#160;                         <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Condition))) &amp;&amp;</div>
<div class="line"><a name="l11365"></a><span class="lineno">11365</span>&#160;           isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Condition, <span class="keyword">false</span>);</div>
<div class="line"><a name="l11366"></a><span class="lineno">11366</span>&#160;  });</div>
<div class="line"><a name="l11367"></a><span class="lineno">11367</span>&#160;}</div>
<div class="line"><a name="l11368"></a><span class="lineno">11368</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11369"></a><span class="lineno">11369</span>&#160;<span class="comment">/// isLoopBackedgeGuardedByCond - Test whether the backedge of the loop is</span></div>
<div class="line"><a name="l11370"></a><span class="lineno">11370</span>&#160;<span class="comment">/// protected by a conditional between LHS and RHS.  This is used to</span></div>
<div class="line"><a name="l11371"></a><span class="lineno">11371</span>&#160;<span class="comment">/// to eliminate casts.</span></div>
<div class="line"><a name="l11372"></a><span class="lineno">11372</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span></div>
<div class="line"><a name="l11373"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">11373</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">ScalarEvolution::isLoopBackedgeGuardedByCond</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l11374"></a><span class="lineno">11374</span>&#160;                                             <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l11375"></a><span class="lineno">11375</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l11376"></a><span class="lineno">11376</span>&#160;  <span class="comment">// Interpret a null as meaning no loop, where there is obviously no guard</span></div>
<div class="line"><a name="l11377"></a><span class="lineno">11377</span>&#160;  <span class="comment">// (interprocedural conditions notwithstanding). Do not bother about</span></div>
<div class="line"><a name="l11378"></a><span class="lineno">11378</span>&#160;  <span class="comment">// unreachable loops.</span></div>
<div class="line"><a name="l11379"></a><span class="lineno">11379</span>&#160;  <span class="keywordflow">if</span> (!L || !DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()))</div>
<div class="line"><a name="l11380"></a><span class="lineno">11380</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11381"></a><span class="lineno">11381</span>&#160; </div>
<div class="line"><a name="l11382"></a><span class="lineno">11382</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#aec864950923a9913d54b8e48fc1c782b">VerifyIR</a>)</div>
<div class="line"><a name="l11383"></a><span class="lineno">11383</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm.html#a26389c546573f058ad8ecbdc5c1933cf">verifyFunction</a>(*L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>(), &amp;<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()) &amp;&amp;</div>
<div class="line"><a name="l11384"></a><span class="lineno">11384</span>&#160;           <span class="stringliteral">&quot;This cannot be done on broken IR!&quot;</span>);</div>
<div class="line"><a name="l11385"></a><span class="lineno">11385</span>&#160; </div>
<div class="line"><a name="l11386"></a><span class="lineno">11386</span>&#160; </div>
<div class="line"><a name="l11387"></a><span class="lineno">11387</span>&#160;  <span class="keywordflow">if</span> (isKnownViaNonRecursiveReasoning(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l11388"></a><span class="lineno">11388</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11389"></a><span class="lineno">11389</span>&#160; </div>
<div class="line"><a name="l11390"></a><span class="lineno">11390</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l11391"></a><span class="lineno">11391</span>&#160;  <span class="keywordflow">if</span> (!Latch)</div>
<div class="line"><a name="l11392"></a><span class="lineno">11392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11393"></a><span class="lineno">11393</span>&#160; </div>
<div class="line"><a name="l11394"></a><span class="lineno">11394</span>&#160;  <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *LoopContinuePredicate =</div>
<div class="line"><a name="l11395"></a><span class="lineno">11395</span>&#160;    dyn_cast&lt;BranchInst&gt;(Latch-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>());</div>
<div class="line"><a name="l11396"></a><span class="lineno">11396</span>&#160;  <span class="keywordflow">if</span> (LoopContinuePredicate &amp;&amp; LoopContinuePredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a7e4be8b16fbd68c9045a388904044e01">isConditional</a>() &amp;&amp;</div>
<div class="line"><a name="l11397"></a><span class="lineno">11397</span>&#160;      isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l11398"></a><span class="lineno">11398</span>&#160;                    LoopContinuePredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">getCondition</a>(),</div>
<div class="line"><a name="l11399"></a><span class="lineno">11399</span>&#160;                    LoopContinuePredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0) != L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()))</div>
<div class="line"><a name="l11400"></a><span class="lineno">11400</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11401"></a><span class="lineno">11401</span>&#160; </div>
<div class="line"><a name="l11402"></a><span class="lineno">11402</span>&#160;  <span class="comment">// We don&#39;t want more than one activation of the following loops on the stack</span></div>
<div class="line"><a name="l11403"></a><span class="lineno">11403</span>&#160;  <span class="comment">// -- that can lead to O(n!) time complexity.</span></div>
<div class="line"><a name="l11404"></a><span class="lineno">11404</span>&#160;  <span class="keywordflow">if</span> (WalkingBEDominatingConds)</div>
<div class="line"><a name="l11405"></a><span class="lineno">11405</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11406"></a><span class="lineno">11406</span>&#160; </div>
<div class="line"><a name="l11407"></a><span class="lineno">11407</span>&#160;  <a class="code" href="structllvm_1_1SaveAndRestore.html">SaveAndRestore</a> ClearOnExit(WalkingBEDominatingConds, <span class="keyword">true</span>);</div>
<div class="line"><a name="l11408"></a><span class="lineno">11408</span>&#160; </div>
<div class="line"><a name="l11409"></a><span class="lineno">11409</span>&#160;  <span class="comment">// See if we can exploit a trip count to prove the predicate.</span></div>
<div class="line"><a name="l11410"></a><span class="lineno">11410</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;BETakenInfo = getBackedgeTakenInfo(L);</div>
<div class="line"><a name="l11411"></a><span class="lineno">11411</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LatchBECount = BETakenInfo.getExact(Latch, <span class="keyword">this</span>);</div>
<div class="line"><a name="l11412"></a><span class="lineno">11412</span>&#160;  <span class="keywordflow">if</span> (LatchBECount != <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()) {</div>
<div class="line"><a name="l11413"></a><span class="lineno">11413</span>&#160;    <span class="comment">// We know that Latch branches back to the loop header exactly</span></div>
<div class="line"><a name="l11414"></a><span class="lineno">11414</span>&#160;    <span class="comment">// LatchBECount times.  This means the backdege condition at Latch is</span></div>
<div class="line"><a name="l11415"></a><span class="lineno">11415</span>&#160;    <span class="comment">// equivalent to  &quot;{0,+,1} u&lt; LatchBECount&quot;.</span></div>
<div class="line"><a name="l11416"></a><span class="lineno">11416</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = LatchBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l11417"></a><span class="lineno">11417</span>&#160;    <span class="keyword">auto</span> NoWrapFlags = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div>
<div class="line"><a name="l11418"></a><span class="lineno">11418</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LoopCounter =</div>
<div class="line"><a name="l11419"></a><span class="lineno">11419</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(Ty), <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(Ty), L, NoWrapFlags);</div>
<div class="line"><a name="l11420"></a><span class="lineno">11420</span>&#160;    <span class="keywordflow">if</span> (isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>, LoopCounter,</div>
<div class="line"><a name="l11421"></a><span class="lineno">11421</span>&#160;                      LatchBECount))</div>
<div class="line"><a name="l11422"></a><span class="lineno">11422</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11423"></a><span class="lineno">11423</span>&#160;  }</div>
<div class="line"><a name="l11424"></a><span class="lineno">11424</span>&#160; </div>
<div class="line"><a name="l11425"></a><span class="lineno">11425</span>&#160;  <span class="comment">// Check conditions due to any @llvm.assume intrinsics.</span></div>
<div class="line"><a name="l11426"></a><span class="lineno">11426</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;AssumeVH : AC.<a class="code" href="classllvm_1_1AssumptionCache.html#a9af26068ead88bf19cbf15167e82d200">assumptions</a>()) {</div>
<div class="line"><a name="l11427"></a><span class="lineno">11427</span>&#160;    <span class="keywordflow">if</span> (!AssumeVH)</div>
<div class="line"><a name="l11428"></a><span class="lineno">11428</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11429"></a><span class="lineno">11429</span>&#160;    <span class="keyword">auto</span> *CI = cast&lt;CallInst&gt;(AssumeVH);</div>
<div class="line"><a name="l11430"></a><span class="lineno">11430</span>&#160;    <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(CI, Latch-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>()))</div>
<div class="line"><a name="l11431"></a><span class="lineno">11431</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11432"></a><span class="lineno">11432</span>&#160; </div>
<div class="line"><a name="l11433"></a><span class="lineno">11433</span>&#160;    <span class="keywordflow">if</span> (isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CI-&gt;getArgOperand(0), <span class="keyword">false</span>))</div>
<div class="line"><a name="l11434"></a><span class="lineno">11434</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11435"></a><span class="lineno">11435</span>&#160;  }</div>
<div class="line"><a name="l11436"></a><span class="lineno">11436</span>&#160; </div>
<div class="line"><a name="l11437"></a><span class="lineno">11437</span>&#160;  <span class="keywordflow">if</span> (isImpliedViaGuard(Latch, Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l11438"></a><span class="lineno">11438</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11439"></a><span class="lineno">11439</span>&#160; </div>
<div class="line"><a name="l11440"></a><span class="lineno">11440</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *DTN = DT[Latch], *HeaderDTN = DT[L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()];</div>
<div class="line"><a name="l11441"></a><span class="lineno">11441</span>&#160;       DTN != HeaderDTN; DTN = DTN-&gt;getIDom()) {</div>
<div class="line"><a name="l11442"></a><span class="lineno">11442</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DTN &amp;&amp; <span class="stringliteral">&quot;should reach the loop header before reaching the root!&quot;</span>);</div>
<div class="line"><a name="l11443"></a><span class="lineno">11443</span>&#160; </div>
<div class="line"><a name="l11444"></a><span class="lineno">11444</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = DTN-&gt;getBlock();</div>
<div class="line"><a name="l11445"></a><span class="lineno">11445</span>&#160;    <span class="keywordflow">if</span> (isImpliedViaGuard(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l11446"></a><span class="lineno">11446</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11447"></a><span class="lineno">11447</span>&#160; </div>
<div class="line"><a name="l11448"></a><span class="lineno">11448</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PBB = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getSinglePredecessor();</div>
<div class="line"><a name="l11449"></a><span class="lineno">11449</span>&#160;    <span class="keywordflow">if</span> (!PBB)</div>
<div class="line"><a name="l11450"></a><span class="lineno">11450</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11451"></a><span class="lineno">11451</span>&#160; </div>
<div class="line"><a name="l11452"></a><span class="lineno">11452</span>&#160;    <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *ContinuePredicate = dyn_cast&lt;BranchInst&gt;(PBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>());</div>
<div class="line"><a name="l11453"></a><span class="lineno">11453</span>&#160;    <span class="keywordflow">if</span> (!ContinuePredicate || !ContinuePredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a7e4be8b16fbd68c9045a388904044e01">isConditional</a>())</div>
<div class="line"><a name="l11454"></a><span class="lineno">11454</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11455"></a><span class="lineno">11455</span>&#160; </div>
<div class="line"><a name="l11456"></a><span class="lineno">11456</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Condition = ContinuePredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">getCondition</a>();</div>
<div class="line"><a name="l11457"></a><span class="lineno">11457</span>&#160; </div>
<div class="line"><a name="l11458"></a><span class="lineno">11458</span>&#160;    <span class="comment">// If we have an edge `E` within the loop body that dominates the only</span></div>
<div class="line"><a name="l11459"></a><span class="lineno">11459</span>&#160;    <span class="comment">// latch, the condition guarding `E` also guards the backedge.  This</span></div>
<div class="line"><a name="l11460"></a><span class="lineno">11460</span>&#160;    <span class="comment">// reasoning works only for loops with a single latch.</span></div>
<div class="line"><a name="l11461"></a><span class="lineno">11461</span>&#160; </div>
<div class="line"><a name="l11462"></a><span class="lineno">11462</span>&#160;    <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> DominatingEdge(PBB, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l11463"></a><span class="lineno">11463</span>&#160;    <span class="keywordflow">if</span> (DominatingEdge.<a class="code" href="classllvm_1_1BasicBlockEdge.html#a9c8df2ee2950f5957a98ca2bec57c399">isSingleEdge</a>()) {</div>
<div class="line"><a name="l11464"></a><span class="lineno">11464</span>&#160;      <span class="comment">// We&#39;re constructively (and conservatively) enumerating edges within the</span></div>
<div class="line"><a name="l11465"></a><span class="lineno">11465</span>&#160;      <span class="comment">// loop body that dominate the latch.  The dominator tree better agree</span></div>
<div class="line"><a name="l11466"></a><span class="lineno">11466</span>&#160;      <span class="comment">// with us on this:</span></div>
<div class="line"><a name="l11467"></a><span class="lineno">11467</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(DominatingEdge, Latch) &amp;&amp; <span class="stringliteral">&quot;should be!&quot;</span>);</div>
<div class="line"><a name="l11468"></a><span class="lineno">11468</span>&#160; </div>
<div class="line"><a name="l11469"></a><span class="lineno">11469</span>&#160;      <span class="keywordflow">if</span> (isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Condition,</div>
<div class="line"><a name="l11470"></a><span class="lineno">11470</span>&#160;                        <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != ContinuePredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0)))</div>
<div class="line"><a name="l11471"></a><span class="lineno">11471</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11472"></a><span class="lineno">11472</span>&#160;    }</div>
<div class="line"><a name="l11473"></a><span class="lineno">11473</span>&#160;  }</div>
<div class="line"><a name="l11474"></a><span class="lineno">11474</span>&#160; </div>
<div class="line"><a name="l11475"></a><span class="lineno">11475</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11476"></a><span class="lineno">11476</span>&#160;}</div>
<div class="line"><a name="l11477"></a><span class="lineno">11477</span>&#160; </div>
<div class="line"><a name="l11478"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a67bf0314365917e11f91509c7f0425e8">11478</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a67bf0314365917e11f91509c7f0425e8">ScalarEvolution::isBasicBlockEntryGuardedByCond</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l11479"></a><span class="lineno">11479</span>&#160;                                                     <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l11480"></a><span class="lineno">11480</span>&#160;                                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l11481"></a><span class="lineno">11481</span>&#160;                                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l11482"></a><span class="lineno">11482</span>&#160;  <span class="comment">// Do not bother proving facts for unreachable code.</span></div>
<div class="line"><a name="l11483"></a><span class="lineno">11483</span>&#160;  <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l11484"></a><span class="lineno">11484</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11485"></a><span class="lineno">11485</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#aec864950923a9913d54b8e48fc1c782b">VerifyIR</a>)</div>
<div class="line"><a name="l11486"></a><span class="lineno">11486</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm.html#a26389c546573f058ad8ecbdc5c1933cf">verifyFunction</a>(*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getParent(), &amp;<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()) &amp;&amp;</div>
<div class="line"><a name="l11487"></a><span class="lineno">11487</span>&#160;           <span class="stringliteral">&quot;This cannot be done on broken IR!&quot;</span>);</div>
<div class="line"><a name="l11488"></a><span class="lineno">11488</span>&#160; </div>
<div class="line"><a name="l11489"></a><span class="lineno">11489</span>&#160;  <span class="comment">// If we cannot prove strict comparison (e.g. a &gt; b), maybe we can prove</span></div>
<div class="line"><a name="l11490"></a><span class="lineno">11490</span>&#160;  <span class="comment">// the facts (a &gt;= b &amp;&amp; a != b) separately. A typical situation is when the</span></div>
<div class="line"><a name="l11491"></a><span class="lineno">11491</span>&#160;  <span class="comment">// non-strict comparison is known from ranges and non-equality is known from</span></div>
<div class="line"><a name="l11492"></a><span class="lineno">11492</span>&#160;  <span class="comment">// dominating predicates. If we are proving strict comparison, we always try</span></div>
<div class="line"><a name="l11493"></a><span class="lineno">11493</span>&#160;  <span class="comment">// to prove non-equality and non-strict comparison separately.</span></div>
<div class="line"><a name="l11494"></a><span class="lineno">11494</span>&#160;  <span class="keyword">auto</span> NonStrictPredicate = <a class="code" href="classllvm_1_1CmpInst.html#a6b13f2e75444202b854672a5fbf85e2e">ICmpInst::getNonStrictPredicate</a>(Pred);</div>
<div class="line"><a name="l11495"></a><span class="lineno">11495</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> ProvingStrictComparison = (Pred != NonStrictPredicate);</div>
<div class="line"><a name="l11496"></a><span class="lineno">11496</span>&#160;  <span class="keywordtype">bool</span> ProvedNonStrictComparison = <span class="keyword">false</span>;</div>
<div class="line"><a name="l11497"></a><span class="lineno">11497</span>&#160;  <span class="keywordtype">bool</span> ProvedNonEquality = <span class="keyword">false</span>;</div>
<div class="line"><a name="l11498"></a><span class="lineno">11498</span>&#160; </div>
<div class="line"><a name="l11499"></a><span class="lineno">11499</span>&#160;  <span class="keyword">auto</span> SplitAndProve =</div>
<div class="line"><a name="l11500"></a><span class="lineno">11500</span>&#160;    [&amp;](<a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;bool(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a>)&gt; Fn) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l11501"></a><span class="lineno">11501</span>&#160;    <span class="keywordflow">if</span> (!ProvedNonStrictComparison)</div>
<div class="line"><a name="l11502"></a><span class="lineno">11502</span>&#160;      ProvedNonStrictComparison = Fn(NonStrictPredicate);</div>
<div class="line"><a name="l11503"></a><span class="lineno">11503</span>&#160;    <span class="keywordflow">if</span> (!ProvedNonEquality)</div>
<div class="line"><a name="l11504"></a><span class="lineno">11504</span>&#160;      ProvedNonEquality = Fn(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>);</div>
<div class="line"><a name="l11505"></a><span class="lineno">11505</span>&#160;    <span class="keywordflow">if</span> (ProvedNonStrictComparison &amp;&amp; ProvedNonEquality)</div>
<div class="line"><a name="l11506"></a><span class="lineno">11506</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11507"></a><span class="lineno">11507</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11508"></a><span class="lineno">11508</span>&#160;  };</div>
<div class="line"><a name="l11509"></a><span class="lineno">11509</span>&#160; </div>
<div class="line"><a name="l11510"></a><span class="lineno">11510</span>&#160;  <span class="keywordflow">if</span> (ProvingStrictComparison) {</div>
<div class="line"><a name="l11511"></a><span class="lineno">11511</span>&#160;    <span class="keyword">auto</span> ProofFn = [&amp;](<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l11512"></a><span class="lineno">11512</span>&#160;      <span class="keywordflow">return</span> isKnownViaNonRecursiveReasoning(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11513"></a><span class="lineno">11513</span>&#160;    };</div>
<div class="line"><a name="l11514"></a><span class="lineno">11514</span>&#160;    <span class="keywordflow">if</span> (SplitAndProve(ProofFn))</div>
<div class="line"><a name="l11515"></a><span class="lineno">11515</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11516"></a><span class="lineno">11516</span>&#160;  }</div>
<div class="line"><a name="l11517"></a><span class="lineno">11517</span>&#160; </div>
<div class="line"><a name="l11518"></a><span class="lineno">11518</span>&#160;  <span class="comment">// Try to prove (Pred, LHS, RHS) using isImpliedCond.</span></div>
<div class="line"><a name="l11519"></a><span class="lineno">11519</span>&#160;  <span class="keyword">auto</span> ProveViaCond = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Condition, <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>) {</div>
<div class="line"><a name="l11520"></a><span class="lineno">11520</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI = &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;front();</div>
<div class="line"><a name="l11521"></a><span class="lineno">11521</span>&#160;    <span class="keywordflow">if</span> (isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Condition, <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>, CtxI))</div>
<div class="line"><a name="l11522"></a><span class="lineno">11522</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11523"></a><span class="lineno">11523</span>&#160;    <span class="keywordflow">if</span> (ProvingStrictComparison) {</div>
<div class="line"><a name="l11524"></a><span class="lineno">11524</span>&#160;      <span class="keyword">auto</span> ProofFn = [&amp;](<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l11525"></a><span class="lineno">11525</span>&#160;        <span class="keywordflow">return</span> isImpliedCond(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Condition, <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>, CtxI);</div>
<div class="line"><a name="l11526"></a><span class="lineno">11526</span>&#160;      };</div>
<div class="line"><a name="l11527"></a><span class="lineno">11527</span>&#160;      <span class="keywordflow">if</span> (SplitAndProve(ProofFn))</div>
<div class="line"><a name="l11528"></a><span class="lineno">11528</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11529"></a><span class="lineno">11529</span>&#160;    }</div>
<div class="line"><a name="l11530"></a><span class="lineno">11530</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11531"></a><span class="lineno">11531</span>&#160;  };</div>
<div class="line"><a name="l11532"></a><span class="lineno">11532</span>&#160; </div>
<div class="line"><a name="l11533"></a><span class="lineno">11533</span>&#160;  <span class="comment">// Starting at the block&#39;s predecessor, climb up the predecessor chain, as long</span></div>
<div class="line"><a name="l11534"></a><span class="lineno">11534</span>&#160;  <span class="comment">// as there are predecessors that can be found that have unique successors</span></div>
<div class="line"><a name="l11535"></a><span class="lineno">11535</span>&#160;  <span class="comment">// leading to the original block.</span></div>
<div class="line"><a name="l11536"></a><span class="lineno">11536</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *ContainingLoop = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l11537"></a><span class="lineno">11537</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredBB;</div>
<div class="line"><a name="l11538"></a><span class="lineno">11538</span>&#160;  <span class="keywordflow">if</span> (ContainingLoop &amp;&amp; ContainingLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l11539"></a><span class="lineno">11539</span>&#160;    PredBB = ContainingLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a88575baf2ad9f4cd2e2432e6da4a976b">getLoopPredecessor</a>();</div>
<div class="line"><a name="l11540"></a><span class="lineno">11540</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l11541"></a><span class="lineno">11541</span>&#160;    PredBB = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getSinglePredecessor();</div>
<div class="line"><a name="l11542"></a><span class="lineno">11542</span>&#160;  <span class="keywordflow">for</span> (std::pair&lt;const BasicBlock *, const BasicBlock *&gt; Pair(PredBB, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l11543"></a><span class="lineno">11543</span>&#160;       Pair.first; Pair = getPredecessorWithUniqueSuccessorForBB(Pair.first)) {</div>
<div class="line"><a name="l11544"></a><span class="lineno">11544</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BlockEntryPredicate =</div>
<div class="line"><a name="l11545"></a><span class="lineno">11545</span>&#160;        dyn_cast&lt;BranchInst&gt;(Pair.first-&gt;getTerminator());</div>
<div class="line"><a name="l11546"></a><span class="lineno">11546</span>&#160;    <span class="keywordflow">if</span> (!BlockEntryPredicate || BlockEntryPredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad56f6a9b5cd05940017c4544df48bc30">isUnconditional</a>())</div>
<div class="line"><a name="l11547"></a><span class="lineno">11547</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11548"></a><span class="lineno">11548</span>&#160; </div>
<div class="line"><a name="l11549"></a><span class="lineno">11549</span>&#160;    <span class="keywordflow">if</span> (ProveViaCond(BlockEntryPredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">getCondition</a>(),</div>
<div class="line"><a name="l11550"></a><span class="lineno">11550</span>&#160;                     BlockEntryPredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0) != Pair.second))</div>
<div class="line"><a name="l11551"></a><span class="lineno">11551</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11552"></a><span class="lineno">11552</span>&#160;  }</div>
<div class="line"><a name="l11553"></a><span class="lineno">11553</span>&#160; </div>
<div class="line"><a name="l11554"></a><span class="lineno">11554</span>&#160;  <span class="comment">// Check conditions due to any @llvm.assume intrinsics.</span></div>
<div class="line"><a name="l11555"></a><span class="lineno">11555</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;AssumeVH : AC.<a class="code" href="classllvm_1_1AssumptionCache.html#a9af26068ead88bf19cbf15167e82d200">assumptions</a>()) {</div>
<div class="line"><a name="l11556"></a><span class="lineno">11556</span>&#160;    <span class="keywordflow">if</span> (!AssumeVH)</div>
<div class="line"><a name="l11557"></a><span class="lineno">11557</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11558"></a><span class="lineno">11558</span>&#160;    <span class="keyword">auto</span> *CI = cast&lt;CallInst&gt;(AssumeVH);</div>
<div class="line"><a name="l11559"></a><span class="lineno">11559</span>&#160;    <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(CI, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l11560"></a><span class="lineno">11560</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11561"></a><span class="lineno">11561</span>&#160; </div>
<div class="line"><a name="l11562"></a><span class="lineno">11562</span>&#160;    <span class="keywordflow">if</span> (ProveViaCond(CI-&gt;getArgOperand(0), <span class="keyword">false</span>))</div>
<div class="line"><a name="l11563"></a><span class="lineno">11563</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11564"></a><span class="lineno">11564</span>&#160;  }</div>
<div class="line"><a name="l11565"></a><span class="lineno">11565</span>&#160; </div>
<div class="line"><a name="l11566"></a><span class="lineno">11566</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11567"></a><span class="lineno">11567</span>&#160;}</div>
<div class="line"><a name="l11568"></a><span class="lineno">11568</span>&#160; </div>
<div class="line"><a name="l11569"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">11569</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">ScalarEvolution::isLoopEntryGuardedByCond</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l11570"></a><span class="lineno">11570</span>&#160;                                               <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l11571"></a><span class="lineno">11571</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l11572"></a><span class="lineno">11572</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l11573"></a><span class="lineno">11573</span>&#160;  <span class="comment">// Interpret a null as meaning no loop, where there is obviously no guard</span></div>
<div class="line"><a name="l11574"></a><span class="lineno">11574</span>&#160;  <span class="comment">// (interprocedural conditions notwithstanding).</span></div>
<div class="line"><a name="l11575"></a><span class="lineno">11575</span>&#160;  <span class="keywordflow">if</span> (!L)</div>
<div class="line"><a name="l11576"></a><span class="lineno">11576</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11577"></a><span class="lineno">11577</span>&#160; </div>
<div class="line"><a name="l11578"></a><span class="lineno">11578</span>&#160;  <span class="comment">// Both LHS and RHS must be available at loop entry.</span></div>
<div class="line"><a name="l11579"></a><span class="lineno">11579</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, L) &amp;&amp;</div>
<div class="line"><a name="l11580"></a><span class="lineno">11580</span>&#160;         <span class="stringliteral">&quot;LHS is not available at Loop Entry&quot;</span>);</div>
<div class="line"><a name="l11581"></a><span class="lineno">11581</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L) &amp;&amp;</div>
<div class="line"><a name="l11582"></a><span class="lineno">11582</span>&#160;         <span class="stringliteral">&quot;RHS is not available at Loop Entry&quot;</span>);</div>
<div class="line"><a name="l11583"></a><span class="lineno">11583</span>&#160; </div>
<div class="line"><a name="l11584"></a><span class="lineno">11584</span>&#160;  <span class="keywordflow">if</span> (isKnownViaNonRecursiveReasoning(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l11585"></a><span class="lineno">11585</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11586"></a><span class="lineno">11586</span>&#160; </div>
<div class="line"><a name="l11587"></a><span class="lineno">11587</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a67bf0314365917e11f91509c7f0425e8">isBasicBlockEntryGuardedByCond</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>(), Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11588"></a><span class="lineno">11588</span>&#160;}</div>
<div class="line"><a name="l11589"></a><span class="lineno">11589</span>&#160; </div>
<div class="line"><a name="l11590"></a><span class="lineno">11590</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedCond(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l11591"></a><span class="lineno">11591</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l11592"></a><span class="lineno">11592</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *FoundCondValue, <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>,</div>
<div class="line"><a name="l11593"></a><span class="lineno">11593</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI) {</div>
<div class="line"><a name="l11594"></a><span class="lineno">11594</span>&#160;  <span class="comment">// False conditions implies anything. Do not bother analyzing it further.</span></div>
<div class="line"><a name="l11595"></a><span class="lineno">11595</span>&#160;  <span class="keywordflow">if</span> (FoundCondValue ==</div>
<div class="line"><a name="l11596"></a><span class="lineno">11596</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html#afe7d477c6022fe7123b90e3b39c58e69">ConstantInt::getBool</a>(FoundCondValue-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>))</div>
<div class="line"><a name="l11597"></a><span class="lineno">11597</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11598"></a><span class="lineno">11598</span>&#160; </div>
<div class="line"><a name="l11599"></a><span class="lineno">11599</span>&#160;  <span class="keywordflow">if</span> (!PendingLoopPredicates.insert(FoundCondValue).second)</div>
<div class="line"><a name="l11600"></a><span class="lineno">11600</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11601"></a><span class="lineno">11601</span>&#160; </div>
<div class="line"><a name="l11602"></a><span class="lineno">11602</span>&#160;  <span class="keyword">auto</span> ClearOnExit =</div>
<div class="line"><a name="l11603"></a><span class="lineno">11603</span>&#160;      <a class="code" href="namespacellvm.html#ab2e3dbebd68e69d77c227682fc8e3ba2">make_scope_exit</a>([&amp;]() { PendingLoopPredicates.erase(FoundCondValue); });</div>
<div class="line"><a name="l11604"></a><span class="lineno">11604</span>&#160; </div>
<div class="line"><a name="l11605"></a><span class="lineno">11605</span>&#160;  <span class="comment">// Recursively handle And and Or conditions.</span></div>
<div class="line"><a name="l11606"></a><span class="lineno">11606</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, *Op1;</div>
<div class="line"><a name="l11607"></a><span class="lineno">11607</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(FoundCondValue, <a class="code" href="namespacellvm_1_1PatternMatch.html#a213e6c0ca6e838157373b9a6018c0769">m_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Op0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Op1)))) {</div>
<div class="line"><a name="l11608"></a><span class="lineno">11608</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1Inverse.html">Inverse</a>)</div>
<div class="line"><a name="l11609"></a><span class="lineno">11609</span>&#160;      <span class="keywordflow">return</span> isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Op0, <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>, CtxI) ||</div>
<div class="line"><a name="l11610"></a><span class="lineno">11610</span>&#160;             isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Op1, <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>, CtxI);</div>
<div class="line"><a name="l11611"></a><span class="lineno">11611</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(FoundCondValue, <a class="code" href="namespacellvm_1_1PatternMatch.html#a1a06b1cff93069d7403ea03e6150e386">m_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Op0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Op1)))) {</div>
<div class="line"><a name="l11612"></a><span class="lineno">11612</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1Inverse.html">Inverse</a>)</div>
<div class="line"><a name="l11613"></a><span class="lineno">11613</span>&#160;      <span class="keywordflow">return</span> isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Op0, <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>, CtxI) ||</div>
<div class="line"><a name="l11614"></a><span class="lineno">11614</span>&#160;             isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Op1, <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>, CtxI);</div>
<div class="line"><a name="l11615"></a><span class="lineno">11615</span>&#160;  }</div>
<div class="line"><a name="l11616"></a><span class="lineno">11616</span>&#160; </div>
<div class="line"><a name="l11617"></a><span class="lineno">11617</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ICI = dyn_cast&lt;ICmpInst&gt;(FoundCondValue);</div>
<div class="line"><a name="l11618"></a><span class="lineno">11618</span>&#160;  <span class="keywordflow">if</span> (!ICI) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11619"></a><span class="lineno">11619</span>&#160; </div>
<div class="line"><a name="l11620"></a><span class="lineno">11620</span>&#160;  <span class="comment">// Now that we found a conditional branch that dominates the loop or controls</span></div>
<div class="line"><a name="l11621"></a><span class="lineno">11621</span>&#160;  <span class="comment">// the loop latch. Check to see if it is the comparison we are looking for.</span></div>
<div class="line"><a name="l11622"></a><span class="lineno">11622</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> FoundPred;</div>
<div class="line"><a name="l11623"></a><span class="lineno">11623</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1Inverse.html">Inverse</a>)</div>
<div class="line"><a name="l11624"></a><span class="lineno">11624</span>&#160;    FoundPred = ICI-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">getInversePredicate</a>();</div>
<div class="line"><a name="l11625"></a><span class="lineno">11625</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l11626"></a><span class="lineno">11626</span>&#160;    FoundPred = ICI-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">getPredicate</a>();</div>
<div class="line"><a name="l11627"></a><span class="lineno">11627</span>&#160; </div>
<div class="line"><a name="l11628"></a><span class="lineno">11628</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(ICI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l11629"></a><span class="lineno">11629</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(ICI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1));</div>
<div class="line"><a name="l11630"></a><span class="lineno">11630</span>&#160; </div>
<div class="line"><a name="l11631"></a><span class="lineno">11631</span>&#160;  <span class="keywordflow">return</span> isImpliedCond(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundPred, FoundLHS, FoundRHS, CtxI);</div>
<div class="line"><a name="l11632"></a><span class="lineno">11632</span>&#160;}</div>
<div class="line"><a name="l11633"></a><span class="lineno">11633</span>&#160; </div>
<div class="line"><a name="l11634"></a><span class="lineno">11634</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedCond(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l11635"></a><span class="lineno">11635</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l11636"></a><span class="lineno">11636</span>&#160;                                    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> FoundPred,</div>
<div class="line"><a name="l11637"></a><span class="lineno">11637</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS,</div>
<div class="line"><a name="l11638"></a><span class="lineno">11638</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI) {</div>
<div class="line"><a name="l11639"></a><span class="lineno">11639</span>&#160;  <span class="comment">// Balance the types.</span></div>
<div class="line"><a name="l11640"></a><span class="lineno">11640</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &lt;</div>
<div class="line"><a name="l11641"></a><span class="lineno">11641</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>())) {</div>
<div class="line"><a name="l11642"></a><span class="lineno">11642</span>&#160;    <span class="comment">// For unsigned and equality predicates, try to prove that both found</span></div>
<div class="line"><a name="l11643"></a><span class="lineno">11643</span>&#160;    <span class="comment">// operands fit into narrow unsigned range. If so, try to prove facts in</span></div>
<div class="line"><a name="l11644"></a><span class="lineno">11644</span>&#160;    <span class="comment">// narrow types.</span></div>
<div class="line"><a name="l11645"></a><span class="lineno">11645</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">CmpInst::isSigned</a>(FoundPred) &amp;&amp; !FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l11646"></a><span class="lineno">11646</span>&#160;        !FoundRHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l11647"></a><span class="lineno">11647</span>&#160;      <span class="keyword">auto</span> *NarrowType = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l11648"></a><span class="lineno">11648</span>&#160;      <span class="keyword">auto</span> *WideType = FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l11649"></a><span class="lineno">11649</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(NarrowType);</div>
<div class="line"><a name="l11650"></a><span class="lineno">11650</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxValue = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(</div>
<div class="line"><a name="l11651"></a><span class="lineno">11651</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)), WideType);</div>
<div class="line"><a name="l11652"></a><span class="lineno">11652</span>&#160;      <span class="keywordflow">if</span> (isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>, FoundLHS,</div>
<div class="line"><a name="l11653"></a><span class="lineno">11653</span>&#160;                                          MaxValue) &amp;&amp;</div>
<div class="line"><a name="l11654"></a><span class="lineno">11654</span>&#160;          isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>, FoundRHS,</div>
<div class="line"><a name="l11655"></a><span class="lineno">11655</span>&#160;                                          MaxValue)) {</div>
<div class="line"><a name="l11656"></a><span class="lineno">11656</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TruncFoundLHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(FoundLHS, NarrowType);</div>
<div class="line"><a name="l11657"></a><span class="lineno">11657</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TruncFoundRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">getTruncateExpr</a>(FoundRHS, NarrowType);</div>
<div class="line"><a name="l11658"></a><span class="lineno">11658</span>&#160;        <span class="keywordflow">if</span> (isImpliedCondBalancedTypes(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundPred, TruncFoundLHS,</div>
<div class="line"><a name="l11659"></a><span class="lineno">11659</span>&#160;                                       TruncFoundRHS, CtxI))</div>
<div class="line"><a name="l11660"></a><span class="lineno">11660</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11661"></a><span class="lineno">11661</span>&#160;      }</div>
<div class="line"><a name="l11662"></a><span class="lineno">11662</span>&#160;    }</div>
<div class="line"><a name="l11663"></a><span class="lineno">11663</span>&#160; </div>
<div class="line"><a name="l11664"></a><span class="lineno">11664</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() || <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l11665"></a><span class="lineno">11665</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11666"></a><span class="lineno">11666</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">CmpInst::isSigned</a>(Pred)) {</div>
<div class="line"><a name="l11667"></a><span class="lineno">11667</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l11668"></a><span class="lineno">11668</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l11669"></a><span class="lineno">11669</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11670"></a><span class="lineno">11670</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l11671"></a><span class="lineno">11671</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l11672"></a><span class="lineno">11672</span>&#160;    }</div>
<div class="line"><a name="l11673"></a><span class="lineno">11673</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &gt;</div>
<div class="line"><a name="l11674"></a><span class="lineno">11674</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>())) {</div>
<div class="line"><a name="l11675"></a><span class="lineno">11675</span>&#160;    <span class="keywordflow">if</span> (FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() || FoundRHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l11676"></a><span class="lineno">11676</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11677"></a><span class="lineno">11677</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">CmpInst::isSigned</a>(FoundPred)) {</div>
<div class="line"><a name="l11678"></a><span class="lineno">11678</span>&#160;      FoundLHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(FoundLHS, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l11679"></a><span class="lineno">11679</span>&#160;      FoundRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(FoundRHS, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l11680"></a><span class="lineno">11680</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11681"></a><span class="lineno">11681</span>&#160;      FoundLHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(FoundLHS, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l11682"></a><span class="lineno">11682</span>&#160;      FoundRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(FoundRHS, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l11683"></a><span class="lineno">11683</span>&#160;    }</div>
<div class="line"><a name="l11684"></a><span class="lineno">11684</span>&#160;  }</div>
<div class="line"><a name="l11685"></a><span class="lineno">11685</span>&#160;  <span class="keywordflow">return</span> isImpliedCondBalancedTypes(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundPred, FoundLHS,</div>
<div class="line"><a name="l11686"></a><span class="lineno">11686</span>&#160;                                    FoundRHS, CtxI);</div>
<div class="line"><a name="l11687"></a><span class="lineno">11687</span>&#160;}</div>
<div class="line"><a name="l11688"></a><span class="lineno">11688</span>&#160; </div>
<div class="line"><a name="l11689"></a><span class="lineno">11689</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedCondBalancedTypes(</div>
<div class="line"><a name="l11690"></a><span class="lineno">11690</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l11691"></a><span class="lineno">11691</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> FoundPred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS,</div>
<div class="line"><a name="l11692"></a><span class="lineno">11692</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI) {</div>
<div class="line"><a name="l11693"></a><span class="lineno">11693</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) ==</div>
<div class="line"><a name="l11694"></a><span class="lineno">11694</span>&#160;             <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()) &amp;&amp;</div>
<div class="line"><a name="l11695"></a><span class="lineno">11695</span>&#160;         <span class="stringliteral">&quot;Types should be balanced!&quot;</span>);</div>
<div class="line"><a name="l11696"></a><span class="lineno">11696</span>&#160;  <span class="comment">// Canonicalize the query to match the way instcombine will have</span></div>
<div class="line"><a name="l11697"></a><span class="lineno">11697</span>&#160;  <span class="comment">// canonicalized the comparison.</span></div>
<div class="line"><a name="l11698"></a><span class="lineno">11698</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#ad1c48ca1756aa11e5ea9e8a477d48e15">SimplifyICmpOperands</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l11699"></a><span class="lineno">11699</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l11700"></a><span class="lineno">11700</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">CmpInst::isTrueWhenEqual</a>(Pred);</div>
<div class="line"><a name="l11701"></a><span class="lineno">11701</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#ad1c48ca1756aa11e5ea9e8a477d48e15">SimplifyICmpOperands</a>(FoundPred, FoundLHS, FoundRHS))</div>
<div class="line"><a name="l11702"></a><span class="lineno">11702</span>&#160;    <span class="keywordflow">if</span> (FoundLHS == FoundRHS)</div>
<div class="line"><a name="l11703"></a><span class="lineno">11703</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CmpInst.html#a1e32582702cf5b9d4484c0ce346b2f57">CmpInst::isFalseWhenEqual</a>(FoundPred);</div>
<div class="line"><a name="l11704"></a><span class="lineno">11704</span>&#160; </div>
<div class="line"><a name="l11705"></a><span class="lineno">11705</span>&#160;  <span class="comment">// Check to see if we can make the LHS or RHS match.</span></div>
<div class="line"><a name="l11706"></a><span class="lineno">11706</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == FoundRHS || <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> == FoundLHS) {</div>
<div class="line"><a name="l11707"></a><span class="lineno">11707</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l11708"></a><span class="lineno">11708</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(FoundLHS, FoundRHS);</div>
<div class="line"><a name="l11709"></a><span class="lineno">11709</span>&#160;      FoundPred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(FoundPred);</div>
<div class="line"><a name="l11710"></a><span class="lineno">11710</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11711"></a><span class="lineno">11711</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l11712"></a><span class="lineno">11712</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l11713"></a><span class="lineno">11713</span>&#160;    }</div>
<div class="line"><a name="l11714"></a><span class="lineno">11714</span>&#160;  }</div>
<div class="line"><a name="l11715"></a><span class="lineno">11715</span>&#160; </div>
<div class="line"><a name="l11716"></a><span class="lineno">11716</span>&#160;  <span class="comment">// Check whether the found predicate is the same as the desired predicate.</span></div>
<div class="line"><a name="l11717"></a><span class="lineno">11717</span>&#160;  <span class="keywordflow">if</span> (FoundPred == Pred)</div>
<div class="line"><a name="l11718"></a><span class="lineno">11718</span>&#160;    <span class="keywordflow">return</span> isImpliedCondOperands(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, FoundRHS, CtxI);</div>
<div class="line"><a name="l11719"></a><span class="lineno">11719</span>&#160; </div>
<div class="line"><a name="l11720"></a><span class="lineno">11720</span>&#160;  <span class="comment">// Check whether swapping the found predicate makes it the same as the</span></div>
<div class="line"><a name="l11721"></a><span class="lineno">11721</span>&#160;  <span class="comment">// desired predicate.</span></div>
<div class="line"><a name="l11722"></a><span class="lineno">11722</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(FoundPred) == Pred) {</div>
<div class="line"><a name="l11723"></a><span class="lineno">11723</span>&#160;    <span class="comment">// We can write the implication</span></div>
<div class="line"><a name="l11724"></a><span class="lineno">11724</span>&#160;    <span class="comment">// 0.  LHS Pred      RHS  &lt;-   FoundLHS SwapPred  FoundRHS</span></div>
<div class="line"><a name="l11725"></a><span class="lineno">11725</span>&#160;    <span class="comment">// using one of the following ways:</span></div>
<div class="line"><a name="l11726"></a><span class="lineno">11726</span>&#160;    <span class="comment">// 1.  LHS Pred      RHS  &lt;-   FoundRHS Pred      FoundLHS</span></div>
<div class="line"><a name="l11727"></a><span class="lineno">11727</span>&#160;    <span class="comment">// 2.  RHS SwapPred  LHS  &lt;-   FoundLHS SwapPred  FoundRHS</span></div>
<div class="line"><a name="l11728"></a><span class="lineno">11728</span>&#160;    <span class="comment">// 3.  LHS Pred      RHS  &lt;-  ~FoundLHS Pred     ~FoundRHS</span></div>
<div class="line"><a name="l11729"></a><span class="lineno">11729</span>&#160;    <span class="comment">// 4. ~LHS SwapPred ~RHS  &lt;-   FoundLHS SwapPred  FoundRHS</span></div>
<div class="line"><a name="l11730"></a><span class="lineno">11730</span>&#160;    <span class="comment">// Forms 1. and 2. require swapping the operands of one condition. Don&#39;t</span></div>
<div class="line"><a name="l11731"></a><span class="lineno">11731</span>&#160;    <span class="comment">// do this if it would break canonical constant/addrec ordering.</span></div>
<div class="line"><a name="l11732"></a><span class="lineno">11732</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; !isa&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l11733"></a><span class="lineno">11733</span>&#160;      <span class="keywordflow">return</span> isImpliedCondOperands(FoundPred, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS, FoundRHS,</div>
<div class="line"><a name="l11734"></a><span class="lineno">11734</span>&#160;                                   CtxI);</div>
<div class="line"><a name="l11735"></a><span class="lineno">11735</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(FoundRHS) &amp;&amp; !isa&lt;SCEVAddRecExpr&gt;(FoundLHS))</div>
<div class="line"><a name="l11736"></a><span class="lineno">11736</span>&#160;      <span class="keywordflow">return</span> isImpliedCondOperands(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundRHS, FoundLHS, CtxI);</div>
<div class="line"><a name="l11737"></a><span class="lineno">11737</span>&#160; </div>
<div class="line"><a name="l11738"></a><span class="lineno">11738</span>&#160;    <span class="comment">// There&#39;s no clear preference between forms 3. and 4., try both.  Avoid</span></div>
<div class="line"><a name="l11739"></a><span class="lineno">11739</span>&#160;    <span class="comment">// forming getNotSCEV of pointer values as the resulting subtract is</span></div>
<div class="line"><a name="l11740"></a><span class="lineno">11740</span>&#160;    <span class="comment">// not legal.</span></div>
<div class="line"><a name="l11741"></a><span class="lineno">11741</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp; !<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l11742"></a><span class="lineno">11742</span>&#160;        isImpliedCondOperands(FoundPred, <a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">getNotSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), <a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">getNotSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>),</div>
<div class="line"><a name="l11743"></a><span class="lineno">11743</span>&#160;                              FoundLHS, FoundRHS, CtxI))</div>
<div class="line"><a name="l11744"></a><span class="lineno">11744</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11745"></a><span class="lineno">11745</span>&#160; </div>
<div class="line"><a name="l11746"></a><span class="lineno">11746</span>&#160;    <span class="keywordflow">if</span> (!FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l11747"></a><span class="lineno">11747</span>&#160;        !FoundRHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l11748"></a><span class="lineno">11748</span>&#160;        isImpliedCondOperands(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">getNotSCEV</a>(FoundLHS),</div>
<div class="line"><a name="l11749"></a><span class="lineno">11749</span>&#160;                              <a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">getNotSCEV</a>(FoundRHS), CtxI))</div>
<div class="line"><a name="l11750"></a><span class="lineno">11750</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11751"></a><span class="lineno">11751</span>&#160; </div>
<div class="line"><a name="l11752"></a><span class="lineno">11752</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11753"></a><span class="lineno">11753</span>&#160;  }</div>
<div class="line"><a name="l11754"></a><span class="lineno">11754</span>&#160; </div>
<div class="line"><a name="l11755"></a><span class="lineno">11755</span>&#160;  <span class="keyword">auto</span> IsSignFlippedPredicate = [](<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> P1,</div>
<div class="line"><a name="l11756"></a><span class="lineno">11756</span>&#160;                                   <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a>) {</div>
<div class="line"><a name="l11757"></a><span class="lineno">11757</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(P1 != <a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a> &amp;&amp; <span class="stringliteral">&quot;Handled earlier!&quot;</span>);</div>
<div class="line"><a name="l11758"></a><span class="lineno">11758</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CmpInst.html#af9751cf77753dd8d3bb39c0bb7a281e1">CmpInst::isRelational</a>(<a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a>) &amp;&amp;</div>
<div class="line"><a name="l11759"></a><span class="lineno">11759</span>&#160;           P1 == <a class="code" href="classllvm_1_1CmpInst.html#abbc0190ff3870af6a8b96f5d7da8be06">CmpInst::getFlippedSignednessPredicate</a>(<a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a>);</div>
<div class="line"><a name="l11760"></a><span class="lineno">11760</span>&#160;  };</div>
<div class="line"><a name="l11761"></a><span class="lineno">11761</span>&#160;  <span class="keywordflow">if</span> (IsSignFlippedPredicate(Pred, FoundPred)) {</div>
<div class="line"><a name="l11762"></a><span class="lineno">11762</span>&#160;    <span class="comment">// Unsigned comparison is the same as signed comparison when both the</span></div>
<div class="line"><a name="l11763"></a><span class="lineno">11763</span>&#160;    <span class="comment">// operands are non-negative or negative.</span></div>
<div class="line"><a name="l11764"></a><span class="lineno">11764</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(FoundLHS) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(FoundRHS)) ||</div>
<div class="line"><a name="l11765"></a><span class="lineno">11765</span>&#160;        (<a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">isKnownNegative</a>(FoundLHS) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">isKnownNegative</a>(FoundRHS)))</div>
<div class="line"><a name="l11766"></a><span class="lineno">11766</span>&#160;      <span class="keywordflow">return</span> isImpliedCondOperands(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, FoundRHS, CtxI);</div>
<div class="line"><a name="l11767"></a><span class="lineno">11767</span>&#160;    <span class="comment">// Create local copies that we can freely swap and canonicalize our</span></div>
<div class="line"><a name="l11768"></a><span class="lineno">11768</span>&#160;    <span class="comment">// conditions to &quot;le/lt&quot;.</span></div>
<div class="line"><a name="l11769"></a><span class="lineno">11769</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> CanonicalPred = Pred, CanonicalFoundPred = FoundPred;</div>
<div class="line"><a name="l11770"></a><span class="lineno">11770</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CanonicalLHS = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, *CanonicalRHS = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l11771"></a><span class="lineno">11771</span>&#160;               *CanonicalFoundLHS = FoundLHS, *CanonicalFoundRHS = FoundRHS;</div>
<div class="line"><a name="l11772"></a><span class="lineno">11772</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html#a8295e869b64b0c77ba2c917eeb5f530d">ICmpInst::isGT</a>(CanonicalPred) || <a class="code" href="classllvm_1_1ICmpInst.html#a4db9c79611d8a0a8cfad3e190b9206fc">ICmpInst::isGE</a>(CanonicalPred)) {</div>
<div class="line"><a name="l11773"></a><span class="lineno">11773</span>&#160;      CanonicalPred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(CanonicalPred);</div>
<div class="line"><a name="l11774"></a><span class="lineno">11774</span>&#160;      CanonicalFoundPred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(CanonicalFoundPred);</div>
<div class="line"><a name="l11775"></a><span class="lineno">11775</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CanonicalLHS, CanonicalRHS);</div>
<div class="line"><a name="l11776"></a><span class="lineno">11776</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CanonicalFoundLHS, CanonicalFoundRHS);</div>
<div class="line"><a name="l11777"></a><span class="lineno">11777</span>&#160;    }</div>
<div class="line"><a name="l11778"></a><span class="lineno">11778</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="classllvm_1_1ICmpInst.html#a5a5f1a2e8e2ab96bad265dfbddd41e09">ICmpInst::isLT</a>(CanonicalPred) || <a class="code" href="classllvm_1_1ICmpInst.html#afc5ae5e45df2c40564929779114e8afa">ICmpInst::isLE</a>(CanonicalPred)) &amp;&amp;</div>
<div class="line"><a name="l11779"></a><span class="lineno">11779</span>&#160;           <span class="stringliteral">&quot;Must be!&quot;</span>);</div>
<div class="line"><a name="l11780"></a><span class="lineno">11780</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="classllvm_1_1ICmpInst.html#a5a5f1a2e8e2ab96bad265dfbddd41e09">ICmpInst::isLT</a>(CanonicalFoundPred) ||</div>
<div class="line"><a name="l11781"></a><span class="lineno">11781</span>&#160;            <a class="code" href="classllvm_1_1ICmpInst.html#afc5ae5e45df2c40564929779114e8afa">ICmpInst::isLE</a>(CanonicalFoundPred)) &amp;&amp;</div>
<div class="line"><a name="l11782"></a><span class="lineno">11782</span>&#160;           <span class="stringliteral">&quot;Must be!&quot;</span>);</div>
<div class="line"><a name="l11783"></a><span class="lineno">11783</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">ICmpInst::isSigned</a>(CanonicalPred) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(CanonicalRHS))</div>
<div class="line"><a name="l11784"></a><span class="lineno">11784</span>&#160;      <span class="comment">// Use implication:</span></div>
<div class="line"><a name="l11785"></a><span class="lineno">11785</span>&#160;      <span class="comment">// x &lt;u y &amp;&amp; y &gt;=s 0 --&gt; x &lt;s y.</span></div>
<div class="line"><a name="l11786"></a><span class="lineno">11786</span>&#160;      <span class="comment">// If we can prove the left part, the right part is also proven.</span></div>
<div class="line"><a name="l11787"></a><span class="lineno">11787</span>&#160;      <span class="keywordflow">return</span> isImpliedCondOperands(CanonicalFoundPred, CanonicalLHS,</div>
<div class="line"><a name="l11788"></a><span class="lineno">11788</span>&#160;                                   CanonicalRHS, CanonicalFoundLHS,</div>
<div class="line"><a name="l11789"></a><span class="lineno">11789</span>&#160;                                   CanonicalFoundRHS);</div>
<div class="line"><a name="l11790"></a><span class="lineno">11790</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">ICmpInst::isUnsigned</a>(CanonicalPred) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">isKnownNegative</a>(CanonicalRHS))</div>
<div class="line"><a name="l11791"></a><span class="lineno">11791</span>&#160;      <span class="comment">// Use implication:</span></div>
<div class="line"><a name="l11792"></a><span class="lineno">11792</span>&#160;      <span class="comment">// x &lt;s y &amp;&amp; y &lt;s 0 --&gt; x &lt;u y.</span></div>
<div class="line"><a name="l11793"></a><span class="lineno">11793</span>&#160;      <span class="comment">// If we can prove the left part, the right part is also proven.</span></div>
<div class="line"><a name="l11794"></a><span class="lineno">11794</span>&#160;      <span class="keywordflow">return</span> isImpliedCondOperands(CanonicalFoundPred, CanonicalLHS,</div>
<div class="line"><a name="l11795"></a><span class="lineno">11795</span>&#160;                                   CanonicalRHS, CanonicalFoundLHS,</div>
<div class="line"><a name="l11796"></a><span class="lineno">11796</span>&#160;                                   CanonicalFoundRHS);</div>
<div class="line"><a name="l11797"></a><span class="lineno">11797</span>&#160;  }</div>
<div class="line"><a name="l11798"></a><span class="lineno">11798</span>&#160; </div>
<div class="line"><a name="l11799"></a><span class="lineno">11799</span>&#160;  <span class="comment">// Check if we can make progress by sharpening ranges.</span></div>
<div class="line"><a name="l11800"></a><span class="lineno">11800</span>&#160;  <span class="keywordflow">if</span> (FoundPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp;</div>
<div class="line"><a name="l11801"></a><span class="lineno">11801</span>&#160;      (isa&lt;SCEVConstant&gt;(FoundLHS) || isa&lt;SCEVConstant&gt;(FoundRHS))) {</div>
<div class="line"><a name="l11802"></a><span class="lineno">11802</span>&#160; </div>
<div class="line"><a name="l11803"></a><span class="lineno">11803</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l11804"></a><span class="lineno">11804</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l11805"></a><span class="lineno">11805</span>&#160; </div>
<div class="line"><a name="l11806"></a><span class="lineno">11806</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(FoundLHS)) {</div>
<div class="line"><a name="l11807"></a><span class="lineno">11807</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = cast&lt;SCEVConstant&gt;(FoundLHS);</div>
<div class="line"><a name="l11808"></a><span class="lineno">11808</span>&#160;      V = FoundRHS;</div>
<div class="line"><a name="l11809"></a><span class="lineno">11809</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11810"></a><span class="lineno">11810</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = cast&lt;SCEVConstant&gt;(FoundRHS);</div>
<div class="line"><a name="l11811"></a><span class="lineno">11811</span>&#160;      V = FoundLHS;</div>
<div class="line"><a name="l11812"></a><span class="lineno">11812</span>&#160;    }</div>
<div class="line"><a name="l11813"></a><span class="lineno">11813</span>&#160; </div>
<div class="line"><a name="l11814"></a><span class="lineno">11814</span>&#160;    <span class="comment">// The guarding predicate tells us that C != V. If the known range</span></div>
<div class="line"><a name="l11815"></a><span class="lineno">11815</span>&#160;    <span class="comment">// of V is [C, t), we can sharpen the range to [C + 1, t).  The</span></div>
<div class="line"><a name="l11816"></a><span class="lineno">11816</span>&#160;    <span class="comment">// range we consider has to correspond to same signedness as the</span></div>
<div class="line"><a name="l11817"></a><span class="lineno">11817</span>&#160;    <span class="comment">// predicate we&#39;re interested in folding.</span></div>
<div class="line"><a name="l11818"></a><span class="lineno">11818</span>&#160; </div>
<div class="line"><a name="l11819"></a><span class="lineno">11819</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Min = <a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">ICmpInst::isSigned</a>(Pred) ?</div>
<div class="line"><a name="l11820"></a><span class="lineno">11820</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(V) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(V);</div>
<div class="line"><a name="l11821"></a><span class="lineno">11821</span>&#160; </div>
<div class="line"><a name="l11822"></a><span class="lineno">11822</span>&#160;    <span class="keywordflow">if</span> (Min == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPInt()) {</div>
<div class="line"><a name="l11823"></a><span class="lineno">11823</span>&#160;      <span class="comment">// Given (V &gt;= Min &amp;&amp; V != Min) we conclude V &gt;= (Min + 1).</span></div>
<div class="line"><a name="l11824"></a><span class="lineno">11824</span>&#160;      <span class="comment">// This is true even if (Min + 1) wraps around -- in case of</span></div>
<div class="line"><a name="l11825"></a><span class="lineno">11825</span>&#160;      <span class="comment">// wraparound, (Min + 1) &lt; Min, so (V &gt;= Min =&gt; V &gt;= (Min + 1)).</span></div>
<div class="line"><a name="l11826"></a><span class="lineno">11826</span>&#160; </div>
<div class="line"><a name="l11827"></a><span class="lineno">11827</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> SharperMin = Min + 1;</div>
<div class="line"><a name="l11828"></a><span class="lineno">11828</span>&#160; </div>
<div class="line"><a name="l11829"></a><span class="lineno">11829</span>&#160;      <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l11830"></a><span class="lineno">11830</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l11831"></a><span class="lineno">11831</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l11832"></a><span class="lineno">11832</span>&#160;          <span class="comment">// We know V `Pred` SharperMin.  If this implies LHS `Pred`</span></div>
<div class="line"><a name="l11833"></a><span class="lineno">11833</span>&#160;          <span class="comment">// RHS, we&#39;re done.</span></div>
<div class="line"><a name="l11834"></a><span class="lineno">11834</span>&#160;          <span class="keywordflow">if</span> (isImpliedCondOperands(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, V, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(SharperMin),</div>
<div class="line"><a name="l11835"></a><span class="lineno">11835</span>&#160;                                    CtxI))</div>
<div class="line"><a name="l11836"></a><span class="lineno">11836</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11837"></a><span class="lineno">11837</span>&#160;          [[fallthrough]];</div>
<div class="line"><a name="l11838"></a><span class="lineno">11838</span>&#160; </div>
<div class="line"><a name="l11839"></a><span class="lineno">11839</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l11840"></a><span class="lineno">11840</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l11841"></a><span class="lineno">11841</span>&#160;          <span class="comment">// We know from the range information that (V `Pred` Min ||</span></div>
<div class="line"><a name="l11842"></a><span class="lineno">11842</span>&#160;          <span class="comment">// V == Min).  We know from the guarding condition that !(V</span></div>
<div class="line"><a name="l11843"></a><span class="lineno">11843</span>&#160;          <span class="comment">// == Min).  This gives us</span></div>
<div class="line"><a name="l11844"></a><span class="lineno">11844</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l11845"></a><span class="lineno">11845</span>&#160;          <span class="comment">//       V `Pred` Min || V == Min &amp;&amp; !(V == Min)</span></div>
<div class="line"><a name="l11846"></a><span class="lineno">11846</span>&#160;          <span class="comment">//   =&gt;  V `Pred` Min</span></div>
<div class="line"><a name="l11847"></a><span class="lineno">11847</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l11848"></a><span class="lineno">11848</span>&#160;          <span class="comment">// If V `Pred` Min implies LHS `Pred` RHS, we&#39;re done.</span></div>
<div class="line"><a name="l11849"></a><span class="lineno">11849</span>&#160; </div>
<div class="line"><a name="l11850"></a><span class="lineno">11850</span>&#160;          <span class="keywordflow">if</span> (isImpliedCondOperands(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, V, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Min), CtxI))</div>
<div class="line"><a name="l11851"></a><span class="lineno">11851</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11852"></a><span class="lineno">11852</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11853"></a><span class="lineno">11853</span>&#160; </div>
<div class="line"><a name="l11854"></a><span class="lineno">11854</span>&#160;        <span class="comment">// `LHS &lt; RHS` and `LHS &lt;= RHS` are handled in the same way as `RHS &gt; LHS` and `RHS &gt;= LHS` respectively.</span></div>
<div class="line"><a name="l11855"></a><span class="lineno">11855</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l11856"></a><span class="lineno">11856</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l11857"></a><span class="lineno">11857</span>&#160;          <span class="keywordflow">if</span> (isImpliedCondOperands(<a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l11858"></a><span class="lineno">11858</span>&#160;                                    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, V, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(SharperMin), CtxI))</div>
<div class="line"><a name="l11859"></a><span class="lineno">11859</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11860"></a><span class="lineno">11860</span>&#160;          [[fallthrough]];</div>
<div class="line"><a name="l11861"></a><span class="lineno">11861</span>&#160; </div>
<div class="line"><a name="l11862"></a><span class="lineno">11862</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l11863"></a><span class="lineno">11863</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l11864"></a><span class="lineno">11864</span>&#160;          <span class="keywordflow">if</span> (isImpliedCondOperands(<a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l11865"></a><span class="lineno">11865</span>&#160;                                    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, V, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Min), CtxI))</div>
<div class="line"><a name="l11866"></a><span class="lineno">11866</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11867"></a><span class="lineno">11867</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11868"></a><span class="lineno">11868</span>&#160; </div>
<div class="line"><a name="l11869"></a><span class="lineno">11869</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l11870"></a><span class="lineno">11870</span>&#160;          <span class="comment">// No change</span></div>
<div class="line"><a name="l11871"></a><span class="lineno">11871</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11872"></a><span class="lineno">11872</span>&#160;      }</div>
<div class="line"><a name="l11873"></a><span class="lineno">11873</span>&#160;    }</div>
<div class="line"><a name="l11874"></a><span class="lineno">11874</span>&#160;  }</div>
<div class="line"><a name="l11875"></a><span class="lineno">11875</span>&#160; </div>
<div class="line"><a name="l11876"></a><span class="lineno">11876</span>&#160;  <span class="comment">// Check whether the actual condition is beyond sufficient.</span></div>
<div class="line"><a name="l11877"></a><span class="lineno">11877</span>&#160;  <span class="keywordflow">if</span> (FoundPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l11878"></a><span class="lineno">11878</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">ICmpInst::isTrueWhenEqual</a>(Pred))</div>
<div class="line"><a name="l11879"></a><span class="lineno">11879</span>&#160;      <span class="keywordflow">if</span> (isImpliedCondOperands(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, FoundRHS, CtxI))</div>
<div class="line"><a name="l11880"></a><span class="lineno">11880</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11881"></a><span class="lineno">11881</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>)</div>
<div class="line"><a name="l11882"></a><span class="lineno">11882</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">ICmpInst::isTrueWhenEqual</a>(FoundPred))</div>
<div class="line"><a name="l11883"></a><span class="lineno">11883</span>&#160;      <span class="keywordflow">if</span> (isImpliedCondOperands(FoundPred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, FoundRHS, CtxI))</div>
<div class="line"><a name="l11884"></a><span class="lineno">11884</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11885"></a><span class="lineno">11885</span>&#160; </div>
<div class="line"><a name="l11886"></a><span class="lineno">11886</span>&#160;  <span class="comment">// Otherwise assume the worst.</span></div>
<div class="line"><a name="l11887"></a><span class="lineno">11887</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11888"></a><span class="lineno">11888</span>&#160;}</div>
<div class="line"><a name="l11889"></a><span class="lineno">11889</span>&#160; </div>
<div class="line"><a name="l11890"></a><span class="lineno">11890</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::splitBinaryAdd(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr,</div>
<div class="line"><a name="l11891"></a><span class="lineno">11891</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;L, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;R,</div>
<div class="line"><a name="l11892"></a><span class="lineno">11892</span>&#160;                                     <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> &amp;Flags) {</div>
<div class="line"><a name="l11893"></a><span class="lineno">11893</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *AE = dyn_cast&lt;SCEVAddExpr&gt;(Expr);</div>
<div class="line"><a name="l11894"></a><span class="lineno">11894</span>&#160;  <span class="keywordflow">if</span> (!AE || AE-&gt;getNumOperands() != 2)</div>
<div class="line"><a name="l11895"></a><span class="lineno">11895</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11896"></a><span class="lineno">11896</span>&#160; </div>
<div class="line"><a name="l11897"></a><span class="lineno">11897</span>&#160;  L = AE-&gt;getOperand(0);</div>
<div class="line"><a name="l11898"></a><span class="lineno">11898</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = AE-&gt;getOperand(1);</div>
<div class="line"><a name="l11899"></a><span class="lineno">11899</span>&#160;  <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = AE-&gt;getNoWrapFlags();</div>
<div class="line"><a name="l11900"></a><span class="lineno">11900</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11901"></a><span class="lineno">11901</span>&#160;}</div>
<div class="line"><a name="l11902"></a><span class="lineno">11902</span>&#160; </div>
<div class="line"><a name="l11903"></a><span class="lineno">11903</span>&#160;std::optional&lt;APInt&gt;</div>
<div class="line"><a name="l11904"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae0ca564918ec63a9b4d2229374fec747">11904</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#ae0ca564918ec63a9b4d2229374fec747">ScalarEvolution::computeConstantDifference</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *More, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">Less</a>) {</div>
<div class="line"><a name="l11905"></a><span class="lineno">11905</span>&#160;  <span class="comment">// We avoid subtracting expressions here because this function is usually</span></div>
<div class="line"><a name="l11906"></a><span class="lineno">11906</span>&#160;  <span class="comment">// fairly deep in the call stack (i.e. is called many times).</span></div>
<div class="line"><a name="l11907"></a><span class="lineno">11907</span>&#160; </div>
<div class="line"><a name="l11908"></a><span class="lineno">11908</span>&#160;  <span class="comment">// X - X = 0.</span></div>
<div class="line"><a name="l11909"></a><span class="lineno">11909</span>&#160;  <span class="keywordflow">if</span> (More == <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">Less</a>)</div>
<div class="line"><a name="l11910"></a><span class="lineno">11910</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(More-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()), 0);</div>
<div class="line"><a name="l11911"></a><span class="lineno">11911</span>&#160; </div>
<div class="line"><a name="l11912"></a><span class="lineno">11912</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVAddRecExpr&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">Less</a>) &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(More)) {</div>
<div class="line"><a name="l11913"></a><span class="lineno">11913</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *LAR = cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">Less</a>);</div>
<div class="line"><a name="l11914"></a><span class="lineno">11914</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *MAR = cast&lt;SCEVAddRecExpr&gt;(More);</div>
<div class="line"><a name="l11915"></a><span class="lineno">11915</span>&#160; </div>
<div class="line"><a name="l11916"></a><span class="lineno">11916</span>&#160;    <span class="keywordflow">if</span> (LAR-&gt;getLoop() != MAR-&gt;getLoop())</div>
<div class="line"><a name="l11917"></a><span class="lineno">11917</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11918"></a><span class="lineno">11918</span>&#160; </div>
<div class="line"><a name="l11919"></a><span class="lineno">11919</span>&#160;    <span class="comment">// We look at affine expressions only; not for correctness but to keep</span></div>
<div class="line"><a name="l11920"></a><span class="lineno">11920</span>&#160;    <span class="comment">// getStepRecurrence cheap.</span></div>
<div class="line"><a name="l11921"></a><span class="lineno">11921</span>&#160;    <span class="keywordflow">if</span> (!LAR-&gt;isAffine() || !MAR-&gt;isAffine())</div>
<div class="line"><a name="l11922"></a><span class="lineno">11922</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11923"></a><span class="lineno">11923</span>&#160; </div>
<div class="line"><a name="l11924"></a><span class="lineno">11924</span>&#160;    <span class="keywordflow">if</span> (LAR-&gt;getStepRecurrence(*<span class="keyword">this</span>) != MAR-&gt;getStepRecurrence(*<span class="keyword">this</span>))</div>
<div class="line"><a name="l11925"></a><span class="lineno">11925</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11926"></a><span class="lineno">11926</span>&#160; </div>
<div class="line"><a name="l11927"></a><span class="lineno">11927</span>&#160;    <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">Less</a> = LAR-&gt;getStart();</div>
<div class="line"><a name="l11928"></a><span class="lineno">11928</span>&#160;    More = MAR-&gt;getStart();</div>
<div class="line"><a name="l11929"></a><span class="lineno">11929</span>&#160; </div>
<div class="line"><a name="l11930"></a><span class="lineno">11930</span>&#160;    <span class="comment">// fall through</span></div>
<div class="line"><a name="l11931"></a><span class="lineno">11931</span>&#160;  }</div>
<div class="line"><a name="l11932"></a><span class="lineno">11932</span>&#160; </div>
<div class="line"><a name="l11933"></a><span class="lineno">11933</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">Less</a>) &amp;&amp; isa&lt;SCEVConstant&gt;(More)) {</div>
<div class="line"><a name="l11934"></a><span class="lineno">11934</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = cast&lt;SCEVConstant&gt;(More)-&gt;getAPInt();</div>
<div class="line"><a name="l11935"></a><span class="lineno">11935</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;L = cast&lt;SCEVConstant&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">Less</a>)-&gt;getAPInt();</div>
<div class="line"><a name="l11936"></a><span class="lineno">11936</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> - L;</div>
<div class="line"><a name="l11937"></a><span class="lineno">11937</span>&#160;  }</div>
<div class="line"><a name="l11938"></a><span class="lineno">11938</span>&#160; </div>
<div class="line"><a name="l11939"></a><span class="lineno">11939</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Flags;</div>
<div class="line"><a name="l11940"></a><span class="lineno">11940</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LLess = <span class="keyword">nullptr</span>, *RLess = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l11941"></a><span class="lineno">11941</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LMore = <span class="keyword">nullptr</span>, *RMore = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l11942"></a><span class="lineno">11942</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <span class="keyword">nullptr</span>, *C2 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l11943"></a><span class="lineno">11943</span>&#160;  <span class="comment">// Compare (X + C1) vs X.</span></div>
<div class="line"><a name="l11944"></a><span class="lineno">11944</span>&#160;  <span class="keywordflow">if</span> (splitBinaryAdd(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">Less</a>, LLess, RLess, Flags))</div>
<div class="line"><a name="l11945"></a><span class="lineno">11945</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = dyn_cast&lt;SCEVConstant&gt;(LLess)))</div>
<div class="line"><a name="l11946"></a><span class="lineno">11946</span>&#160;      <span class="keywordflow">if</span> (RLess == More)</div>
<div class="line"><a name="l11947"></a><span class="lineno">11947</span>&#160;        <span class="keywordflow">return</span> -(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getAPInt());</div>
<div class="line"><a name="l11948"></a><span class="lineno">11948</span>&#160; </div>
<div class="line"><a name="l11949"></a><span class="lineno">11949</span>&#160;  <span class="comment">// Compare X vs (X + C2).</span></div>
<div class="line"><a name="l11950"></a><span class="lineno">11950</span>&#160;  <span class="keywordflow">if</span> (splitBinaryAdd(More, LMore, RMore, Flags))</div>
<div class="line"><a name="l11951"></a><span class="lineno">11951</span>&#160;    <span class="keywordflow">if</span> ((C2 = dyn_cast&lt;SCEVConstant&gt;(LMore)))</div>
<div class="line"><a name="l11952"></a><span class="lineno">11952</span>&#160;      <span class="keywordflow">if</span> (RMore == <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">Less</a>)</div>
<div class="line"><a name="l11953"></a><span class="lineno">11953</span>&#160;        <span class="keywordflow">return</span> C2-&gt;getAPInt();</div>
<div class="line"><a name="l11954"></a><span class="lineno">11954</span>&#160; </div>
<div class="line"><a name="l11955"></a><span class="lineno">11955</span>&#160;  <span class="comment">// Compare (X + C1) vs (X + C2).</span></div>
<div class="line"><a name="l11956"></a><span class="lineno">11956</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> &amp;&amp; C2 &amp;&amp; RLess == RMore)</div>
<div class="line"><a name="l11957"></a><span class="lineno">11957</span>&#160;    <span class="keywordflow">return</span> C2-&gt;getAPInt() - <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getAPInt();</div>
<div class="line"><a name="l11958"></a><span class="lineno">11958</span>&#160; </div>
<div class="line"><a name="l11959"></a><span class="lineno">11959</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l11960"></a><span class="lineno">11960</span>&#160;}</div>
<div class="line"><a name="l11961"></a><span class="lineno">11961</span>&#160; </div>
<div class="line"><a name="l11962"></a><span class="lineno">11962</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedCondOperandsViaAddRecStart(</div>
<div class="line"><a name="l11963"></a><span class="lineno">11963</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l11964"></a><span class="lineno">11964</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI) {</div>
<div class="line"><a name="l11965"></a><span class="lineno">11965</span>&#160;  <span class="comment">// Try to recognize the following pattern:</span></div>
<div class="line"><a name="l11966"></a><span class="lineno">11966</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l11967"></a><span class="lineno">11967</span>&#160;  <span class="comment">//   FoundRHS = ...</span></div>
<div class="line"><a name="l11968"></a><span class="lineno">11968</span>&#160;  <span class="comment">// ...</span></div>
<div class="line"><a name="l11969"></a><span class="lineno">11969</span>&#160;  <span class="comment">// loop:</span></div>
<div class="line"><a name="l11970"></a><span class="lineno">11970</span>&#160;  <span class="comment">//   FoundLHS = {Start,+,W}</span></div>
<div class="line"><a name="l11971"></a><span class="lineno">11971</span>&#160;  <span class="comment">// context_bb: // Basic block from the same loop</span></div>
<div class="line"><a name="l11972"></a><span class="lineno">11972</span>&#160;  <span class="comment">//   known(Pred, FoundLHS, FoundRHS)</span></div>
<div class="line"><a name="l11973"></a><span class="lineno">11973</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l11974"></a><span class="lineno">11974</span>&#160;  <span class="comment">// If some predicate is known in the context of a loop, it is also known on</span></div>
<div class="line"><a name="l11975"></a><span class="lineno">11975</span>&#160;  <span class="comment">// each iteration of this loop, including the first iteration. Therefore, in</span></div>
<div class="line"><a name="l11976"></a><span class="lineno">11976</span>&#160;  <span class="comment">// this case, `FoundLHS Pred FoundRHS` implies `Start Pred FoundRHS`. Try to</span></div>
<div class="line"><a name="l11977"></a><span class="lineno">11977</span>&#160;  <span class="comment">// prove the original pred using this fact.</span></div>
<div class="line"><a name="l11978"></a><span class="lineno">11978</span>&#160;  <span class="keywordflow">if</span> (!CtxI)</div>
<div class="line"><a name="l11979"></a><span class="lineno">11979</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11980"></a><span class="lineno">11980</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ContextBB = CtxI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l11981"></a><span class="lineno">11981</span>&#160;  <span class="comment">// Make sure AR varies in the context block.</span></div>
<div class="line"><a name="l11982"></a><span class="lineno">11982</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(FoundLHS)) {</div>
<div class="line"><a name="l11983"></a><span class="lineno">11983</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>();</div>
<div class="line"><a name="l11984"></a><span class="lineno">11984</span>&#160;    <span class="comment">// Make sure that context belongs to the loop and executes on 1st iteration</span></div>
<div class="line"><a name="l11985"></a><span class="lineno">11985</span>&#160;    <span class="comment">// (if it ever executes at all).</span></div>
<div class="line"><a name="l11986"></a><span class="lineno">11986</span>&#160;    <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(ContextBB) || !DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(ContextBB, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>()))</div>
<div class="line"><a name="l11987"></a><span class="lineno">11987</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11988"></a><span class="lineno">11988</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(FoundRHS, AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()))</div>
<div class="line"><a name="l11989"></a><span class="lineno">11989</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11990"></a><span class="lineno">11990</span>&#160;    <span class="keywordflow">return</span> isImpliedCondOperands(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(), FoundRHS);</div>
<div class="line"><a name="l11991"></a><span class="lineno">11991</span>&#160;  }</div>
<div class="line"><a name="l11992"></a><span class="lineno">11992</span>&#160; </div>
<div class="line"><a name="l11993"></a><span class="lineno">11993</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(FoundRHS)) {</div>
<div class="line"><a name="l11994"></a><span class="lineno">11994</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>();</div>
<div class="line"><a name="l11995"></a><span class="lineno">11995</span>&#160;    <span class="comment">// Make sure that context belongs to the loop and executes on 1st iteration</span></div>
<div class="line"><a name="l11996"></a><span class="lineno">11996</span>&#160;    <span class="comment">// (if it ever executes at all).</span></div>
<div class="line"><a name="l11997"></a><span class="lineno">11997</span>&#160;    <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(ContextBB) || !DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(ContextBB, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>()))</div>
<div class="line"><a name="l11998"></a><span class="lineno">11998</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11999"></a><span class="lineno">11999</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(FoundLHS, AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()))</div>
<div class="line"><a name="l12000"></a><span class="lineno">12000</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12001"></a><span class="lineno">12001</span>&#160;    <span class="keywordflow">return</span> isImpliedCondOperands(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>());</div>
<div class="line"><a name="l12002"></a><span class="lineno">12002</span>&#160;  }</div>
<div class="line"><a name="l12003"></a><span class="lineno">12003</span>&#160; </div>
<div class="line"><a name="l12004"></a><span class="lineno">12004</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12005"></a><span class="lineno">12005</span>&#160;}</div>
<div class="line"><a name="l12006"></a><span class="lineno">12006</span>&#160; </div>
<div class="line"><a name="l12007"></a><span class="lineno">12007</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedCondOperandsViaNoOverflow(</div>
<div class="line"><a name="l12008"></a><span class="lineno">12008</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l12009"></a><span class="lineno">12009</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS) {</div>
<div class="line"><a name="l12010"></a><span class="lineno">12010</span>&#160;  <span class="keywordflow">if</span> (Pred != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a> &amp;&amp; Pred != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>)</div>
<div class="line"><a name="l12011"></a><span class="lineno">12011</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12012"></a><span class="lineno">12012</span>&#160; </div>
<div class="line"><a name="l12013"></a><span class="lineno">12013</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *AddRecLHS = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l12014"></a><span class="lineno">12014</span>&#160;  <span class="keywordflow">if</span> (!AddRecLHS)</div>
<div class="line"><a name="l12015"></a><span class="lineno">12015</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12016"></a><span class="lineno">12016</span>&#160; </div>
<div class="line"><a name="l12017"></a><span class="lineno">12017</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *AddRecFoundLHS = dyn_cast&lt;SCEVAddRecExpr&gt;(FoundLHS);</div>
<div class="line"><a name="l12018"></a><span class="lineno">12018</span>&#160;  <span class="keywordflow">if</span> (!AddRecFoundLHS)</div>
<div class="line"><a name="l12019"></a><span class="lineno">12019</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12020"></a><span class="lineno">12020</span>&#160; </div>
<div class="line"><a name="l12021"></a><span class="lineno">12021</span>&#160;  <span class="comment">// We&#39;d like to let SCEV reason about control dependencies, so we constrain</span></div>
<div class="line"><a name="l12022"></a><span class="lineno">12022</span>&#160;  <span class="comment">// both the inequalities to be about add recurrences on the same loop.  This</span></div>
<div class="line"><a name="l12023"></a><span class="lineno">12023</span>&#160;  <span class="comment">// way we can use isLoopEntryGuardedByCond later.</span></div>
<div class="line"><a name="l12024"></a><span class="lineno">12024</span>&#160; </div>
<div class="line"><a name="l12025"></a><span class="lineno">12025</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AddRecFoundLHS-&gt;getLoop();</div>
<div class="line"><a name="l12026"></a><span class="lineno">12026</span>&#160;  <span class="keywordflow">if</span> (L != AddRecLHS-&gt;getLoop())</div>
<div class="line"><a name="l12027"></a><span class="lineno">12027</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12028"></a><span class="lineno">12028</span>&#160; </div>
<div class="line"><a name="l12029"></a><span class="lineno">12029</span>&#160;  <span class="comment">//  FoundLHS u&lt; FoundRHS u&lt; -C =&gt;  (FoundLHS + C) u&lt; (FoundRHS + C) ... (1)</span></div>
<div class="line"><a name="l12030"></a><span class="lineno">12030</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l12031"></a><span class="lineno">12031</span>&#160;  <span class="comment">//  FoundLHS s&lt; FoundRHS s&lt; INT_MIN - C =&gt; (FoundLHS + C) s&lt; (FoundRHS + C)</span></div>
<div class="line"><a name="l12032"></a><span class="lineno">12032</span>&#160;  <span class="comment">//                                                                  ... (2)</span></div>
<div class="line"><a name="l12033"></a><span class="lineno">12033</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l12034"></a><span class="lineno">12034</span>&#160;  <span class="comment">// Informal proof for (2), assuming (1) [*]:</span></div>
<div class="line"><a name="l12035"></a><span class="lineno">12035</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l12036"></a><span class="lineno">12036</span>&#160;  <span class="comment">// We&#39;ll also assume (A s&lt; B) &lt;=&gt; ((A + INT_MIN) u&lt; (B + INT_MIN)) ... (3)[**]</span></div>
<div class="line"><a name="l12037"></a><span class="lineno">12037</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l12038"></a><span class="lineno">12038</span>&#160;  <span class="comment">// Then</span></div>
<div class="line"><a name="l12039"></a><span class="lineno">12039</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l12040"></a><span class="lineno">12040</span>&#160;  <span class="comment">//       FoundLHS s&lt; FoundRHS s&lt; INT_MIN - C</span></div>
<div class="line"><a name="l12041"></a><span class="lineno">12041</span>&#160;  <span class="comment">// &lt;=&gt;  (FoundLHS + INT_MIN) u&lt; (FoundRHS + INT_MIN) u&lt; -C   [ using (3) ]</span></div>
<div class="line"><a name="l12042"></a><span class="lineno">12042</span>&#160;  <span class="comment">// &lt;=&gt;  (FoundLHS + INT_MIN + C) u&lt; (FoundRHS + INT_MIN + C) [ using (1) ]</span></div>
<div class="line"><a name="l12043"></a><span class="lineno">12043</span>&#160;  <span class="comment">// &lt;=&gt;  (FoundLHS + INT_MIN + C + INT_MIN) s&lt;</span></div>
<div class="line"><a name="l12044"></a><span class="lineno">12044</span>&#160;  <span class="comment">//                        (FoundRHS + INT_MIN + C + INT_MIN) [ using (3) ]</span></div>
<div class="line"><a name="l12045"></a><span class="lineno">12045</span>&#160;  <span class="comment">// &lt;=&gt;  FoundLHS + C s&lt; FoundRHS + C</span></div>
<div class="line"><a name="l12046"></a><span class="lineno">12046</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l12047"></a><span class="lineno">12047</span>&#160;  <span class="comment">// [*]: (1) can be proved by ruling out overflow.</span></div>
<div class="line"><a name="l12048"></a><span class="lineno">12048</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l12049"></a><span class="lineno">12049</span>&#160;  <span class="comment">// [**]: This can be proved by analyzing all the four possibilities:</span></div>
<div class="line"><a name="l12050"></a><span class="lineno">12050</span>&#160;  <span class="comment">//    (A s&lt; 0, B s&lt; 0), (A s&lt; 0, B s&gt;= 0), (A s&gt;= 0, B s&lt; 0) and</span></div>
<div class="line"><a name="l12051"></a><span class="lineno">12051</span>&#160;  <span class="comment">//    (A s&gt;= 0, B s&gt;= 0).</span></div>
<div class="line"><a name="l12052"></a><span class="lineno">12052</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l12053"></a><span class="lineno">12053</span>&#160;  <span class="comment">// Note:</span></div>
<div class="line"><a name="l12054"></a><span class="lineno">12054</span>&#160;  <span class="comment">// Despite (2), &quot;FoundRHS s&lt; INT_MIN - C&quot; does not mean that &quot;FoundRHS + C&quot;</span></div>
<div class="line"><a name="l12055"></a><span class="lineno">12055</span>&#160;  <span class="comment">// will not sign underflow.  For instance, say FoundLHS = (i8 -128), FoundRHS</span></div>
<div class="line"><a name="l12056"></a><span class="lineno">12056</span>&#160;  <span class="comment">// = (i8 -127) and C = (i8 -100).  Then INT_MIN - C = (i8 -28), and FoundRHS</span></div>
<div class="line"><a name="l12057"></a><span class="lineno">12057</span>&#160;  <span class="comment">// s&lt; (INT_MIN - C).  Lack of sign overflow / underflow in &quot;FoundRHS + C&quot; is</span></div>
<div class="line"><a name="l12058"></a><span class="lineno">12058</span>&#160;  <span class="comment">// neither necessary nor sufficient to prove &quot;(FoundLHS + C) s&lt; (FoundRHS +</span></div>
<div class="line"><a name="l12059"></a><span class="lineno">12059</span>&#160;  <span class="comment">// C)&quot;.</span></div>
<div class="line"><a name="l12060"></a><span class="lineno">12060</span>&#160; </div>
<div class="line"><a name="l12061"></a><span class="lineno">12061</span>&#160;  std::optional&lt;APInt&gt; LDiff = <a class="code" href="classllvm_1_1ScalarEvolution.html#ae0ca564918ec63a9b4d2229374fec747">computeConstantDifference</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS);</div>
<div class="line"><a name="l12062"></a><span class="lineno">12062</span>&#160;  std::optional&lt;APInt&gt; RDiff = <a class="code" href="classllvm_1_1ScalarEvolution.html#ae0ca564918ec63a9b4d2229374fec747">computeConstantDifference</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundRHS);</div>
<div class="line"><a name="l12063"></a><span class="lineno">12063</span>&#160;  <span class="keywordflow">if</span> (!LDiff || !RDiff || *LDiff != *RDiff)</div>
<div class="line"><a name="l12064"></a><span class="lineno">12064</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12065"></a><span class="lineno">12065</span>&#160; </div>
<div class="line"><a name="l12066"></a><span class="lineno">12066</span>&#160;  <span class="keywordflow">if</span> (LDiff-&gt;isMinValue())</div>
<div class="line"><a name="l12067"></a><span class="lineno">12067</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12068"></a><span class="lineno">12068</span>&#160; </div>
<div class="line"><a name="l12069"></a><span class="lineno">12069</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> FoundRHSLimit;</div>
<div class="line"><a name="l12070"></a><span class="lineno">12070</span>&#160; </div>
<div class="line"><a name="l12071"></a><span class="lineno">12071</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>) {</div>
<div class="line"><a name="l12072"></a><span class="lineno">12072</span>&#160;    FoundRHSLimit = -(*RDiff);</div>
<div class="line"><a name="l12073"></a><span class="lineno">12073</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12074"></a><span class="lineno">12074</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a> &amp;&amp; <span class="stringliteral">&quot;Checked above!&quot;</span>);</div>
<div class="line"><a name="l12075"></a><span class="lineno">12075</span>&#160;    FoundRHSLimit = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())) - *RDiff;</div>
<div class="line"><a name="l12076"></a><span class="lineno">12076</span>&#160;  }</div>
<div class="line"><a name="l12077"></a><span class="lineno">12077</span>&#160; </div>
<div class="line"><a name="l12078"></a><span class="lineno">12078</span>&#160;  <span class="comment">// Try to prove (1) or (2), as needed.</span></div>
<div class="line"><a name="l12079"></a><span class="lineno">12079</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(FoundRHS, L) &amp;&amp;</div>
<div class="line"><a name="l12080"></a><span class="lineno">12080</span>&#160;         <a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, Pred, FoundRHS,</div>
<div class="line"><a name="l12081"></a><span class="lineno">12081</span>&#160;                                  <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(FoundRHSLimit));</div>
<div class="line"><a name="l12082"></a><span class="lineno">12082</span>&#160;}</div>
<div class="line"><a name="l12083"></a><span class="lineno">12083</span>&#160; </div>
<div class="line"><a name="l12084"></a><span class="lineno">12084</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedViaMerge(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12085"></a><span class="lineno">12085</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l12086"></a><span class="lineno">12086</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS,</div>
<div class="line"><a name="l12087"></a><span class="lineno">12087</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l12088"></a><span class="lineno">12088</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *LPhi = <span class="keyword">nullptr</span>, *RPhi = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l12089"></a><span class="lineno">12089</span>&#160; </div>
<div class="line"><a name="l12090"></a><span class="lineno">12090</span>&#160;  <span class="keyword">auto</span> ClearOnExit = <a class="code" href="namespacellvm.html#ab2e3dbebd68e69d77c227682fc8e3ba2">make_scope_exit</a>([&amp;]() {</div>
<div class="line"><a name="l12091"></a><span class="lineno">12091</span>&#160;    <span class="keywordflow">if</span> (LPhi) {</div>
<div class="line"><a name="l12092"></a><span class="lineno">12092</span>&#160;      <span class="keywordtype">bool</span> Erased = PendingMerges.erase(LPhi);</div>
<div class="line"><a name="l12093"></a><span class="lineno">12093</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Erased &amp;&amp; <span class="stringliteral">&quot;Failed to erase LPhi!&quot;</span>);</div>
<div class="line"><a name="l12094"></a><span class="lineno">12094</span>&#160;      (void)Erased;</div>
<div class="line"><a name="l12095"></a><span class="lineno">12095</span>&#160;    }</div>
<div class="line"><a name="l12096"></a><span class="lineno">12096</span>&#160;    <span class="keywordflow">if</span> (RPhi) {</div>
<div class="line"><a name="l12097"></a><span class="lineno">12097</span>&#160;      <span class="keywordtype">bool</span> Erased = PendingMerges.erase(RPhi);</div>
<div class="line"><a name="l12098"></a><span class="lineno">12098</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Erased &amp;&amp; <span class="stringliteral">&quot;Failed to erase RPhi!&quot;</span>);</div>
<div class="line"><a name="l12099"></a><span class="lineno">12099</span>&#160;      (void)Erased;</div>
<div class="line"><a name="l12100"></a><span class="lineno">12100</span>&#160;    }</div>
<div class="line"><a name="l12101"></a><span class="lineno">12101</span>&#160;  });</div>
<div class="line"><a name="l12102"></a><span class="lineno">12102</span>&#160; </div>
<div class="line"><a name="l12103"></a><span class="lineno">12103</span>&#160;  <span class="comment">// Find respective Phis and check that they are not being pending.</span></div>
<div class="line"><a name="l12104"></a><span class="lineno">12104</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *LU = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l12105"></a><span class="lineno">12105</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Phi = dyn_cast&lt;PHINode&gt;(LU-&gt;getValue())) {</div>
<div class="line"><a name="l12106"></a><span class="lineno">12106</span>&#160;      <span class="keywordflow">if</span> (!PendingMerges.insert(Phi).second)</div>
<div class="line"><a name="l12107"></a><span class="lineno">12107</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12108"></a><span class="lineno">12108</span>&#160;      LPhi = Phi;</div>
<div class="line"><a name="l12109"></a><span class="lineno">12109</span>&#160;    }</div>
<div class="line"><a name="l12110"></a><span class="lineno">12110</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *RU = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l12111"></a><span class="lineno">12111</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Phi = dyn_cast&lt;PHINode&gt;(RU-&gt;getValue())) {</div>
<div class="line"><a name="l12112"></a><span class="lineno">12112</span>&#160;      <span class="comment">// If we detect a loop of Phi nodes being processed by this method, for</span></div>
<div class="line"><a name="l12113"></a><span class="lineno">12113</span>&#160;      <span class="comment">// example:</span></div>
<div class="line"><a name="l12114"></a><span class="lineno">12114</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l12115"></a><span class="lineno">12115</span>&#160;      <span class="comment">//   %a = phi i32 [ %some1, %preheader ], [ %b, %latch ]</span></div>
<div class="line"><a name="l12116"></a><span class="lineno">12116</span>&#160;      <span class="comment">//   %b = phi i32 [ %some2, %preheader ], [ %a, %latch ]</span></div>
<div class="line"><a name="l12117"></a><span class="lineno">12117</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l12118"></a><span class="lineno">12118</span>&#160;      <span class="comment">// we don&#39;t want to deal with a case that complex, so return conservative</span></div>
<div class="line"><a name="l12119"></a><span class="lineno">12119</span>&#160;      <span class="comment">// answer false.</span></div>
<div class="line"><a name="l12120"></a><span class="lineno">12120</span>&#160;      <span class="keywordflow">if</span> (!PendingMerges.insert(Phi).second)</div>
<div class="line"><a name="l12121"></a><span class="lineno">12121</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12122"></a><span class="lineno">12122</span>&#160;      RPhi = Phi;</div>
<div class="line"><a name="l12123"></a><span class="lineno">12123</span>&#160;    }</div>
<div class="line"><a name="l12124"></a><span class="lineno">12124</span>&#160; </div>
<div class="line"><a name="l12125"></a><span class="lineno">12125</span>&#160;  <span class="comment">// If none of LHS, RHS is a Phi, nothing to do here.</span></div>
<div class="line"><a name="l12126"></a><span class="lineno">12126</span>&#160;  <span class="keywordflow">if</span> (!LPhi &amp;&amp; !RPhi)</div>
<div class="line"><a name="l12127"></a><span class="lineno">12127</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12128"></a><span class="lineno">12128</span>&#160; </div>
<div class="line"><a name="l12129"></a><span class="lineno">12129</span>&#160;  <span class="comment">// If there is a SCEVUnknown Phi we are interested in, make it left.</span></div>
<div class="line"><a name="l12130"></a><span class="lineno">12130</span>&#160;  <span class="keywordflow">if</span> (!LPhi) {</div>
<div class="line"><a name="l12131"></a><span class="lineno">12131</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12132"></a><span class="lineno">12132</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(FoundLHS, FoundRHS);</div>
<div class="line"><a name="l12133"></a><span class="lineno">12133</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LPhi, RPhi);</div>
<div class="line"><a name="l12134"></a><span class="lineno">12134</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l12135"></a><span class="lineno">12135</span>&#160;  }</div>
<div class="line"><a name="l12136"></a><span class="lineno">12136</span>&#160; </div>
<div class="line"><a name="l12137"></a><span class="lineno">12137</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LPhi &amp;&amp; <span class="stringliteral">&quot;LPhi should definitely be a SCEVUnknown Phi!&quot;</span>);</div>
<div class="line"><a name="l12138"></a><span class="lineno">12138</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LBB = LPhi-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l12139"></a><span class="lineno">12139</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *RAR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12140"></a><span class="lineno">12140</span>&#160; </div>
<div class="line"><a name="l12141"></a><span class="lineno">12141</span>&#160;  <span class="keyword">auto</span> ProvedEasily = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S2) {</div>
<div class="line"><a name="l12142"></a><span class="lineno">12142</span>&#160;    <span class="keywordflow">return</span> isKnownViaNonRecursiveReasoning(Pred, S1, S2) ||</div>
<div class="line"><a name="l12143"></a><span class="lineno">12143</span>&#160;           isImpliedCondOperandsViaRanges(Pred, S1, S2, FoundLHS, FoundRHS) ||</div>
<div class="line"><a name="l12144"></a><span class="lineno">12144</span>&#160;           isImpliedViaOperations(Pred, S1, S2, FoundLHS, FoundRHS, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l12145"></a><span class="lineno">12145</span>&#160;  };</div>
<div class="line"><a name="l12146"></a><span class="lineno">12146</span>&#160; </div>
<div class="line"><a name="l12147"></a><span class="lineno">12147</span>&#160;  <span class="keywordflow">if</span> (RPhi &amp;&amp; RPhi-&gt;getParent() == LBB) {</div>
<div class="line"><a name="l12148"></a><span class="lineno">12148</span>&#160;    <span class="comment">// Case one: RHS is also a SCEVUnknown Phi from the same basic block.</span></div>
<div class="line"><a name="l12149"></a><span class="lineno">12149</span>&#160;    <span class="comment">// If we compare two Phis from the same block, and for each entry block</span></div>
<div class="line"><a name="l12150"></a><span class="lineno">12150</span>&#160;    <span class="comment">// the predicate is true for incoming values from this block, then the</span></div>
<div class="line"><a name="l12151"></a><span class="lineno">12151</span>&#160;    <span class="comment">// predicate is also true for the Phis.</span></div>
<div class="line"><a name="l12152"></a><span class="lineno">12152</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *IncBB : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(LBB)) {</div>
<div class="line"><a name="l12153"></a><span class="lineno">12153</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *L = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(LPhi-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(IncBB));</div>
<div class="line"><a name="l12154"></a><span class="lineno">12154</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(RPhi-&gt;getIncomingValueForBlock(IncBB));</div>
<div class="line"><a name="l12155"></a><span class="lineno">12155</span>&#160;      <span class="keywordflow">if</span> (!ProvedEasily(L, R))</div>
<div class="line"><a name="l12156"></a><span class="lineno">12156</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12157"></a><span class="lineno">12157</span>&#160;    }</div>
<div class="line"><a name="l12158"></a><span class="lineno">12158</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RAR &amp;&amp; RAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>() == LBB) {</div>
<div class="line"><a name="l12159"></a><span class="lineno">12159</span>&#160;    <span class="comment">// Case two: RHS is also a Phi from the same basic block, and it is an</span></div>
<div class="line"><a name="l12160"></a><span class="lineno">12160</span>&#160;    <span class="comment">// AddRec. It means that there is a loop which has both AddRec and Unknown</span></div>
<div class="line"><a name="l12161"></a><span class="lineno">12161</span>&#160;    <span class="comment">// PHIs, for it we can compare incoming values of AddRec from above the loop</span></div>
<div class="line"><a name="l12162"></a><span class="lineno">12162</span>&#160;    <span class="comment">// and latch with their respective incoming values of LPhi.</span></div>
<div class="line"><a name="l12163"></a><span class="lineno">12163</span>&#160;    <span class="comment">// TODO: Generalize to handle loops with many inputs in a header.</span></div>
<div class="line"><a name="l12164"></a><span class="lineno">12164</span>&#160;    <span class="keywordflow">if</span> (LPhi-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>() != 2) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12165"></a><span class="lineno">12165</span>&#160; </div>
<div class="line"><a name="l12166"></a><span class="lineno">12166</span>&#160;    <span class="keyword">auto</span> *RLoop = RAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>();</div>
<div class="line"><a name="l12167"></a><span class="lineno">12167</span>&#160;    <span class="keyword">auto</span> *Predecessor = RLoop-&gt;getLoopPredecessor();</div>
<div class="line"><a name="l12168"></a><span class="lineno">12168</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Predecessor &amp;&amp; <span class="stringliteral">&quot;Loop with AddRec with no predecessor?&quot;</span>);</div>
<div class="line"><a name="l12169"></a><span class="lineno">12169</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *L1 = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(LPhi-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(Predecessor));</div>
<div class="line"><a name="l12170"></a><span class="lineno">12170</span>&#160;    <span class="keywordflow">if</span> (!ProvedEasily(L1, RAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>()))</div>
<div class="line"><a name="l12171"></a><span class="lineno">12171</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12172"></a><span class="lineno">12172</span>&#160;    <span class="keyword">auto</span> *Latch = RLoop-&gt;getLoopLatch();</div>
<div class="line"><a name="l12173"></a><span class="lineno">12173</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Latch &amp;&amp; <span class="stringliteral">&quot;Loop with AddRec with no latch?&quot;</span>);</div>
<div class="line"><a name="l12174"></a><span class="lineno">12174</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#adefbb946b174533d5eb8db503b1f4ffa">L2</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(LPhi-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(Latch));</div>
<div class="line"><a name="l12175"></a><span class="lineno">12175</span>&#160;    <span class="keywordflow">if</span> (!ProvedEasily(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#adefbb946b174533d5eb8db503b1f4ffa">L2</a>, RAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a8e3dc6f52dcd0a9cf61508d5703cbe57">getPostIncExpr</a>(*<span class="keyword">this</span>)))</div>
<div class="line"><a name="l12176"></a><span class="lineno">12176</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12177"></a><span class="lineno">12177</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12178"></a><span class="lineno">12178</span>&#160;    <span class="comment">// In all other cases go over inputs of LHS and compare each of them to RHS,</span></div>
<div class="line"><a name="l12179"></a><span class="lineno">12179</span>&#160;    <span class="comment">// the predicate is true for (LHS, RHS) if it is true for all such pairs.</span></div>
<div class="line"><a name="l12180"></a><span class="lineno">12180</span>&#160;    <span class="comment">// At this point RHS is either a non-Phi, or it is a Phi from some block</span></div>
<div class="line"><a name="l12181"></a><span class="lineno">12181</span>&#160;    <span class="comment">// different from LBB.</span></div>
<div class="line"><a name="l12182"></a><span class="lineno">12182</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *IncBB : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(LBB)) {</div>
<div class="line"><a name="l12183"></a><span class="lineno">12183</span>&#160;      <span class="comment">// Check that RHS is available in this block.</span></div>
<div class="line"><a name="l12184"></a><span class="lineno">12184</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#ac7ccf429f5c75676bdacadf3c9d1c7fa">dominates</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, IncBB))</div>
<div class="line"><a name="l12185"></a><span class="lineno">12185</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12186"></a><span class="lineno">12186</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *L = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(LPhi-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(IncBB));</div>
<div class="line"><a name="l12187"></a><span class="lineno">12187</span>&#160;      <span class="comment">// Make sure L does not refer to a value from a potentially previous</span></div>
<div class="line"><a name="l12188"></a><span class="lineno">12188</span>&#160;      <span class="comment">// iteration of a loop.</span></div>
<div class="line"><a name="l12189"></a><span class="lineno">12189</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#ae0d036af111b8aafe90db0771b8e9ce3">properlyDominates</a>(L, LBB))</div>
<div class="line"><a name="l12190"></a><span class="lineno">12190</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12191"></a><span class="lineno">12191</span>&#160;      <span class="keywordflow">if</span> (!ProvedEasily(L, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l12192"></a><span class="lineno">12192</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12193"></a><span class="lineno">12193</span>&#160;    }</div>
<div class="line"><a name="l12194"></a><span class="lineno">12194</span>&#160;  }</div>
<div class="line"><a name="l12195"></a><span class="lineno">12195</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12196"></a><span class="lineno">12196</span>&#160;}</div>
<div class="line"><a name="l12197"></a><span class="lineno">12197</span>&#160; </div>
<div class="line"><a name="l12198"></a><span class="lineno">12198</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedCondOperandsViaShift(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12199"></a><span class="lineno">12199</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l12200"></a><span class="lineno">12200</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l12201"></a><span class="lineno">12201</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS,</div>
<div class="line"><a name="l12202"></a><span class="lineno">12202</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS) {</div>
<div class="line"><a name="l12203"></a><span class="lineno">12203</span>&#160;  <span class="comment">// We want to imply LHS &lt; RHS from LHS &lt; (RHS &gt;&gt; shiftvalue).  First, make</span></div>
<div class="line"><a name="l12204"></a><span class="lineno">12204</span>&#160;  <span class="comment">// sure that we are dealing with same LHS.</span></div>
<div class="line"><a name="l12205"></a><span class="lineno">12205</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> == FoundRHS) {</div>
<div class="line"><a name="l12206"></a><span class="lineno">12206</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12207"></a><span class="lineno">12207</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(FoundLHS, FoundRHS);</div>
<div class="line"><a name="l12208"></a><span class="lineno">12208</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l12209"></a><span class="lineno">12209</span>&#160;  }</div>
<div class="line"><a name="l12210"></a><span class="lineno">12210</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> != FoundLHS)</div>
<div class="line"><a name="l12211"></a><span class="lineno">12211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12212"></a><span class="lineno">12212</span>&#160; </div>
<div class="line"><a name="l12213"></a><span class="lineno">12213</span>&#160;  <span class="keyword">auto</span> *SUFoundRHS = dyn_cast&lt;SCEVUnknown&gt;(FoundRHS);</div>
<div class="line"><a name="l12214"></a><span class="lineno">12214</span>&#160;  <span class="keywordflow">if</span> (!SUFoundRHS)</div>
<div class="line"><a name="l12215"></a><span class="lineno">12215</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12216"></a><span class="lineno">12216</span>&#160; </div>
<div class="line"><a name="l12217"></a><span class="lineno">12217</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Shiftee, *ShiftValue;</div>
<div class="line"><a name="l12218"></a><span class="lineno">12218</span>&#160; </div>
<div class="line"><a name="l12219"></a><span class="lineno">12219</span>&#160;  <span class="keyword">using namespace </span>PatternMatch;</div>
<div class="line"><a name="l12220"></a><span class="lineno">12220</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(SUFoundRHS-&gt;getValue(),</div>
<div class="line"><a name="l12221"></a><span class="lineno">12221</span>&#160;            <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Shiftee), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(ShiftValue)))) {</div>
<div class="line"><a name="l12222"></a><span class="lineno">12222</span>&#160;    <span class="keyword">auto</span> *ShifteeS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(Shiftee);</div>
<div class="line"><a name="l12223"></a><span class="lineno">12223</span>&#160;    <span class="comment">// Prove one of the following:</span></div>
<div class="line"><a name="l12224"></a><span class="lineno">12224</span>&#160;    <span class="comment">// LHS &lt;u (shiftee &gt;&gt; shiftvalue) &amp;&amp; shiftee &lt;=u RHS ---&gt; LHS &lt;u RHS</span></div>
<div class="line"><a name="l12225"></a><span class="lineno">12225</span>&#160;    <span class="comment">// LHS &lt;=u (shiftee &gt;&gt; shiftvalue) &amp;&amp; shiftee &lt;=u RHS ---&gt; LHS &lt;=u RHS</span></div>
<div class="line"><a name="l12226"></a><span class="lineno">12226</span>&#160;    <span class="comment">// LHS &lt;s (shiftee &gt;&gt; shiftvalue) &amp;&amp; shiftee &lt;=s RHS &amp;&amp; shiftee &gt;=s 0</span></div>
<div class="line"><a name="l12227"></a><span class="lineno">12227</span>&#160;    <span class="comment">//   ---&gt; LHS &lt;s RHS</span></div>
<div class="line"><a name="l12228"></a><span class="lineno">12228</span>&#160;    <span class="comment">// LHS &lt;=s (shiftee &gt;&gt; shiftvalue) &amp;&amp; shiftee &lt;=s RHS &amp;&amp; shiftee &gt;=s 0</span></div>
<div class="line"><a name="l12229"></a><span class="lineno">12229</span>&#160;    <span class="comment">//   ---&gt; LHS &lt;=s RHS</span></div>
<div class="line"><a name="l12230"></a><span class="lineno">12230</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>)</div>
<div class="line"><a name="l12231"></a><span class="lineno">12231</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>, ShifteeS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12232"></a><span class="lineno">12232</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>)</div>
<div class="line"><a name="l12233"></a><span class="lineno">12233</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(ShifteeS))</div>
<div class="line"><a name="l12234"></a><span class="lineno">12234</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>, ShifteeS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12235"></a><span class="lineno">12235</span>&#160;  }</div>
<div class="line"><a name="l12236"></a><span class="lineno">12236</span>&#160; </div>
<div class="line"><a name="l12237"></a><span class="lineno">12237</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12238"></a><span class="lineno">12238</span>&#160;}</div>
<div class="line"><a name="l12239"></a><span class="lineno">12239</span>&#160; </div>
<div class="line"><a name="l12240"></a><span class="lineno">12240</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedCondOperands(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12241"></a><span class="lineno">12241</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l12242"></a><span class="lineno">12242</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS,</div>
<div class="line"><a name="l12243"></a><span class="lineno">12243</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS,</div>
<div class="line"><a name="l12244"></a><span class="lineno">12244</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CtxI) {</div>
<div class="line"><a name="l12245"></a><span class="lineno">12245</span>&#160;  <span class="keywordflow">if</span> (isImpliedCondOperandsViaRanges(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, FoundRHS))</div>
<div class="line"><a name="l12246"></a><span class="lineno">12246</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12247"></a><span class="lineno">12247</span>&#160; </div>
<div class="line"><a name="l12248"></a><span class="lineno">12248</span>&#160;  <span class="keywordflow">if</span> (isImpliedCondOperandsViaNoOverflow(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, FoundRHS))</div>
<div class="line"><a name="l12249"></a><span class="lineno">12249</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12250"></a><span class="lineno">12250</span>&#160; </div>
<div class="line"><a name="l12251"></a><span class="lineno">12251</span>&#160;  <span class="keywordflow">if</span> (isImpliedCondOperandsViaShift(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, FoundRHS))</div>
<div class="line"><a name="l12252"></a><span class="lineno">12252</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12253"></a><span class="lineno">12253</span>&#160; </div>
<div class="line"><a name="l12254"></a><span class="lineno">12254</span>&#160;  <span class="keywordflow">if</span> (isImpliedCondOperandsViaAddRecStart(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, FoundRHS,</div>
<div class="line"><a name="l12255"></a><span class="lineno">12255</span>&#160;                                          CtxI))</div>
<div class="line"><a name="l12256"></a><span class="lineno">12256</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12257"></a><span class="lineno">12257</span>&#160; </div>
<div class="line"><a name="l12258"></a><span class="lineno">12258</span>&#160;  <span class="keywordflow">return</span> isImpliedCondOperandsHelper(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l12259"></a><span class="lineno">12259</span>&#160;                                     FoundLHS, FoundRHS);</div>
<div class="line"><a name="l12260"></a><span class="lineno">12260</span>&#160;}</div>
<div class="line"><a name="l12261"></a><span class="lineno">12261</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l12262"></a><span class="lineno">12262</span>&#160;<span class="comment">/// Is MaybeMinMaxExpr an (U|S)(Min|Max) of Candidate and some other values?</span></div>
<div class="line"><a name="l12263"></a><span class="lineno">12263</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> MinMaxExprType&gt;</div>
<div class="line"><a name="l12264"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a59fcf5b90a1e31b126ee5d8a80275654">12264</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#a59fcf5b90a1e31b126ee5d8a80275654">IsMinMaxConsistingOf</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaybeMinMaxExpr,</div>
<div class="line"><a name="l12265"></a><span class="lineno">12265</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Candidate) {</div>
<div class="line"><a name="l12266"></a><span class="lineno">12266</span>&#160;  <span class="keyword">const</span> MinMaxExprType *MinMaxExpr = dyn_cast&lt;MinMaxExprType&gt;(MaybeMinMaxExpr);</div>
<div class="line"><a name="l12267"></a><span class="lineno">12267</span>&#160;  <span class="keywordflow">if</span> (!MinMaxExpr)</div>
<div class="line"><a name="l12268"></a><span class="lineno">12268</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12269"></a><span class="lineno">12269</span>&#160; </div>
<div class="line"><a name="l12270"></a><span class="lineno">12270</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(MinMaxExpr-&gt;operands(), Candidate);</div>
<div class="line"><a name="l12271"></a><span class="lineno">12271</span>&#160;}</div>
<div class="line"><a name="l12272"></a><span class="lineno">12272</span>&#160; </div>
<div class="line"><a name="l12273"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aa9da73da463d6ed62b1d24df36fac961">12273</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#aa9da73da463d6ed62b1d24df36fac961">IsKnownPredicateViaAddRecStart</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l12274"></a><span class="lineno">12274</span>&#160;                                           <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12275"></a><span class="lineno">12275</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l12276"></a><span class="lineno">12276</span>&#160;  <span class="comment">// If both sides are affine addrecs for the same loop, with equal</span></div>
<div class="line"><a name="l12277"></a><span class="lineno">12277</span>&#160;  <span class="comment">// steps, and we know the recurrences don&#39;t wrap, then we only</span></div>
<div class="line"><a name="l12278"></a><span class="lineno">12278</span>&#160;  <span class="comment">// need to check the predicate on the starting values.</span></div>
<div class="line"><a name="l12279"></a><span class="lineno">12279</span>&#160; </div>
<div class="line"><a name="l12280"></a><span class="lineno">12280</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ICmpInst.html#ae955171baab3d9254f3ffb089c082206">ICmpInst::isRelational</a>(Pred))</div>
<div class="line"><a name="l12281"></a><span class="lineno">12281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12282"></a><span class="lineno">12282</span>&#160; </div>
<div class="line"><a name="l12283"></a><span class="lineno">12283</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *LAR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l12284"></a><span class="lineno">12284</span>&#160;  <span class="keywordflow">if</span> (!LAR)</div>
<div class="line"><a name="l12285"></a><span class="lineno">12285</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12286"></a><span class="lineno">12286</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *RAR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12287"></a><span class="lineno">12287</span>&#160;  <span class="keywordflow">if</span> (!RAR)</div>
<div class="line"><a name="l12288"></a><span class="lineno">12288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12289"></a><span class="lineno">12289</span>&#160;  <span class="keywordflow">if</span> (LAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() != RAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>())</div>
<div class="line"><a name="l12290"></a><span class="lineno">12290</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12291"></a><span class="lineno">12291</span>&#160;  <span class="keywordflow">if</span> (!LAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>() || !RAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>())</div>
<div class="line"><a name="l12292"></a><span class="lineno">12292</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12293"></a><span class="lineno">12293</span>&#160; </div>
<div class="line"><a name="l12294"></a><span class="lineno">12294</span>&#160;  <span class="keywordflow">if</span> (LAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(SE) != RAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(SE))</div>
<div class="line"><a name="l12295"></a><span class="lineno">12295</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12296"></a><span class="lineno">12296</span>&#160; </div>
<div class="line"><a name="l12297"></a><span class="lineno">12297</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> NW = <a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">ICmpInst::isSigned</a>(Pred) ?</div>
<div class="line"><a name="l12298"></a><span class="lineno">12298</span>&#160;                         <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>;</div>
<div class="line"><a name="l12299"></a><span class="lineno">12299</span>&#160;  <span class="keywordflow">if</span> (!LAR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>(NW) || !RAR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>(NW))</div>
<div class="line"><a name="l12300"></a><span class="lineno">12300</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12301"></a><span class="lineno">12301</span>&#160; </div>
<div class="line"><a name="l12302"></a><span class="lineno">12302</span>&#160;  <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">isKnownPredicate</a>(Pred, LAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(), RAR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>());</div>
<div class="line"><a name="l12303"></a><span class="lineno">12303</span>&#160;}</div>
<div class="line"><a name="l12304"></a><span class="lineno">12304</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l12305"></a><span class="lineno">12305</span>&#160;<span class="comment">/// Is LHS `Pred` RHS true on the virtue of LHS or RHS being a Min or Max</span></div>
<div class="line"><a name="l12306"></a><span class="lineno">12306</span>&#160;<span class="comment">/// expression?</span></div>
<div class="line"><a name="l12307"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a23a7c6b9fe0d5ef6694bf8a5183d8a69">12307</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#a23a7c6b9fe0d5ef6694bf8a5183d8a69">IsKnownPredicateViaMinOrMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l12308"></a><span class="lineno">12308</span>&#160;                                        <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12309"></a><span class="lineno">12309</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l12310"></a><span class="lineno">12310</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l12311"></a><span class="lineno">12311</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l12312"></a><span class="lineno">12312</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12313"></a><span class="lineno">12313</span>&#160; </div>
<div class="line"><a name="l12314"></a><span class="lineno">12314</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l12315"></a><span class="lineno">12315</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12316"></a><span class="lineno">12316</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l12317"></a><span class="lineno">12317</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l12318"></a><span class="lineno">12318</span>&#160;    <span class="keywordflow">return</span></div>
<div class="line"><a name="l12319"></a><span class="lineno">12319</span>&#160;        <span class="comment">// min(A, ...) &lt;= A</span></div>
<div class="line"><a name="l12320"></a><span class="lineno">12320</span>&#160;        IsMinMaxConsistingOf&lt;SCEVSMinExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) ||</div>
<div class="line"><a name="l12321"></a><span class="lineno">12321</span>&#160;        <span class="comment">// A &lt;= max(A, ...)</span></div>
<div class="line"><a name="l12322"></a><span class="lineno">12322</span>&#160;        IsMinMaxConsistingOf&lt;SCEVSMaxExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l12323"></a><span class="lineno">12323</span>&#160; </div>
<div class="line"><a name="l12324"></a><span class="lineno">12324</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l12325"></a><span class="lineno">12325</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12326"></a><span class="lineno">12326</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l12327"></a><span class="lineno">12327</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l12328"></a><span class="lineno">12328</span>&#160;    <span class="keywordflow">return</span></div>
<div class="line"><a name="l12329"></a><span class="lineno">12329</span>&#160;        <span class="comment">// min(A, ...) &lt;= A</span></div>
<div class="line"><a name="l12330"></a><span class="lineno">12330</span>&#160;        <span class="comment">// FIXME: what about umin_seq?</span></div>
<div class="line"><a name="l12331"></a><span class="lineno">12331</span>&#160;        IsMinMaxConsistingOf&lt;SCEVUMinExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) ||</div>
<div class="line"><a name="l12332"></a><span class="lineno">12332</span>&#160;        <span class="comment">// A &lt;= max(A, ...)</span></div>
<div class="line"><a name="l12333"></a><span class="lineno">12333</span>&#160;        IsMinMaxConsistingOf&lt;SCEVUMaxExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l12334"></a><span class="lineno">12334</span>&#160;  }</div>
<div class="line"><a name="l12335"></a><span class="lineno">12335</span>&#160; </div>
<div class="line"><a name="l12336"></a><span class="lineno">12336</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;covered switch fell through?!&quot;</span>);</div>
<div class="line"><a name="l12337"></a><span class="lineno">12337</span>&#160;}</div>
<div class="line"><a name="l12338"></a><span class="lineno">12338</span>&#160; </div>
<div class="line"><a name="l12339"></a><span class="lineno">12339</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedViaOperations(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12340"></a><span class="lineno">12340</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l12341"></a><span class="lineno">12341</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS,</div>
<div class="line"><a name="l12342"></a><span class="lineno">12342</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS,</div>
<div class="line"><a name="l12343"></a><span class="lineno">12343</span>&#160;                                             <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l12344"></a><span class="lineno">12344</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) ==</div>
<div class="line"><a name="l12345"></a><span class="lineno">12345</span>&#160;             <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &amp;&amp;</div>
<div class="line"><a name="l12346"></a><span class="lineno">12346</span>&#160;         <span class="stringliteral">&quot;LHS and RHS have different sizes?&quot;</span>);</div>
<div class="line"><a name="l12347"></a><span class="lineno">12347</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()) ==</div>
<div class="line"><a name="l12348"></a><span class="lineno">12348</span>&#160;             <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(FoundRHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()) &amp;&amp;</div>
<div class="line"><a name="l12349"></a><span class="lineno">12349</span>&#160;         <span class="stringliteral">&quot;FoundLHS and FoundRHS have different sizes?&quot;</span>);</div>
<div class="line"><a name="l12350"></a><span class="lineno">12350</span>&#160;  <span class="comment">// We want to avoid hurting the compile time with analysis of too big trees.</span></div>
<div class="line"><a name="l12351"></a><span class="lineno">12351</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt; <a class="code" href="ScalarEvolution_8cpp.html#a503078dd92aea3a766cd9454ce8b501d">MaxSCEVOperationsImplicationDepth</a>)</div>
<div class="line"><a name="l12352"></a><span class="lineno">12352</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12353"></a><span class="lineno">12353</span>&#160; </div>
<div class="line"><a name="l12354"></a><span class="lineno">12354</span>&#160;  <span class="comment">// We only want to work with GT comparison so far.</span></div>
<div class="line"><a name="l12355"></a><span class="lineno">12355</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>) {</div>
<div class="line"><a name="l12356"></a><span class="lineno">12356</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l12357"></a><span class="lineno">12357</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12358"></a><span class="lineno">12358</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(FoundLHS, FoundRHS);</div>
<div class="line"><a name="l12359"></a><span class="lineno">12359</span>&#160;  }</div>
<div class="line"><a name="l12360"></a><span class="lineno">12360</span>&#160; </div>
<div class="line"><a name="l12361"></a><span class="lineno">12361</span>&#160;  <span class="comment">// For unsigned, try to reduce it to corresponding signed comparison.</span></div>
<div class="line"><a name="l12362"></a><span class="lineno">12362</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div>
<div class="line"><a name="l12363"></a><span class="lineno">12363</span>&#160;    <span class="comment">// We can replace unsigned predicate with its signed counterpart if all</span></div>
<div class="line"><a name="l12364"></a><span class="lineno">12364</span>&#160;    <span class="comment">// involved values are non-negative.</span></div>
<div class="line"><a name="l12365"></a><span class="lineno">12365</span>&#160;    <span class="comment">// TODO: We could have better support for unsigned.</span></div>
<div class="line"><a name="l12366"></a><span class="lineno">12366</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(FoundLHS) &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">isKnownNonNegative</a>(FoundRHS)) {</div>
<div class="line"><a name="l12367"></a><span class="lineno">12367</span>&#160;      <span class="comment">// Knowing that both FoundLHS and FoundRHS are non-negative, and knowing</span></div>
<div class="line"><a name="l12368"></a><span class="lineno">12368</span>&#160;      <span class="comment">// FoundLHS &gt;u FoundRHS, we also know that FoundLHS &gt;s FoundRHS. Let us</span></div>
<div class="line"><a name="l12369"></a><span class="lineno">12369</span>&#160;      <span class="comment">// use this fact to prove that LHS and RHS are non-negative.</span></div>
<div class="line"><a name="l12370"></a><span class="lineno">12370</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8b52e1d4097374216c56c6cc68c78fa8">getMinusOne</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l12371"></a><span class="lineno">12371</span>&#160;      <span class="keywordflow">if</span> (isImpliedCondOperands(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, MinusOne, FoundLHS,</div>
<div class="line"><a name="l12372"></a><span class="lineno">12372</span>&#160;                                FoundRHS) &amp;&amp;</div>
<div class="line"><a name="l12373"></a><span class="lineno">12373</span>&#160;          isImpliedCondOperands(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, MinusOne, FoundLHS,</div>
<div class="line"><a name="l12374"></a><span class="lineno">12374</span>&#160;                                FoundRHS))</div>
<div class="line"><a name="l12375"></a><span class="lineno">12375</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div>
<div class="line"><a name="l12376"></a><span class="lineno">12376</span>&#160;    }</div>
<div class="line"><a name="l12377"></a><span class="lineno">12377</span>&#160; </div>
<div class="line"><a name="l12378"></a><span class="lineno">12378</span>&#160;  <span class="keywordflow">if</span> (Pred != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>)</div>
<div class="line"><a name="l12379"></a><span class="lineno">12379</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12380"></a><span class="lineno">12380</span>&#160; </div>
<div class="line"><a name="l12381"></a><span class="lineno">12381</span>&#160;  <span class="keyword">auto</span> GetOpFromSExt = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l12382"></a><span class="lineno">12382</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba88a797f57846adb2c382b3732b471913">Ext</a> = dyn_cast&lt;SCEVSignExtendExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l12383"></a><span class="lineno">12383</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba88a797f57846adb2c382b3732b471913">Ext</a>-&gt;getOperand();</div>
<div class="line"><a name="l12384"></a><span class="lineno">12384</span>&#160;    <span class="comment">// TODO: If S is a SCEVConstant then you can cheaply &quot;strip&quot; the sext off</span></div>
<div class="line"><a name="l12385"></a><span class="lineno">12385</span>&#160;    <span class="comment">// the constant in some cases.</span></div>
<div class="line"><a name="l12386"></a><span class="lineno">12386</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l12387"></a><span class="lineno">12387</span>&#160;  };</div>
<div class="line"><a name="l12388"></a><span class="lineno">12388</span>&#160; </div>
<div class="line"><a name="l12389"></a><span class="lineno">12389</span>&#160;  <span class="comment">// Acquire values from extensions.</span></div>
<div class="line"><a name="l12390"></a><span class="lineno">12390</span>&#160;  <span class="keyword">auto</span> *OrigLHS = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l12391"></a><span class="lineno">12391</span>&#160;  <span class="keyword">auto</span> *OrigFoundLHS = FoundLHS;</div>
<div class="line"><a name="l12392"></a><span class="lineno">12392</span>&#160;  <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = GetOpFromSExt(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l12393"></a><span class="lineno">12393</span>&#160;  FoundLHS = GetOpFromSExt(FoundLHS);</div>
<div class="line"><a name="l12394"></a><span class="lineno">12394</span>&#160; </div>
<div class="line"><a name="l12395"></a><span class="lineno">12395</span>&#160;  <span class="comment">// Is the SGT predicate can be proved trivially or using the found context.</span></div>
<div class="line"><a name="l12396"></a><span class="lineno">12396</span>&#160;  <span class="keyword">auto</span> IsSGTViaContext = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S2) {</div>
<div class="line"><a name="l12397"></a><span class="lineno">12397</span>&#160;    <span class="keywordflow">return</span> isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>, S1, S2) ||</div>
<div class="line"><a name="l12398"></a><span class="lineno">12398</span>&#160;           isImpliedViaOperations(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>, S1, S2, OrigFoundLHS,</div>
<div class="line"><a name="l12399"></a><span class="lineno">12399</span>&#160;                                  FoundRHS, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1);</div>
<div class="line"><a name="l12400"></a><span class="lineno">12400</span>&#160;  };</div>
<div class="line"><a name="l12401"></a><span class="lineno">12401</span>&#160; </div>
<div class="line"><a name="l12402"></a><span class="lineno">12402</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LHSAddExpr = dyn_cast&lt;SCEVAddExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l12403"></a><span class="lineno">12403</span>&#160;    <span class="comment">// We want to avoid creation of any new non-constant SCEV. Since we are</span></div>
<div class="line"><a name="l12404"></a><span class="lineno">12404</span>&#160;    <span class="comment">// going to compare the operands to RHS, we should be certain that we don&#39;t</span></div>
<div class="line"><a name="l12405"></a><span class="lineno">12405</span>&#160;    <span class="comment">// need any size extensions for this. So let&#39;s decline all cases when the</span></div>
<div class="line"><a name="l12406"></a><span class="lineno">12406</span>&#160;    <span class="comment">// sizes of types of LHS and RHS do not match.</span></div>
<div class="line"><a name="l12407"></a><span class="lineno">12407</span>&#160;    <span class="comment">// TODO: Maybe try to get RHS from sext to catch more cases?</span></div>
<div class="line"><a name="l12408"></a><span class="lineno">12408</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) != <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l12409"></a><span class="lineno">12409</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12410"></a><span class="lineno">12410</span>&#160; </div>
<div class="line"><a name="l12411"></a><span class="lineno">12411</span>&#160;    <span class="comment">// Should not overflow.</span></div>
<div class="line"><a name="l12412"></a><span class="lineno">12412</span>&#160;    <span class="keywordflow">if</span> (!LHSAddExpr-&gt;hasNoSignedWrap())</div>
<div class="line"><a name="l12413"></a><span class="lineno">12413</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12414"></a><span class="lineno">12414</span>&#160; </div>
<div class="line"><a name="l12415"></a><span class="lineno">12415</span>&#160;    <span class="keyword">auto</span> *LL = LHSAddExpr-&gt;getOperand(0);</div>
<div class="line"><a name="l12416"></a><span class="lineno">12416</span>&#160;    <span class="keyword">auto</span> *LR = LHSAddExpr-&gt;getOperand(1);</div>
<div class="line"><a name="l12417"></a><span class="lineno">12417</span>&#160;    <span class="keyword">auto</span> *MinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8b52e1d4097374216c56c6cc68c78fa8">getMinusOne</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l12418"></a><span class="lineno">12418</span>&#160; </div>
<div class="line"><a name="l12419"></a><span class="lineno">12419</span>&#160;    <span class="comment">// Checks that S1 &gt;= 0 &amp;&amp; S2 &gt; RHS, trivially or using the found context.</span></div>
<div class="line"><a name="l12420"></a><span class="lineno">12420</span>&#160;    <span class="keyword">auto</span> IsSumGreaterThanRHS = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S2) {</div>
<div class="line"><a name="l12421"></a><span class="lineno">12421</span>&#160;      <span class="keywordflow">return</span> IsSGTViaContext(S1, MinusOne) &amp;&amp; IsSGTViaContext(S2, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12422"></a><span class="lineno">12422</span>&#160;    };</div>
<div class="line"><a name="l12423"></a><span class="lineno">12423</span>&#160;    <span class="comment">// Try to prove the following rule:</span></div>
<div class="line"><a name="l12424"></a><span class="lineno">12424</span>&#160;    <span class="comment">// (LHS = LL + LR) &amp;&amp; (LL &gt;= 0) &amp;&amp; (LR &gt; RHS) =&gt; (LHS &gt; RHS).</span></div>
<div class="line"><a name="l12425"></a><span class="lineno">12425</span>&#160;    <span class="comment">// (LHS = LL + LR) &amp;&amp; (LR &gt;= 0) &amp;&amp; (LL &gt; RHS) =&gt; (LHS &gt; RHS).</span></div>
<div class="line"><a name="l12426"></a><span class="lineno">12426</span>&#160;    <span class="keywordflow">if</span> (IsSumGreaterThanRHS(LL, LR) || IsSumGreaterThanRHS(LR, LL))</div>
<div class="line"><a name="l12427"></a><span class="lineno">12427</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12428"></a><span class="lineno">12428</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LHSUnknownExpr = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l12429"></a><span class="lineno">12429</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *LL, *LR;</div>
<div class="line"><a name="l12430"></a><span class="lineno">12430</span>&#160;    <span class="comment">// FIXME: Once we have SDiv implemented, we can get rid of this matching.</span></div>
<div class="line"><a name="l12431"></a><span class="lineno">12431</span>&#160; </div>
<div class="line"><a name="l12432"></a><span class="lineno">12432</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a>;</div>
<div class="line"><a name="l12433"></a><span class="lineno">12433</span>&#160; </div>
<div class="line"><a name="l12434"></a><span class="lineno">12434</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHSUnknownExpr-&gt;getValue(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a741e3212cc4b9d94cd549d02d26e172b">m_SDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(LL), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(LR)))) {</div>
<div class="line"><a name="l12435"></a><span class="lineno">12435</span>&#160;      <span class="comment">// Rules for division.</span></div>
<div class="line"><a name="l12436"></a><span class="lineno">12436</span>&#160;      <span class="comment">// We are going to perform some comparisons with Denominator and its</span></div>
<div class="line"><a name="l12437"></a><span class="lineno">12437</span>&#160;      <span class="comment">// derivative expressions. In general case, creating a SCEV for it may</span></div>
<div class="line"><a name="l12438"></a><span class="lineno">12438</span>&#160;      <span class="comment">// lead to a complex analysis of the entire graph, and in particular it</span></div>
<div class="line"><a name="l12439"></a><span class="lineno">12439</span>&#160;      <span class="comment">// can request trip count recalculation for the same loop. This would</span></div>
<div class="line"><a name="l12440"></a><span class="lineno">12440</span>&#160;      <span class="comment">// cache as SCEVCouldNotCompute to avoid the infinite recursion. To avoid</span></div>
<div class="line"><a name="l12441"></a><span class="lineno">12441</span>&#160;      <span class="comment">// this, we only want to create SCEVs that are constants in this section.</span></div>
<div class="line"><a name="l12442"></a><span class="lineno">12442</span>&#160;      <span class="comment">// So we bail if Denominator is not a constant.</span></div>
<div class="line"><a name="l12443"></a><span class="lineno">12443</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;ConstantInt&gt;(LR))</div>
<div class="line"><a name="l12444"></a><span class="lineno">12444</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12445"></a><span class="lineno">12445</span>&#160; </div>
<div class="line"><a name="l12446"></a><span class="lineno">12446</span>&#160;      <span class="keyword">auto</span> *Denominator = cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(LR));</div>
<div class="line"><a name="l12447"></a><span class="lineno">12447</span>&#160; </div>
<div class="line"><a name="l12448"></a><span class="lineno">12448</span>&#160;      <span class="comment">// We want to make sure that LHS = FoundLHS / Denominator. If it is so,</span></div>
<div class="line"><a name="l12449"></a><span class="lineno">12449</span>&#160;      <span class="comment">// then a SCEV for the numerator already exists and matches with FoundLHS.</span></div>
<div class="line"><a name="l12450"></a><span class="lineno">12450</span>&#160;      <span class="keyword">auto</span> *Numerator = getExistingSCEV(LL);</div>
<div class="line"><a name="l12451"></a><span class="lineno">12451</span>&#160;      <span class="keywordflow">if</span> (!Numerator || Numerator-&gt;getType() != FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>())</div>
<div class="line"><a name="l12452"></a><span class="lineno">12452</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12453"></a><span class="lineno">12453</span>&#160; </div>
<div class="line"><a name="l12454"></a><span class="lineno">12454</span>&#160;      <span class="comment">// Make sure that the numerator matches with FoundLHS and the denominator</span></div>
<div class="line"><a name="l12455"></a><span class="lineno">12455</span>&#160;      <span class="comment">// is positive.</span></div>
<div class="line"><a name="l12456"></a><span class="lineno">12456</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(Numerator, FoundLHS) || !<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(Denominator))</div>
<div class="line"><a name="l12457"></a><span class="lineno">12457</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12458"></a><span class="lineno">12458</span>&#160; </div>
<div class="line"><a name="l12459"></a><span class="lineno">12459</span>&#160;      <span class="keyword">auto</span> *DTy = Denominator-&gt;getType();</div>
<div class="line"><a name="l12460"></a><span class="lineno">12460</span>&#160;      <span class="keyword">auto</span> *FRHSTy = FoundRHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>();</div>
<div class="line"><a name="l12461"></a><span class="lineno">12461</span>&#160;      <span class="keywordflow">if</span> (DTy-&gt;isPointerTy() != FRHSTy-&gt;isPointerTy())</div>
<div class="line"><a name="l12462"></a><span class="lineno">12462</span>&#160;        <span class="comment">// One of types is a pointer and another one is not. We cannot extend</span></div>
<div class="line"><a name="l12463"></a><span class="lineno">12463</span>&#160;        <span class="comment">// them properly to a wider type, so let us just reject this case.</span></div>
<div class="line"><a name="l12464"></a><span class="lineno">12464</span>&#160;        <span class="comment">// TODO: Usage of getEffectiveSCEVType for DTy, FRHSTy etc should help</span></div>
<div class="line"><a name="l12465"></a><span class="lineno">12465</span>&#160;        <span class="comment">// to avoid this check.</span></div>
<div class="line"><a name="l12466"></a><span class="lineno">12466</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12467"></a><span class="lineno">12467</span>&#160; </div>
<div class="line"><a name="l12468"></a><span class="lineno">12468</span>&#160;      <span class="comment">// Given that:</span></div>
<div class="line"><a name="l12469"></a><span class="lineno">12469</span>&#160;      <span class="comment">// FoundLHS &gt; FoundRHS, LHS = FoundLHS / Denominator, Denominator &gt; 0.</span></div>
<div class="line"><a name="l12470"></a><span class="lineno">12470</span>&#160;      <span class="keyword">auto</span> *WTy = <a class="code" href="classllvm_1_1ScalarEvolution.html#a10cde7087f90dc664b6799814aa28584">getWiderType</a>(DTy, FRHSTy);</div>
<div class="line"><a name="l12471"></a><span class="lineno">12471</span>&#160;      <span class="keyword">auto</span> *DenominatorExt = <a class="code" href="classllvm_1_1ScalarEvolution.html#a38c440751f1bf5f19bc12b95f8f0f2a6">getNoopOrSignExtend</a>(Denominator, WTy);</div>
<div class="line"><a name="l12472"></a><span class="lineno">12472</span>&#160;      <span class="keyword">auto</span> *FoundRHSExt = <a class="code" href="classllvm_1_1ScalarEvolution.html#a38c440751f1bf5f19bc12b95f8f0f2a6">getNoopOrSignExtend</a>(FoundRHS, WTy);</div>
<div class="line"><a name="l12473"></a><span class="lineno">12473</span>&#160; </div>
<div class="line"><a name="l12474"></a><span class="lineno">12474</span>&#160;      <span class="comment">// Try to prove the following rule:</span></div>
<div class="line"><a name="l12475"></a><span class="lineno">12475</span>&#160;      <span class="comment">// (FoundRHS &gt; Denominator - 2) &amp;&amp; (RHS &lt;= 0) =&gt; (LHS &gt; RHS).</span></div>
<div class="line"><a name="l12476"></a><span class="lineno">12476</span>&#160;      <span class="comment">// For example, given that FoundLHS &gt; 2. It means that FoundLHS is at</span></div>
<div class="line"><a name="l12477"></a><span class="lineno">12477</span>&#160;      <span class="comment">// least 3. If we divide it by Denominator &lt; 4, we will have at least 1.</span></div>
<div class="line"><a name="l12478"></a><span class="lineno">12478</span>&#160;      <span class="keyword">auto</span> *DenomMinusTwo = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(DenominatorExt, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(WTy, 2));</div>
<div class="line"><a name="l12479"></a><span class="lineno">12479</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a121ee24f11c464f3b3197cac87b0980e">isKnownNonPositive</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp;</div>
<div class="line"><a name="l12480"></a><span class="lineno">12480</span>&#160;          IsSGTViaContext(FoundRHSExt, DenomMinusTwo))</div>
<div class="line"><a name="l12481"></a><span class="lineno">12481</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12482"></a><span class="lineno">12482</span>&#160; </div>
<div class="line"><a name="l12483"></a><span class="lineno">12483</span>&#160;      <span class="comment">// Try to prove the following rule:</span></div>
<div class="line"><a name="l12484"></a><span class="lineno">12484</span>&#160;      <span class="comment">// (FoundRHS &gt; -1 - Denominator) &amp;&amp; (RHS &lt; 0) =&gt; (LHS &gt; RHS).</span></div>
<div class="line"><a name="l12485"></a><span class="lineno">12485</span>&#160;      <span class="comment">// For example, given that FoundLHS &gt; -3. Then FoundLHS is at least -2.</span></div>
<div class="line"><a name="l12486"></a><span class="lineno">12486</span>&#160;      <span class="comment">// If we divide it by Denominator &gt; 2, then:</span></div>
<div class="line"><a name="l12487"></a><span class="lineno">12487</span>&#160;      <span class="comment">// 1. If FoundLHS is negative, then the result is 0.</span></div>
<div class="line"><a name="l12488"></a><span class="lineno">12488</span>&#160;      <span class="comment">// 2. If FoundLHS is non-negative, then the result is non-negative.</span></div>
<div class="line"><a name="l12489"></a><span class="lineno">12489</span>&#160;      <span class="comment">// Anyways, the result is non-negative.</span></div>
<div class="line"><a name="l12490"></a><span class="lineno">12490</span>&#160;      <span class="keyword">auto</span> *MinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8b52e1d4097374216c56c6cc68c78fa8">getMinusOne</a>(WTy);</div>
<div class="line"><a name="l12491"></a><span class="lineno">12491</span>&#160;      <span class="keyword">auto</span> *NegDenomMinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(MinusOne, DenominatorExt);</div>
<div class="line"><a name="l12492"></a><span class="lineno">12492</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">isKnownNegative</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp;</div>
<div class="line"><a name="l12493"></a><span class="lineno">12493</span>&#160;          IsSGTViaContext(FoundRHSExt, NegDenomMinusOne))</div>
<div class="line"><a name="l12494"></a><span class="lineno">12494</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12495"></a><span class="lineno">12495</span>&#160;    }</div>
<div class="line"><a name="l12496"></a><span class="lineno">12496</span>&#160;  }</div>
<div class="line"><a name="l12497"></a><span class="lineno">12497</span>&#160; </div>
<div class="line"><a name="l12498"></a><span class="lineno">12498</span>&#160;  <span class="comment">// If our expression contained SCEVUnknown Phis, and we split it down and now</span></div>
<div class="line"><a name="l12499"></a><span class="lineno">12499</span>&#160;  <span class="comment">// need to prove something for them, try to prove the predicate for every</span></div>
<div class="line"><a name="l12500"></a><span class="lineno">12500</span>&#160;  <span class="comment">// possible incoming values of those Phis.</span></div>
<div class="line"><a name="l12501"></a><span class="lineno">12501</span>&#160;  <span class="keywordflow">if</span> (isImpliedViaMerge(Pred, OrigLHS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, OrigFoundLHS, FoundRHS, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l12502"></a><span class="lineno">12502</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12503"></a><span class="lineno">12503</span>&#160; </div>
<div class="line"><a name="l12504"></a><span class="lineno">12504</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12505"></a><span class="lineno">12505</span>&#160;}</div>
<div class="line"><a name="l12506"></a><span class="lineno">12506</span>&#160; </div>
<div class="line"><a name="l12507"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#acd72d7c4a8d8b512edaed5462e4f3e35">12507</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#acd72d7c4a8d8b512edaed5462e4f3e35">isKnownPredicateExtendIdiom</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12508"></a><span class="lineno">12508</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l12509"></a><span class="lineno">12509</span>&#160;  <span class="comment">// zext x u&lt;= sext x, sext x s&lt;= zext x</span></div>
<div class="line"><a name="l12510"></a><span class="lineno">12510</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l12511"></a><span class="lineno">12511</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l12512"></a><span class="lineno">12512</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12513"></a><span class="lineno">12513</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l12514"></a><span class="lineno">12514</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>: {</div>
<div class="line"><a name="l12515"></a><span class="lineno">12515</span>&#160;    <span class="comment">// If operand &gt;=s 0 then ZExt == SExt.  If operand &lt;s 0 then SExt &lt;s ZExt.</span></div>
<div class="line"><a name="l12516"></a><span class="lineno">12516</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SExt = dyn_cast&lt;SCEVSignExtendExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l12517"></a><span class="lineno">12517</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12518"></a><span class="lineno">12518</span>&#160;    <span class="keywordflow">if</span> (SExt &amp;&amp; ZExt &amp;&amp; SExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>() == ZExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>())</div>
<div class="line"><a name="l12519"></a><span class="lineno">12519</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12520"></a><span class="lineno">12520</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12521"></a><span class="lineno">12521</span>&#160;  }</div>
<div class="line"><a name="l12522"></a><span class="lineno">12522</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l12523"></a><span class="lineno">12523</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12524"></a><span class="lineno">12524</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l12525"></a><span class="lineno">12525</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>: {</div>
<div class="line"><a name="l12526"></a><span class="lineno">12526</span>&#160;    <span class="comment">// If operand &gt;=s 0 then ZExt == SExt.  If operand &lt;s 0 then ZExt &lt;u SExt.</span></div>
<div class="line"><a name="l12527"></a><span class="lineno">12527</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l12528"></a><span class="lineno">12528</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SExt = dyn_cast&lt;SCEVSignExtendExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12529"></a><span class="lineno">12529</span>&#160;    <span class="keywordflow">if</span> (SExt &amp;&amp; ZExt &amp;&amp; SExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>() == ZExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>())</div>
<div class="line"><a name="l12530"></a><span class="lineno">12530</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12531"></a><span class="lineno">12531</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12532"></a><span class="lineno">12532</span>&#160;  }</div>
<div class="line"><a name="l12533"></a><span class="lineno">12533</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l12534"></a><span class="lineno">12534</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12535"></a><span class="lineno">12535</span>&#160;  };</div>
<div class="line"><a name="l12536"></a><span class="lineno">12536</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12537"></a><span class="lineno">12537</span>&#160;}</div>
<div class="line"><a name="l12538"></a><span class="lineno">12538</span>&#160; </div>
<div class="line"><a name="l12539"></a><span class="lineno">12539</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l12540"></a><span class="lineno">12540</span>&#160;ScalarEvolution::isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12541"></a><span class="lineno">12541</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l12542"></a><span class="lineno">12542</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#acd72d7c4a8d8b512edaed5462e4f3e35">isKnownPredicateExtendIdiom</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) ||</div>
<div class="line"><a name="l12543"></a><span class="lineno">12543</span>&#160;         isKnownPredicateViaConstantRanges(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) ||</div>
<div class="line"><a name="l12544"></a><span class="lineno">12544</span>&#160;         <a class="code" href="ScalarEvolution_8cpp.html#a23a7c6b9fe0d5ef6694bf8a5183d8a69">IsKnownPredicateViaMinOrMax</a>(*<span class="keyword">this</span>, Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) ||</div>
<div class="line"><a name="l12545"></a><span class="lineno">12545</span>&#160;         <a class="code" href="ScalarEvolution_8cpp.html#aa9da73da463d6ed62b1d24df36fac961">IsKnownPredicateViaAddRecStart</a>(*<span class="keyword">this</span>, Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) ||</div>
<div class="line"><a name="l12546"></a><span class="lineno">12546</span>&#160;         isKnownPredicateViaNoOverflow(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12547"></a><span class="lineno">12547</span>&#160;}</div>
<div class="line"><a name="l12548"></a><span class="lineno">12548</span>&#160; </div>
<div class="line"><a name="l12549"></a><span class="lineno">12549</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l12550"></a><span class="lineno">12550</span>&#160;ScalarEvolution::isImpliedCondOperandsHelper(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12551"></a><span class="lineno">12551</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l12552"></a><span class="lineno">12552</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS,</div>
<div class="line"><a name="l12553"></a><span class="lineno">12553</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS) {</div>
<div class="line"><a name="l12554"></a><span class="lineno">12554</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l12555"></a><span class="lineno">12555</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected ICmpInst::Predicate value!&quot;</span>);</div>
<div class="line"><a name="l12556"></a><span class="lineno">12556</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l12557"></a><span class="lineno">12557</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l12558"></a><span class="lineno">12558</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS) &amp;&amp; <a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundRHS))</div>
<div class="line"><a name="l12559"></a><span class="lineno">12559</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12560"></a><span class="lineno">12560</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12561"></a><span class="lineno">12561</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l12562"></a><span class="lineno">12562</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l12563"></a><span class="lineno">12563</span>&#160;    <span class="keywordflow">if</span> (isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS) &amp;&amp;</div>
<div class="line"><a name="l12564"></a><span class="lineno">12564</span>&#160;        isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundRHS))</div>
<div class="line"><a name="l12565"></a><span class="lineno">12565</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12566"></a><span class="lineno">12566</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12567"></a><span class="lineno">12567</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l12568"></a><span class="lineno">12568</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l12569"></a><span class="lineno">12569</span>&#160;    <span class="keywordflow">if</span> (isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS) &amp;&amp;</div>
<div class="line"><a name="l12570"></a><span class="lineno">12570</span>&#160;        isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundRHS))</div>
<div class="line"><a name="l12571"></a><span class="lineno">12571</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12572"></a><span class="lineno">12572</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12573"></a><span class="lineno">12573</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l12574"></a><span class="lineno">12574</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l12575"></a><span class="lineno">12575</span>&#160;    <span class="keywordflow">if</span> (isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS) &amp;&amp;</div>
<div class="line"><a name="l12576"></a><span class="lineno">12576</span>&#160;        isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundRHS))</div>
<div class="line"><a name="l12577"></a><span class="lineno">12577</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12578"></a><span class="lineno">12578</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12579"></a><span class="lineno">12579</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l12580"></a><span class="lineno">12580</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l12581"></a><span class="lineno">12581</span>&#160;    <span class="keywordflow">if</span> (isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS) &amp;&amp;</div>
<div class="line"><a name="l12582"></a><span class="lineno">12582</span>&#160;        isKnownViaNonRecursiveReasoning(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundRHS))</div>
<div class="line"><a name="l12583"></a><span class="lineno">12583</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12584"></a><span class="lineno">12584</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12585"></a><span class="lineno">12585</span>&#160;  }</div>
<div class="line"><a name="l12586"></a><span class="lineno">12586</span>&#160; </div>
<div class="line"><a name="l12587"></a><span class="lineno">12587</span>&#160;  <span class="comment">// Maybe it can be proved via operations?</span></div>
<div class="line"><a name="l12588"></a><span class="lineno">12588</span>&#160;  <span class="keywordflow">if</span> (isImpliedViaOperations(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FoundLHS, FoundRHS))</div>
<div class="line"><a name="l12589"></a><span class="lineno">12589</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l12590"></a><span class="lineno">12590</span>&#160; </div>
<div class="line"><a name="l12591"></a><span class="lineno">12591</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12592"></a><span class="lineno">12592</span>&#160;}</div>
<div class="line"><a name="l12593"></a><span class="lineno">12593</span>&#160; </div>
<div class="line"><a name="l12594"></a><span class="lineno">12594</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::isImpliedCondOperandsViaRanges(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l12595"></a><span class="lineno">12595</span>&#160;                                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l12596"></a><span class="lineno">12596</span>&#160;                                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l12597"></a><span class="lineno">12597</span>&#160;                                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS,</div>
<div class="line"><a name="l12598"></a><span class="lineno">12598</span>&#160;                                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS) {</div>
<div class="line"><a name="l12599"></a><span class="lineno">12599</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) || !isa&lt;SCEVConstant&gt;(FoundRHS))</div>
<div class="line"><a name="l12600"></a><span class="lineno">12600</span>&#160;    <span class="comment">// The restriction on `FoundRHS` be lifted easily -- it exists only to</span></div>
<div class="line"><a name="l12601"></a><span class="lineno">12601</span>&#160;    <span class="comment">// reduce the compile time impact of this optimization.</span></div>
<div class="line"><a name="l12602"></a><span class="lineno">12602</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12603"></a><span class="lineno">12603</span>&#160; </div>
<div class="line"><a name="l12604"></a><span class="lineno">12604</span>&#160;  std::optional&lt;APInt&gt; Addend = <a class="code" href="classllvm_1_1ScalarEvolution.html#ae0ca564918ec63a9b4d2229374fec747">computeConstantDifference</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, FoundLHS);</div>
<div class="line"><a name="l12605"></a><span class="lineno">12605</span>&#160;  <span class="keywordflow">if</span> (!Addend)</div>
<div class="line"><a name="l12606"></a><span class="lineno">12606</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12607"></a><span class="lineno">12607</span>&#160; </div>
<div class="line"><a name="l12608"></a><span class="lineno">12608</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;ConstFoundRHS = cast&lt;SCEVConstant&gt;(FoundRHS)-&gt;getAPInt();</div>
<div class="line"><a name="l12609"></a><span class="lineno">12609</span>&#160; </div>
<div class="line"><a name="l12610"></a><span class="lineno">12610</span>&#160;  <span class="comment">// `FoundLHSRange` is the range we know `FoundLHS` to be in by virtue of the</span></div>
<div class="line"><a name="l12611"></a><span class="lineno">12611</span>&#160;  <span class="comment">// antecedent &quot;`FoundLHS` `Pred` `FoundRHS`&quot;.</span></div>
<div class="line"><a name="l12612"></a><span class="lineno">12612</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> FoundLHSRange =</div>
<div class="line"><a name="l12613"></a><span class="lineno">12613</span>&#160;      <a class="code" href="classllvm_1_1ConstantRange.html#aa89e9cec92a0b38d2f47a077bf12cc98">ConstantRange::makeExactICmpRegion</a>(Pred, ConstFoundRHS);</div>
<div class="line"><a name="l12614"></a><span class="lineno">12614</span>&#160; </div>
<div class="line"><a name="l12615"></a><span class="lineno">12615</span>&#160;  <span class="comment">// Since `LHS` is `FoundLHS` + `Addend`, we can compute a range for `LHS`:</span></div>
<div class="line"><a name="l12616"></a><span class="lineno">12616</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> LHSRange = FoundLHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a04b4ad79ea8ce56e62e0e0323d302eec">add</a>(<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(*Addend));</div>
<div class="line"><a name="l12617"></a><span class="lineno">12617</span>&#160; </div>
<div class="line"><a name="l12618"></a><span class="lineno">12618</span>&#160;  <span class="comment">// We can also compute the range of values for `LHS` that satisfy the</span></div>
<div class="line"><a name="l12619"></a><span class="lineno">12619</span>&#160;  <span class="comment">// consequent, &quot;`LHS` `Pred` `RHS`&quot;:</span></div>
<div class="line"><a name="l12620"></a><span class="lineno">12620</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;ConstRHS = cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)-&gt;getAPInt();</div>
<div class="line"><a name="l12621"></a><span class="lineno">12621</span>&#160;  <span class="comment">// The antecedent implies the consequent if every value of `LHS` that</span></div>
<div class="line"><a name="l12622"></a><span class="lineno">12622</span>&#160;  <span class="comment">// satisfies the antecedent also satisfies the consequent.</span></div>
<div class="line"><a name="l12623"></a><span class="lineno">12623</span>&#160;  <span class="keywordflow">return</span> LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a53f1dcccf8991c637acec7883aba7bfc">icmp</a>(Pred, ConstRHS);</div>
<div class="line"><a name="l12624"></a><span class="lineno">12624</span>&#160;}</div>
<div class="line"><a name="l12625"></a><span class="lineno">12625</span>&#160; </div>
<div class="line"><a name="l12626"></a><span class="lineno">12626</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::canIVOverflowOnLT(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Stride,</div>
<div class="line"><a name="l12627"></a><span class="lineno">12627</span>&#160;                                        <span class="keywordtype">bool</span> IsSigned) {</div>
<div class="line"><a name="l12628"></a><span class="lineno">12628</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(Stride) &amp;&amp; <span class="stringliteral">&quot;Positive stride expected!&quot;</span>);</div>
<div class="line"><a name="l12629"></a><span class="lineno">12629</span>&#160; </div>
<div class="line"><a name="l12630"></a><span class="lineno">12630</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l12631"></a><span class="lineno">12631</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l12632"></a><span class="lineno">12632</span>&#160; </div>
<div class="line"><a name="l12633"></a><span class="lineno">12633</span>&#160;  <span class="keywordflow">if</span> (IsSigned) {</div>
<div class="line"><a name="l12634"></a><span class="lineno">12634</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12635"></a><span class="lineno">12635</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxValue = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l12636"></a><span class="lineno">12636</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStrideMinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Stride, One));</div>
<div class="line"><a name="l12637"></a><span class="lineno">12637</span>&#160; </div>
<div class="line"><a name="l12638"></a><span class="lineno">12638</span>&#160;    <span class="comment">// SMaxRHS + SMaxStrideMinusOne &gt; SMaxValue =&gt; overflow!</span></div>
<div class="line"><a name="l12639"></a><span class="lineno">12639</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(MaxValue) - MaxStrideMinusOne).slt(MaxRHS);</div>
<div class="line"><a name="l12640"></a><span class="lineno">12640</span>&#160;  }</div>
<div class="line"><a name="l12641"></a><span class="lineno">12641</span>&#160; </div>
<div class="line"><a name="l12642"></a><span class="lineno">12642</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12643"></a><span class="lineno">12643</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxValue = <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l12644"></a><span class="lineno">12644</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStrideMinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Stride, One));</div>
<div class="line"><a name="l12645"></a><span class="lineno">12645</span>&#160; </div>
<div class="line"><a name="l12646"></a><span class="lineno">12646</span>&#160;  <span class="comment">// UMaxRHS + UMaxStrideMinusOne &gt; UMaxValue =&gt; overflow!</span></div>
<div class="line"><a name="l12647"></a><span class="lineno">12647</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(MaxValue) - MaxStrideMinusOne).ult(MaxRHS);</div>
<div class="line"><a name="l12648"></a><span class="lineno">12648</span>&#160;}</div>
<div class="line"><a name="l12649"></a><span class="lineno">12649</span>&#160; </div>
<div class="line"><a name="l12650"></a><span class="lineno">12650</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::canIVOverflowOnGT(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Stride,</div>
<div class="line"><a name="l12651"></a><span class="lineno">12651</span>&#160;                                        <span class="keywordtype">bool</span> IsSigned) {</div>
<div class="line"><a name="l12652"></a><span class="lineno">12652</span>&#160;  </div>
<div class="line"><a name="l12653"></a><span class="lineno">12653</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l12654"></a><span class="lineno">12654</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l12655"></a><span class="lineno">12655</span>&#160; </div>
<div class="line"><a name="l12656"></a><span class="lineno">12656</span>&#160;  <span class="keywordflow">if</span> (IsSigned) {</div>
<div class="line"><a name="l12657"></a><span class="lineno">12657</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12658"></a><span class="lineno">12658</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinValue = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l12659"></a><span class="lineno">12659</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStrideMinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Stride, One));</div>
<div class="line"><a name="l12660"></a><span class="lineno">12660</span>&#160; </div>
<div class="line"><a name="l12661"></a><span class="lineno">12661</span>&#160;    <span class="comment">// SMinRHS - SMaxStrideMinusOne &lt; SMinValue =&gt; overflow!</span></div>
<div class="line"><a name="l12662"></a><span class="lineno">12662</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(MinValue) + MaxStrideMinusOne).sgt(MinRHS);</div>
<div class="line"><a name="l12663"></a><span class="lineno">12663</span>&#160;  }</div>
<div class="line"><a name="l12664"></a><span class="lineno">12664</span>&#160; </div>
<div class="line"><a name="l12665"></a><span class="lineno">12665</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12666"></a><span class="lineno">12666</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinValue = <a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l12667"></a><span class="lineno">12667</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStrideMinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Stride, One));</div>
<div class="line"><a name="l12668"></a><span class="lineno">12668</span>&#160; </div>
<div class="line"><a name="l12669"></a><span class="lineno">12669</span>&#160;  <span class="comment">// UMinRHS - UMaxStrideMinusOne &lt; UMinValue =&gt; overflow!</span></div>
<div class="line"><a name="l12670"></a><span class="lineno">12670</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(MinValue) + MaxStrideMinusOne).ugt(MinRHS);</div>
<div class="line"><a name="l12671"></a><span class="lineno">12671</span>&#160;}</div>
<div class="line"><a name="l12672"></a><span class="lineno">12672</span>&#160; </div>
<div class="line"><a name="l12673"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a0daed958320635f1a9d440819f5bd487">12673</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a0daed958320635f1a9d440819f5bd487">ScalarEvolution::getUDivCeilSCEV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>) {</div>
<div class="line"><a name="l12674"></a><span class="lineno">12674</span>&#160;  <span class="comment">// umin(N, 1) + floor((N - umin(N, 1)) / D)</span></div>
<div class="line"><a name="l12675"></a><span class="lineno">12675</span>&#160;  <span class="comment">// This is equivalent to &quot;1 + floor((N - 1) / D)&quot; for N != 0. The umin</span></div>
<div class="line"><a name="l12676"></a><span class="lineno">12676</span>&#160;  <span class="comment">// expression fixes the case of N=0.</span></div>
<div class="line"><a name="l12677"></a><span class="lineno">12677</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MinNOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getType()));</div>
<div class="line"><a name="l12678"></a><span class="lineno">12678</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NMinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, MinNOne);</div>
<div class="line"><a name="l12679"></a><span class="lineno">12679</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(MinNOne, <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(NMinusOne, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>));</div>
<div class="line"><a name="l12680"></a><span class="lineno">12680</span>&#160;}</div>
<div class="line"><a name="l12681"></a><span class="lineno">12681</span>&#160; </div>
<div class="line"><a name="l12682"></a><span class="lineno">12682</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::computeMaxBECountForLT(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start,</div>
<div class="line"><a name="l12683"></a><span class="lineno">12683</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Stride,</div>
<div class="line"><a name="l12684"></a><span class="lineno">12684</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *End,</div>
<div class="line"><a name="l12685"></a><span class="lineno">12685</span>&#160;                                                    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>,</div>
<div class="line"><a name="l12686"></a><span class="lineno">12686</span>&#160;                                                    <span class="keywordtype">bool</span> IsSigned) {</div>
<div class="line"><a name="l12687"></a><span class="lineno">12687</span>&#160;  <span class="comment">// The logic in this function assumes we can represent a positive stride.</span></div>
<div class="line"><a name="l12688"></a><span class="lineno">12688</span>&#160;  <span class="comment">// If we can&#39;t, the backedge-taken count must be zero.</span></div>
<div class="line"><a name="l12689"></a><span class="lineno">12689</span>&#160;  <span class="keywordflow">if</span> (IsSigned &amp;&amp; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> == 1)</div>
<div class="line"><a name="l12690"></a><span class="lineno">12690</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l12691"></a><span class="lineno">12691</span>&#160; </div>
<div class="line"><a name="l12692"></a><span class="lineno">12692</span>&#160;  <span class="comment">// This code below only been closely audited for negative strides in the</span></div>
<div class="line"><a name="l12693"></a><span class="lineno">12693</span>&#160;  <span class="comment">// unsigned comparison case, it may be correct for signed comparison, but</span></div>
<div class="line"><a name="l12694"></a><span class="lineno">12694</span>&#160;  <span class="comment">// that needs to be established.</span></div>
<div class="line"><a name="l12695"></a><span class="lineno">12695</span>&#160;  <span class="keywordflow">if</span> (IsSigned &amp;&amp; <a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">isKnownNegative</a>(Stride))</div>
<div class="line"><a name="l12696"></a><span class="lineno">12696</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l12697"></a><span class="lineno">12697</span>&#160; </div>
<div class="line"><a name="l12698"></a><span class="lineno">12698</span>&#160;  <span class="comment">// Calculate the maximum backedge count based on the range of values</span></div>
<div class="line"><a name="l12699"></a><span class="lineno">12699</span>&#160;  <span class="comment">// permitted by Start, End, and Stride.</span></div>
<div class="line"><a name="l12700"></a><span class="lineno">12700</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinStart =</div>
<div class="line"><a name="l12701"></a><span class="lineno">12701</span>&#160;      IsSigned ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(Start) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(Start);</div>
<div class="line"><a name="l12702"></a><span class="lineno">12702</span>&#160; </div>
<div class="line"><a name="l12703"></a><span class="lineno">12703</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinStride =</div>
<div class="line"><a name="l12704"></a><span class="lineno">12704</span>&#160;      IsSigned ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(Stride) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(Stride);</div>
<div class="line"><a name="l12705"></a><span class="lineno">12705</span>&#160; </div>
<div class="line"><a name="l12706"></a><span class="lineno">12706</span>&#160;  <span class="comment">// We assume either the stride is positive, or the backedge-taken count</span></div>
<div class="line"><a name="l12707"></a><span class="lineno">12707</span>&#160;  <span class="comment">// is zero. So force StrideForMaxBECount to be at least one.</span></div>
<div class="line"><a name="l12708"></a><span class="lineno">12708</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> One(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 1);</div>
<div class="line"><a name="l12709"></a><span class="lineno">12709</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> StrideForMaxBECount = IsSigned ? <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">APIntOps::smax</a>(One, MinStride)</div>
<div class="line"><a name="l12710"></a><span class="lineno">12710</span>&#160;                                       : APIntOps::<a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">umax</a>(One, MinStride);</div>
<div class="line"><a name="l12711"></a><span class="lineno">12711</span>&#160; </div>
<div class="line"><a name="l12712"></a><span class="lineno">12712</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxValue = IsSigned ? <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>)</div>
<div class="line"><a name="l12713"></a><span class="lineno">12713</span>&#160;                            : <a class="code" href="classllvm_1_1APInt.html">APInt</a>::<a class="code" href="namespacellvm_1_1HexagonMCInstrInfo.html#abae146b364071d25dcd64eebdba8cda0">getMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l12714"></a><span class="lineno">12714</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Limit = MaxValue - (StrideForMaxBECount - 1);</div>
<div class="line"><a name="l12715"></a><span class="lineno">12715</span>&#160; </div>
<div class="line"><a name="l12716"></a><span class="lineno">12716</span>&#160;  <span class="comment">// Although End can be a MAX expression we estimate MaxEnd considering only</span></div>
<div class="line"><a name="l12717"></a><span class="lineno">12717</span>&#160;  <span class="comment">// the case End = RHS of the loop termination condition. This is safe because</span></div>
<div class="line"><a name="l12718"></a><span class="lineno">12718</span>&#160;  <span class="comment">// in the other case (End - Start) is zero, leading to a zero maximum backedge</span></div>
<div class="line"><a name="l12719"></a><span class="lineno">12719</span>&#160;  <span class="comment">// taken count.</span></div>
<div class="line"><a name="l12720"></a><span class="lineno">12720</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxEnd = IsSigned ? <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">APIntOps::smin</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(End), Limit)</div>
<div class="line"><a name="l12721"></a><span class="lineno">12721</span>&#160;                          : APIntOps::<a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">umin</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(End), Limit);</div>
<div class="line"><a name="l12722"></a><span class="lineno">12722</span>&#160; </div>
<div class="line"><a name="l12723"></a><span class="lineno">12723</span>&#160;  <span class="comment">// MaxBECount = ceil((max(MaxEnd, MinStart) - MinStart) / Stride)</span></div>
<div class="line"><a name="l12724"></a><span class="lineno">12724</span>&#160;  MaxEnd = IsSigned ? <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">APIntOps::smax</a>(MaxEnd, MinStart)</div>
<div class="line"><a name="l12725"></a><span class="lineno">12725</span>&#160;                    : APIntOps::<a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">umax</a>(MaxEnd, MinStart);</div>
<div class="line"><a name="l12726"></a><span class="lineno">12726</span>&#160; </div>
<div class="line"><a name="l12727"></a><span class="lineno">12727</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a0daed958320635f1a9d440819f5bd487">getUDivCeilSCEV</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(MaxEnd - MinStart) <span class="comment">/* Delta */</span>,</div>
<div class="line"><a name="l12728"></a><span class="lineno">12728</span>&#160;                         <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(StrideForMaxBECount) <span class="comment">/* Step */</span>);</div>
<div class="line"><a name="l12729"></a><span class="lineno">12729</span>&#160;}</div>
<div class="line"><a name="l12730"></a><span class="lineno">12730</span>&#160; </div>
<div class="line"><a name="l12731"></a><span class="lineno">12731</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a></div>
<div class="line"><a name="l12732"></a><span class="lineno">12732</span>&#160;ScalarEvolution::howManyLessThans(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l12733"></a><span class="lineno">12733</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keywordtype">bool</span> IsSigned,</div>
<div class="line"><a name="l12734"></a><span class="lineno">12734</span>&#160;                                  <span class="keywordtype">bool</span> ControlsExit, <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l12735"></a><span class="lineno">12735</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEVPredicate *, 4&gt;</a> Predicates;</div>
<div class="line"><a name="l12736"></a><span class="lineno">12736</span>&#160; </div>
<div class="line"><a name="l12737"></a><span class="lineno">12737</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l12738"></a><span class="lineno">12738</span>&#160;  <span class="keywordtype">bool</span> PredicatedIV = <span class="keyword">false</span>;</div>
<div class="line"><a name="l12739"></a><span class="lineno">12739</span>&#160; </div>
<div class="line"><a name="l12740"></a><span class="lineno">12740</span>&#160;  <span class="keyword">auto</span> canAssumeNoSelfWrap = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR) {</div>
<div class="line"><a name="l12741"></a><span class="lineno">12741</span>&#160;    <span class="comment">// Can we prove this loop *must* be UB if overflow of IV occurs?</span></div>
<div class="line"><a name="l12742"></a><span class="lineno">12742</span>&#160;    <span class="comment">// Reasoning goes as follows:</span></div>
<div class="line"><a name="l12743"></a><span class="lineno">12743</span>&#160;    <span class="comment">// * Suppose the IV did self wrap.</span></div>
<div class="line"><a name="l12744"></a><span class="lineno">12744</span>&#160;    <span class="comment">// * If Stride evenly divides the iteration space, then once wrap</span></div>
<div class="line"><a name="l12745"></a><span class="lineno">12745</span>&#160;    <span class="comment">//   occurs, the loop must revisit the same values.</span></div>
<div class="line"><a name="l12746"></a><span class="lineno">12746</span>&#160;    <span class="comment">// * We know that RHS is invariant, and that none of those values</span></div>
<div class="line"><a name="l12747"></a><span class="lineno">12747</span>&#160;    <span class="comment">//   caused this exit to be taken previously.  Thus, this exit is</span></div>
<div class="line"><a name="l12748"></a><span class="lineno">12748</span>&#160;    <span class="comment">//   dynamically dead.</span></div>
<div class="line"><a name="l12749"></a><span class="lineno">12749</span>&#160;    <span class="comment">// * If this is the sole exit, then a dead exit implies the loop</span></div>
<div class="line"><a name="l12750"></a><span class="lineno">12750</span>&#160;    <span class="comment">//   must be infinite if there are no abnormal exits.</span></div>
<div class="line"><a name="l12751"></a><span class="lineno">12751</span>&#160;    <span class="comment">// * If the loop were infinite, then it must either not be mustprogress</span></div>
<div class="line"><a name="l12752"></a><span class="lineno">12752</span>&#160;    <span class="comment">//   or have side effects. Otherwise, it must be UB.</span></div>
<div class="line"><a name="l12753"></a><span class="lineno">12753</span>&#160;    <span class="comment">// * It can&#39;t (by assumption), be UB so we have contradicted our</span></div>
<div class="line"><a name="l12754"></a><span class="lineno">12754</span>&#160;    <span class="comment">//   premise and can conclude the IV did not in fact self-wrap.</span></div>
<div class="line"><a name="l12755"></a><span class="lineno">12755</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L))</div>
<div class="line"><a name="l12756"></a><span class="lineno">12756</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12757"></a><span class="lineno">12757</span>&#160; </div>
<div class="line"><a name="l12758"></a><span class="lineno">12758</span>&#160;    <span class="keyword">auto</span> *StrideC = dyn_cast&lt;SCEVConstant&gt;(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l12759"></a><span class="lineno">12759</span>&#160;    <span class="keywordflow">if</span> (!StrideC || !StrideC-&gt;getAPInt().isPowerOf2())</div>
<div class="line"><a name="l12760"></a><span class="lineno">12760</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12761"></a><span class="lineno">12761</span>&#160; </div>
<div class="line"><a name="l12762"></a><span class="lineno">12762</span>&#160;    <span class="keywordflow">if</span> (!ControlsExit || !<a class="code" href="classllvm_1_1ScalarEvolution.html#a3db092f7661158b76135b3b7d39f0991">loopHasNoAbnormalExits</a>(L))</div>
<div class="line"><a name="l12763"></a><span class="lineno">12763</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12764"></a><span class="lineno">12764</span>&#160; </div>
<div class="line"><a name="l12765"></a><span class="lineno">12765</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9b1509388282f293de48b34276e5b538">loopIsFiniteByAssumption</a>(L);</div>
<div class="line"><a name="l12766"></a><span class="lineno">12766</span>&#160;  };</div>
<div class="line"><a name="l12767"></a><span class="lineno">12767</span>&#160; </div>
<div class="line"><a name="l12768"></a><span class="lineno">12768</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>) {</div>
<div class="line"><a name="l12769"></a><span class="lineno">12769</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l12770"></a><span class="lineno">12770</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(ZExt-&gt;getOperand());</div>
<div class="line"><a name="l12771"></a><span class="lineno">12771</span>&#160;      <span class="keywordflow">if</span> (AR &amp;&amp; AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() == L &amp;&amp; AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>()) {</div>
<div class="line"><a name="l12772"></a><span class="lineno">12772</span>&#160;        <span class="keyword">auto</span> canProveNUW = [&amp;]() {</div>
<div class="line"><a name="l12773"></a><span class="lineno">12773</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L))</div>
<div class="line"><a name="l12774"></a><span class="lineno">12774</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12775"></a><span class="lineno">12775</span>&#160; </div>
<div class="line"><a name="l12776"></a><span class="lineno">12776</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a20c66c97bae0b3e6725d03cfa61c488b">isKnownNonZero</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>)))</div>
<div class="line"><a name="l12777"></a><span class="lineno">12777</span>&#160;            <span class="comment">// We need the sequence defined by AR to strictly increase in the</span></div>
<div class="line"><a name="l12778"></a><span class="lineno">12778</span>&#160;            <span class="comment">// unsigned integer domain for the logic below to hold.</span></div>
<div class="line"><a name="l12779"></a><span class="lineno">12779</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l12780"></a><span class="lineno">12780</span>&#160; </div>
<div class="line"><a name="l12781"></a><span class="lineno">12781</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> InnerBitWidth = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">getType</a>());</div>
<div class="line"><a name="l12782"></a><span class="lineno">12782</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> OuterBitWidth = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l12783"></a><span class="lineno">12783</span>&#160;          <span class="comment">// If RHS &lt;=u Limit, then there must exist a value V in the sequence</span></div>
<div class="line"><a name="l12784"></a><span class="lineno">12784</span>&#160;          <span class="comment">// defined by AR (e.g. {Start,+,Step}) such that V &gt;u RHS, and</span></div>
<div class="line"><a name="l12785"></a><span class="lineno">12785</span>&#160;          <span class="comment">// V &lt;=u UINT_MAX.  Thus, we must exit the loop before unsigned</span></div>
<div class="line"><a name="l12786"></a><span class="lineno">12786</span>&#160;          <span class="comment">// overflow occurs.  This limit also implies that a signed comparison</span></div>
<div class="line"><a name="l12787"></a><span class="lineno">12787</span>&#160;          <span class="comment">// (in the wide bitwidth) is equivalent to an unsigned comparison as</span></div>
<div class="line"><a name="l12788"></a><span class="lineno">12788</span>&#160;          <span class="comment">// the high bits on both sides must be zero.</span></div>
<div class="line"><a name="l12789"></a><span class="lineno">12789</span>&#160;          <a class="code" href="classllvm_1_1APInt.html">APInt</a> StrideMax = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l12790"></a><span class="lineno">12790</span>&#160;          <a class="code" href="classllvm_1_1APInt.html">APInt</a> Limit = <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(InnerBitWidth) - (StrideMax - 1);</div>
<div class="line"><a name="l12791"></a><span class="lineno">12791</span>&#160;          Limit = Limit.<a class="code" href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">zext</a>(OuterBitWidth);</div>
<div class="line"><a name="l12792"></a><span class="lineno">12792</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ad146072469181af4ccb7ef03c28999ba">applyLoopGuards</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L)).<a class="code" href="classllvm_1_1APInt.html#aca14d9ec64ba4ab7fb2cef37c57d9ce4">ule</a>(Limit);</div>
<div class="line"><a name="l12793"></a><span class="lineno">12793</span>&#160;        };</div>
<div class="line"><a name="l12794"></a><span class="lineno">12794</span>&#160;        <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>();</div>
<div class="line"><a name="l12795"></a><span class="lineno">12795</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a0410d63819514e3062a73eb48a5ecc82">hasFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>) &amp;&amp; canProveNUW())</div>
<div class="line"><a name="l12796"></a><span class="lineno">12796</span>&#160;          <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">setFlags</a>(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div>
<div class="line"><a name="l12797"></a><span class="lineno">12797</span>&#160; </div>
<div class="line"><a name="l12798"></a><span class="lineno">12798</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">setNoWrapFlags</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR), Flags);</div>
<div class="line"><a name="l12799"></a><span class="lineno">12799</span>&#160;        <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a09cc70290a71475141063b6dff42a5d2">hasNoUnsignedWrap</a>()) {</div>
<div class="line"><a name="l12800"></a><span class="lineno">12800</span>&#160;          <span class="comment">// Emulate what getZeroExtendExpr would have done during construction</span></div>
<div class="line"><a name="l12801"></a><span class="lineno">12801</span>&#160;          <span class="comment">// if we&#39;d been able to infer the fact just above at that time.</span></div>
<div class="line"><a name="l12802"></a><span class="lineno">12802</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l12803"></a><span class="lineno">12803</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = ZExt-&gt;getType();</div>
<div class="line"><a name="l12804"></a><span class="lineno">12804</span>&#160;          <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(</div>
<div class="line"><a name="l12805"></a><span class="lineno">12805</span>&#160;            getExtendAddRecStart&lt;SCEVZeroExtendExpr&gt;(AR, Ty, <span class="keyword">this</span>, 0),</div>
<div class="line"><a name="l12806"></a><span class="lineno">12806</span>&#160;            <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Step, Ty, 0), L, AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>());</div>
<div class="line"><a name="l12807"></a><span class="lineno">12807</span>&#160;          <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l12808"></a><span class="lineno">12808</span>&#160;        }</div>
<div class="line"><a name="l12809"></a><span class="lineno">12809</span>&#160;      }</div>
<div class="line"><a name="l12810"></a><span class="lineno">12810</span>&#160;    }</div>
<div class="line"><a name="l12811"></a><span class="lineno">12811</span>&#160;  }</div>
<div class="line"><a name="l12812"></a><span class="lineno">12812</span>&#160; </div>
<div class="line"><a name="l12813"></a><span class="lineno">12813</span>&#160; </div>
<div class="line"><a name="l12814"></a><span class="lineno">12814</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> &amp;&amp; AllowPredicates) {</div>
<div class="line"><a name="l12815"></a><span class="lineno">12815</span>&#160;    <span class="comment">// Try to make this an AddRec using runtime tests, in the first X</span></div>
<div class="line"><a name="l12816"></a><span class="lineno">12816</span>&#160;    <span class="comment">// iterations of this loop, where X is the SCEV expression found by the</span></div>
<div class="line"><a name="l12817"></a><span class="lineno">12817</span>&#160;    <span class="comment">// algorithm below.</span></div>
<div class="line"><a name="l12818"></a><span class="lineno">12818</span>&#160;    <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aa5e72c64cab442ede71f4a6f03284527">convertSCEVToAddRecWithPredicates</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, L, Predicates);</div>
<div class="line"><a name="l12819"></a><span class="lineno">12819</span>&#160;    PredicatedIV = <span class="keyword">true</span>;</div>
<div class="line"><a name="l12820"></a><span class="lineno">12820</span>&#160;  }</div>
<div class="line"><a name="l12821"></a><span class="lineno">12821</span>&#160; </div>
<div class="line"><a name="l12822"></a><span class="lineno">12822</span>&#160;  <span class="comment">// Avoid weird loops</span></div>
<div class="line"><a name="l12823"></a><span class="lineno">12823</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> || <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getLoop() != L || !<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;isAffine())</div>
<div class="line"><a name="l12824"></a><span class="lineno">12824</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l12825"></a><span class="lineno">12825</span>&#160; </div>
<div class="line"><a name="l12826"></a><span class="lineno">12826</span>&#160;  <span class="comment">// A precondition of this method is that the condition being analyzed</span></div>
<div class="line"><a name="l12827"></a><span class="lineno">12827</span>&#160;  <span class="comment">// reaches an exiting branch which dominates the latch.  Given that, we can</span></div>
<div class="line"><a name="l12828"></a><span class="lineno">12828</span>&#160;  <span class="comment">// assume that an increment which violates the nowrap specification and</span></div>
<div class="line"><a name="l12829"></a><span class="lineno">12829</span>&#160;  <span class="comment">// produces poison must cause undefined behavior when the resulting poison</span></div>
<div class="line"><a name="l12830"></a><span class="lineno">12830</span>&#160;  <span class="comment">// value is branched upon and thus we can conclude that the backedge is</span></div>
<div class="line"><a name="l12831"></a><span class="lineno">12831</span>&#160;  <span class="comment">// taken no more often than would be required to produce that poison value.</span></div>
<div class="line"><a name="l12832"></a><span class="lineno">12832</span>&#160;  <span class="comment">// Note that a well defined loop can exit on the iteration which violates</span></div>
<div class="line"><a name="l12833"></a><span class="lineno">12833</span>&#160;  <span class="comment">// the nowrap specification if there is another exit (either explicit or</span></div>
<div class="line"><a name="l12834"></a><span class="lineno">12834</span>&#160;  <span class="comment">// implicit/exceptional) which causes the loop to execute before the</span></div>
<div class="line"><a name="l12835"></a><span class="lineno">12835</span>&#160;  <span class="comment">// exiting instruction we&#39;re analyzing would trigger UB.</span></div>
<div class="line"><a name="l12836"></a><span class="lineno">12836</span>&#160;  <span class="keyword">auto</span> WrapType = IsSigned ? <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>;</div>
<div class="line"><a name="l12837"></a><span class="lineno">12837</span>&#160;  <span class="keywordtype">bool</span> NoWrap = ControlsExit &amp;&amp; <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getNoWrapFlags(WrapType);</div>
<div class="line"><a name="l12838"></a><span class="lineno">12838</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div>
<div class="line"><a name="l12839"></a><span class="lineno">12839</span>&#160; </div>
<div class="line"><a name="l12840"></a><span class="lineno">12840</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Stride = <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getStepRecurrence(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l12841"></a><span class="lineno">12841</span>&#160; </div>
<div class="line"><a name="l12842"></a><span class="lineno">12842</span>&#160;  <span class="keywordtype">bool</span> PositiveStride = <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(Stride);</div>
<div class="line"><a name="l12843"></a><span class="lineno">12843</span>&#160; </div>
<div class="line"><a name="l12844"></a><span class="lineno">12844</span>&#160;  <span class="comment">// Avoid negative or zero stride values.</span></div>
<div class="line"><a name="l12845"></a><span class="lineno">12845</span>&#160;  <span class="keywordflow">if</span> (!PositiveStride) {</div>
<div class="line"><a name="l12846"></a><span class="lineno">12846</span>&#160;    <span class="comment">// We can compute the correct backedge taken count for loops with unknown</span></div>
<div class="line"><a name="l12847"></a><span class="lineno">12847</span>&#160;    <span class="comment">// strides if we can prove that the loop is not an infinite loop with side</span></div>
<div class="line"><a name="l12848"></a><span class="lineno">12848</span>&#160;    <span class="comment">// effects. Here&#39;s the loop structure we are trying to handle -</span></div>
<div class="line"><a name="l12849"></a><span class="lineno">12849</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l12850"></a><span class="lineno">12850</span>&#160;    <span class="comment">// i = start</span></div>
<div class="line"><a name="l12851"></a><span class="lineno">12851</span>&#160;    <span class="comment">// do {</span></div>
<div class="line"><a name="l12852"></a><span class="lineno">12852</span>&#160;    <span class="comment">//   A[i] = i;</span></div>
<div class="line"><a name="l12853"></a><span class="lineno">12853</span>&#160;    <span class="comment">//   i += s;</span></div>
<div class="line"><a name="l12854"></a><span class="lineno">12854</span>&#160;    <span class="comment">// } while (i &lt; end);</span></div>
<div class="line"><a name="l12855"></a><span class="lineno">12855</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l12856"></a><span class="lineno">12856</span>&#160;    <span class="comment">// The backedge taken count for such loops is evaluated as -</span></div>
<div class="line"><a name="l12857"></a><span class="lineno">12857</span>&#160;    <span class="comment">// (max(end, start + stride) - start - 1) /u stride</span></div>
<div class="line"><a name="l12858"></a><span class="lineno">12858</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l12859"></a><span class="lineno">12859</span>&#160;    <span class="comment">// The additional preconditions that we need to check to prove correctness</span></div>
<div class="line"><a name="l12860"></a><span class="lineno">12860</span>&#160;    <span class="comment">// of the above formula is as follows -</span></div>
<div class="line"><a name="l12861"></a><span class="lineno">12861</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l12862"></a><span class="lineno">12862</span>&#160;    <span class="comment">// a) IV is either nuw or nsw depending upon signedness (indicated by the</span></div>
<div class="line"><a name="l12863"></a><span class="lineno">12863</span>&#160;    <span class="comment">//    NoWrap flag).</span></div>
<div class="line"><a name="l12864"></a><span class="lineno">12864</span>&#160;    <span class="comment">// b) the loop is guaranteed to be finite (e.g. is mustprogress and has</span></div>
<div class="line"><a name="l12865"></a><span class="lineno">12865</span>&#160;    <span class="comment">//    no side effects within the loop)</span></div>
<div class="line"><a name="l12866"></a><span class="lineno">12866</span>&#160;    <span class="comment">// c) loop has a single static exit (with no abnormal exits)</span></div>
<div class="line"><a name="l12867"></a><span class="lineno">12867</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l12868"></a><span class="lineno">12868</span>&#160;    <span class="comment">// Precondition a) implies that if the stride is negative, this is a single</span></div>
<div class="line"><a name="l12869"></a><span class="lineno">12869</span>&#160;    <span class="comment">// trip loop. The backedge taken count formula reduces to zero in this case.</span></div>
<div class="line"><a name="l12870"></a><span class="lineno">12870</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l12871"></a><span class="lineno">12871</span>&#160;    <span class="comment">// Precondition b) and c) combine to imply that if rhs is invariant in L,</span></div>
<div class="line"><a name="l12872"></a><span class="lineno">12872</span>&#160;    <span class="comment">// then a zero stride means the backedge can&#39;t be taken without executing</span></div>
<div class="line"><a name="l12873"></a><span class="lineno">12873</span>&#160;    <span class="comment">// undefined behavior.</span></div>
<div class="line"><a name="l12874"></a><span class="lineno">12874</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l12875"></a><span class="lineno">12875</span>&#160;    <span class="comment">// The positive stride case is the same as isKnownPositive(Stride) returning</span></div>
<div class="line"><a name="l12876"></a><span class="lineno">12876</span>&#160;    <span class="comment">// true (original behavior of the function).</span></div>
<div class="line"><a name="l12877"></a><span class="lineno">12877</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l12878"></a><span class="lineno">12878</span>&#160;    <span class="keywordflow">if</span> (PredicatedIV || !NoWrap || !<a class="code" href="classllvm_1_1ScalarEvolution.html#a9b1509388282f293de48b34276e5b538">loopIsFiniteByAssumption</a>(L) ||</div>
<div class="line"><a name="l12879"></a><span class="lineno">12879</span>&#160;        !<a class="code" href="classllvm_1_1ScalarEvolution.html#a3db092f7661158b76135b3b7d39f0991">loopHasNoAbnormalExits</a>(L))</div>
<div class="line"><a name="l12880"></a><span class="lineno">12880</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l12881"></a><span class="lineno">12881</span>&#160; </div>
<div class="line"><a name="l12882"></a><span class="lineno">12882</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a20c66c97bae0b3e6725d03cfa61c488b">isKnownNonZero</a>(Stride)) {</div>
<div class="line"><a name="l12883"></a><span class="lineno">12883</span>&#160;      <span class="comment">// If we have a step of zero, and RHS isn&#39;t invariant in L, we don&#39;t know</span></div>
<div class="line"><a name="l12884"></a><span class="lineno">12884</span>&#160;      <span class="comment">// if it might eventually be greater than start and if so, on which</span></div>
<div class="line"><a name="l12885"></a><span class="lineno">12885</span>&#160;      <span class="comment">// iteration.  We can&#39;t even produce a useful upper bound.</span></div>
<div class="line"><a name="l12886"></a><span class="lineno">12886</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L))</div>
<div class="line"><a name="l12887"></a><span class="lineno">12887</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l12888"></a><span class="lineno">12888</span>&#160; </div>
<div class="line"><a name="l12889"></a><span class="lineno">12889</span>&#160;      <span class="comment">// We allow a potentially zero stride, but we need to divide by stride</span></div>
<div class="line"><a name="l12890"></a><span class="lineno">12890</span>&#160;      <span class="comment">// below.  Since the loop can&#39;t be infinite and this check must control</span></div>
<div class="line"><a name="l12891"></a><span class="lineno">12891</span>&#160;      <span class="comment">// the sole exit, we can infer the exit must be taken on the first</span></div>
<div class="line"><a name="l12892"></a><span class="lineno">12892</span>&#160;      <span class="comment">// iteration (e.g. backedge count = 0) if the stride is zero.  Given that,</span></div>
<div class="line"><a name="l12893"></a><span class="lineno">12893</span>&#160;      <span class="comment">// we know the numerator in the divides below must be zero, so we can</span></div>
<div class="line"><a name="l12894"></a><span class="lineno">12894</span>&#160;      <span class="comment">// pick an arbitrary non-zero value for the denominator (e.g. stride)</span></div>
<div class="line"><a name="l12895"></a><span class="lineno">12895</span>&#160;      <span class="comment">// and produce the right result.</span></div>
<div class="line"><a name="l12896"></a><span class="lineno">12896</span>&#160;      <span class="comment">// FIXME: Handle the case where Stride is poison?</span></div>
<div class="line"><a name="l12897"></a><span class="lineno">12897</span>&#160;      <span class="keyword">auto</span> wouldZeroStrideBeUB = [&amp;]() {</div>
<div class="line"><a name="l12898"></a><span class="lineno">12898</span>&#160;        <span class="comment">// Proof by contradiction.  Suppose the stride were zero.  If we can</span></div>
<div class="line"><a name="l12899"></a><span class="lineno">12899</span>&#160;        <span class="comment">// prove that the backedge *is* taken on the first iteration, then since</span></div>
<div class="line"><a name="l12900"></a><span class="lineno">12900</span>&#160;        <span class="comment">// we know this condition controls the sole exit, we must have an</span></div>
<div class="line"><a name="l12901"></a><span class="lineno">12901</span>&#160;        <span class="comment">// infinite loop.  We can&#39;t have a (well defined) infinite loop per</span></div>
<div class="line"><a name="l12902"></a><span class="lineno">12902</span>&#160;        <span class="comment">// check just above.</span></div>
<div class="line"><a name="l12903"></a><span class="lineno">12903</span>&#160;        <span class="comment">// Note: The (Start - Stride) term is used to get the start&#39; term from</span></div>
<div class="line"><a name="l12904"></a><span class="lineno">12904</span>&#160;        <span class="comment">// (start&#39; + stride,+,stride). Remember that we only care about the</span></div>
<div class="line"><a name="l12905"></a><span class="lineno">12905</span>&#160;        <span class="comment">// result of this expression when stride == 0 at runtime.</span></div>
<div class="line"><a name="l12906"></a><span class="lineno">12906</span>&#160;        <span class="keyword">auto</span> *StartIfZero = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getStart(), Stride);</div>
<div class="line"><a name="l12907"></a><span class="lineno">12907</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, StartIfZero, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12908"></a><span class="lineno">12908</span>&#160;      };</div>
<div class="line"><a name="l12909"></a><span class="lineno">12909</span>&#160;      <span class="keywordflow">if</span> (!wouldZeroStrideBeUB()) {</div>
<div class="line"><a name="l12910"></a><span class="lineno">12910</span>&#160;        Stride = <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(Stride, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()));</div>
<div class="line"><a name="l12911"></a><span class="lineno">12911</span>&#160;      }</div>
<div class="line"><a name="l12912"></a><span class="lineno">12912</span>&#160;    }</div>
<div class="line"><a name="l12913"></a><span class="lineno">12913</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#a1ecb726f4e7b445057b795ed500546a0">isOne</a>() &amp;&amp; !NoWrap) {</div>
<div class="line"><a name="l12914"></a><span class="lineno">12914</span>&#160;    <span class="keyword">auto</span> isUBOnWrap = [&amp;]() {</div>
<div class="line"><a name="l12915"></a><span class="lineno">12915</span>&#160;      <span class="comment">// From no-self-wrap, we need to then prove no-(un)signed-wrap.  This</span></div>
<div class="line"><a name="l12916"></a><span class="lineno">12916</span>&#160;      <span class="comment">// follows trivially from the fact that every (un)signed-wrapped, but</span></div>
<div class="line"><a name="l12917"></a><span class="lineno">12917</span>&#160;      <span class="comment">// not self-wrapped value must be LT than the last value before</span></div>
<div class="line"><a name="l12918"></a><span class="lineno">12918</span>&#160;      <span class="comment">// (un)signed wrap.  Since we know that last value didn&#39;t exit, nor</span></div>
<div class="line"><a name="l12919"></a><span class="lineno">12919</span>&#160;      <span class="comment">// will any smaller one.</span></div>
<div class="line"><a name="l12920"></a><span class="lineno">12920</span>&#160;      <span class="keywordflow">return</span> canAssumeNoSelfWrap(<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>);</div>
<div class="line"><a name="l12921"></a><span class="lineno">12921</span>&#160;    };</div>
<div class="line"><a name="l12922"></a><span class="lineno">12922</span>&#160; </div>
<div class="line"><a name="l12923"></a><span class="lineno">12923</span>&#160;    <span class="comment">// Avoid proven overflow cases: this will ensure that the backedge taken</span></div>
<div class="line"><a name="l12924"></a><span class="lineno">12924</span>&#160;    <span class="comment">// count will not generate any unsigned overflow. Relaxed no-overflow</span></div>
<div class="line"><a name="l12925"></a><span class="lineno">12925</span>&#160;    <span class="comment">// conditions exploit NoWrapFlags, allowing to optimize in presence of</span></div>
<div class="line"><a name="l12926"></a><span class="lineno">12926</span>&#160;    <span class="comment">// undefined behaviors like the case of C language.</span></div>
<div class="line"><a name="l12927"></a><span class="lineno">12927</span>&#160;    <span class="keywordflow">if</span> (canIVOverflowOnLT(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Stride, IsSigned) &amp;&amp; !isUBOnWrap())</div>
<div class="line"><a name="l12928"></a><span class="lineno">12928</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l12929"></a><span class="lineno">12929</span>&#160;  }</div>
<div class="line"><a name="l12930"></a><span class="lineno">12930</span>&#160; </div>
<div class="line"><a name="l12931"></a><span class="lineno">12931</span>&#160;  <span class="comment">// On all paths just preceeding, we established the following invariant:</span></div>
<div class="line"><a name="l12932"></a><span class="lineno">12932</span>&#160;  <span class="comment">//   IV can be assumed not to overflow up to and including the exiting</span></div>
<div class="line"><a name="l12933"></a><span class="lineno">12933</span>&#160;  <span class="comment">//   iteration.  We proved this in one of two ways:</span></div>
<div class="line"><a name="l12934"></a><span class="lineno">12934</span>&#160;  <span class="comment">//   1) We can show overflow doesn&#39;t occur before the exiting iteration</span></div>
<div class="line"><a name="l12935"></a><span class="lineno">12935</span>&#160;  <span class="comment">//      1a) canIVOverflowOnLT, and b) step of one</span></div>
<div class="line"><a name="l12936"></a><span class="lineno">12936</span>&#160;  <span class="comment">//   2) We can show that if overflow occurs, the loop must execute UB</span></div>
<div class="line"><a name="l12937"></a><span class="lineno">12937</span>&#160;  <span class="comment">//      before any possible exit.</span></div>
<div class="line"><a name="l12938"></a><span class="lineno">12938</span>&#160;  <span class="comment">// Note that we have not yet proved RHS invariant (in general).</span></div>
<div class="line"><a name="l12939"></a><span class="lineno">12939</span>&#160; </div>
<div class="line"><a name="l12940"></a><span class="lineno">12940</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getStart();</div>
<div class="line"><a name="l12941"></a><span class="lineno">12941</span>&#160; </div>
<div class="line"><a name="l12942"></a><span class="lineno">12942</span>&#160;  <span class="comment">// Preserve pointer-typed Start/RHS to pass to isLoopEntryGuardedByCond.</span></div>
<div class="line"><a name="l12943"></a><span class="lineno">12943</span>&#160;  <span class="comment">// If we convert to integers, isLoopEntryGuardedByCond will miss some cases.</span></div>
<div class="line"><a name="l12944"></a><span class="lineno">12944</span>&#160;  <span class="comment">// Use integer-typed versions for actual computation; we can&#39;t subtract</span></div>
<div class="line"><a name="l12945"></a><span class="lineno">12945</span>&#160;  <span class="comment">// pointers in general.</span></div>
<div class="line"><a name="l12946"></a><span class="lineno">12946</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OrigStart = Start;</div>
<div class="line"><a name="l12947"></a><span class="lineno">12947</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OrigRHS = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l12948"></a><span class="lineno">12948</span>&#160;  <span class="keywordflow">if</span> (Start-&gt;getType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l12949"></a><span class="lineno">12949</span>&#160;    Start = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(Start);</div>
<div class="line"><a name="l12950"></a><span class="lineno">12950</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(Start))</div>
<div class="line"><a name="l12951"></a><span class="lineno">12951</span>&#160;      <span class="keywordflow">return</span> Start;</div>
<div class="line"><a name="l12952"></a><span class="lineno">12952</span>&#160;  }</div>
<div class="line"><a name="l12953"></a><span class="lineno">12953</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l12954"></a><span class="lineno">12954</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l12955"></a><span class="lineno">12955</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l12956"></a><span class="lineno">12956</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l12957"></a><span class="lineno">12957</span>&#160;  }</div>
<div class="line"><a name="l12958"></a><span class="lineno">12958</span>&#160; </div>
<div class="line"><a name="l12959"></a><span class="lineno">12959</span>&#160;  <span class="comment">// When the RHS is not invariant, we do not know the end bound of the loop and</span></div>
<div class="line"><a name="l12960"></a><span class="lineno">12960</span>&#160;  <span class="comment">// cannot calculate the ExactBECount needed by ExitLimit. However, we can</span></div>
<div class="line"><a name="l12961"></a><span class="lineno">12961</span>&#160;  <span class="comment">// calculate the MaxBECount, given the start, stride and max value for the end</span></div>
<div class="line"><a name="l12962"></a><span class="lineno">12962</span>&#160;  <span class="comment">// bound of the loop (RHS), and the fact that IV does not overflow (which is</span></div>
<div class="line"><a name="l12963"></a><span class="lineno">12963</span>&#160;  <span class="comment">// checked above).</span></div>
<div class="line"><a name="l12964"></a><span class="lineno">12964</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L)) {</div>
<div class="line"><a name="l12965"></a><span class="lineno">12965</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = computeMaxBECountForLT(</div>
<div class="line"><a name="l12966"></a><span class="lineno">12966</span>&#160;        Start, Stride, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()), IsSigned);</div>
<div class="line"><a name="l12967"></a><span class="lineno">12967</span>&#160;    <span class="keywordflow">return</span> ExitLimit(<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() <span class="comment">/* ExactNotTaken */</span>, MaxBECount,</div>
<div class="line"><a name="l12968"></a><span class="lineno">12968</span>&#160;                     MaxBECount, <span class="keyword">false</span> <span class="comment">/*MaxOrZero*/</span>, Predicates);</div>
<div class="line"><a name="l12969"></a><span class="lineno">12969</span>&#160;  }</div>
<div class="line"><a name="l12970"></a><span class="lineno">12970</span>&#160; </div>
<div class="line"><a name="l12971"></a><span class="lineno">12971</span>&#160;  <span class="comment">// We use the expression (max(End,Start)-Start)/Stride to describe the</span></div>
<div class="line"><a name="l12972"></a><span class="lineno">12972</span>&#160;  <span class="comment">// backedge count, as if the backedge is taken at least once max(End,Start)</span></div>
<div class="line"><a name="l12973"></a><span class="lineno">12973</span>&#160;  <span class="comment">// is End and so the result is as above, and if not max(End,Start) is Start</span></div>
<div class="line"><a name="l12974"></a><span class="lineno">12974</span>&#160;  <span class="comment">// so we get a backedge count of zero.</span></div>
<div class="line"><a name="l12975"></a><span class="lineno">12975</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l12976"></a><span class="lineno">12976</span>&#160;  <span class="keyword">auto</span> *OrigStartMinusStride = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(OrigStart, Stride);</div>
<div class="line"><a name="l12977"></a><span class="lineno">12977</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(OrigStartMinusStride, L) &amp;&amp; <span class="stringliteral">&quot;Must be!&quot;</span>);</div>
<div class="line"><a name="l12978"></a><span class="lineno">12978</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(OrigStart, L) &amp;&amp; <span class="stringliteral">&quot;Must be!&quot;</span>);</div>
<div class="line"><a name="l12979"></a><span class="lineno">12979</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(OrigRHS, L) &amp;&amp; <span class="stringliteral">&quot;Must be!&quot;</span>);</div>
<div class="line"><a name="l12980"></a><span class="lineno">12980</span>&#160;  <span class="comment">// Can we prove (max(RHS,Start) &gt; Start - Stride?</span></div>
<div class="line"><a name="l12981"></a><span class="lineno">12981</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, OrigStartMinusStride, OrigStart) &amp;&amp;</div>
<div class="line"><a name="l12982"></a><span class="lineno">12982</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, OrigStartMinusStride, OrigRHS)) {</div>
<div class="line"><a name="l12983"></a><span class="lineno">12983</span>&#160;    <span class="comment">// In this case, we can use a refined formula for computing backedge taken</span></div>
<div class="line"><a name="l12984"></a><span class="lineno">12984</span>&#160;    <span class="comment">// count.  The general formula remains:</span></div>
<div class="line"><a name="l12985"></a><span class="lineno">12985</span>&#160;    <span class="comment">//   &quot;End-Start /uceiling Stride&quot; where &quot;End = max(RHS,Start)&quot;</span></div>
<div class="line"><a name="l12986"></a><span class="lineno">12986</span>&#160;    <span class="comment">// We want to use the alternate formula:</span></div>
<div class="line"><a name="l12987"></a><span class="lineno">12987</span>&#160;    <span class="comment">//   &quot;((End - 1) - (Start - Stride)) /u Stride&quot;</span></div>
<div class="line"><a name="l12988"></a><span class="lineno">12988</span>&#160;    <span class="comment">// Let&#39;s do a quick case analysis to show these are equivalent under</span></div>
<div class="line"><a name="l12989"></a><span class="lineno">12989</span>&#160;    <span class="comment">// our precondition that max(RHS,Start) &gt; Start - Stride.</span></div>
<div class="line"><a name="l12990"></a><span class="lineno">12990</span>&#160;    <span class="comment">// * For RHS &lt;= Start, the backedge-taken count must be zero.</span></div>
<div class="line"><a name="l12991"></a><span class="lineno">12991</span>&#160;    <span class="comment">//   &quot;((End - 1) - (Start - Stride)) /u Stride&quot; reduces to</span></div>
<div class="line"><a name="l12992"></a><span class="lineno">12992</span>&#160;    <span class="comment">//   &quot;((Start - 1) - (Start - Stride)) /u Stride&quot; which simplies to</span></div>
<div class="line"><a name="l12993"></a><span class="lineno">12993</span>&#160;    <span class="comment">//   &quot;Stride - 1 /u Stride&quot; which is indeed zero for all non-zero values</span></div>
<div class="line"><a name="l12994"></a><span class="lineno">12994</span>&#160;    <span class="comment">//     of Stride.  For 0 stride, we&#39;ve use umin(1,Stride) above, reducing</span></div>
<div class="line"><a name="l12995"></a><span class="lineno">12995</span>&#160;    <span class="comment">//     this to the stride of 1 case.</span></div>
<div class="line"><a name="l12996"></a><span class="lineno">12996</span>&#160;    <span class="comment">// * For RHS &gt;= Start, the backedge count must be &quot;RHS-Start /uceil Stride&quot;.</span></div>
<div class="line"><a name="l12997"></a><span class="lineno">12997</span>&#160;    <span class="comment">//   &quot;((End - 1) - (Start - Stride)) /u Stride&quot; reduces to</span></div>
<div class="line"><a name="l12998"></a><span class="lineno">12998</span>&#160;    <span class="comment">//   &quot;((RHS - 1) - (Start - Stride)) /u Stride&quot; reassociates to</span></div>
<div class="line"><a name="l12999"></a><span class="lineno">12999</span>&#160;    <span class="comment">//   &quot;((RHS - (Start - Stride) - 1) /u Stride&quot;.</span></div>
<div class="line"><a name="l13000"></a><span class="lineno">13000</span>&#160;    <span class="comment">//   Our preconditions trivially imply no overflow in that form.</span></div>
<div class="line"><a name="l13001"></a><span class="lineno">13001</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8b52e1d4097374216c56c6cc68c78fa8">getMinusOne</a>(Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l13002"></a><span class="lineno">13002</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Numerator =</div>
<div class="line"><a name="l13003"></a><span class="lineno">13003</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, MinusOne), <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Start, Stride));</div>
<div class="line"><a name="l13004"></a><span class="lineno">13004</span>&#160;    BECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(Numerator, Stride);</div>
<div class="line"><a name="l13005"></a><span class="lineno">13005</span>&#160;  }</div>
<div class="line"><a name="l13006"></a><span class="lineno">13006</span>&#160; </div>
<div class="line"><a name="l13007"></a><span class="lineno">13007</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECountIfBackedgeTaken = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l13008"></a><span class="lineno">13008</span>&#160;  <span class="keywordflow">if</span> (!BECount) {</div>
<div class="line"><a name="l13009"></a><span class="lineno">13009</span>&#160;    <span class="keyword">auto</span> canProveRHSGreaterThanEqualStart = [&amp;]() {</div>
<div class="line"><a name="l13010"></a><span class="lineno">13010</span>&#160;      <span class="keyword">auto</span> CondGE = IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>;</div>
<div class="line"><a name="l13011"></a><span class="lineno">13011</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, CondGE, OrigRHS, OrigStart))</div>
<div class="line"><a name="l13012"></a><span class="lineno">13012</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l13013"></a><span class="lineno">13013</span>&#160; </div>
<div class="line"><a name="l13014"></a><span class="lineno">13014</span>&#160;      <span class="comment">// (RHS &gt; Start - 1) implies RHS &gt;= Start.</span></div>
<div class="line"><a name="l13015"></a><span class="lineno">13015</span>&#160;      <span class="comment">// * &quot;RHS &gt;= Start&quot; is trivially equivalent to &quot;RHS &gt; Start - 1&quot; if</span></div>
<div class="line"><a name="l13016"></a><span class="lineno">13016</span>&#160;      <span class="comment">//   &quot;Start - 1&quot; doesn&#39;t overflow.</span></div>
<div class="line"><a name="l13017"></a><span class="lineno">13017</span>&#160;      <span class="comment">// * For signed comparison, if Start - 1 does overflow, it&#39;s equal</span></div>
<div class="line"><a name="l13018"></a><span class="lineno">13018</span>&#160;      <span class="comment">//   to INT_MAX, and &quot;RHS &gt;s INT_MAX&quot; is trivially false.</span></div>
<div class="line"><a name="l13019"></a><span class="lineno">13019</span>&#160;      <span class="comment">// * For unsigned comparison, if Start - 1 does overflow, it&#39;s equal</span></div>
<div class="line"><a name="l13020"></a><span class="lineno">13020</span>&#160;      <span class="comment">//   to UINT_MAX, and &quot;RHS &gt;u UINT_MAX&quot; is trivially false.</span></div>
<div class="line"><a name="l13021"></a><span class="lineno">13021</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l13022"></a><span class="lineno">13022</span>&#160;      <span class="comment">// FIXME: Should isLoopEntryGuardedByCond do this for us?</span></div>
<div class="line"><a name="l13023"></a><span class="lineno">13023</span>&#160;      <span class="keyword">auto</span> CondGT = IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div>
<div class="line"><a name="l13024"></a><span class="lineno">13024</span>&#160;      <span class="keyword">auto</span> *StartMinusOne = <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(OrigStart,</div>
<div class="line"><a name="l13025"></a><span class="lineno">13025</span>&#160;                                       <a class="code" href="classllvm_1_1ScalarEvolution.html#a8b52e1d4097374216c56c6cc68c78fa8">getMinusOne</a>(OrigStart-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()));</div>
<div class="line"><a name="l13026"></a><span class="lineno">13026</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, CondGT, OrigRHS, StartMinusOne);</div>
<div class="line"><a name="l13027"></a><span class="lineno">13027</span>&#160;    };</div>
<div class="line"><a name="l13028"></a><span class="lineno">13028</span>&#160; </div>
<div class="line"><a name="l13029"></a><span class="lineno">13029</span>&#160;    <span class="comment">// If we know that RHS &gt;= Start in the context of loop, then we know that</span></div>
<div class="line"><a name="l13030"></a><span class="lineno">13030</span>&#160;    <span class="comment">// max(RHS, Start) = RHS at this point.</span></div>
<div class="line"><a name="l13031"></a><span class="lineno">13031</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *End;</div>
<div class="line"><a name="l13032"></a><span class="lineno">13032</span>&#160;    <span class="keywordflow">if</span> (canProveRHSGreaterThanEqualStart()) {</div>
<div class="line"><a name="l13033"></a><span class="lineno">13033</span>&#160;      End = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l13034"></a><span class="lineno">13034</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13035"></a><span class="lineno">13035</span>&#160;      <span class="comment">// If RHS &lt; Start, the backedge will be taken zero times.  So in</span></div>
<div class="line"><a name="l13036"></a><span class="lineno">13036</span>&#160;      <span class="comment">// general, we can write the backedge-taken count as:</span></div>
<div class="line"><a name="l13037"></a><span class="lineno">13037</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l13038"></a><span class="lineno">13038</span>&#160;      <span class="comment">//     RHS &gt;= Start ? ceil(RHS - Start) / Stride : 0</span></div>
<div class="line"><a name="l13039"></a><span class="lineno">13039</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l13040"></a><span class="lineno">13040</span>&#160;      <span class="comment">// We convert it to the following to make it more convenient for SCEV:</span></div>
<div class="line"><a name="l13041"></a><span class="lineno">13041</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l13042"></a><span class="lineno">13042</span>&#160;      <span class="comment">//     ceil(max(RHS, Start) - Start) / Stride</span></div>
<div class="line"><a name="l13043"></a><span class="lineno">13043</span>&#160;      End = IsSigned ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">getSMaxExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Start) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Start);</div>
<div class="line"><a name="l13044"></a><span class="lineno">13044</span>&#160; </div>
<div class="line"><a name="l13045"></a><span class="lineno">13045</span>&#160;      <span class="comment">// See what would happen if we assume the backedge is taken. This is</span></div>
<div class="line"><a name="l13046"></a><span class="lineno">13046</span>&#160;      <span class="comment">// used to compute MaxBECount.</span></div>
<div class="line"><a name="l13047"></a><span class="lineno">13047</span>&#160;      BECountIfBackedgeTaken = <a class="code" href="classllvm_1_1ScalarEvolution.html#a0daed958320635f1a9d440819f5bd487">getUDivCeilSCEV</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Start), Stride);</div>
<div class="line"><a name="l13048"></a><span class="lineno">13048</span>&#160;    }</div>
<div class="line"><a name="l13049"></a><span class="lineno">13049</span>&#160; </div>
<div class="line"><a name="l13050"></a><span class="lineno">13050</span>&#160;    <span class="comment">// At this point, we know:</span></div>
<div class="line"><a name="l13051"></a><span class="lineno">13051</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l13052"></a><span class="lineno">13052</span>&#160;    <span class="comment">// 1. If IsSigned, Start &lt;=s End; otherwise, Start &lt;=u End</span></div>
<div class="line"><a name="l13053"></a><span class="lineno">13053</span>&#160;    <span class="comment">// 2. The index variable doesn&#39;t overflow.</span></div>
<div class="line"><a name="l13054"></a><span class="lineno">13054</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l13055"></a><span class="lineno">13055</span>&#160;    <span class="comment">// Therefore, we know N exists such that</span></div>
<div class="line"><a name="l13056"></a><span class="lineno">13056</span>&#160;    <span class="comment">// (Start + Stride * N) &gt;= End, and computing &quot;(Start + Stride * N)&quot;</span></div>
<div class="line"><a name="l13057"></a><span class="lineno">13057</span>&#160;    <span class="comment">// doesn&#39;t overflow.</span></div>
<div class="line"><a name="l13058"></a><span class="lineno">13058</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l13059"></a><span class="lineno">13059</span>&#160;    <span class="comment">// Using this information, try to prove whether the addition in</span></div>
<div class="line"><a name="l13060"></a><span class="lineno">13060</span>&#160;    <span class="comment">// &quot;(Start - End) + (Stride - 1)&quot; has unsigned overflow.</span></div>
<div class="line"><a name="l13061"></a><span class="lineno">13061</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l13062"></a><span class="lineno">13062</span>&#160;    <span class="keywordtype">bool</span> MayAddOverflow = [&amp;] {</div>
<div class="line"><a name="l13063"></a><span class="lineno">13063</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *StrideC = dyn_cast&lt;SCEVConstant&gt;(Stride)) {</div>
<div class="line"><a name="l13064"></a><span class="lineno">13064</span>&#160;        <span class="keywordflow">if</span> (StrideC-&gt;getAPInt().isPowerOf2()) {</div>
<div class="line"><a name="l13065"></a><span class="lineno">13065</span>&#160;          <span class="comment">// Suppose Stride is a power of two, and Start/End are unsigned</span></div>
<div class="line"><a name="l13066"></a><span class="lineno">13066</span>&#160;          <span class="comment">// integers.  Let UMAX be the largest representable unsigned</span></div>
<div class="line"><a name="l13067"></a><span class="lineno">13067</span>&#160;          <span class="comment">// integer.</span></div>
<div class="line"><a name="l13068"></a><span class="lineno">13068</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13069"></a><span class="lineno">13069</span>&#160;          <span class="comment">// By the preconditions of this function, we know</span></div>
<div class="line"><a name="l13070"></a><span class="lineno">13070</span>&#160;          <span class="comment">// &quot;(Start + Stride * N) &gt;= End&quot;, and this doesn&#39;t overflow.</span></div>
<div class="line"><a name="l13071"></a><span class="lineno">13071</span>&#160;          <span class="comment">// As a formula:</span></div>
<div class="line"><a name="l13072"></a><span class="lineno">13072</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13073"></a><span class="lineno">13073</span>&#160;          <span class="comment">//   End &lt;= (Start + Stride * N) &lt;= UMAX</span></div>
<div class="line"><a name="l13074"></a><span class="lineno">13074</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13075"></a><span class="lineno">13075</span>&#160;          <span class="comment">// Subtracting Start from all the terms:</span></div>
<div class="line"><a name="l13076"></a><span class="lineno">13076</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13077"></a><span class="lineno">13077</span>&#160;          <span class="comment">//   End - Start &lt;= Stride * N &lt;= UMAX - Start</span></div>
<div class="line"><a name="l13078"></a><span class="lineno">13078</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13079"></a><span class="lineno">13079</span>&#160;          <span class="comment">// Since Start is unsigned, UMAX - Start &lt;= UMAX.  Therefore:</span></div>
<div class="line"><a name="l13080"></a><span class="lineno">13080</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13081"></a><span class="lineno">13081</span>&#160;          <span class="comment">//   End - Start &lt;= Stride * N &lt;= UMAX</span></div>
<div class="line"><a name="l13082"></a><span class="lineno">13082</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13083"></a><span class="lineno">13083</span>&#160;          <span class="comment">// Stride * N is a multiple of Stride. Therefore,</span></div>
<div class="line"><a name="l13084"></a><span class="lineno">13084</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13085"></a><span class="lineno">13085</span>&#160;          <span class="comment">//   End - Start &lt;= Stride * N &lt;= UMAX - (UMAX mod Stride)</span></div>
<div class="line"><a name="l13086"></a><span class="lineno">13086</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13087"></a><span class="lineno">13087</span>&#160;          <span class="comment">// Since Stride is a power of two, UMAX + 1 is divisible by Stride.</span></div>
<div class="line"><a name="l13088"></a><span class="lineno">13088</span>&#160;          <span class="comment">// Therefore, UMAX mod Stride == Stride - 1.  So we can write:</span></div>
<div class="line"><a name="l13089"></a><span class="lineno">13089</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13090"></a><span class="lineno">13090</span>&#160;          <span class="comment">//   End - Start &lt;= Stride * N &lt;= UMAX - Stride - 1</span></div>
<div class="line"><a name="l13091"></a><span class="lineno">13091</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13092"></a><span class="lineno">13092</span>&#160;          <span class="comment">// Dropping the middle term:</span></div>
<div class="line"><a name="l13093"></a><span class="lineno">13093</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13094"></a><span class="lineno">13094</span>&#160;          <span class="comment">//   End - Start &lt;= UMAX - Stride - 1</span></div>
<div class="line"><a name="l13095"></a><span class="lineno">13095</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13096"></a><span class="lineno">13096</span>&#160;          <span class="comment">// Adding Stride - 1 to both sides:</span></div>
<div class="line"><a name="l13097"></a><span class="lineno">13097</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13098"></a><span class="lineno">13098</span>&#160;          <span class="comment">//   (End - Start) + (Stride - 1) &lt;= UMAX</span></div>
<div class="line"><a name="l13099"></a><span class="lineno">13099</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13100"></a><span class="lineno">13100</span>&#160;          <span class="comment">// In other words, the addition doesn&#39;t have unsigned overflow.</span></div>
<div class="line"><a name="l13101"></a><span class="lineno">13101</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l13102"></a><span class="lineno">13102</span>&#160;          <span class="comment">// A similar proof works if we treat Start/End as signed values.</span></div>
<div class="line"><a name="l13103"></a><span class="lineno">13103</span>&#160;          <span class="comment">// Just rewrite steps before &quot;End - Start &lt;= Stride * N &lt;= UMAX&quot; to</span></div>
<div class="line"><a name="l13104"></a><span class="lineno">13104</span>&#160;          <span class="comment">// use signed max instead of unsigned max. Note that we&#39;re trying</span></div>
<div class="line"><a name="l13105"></a><span class="lineno">13105</span>&#160;          <span class="comment">// to prove a lack of unsigned overflow in either case.</span></div>
<div class="line"><a name="l13106"></a><span class="lineno">13106</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l13107"></a><span class="lineno">13107</span>&#160;        }</div>
<div class="line"><a name="l13108"></a><span class="lineno">13108</span>&#160;      }</div>
<div class="line"><a name="l13109"></a><span class="lineno">13109</span>&#160;      <span class="keywordflow">if</span> (Start == Stride || Start == <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Stride, One)) {</div>
<div class="line"><a name="l13110"></a><span class="lineno">13110</span>&#160;        <span class="comment">// If Start is equal to Stride, (End - Start) + (Stride - 1) == End - 1.</span></div>
<div class="line"><a name="l13111"></a><span class="lineno">13111</span>&#160;        <span class="comment">// If !IsSigned, 0 &lt;u Stride == Start &lt;=u End; so 0 &lt;u End - 1 &lt;u End.</span></div>
<div class="line"><a name="l13112"></a><span class="lineno">13112</span>&#160;        <span class="comment">// If IsSigned, 0 &lt;s Stride == Start &lt;=s End; so 0 &lt;s End - 1 &lt;s End.</span></div>
<div class="line"><a name="l13113"></a><span class="lineno">13113</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l13114"></a><span class="lineno">13114</span>&#160;        <span class="comment">// If Start is equal to Stride - 1, (End - Start) + Stride - 1 == End.</span></div>
<div class="line"><a name="l13115"></a><span class="lineno">13115</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l13116"></a><span class="lineno">13116</span>&#160;      }</div>
<div class="line"><a name="l13117"></a><span class="lineno">13117</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l13118"></a><span class="lineno">13118</span>&#160;    }();</div>
<div class="line"><a name="l13119"></a><span class="lineno">13119</span>&#160; </div>
<div class="line"><a name="l13120"></a><span class="lineno">13120</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Delta = <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(End, Start);</div>
<div class="line"><a name="l13121"></a><span class="lineno">13121</span>&#160;    <span class="keywordflow">if</span> (!MayAddOverflow) {</div>
<div class="line"><a name="l13122"></a><span class="lineno">13122</span>&#160;      <span class="comment">// floor((D + (S - 1)) / S)</span></div>
<div class="line"><a name="l13123"></a><span class="lineno">13123</span>&#160;      <span class="comment">// We prefer this formulation if it&#39;s legal because it&#39;s fewer operations.</span></div>
<div class="line"><a name="l13124"></a><span class="lineno">13124</span>&#160;      BECount =</div>
<div class="line"><a name="l13125"></a><span class="lineno">13125</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Delta, <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Stride, One)), Stride);</div>
<div class="line"><a name="l13126"></a><span class="lineno">13126</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13127"></a><span class="lineno">13127</span>&#160;      BECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a0daed958320635f1a9d440819f5bd487">getUDivCeilSCEV</a>(Delta, Stride);</div>
<div class="line"><a name="l13128"></a><span class="lineno">13128</span>&#160;    }</div>
<div class="line"><a name="l13129"></a><span class="lineno">13129</span>&#160;  }</div>
<div class="line"><a name="l13130"></a><span class="lineno">13130</span>&#160; </div>
<div class="line"><a name="l13131"></a><span class="lineno">13131</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ConstantMaxBECount;</div>
<div class="line"><a name="l13132"></a><span class="lineno">13132</span>&#160;  <span class="keywordtype">bool</span> MaxOrZero = <span class="keyword">false</span>;</div>
<div class="line"><a name="l13133"></a><span class="lineno">13133</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(BECount)) {</div>
<div class="line"><a name="l13134"></a><span class="lineno">13134</span>&#160;    ConstantMaxBECount = BECount;</div>
<div class="line"><a name="l13135"></a><span class="lineno">13135</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BECountIfBackedgeTaken &amp;&amp;</div>
<div class="line"><a name="l13136"></a><span class="lineno">13136</span>&#160;             isa&lt;SCEVConstant&gt;(BECountIfBackedgeTaken)) {</div>
<div class="line"><a name="l13137"></a><span class="lineno">13137</span>&#160;    <span class="comment">// If we know exactly how many times the backedge will be taken if it&#39;s</span></div>
<div class="line"><a name="l13138"></a><span class="lineno">13138</span>&#160;    <span class="comment">// taken at least once, then the backedge count will either be that or</span></div>
<div class="line"><a name="l13139"></a><span class="lineno">13139</span>&#160;    <span class="comment">// zero.</span></div>
<div class="line"><a name="l13140"></a><span class="lineno">13140</span>&#160;    ConstantMaxBECount = BECountIfBackedgeTaken;</div>
<div class="line"><a name="l13141"></a><span class="lineno">13141</span>&#160;    MaxOrZero = <span class="keyword">true</span>;</div>
<div class="line"><a name="l13142"></a><span class="lineno">13142</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13143"></a><span class="lineno">13143</span>&#160;    ConstantMaxBECount = computeMaxBECountForLT(</div>
<div class="line"><a name="l13144"></a><span class="lineno">13144</span>&#160;        Start, Stride, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()), IsSigned);</div>
<div class="line"><a name="l13145"></a><span class="lineno">13145</span>&#160;  }</div>
<div class="line"><a name="l13146"></a><span class="lineno">13146</span>&#160; </div>
<div class="line"><a name="l13147"></a><span class="lineno">13147</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(ConstantMaxBECount) &amp;&amp;</div>
<div class="line"><a name="l13148"></a><span class="lineno">13148</span>&#160;      !isa&lt;SCEVCouldNotCompute&gt;(BECount))</div>
<div class="line"><a name="l13149"></a><span class="lineno">13149</span>&#160;    ConstantMaxBECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(BECount));</div>
<div class="line"><a name="l13150"></a><span class="lineno">13150</span>&#160; </div>
<div class="line"><a name="l13151"></a><span class="lineno">13151</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymbolicMaxBECount =</div>
<div class="line"><a name="l13152"></a><span class="lineno">13152</span>&#160;      isa&lt;SCEVCouldNotCompute&gt;(BECount) ? ConstantMaxBECount : BECount;</div>
<div class="line"><a name="l13153"></a><span class="lineno">13153</span>&#160;  <span class="keywordflow">return</span> ExitLimit(BECount, ConstantMaxBECount, SymbolicMaxBECount, MaxOrZero,</div>
<div class="line"><a name="l13154"></a><span class="lineno">13154</span>&#160;                   Predicates);</div>
<div class="line"><a name="l13155"></a><span class="lineno">13155</span>&#160;}</div>
<div class="line"><a name="l13156"></a><span class="lineno">13156</span>&#160; </div>
<div class="line"><a name="l13157"></a><span class="lineno">13157</span>&#160;<a class="code" href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">ScalarEvolution::ExitLimit</a></div>
<div class="line"><a name="l13158"></a><span class="lineno">13158</span>&#160;ScalarEvolution::howManyGreaterThans(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l13159"></a><span class="lineno">13159</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keywordtype">bool</span> IsSigned,</div>
<div class="line"><a name="l13160"></a><span class="lineno">13160</span>&#160;                                     <span class="keywordtype">bool</span> ControlsExit, <span class="keywordtype">bool</span> AllowPredicates) {</div>
<div class="line"><a name="l13161"></a><span class="lineno">13161</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEVPredicate *, 4&gt;</a> Predicates;</div>
<div class="line"><a name="l13162"></a><span class="lineno">13162</span>&#160;  <span class="comment">// We handle only IV &gt; Invariant</span></div>
<div class="line"><a name="l13163"></a><span class="lineno">13163</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, L))</div>
<div class="line"><a name="l13164"></a><span class="lineno">13164</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l13165"></a><span class="lineno">13165</span>&#160; </div>
<div class="line"><a name="l13166"></a><span class="lineno">13166</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l13167"></a><span class="lineno">13167</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> &amp;&amp; AllowPredicates)</div>
<div class="line"><a name="l13168"></a><span class="lineno">13168</span>&#160;    <span class="comment">// Try to make this an AddRec using runtime tests, in the first X</span></div>
<div class="line"><a name="l13169"></a><span class="lineno">13169</span>&#160;    <span class="comment">// iterations of this loop, where X is the SCEV expression found by the</span></div>
<div class="line"><a name="l13170"></a><span class="lineno">13170</span>&#160;    <span class="comment">// algorithm below.</span></div>
<div class="line"><a name="l13171"></a><span class="lineno">13171</span>&#160;    <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#aa5e72c64cab442ede71f4a6f03284527">convertSCEVToAddRecWithPredicates</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, L, Predicates);</div>
<div class="line"><a name="l13172"></a><span class="lineno">13172</span>&#160; </div>
<div class="line"><a name="l13173"></a><span class="lineno">13173</span>&#160;  <span class="comment">// Avoid weird loops</span></div>
<div class="line"><a name="l13174"></a><span class="lineno">13174</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> || <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getLoop() != L || !<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;isAffine())</div>
<div class="line"><a name="l13175"></a><span class="lineno">13175</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l13176"></a><span class="lineno">13176</span>&#160; </div>
<div class="line"><a name="l13177"></a><span class="lineno">13177</span>&#160;  <span class="keyword">auto</span> WrapType = IsSigned ? <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>;</div>
<div class="line"><a name="l13178"></a><span class="lineno">13178</span>&#160;  <span class="keywordtype">bool</span> NoWrap = ControlsExit &amp;&amp; <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getNoWrapFlags(WrapType);</div>
<div class="line"><a name="l13179"></a><span class="lineno">13179</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div>
<div class="line"><a name="l13180"></a><span class="lineno">13180</span>&#160; </div>
<div class="line"><a name="l13181"></a><span class="lineno">13181</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Stride = <a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getStepRecurrence(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l13182"></a><span class="lineno">13182</span>&#160; </div>
<div class="line"><a name="l13183"></a><span class="lineno">13183</span>&#160;  <span class="comment">// Avoid negative or zero stride values</span></div>
<div class="line"><a name="l13184"></a><span class="lineno">13184</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(Stride))</div>
<div class="line"><a name="l13185"></a><span class="lineno">13185</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l13186"></a><span class="lineno">13186</span>&#160; </div>
<div class="line"><a name="l13187"></a><span class="lineno">13187</span>&#160;  <span class="comment">// Avoid proven overflow cases: this will ensure that the backedge taken count</span></div>
<div class="line"><a name="l13188"></a><span class="lineno">13188</span>&#160;  <span class="comment">// will not generate any unsigned overflow. Relaxed no-overflow conditions</span></div>
<div class="line"><a name="l13189"></a><span class="lineno">13189</span>&#160;  <span class="comment">// exploit NoWrapFlags, allowing to optimize in presence of undefined</span></div>
<div class="line"><a name="l13190"></a><span class="lineno">13190</span>&#160;  <span class="comment">// behaviors like the case of C language.</span></div>
<div class="line"><a name="l13191"></a><span class="lineno">13191</span>&#160;  <span class="keywordflow">if</span> (!Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#a1ecb726f4e7b445057b795ed500546a0">isOne</a>() &amp;&amp; !NoWrap)</div>
<div class="line"><a name="l13192"></a><span class="lineno">13192</span>&#160;    <span class="keywordflow">if</span> (canIVOverflowOnGT(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Stride, IsSigned))</div>
<div class="line"><a name="l13193"></a><span class="lineno">13193</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l13194"></a><span class="lineno">13194</span>&#160; </div>
<div class="line"><a name="l13195"></a><span class="lineno">13195</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getStart();</div>
<div class="line"><a name="l13196"></a><span class="lineno">13196</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *End = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l13197"></a><span class="lineno">13197</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(Start, Stride), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l13198"></a><span class="lineno">13198</span>&#160;    <span class="comment">// If we know that Start &gt;= RHS in the context of loop, then we know that</span></div>
<div class="line"><a name="l13199"></a><span class="lineno">13199</span>&#160;    <span class="comment">// min(RHS, Start) = RHS at this point.</span></div>
<div class="line"><a name="l13200"></a><span class="lineno">13200</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(</div>
<div class="line"><a name="l13201"></a><span class="lineno">13201</span>&#160;            L, IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>, Start, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l13202"></a><span class="lineno">13202</span>&#160;      End = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l13203"></a><span class="lineno">13203</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l13204"></a><span class="lineno">13204</span>&#160;      End = IsSigned ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">getSMinExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Start) : <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Start);</div>
<div class="line"><a name="l13205"></a><span class="lineno">13205</span>&#160;  }</div>
<div class="line"><a name="l13206"></a><span class="lineno">13206</span>&#160; </div>
<div class="line"><a name="l13207"></a><span class="lineno">13207</span>&#160;  <span class="keywordflow">if</span> (Start-&gt;getType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l13208"></a><span class="lineno">13208</span>&#160;    Start = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(Start);</div>
<div class="line"><a name="l13209"></a><span class="lineno">13209</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(Start))</div>
<div class="line"><a name="l13210"></a><span class="lineno">13210</span>&#160;      <span class="keywordflow">return</span> Start;</div>
<div class="line"><a name="l13211"></a><span class="lineno">13211</span>&#160;  }</div>
<div class="line"><a name="l13212"></a><span class="lineno">13212</span>&#160;  <span class="keywordflow">if</span> (End-&gt;getType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l13213"></a><span class="lineno">13213</span>&#160;    End = <a class="code" href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">getLosslessPtrToIntExpr</a>(End);</div>
<div class="line"><a name="l13214"></a><span class="lineno">13214</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(End))</div>
<div class="line"><a name="l13215"></a><span class="lineno">13215</span>&#160;      <span class="keywordflow">return</span> End;</div>
<div class="line"><a name="l13216"></a><span class="lineno">13216</span>&#160;  }</div>
<div class="line"><a name="l13217"></a><span class="lineno">13217</span>&#160; </div>
<div class="line"><a name="l13218"></a><span class="lineno">13218</span>&#160;  <span class="comment">// Compute ((Start - End) + (Stride - 1)) / Stride.</span></div>
<div class="line"><a name="l13219"></a><span class="lineno">13219</span>&#160;  <span class="comment">// FIXME: This can overflow. Holding off on fixing this for now;</span></div>
<div class="line"><a name="l13220"></a><span class="lineno">13220</span>&#160;  <span class="comment">// howManyGreaterThans will hopefully be gone soon.</span></div>
<div class="line"><a name="l13221"></a><span class="lineno">13221</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l13222"></a><span class="lineno">13222</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(</div>
<div class="line"><a name="l13223"></a><span class="lineno">13223</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Start, End), <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Stride, One)), Stride);</div>
<div class="line"><a name="l13224"></a><span class="lineno">13224</span>&#160; </div>
<div class="line"><a name="l13225"></a><span class="lineno">13225</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStart = IsSigned ? <a class="code" href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">getSignedRangeMax</a>(Start)</div>
<div class="line"><a name="l13226"></a><span class="lineno">13226</span>&#160;                            : <a class="code" href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">getUnsignedRangeMax</a>(Start);</div>
<div class="line"><a name="l13227"></a><span class="lineno">13227</span>&#160; </div>
<div class="line"><a name="l13228"></a><span class="lineno">13228</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinStride = IsSigned ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(Stride)</div>
<div class="line"><a name="l13229"></a><span class="lineno">13229</span>&#160;                             : <a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(Stride);</div>
<div class="line"><a name="l13230"></a><span class="lineno">13230</span>&#160; </div>
<div class="line"><a name="l13231"></a><span class="lineno">13231</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l13232"></a><span class="lineno">13232</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Limit = IsSigned ? <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) + (MinStride - 1)</div>
<div class="line"><a name="l13233"></a><span class="lineno">13233</span>&#160;                         : <a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) + (MinStride - 1);</div>
<div class="line"><a name="l13234"></a><span class="lineno">13234</span>&#160; </div>
<div class="line"><a name="l13235"></a><span class="lineno">13235</span>&#160;  <span class="comment">// Although End can be a MIN expression we estimate MinEnd considering only</span></div>
<div class="line"><a name="l13236"></a><span class="lineno">13236</span>&#160;  <span class="comment">// the case End = RHS. This is safe because in the other case (Start - End)</span></div>
<div class="line"><a name="l13237"></a><span class="lineno">13237</span>&#160;  <span class="comment">// is zero, leading to a zero maximum backedge taken count.</span></div>
<div class="line"><a name="l13238"></a><span class="lineno">13238</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinEnd =</div>
<div class="line"><a name="l13239"></a><span class="lineno">13239</span>&#160;    IsSigned ? <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">APIntOps::smax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">getSignedRangeMin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), Limit)</div>
<div class="line"><a name="l13240"></a><span class="lineno">13240</span>&#160;             : APIntOps::<a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">umax</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">getUnsignedRangeMin</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), Limit);</div>
<div class="line"><a name="l13241"></a><span class="lineno">13241</span>&#160; </div>
<div class="line"><a name="l13242"></a><span class="lineno">13242</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ConstantMaxBECount =</div>
<div class="line"><a name="l13243"></a><span class="lineno">13243</span>&#160;      isa&lt;SCEVConstant&gt;(BECount)</div>
<div class="line"><a name="l13244"></a><span class="lineno">13244</span>&#160;          ? BECount</div>
<div class="line"><a name="l13245"></a><span class="lineno">13245</span>&#160;          : <a class="code" href="classllvm_1_1ScalarEvolution.html#a0daed958320635f1a9d440819f5bd487">getUDivCeilSCEV</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(MaxStart - MinEnd),</div>
<div class="line"><a name="l13246"></a><span class="lineno">13246</span>&#160;                            <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(MinStride));</div>
<div class="line"><a name="l13247"></a><span class="lineno">13247</span>&#160; </div>
<div class="line"><a name="l13248"></a><span class="lineno">13248</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(ConstantMaxBECount))</div>
<div class="line"><a name="l13249"></a><span class="lineno">13249</span>&#160;    ConstantMaxBECount = BECount;</div>
<div class="line"><a name="l13250"></a><span class="lineno">13250</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymbolicMaxBECount =</div>
<div class="line"><a name="l13251"></a><span class="lineno">13251</span>&#160;      isa&lt;SCEVCouldNotCompute&gt;(BECount) ? ConstantMaxBECount : BECount;</div>
<div class="line"><a name="l13252"></a><span class="lineno">13252</span>&#160; </div>
<div class="line"><a name="l13253"></a><span class="lineno">13253</span>&#160;  <span class="keywordflow">return</span> ExitLimit(BECount, ConstantMaxBECount, SymbolicMaxBECount, <span class="keyword">false</span>,</div>
<div class="line"><a name="l13254"></a><span class="lineno">13254</span>&#160;                   Predicates);</div>
<div class="line"><a name="l13255"></a><span class="lineno">13255</span>&#160;}</div>
<div class="line"><a name="l13256"></a><span class="lineno">13256</span>&#160; </div>
<div class="line"><a name="l13257"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVAddRecExpr.html#a7e688afe102c3fa48ea49cb972a0f00c">13257</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7e688afe102c3fa48ea49cb972a0f00c">SCEVAddRecExpr::getNumIterationsInRange</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;Range,</div>
<div class="line"><a name="l13258"></a><span class="lineno">13258</span>&#160;                                                    <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l13259"></a><span class="lineno">13259</span>&#160;  <span class="keywordflow">if</span> (Range.isFullSet())  <span class="comment">// Infinite loop.</span></div>
<div class="line"><a name="l13260"></a><span class="lineno">13260</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l13261"></a><span class="lineno">13261</span>&#160; </div>
<div class="line"><a name="l13262"></a><span class="lineno">13262</span>&#160;  <span class="comment">// If the start is a non-zero constant, shift the range to simplify things.</span></div>
<div class="line"><a name="l13263"></a><span class="lineno">13263</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(getStart()))</div>
<div class="line"><a name="l13264"></a><span class="lineno">13264</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;isZero()) {</div>
<div class="line"><a name="l13265"></a><span class="lineno">13265</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>(operands());</div>
<div class="line"><a name="l13266"></a><span class="lineno">13266</span>&#160;      <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[0] = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getType());</div>
<div class="line"><a name="l13267"></a><span class="lineno">13267</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Shifted = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, getLoop(),</div>
<div class="line"><a name="l13268"></a><span class="lineno">13268</span>&#160;                                             getNoWrapFlags(FlagNW));</div>
<div class="line"><a name="l13269"></a><span class="lineno">13269</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ShiftedAddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(Shifted))</div>
<div class="line"><a name="l13270"></a><span class="lineno">13270</span>&#160;        <span class="keywordflow">return</span> ShiftedAddRec-&gt;getNumIterationsInRange(</div>
<div class="line"><a name="l13271"></a><span class="lineno">13271</span>&#160;            Range.subtract(<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getAPInt()), SE);</div>
<div class="line"><a name="l13272"></a><span class="lineno">13272</span>&#160;      <span class="comment">// This is strange and shouldn&#39;t happen.</span></div>
<div class="line"><a name="l13273"></a><span class="lineno">13273</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l13274"></a><span class="lineno">13274</span>&#160;    }</div>
<div class="line"><a name="l13275"></a><span class="lineno">13275</span>&#160; </div>
<div class="line"><a name="l13276"></a><span class="lineno">13276</span>&#160;  <span class="comment">// The only time we can solve this is when we have all constant indices.</span></div>
<div class="line"><a name="l13277"></a><span class="lineno">13277</span>&#160;  <span class="comment">// Otherwise, we cannot determine the overflow conditions.</span></div>
<div class="line"><a name="l13278"></a><span class="lineno">13278</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(operands(), [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) { <span class="keywordflow">return</span> !isa&lt;SCEVConstant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>); }))</div>
<div class="line"><a name="l13279"></a><span class="lineno">13279</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l13280"></a><span class="lineno">13280</span>&#160; </div>
<div class="line"><a name="l13281"></a><span class="lineno">13281</span>&#160;  <span class="comment">// Okay at this point we know that all elements of the chrec are constants and</span></div>
<div class="line"><a name="l13282"></a><span class="lineno">13282</span>&#160;  <span class="comment">// that the start element is zero.</span></div>
<div class="line"><a name="l13283"></a><span class="lineno">13283</span>&#160; </div>
<div class="line"><a name="l13284"></a><span class="lineno">13284</span>&#160;  <span class="comment">// First check to see if the range contains zero.  If not, the first</span></div>
<div class="line"><a name="l13285"></a><span class="lineno">13285</span>&#160;  <span class="comment">// iteration exits.</span></div>
<div class="line"><a name="l13286"></a><span class="lineno">13286</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l13287"></a><span class="lineno">13287</span>&#160;  <span class="keywordflow">if</span> (!Range.contains(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0)))</div>
<div class="line"><a name="l13288"></a><span class="lineno">13288</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">getZero</a>(<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l13289"></a><span class="lineno">13289</span>&#160; </div>
<div class="line"><a name="l13290"></a><span class="lineno">13290</span>&#160;  <span class="keywordflow">if</span> (isAffine()) {</div>
<div class="line"><a name="l13291"></a><span class="lineno">13291</span>&#160;    <span class="comment">// If this is an affine expression then we have this situation:</span></div>
<div class="line"><a name="l13292"></a><span class="lineno">13292</span>&#160;    <span class="comment">//   Solve {0,+,A} in Range  ===  Ax in Range</span></div>
<div class="line"><a name="l13293"></a><span class="lineno">13293</span>&#160; </div>
<div class="line"><a name="l13294"></a><span class="lineno">13294</span>&#160;    <span class="comment">// We know that zero is in the range.  If A is positive then we know that</span></div>
<div class="line"><a name="l13295"></a><span class="lineno">13295</span>&#160;    <span class="comment">// the upper value of the range must be the first possible exit value.</span></div>
<div class="line"><a name="l13296"></a><span class="lineno">13296</span>&#160;    <span class="comment">// If A is negative then the lower of the range is the last possible loop</span></div>
<div class="line"><a name="l13297"></a><span class="lineno">13297</span>&#160;    <span class="comment">// value.  Also note that we already checked for a full range.</span></div>
<div class="line"><a name="l13298"></a><span class="lineno">13298</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> A = cast&lt;SCEVConstant&gt;(getOperand(1))-&gt;getAPInt();</div>
<div class="line"><a name="l13299"></a><span class="lineno">13299</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> End = A.sge(1) ? (Range.getUpper() - 1) : Range.getLower();</div>
<div class="line"><a name="l13300"></a><span class="lineno">13300</span>&#160; </div>
<div class="line"><a name="l13301"></a><span class="lineno">13301</span>&#160;    <span class="comment">// The exit value should be (End+A)/A.</span></div>
<div class="line"><a name="l13302"></a><span class="lineno">13302</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> ExitVal = (End + A).udiv(A);</div>
<div class="line"><a name="l13303"></a><span class="lineno">13303</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ExitValue = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), ExitVal);</div>
<div class="line"><a name="l13304"></a><span class="lineno">13304</span>&#160; </div>
<div class="line"><a name="l13305"></a><span class="lineno">13305</span>&#160;    <span class="comment">// Evaluate at the exit value.  If we really did fall out of the valid</span></div>
<div class="line"><a name="l13306"></a><span class="lineno">13306</span>&#160;    <span class="comment">// range, then we computed our trip count, otherwise wrap around or other</span></div>
<div class="line"><a name="l13307"></a><span class="lineno">13307</span>&#160;    <span class="comment">// things must have happened.</span></div>
<div class="line"><a name="l13308"></a><span class="lineno">13308</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Val = <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(<span class="keyword">this</span>, ExitValue, SE);</div>
<div class="line"><a name="l13309"></a><span class="lineno">13309</span>&#160;    <span class="keywordflow">if</span> (Range.contains(Val-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>()))</div>
<div class="line"><a name="l13310"></a><span class="lineno">13310</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();  <span class="comment">// Something strange happened</span></div>
<div class="line"><a name="l13311"></a><span class="lineno">13311</span>&#160; </div>
<div class="line"><a name="l13312"></a><span class="lineno">13312</span>&#160;    <span class="comment">// Ensure that the previous value is in the range.</span></div>
<div class="line"><a name="l13313"></a><span class="lineno">13313</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Range.contains(</div>
<div class="line"><a name="l13314"></a><span class="lineno">13314</span>&#160;           <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(<span class="keyword">this</span>,</div>
<div class="line"><a name="l13315"></a><span class="lineno">13315</span>&#160;           <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">getContext</a>(), ExitVal - 1), SE)-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>()) &amp;&amp;</div>
<div class="line"><a name="l13316"></a><span class="lineno">13316</span>&#160;           <span class="stringliteral">&quot;Linear scev computation is off in a bad way!&quot;</span>);</div>
<div class="line"><a name="l13317"></a><span class="lineno">13317</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(ExitValue);</div>
<div class="line"><a name="l13318"></a><span class="lineno">13318</span>&#160;  }</div>
<div class="line"><a name="l13319"></a><span class="lineno">13319</span>&#160; </div>
<div class="line"><a name="l13320"></a><span class="lineno">13320</span>&#160;  <span class="keywordflow">if</span> (isQuadratic()) {</div>
<div class="line"><a name="l13321"></a><span class="lineno">13321</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="ScalarEvolution_8cpp.html#aebb9acb35b4f5ae7f3c6399eb088c082">SolveQuadraticAddRecRange</a>(<span class="keyword">this</span>, Range, SE))</div>
<div class="line"><a name="l13322"></a><span class="lineno">13322</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(*<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13323"></a><span class="lineno">13323</span>&#160;  }</div>
<div class="line"><a name="l13324"></a><span class="lineno">13324</span>&#160; </div>
<div class="line"><a name="l13325"></a><span class="lineno">13325</span>&#160;  <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l13326"></a><span class="lineno">13326</span>&#160;}</div>
<div class="line"><a name="l13327"></a><span class="lineno">13327</span>&#160; </div>
<div class="line"><a name="l13328"></a><span class="lineno">13328</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *</div>
<div class="line"><a name="l13329"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVAddRecExpr.html#a8e3dc6f52dcd0a9cf61508d5703cbe57">13329</a></span>&#160;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a8e3dc6f52dcd0a9cf61508d5703cbe57">SCEVAddRecExpr::getPostIncExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l13330"></a><span class="lineno">13330</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(getNumOperands() &gt; 1 &amp;&amp; <span class="stringliteral">&quot;AddRec with zero step?&quot;</span>);</div>
<div class="line"><a name="l13331"></a><span class="lineno">13331</span>&#160;  <span class="comment">// There is a temptation to just call getAddExpr(this, getStepRecurrence(SE)),</span></div>
<div class="line"><a name="l13332"></a><span class="lineno">13332</span>&#160;  <span class="comment">// but in this case we cannot guarantee that the value returned will be an</span></div>
<div class="line"><a name="l13333"></a><span class="lineno">13333</span>&#160;  <span class="comment">// AddRec because SCEV does not have a fixed point where it stops</span></div>
<div class="line"><a name="l13334"></a><span class="lineno">13334</span>&#160;  <span class="comment">// simplification: it is legal to return ({rec1} + {rec2}). For example, it</span></div>
<div class="line"><a name="l13335"></a><span class="lineno">13335</span>&#160;  <span class="comment">// may happen if we reach arithmetic depth limit while simplifying. So we</span></div>
<div class="line"><a name="l13336"></a><span class="lineno">13336</span>&#160;  <span class="comment">// construct the returned value explicitly.</span></div>
<div class="line"><a name="l13337"></a><span class="lineno">13337</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 3&gt;</a> Ops;</div>
<div class="line"><a name="l13338"></a><span class="lineno">13338</span>&#160;  <span class="comment">// If this is {A,+,B,+,C,...,+,N}, then its step is {B,+,C,+,...,+,N}, and</span></div>
<div class="line"><a name="l13339"></a><span class="lineno">13339</span>&#160;  <span class="comment">// (this + Step) is {A+B,+,B+C,+...,+,N}.</span></div>
<div class="line"><a name="l13340"></a><span class="lineno">13340</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = getNumOperands() - 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l13341"></a><span class="lineno">13341</span>&#160;    Ops.push_back(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1)));</div>
<div class="line"><a name="l13342"></a><span class="lineno">13342</span>&#160;  <span class="comment">// We know that the last operand is not a constant zero (otherwise it would</span></div>
<div class="line"><a name="l13343"></a><span class="lineno">13343</span>&#160;  <span class="comment">// have been popped out earlier). This guarantees us that if the result has</span></div>
<div class="line"><a name="l13344"></a><span class="lineno">13344</span>&#160;  <span class="comment">// the same last operand, then it will also not be popped out, meaning that</span></div>
<div class="line"><a name="l13345"></a><span class="lineno">13345</span>&#160;  <span class="comment">// the returned value will be an AddRec.</span></div>
<div class="line"><a name="l13346"></a><span class="lineno">13346</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a> = getOperand(getNumOperands() - 1);</div>
<div class="line"><a name="l13347"></a><span class="lineno">13347</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>-&gt;isZero() &amp;&amp; <span class="stringliteral">&quot;Recurrency with zero step?&quot;</span>);</div>
<div class="line"><a name="l13348"></a><span class="lineno">13348</span>&#160;  Ops.push_back(<a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>);</div>
<div class="line"><a name="l13349"></a><span class="lineno">13349</span>&#160;  <span class="keywordflow">return</span> cast&lt;SCEVAddRecExpr&gt;(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Ops, getLoop(),</div>
<div class="line"><a name="l13350"></a><span class="lineno">13350</span>&#160;                                               <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>));</div>
<div class="line"><a name="l13351"></a><span class="lineno">13351</span>&#160;}</div>
<div class="line"><a name="l13352"></a><span class="lineno">13352</span>&#160; </div>
<div class="line"><a name="l13353"></a><span class="lineno">13353</span>&#160;<span class="comment">// Return true when S contains at least an undef value.</span></div>
<div class="line"><a name="l13354"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aa8d280cc2c5792b3144274e675e36385">13354</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aa8d280cc2c5792b3144274e675e36385">ScalarEvolution::containsUndefs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l13355"></a><span class="lineno">13355</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#affb88623037a9864e030154052747ba1">SCEVExprContains</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l13356"></a><span class="lineno">13356</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *SU = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l13357"></a><span class="lineno">13357</span>&#160;      <span class="keywordflow">return</span> isa&lt;UndefValue&gt;(SU-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>());</div>
<div class="line"><a name="l13358"></a><span class="lineno">13358</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l13359"></a><span class="lineno">13359</span>&#160;  });</div>
<div class="line"><a name="l13360"></a><span class="lineno">13360</span>&#160;}</div>
<div class="line"><a name="l13361"></a><span class="lineno">13361</span>&#160; </div>
<div class="line"><a name="l13362"></a><span class="lineno">13362</span>&#160;<span class="comment">// Return true when S contains a value that is a nullptr.</span></div>
<div class="line"><a name="l13363"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#af327db7ab1b1996680bd467f6ce109bc">13363</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#af327db7ab1b1996680bd467f6ce109bc">ScalarEvolution::containsErasedValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l13364"></a><span class="lineno">13364</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#affb88623037a9864e030154052747ba1">SCEVExprContains</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l13365"></a><span class="lineno">13365</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *SU = dyn_cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l13366"></a><span class="lineno">13366</span>&#160;      <span class="keywordflow">return</span> SU-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>() == <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l13367"></a><span class="lineno">13367</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l13368"></a><span class="lineno">13368</span>&#160;  });</div>
<div class="line"><a name="l13369"></a><span class="lineno">13369</span>&#160;}</div>
<div class="line"><a name="l13370"></a><span class="lineno">13370</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l13371"></a><span class="lineno">13371</span>&#160;<span class="comment">/// Return the size of an element read or written by Inst.</span></div>
<div class="line"><a name="l13372"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ad61acd1c9fda9921a30f3ff510509873">13372</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ad61acd1c9fda9921a30f3ff510509873">ScalarEvolution::getElementSize</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div>
<div class="line"><a name="l13373"></a><span class="lineno">13373</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty;</div>
<div class="line"><a name="l13374"></a><span class="lineno">13374</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = dyn_cast&lt;StoreInst&gt;(Inst))</div>
<div class="line"><a name="l13375"></a><span class="lineno">13375</span>&#160;    Ty = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>-&gt;getValueOperand()-&gt;getType();</div>
<div class="line"><a name="l13376"></a><span class="lineno">13376</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = dyn_cast&lt;LoadInst&gt;(Inst))</div>
<div class="line"><a name="l13377"></a><span class="lineno">13377</span>&#160;    Ty = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType();</div>
<div class="line"><a name="l13378"></a><span class="lineno">13378</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l13379"></a><span class="lineno">13379</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l13380"></a><span class="lineno">13380</span>&#160; </div>
<div class="line"><a name="l13381"></a><span class="lineno">13381</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">getEffectiveSCEVType</a>(<a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(Ty));</div>
<div class="line"><a name="l13382"></a><span class="lineno">13382</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570">getSizeOfExpr</a>(ETy, Ty);</div>
<div class="line"><a name="l13383"></a><span class="lineno">13383</span>&#160;}</div>
<div class="line"><a name="l13384"></a><span class="lineno">13384</span>&#160; </div>
<div class="line"><a name="l13385"></a><span class="lineno">13385</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l13386"></a><span class="lineno">13386</span>&#160;<span class="comment">//                   SCEVCallbackVH Class Implementation</span></div>
<div class="line"><a name="l13387"></a><span class="lineno">13387</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l13388"></a><span class="lineno">13388</span>&#160; </div>
<div class="line"><a name="l13389"></a><span class="lineno">13389</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::SCEVCallbackVH::deleted() {</div>
<div class="line"><a name="l13390"></a><span class="lineno">13390</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SE &amp;&amp; <span class="stringliteral">&quot;SCEVCallbackVH called with a null ScalarEvolution!&quot;</span>);</div>
<div class="line"><a name="l13391"></a><span class="lineno">13391</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(getValPtr()))</div>
<div class="line"><a name="l13392"></a><span class="lineno">13392</span>&#160;    SE-&gt;ConstantEvolutionLoopExitValue.erase(PN);</div>
<div class="line"><a name="l13393"></a><span class="lineno">13393</span>&#160;  SE-&gt;eraseValueFromMap(getValPtr());</div>
<div class="line"><a name="l13394"></a><span class="lineno">13394</span>&#160;  <span class="comment">// this now dangles!</span></div>
<div class="line"><a name="l13395"></a><span class="lineno">13395</span>&#160;}</div>
<div class="line"><a name="l13396"></a><span class="lineno">13396</span>&#160; </div>
<div class="line"><a name="l13397"></a><span class="lineno">13397</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::SCEVCallbackVH::allUsesReplacedWith(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l13398"></a><span class="lineno">13398</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SE &amp;&amp; <span class="stringliteral">&quot;SCEVCallbackVH called with a null ScalarEvolution!&quot;</span>);</div>
<div class="line"><a name="l13399"></a><span class="lineno">13399</span>&#160; </div>
<div class="line"><a name="l13400"></a><span class="lineno">13400</span>&#160;  <span class="comment">// Forget all the expressions associated with users of the old value,</span></div>
<div class="line"><a name="l13401"></a><span class="lineno">13401</span>&#160;  <span class="comment">// so that future queries will recompute the expressions using the new</span></div>
<div class="line"><a name="l13402"></a><span class="lineno">13402</span>&#160;  <span class="comment">// value.</span></div>
<div class="line"><a name="l13403"></a><span class="lineno">13403</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Old = getValPtr();</div>
<div class="line"><a name="l13404"></a><span class="lineno">13404</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;User *, 16&gt;</a> Worklist(Old-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>());</div>
<div class="line"><a name="l13405"></a><span class="lineno">13405</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;User *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l13406"></a><span class="lineno">13406</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l13407"></a><span class="lineno">13407</span>&#160;    <a class="code" href="classllvm_1_1User.html">User</a> *U = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l13408"></a><span class="lineno">13408</span>&#160;    <span class="comment">// Deleting the Old value will cause this to dangle. Postpone</span></div>
<div class="line"><a name="l13409"></a><span class="lineno">13409</span>&#160;    <span class="comment">// that until everything else is done.</span></div>
<div class="line"><a name="l13410"></a><span class="lineno">13410</span>&#160;    <span class="keywordflow">if</span> (U == Old)</div>
<div class="line"><a name="l13411"></a><span class="lineno">13411</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13412"></a><span class="lineno">13412</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(U).second)</div>
<div class="line"><a name="l13413"></a><span class="lineno">13413</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13414"></a><span class="lineno">13414</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(U))</div>
<div class="line"><a name="l13415"></a><span class="lineno">13415</span>&#160;      SE-&gt;ConstantEvolutionLoopExitValue.erase(PN);</div>
<div class="line"><a name="l13416"></a><span class="lineno">13416</span>&#160;    SE-&gt;eraseValueFromMap(U);</div>
<div class="line"><a name="l13417"></a><span class="lineno">13417</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(Worklist, U-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>());</div>
<div class="line"><a name="l13418"></a><span class="lineno">13418</span>&#160;  }</div>
<div class="line"><a name="l13419"></a><span class="lineno">13419</span>&#160;  <span class="comment">// Delete the Old value.</span></div>
<div class="line"><a name="l13420"></a><span class="lineno">13420</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(Old))</div>
<div class="line"><a name="l13421"></a><span class="lineno">13421</span>&#160;    SE-&gt;ConstantEvolutionLoopExitValue.erase(PN);</div>
<div class="line"><a name="l13422"></a><span class="lineno">13422</span>&#160;  SE-&gt;eraseValueFromMap(Old);</div>
<div class="line"><a name="l13423"></a><span class="lineno">13423</span>&#160;  <span class="comment">// this now dangles!</span></div>
<div class="line"><a name="l13424"></a><span class="lineno">13424</span>&#160;}</div>
<div class="line"><a name="l13425"></a><span class="lineno">13425</span>&#160; </div>
<div class="line"><a name="l13426"></a><span class="lineno">13426</span>&#160;ScalarEvolution::SCEVCallbackVH::SCEVCallbackVH(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *se)</div>
<div class="line"><a name="l13427"></a><span class="lineno">13427</span>&#160;  : <a class="code" href="classllvm_1_1CallbackVH.html">CallbackVH</a>(V), SE(se) {}</div>
<div class="line"><a name="l13428"></a><span class="lineno">13428</span>&#160; </div>
<div class="line"><a name="l13429"></a><span class="lineno">13429</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l13430"></a><span class="lineno">13430</span>&#160;<span class="comment">//                   ScalarEvolution Class Implementation</span></div>
<div class="line"><a name="l13431"></a><span class="lineno">13431</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l13432"></a><span class="lineno">13432</span>&#160; </div>
<div class="line"><a name="l13433"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a3f0118e315585ef6debe98a13336ae75">13433</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a3f0118e315585ef6debe98a13336ae75">ScalarEvolution::ScalarEvolution</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI,</div>
<div class="line"><a name="l13434"></a><span class="lineno">13434</span>&#160;                                 <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT,</div>
<div class="line"><a name="l13435"></a><span class="lineno">13435</span>&#160;                                 <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</div>
<div class="line"><a name="l13436"></a><span class="lineno">13436</span>&#160;    : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>), TLI(TLI), AC(AC), DT(DT), LI(LI),</div>
<div class="line"><a name="l13437"></a><span class="lineno">13437</span>&#160;      CouldNotCompute(<a class="code" href="lib_2CodeGen_2README_8txt.html#a3f8966a44f193849a18c573b402472b8">new</a> <a class="code" href="structllvm_1_1SCEVCouldNotCompute.html">SCEVCouldNotCompute</a>()), ValuesAtScopes(64),</div>
<div class="line"><a name="l13438"></a><span class="lineno">13438</span>&#160;      LoopDispositions(64), BlockDispositions(64) {}</div>
<div class="line"><a name="l13439"></a><span class="lineno">13439</span>&#160; </div>
<div class="line"><a name="l13440"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a22e289929f2f90455f02bb5778cee6ca">13440</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a3f0118e315585ef6debe98a13336ae75">ScalarEvolution::ScalarEvolution</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;&amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>)</div>
<div class="line"><a name="l13441"></a><span class="lineno">13441</span>&#160;    : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>), TLI(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.TLI), AC(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.AC), DT(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.DT), LI(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.LI),</div>
<div class="line"><a name="l13442"></a><span class="lineno">13442</span>&#160;      CouldNotCompute(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.CouldNotCompute)),</div>
<div class="line"><a name="l13443"></a><span class="lineno">13443</span>&#160;      ValueExprMap(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.ValueExprMap)),</div>
<div class="line"><a name="l13444"></a><span class="lineno">13444</span>&#160;      PendingLoopPredicates(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.PendingLoopPredicates)),</div>
<div class="line"><a name="l13445"></a><span class="lineno">13445</span>&#160;      PendingPhiRanges(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.PendingPhiRanges)),</div>
<div class="line"><a name="l13446"></a><span class="lineno">13446</span>&#160;      PendingMerges(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.PendingMerges)),</div>
<div class="line"><a name="l13447"></a><span class="lineno">13447</span>&#160;      MinTrailingZerosCache(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.MinTrailingZerosCache)),</div>
<div class="line"><a name="l13448"></a><span class="lineno">13448</span>&#160;      BackedgeTakenCounts(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.BackedgeTakenCounts)),</div>
<div class="line"><a name="l13449"></a><span class="lineno">13449</span>&#160;      PredicatedBackedgeTakenCounts(</div>
<div class="line"><a name="l13450"></a><span class="lineno">13450</span>&#160;          <a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.PredicatedBackedgeTakenCounts)),</div>
<div class="line"><a name="l13451"></a><span class="lineno">13451</span>&#160;      BECountUsers(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.BECountUsers)),</div>
<div class="line"><a name="l13452"></a><span class="lineno">13452</span>&#160;      ConstantEvolutionLoopExitValue(</div>
<div class="line"><a name="l13453"></a><span class="lineno">13453</span>&#160;          <a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.ConstantEvolutionLoopExitValue)),</div>
<div class="line"><a name="l13454"></a><span class="lineno">13454</span>&#160;      ValuesAtScopes(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.ValuesAtScopes)),</div>
<div class="line"><a name="l13455"></a><span class="lineno">13455</span>&#160;      ValuesAtScopesUsers(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.ValuesAtScopesUsers)),</div>
<div class="line"><a name="l13456"></a><span class="lineno">13456</span>&#160;      LoopDispositions(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.LoopDispositions)),</div>
<div class="line"><a name="l13457"></a><span class="lineno">13457</span>&#160;      LoopPropertiesCache(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.LoopPropertiesCache)),</div>
<div class="line"><a name="l13458"></a><span class="lineno">13458</span>&#160;      BlockDispositions(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.BlockDispositions)),</div>
<div class="line"><a name="l13459"></a><span class="lineno">13459</span>&#160;      SCEVUsers(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.SCEVUsers)),</div>
<div class="line"><a name="l13460"></a><span class="lineno">13460</span>&#160;      UnsignedRanges(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.UnsignedRanges)),</div>
<div class="line"><a name="l13461"></a><span class="lineno">13461</span>&#160;      SignedRanges(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.SignedRanges)),</div>
<div class="line"><a name="l13462"></a><span class="lineno">13462</span>&#160;      UniqueSCEVs(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.UniqueSCEVs)),</div>
<div class="line"><a name="l13463"></a><span class="lineno">13463</span>&#160;      UniquePreds(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.UniquePreds)),</div>
<div class="line"><a name="l13464"></a><span class="lineno">13464</span>&#160;      SCEVAllocator(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.SCEVAllocator)),</div>
<div class="line"><a name="l13465"></a><span class="lineno">13465</span>&#160;      LoopUsers(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.LoopUsers)),</div>
<div class="line"><a name="l13466"></a><span class="lineno">13466</span>&#160;      PredicatedSCEVRewrites(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.PredicatedSCEVRewrites)),</div>
<div class="line"><a name="l13467"></a><span class="lineno">13467</span>&#160;      FirstUnknown(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.FirstUnknown) {</div>
<div class="line"><a name="l13468"></a><span class="lineno">13468</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.FirstUnknown = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l13469"></a><span class="lineno">13469</span>&#160;}</div>
<div class="line"><a name="l13470"></a><span class="lineno">13470</span>&#160; </div>
<div class="line"><a name="l13471"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aec226c51f8bffbf8fa3319bf11821cb9">13471</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#aec226c51f8bffbf8fa3319bf11821cb9">ScalarEvolution::~ScalarEvolution</a>() {</div>
<div class="line"><a name="l13472"></a><span class="lineno">13472</span>&#160;  <span class="comment">// Iterate through all the SCEVUnknown instances and call their</span></div>
<div class="line"><a name="l13473"></a><span class="lineno">13473</span>&#160;  <span class="comment">// destructors, so that they release their references to their values.</span></div>
<div class="line"><a name="l13474"></a><span class="lineno">13474</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U = FirstUnknown; U;) {</div>
<div class="line"><a name="l13475"></a><span class="lineno">13475</span>&#160;    <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Tmp = U;</div>
<div class="line"><a name="l13476"></a><span class="lineno">13476</span>&#160;    U = U-&gt;Next;</div>
<div class="line"><a name="l13477"></a><span class="lineno">13477</span>&#160;    Tmp-&gt;~SCEVUnknown();</div>
<div class="line"><a name="l13478"></a><span class="lineno">13478</span>&#160;  }</div>
<div class="line"><a name="l13479"></a><span class="lineno">13479</span>&#160;  FirstUnknown = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l13480"></a><span class="lineno">13480</span>&#160; </div>
<div class="line"><a name="l13481"></a><span class="lineno">13481</span>&#160;  ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l13482"></a><span class="lineno">13482</span>&#160;  ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l13483"></a><span class="lineno">13483</span>&#160;  HasRecMap.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l13484"></a><span class="lineno">13484</span>&#160;  BackedgeTakenCounts.clear();</div>
<div class="line"><a name="l13485"></a><span class="lineno">13485</span>&#160;  PredicatedBackedgeTakenCounts.clear();</div>
<div class="line"><a name="l13486"></a><span class="lineno">13486</span>&#160; </div>
<div class="line"><a name="l13487"></a><span class="lineno">13487</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PendingLoopPredicates.empty() &amp;&amp; <span class="stringliteral">&quot;isImpliedCond garbage&quot;</span>);</div>
<div class="line"><a name="l13488"></a><span class="lineno">13488</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PendingPhiRanges.empty() &amp;&amp; <span class="stringliteral">&quot;getRangeRef garbage&quot;</span>);</div>
<div class="line"><a name="l13489"></a><span class="lineno">13489</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PendingMerges.empty() &amp;&amp; <span class="stringliteral">&quot;isImpliedViaMerge garbage&quot;</span>);</div>
<div class="line"><a name="l13490"></a><span class="lineno">13490</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!WalkingBEDominatingConds &amp;&amp; <span class="stringliteral">&quot;isLoopBackedgeGuardedByCond garbage!&quot;</span>);</div>
<div class="line"><a name="l13491"></a><span class="lineno">13491</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ProvingSplitPredicate &amp;&amp; <span class="stringliteral">&quot;ProvingSplitPredicate garbage!&quot;</span>);</div>
<div class="line"><a name="l13492"></a><span class="lineno">13492</span>&#160;}</div>
<div class="line"><a name="l13493"></a><span class="lineno">13493</span>&#160; </div>
<div class="line"><a name="l13494"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">13494</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">ScalarEvolution::hasLoopInvariantBackedgeTakenCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l13495"></a><span class="lineno">13495</span>&#160;  <span class="keywordflow">return</span> !isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e">getBackedgeTakenCount</a>(L));</div>
<div class="line"><a name="l13496"></a><span class="lineno">13496</span>&#160;}</div>
<div class="line"><a name="l13497"></a><span class="lineno">13497</span>&#160; </div>
<div class="line"><a name="l13498"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa">13498</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa">PrintLoopInfo</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE,</div>
<div class="line"><a name="l13499"></a><span class="lineno">13499</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l13500"></a><span class="lineno">13500</span>&#160;  <span class="comment">// Print all inner loops first</span></div>
<div class="line"><a name="l13501"></a><span class="lineno">13501</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Loop.html">Loop</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *L)</div>
<div class="line"><a name="l13502"></a><span class="lineno">13502</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa">PrintLoopInfo</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, SE, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l13503"></a><span class="lineno">13503</span>&#160; </div>
<div class="line"><a name="l13504"></a><span class="lineno">13504</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Loop &quot;</span>;</div>
<div class="line"><a name="l13505"></a><span class="lineno">13505</span>&#160;  L-&gt;getHeader()-&gt;printAsOperand(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l13506"></a><span class="lineno">13506</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l13507"></a><span class="lineno">13507</span>&#160; </div>
<div class="line"><a name="l13508"></a><span class="lineno">13508</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 8&gt;</a> ExitingBlocks;</div>
<div class="line"><a name="l13509"></a><span class="lineno">13509</span>&#160;  L-&gt;getExitingBlocks(ExitingBlocks);</div>
<div class="line"><a name="l13510"></a><span class="lineno">13510</span>&#160;  <span class="keywordflow">if</span> (ExitingBlocks.size() != 1)</div>
<div class="line"><a name="l13511"></a><span class="lineno">13511</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;multiple exits&gt; &quot;</span>;</div>
<div class="line"><a name="l13512"></a><span class="lineno">13512</span>&#160; </div>
<div class="line"><a name="l13513"></a><span class="lineno">13513</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">hasLoopInvariantBackedgeTakenCount</a>(L))</div>
<div class="line"><a name="l13514"></a><span class="lineno">13514</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;backedge-taken count is &quot;</span> &lt;&lt; *SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e">getBackedgeTakenCount</a>(L) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13515"></a><span class="lineno">13515</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l13516"></a><span class="lineno">13516</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Unpredictable backedge-taken count.\n&quot;</span>;</div>
<div class="line"><a name="l13517"></a><span class="lineno">13517</span>&#160; </div>
<div class="line"><a name="l13518"></a><span class="lineno">13518</span>&#160;  <span class="keywordflow">if</span> (ExitingBlocks.size() &gt; 1)</div>
<div class="line"><a name="l13519"></a><span class="lineno">13519</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock : ExitingBlocks) {</div>
<div class="line"><a name="l13520"></a><span class="lineno">13520</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;  exit count for &quot;</span> &lt;&lt; ExitingBlock-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l13521"></a><span class="lineno">13521</span>&#160;         &lt;&lt; *SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">getExitCount</a>(L, ExitingBlock) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13522"></a><span class="lineno">13522</span>&#160;    }</div>
<div class="line"><a name="l13523"></a><span class="lineno">13523</span>&#160; </div>
<div class="line"><a name="l13524"></a><span class="lineno">13524</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Loop &quot;</span>;</div>
<div class="line"><a name="l13525"></a><span class="lineno">13525</span>&#160;  L-&gt;getHeader()-&gt;printAsOperand(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l13526"></a><span class="lineno">13526</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l13527"></a><span class="lineno">13527</span>&#160; </div>
<div class="line"><a name="l13528"></a><span class="lineno">13528</span>&#160;  <span class="keyword">auto</span> *ConstantBTC = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a80d7048687367a15d267ac5418b8a168">getConstantMaxBackedgeTakenCount</a>(L);</div>
<div class="line"><a name="l13529"></a><span class="lineno">13529</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(ConstantBTC)) {</div>
<div class="line"><a name="l13530"></a><span class="lineno">13530</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;constant max backedge-taken count is &quot;</span> &lt;&lt; *ConstantBTC;</div>
<div class="line"><a name="l13531"></a><span class="lineno">13531</span>&#160;    <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a57a6829dad387e7075a6325e3ec6ace5">isBackedgeTakenCountMaxOrZero</a>(L))</div>
<div class="line"><a name="l13532"></a><span class="lineno">13532</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;, actual taken count either this or zero.&quot;</span>;</div>
<div class="line"><a name="l13533"></a><span class="lineno">13533</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13534"></a><span class="lineno">13534</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Unpredictable constant max backedge-taken count. &quot;</span>;</div>
<div class="line"><a name="l13535"></a><span class="lineno">13535</span>&#160;  }</div>
<div class="line"><a name="l13536"></a><span class="lineno">13536</span>&#160; </div>
<div class="line"><a name="l13537"></a><span class="lineno">13537</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l13538"></a><span class="lineno">13538</span>&#160;        <span class="stringliteral">&quot;Loop &quot;</span>;</div>
<div class="line"><a name="l13539"></a><span class="lineno">13539</span>&#160;  L-&gt;getHeader()-&gt;printAsOperand(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l13540"></a><span class="lineno">13540</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l13541"></a><span class="lineno">13541</span>&#160; </div>
<div class="line"><a name="l13542"></a><span class="lineno">13542</span>&#160;  <span class="keyword">auto</span> *SymbolicBTC = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aa3e7344b86ba444cc1eb0c20fece4629">getSymbolicMaxBackedgeTakenCount</a>(L);</div>
<div class="line"><a name="l13543"></a><span class="lineno">13543</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(SymbolicBTC)) {</div>
<div class="line"><a name="l13544"></a><span class="lineno">13544</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;symbolic max backedge-taken count is &quot;</span> &lt;&lt; *SymbolicBTC;</div>
<div class="line"><a name="l13545"></a><span class="lineno">13545</span>&#160;    <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a57a6829dad387e7075a6325e3ec6ace5">isBackedgeTakenCountMaxOrZero</a>(L))</div>
<div class="line"><a name="l13546"></a><span class="lineno">13546</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;, actual taken count either this or zero.&quot;</span>;</div>
<div class="line"><a name="l13547"></a><span class="lineno">13547</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13548"></a><span class="lineno">13548</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Unpredictable symbolic max backedge-taken count. &quot;</span>;</div>
<div class="line"><a name="l13549"></a><span class="lineno">13549</span>&#160;  }</div>
<div class="line"><a name="l13550"></a><span class="lineno">13550</span>&#160; </div>
<div class="line"><a name="l13551"></a><span class="lineno">13551</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13552"></a><span class="lineno">13552</span>&#160;  <span class="keywordflow">if</span> (ExitingBlocks.size() &gt; 1)</div>
<div class="line"><a name="l13553"></a><span class="lineno">13553</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock : ExitingBlocks) {</div>
<div class="line"><a name="l13554"></a><span class="lineno">13554</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;  symbolic max exit count for &quot;</span> &lt;&lt; ExitingBlock-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l13555"></a><span class="lineno">13555</span>&#160;         &lt;&lt; *SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">getExitCount</a>(L, ExitingBlock, <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefa007c52805d507c0cc6d53cbea782eaf4">ScalarEvolution::SymbolicMaximum</a>)</div>
<div class="line"><a name="l13556"></a><span class="lineno">13556</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13557"></a><span class="lineno">13557</span>&#160;    }</div>
<div class="line"><a name="l13558"></a><span class="lineno">13558</span>&#160; </div>
<div class="line"><a name="l13559"></a><span class="lineno">13559</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Loop &quot;</span>;</div>
<div class="line"><a name="l13560"></a><span class="lineno">13560</span>&#160;  L-&gt;getHeader()-&gt;printAsOperand(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l13561"></a><span class="lineno">13561</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l13562"></a><span class="lineno">13562</span>&#160; </div>
<div class="line"><a name="l13563"></a><span class="lineno">13563</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEVPredicate *, 4&gt;</a> Preds;</div>
<div class="line"><a name="l13564"></a><span class="lineno">13564</span>&#160;  <span class="keyword">auto</span> PBT = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a79fea84c72cff6e47eb3079272bec666">getPredicatedBackedgeTakenCount</a>(L, Preds);</div>
<div class="line"><a name="l13565"></a><span class="lineno">13565</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(PBT)) {</div>
<div class="line"><a name="l13566"></a><span class="lineno">13566</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Predicated backedge-taken count is &quot;</span> &lt;&lt; *PBT &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13567"></a><span class="lineno">13567</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; Predicates:\n&quot;</span>;</div>
<div class="line"><a name="l13568"></a><span class="lineno">13568</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : Preds)</div>
<div class="line"><a name="l13569"></a><span class="lineno">13569</span>&#160;      <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;print(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, 4);</div>
<div class="line"><a name="l13570"></a><span class="lineno">13570</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13571"></a><span class="lineno">13571</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Unpredictable predicated backedge-taken count. &quot;</span>;</div>
<div class="line"><a name="l13572"></a><span class="lineno">13572</span>&#160;  }</div>
<div class="line"><a name="l13573"></a><span class="lineno">13573</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13574"></a><span class="lineno">13574</span>&#160; </div>
<div class="line"><a name="l13575"></a><span class="lineno">13575</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">hasLoopInvariantBackedgeTakenCount</a>(L)) {</div>
<div class="line"><a name="l13576"></a><span class="lineno">13576</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Loop &quot;</span>;</div>
<div class="line"><a name="l13577"></a><span class="lineno">13577</span>&#160;    L-&gt;getHeader()-&gt;printAsOperand(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l13578"></a><span class="lineno">13578</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l13579"></a><span class="lineno">13579</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Trip multiple is &quot;</span> &lt;&lt; SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9">getSmallConstantTripMultiple</a>(L) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13580"></a><span class="lineno">13580</span>&#160;  }</div>
<div class="line"><a name="l13581"></a><span class="lineno">13581</span>&#160;}</div>
<div class="line"><a name="l13582"></a><span class="lineno">13582</span>&#160; </div>
<div class="line"><a name="l13583"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#abd00c5af76d76d690df3147ac7c6aa3e">13583</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="ScalarEvolution_8cpp.html#abd00c5af76d76d690df3147ac7c6aa3e">loopDispositionToStr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">ScalarEvolution::LoopDisposition</a> <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>) {</div>
<div class="line"><a name="l13584"></a><span class="lineno">13584</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>) {</div>
<div class="line"><a name="l13585"></a><span class="lineno">13585</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">ScalarEvolution::LoopVariant</a>:</div>
<div class="line"><a name="l13586"></a><span class="lineno">13586</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Variant&quot;</span>;</div>
<div class="line"><a name="l13587"></a><span class="lineno">13587</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">ScalarEvolution::LoopInvariant</a>:</div>
<div class="line"><a name="l13588"></a><span class="lineno">13588</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invariant&quot;</span>;</div>
<div class="line"><a name="l13589"></a><span class="lineno">13589</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">ScalarEvolution::LoopComputable</a>:</div>
<div class="line"><a name="l13590"></a><span class="lineno">13590</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Computable&quot;</span>;</div>
<div class="line"><a name="l13591"></a><span class="lineno">13591</span>&#160;  }</div>
<div class="line"><a name="l13592"></a><span class="lineno">13592</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown ScalarEvolution::LoopDisposition kind!&quot;</span>);</div>
<div class="line"><a name="l13593"></a><span class="lineno">13593</span>&#160;}</div>
<div class="line"><a name="l13594"></a><span class="lineno">13594</span>&#160; </div>
<div class="line"><a name="l13595"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a77b275a78beac200ef1f703d2a5fbb7d">13595</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a77b275a78beac200ef1f703d2a5fbb7d">ScalarEvolution::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l13596"></a><span class="lineno">13596</span>&#160;  <span class="comment">// ScalarEvolution&#39;s implementation of the print method is to print</span></div>
<div class="line"><a name="l13597"></a><span class="lineno">13597</span>&#160;  <span class="comment">// out SCEV values of all instructions that are interesting. Doing</span></div>
<div class="line"><a name="l13598"></a><span class="lineno">13598</span>&#160;  <span class="comment">// this potentially causes it to create new SCEV objects though,</span></div>
<div class="line"><a name="l13599"></a><span class="lineno">13599</span>&#160;  <span class="comment">// which technically conflicts with the const qualifier. This isn&#39;t</span></div>
<div class="line"><a name="l13600"></a><span class="lineno">13600</span>&#160;  <span class="comment">// observable from outside the class though, so casting away the</span></div>
<div class="line"><a name="l13601"></a><span class="lineno">13601</span>&#160;  <span class="comment">// const isn&#39;t dangerous.</span></div>
<div class="line"><a name="l13602"></a><span class="lineno">13602</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE = *<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l13603"></a><span class="lineno">13603</span>&#160; </div>
<div class="line"><a name="l13604"></a><span class="lineno">13604</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#adc9e269a5cfb75ab636976cd2997f112">ClassifyExpressions</a>) {</div>
<div class="line"><a name="l13605"></a><span class="lineno">13605</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Classifying expressions for: &quot;</span>;</div>
<div class="line"><a name="l13606"></a><span class="lineno">13606</span>&#160;    F.<a class="code" href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">printAsOperand</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l13607"></a><span class="lineno">13607</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13608"></a><span class="lineno">13608</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(F))</div>
<div class="line"><a name="l13609"></a><span class="lineno">13609</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()) &amp;&amp; !isa&lt;CmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l13610"></a><span class="lineno">13610</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l13611"></a><span class="lineno">13611</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;  --&gt;  &quot;</span>;</div>
<div class="line"><a name="l13612"></a><span class="lineno">13612</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SV = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l13613"></a><span class="lineno">13613</span>&#160;        SV-&gt;<a class="code" href="classllvm_1_1SCEV.html#acdbe9e14ed6edbd5b5e3c252585902ec">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l13614"></a><span class="lineno">13614</span>&#160;        <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(SV)) {</div>
<div class="line"><a name="l13615"></a><span class="lineno">13615</span>&#160;          <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; U: &quot;</span>;</div>
<div class="line"><a name="l13616"></a><span class="lineno">13616</span>&#160;          SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(SV).<a class="code" href="classllvm_1_1ConstantRange.html#a8831f85b65cbcc9cf42d70988845a9f6">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l13617"></a><span class="lineno">13617</span>&#160;          <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; S: &quot;</span>;</div>
<div class="line"><a name="l13618"></a><span class="lineno">13618</span>&#160;          SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(SV).<a class="code" href="classllvm_1_1ConstantRange.html#a8831f85b65cbcc9cf42d70988845a9f6">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l13619"></a><span class="lineno">13619</span>&#160;        }</div>
<div class="line"><a name="l13620"></a><span class="lineno">13620</span>&#160; </div>
<div class="line"><a name="l13621"></a><span class="lineno">13621</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">getLoopFor</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent());</div>
<div class="line"><a name="l13622"></a><span class="lineno">13622</span>&#160; </div>
<div class="line"><a name="l13623"></a><span class="lineno">13623</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *AtUse = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(SV, L);</div>
<div class="line"><a name="l13624"></a><span class="lineno">13624</span>&#160;        <span class="keywordflow">if</span> (AtUse != SV) {</div>
<div class="line"><a name="l13625"></a><span class="lineno">13625</span>&#160;          <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;  --&gt;  &quot;</span>;</div>
<div class="line"><a name="l13626"></a><span class="lineno">13626</span>&#160;          AtUse-&gt;<a class="code" href="classllvm_1_1SCEV.html#acdbe9e14ed6edbd5b5e3c252585902ec">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l13627"></a><span class="lineno">13627</span>&#160;          <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(AtUse)) {</div>
<div class="line"><a name="l13628"></a><span class="lineno">13628</span>&#160;            <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; U: &quot;</span>;</div>
<div class="line"><a name="l13629"></a><span class="lineno">13629</span>&#160;            SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">getUnsignedRange</a>(AtUse).<a class="code" href="classllvm_1_1ConstantRange.html#a8831f85b65cbcc9cf42d70988845a9f6">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l13630"></a><span class="lineno">13630</span>&#160;            <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; S: &quot;</span>;</div>
<div class="line"><a name="l13631"></a><span class="lineno">13631</span>&#160;            SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">getSignedRange</a>(AtUse).<a class="code" href="classllvm_1_1ConstantRange.html#a8831f85b65cbcc9cf42d70988845a9f6">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l13632"></a><span class="lineno">13632</span>&#160;          }</div>
<div class="line"><a name="l13633"></a><span class="lineno">13633</span>&#160;        }</div>
<div class="line"><a name="l13634"></a><span class="lineno">13634</span>&#160; </div>
<div class="line"><a name="l13635"></a><span class="lineno">13635</span>&#160;        <span class="keywordflow">if</span> (L) {</div>
<div class="line"><a name="l13636"></a><span class="lineno">13636</span>&#160;          <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\t\t&quot;</span> <span class="stringliteral">&quot;Exits: &quot;</span>;</div>
<div class="line"><a name="l13637"></a><span class="lineno">13637</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExitValue = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(SV, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a62733c3335a87750623dbfc5b3ae4f6c">getParentLoop</a>());</div>
<div class="line"><a name="l13638"></a><span class="lineno">13638</span>&#160;          <span class="keywordflow">if</span> (!SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(ExitValue, L)) {</div>
<div class="line"><a name="l13639"></a><span class="lineno">13639</span>&#160;            <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;&lt;Unknown&gt;&gt;&quot;</span>;</div>
<div class="line"><a name="l13640"></a><span class="lineno">13640</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13641"></a><span class="lineno">13641</span>&#160;            <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; *ExitValue;</div>
<div class="line"><a name="l13642"></a><span class="lineno">13642</span>&#160;          }</div>
<div class="line"><a name="l13643"></a><span class="lineno">13643</span>&#160; </div>
<div class="line"><a name="l13644"></a><span class="lineno">13644</span>&#160;          <span class="keywordtype">bool</span> <a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l13645"></a><span class="lineno">13645</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Iter = L; Iter; Iter = Iter-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a62733c3335a87750623dbfc5b3ae4f6c">getParentLoop</a>()) {</div>
<div class="line"><a name="l13646"></a><span class="lineno">13646</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a>) {</div>
<div class="line"><a name="l13647"></a><span class="lineno">13647</span>&#160;              <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\t\t&quot;</span> <span class="stringliteral">&quot;LoopDispositions: { &quot;</span>;</div>
<div class="line"><a name="l13648"></a><span class="lineno">13648</span>&#160;              <a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l13649"></a><span class="lineno">13649</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13650"></a><span class="lineno">13650</span>&#160;              <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l13651"></a><span class="lineno">13651</span>&#160;            }</div>
<div class="line"><a name="l13652"></a><span class="lineno">13652</span>&#160; </div>
<div class="line"><a name="l13653"></a><span class="lineno">13653</span>&#160;            Iter-&gt;getHeader()-&gt;printAsOperand(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l13654"></a><span class="lineno">13654</span>&#160;            <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="ScalarEvolution_8cpp.html#abd00c5af76d76d690df3147ac7c6aa3e">loopDispositionToStr</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(SV, Iter));</div>
<div class="line"><a name="l13655"></a><span class="lineno">13655</span>&#160;          }</div>
<div class="line"><a name="l13656"></a><span class="lineno">13656</span>&#160; </div>
<div class="line"><a name="l13657"></a><span class="lineno">13657</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *InnerL : <a class="code" href="namespacellvm.html#add49d9f7abebe402adf1a57c762abeef">depth_first</a>(L)) {</div>
<div class="line"><a name="l13658"></a><span class="lineno">13658</span>&#160;            <span class="keywordflow">if</span> (InnerL == L)</div>
<div class="line"><a name="l13659"></a><span class="lineno">13659</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13660"></a><span class="lineno">13660</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a>) {</div>
<div class="line"><a name="l13661"></a><span class="lineno">13661</span>&#160;              <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\t\t&quot;</span> <span class="stringliteral">&quot;LoopDispositions: { &quot;</span>;</div>
<div class="line"><a name="l13662"></a><span class="lineno">13662</span>&#160;              <a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l13663"></a><span class="lineno">13663</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13664"></a><span class="lineno">13664</span>&#160;              <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l13665"></a><span class="lineno">13665</span>&#160;            }</div>
<div class="line"><a name="l13666"></a><span class="lineno">13666</span>&#160; </div>
<div class="line"><a name="l13667"></a><span class="lineno">13667</span>&#160;            InnerL-&gt;getHeader()-&gt;printAsOperand(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l13668"></a><span class="lineno">13668</span>&#160;            <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="ScalarEvolution_8cpp.html#abd00c5af76d76d690df3147ac7c6aa3e">loopDispositionToStr</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(SV, InnerL));</div>
<div class="line"><a name="l13669"></a><span class="lineno">13669</span>&#160;          }</div>
<div class="line"><a name="l13670"></a><span class="lineno">13670</span>&#160; </div>
<div class="line"><a name="l13671"></a><span class="lineno">13671</span>&#160;          <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; }&quot;</span>;</div>
<div class="line"><a name="l13672"></a><span class="lineno">13672</span>&#160;        }</div>
<div class="line"><a name="l13673"></a><span class="lineno">13673</span>&#160; </div>
<div class="line"><a name="l13674"></a><span class="lineno">13674</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13675"></a><span class="lineno">13675</span>&#160;      }</div>
<div class="line"><a name="l13676"></a><span class="lineno">13676</span>&#160;  }</div>
<div class="line"><a name="l13677"></a><span class="lineno">13677</span>&#160; </div>
<div class="line"><a name="l13678"></a><span class="lineno">13678</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Determining loop execution counts for: &quot;</span>;</div>
<div class="line"><a name="l13679"></a><span class="lineno">13679</span>&#160;  F.<a class="code" href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">printAsOperand</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l13680"></a><span class="lineno">13680</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l13681"></a><span class="lineno">13681</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Loop.html">Loop</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : LI)</div>
<div class="line"><a name="l13682"></a><span class="lineno">13682</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa">PrintLoopInfo</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, &amp;SE, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l13683"></a><span class="lineno">13683</span>&#160;}</div>
<div class="line"><a name="l13684"></a><span class="lineno">13684</span>&#160; </div>
<div class="line"><a name="l13685"></a><span class="lineno">13685</span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">ScalarEvolution::LoopDisposition</a></div>
<div class="line"><a name="l13686"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">13686</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">ScalarEvolution::getLoopDisposition</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l13687"></a><span class="lineno">13687</span>&#160;  <span class="keyword">auto</span> &amp;Values = LoopDispositions[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>];</div>
<div class="line"><a name="l13688"></a><span class="lineno">13688</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;V : Values) {</div>
<div class="line"><a name="l13689"></a><span class="lineno">13689</span>&#160;    <span class="keywordflow">if</span> (V.getPointer() == L)</div>
<div class="line"><a name="l13690"></a><span class="lineno">13690</span>&#160;      <span class="keywordflow">return</span> V.getInt();</div>
<div class="line"><a name="l13691"></a><span class="lineno">13691</span>&#160;  }</div>
<div class="line"><a name="l13692"></a><span class="lineno">13692</span>&#160;  Values.emplace_back(L, <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>);</div>
<div class="line"><a name="l13693"></a><span class="lineno">13693</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">LoopDisposition</a> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = computeLoopDisposition(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, L);</div>
<div class="line"><a name="l13694"></a><span class="lineno">13694</span>&#160;  <span class="keyword">auto</span> &amp;Values2 = LoopDispositions[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>];</div>
<div class="line"><a name="l13695"></a><span class="lineno">13695</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;V : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(Values2)) {</div>
<div class="line"><a name="l13696"></a><span class="lineno">13696</span>&#160;    <span class="keywordflow">if</span> (V.getPointer() == L) {</div>
<div class="line"><a name="l13697"></a><span class="lineno">13697</span>&#160;      V.setInt(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>);</div>
<div class="line"><a name="l13698"></a><span class="lineno">13698</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13699"></a><span class="lineno">13699</span>&#160;    }</div>
<div class="line"><a name="l13700"></a><span class="lineno">13700</span>&#160;  }</div>
<div class="line"><a name="l13701"></a><span class="lineno">13701</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>;</div>
<div class="line"><a name="l13702"></a><span class="lineno">13702</span>&#160;}</div>
<div class="line"><a name="l13703"></a><span class="lineno">13703</span>&#160; </div>
<div class="line"><a name="l13704"></a><span class="lineno">13704</span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">ScalarEvolution::LoopDisposition</a></div>
<div class="line"><a name="l13705"></a><span class="lineno">13705</span>&#160;ScalarEvolution::computeLoopDisposition(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l13706"></a><span class="lineno">13706</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType()) {</div>
<div class="line"><a name="l13707"></a><span class="lineno">13707</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l13708"></a><span class="lineno">13708</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div>
<div class="line"><a name="l13709"></a><span class="lineno">13709</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div>
<div class="line"><a name="l13710"></a><span class="lineno">13710</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13711"></a><span class="lineno">13711</span>&#160; </div>
<div class="line"><a name="l13712"></a><span class="lineno">13712</span>&#160;    <span class="comment">// If L is the addrec&#39;s loop, it&#39;s computable.</span></div>
<div class="line"><a name="l13713"></a><span class="lineno">13713</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() == L)</div>
<div class="line"><a name="l13714"></a><span class="lineno">13714</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">LoopComputable</a>;</div>
<div class="line"><a name="l13715"></a><span class="lineno">13715</span>&#160; </div>
<div class="line"><a name="l13716"></a><span class="lineno">13716</span>&#160;    <span class="comment">// Add recurrences are never invariant in the function-body (null loop).</span></div>
<div class="line"><a name="l13717"></a><span class="lineno">13717</span>&#160;    <span class="keywordflow">if</span> (!L)</div>
<div class="line"><a name="l13718"></a><span class="lineno">13718</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div>
<div class="line"><a name="l13719"></a><span class="lineno">13719</span>&#160; </div>
<div class="line"><a name="l13720"></a><span class="lineno">13720</span>&#160;    <span class="comment">// Everything that is not defined at loop entry is variant.</span></div>
<div class="line"><a name="l13721"></a><span class="lineno">13721</span>&#160;    <span class="keywordflow">if</span> (DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>(), AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()))</div>
<div class="line"><a name="l13722"></a><span class="lineno">13722</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div>
<div class="line"><a name="l13723"></a><span class="lineno">13723</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()) &amp;&amp; <span class="stringliteral">&quot;Containing loop&#39;s header does not&quot;</span></div>
<div class="line"><a name="l13724"></a><span class="lineno">13724</span>&#160;           <span class="stringliteral">&quot; dominate the contained loop&#39;s header?&quot;</span>);</div>
<div class="line"><a name="l13725"></a><span class="lineno">13725</span>&#160; </div>
<div class="line"><a name="l13726"></a><span class="lineno">13726</span>&#160;    <span class="comment">// This recurrence is invariant w.r.t. L if AR&#39;s loop contains L.</span></div>
<div class="line"><a name="l13727"></a><span class="lineno">13727</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(L))</div>
<div class="line"><a name="l13728"></a><span class="lineno">13728</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div>
<div class="line"><a name="l13729"></a><span class="lineno">13729</span>&#160; </div>
<div class="line"><a name="l13730"></a><span class="lineno">13730</span>&#160;    <span class="comment">// This recurrence is variant w.r.t. L if any of its operands</span></div>
<div class="line"><a name="l13731"></a><span class="lineno">13731</span>&#160;    <span class="comment">// are variant.</span></div>
<div class="line"><a name="l13732"></a><span class="lineno">13732</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">operands</a>())</div>
<div class="line"><a name="l13733"></a><span class="lineno">13733</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, L))</div>
<div class="line"><a name="l13734"></a><span class="lineno">13734</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div>
<div class="line"><a name="l13735"></a><span class="lineno">13735</span>&#160; </div>
<div class="line"><a name="l13736"></a><span class="lineno">13736</span>&#160;    <span class="comment">// Otherwise it&#39;s loop-invariant.</span></div>
<div class="line"><a name="l13737"></a><span class="lineno">13737</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div>
<div class="line"><a name="l13738"></a><span class="lineno">13738</span>&#160;  }</div>
<div class="line"><a name="l13739"></a><span class="lineno">13739</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l13740"></a><span class="lineno">13740</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l13741"></a><span class="lineno">13741</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l13742"></a><span class="lineno">13742</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l13743"></a><span class="lineno">13743</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l13744"></a><span class="lineno">13744</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l13745"></a><span class="lineno">13745</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l13746"></a><span class="lineno">13746</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l13747"></a><span class="lineno">13747</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l13748"></a><span class="lineno">13748</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l13749"></a><span class="lineno">13749</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l13750"></a><span class="lineno">13750</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>: {</div>
<div class="line"><a name="l13751"></a><span class="lineno">13751</span>&#160;    <span class="keywordtype">bool</span> HasVarying = <span class="keyword">false</span>;</div>
<div class="line"><a name="l13752"></a><span class="lineno">13752</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;operands()) {</div>
<div class="line"><a name="l13753"></a><span class="lineno">13753</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">LoopDisposition</a> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, L);</div>
<div class="line"><a name="l13754"></a><span class="lineno">13754</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>)</div>
<div class="line"><a name="l13755"></a><span class="lineno">13755</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div>
<div class="line"><a name="l13756"></a><span class="lineno">13756</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">LoopComputable</a>)</div>
<div class="line"><a name="l13757"></a><span class="lineno">13757</span>&#160;        HasVarying = <span class="keyword">true</span>;</div>
<div class="line"><a name="l13758"></a><span class="lineno">13758</span>&#160;    }</div>
<div class="line"><a name="l13759"></a><span class="lineno">13759</span>&#160;    <span class="keywordflow">return</span> HasVarying ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">LoopComputable</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div>
<div class="line"><a name="l13760"></a><span class="lineno">13760</span>&#160;  }</div>
<div class="line"><a name="l13761"></a><span class="lineno">13761</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div>
<div class="line"><a name="l13762"></a><span class="lineno">13762</span>&#160;    <span class="comment">// All non-instruction values are loop invariant.  All instructions are loop</span></div>
<div class="line"><a name="l13763"></a><span class="lineno">13763</span>&#160;    <span class="comment">// invariant if they are not contained in the specified loop.</span></div>
<div class="line"><a name="l13764"></a><span class="lineno">13764</span>&#160;    <span class="comment">// Instructions are never considered invariant in the function body</span></div>
<div class="line"><a name="l13765"></a><span class="lineno">13765</span>&#160;    <span class="comment">// (null loop) because they are defined within the &quot;loop&quot;.</span></div>
<div class="line"><a name="l13766"></a><span class="lineno">13766</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)-&gt;getValue()))</div>
<div class="line"><a name="l13767"></a><span class="lineno">13767</span>&#160;      <span class="keywordflow">return</span> (L &amp;&amp; !L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div>
<div class="line"><a name="l13768"></a><span class="lineno">13768</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div>
<div class="line"><a name="l13769"></a><span class="lineno">13769</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l13770"></a><span class="lineno">13770</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l13771"></a><span class="lineno">13771</span>&#160;  }</div>
<div class="line"><a name="l13772"></a><span class="lineno">13772</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l13773"></a><span class="lineno">13773</span>&#160;}</div>
<div class="line"><a name="l13774"></a><span class="lineno">13774</span>&#160; </div>
<div class="line"><a name="l13775"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">13775</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">ScalarEvolution::isLoopInvariant</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l13776"></a><span class="lineno">13776</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, L) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div>
<div class="line"><a name="l13777"></a><span class="lineno">13777</span>&#160;}</div>
<div class="line"><a name="l13778"></a><span class="lineno">13778</span>&#160; </div>
<div class="line"><a name="l13779"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac258f0361a1c35f5814a2b529139d15c">13779</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac258f0361a1c35f5814a2b529139d15c">ScalarEvolution::hasComputableLoopEvolution</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l13780"></a><span class="lineno">13780</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, L) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">LoopComputable</a>;</div>
<div class="line"><a name="l13781"></a><span class="lineno">13781</span>&#160;}</div>
<div class="line"><a name="l13782"></a><span class="lineno">13782</span>&#160; </div>
<div class="line"><a name="l13783"></a><span class="lineno">13783</span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">ScalarEvolution::BlockDisposition</a></div>
<div class="line"><a name="l13784"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">13784</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">ScalarEvolution::getBlockDisposition</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l13785"></a><span class="lineno">13785</span>&#160;  <span class="keyword">auto</span> &amp;Values = BlockDispositions[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>];</div>
<div class="line"><a name="l13786"></a><span class="lineno">13786</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;V : Values) {</div>
<div class="line"><a name="l13787"></a><span class="lineno">13787</span>&#160;    <span class="keywordflow">if</span> (V.getPointer() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l13788"></a><span class="lineno">13788</span>&#160;      <span class="keywordflow">return</span> V.getInt();</div>
<div class="line"><a name="l13789"></a><span class="lineno">13789</span>&#160;  }</div>
<div class="line"><a name="l13790"></a><span class="lineno">13790</span>&#160;  Values.emplace_back(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>);</div>
<div class="line"><a name="l13791"></a><span class="lineno">13791</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">BlockDisposition</a> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = computeBlockDisposition(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l13792"></a><span class="lineno">13792</span>&#160;  <span class="keyword">auto</span> &amp;Values2 = BlockDispositions[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>];</div>
<div class="line"><a name="l13793"></a><span class="lineno">13793</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;V : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(Values2)) {</div>
<div class="line"><a name="l13794"></a><span class="lineno">13794</span>&#160;    <span class="keywordflow">if</span> (V.getPointer() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l13795"></a><span class="lineno">13795</span>&#160;      V.setInt(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>);</div>
<div class="line"><a name="l13796"></a><span class="lineno">13796</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13797"></a><span class="lineno">13797</span>&#160;    }</div>
<div class="line"><a name="l13798"></a><span class="lineno">13798</span>&#160;  }</div>
<div class="line"><a name="l13799"></a><span class="lineno">13799</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>;</div>
<div class="line"><a name="l13800"></a><span class="lineno">13800</span>&#160;}</div>
<div class="line"><a name="l13801"></a><span class="lineno">13801</span>&#160; </div>
<div class="line"><a name="l13802"></a><span class="lineno">13802</span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">ScalarEvolution::BlockDisposition</a></div>
<div class="line"><a name="l13803"></a><span class="lineno">13803</span>&#160;ScalarEvolution::computeBlockDisposition(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l13804"></a><span class="lineno">13804</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSCEVType()) {</div>
<div class="line"><a name="l13805"></a><span class="lineno">13805</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div>
<div class="line"><a name="l13806"></a><span class="lineno">13806</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a>;</div>
<div class="line"><a name="l13807"></a><span class="lineno">13807</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div>
<div class="line"><a name="l13808"></a><span class="lineno">13808</span>&#160;    <span class="comment">// This uses a &quot;dominates&quot; query instead of &quot;properly dominates&quot; query</span></div>
<div class="line"><a name="l13809"></a><span class="lineno">13809</span>&#160;    <span class="comment">// to test for proper dominance too, because the instruction which</span></div>
<div class="line"><a name="l13810"></a><span class="lineno">13810</span>&#160;    <span class="comment">// produces the addrec&#39;s value is a PHI, and a PHI effectively properly</span></div>
<div class="line"><a name="l13811"></a><span class="lineno">13811</span>&#160;    <span class="comment">// dominates its entire containing block.</span></div>
<div class="line"><a name="l13812"></a><span class="lineno">13812</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13813"></a><span class="lineno">13813</span>&#160;    <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l13814"></a><span class="lineno">13814</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>;</div>
<div class="line"><a name="l13815"></a><span class="lineno">13815</span>&#160; </div>
<div class="line"><a name="l13816"></a><span class="lineno">13816</span>&#160;    <span class="comment">// Fall through into SCEVNAryExpr handling.</span></div>
<div class="line"><a name="l13817"></a><span class="lineno">13817</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l13818"></a><span class="lineno">13818</span>&#160;  }</div>
<div class="line"><a name="l13819"></a><span class="lineno">13819</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div>
<div class="line"><a name="l13820"></a><span class="lineno">13820</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div>
<div class="line"><a name="l13821"></a><span class="lineno">13821</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div>
<div class="line"><a name="l13822"></a><span class="lineno">13822</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">scPtrToInt</a>:</div>
<div class="line"><a name="l13823"></a><span class="lineno">13823</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div>
<div class="line"><a name="l13824"></a><span class="lineno">13824</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div>
<div class="line"><a name="l13825"></a><span class="lineno">13825</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div>
<div class="line"><a name="l13826"></a><span class="lineno">13826</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div>
<div class="line"><a name="l13827"></a><span class="lineno">13827</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div>
<div class="line"><a name="l13828"></a><span class="lineno">13828</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">scUMinExpr</a>:</div>
<div class="line"><a name="l13829"></a><span class="lineno">13829</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">scSMinExpr</a>:</div>
<div class="line"><a name="l13830"></a><span class="lineno">13830</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">scSequentialUMinExpr</a>: {</div>
<div class="line"><a name="l13831"></a><span class="lineno">13831</span>&#160;    <span class="keywordtype">bool</span> Proper = <span class="keyword">true</span>;</div>
<div class="line"><a name="l13832"></a><span class="lineno">13832</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NAryOp : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;operands()) {</div>
<div class="line"><a name="l13833"></a><span class="lineno">13833</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">BlockDisposition</a> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(NAryOp, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l13834"></a><span class="lineno">13834</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>)</div>
<div class="line"><a name="l13835"></a><span class="lineno">13835</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>;</div>
<div class="line"><a name="l13836"></a><span class="lineno">13836</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">DominatesBlock</a>)</div>
<div class="line"><a name="l13837"></a><span class="lineno">13837</span>&#160;        Proper = <span class="keyword">false</span>;</div>
<div class="line"><a name="l13838"></a><span class="lineno">13838</span>&#160;    }</div>
<div class="line"><a name="l13839"></a><span class="lineno">13839</span>&#160;    <span class="keywordflow">return</span> Proper ? <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">DominatesBlock</a>;</div>
<div class="line"><a name="l13840"></a><span class="lineno">13840</span>&#160;  }</div>
<div class="line"><a name="l13841"></a><span class="lineno">13841</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div>
<div class="line"><a name="l13842"></a><span class="lineno">13842</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div>
<div class="line"><a name="l13843"></a><span class="lineno">13843</span>&#160;          dyn_cast&lt;Instruction&gt;(cast&lt;SCEVUnknown&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)-&gt;getValue())) {</div>
<div class="line"><a name="l13844"></a><span class="lineno">13844</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l13845"></a><span class="lineno">13845</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">DominatesBlock</a>;</div>
<div class="line"><a name="l13846"></a><span class="lineno">13846</span>&#160;      <span class="keywordflow">if</span> (DT.<a class="code" href="classllvm_1_1DominatorTreeBase.html#ade6d93f9485649bade540a37ec163058">properlyDominates</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l13847"></a><span class="lineno">13847</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a>;</div>
<div class="line"><a name="l13848"></a><span class="lineno">13848</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>;</div>
<div class="line"><a name="l13849"></a><span class="lineno">13849</span>&#160;    }</div>
<div class="line"><a name="l13850"></a><span class="lineno">13850</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a>;</div>
<div class="line"><a name="l13851"></a><span class="lineno">13851</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div>
<div class="line"><a name="l13852"></a><span class="lineno">13852</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div>
<div class="line"><a name="l13853"></a><span class="lineno">13853</span>&#160;  }</div>
<div class="line"><a name="l13854"></a><span class="lineno">13854</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div>
<div class="line"><a name="l13855"></a><span class="lineno">13855</span>&#160;}</div>
<div class="line"><a name="l13856"></a><span class="lineno">13856</span>&#160; </div>
<div class="line"><a name="l13857"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac7ccf429f5c75676bdacadf3c9d1c7fa">13857</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac7ccf429f5c75676bdacadf3c9d1c7fa">ScalarEvolution::dominates</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l13858"></a><span class="lineno">13858</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &gt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">DominatesBlock</a>;</div>
<div class="line"><a name="l13859"></a><span class="lineno">13859</span>&#160;}</div>
<div class="line"><a name="l13860"></a><span class="lineno">13860</span>&#160; </div>
<div class="line"><a name="l13861"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae0d036af111b8aafe90db0771b8e9ce3">13861</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ae0d036af111b8aafe90db0771b8e9ce3">ScalarEvolution::properlyDominates</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l13862"></a><span class="lineno">13862</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a>;</div>
<div class="line"><a name="l13863"></a><span class="lineno">13863</span>&#160;}</div>
<div class="line"><a name="l13864"></a><span class="lineno">13864</span>&#160; </div>
<div class="line"><a name="l13865"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a694848007e26a83150b8dbd67e58fbdd">13865</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a694848007e26a83150b8dbd67e58fbdd">ScalarEvolution::hasOperand</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l13866"></a><span class="lineno">13866</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#affb88623037a9864e030154052747ba1">SCEVExprContains</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr) { <span class="keywordflow">return</span> Expr == <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>; });</div>
<div class="line"><a name="l13867"></a><span class="lineno">13867</span>&#160;}</div>
<div class="line"><a name="l13868"></a><span class="lineno">13868</span>&#160; </div>
<div class="line"><a name="l13869"></a><span class="lineno">13869</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::forgetBackedgeTakenCounts(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l13870"></a><span class="lineno">13870</span>&#160;                                                <span class="keywordtype">bool</span> Predicated) {</div>
<div class="line"><a name="l13871"></a><span class="lineno">13871</span>&#160;  <span class="keyword">auto</span> &amp;BECounts =</div>
<div class="line"><a name="l13872"></a><span class="lineno">13872</span>&#160;      Predicated ? PredicatedBackedgeTakenCounts : BackedgeTakenCounts;</div>
<div class="line"><a name="l13873"></a><span class="lineno">13873</span>&#160;  <span class="keyword">auto</span> It = BECounts.find(L);</div>
<div class="line"><a name="l13874"></a><span class="lineno">13874</span>&#160;  <span class="keywordflow">if</span> (It != BECounts.end()) {</div>
<div class="line"><a name="l13875"></a><span class="lineno">13875</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> ExitNotTakenInfo &amp;ENT : It-&gt;second.ExitNotTaken) {</div>
<div class="line"><a name="l13876"></a><span class="lineno">13876</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : {ENT.ExactNotTaken, ENT.SymbolicMaxNotTaken}) {</div>
<div class="line"><a name="l13877"></a><span class="lineno">13877</span>&#160;        <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)) {</div>
<div class="line"><a name="l13878"></a><span class="lineno">13878</span>&#160;          <span class="keyword">auto</span> UserIt = BECountUsers.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13879"></a><span class="lineno">13879</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UserIt != BECountUsers.end());</div>
<div class="line"><a name="l13880"></a><span class="lineno">13880</span>&#160;          UserIt-&gt;second.erase({L, Predicated});</div>
<div class="line"><a name="l13881"></a><span class="lineno">13881</span>&#160;        }</div>
<div class="line"><a name="l13882"></a><span class="lineno">13882</span>&#160;      }</div>
<div class="line"><a name="l13883"></a><span class="lineno">13883</span>&#160;    }</div>
<div class="line"><a name="l13884"></a><span class="lineno">13884</span>&#160;    BECounts.erase(It);</div>
<div class="line"><a name="l13885"></a><span class="lineno">13885</span>&#160;  }</div>
<div class="line"><a name="l13886"></a><span class="lineno">13886</span>&#160;}</div>
<div class="line"><a name="l13887"></a><span class="lineno">13887</span>&#160; </div>
<div class="line"><a name="l13888"></a><span class="lineno">13888</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::forgetMemoizedResults(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> SCEVs) {</div>
<div class="line"><a name="l13889"></a><span class="lineno">13889</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEV *, 8&gt;</a> ToForget(SCEVs.<a class="code" href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">begin</a>(), SCEVs.<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>());</div>
<div class="line"><a name="l13890"></a><span class="lineno">13890</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> Worklist(ToForget.begin(), ToForget.end());</div>
<div class="line"><a name="l13891"></a><span class="lineno">13891</span>&#160; </div>
<div class="line"><a name="l13892"></a><span class="lineno">13892</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l13893"></a><span class="lineno">13893</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Curr = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l13894"></a><span class="lineno">13894</span>&#160;    <span class="keyword">auto</span> <a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a> = SCEVUsers.find(Curr);</div>
<div class="line"><a name="l13895"></a><span class="lineno">13895</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a> != SCEVUsers.end())</div>
<div class="line"><a name="l13896"></a><span class="lineno">13896</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="classllvm_1_1User.html">User</a> : <a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a>-&gt;second)</div>
<div class="line"><a name="l13897"></a><span class="lineno">13897</span>&#160;        <span class="keywordflow">if</span> (ToForget.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(<a class="code" href="classllvm_1_1User.html">User</a>).second)</div>
<div class="line"><a name="l13898"></a><span class="lineno">13898</span>&#160;          Worklist.push_back(<a class="code" href="classllvm_1_1User.html">User</a>);</div>
<div class="line"><a name="l13899"></a><span class="lineno">13899</span>&#160;  }</div>
<div class="line"><a name="l13900"></a><span class="lineno">13900</span>&#160; </div>
<div class="line"><a name="l13901"></a><span class="lineno">13901</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : ToForget)</div>
<div class="line"><a name="l13902"></a><span class="lineno">13902</span>&#160;    forgetMemoizedResultsImpl(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13903"></a><span class="lineno">13903</span>&#160; </div>
<div class="line"><a name="l13904"></a><span class="lineno">13904</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = PredicatedSCEVRewrites.begin();</div>
<div class="line"><a name="l13905"></a><span class="lineno">13905</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != PredicatedSCEVRewrites.end();) {</div>
<div class="line"><a name="l13906"></a><span class="lineno">13906</span>&#160;    std::pair&lt;const SCEV *, const Loop *&gt; Entry = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first;</div>
<div class="line"><a name="l13907"></a><span class="lineno">13907</span>&#160;    <span class="keywordflow">if</span> (ToForget.count(Entry.first))</div>
<div class="line"><a name="l13908"></a><span class="lineno">13908</span>&#160;      PredicatedSCEVRewrites.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++);</div>
<div class="line"><a name="l13909"></a><span class="lineno">13909</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l13910"></a><span class="lineno">13910</span>&#160;      ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l13911"></a><span class="lineno">13911</span>&#160;  }</div>
<div class="line"><a name="l13912"></a><span class="lineno">13912</span>&#160;}</div>
<div class="line"><a name="l13913"></a><span class="lineno">13913</span>&#160; </div>
<div class="line"><a name="l13914"></a><span class="lineno">13914</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::forgetMemoizedResultsImpl(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l13915"></a><span class="lineno">13915</span>&#160;  LoopDispositions.erase(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13916"></a><span class="lineno">13916</span>&#160;  BlockDispositions.erase(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13917"></a><span class="lineno">13917</span>&#160;  UnsignedRanges.erase(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13918"></a><span class="lineno">13918</span>&#160;  SignedRanges.erase(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13919"></a><span class="lineno">13919</span>&#160;  HasRecMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13920"></a><span class="lineno">13920</span>&#160;  MinTrailingZerosCache.erase(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13921"></a><span class="lineno">13921</span>&#160; </div>
<div class="line"><a name="l13922"></a><span class="lineno">13922</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)) {</div>
<div class="line"><a name="l13923"></a><span class="lineno">13923</span>&#160;    UnsignedWrapViaInductionTried.erase(AR);</div>
<div class="line"><a name="l13924"></a><span class="lineno">13924</span>&#160;    SignedWrapViaInductionTried.erase(AR);</div>
<div class="line"><a name="l13925"></a><span class="lineno">13925</span>&#160;  }</div>
<div class="line"><a name="l13926"></a><span class="lineno">13926</span>&#160; </div>
<div class="line"><a name="l13927"></a><span class="lineno">13927</span>&#160;  <span class="keyword">auto</span> ExprIt = ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13928"></a><span class="lineno">13928</span>&#160;  <span class="keywordflow">if</span> (ExprIt != ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l13929"></a><span class="lineno">13929</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : ExprIt-&gt;second) {</div>
<div class="line"><a name="l13930"></a><span class="lineno">13930</span>&#160;      <span class="keyword">auto</span> ValueIt = ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d0e3c8c4929835ce78f942191d8d719">find_as</a>(V);</div>
<div class="line"><a name="l13931"></a><span class="lineno">13931</span>&#160;      <span class="keywordflow">if</span> (ValueIt != ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l13932"></a><span class="lineno">13932</span>&#160;        ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(ValueIt);</div>
<div class="line"><a name="l13933"></a><span class="lineno">13933</span>&#160;    }</div>
<div class="line"><a name="l13934"></a><span class="lineno">13934</span>&#160;    ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(ExprIt);</div>
<div class="line"><a name="l13935"></a><span class="lineno">13935</span>&#160;  }</div>
<div class="line"><a name="l13936"></a><span class="lineno">13936</span>&#160; </div>
<div class="line"><a name="l13937"></a><span class="lineno">13937</span>&#160;  <span class="keyword">auto</span> ScopeIt = ValuesAtScopes.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13938"></a><span class="lineno">13938</span>&#160;  <span class="keywordflow">if</span> (ScopeIt != ValuesAtScopes.end()) {</div>
<div class="line"><a name="l13939"></a><span class="lineno">13939</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : ScopeIt-&gt;second)</div>
<div class="line"><a name="l13940"></a><span class="lineno">13940</span>&#160;      <span class="keywordflow">if</span> (!isa_and_nonnull&lt;SCEVConstant&gt;(Pair.second))</div>
<div class="line"><a name="l13941"></a><span class="lineno">13941</span>&#160;        <a class="code" href="namespacellvm.html#aa82bb12b2879425012b3742487e10964">erase_value</a>(ValuesAtScopesUsers[Pair.second],</div>
<div class="line"><a name="l13942"></a><span class="lineno">13942</span>&#160;                    std::make_pair(Pair.first, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>));</div>
<div class="line"><a name="l13943"></a><span class="lineno">13943</span>&#160;    ValuesAtScopes.erase(ScopeIt);</div>
<div class="line"><a name="l13944"></a><span class="lineno">13944</span>&#160;  }</div>
<div class="line"><a name="l13945"></a><span class="lineno">13945</span>&#160; </div>
<div class="line"><a name="l13946"></a><span class="lineno">13946</span>&#160;  <span class="keyword">auto</span> ScopeUserIt = ValuesAtScopesUsers.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13947"></a><span class="lineno">13947</span>&#160;  <span class="keywordflow">if</span> (ScopeUserIt != ValuesAtScopesUsers.end()) {</div>
<div class="line"><a name="l13948"></a><span class="lineno">13948</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : ScopeUserIt-&gt;second)</div>
<div class="line"><a name="l13949"></a><span class="lineno">13949</span>&#160;      <a class="code" href="namespacellvm.html#aa82bb12b2879425012b3742487e10964">erase_value</a>(ValuesAtScopes[Pair.second], std::make_pair(Pair.first, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>));</div>
<div class="line"><a name="l13950"></a><span class="lineno">13950</span>&#160;    ValuesAtScopesUsers.erase(ScopeUserIt);</div>
<div class="line"><a name="l13951"></a><span class="lineno">13951</span>&#160;  }</div>
<div class="line"><a name="l13952"></a><span class="lineno">13952</span>&#160; </div>
<div class="line"><a name="l13953"></a><span class="lineno">13953</span>&#160;  <span class="keyword">auto</span> BEUsersIt = BECountUsers.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13954"></a><span class="lineno">13954</span>&#160;  <span class="keywordflow">if</span> (BEUsersIt != BECountUsers.end()) {</div>
<div class="line"><a name="l13955"></a><span class="lineno">13955</span>&#160;    <span class="comment">// Work on a copy, as forgetBackedgeTakenCounts() will modify the original.</span></div>
<div class="line"><a name="l13956"></a><span class="lineno">13956</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1codeview.html#ad37302702bbcf0028581d2655698c27aa5fb63579fc981698f97d55bfecb213ea">Copy</a> = BEUsersIt-&gt;second;</div>
<div class="line"><a name="l13957"></a><span class="lineno">13957</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : Copy)</div>
<div class="line"><a name="l13958"></a><span class="lineno">13958</span>&#160;      forgetBackedgeTakenCounts(Pair.getPointer(), Pair.getInt());</div>
<div class="line"><a name="l13959"></a><span class="lineno">13959</span>&#160;    BECountUsers.erase(BEUsersIt);</div>
<div class="line"><a name="l13960"></a><span class="lineno">13960</span>&#160;  }</div>
<div class="line"><a name="l13961"></a><span class="lineno">13961</span>&#160; </div>
<div class="line"><a name="l13962"></a><span class="lineno">13962</span>&#160;  <span class="keyword">auto</span> FoldUser = FoldCacheUser.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13963"></a><span class="lineno">13963</span>&#160;  <span class="keywordflow">if</span> (FoldUser != FoldCacheUser.end())</div>
<div class="line"><a name="l13964"></a><span class="lineno">13964</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;KV : FoldUser-&gt;second)</div>
<div class="line"><a name="l13965"></a><span class="lineno">13965</span>&#160;      FoldCache.erase(KV);</div>
<div class="line"><a name="l13966"></a><span class="lineno">13966</span>&#160;  FoldCacheUser.erase(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13967"></a><span class="lineno">13967</span>&#160;}</div>
<div class="line"><a name="l13968"></a><span class="lineno">13968</span>&#160; </div>
<div class="line"><a name="l13969"></a><span class="lineno">13969</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l13970"></a><span class="lineno">13970</span>&#160;ScalarEvolution::getUsedLoops(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>,</div>
<div class="line"><a name="l13971"></a><span class="lineno">13971</span>&#160;                              <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const Loop *&gt;</a> &amp;LoopsUsed) {</div>
<div class="line"><a name="l13972"></a><span class="lineno">13972</span>&#160;  <span class="keyword">struct </span>FindUsedLoops {</div>
<div class="line"><a name="l13973"></a><span class="lineno">13973</span>&#160;    FindUsedLoops(<a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const Loop *&gt;</a> &amp;LoopsUsed)</div>
<div class="line"><a name="l13974"></a><span class="lineno">13974</span>&#160;        : LoopsUsed(LoopsUsed) {}</div>
<div class="line"><a name="l13975"></a><span class="lineno">13975</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const Loop *&gt;</a> &amp;LoopsUsed;</div>
<div class="line"><a name="l13976"></a><span class="lineno">13976</span>&#160;    <span class="keywordtype">bool</span> follow(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l13977"></a><span class="lineno">13977</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l13978"></a><span class="lineno">13978</span>&#160;        LoopsUsed.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>());</div>
<div class="line"><a name="l13979"></a><span class="lineno">13979</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l13980"></a><span class="lineno">13980</span>&#160;    }</div>
<div class="line"><a name="l13981"></a><span class="lineno">13981</span>&#160; </div>
<div class="line"><a name="l13982"></a><span class="lineno">13982</span>&#160;    <span class="keywordtype">bool</span> isDone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l13983"></a><span class="lineno">13983</span>&#160;  };</div>
<div class="line"><a name="l13984"></a><span class="lineno">13984</span>&#160; </div>
<div class="line"><a name="l13985"></a><span class="lineno">13985</span>&#160;  FindUsedLoops F(LoopsUsed);</div>
<div class="line"><a name="l13986"></a><span class="lineno">13986</span>&#160;  <a class="code" href="classllvm_1_1SCEVTraversal.html">SCEVTraversal&lt;FindUsedLoops&gt;</a>(F).<a class="code" href="classllvm_1_1SCEVTraversal.html#aa3e492f428e815c1c89e3a5625e2c233">visitAll</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l13987"></a><span class="lineno">13987</span>&#160;}</div>
<div class="line"><a name="l13988"></a><span class="lineno">13988</span>&#160; </div>
<div class="line"><a name="l13989"></a><span class="lineno">13989</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::getReachableBlocks(</div>
<div class="line"><a name="l13990"></a><span class="lineno">13990</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;BasicBlock *&gt;</a> &amp;Reachable, <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l13991"></a><span class="lineno">13991</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *&gt;</a> Worklist;</div>
<div class="line"><a name="l13992"></a><span class="lineno">13992</span>&#160;  Worklist.push_back(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getEntryBlock());</div>
<div class="line"><a name="l13993"></a><span class="lineno">13993</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l13994"></a><span class="lineno">13994</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l13995"></a><span class="lineno">13995</span>&#160;    <span class="keywordflow">if</span> (!Reachable.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>).second)</div>
<div class="line"><a name="l13996"></a><span class="lineno">13996</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13997"></a><span class="lineno">13997</span>&#160; </div>
<div class="line"><a name="l13998"></a><span class="lineno">13998</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>;</div>
<div class="line"><a name="l13999"></a><span class="lineno">13999</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *TrueBB, *FalseBB;</div>
<div class="line"><a name="l14000"></a><span class="lineno">14000</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a4fd27a44c5fd9958fdd9150622129cd3">m_Br</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#acec0ee78d2266b990662e36784791999">m_BasicBlock</a>(TrueBB),</div>
<div class="line"><a name="l14001"></a><span class="lineno">14001</span>&#160;                                        <a class="code" href="namespacellvm_1_1PatternMatch.html#acec0ee78d2266b990662e36784791999">m_BasicBlock</a>(FalseBB)))) {</div>
<div class="line"><a name="l14002"></a><span class="lineno">14002</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)) {</div>
<div class="line"><a name="l14003"></a><span class="lineno">14003</span>&#160;        Worklist.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isOne() ? TrueBB : FalseBB);</div>
<div class="line"><a name="l14004"></a><span class="lineno">14004</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14005"></a><span class="lineno">14005</span>&#160;      }</div>
<div class="line"><a name="l14006"></a><span class="lineno">14006</span>&#160; </div>
<div class="line"><a name="l14007"></a><span class="lineno">14007</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Cmp = dyn_cast&lt;ICmpInst&gt;(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)) {</div>
<div class="line"><a name="l14008"></a><span class="lineno">14008</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *L = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l14009"></a><span class="lineno">14009</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l14010"></a><span class="lineno">14010</span>&#160;        <span class="keywordflow">if</span> (isKnownPredicateViaConstantRanges(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>-&gt;getPredicate(), L, R)) {</div>
<div class="line"><a name="l14011"></a><span class="lineno">14011</span>&#160;          Worklist.push_back(TrueBB);</div>
<div class="line"><a name="l14012"></a><span class="lineno">14012</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14013"></a><span class="lineno">14013</span>&#160;        }</div>
<div class="line"><a name="l14014"></a><span class="lineno">14014</span>&#160;        <span class="keywordflow">if</span> (isKnownPredicateViaConstantRanges(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>-&gt;getInversePredicate(), L,</div>
<div class="line"><a name="l14015"></a><span class="lineno">14015</span>&#160;                                              R)) {</div>
<div class="line"><a name="l14016"></a><span class="lineno">14016</span>&#160;          Worklist.push_back(FalseBB);</div>
<div class="line"><a name="l14017"></a><span class="lineno">14017</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14018"></a><span class="lineno">14018</span>&#160;        }</div>
<div class="line"><a name="l14019"></a><span class="lineno">14019</span>&#160;      }</div>
<div class="line"><a name="l14020"></a><span class="lineno">14020</span>&#160;    }</div>
<div class="line"><a name="l14021"></a><span class="lineno">14021</span>&#160; </div>
<div class="line"><a name="l14022"></a><span class="lineno">14022</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(Worklist, <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l14023"></a><span class="lineno">14023</span>&#160;  }</div>
<div class="line"><a name="l14024"></a><span class="lineno">14024</span>&#160;}</div>
<div class="line"><a name="l14025"></a><span class="lineno">14025</span>&#160; </div>
<div class="line"><a name="l14026"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aff82c03c1ce8b945170bcb1f0f624c17">14026</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aff82c03c1ce8b945170bcb1f0f624c17">ScalarEvolution::verify</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14027"></a><span class="lineno">14027</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE = *<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l14028"></a><span class="lineno">14028</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> SE2(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, TLI, AC, DT, LI);</div>
<div class="line"><a name="l14029"></a><span class="lineno">14029</span>&#160; </div>
<div class="line"><a name="l14030"></a><span class="lineno">14030</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Loop *, 8&gt;</a> LoopStack(LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#ab447b41b9c51151b5c6ef497a60689ae">begin</a>(), LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a4f728602e7d377829675f13446cf6647">end</a>());</div>
<div class="line"><a name="l14031"></a><span class="lineno">14031</span>&#160; </div>
<div class="line"><a name="l14032"></a><span class="lineno">14032</span>&#160;  <span class="comment">// Map&#39;s SCEV expressions from one ScalarEvolution &quot;universe&quot; to another.</span></div>
<div class="line"><a name="l14033"></a><span class="lineno">14033</span>&#160;  <span class="keyword">struct </span>SCEVMapper : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>&lt;SCEVMapper&gt; {</div>
<div class="line"><a name="l14034"></a><span class="lineno">14034</span>&#160;    SCEVMapper(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) : <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor&lt;SCEVMapper&gt;</a>(SE) {}</div>
<div class="line"><a name="l14035"></a><span class="lineno">14035</span>&#160; </div>
<div class="line"><a name="l14036"></a><span class="lineno">14036</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="classllvm_1_1Constant.html">Constant</a>) {</div>
<div class="line"><a name="l14037"></a><span class="lineno">14037</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1Constant.html">Constant</a>-&gt;getAPInt());</div>
<div class="line"><a name="l14038"></a><span class="lineno">14038</span>&#160;    }</div>
<div class="line"><a name="l14039"></a><span class="lineno">14039</span>&#160; </div>
<div class="line"><a name="l14040"></a><span class="lineno">14040</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div>
<div class="line"><a name="l14041"></a><span class="lineno">14041</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">getUnknown</a>(Expr-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>());</div>
<div class="line"><a name="l14042"></a><span class="lineno">14042</span>&#160;    }</div>
<div class="line"><a name="l14043"></a><span class="lineno">14043</span>&#160; </div>
<div class="line"><a name="l14044"></a><span class="lineno">14044</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitCouldNotCompute(<span class="keyword">const</span> <a class="code" href="structllvm_1_1SCEVCouldNotCompute.html">SCEVCouldNotCompute</a> *Expr) {</div>
<div class="line"><a name="l14045"></a><span class="lineno">14045</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l14046"></a><span class="lineno">14046</span>&#160;    }</div>
<div class="line"><a name="l14047"></a><span class="lineno">14047</span>&#160;  };</div>
<div class="line"><a name="l14048"></a><span class="lineno">14048</span>&#160; </div>
<div class="line"><a name="l14049"></a><span class="lineno">14049</span>&#160;  SCEVMapper SCM(SE2);</div>
<div class="line"><a name="l14050"></a><span class="lineno">14050</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 16&gt;</a> ReachableBlocks;</div>
<div class="line"><a name="l14051"></a><span class="lineno">14051</span>&#160;  SE2.getReachableBlocks(ReachableBlocks, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l14052"></a><span class="lineno">14052</span>&#160; </div>
<div class="line"><a name="l14053"></a><span class="lineno">14053</span>&#160;  <span class="keyword">auto</span> GetDelta = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Old, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *New) -&gt; <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> * {</div>
<div class="line"><a name="l14054"></a><span class="lineno">14054</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#aa8d280cc2c5792b3144274e675e36385">containsUndefs</a>(Old) || <a class="code" href="classllvm_1_1ScalarEvolution.html#aa8d280cc2c5792b3144274e675e36385">containsUndefs</a>(New)) {</div>
<div class="line"><a name="l14055"></a><span class="lineno">14055</span>&#160;      <span class="comment">// SCEV treats &quot;undef&quot; as an unknown but consistent value (i.e. it does</span></div>
<div class="line"><a name="l14056"></a><span class="lineno">14056</span>&#160;      <span class="comment">// not propagate undef aggressively).  This means we can (and do) fail</span></div>
<div class="line"><a name="l14057"></a><span class="lineno">14057</span>&#160;      <span class="comment">// verification in cases where a transform makes a value go from &quot;undef&quot;</span></div>
<div class="line"><a name="l14058"></a><span class="lineno">14058</span>&#160;      <span class="comment">// to &quot;undef+1&quot; (say).  The transform is fine, since in both cases the</span></div>
<div class="line"><a name="l14059"></a><span class="lineno">14059</span>&#160;      <span class="comment">// result is &quot;undef&quot;, but SCEV thinks the value increased by 1.</span></div>
<div class="line"><a name="l14060"></a><span class="lineno">14060</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l14061"></a><span class="lineno">14061</span>&#160;    }</div>
<div class="line"><a name="l14062"></a><span class="lineno">14062</span>&#160; </div>
<div class="line"><a name="l14063"></a><span class="lineno">14063</span>&#160;    <span class="comment">// Unless VerifySCEVStrict is set, we only compare constant deltas.</span></div>
<div class="line"><a name="l14064"></a><span class="lineno">14064</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Delta = SE2.<a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(Old, New);</div>
<div class="line"><a name="l14065"></a><span class="lineno">14065</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ScalarEvolution_8cpp.html#a70846800c022a3cffe285317f3a5d70d">VerifySCEVStrict</a> &amp;&amp; !isa&lt;SCEVConstant&gt;(Delta))</div>
<div class="line"><a name="l14066"></a><span class="lineno">14066</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l14067"></a><span class="lineno">14067</span>&#160; </div>
<div class="line"><a name="l14068"></a><span class="lineno">14068</span>&#160;    <span class="keywordflow">return</span> Delta;</div>
<div class="line"><a name="l14069"></a><span class="lineno">14069</span>&#160;  };</div>
<div class="line"><a name="l14070"></a><span class="lineno">14070</span>&#160; </div>
<div class="line"><a name="l14071"></a><span class="lineno">14071</span>&#160;  <span class="keywordflow">while</span> (!LoopStack.empty()) {</div>
<div class="line"><a name="l14072"></a><span class="lineno">14072</span>&#160;    <span class="keyword">auto</span> *L = LoopStack.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l14073"></a><span class="lineno">14073</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(LoopStack, *L);</div>
<div class="line"><a name="l14074"></a><span class="lineno">14074</span>&#160; </div>
<div class="line"><a name="l14075"></a><span class="lineno">14075</span>&#160;    <span class="comment">// Only verify BECounts in reachable loops. For an unreachable loop,</span></div>
<div class="line"><a name="l14076"></a><span class="lineno">14076</span>&#160;    <span class="comment">// any BECount is legal.</span></div>
<div class="line"><a name="l14077"></a><span class="lineno">14077</span>&#160;    <span class="keywordflow">if</span> (!ReachableBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(L-&gt;getHeader()))</div>
<div class="line"><a name="l14078"></a><span class="lineno">14078</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14079"></a><span class="lineno">14079</span>&#160; </div>
<div class="line"><a name="l14080"></a><span class="lineno">14080</span>&#160;    <span class="comment">// Only verify cached BECounts. Computing new BECounts may change the</span></div>
<div class="line"><a name="l14081"></a><span class="lineno">14081</span>&#160;    <span class="comment">// results of subsequent SCEV uses.</span></div>
<div class="line"><a name="l14082"></a><span class="lineno">14082</span>&#160;    <span class="keyword">auto</span> It = BackedgeTakenCounts.find(L);</div>
<div class="line"><a name="l14083"></a><span class="lineno">14083</span>&#160;    <span class="keywordflow">if</span> (It == BackedgeTakenCounts.end())</div>
<div class="line"><a name="l14084"></a><span class="lineno">14084</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14085"></a><span class="lineno">14085</span>&#160; </div>
<div class="line"><a name="l14086"></a><span class="lineno">14086</span>&#160;    <span class="keyword">auto</span> *CurBECount =</div>
<div class="line"><a name="l14087"></a><span class="lineno">14087</span>&#160;        SCM.visit(It-&gt;second.getExact(L, <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)));</div>
<div class="line"><a name="l14088"></a><span class="lineno">14088</span>&#160;    <span class="keyword">auto</span> *NewBECount = SE2.<a class="code" href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e">getBackedgeTakenCount</a>(L);</div>
<div class="line"><a name="l14089"></a><span class="lineno">14089</span>&#160; </div>
<div class="line"><a name="l14090"></a><span class="lineno">14090</span>&#160;    <span class="keywordflow">if</span> (CurBECount == SE2.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() ||</div>
<div class="line"><a name="l14091"></a><span class="lineno">14091</span>&#160;        NewBECount == SE2.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()) {</div>
<div class="line"><a name="l14092"></a><span class="lineno">14092</span>&#160;      <span class="comment">// NB! This situation is legal, but is very suspicious -- whatever pass</span></div>
<div class="line"><a name="l14093"></a><span class="lineno">14093</span>&#160;      <span class="comment">// change the loop to make a trip count go from could not compute to</span></div>
<div class="line"><a name="l14094"></a><span class="lineno">14094</span>&#160;      <span class="comment">// computable or vice-versa *should have* invalidated SCEV.  However, we</span></div>
<div class="line"><a name="l14095"></a><span class="lineno">14095</span>&#160;      <span class="comment">// choose not to assert here (for now) since we don&#39;t want false</span></div>
<div class="line"><a name="l14096"></a><span class="lineno">14096</span>&#160;      <span class="comment">// positives.</span></div>
<div class="line"><a name="l14097"></a><span class="lineno">14097</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14098"></a><span class="lineno">14098</span>&#160;    }</div>
<div class="line"><a name="l14099"></a><span class="lineno">14099</span>&#160; </div>
<div class="line"><a name="l14100"></a><span class="lineno">14100</span>&#160;    <span class="keywordflow">if</span> (SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(CurBECount-&gt;getType()) &gt;</div>
<div class="line"><a name="l14101"></a><span class="lineno">14101</span>&#160;        SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(NewBECount-&gt;getType()))</div>
<div class="line"><a name="l14102"></a><span class="lineno">14102</span>&#160;      NewBECount = SE2.<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(NewBECount, CurBECount-&gt;getType());</div>
<div class="line"><a name="l14103"></a><span class="lineno">14103</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(CurBECount-&gt;getType()) &lt;</div>
<div class="line"><a name="l14104"></a><span class="lineno">14104</span>&#160;             SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(NewBECount-&gt;getType()))</div>
<div class="line"><a name="l14105"></a><span class="lineno">14105</span>&#160;      CurBECount = SE2.<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(CurBECount, NewBECount-&gt;getType());</div>
<div class="line"><a name="l14106"></a><span class="lineno">14106</span>&#160; </div>
<div class="line"><a name="l14107"></a><span class="lineno">14107</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Delta = GetDelta(CurBECount, NewBECount);</div>
<div class="line"><a name="l14108"></a><span class="lineno">14108</span>&#160;    <span class="keywordflow">if</span> (Delta &amp;&amp; !Delta-&gt;<a class="code" href="classllvm_1_1SCEV.html#a4541962f9c18aacceb7243520eb15e1f">isZero</a>()) {</div>
<div class="line"><a name="l14109"></a><span class="lineno">14109</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Trip Count for &quot;</span> &lt;&lt; *L &lt;&lt; <span class="stringliteral">&quot; Changed!\n&quot;</span>;</div>
<div class="line"><a name="l14110"></a><span class="lineno">14110</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Old: &quot;</span> &lt;&lt; *CurBECount &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14111"></a><span class="lineno">14111</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;New: &quot;</span> &lt;&lt; *NewBECount &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14112"></a><span class="lineno">14112</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Delta: &quot;</span> &lt;&lt; *Delta &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14113"></a><span class="lineno">14113</span>&#160;      <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14114"></a><span class="lineno">14114</span>&#160;    }</div>
<div class="line"><a name="l14115"></a><span class="lineno">14115</span>&#160;  }</div>
<div class="line"><a name="l14116"></a><span class="lineno">14116</span>&#160; </div>
<div class="line"><a name="l14117"></a><span class="lineno">14117</span>&#160;  <span class="comment">// Collect all valid loops currently in LoopInfo.</span></div>
<div class="line"><a name="l14118"></a><span class="lineno">14118</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Loop *, 32&gt;</a> ValidLoops;</div>
<div class="line"><a name="l14119"></a><span class="lineno">14119</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Loop *, 32&gt;</a> Worklist(LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#ab447b41b9c51151b5c6ef497a60689ae">begin</a>(), LI.<a class="code" href="classllvm_1_1LoopInfoBase.html#a4f728602e7d377829675f13446cf6647">end</a>());</div>
<div class="line"><a name="l14120"></a><span class="lineno">14120</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l14121"></a><span class="lineno">14121</span>&#160;    <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l14122"></a><span class="lineno">14122</span>&#160;    <span class="keywordflow">if</span> (ValidLoops.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(L).second)</div>
<div class="line"><a name="l14123"></a><span class="lineno">14123</span>&#160;      Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#af2f81059dc7566164b018aac6555eb1a">begin</a>(), L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a98eb0888f30e7a27151a7b02fa053205">end</a>());</div>
<div class="line"><a name="l14124"></a><span class="lineno">14124</span>&#160;  }</div>
<div class="line"><a name="l14125"></a><span class="lineno">14125</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;KV : ValueExprMap) {</div>
<div class="line"><a name="l14126"></a><span class="lineno">14126</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l14127"></a><span class="lineno">14127</span>&#160;    <span class="comment">// Check for SCEV expressions referencing invalid/deleted loops.</span></div>
<div class="line"><a name="l14128"></a><span class="lineno">14128</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(KV.second)) {</div>
<div class="line"><a name="l14129"></a><span class="lineno">14129</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValidLoops.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>()) &amp;&amp;</div>
<div class="line"><a name="l14130"></a><span class="lineno">14130</span>&#160;             <span class="stringliteral">&quot;AddRec references invalid loop&quot;</span>);</div>
<div class="line"><a name="l14131"></a><span class="lineno">14131</span>&#160;    }</div>
<div class="line"><a name="l14132"></a><span class="lineno">14132</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14133"></a><span class="lineno">14133</span>&#160; </div>
<div class="line"><a name="l14134"></a><span class="lineno">14134</span>&#160;    <span class="comment">// Check that the value is also part of the reverse map.</span></div>
<div class="line"><a name="l14135"></a><span class="lineno">14135</span>&#160;    <span class="keyword">auto</span> It = ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(KV.second);</div>
<div class="line"><a name="l14136"></a><span class="lineno">14136</span>&#160;    <span class="keywordflow">if</span> (It == ExprValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() || !It-&gt;second.contains(KV.first)) {</div>
<div class="line"><a name="l14137"></a><span class="lineno">14137</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Value &quot;</span> &lt;&lt; *KV.first</div>
<div class="line"><a name="l14138"></a><span class="lineno">14138</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; is in ValueExprMap but not in ExprValueMap\n&quot;</span>;</div>
<div class="line"><a name="l14139"></a><span class="lineno">14139</span>&#160;      <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14140"></a><span class="lineno">14140</span>&#160;    }</div>
<div class="line"><a name="l14141"></a><span class="lineno">14141</span>&#160; </div>
<div class="line"><a name="l14142"></a><span class="lineno">14142</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(&amp;*KV.first)) {</div>
<div class="line"><a name="l14143"></a><span class="lineno">14143</span>&#160;      <span class="keywordflow">if</span> (!ReachableBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()))</div>
<div class="line"><a name="l14144"></a><span class="lineno">14144</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14145"></a><span class="lineno">14145</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OldSCEV = SCM.visit(KV.second);</div>
<div class="line"><a name="l14146"></a><span class="lineno">14146</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewSCEV = SE2.<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l14147"></a><span class="lineno">14147</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Delta = GetDelta(OldSCEV, NewSCEV);</div>
<div class="line"><a name="l14148"></a><span class="lineno">14148</span>&#160;      <span class="keywordflow">if</span> (Delta &amp;&amp; !Delta-&gt;<a class="code" href="classllvm_1_1SCEV.html#a4541962f9c18aacceb7243520eb15e1f">isZero</a>()) {</div>
<div class="line"><a name="l14149"></a><span class="lineno">14149</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SCEV for value &quot;</span> &lt;&lt; *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="stringliteral">&quot; changed!\n&quot;</span></div>
<div class="line"><a name="l14150"></a><span class="lineno">14150</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;Old: &quot;</span> &lt;&lt; *OldSCEV &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l14151"></a><span class="lineno">14151</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;New: &quot;</span> &lt;&lt; *NewSCEV &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l14152"></a><span class="lineno">14152</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;Delta: &quot;</span> &lt;&lt; *Delta &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14153"></a><span class="lineno">14153</span>&#160;        <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14154"></a><span class="lineno">14154</span>&#160;      }</div>
<div class="line"><a name="l14155"></a><span class="lineno">14155</span>&#160;    }</div>
<div class="line"><a name="l14156"></a><span class="lineno">14156</span>&#160;  }</div>
<div class="line"><a name="l14157"></a><span class="lineno">14157</span>&#160; </div>
<div class="line"><a name="l14158"></a><span class="lineno">14158</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;KV : ExprValueMap) {</div>
<div class="line"><a name="l14159"></a><span class="lineno">14159</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : KV.second) {</div>
<div class="line"><a name="l14160"></a><span class="lineno">14160</span>&#160;      <span class="keyword">auto</span> It = ValueExprMap.find_as(V);</div>
<div class="line"><a name="l14161"></a><span class="lineno">14161</span>&#160;      <span class="keywordflow">if</span> (It == ValueExprMap.end()) {</div>
<div class="line"><a name="l14162"></a><span class="lineno">14162</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Value &quot;</span> &lt;&lt; *V</div>
<div class="line"><a name="l14163"></a><span class="lineno">14163</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; is in ExprValueMap but not in ValueExprMap\n&quot;</span>;</div>
<div class="line"><a name="l14164"></a><span class="lineno">14164</span>&#160;        <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14165"></a><span class="lineno">14165</span>&#160;      }</div>
<div class="line"><a name="l14166"></a><span class="lineno">14166</span>&#160;      <span class="keywordflow">if</span> (It-&gt;second != KV.first) {</div>
<div class="line"><a name="l14167"></a><span class="lineno">14167</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Value &quot;</span> &lt;&lt; *V &lt;&lt; <span class="stringliteral">&quot; mapped to &quot;</span> &lt;&lt; *It-&gt;second</div>
<div class="line"><a name="l14168"></a><span class="lineno">14168</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; rather than &quot;</span> &lt;&lt; *KV.first &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14169"></a><span class="lineno">14169</span>&#160;        <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14170"></a><span class="lineno">14170</span>&#160;      }</div>
<div class="line"><a name="l14171"></a><span class="lineno">14171</span>&#160;    }</div>
<div class="line"><a name="l14172"></a><span class="lineno">14172</span>&#160;  }</div>
<div class="line"><a name="l14173"></a><span class="lineno">14173</span>&#160; </div>
<div class="line"><a name="l14174"></a><span class="lineno">14174</span>&#160;  <span class="comment">// Verify integrity of SCEV users.</span></div>
<div class="line"><a name="l14175"></a><span class="lineno">14175</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : UniqueSCEVs) {</div>
<div class="line"><a name="l14176"></a><span class="lineno">14176</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.operands()) {</div>
<div class="line"><a name="l14177"></a><span class="lineno">14177</span>&#160;      <span class="comment">// We do not store dependencies of constants.</span></div>
<div class="line"><a name="l14178"></a><span class="lineno">14178</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l14179"></a><span class="lineno">14179</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14180"></a><span class="lineno">14180</span>&#160;      <span class="keyword">auto</span> It = SCEVUsers.find(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l14181"></a><span class="lineno">14181</span>&#160;      <span class="keywordflow">if</span> (It != SCEVUsers.end() &amp;&amp; It-&gt;second.count(&amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l14182"></a><span class="lineno">14182</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14183"></a><span class="lineno">14183</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Use of operand  &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> &lt;&lt; <span class="stringliteral">&quot; by user &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div>
<div class="line"><a name="l14184"></a><span class="lineno">14184</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; is not being tracked!\n&quot;</span>;</div>
<div class="line"><a name="l14185"></a><span class="lineno">14185</span>&#160;      <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14186"></a><span class="lineno">14186</span>&#160;    }</div>
<div class="line"><a name="l14187"></a><span class="lineno">14187</span>&#160;  }</div>
<div class="line"><a name="l14188"></a><span class="lineno">14188</span>&#160; </div>
<div class="line"><a name="l14189"></a><span class="lineno">14189</span>&#160;  <span class="comment">// Verify integrity of ValuesAtScopes users.</span></div>
<div class="line"><a name="l14190"></a><span class="lineno">14190</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ValueAndVec : ValuesAtScopes) {</div>
<div class="line"><a name="l14191"></a><span class="lineno">14191</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1Value.html">Value</a> = ValueAndVec.first;</div>
<div class="line"><a name="l14192"></a><span class="lineno">14192</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;LoopAndValueAtScope : ValueAndVec.second) {</div>
<div class="line"><a name="l14193"></a><span class="lineno">14193</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LoopAndValueAtScope.first;</div>
<div class="line"><a name="l14194"></a><span class="lineno">14194</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ValueAtScope = LoopAndValueAtScope.second;</div>
<div class="line"><a name="l14195"></a><span class="lineno">14195</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(ValueAtScope)) {</div>
<div class="line"><a name="l14196"></a><span class="lineno">14196</span>&#160;        <span class="keyword">auto</span> It = ValuesAtScopesUsers.find(ValueAtScope);</div>
<div class="line"><a name="l14197"></a><span class="lineno">14197</span>&#160;        <span class="keywordflow">if</span> (It != ValuesAtScopesUsers.end() &amp;&amp;</div>
<div class="line"><a name="l14198"></a><span class="lineno">14198</span>&#160;            <a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(It-&gt;second, std::make_pair(L, <a class="code" href="classllvm_1_1Value.html">Value</a>)))</div>
<div class="line"><a name="l14199"></a><span class="lineno">14199</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14200"></a><span class="lineno">14200</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Value: &quot;</span> &lt;&lt; *<a class="code" href="classllvm_1_1Value.html">Value</a> &lt;&lt; <span class="stringliteral">&quot;, Loop: &quot;</span> &lt;&lt; *L &lt;&lt; <span class="stringliteral">&quot;, ValueAtScope: &quot;</span></div>
<div class="line"><a name="l14201"></a><span class="lineno">14201</span>&#160;               &lt;&lt; *ValueAtScope &lt;&lt; <span class="stringliteral">&quot; missing in ValuesAtScopesUsers\n&quot;</span>;</div>
<div class="line"><a name="l14202"></a><span class="lineno">14202</span>&#160;        <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14203"></a><span class="lineno">14203</span>&#160;      }</div>
<div class="line"><a name="l14204"></a><span class="lineno">14204</span>&#160;    }</div>
<div class="line"><a name="l14205"></a><span class="lineno">14205</span>&#160;  }</div>
<div class="line"><a name="l14206"></a><span class="lineno">14206</span>&#160; </div>
<div class="line"><a name="l14207"></a><span class="lineno">14207</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ValueAtScopeAndVec : ValuesAtScopesUsers) {</div>
<div class="line"><a name="l14208"></a><span class="lineno">14208</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ValueAtScope = ValueAtScopeAndVec.first;</div>
<div class="line"><a name="l14209"></a><span class="lineno">14209</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;LoopAndValue : ValueAtScopeAndVec.second) {</div>
<div class="line"><a name="l14210"></a><span class="lineno">14210</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LoopAndValue.first;</div>
<div class="line"><a name="l14211"></a><span class="lineno">14211</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1Value.html">Value</a> = LoopAndValue.second;</div>
<div class="line"><a name="l14212"></a><span class="lineno">14212</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isa&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1Value.html">Value</a>));</div>
<div class="line"><a name="l14213"></a><span class="lineno">14213</span>&#160;      <span class="keyword">auto</span> It = ValuesAtScopes.find(<a class="code" href="classllvm_1_1Value.html">Value</a>);</div>
<div class="line"><a name="l14214"></a><span class="lineno">14214</span>&#160;      <span class="keywordflow">if</span> (It != ValuesAtScopes.end() &amp;&amp;</div>
<div class="line"><a name="l14215"></a><span class="lineno">14215</span>&#160;          <a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(It-&gt;second, std::make_pair(L, ValueAtScope)))</div>
<div class="line"><a name="l14216"></a><span class="lineno">14216</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14217"></a><span class="lineno">14217</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Value: &quot;</span> &lt;&lt; *<a class="code" href="classllvm_1_1Value.html">Value</a> &lt;&lt; <span class="stringliteral">&quot;, Loop: &quot;</span> &lt;&lt; *L &lt;&lt; <span class="stringliteral">&quot;, ValueAtScope: &quot;</span></div>
<div class="line"><a name="l14218"></a><span class="lineno">14218</span>&#160;             &lt;&lt; *ValueAtScope &lt;&lt; <span class="stringliteral">&quot; missing in ValuesAtScopes\n&quot;</span>;</div>
<div class="line"><a name="l14219"></a><span class="lineno">14219</span>&#160;      <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14220"></a><span class="lineno">14220</span>&#160;    }</div>
<div class="line"><a name="l14221"></a><span class="lineno">14221</span>&#160;  }</div>
<div class="line"><a name="l14222"></a><span class="lineno">14222</span>&#160; </div>
<div class="line"><a name="l14223"></a><span class="lineno">14223</span>&#160;  <span class="comment">// Verify integrity of BECountUsers.</span></div>
<div class="line"><a name="l14224"></a><span class="lineno">14224</span>&#160;  <span class="keyword">auto</span> VerifyBECountUsers = [&amp;](<span class="keywordtype">bool</span> Predicated) {</div>
<div class="line"><a name="l14225"></a><span class="lineno">14225</span>&#160;    <span class="keyword">auto</span> &amp;BECounts =</div>
<div class="line"><a name="l14226"></a><span class="lineno">14226</span>&#160;        Predicated ? PredicatedBackedgeTakenCounts : BackedgeTakenCounts;</div>
<div class="line"><a name="l14227"></a><span class="lineno">14227</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;LoopAndBEInfo : BECounts) {</div>
<div class="line"><a name="l14228"></a><span class="lineno">14228</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> ExitNotTakenInfo &amp;ENT : LoopAndBEInfo.second.ExitNotTaken) {</div>
<div class="line"><a name="l14229"></a><span class="lineno">14229</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : {ENT.ExactNotTaken, ENT.SymbolicMaxNotTaken}) {</div>
<div class="line"><a name="l14230"></a><span class="lineno">14230</span>&#160;          <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)) {</div>
<div class="line"><a name="l14231"></a><span class="lineno">14231</span>&#160;            <span class="keyword">auto</span> UserIt = BECountUsers.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l14232"></a><span class="lineno">14232</span>&#160;            <span class="keywordflow">if</span> (UserIt != BECountUsers.end() &amp;&amp;</div>
<div class="line"><a name="l14233"></a><span class="lineno">14233</span>&#160;                UserIt-&gt;second.contains({ LoopAndBEInfo.first, Predicated }))</div>
<div class="line"><a name="l14234"></a><span class="lineno">14234</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14235"></a><span class="lineno">14235</span>&#160;            <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Value &quot;</span> &lt;&lt; *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="stringliteral">&quot; for loop &quot;</span> &lt;&lt; *LoopAndBEInfo.first</div>
<div class="line"><a name="l14236"></a><span class="lineno">14236</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; missing from BECountUsers\n&quot;</span>;</div>
<div class="line"><a name="l14237"></a><span class="lineno">14237</span>&#160;            <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14238"></a><span class="lineno">14238</span>&#160;          }</div>
<div class="line"><a name="l14239"></a><span class="lineno">14239</span>&#160;        }</div>
<div class="line"><a name="l14240"></a><span class="lineno">14240</span>&#160;      }</div>
<div class="line"><a name="l14241"></a><span class="lineno">14241</span>&#160;    }</div>
<div class="line"><a name="l14242"></a><span class="lineno">14242</span>&#160;  };</div>
<div class="line"><a name="l14243"></a><span class="lineno">14243</span>&#160;  VerifyBECountUsers(<span class="comment">/* Predicated */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l14244"></a><span class="lineno">14244</span>&#160;  VerifyBECountUsers(<span class="comment">/* Predicated */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l14245"></a><span class="lineno">14245</span>&#160; </div>
<div class="line"><a name="l14246"></a><span class="lineno">14246</span>&#160;  <span class="comment">// Verify intergity of loop disposition cache.</span></div>
<div class="line"><a name="l14247"></a><span class="lineno">14247</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, Values] : LoopDispositions) {</div>
<div class="line"><a name="l14248"></a><span class="lineno">14248</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> [<a class="code" href="classllvm_1_1Loop.html">Loop</a>, CachedDisposition] : Values) {</div>
<div class="line"><a name="l14249"></a><span class="lineno">14249</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> RecomputedDisposition = SE2.<a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="classllvm_1_1Loop.html">Loop</a>);</div>
<div class="line"><a name="l14250"></a><span class="lineno">14250</span>&#160;      <span class="keywordflow">if</span> (CachedDisposition != RecomputedDisposition) {</div>
<div class="line"><a name="l14251"></a><span class="lineno">14251</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Cached disposition of &quot;</span> &lt;&lt; *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="stringliteral">&quot; for loop &quot;</span> &lt;&lt; *<a class="code" href="classllvm_1_1Loop.html">Loop</a></div>
<div class="line"><a name="l14252"></a><span class="lineno">14252</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; is incorrect: cached &quot;</span></div>
<div class="line"><a name="l14253"></a><span class="lineno">14253</span>&#160;               &lt;&lt; <a class="code" href="ScalarEvolution_8cpp.html#abd00c5af76d76d690df3147ac7c6aa3e">loopDispositionToStr</a>(CachedDisposition) &lt;&lt; <span class="stringliteral">&quot;, actual &quot;</span></div>
<div class="line"><a name="l14254"></a><span class="lineno">14254</span>&#160;               &lt;&lt; <a class="code" href="ScalarEvolution_8cpp.html#abd00c5af76d76d690df3147ac7c6aa3e">loopDispositionToStr</a>(RecomputedDisposition) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14255"></a><span class="lineno">14255</span>&#160;        <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14256"></a><span class="lineno">14256</span>&#160;      }</div>
<div class="line"><a name="l14257"></a><span class="lineno">14257</span>&#160;    }</div>
<div class="line"><a name="l14258"></a><span class="lineno">14258</span>&#160;  }</div>
<div class="line"><a name="l14259"></a><span class="lineno">14259</span>&#160; </div>
<div class="line"><a name="l14260"></a><span class="lineno">14260</span>&#160;  <span class="comment">// Verify integrity of the block disposition cache.</span></div>
<div class="line"><a name="l14261"></a><span class="lineno">14261</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, Values] : BlockDispositions) {</div>
<div class="line"><a name="l14262"></a><span class="lineno">14262</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> [<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, CachedDisposition] : Values) {</div>
<div class="line"><a name="l14263"></a><span class="lineno">14263</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> RecomputedDisposition = SE2.<a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l14264"></a><span class="lineno">14264</span>&#160;      <span class="keywordflow">if</span> (CachedDisposition != RecomputedDisposition) {</div>
<div class="line"><a name="l14265"></a><span class="lineno">14265</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Cached disposition of &quot;</span> &lt;&lt; *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="stringliteral">&quot; for block %&quot;</span></div>
<div class="line"><a name="l14266"></a><span class="lineno">14266</span>&#160;               &lt;&lt; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; is incorrect! \n&quot;</span>;</div>
<div class="line"><a name="l14267"></a><span class="lineno">14267</span>&#160;        <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14268"></a><span class="lineno">14268</span>&#160;      }</div>
<div class="line"><a name="l14269"></a><span class="lineno">14269</span>&#160;    }</div>
<div class="line"><a name="l14270"></a><span class="lineno">14270</span>&#160;  }</div>
<div class="line"><a name="l14271"></a><span class="lineno">14271</span>&#160; </div>
<div class="line"><a name="l14272"></a><span class="lineno">14272</span>&#160;  <span class="comment">// Verify FoldCache/FoldCacheUser caches.</span></div>
<div class="line"><a name="l14273"></a><span class="lineno">14273</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [<a class="code" href="classllvm_1_1ScalarEvolution_1_1FoldID.html">FoldID</a>, Expr] : FoldCache) {</div>
<div class="line"><a name="l14274"></a><span class="lineno">14274</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FoldCacheUser.find(Expr);</div>
<div class="line"><a name="l14275"></a><span class="lineno">14275</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == FoldCacheUser.end()) {</div>
<div class="line"><a name="l14276"></a><span class="lineno">14276</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Missing entry in FoldCacheUser for cached expression &quot;</span> &lt;&lt; *Expr</div>
<div class="line"><a name="l14277"></a><span class="lineno">14277</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;!\n&quot;</span>;</div>
<div class="line"><a name="l14278"></a><span class="lineno">14278</span>&#160;      <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14279"></a><span class="lineno">14279</span>&#160;    }</div>
<div class="line"><a name="l14280"></a><span class="lineno">14280</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second, <a class="code" href="classllvm_1_1ScalarEvolution_1_1FoldID.html">FoldID</a>)) {</div>
<div class="line"><a name="l14281"></a><span class="lineno">14281</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Missing FoldID in cached users of &quot;</span> &lt;&lt; *Expr &lt;&lt; <span class="stringliteral">&quot;!\n&quot;</span>;</div>
<div class="line"><a name="l14282"></a><span class="lineno">14282</span>&#160;      <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14283"></a><span class="lineno">14283</span>&#160;    }</div>
<div class="line"><a name="l14284"></a><span class="lineno">14284</span>&#160;  }</div>
<div class="line"><a name="l14285"></a><span class="lineno">14285</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [Expr, IDs] : FoldCacheUser) {</div>
<div class="line"><a name="l14286"></a><span class="lineno">14286</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="classllvm_1_1ScalarEvolution_1_1FoldID.html">FoldID</a> : IDs) {</div>
<div class="line"><a name="l14287"></a><span class="lineno">14287</span>&#160;      <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FoldCache.find(<a class="code" href="classllvm_1_1ScalarEvolution_1_1FoldID.html">FoldID</a>);</div>
<div class="line"><a name="l14288"></a><span class="lineno">14288</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == FoldCache.end()) {</div>
<div class="line"><a name="l14289"></a><span class="lineno">14289</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Missing entry in FoldCache for expression &quot;</span> &lt;&lt; *Expr</div>
<div class="line"><a name="l14290"></a><span class="lineno">14290</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;!\n&quot;</span>;</div>
<div class="line"><a name="l14291"></a><span class="lineno">14291</span>&#160;        <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14292"></a><span class="lineno">14292</span>&#160;      }</div>
<div class="line"><a name="l14293"></a><span class="lineno">14293</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second != Expr) {</div>
<div class="line"><a name="l14294"></a><span class="lineno">14294</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Entry in FoldCache doesn&#39;t match FoldCacheUser: &quot;</span></div>
<div class="line"><a name="l14295"></a><span class="lineno">14295</span>&#160;               &lt;&lt; *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second &lt;&lt; <span class="stringliteral">&quot; != &quot;</span> &lt;&lt; *Expr &lt;&lt; <span class="stringliteral">&quot;!\n&quot;</span>;</div>
<div class="line"><a name="l14296"></a><span class="lineno">14296</span>&#160;        <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div>
<div class="line"><a name="l14297"></a><span class="lineno">14297</span>&#160;      }</div>
<div class="line"><a name="l14298"></a><span class="lineno">14298</span>&#160;    }</div>
<div class="line"><a name="l14299"></a><span class="lineno">14299</span>&#160;  }</div>
<div class="line"><a name="l14300"></a><span class="lineno">14300</span>&#160;}</div>
<div class="line"><a name="l14301"></a><span class="lineno">14301</span>&#160; </div>
<div class="line"><a name="l14302"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a93a455a6a60ac3b40d15464bc3b86e90">14302</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a93a455a6a60ac3b40d15464bc3b86e90">ScalarEvolution::invalidate</a>(</div>
<div class="line"><a name="l14303"></a><span class="lineno">14303</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> &amp;PA,</div>
<div class="line"><a name="l14304"></a><span class="lineno">14304</span>&#160;    <a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html">FunctionAnalysisManager::Invalidator</a> &amp;Inv) {</div>
<div class="line"><a name="l14305"></a><span class="lineno">14305</span>&#160;  <span class="comment">// Invalidate the ScalarEvolution object whenever it isn&#39;t preserved or one</span></div>
<div class="line"><a name="l14306"></a><span class="lineno">14306</span>&#160;  <span class="comment">// of its dependencies is invalidated.</span></div>
<div class="line"><a name="l14307"></a><span class="lineno">14307</span>&#160;  <span class="keyword">auto</span> PAC = PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#aa7a1b769f9c57010cc41d9c3bb9d39c6">getChecker</a>&lt;<a class="code" href="classllvm_1_1ScalarEvolutionAnalysis.html">ScalarEvolutionAnalysis</a>&gt;();</div>
<div class="line"><a name="l14308"></a><span class="lineno">14308</span>&#160;  <span class="keywordflow">return</span> !(PAC.preserved() || PAC.preservedSet&lt;<a class="code" href="classllvm_1_1AllAnalysesOn.html">AllAnalysesOn&lt;Function&gt;</a>&gt;()) ||</div>
<div class="line"><a name="l14309"></a><span class="lineno">14309</span>&#160;         Inv.<a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>&lt;<a class="code" href="classllvm_1_1AssumptionAnalysis.html">AssumptionAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, PA) ||</div>
<div class="line"><a name="l14310"></a><span class="lineno">14310</span>&#160;         Inv.<a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, PA) ||</div>
<div class="line"><a name="l14311"></a><span class="lineno">14311</span>&#160;         Inv.<a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>&lt;<a class="code" href="classllvm_1_1LoopAnalysis.html">LoopAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, PA);</div>
<div class="line"><a name="l14312"></a><span class="lineno">14312</span>&#160;}</div>
<div class="line"><a name="l14313"></a><span class="lineno">14313</span>&#160; </div>
<div class="line"><a name="l14314"></a><span class="lineno">14314</span>&#160;<a class="code" href="structllvm_1_1AnalysisKey.html">AnalysisKey</a> ScalarEvolutionAnalysis::Key;</div>
<div class="line"><a name="l14315"></a><span class="lineno">14315</span>&#160; </div>
<div class="line"><a name="l14316"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolutionAnalysis.html#acbc87d909d53e5f43fde82950e15b59d">14316</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> <a class="code" href="classllvm_1_1ScalarEvolutionAnalysis.html#acbc87d909d53e5f43fde82950e15b59d">ScalarEvolutionAnalysis::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l14317"></a><span class="lineno">14317</span>&#160;                                             <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l14318"></a><span class="lineno">14318</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryAnalysis.html">TargetLibraryAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l14319"></a><span class="lineno">14319</span>&#160;                         AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AssumptionAnalysis.html">AssumptionAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l14320"></a><span class="lineno">14320</span>&#160;                         AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l14321"></a><span class="lineno">14321</span>&#160;                         AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1LoopAnalysis.html">LoopAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l14322"></a><span class="lineno">14322</span>&#160;}</div>
<div class="line"><a name="l14323"></a><span class="lineno">14323</span>&#160; </div>
<div class="line"><a name="l14324"></a><span class="lineno">14324</span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a></div>
<div class="line"><a name="l14325"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolutionVerifierPass.html#a922e2e00f7528f19fdece7de80099fc2">14325</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolutionVerifierPass.html#a922e2e00f7528f19fdece7de80099fc2">ScalarEvolutionVerifierPass::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l14326"></a><span class="lineno">14326</span>&#160;  AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1ScalarEvolutionAnalysis.html">ScalarEvolutionAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).<a class="code" href="PPCCTRLoopsVerify_8cpp.html#a593cc2f204f7b2edc16ee222c37c3196">verify</a>();</div>
<div class="line"><a name="l14327"></a><span class="lineno">14327</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l14328"></a><span class="lineno">14328</span>&#160;}</div>
<div class="line"><a name="l14329"></a><span class="lineno">14329</span>&#160; </div>
<div class="line"><a name="l14330"></a><span class="lineno">14330</span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a></div>
<div class="line"><a name="l14331"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolutionPrinterPass.html#a5701836bcbb5fc1663cbaf72ea475bc0">14331</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolutionPrinterPass.html#a5701836bcbb5fc1663cbaf72ea475bc0">ScalarEvolutionPrinterPass::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l14332"></a><span class="lineno">14332</span>&#160;  <span class="comment">// For compatibility with opt&#39;s -analyze feature under legacy pass manager</span></div>
<div class="line"><a name="l14333"></a><span class="lineno">14333</span>&#160;  <span class="comment">// which was not ported to NPM. This keeps tests using</span></div>
<div class="line"><a name="l14334"></a><span class="lineno">14334</span>&#160;  <span class="comment">// update_analyze_test_checks.py working.</span></div>
<div class="line"><a name="l14335"></a><span class="lineno">14335</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;Printing analysis &#39;Scalar Evolution Analysis&#39; for function &#39;&quot;</span></div>
<div class="line"><a name="l14336"></a><span class="lineno">14336</span>&#160;     &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;&#39;:\n&quot;</span>;</div>
<div class="line"><a name="l14337"></a><span class="lineno">14337</span>&#160;  AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1ScalarEvolutionAnalysis.html">ScalarEvolutionAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).<a class="code" href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">print</a>(OS);</div>
<div class="line"><a name="l14338"></a><span class="lineno">14338</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l14339"></a><span class="lineno">14339</span>&#160;}</div>
<div class="line"><a name="l14340"></a><span class="lineno">14340</span>&#160; </div>
<div class="line"><a name="l14341"></a><span class="lineno">14341</span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a3e24c91db8604ae3ee873162c89749d3">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html">ScalarEvolutionWrapperPass</a>, <span class="stringliteral">&quot;scalar-evolution&quot;</span>,</div>
<div class="line"><a name="l14342"></a><span class="lineno">14342</span>&#160;                      <span class="stringliteral">&quot;Scalar Evolution Analysis&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l14343"></a><span class="lineno">14343</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>)</div>
<div class="line"><a name="l14344"></a><span class="lineno">14344</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>)</div>
<div class="line"><a name="l14345"></a><span class="lineno">14345</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>)</div>
<div class="line"><a name="l14346"></a><span class="lineno">14346</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>)</div>
<div class="line"><a name="l14347"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#afa04c31b8a224e9f4e66ba448f05e9d0">14347</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html">ScalarEvolutionWrapperPass</a>, &quot;scalar-<a class="code" href="ScalarEvolution_8cpp.html#afa04c31b8a224e9f4e66ba448f05e9d0">evolution</a>&quot;,</div>
<div class="line"><a name="l14348"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ab98634f319efc49e653ccb25caaf4090">14348</a></span>&#160;                    &quot;Scalar Evolution Analysis&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>)</div>
<div class="line"><a name="l14349"></a><span class="lineno">14349</span>&#160; </div>
<div class="line"><a name="l14350"></a><span class="lineno">14350</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html">ScalarEvolutionWrapperPass</a>::<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = 0;</div>
<div class="line"><a name="l14351"></a><span class="lineno">14351</span>&#160; </div>
<div class="line"><a name="l14352"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolutionWrapperPass.html#ae0563fcc4ee63bdd27aab57cb276c97c">14352</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html">ScalarEvolutionWrapperPass</a>::<a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html">ScalarEvolutionWrapperPass</a>() : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l14353"></a><span class="lineno">14353</span>&#160;  <a class="code" href="namespacellvm.html#a6713c042fa19278b2ed95fbcfe021a40">initializeScalarEvolutionWrapperPassPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l14354"></a><span class="lineno">14354</span>&#160;}</div>
<div class="line"><a name="l14355"></a><span class="lineno">14355</span>&#160; </div>
<div class="line"><a name="l14356"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a2b0012b09a95be3e1eb70ce22f14e029">14356</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a2b0012b09a95be3e1eb70ce22f14e029">ScalarEvolutionWrapperPass::runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l14357"></a><span class="lineno">14357</span>&#160;  SE.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a>(</div>
<div class="line"><a name="l14358"></a><span class="lineno">14358</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, getAnalysis&lt;TargetLibraryInfoWrapperPass&gt;().getTLI(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l14359"></a><span class="lineno">14359</span>&#160;      getAnalysis&lt;AssumptionCacheTracker&gt;().getAssumptionCache(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l14360"></a><span class="lineno">14360</span>&#160;      getAnalysis&lt;DominatorTreeWrapperPass&gt;().getDomTree(),</div>
<div class="line"><a name="l14361"></a><span class="lineno">14361</span>&#160;      getAnalysis&lt;LoopInfoWrapperPass&gt;().getLoopInfo()));</div>
<div class="line"><a name="l14362"></a><span class="lineno">14362</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l14363"></a><span class="lineno">14363</span>&#160;}</div>
<div class="line"><a name="l14364"></a><span class="lineno">14364</span>&#160; </div>
<div class="line"><a name="l14365"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a2fdc00705da10b32608d7f27ca9255c9">14365</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a2fdc00705da10b32608d7f27ca9255c9">ScalarEvolutionWrapperPass::releaseMemory</a>() { SE.reset(); }</div>
<div class="line"><a name="l14366"></a><span class="lineno">14366</span>&#160; </div>
<div class="line"><a name="l14367"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a11ca7fa34fc7eeff3b16d70fb3547afb">14367</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a11ca7fa34fc7eeff3b16d70fb3547afb">ScalarEvolutionWrapperPass::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> *)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14368"></a><span class="lineno">14368</span>&#160;  SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a77b275a78beac200ef1f703d2a5fbb7d">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l14369"></a><span class="lineno">14369</span>&#160;}</div>
<div class="line"><a name="l14370"></a><span class="lineno">14370</span>&#160; </div>
<div class="line"><a name="l14371"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a83c7a734cdb6f50bc816b2a1914b911f">14371</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a83c7a734cdb6f50bc816b2a1914b911f">ScalarEvolutionWrapperPass::verifyAnalysis</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14372"></a><span class="lineno">14372</span>&#160;  <span class="keywordflow">if</span> (!VerifySCEV)</div>
<div class="line"><a name="l14373"></a><span class="lineno">14373</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l14374"></a><span class="lineno">14374</span>&#160; </div>
<div class="line"><a name="l14375"></a><span class="lineno">14375</span>&#160;  SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aff82c03c1ce8b945170bcb1f0f624c17">verify</a>();</div>
<div class="line"><a name="l14376"></a><span class="lineno">14376</span>&#160;}</div>
<div class="line"><a name="l14377"></a><span class="lineno">14377</span>&#160; </div>
<div class="line"><a name="l14378"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a014973e92bb76ade4c63ea2765c7b882">14378</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolutionWrapperPass.html#a014973e92bb76ade4c63ea2765c7b882">ScalarEvolutionWrapperPass::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14379"></a><span class="lineno">14379</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l14380"></a><span class="lineno">14380</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>&gt;();</div>
<div class="line"><a name="l14381"></a><span class="lineno">14381</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l14382"></a><span class="lineno">14382</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l14383"></a><span class="lineno">14383</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l14384"></a><span class="lineno">14384</span>&#160;}</div>
<div class="line"><a name="l14385"></a><span class="lineno">14385</span>&#160; </div>
<div class="line"><a name="l14386"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a29cffc9779968caccc3dd405819e55f5">14386</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a29cffc9779968caccc3dd405819e55f5">ScalarEvolution::getEqualPredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l14387"></a><span class="lineno">14387</span>&#160;                                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l14388"></a><span class="lineno">14388</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a6fc5091677914fa41c25148564683090">getComparePredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l14389"></a><span class="lineno">14389</span>&#160;}</div>
<div class="line"><a name="l14390"></a><span class="lineno">14390</span>&#160; </div>
<div class="line"><a name="l14391"></a><span class="lineno">14391</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *</div>
<div class="line"><a name="l14392"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a6fc5091677914fa41c25148564683090">14392</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a6fc5091677914fa41c25148564683090">ScalarEvolution::getComparePredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l14393"></a><span class="lineno">14393</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l14394"></a><span class="lineno">14394</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l14395"></a><span class="lineno">14395</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() &amp;&amp;</div>
<div class="line"><a name="l14396"></a><span class="lineno">14396</span>&#160;         <span class="stringliteral">&quot;Type mismatch between LHS and RHS&quot;</span>);</div>
<div class="line"><a name="l14397"></a><span class="lineno">14397</span>&#160;  <span class="comment">// Unique this node based on the arguments</span></div>
<div class="line"><a name="l14398"></a><span class="lineno">14398</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddInteger(<a class="code" href="classllvm_1_1SCEVPredicate.html#a75f4943e861ac0b6d41439c7d5c07adba319b527f8f84903a6c37695faf0bc2c8">SCEVPredicate::P_Compare</a>);</div>
<div class="line"><a name="l14399"></a><span class="lineno">14399</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddInteger(Pred);</div>
<div class="line"><a name="l14400"></a><span class="lineno">14400</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l14401"></a><span class="lineno">14401</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l14402"></a><span class="lineno">14402</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l14403"></a><span class="lineno">14403</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniquePreds.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP))</div>
<div class="line"><a name="l14404"></a><span class="lineno">14404</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l14405"></a><span class="lineno">14405</span>&#160;  <a class="code" href="classllvm_1_1SCEVComparePredicate.html">SCEVComparePredicate</a> *Eq = <span class="keyword">new</span> (SCEVAllocator)</div>
<div class="line"><a name="l14406"></a><span class="lineno">14406</span>&#160;    <a class="code" href="classllvm_1_1SCEVComparePredicate.html">SCEVComparePredicate</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l14407"></a><span class="lineno">14407</span>&#160;  UniquePreds.InsertNode(Eq, IP);</div>
<div class="line"><a name="l14408"></a><span class="lineno">14408</span>&#160;  <span class="keywordflow">return</span> Eq;</div>
<div class="line"><a name="l14409"></a><span class="lineno">14409</span>&#160;}</div>
<div class="line"><a name="l14410"></a><span class="lineno">14410</span>&#160; </div>
<div class="line"><a name="l14411"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a8b4da0fed92ca11bf8cb2fd763168d3c">14411</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a8b4da0fed92ca11bf8cb2fd763168d3c">ScalarEvolution::getWrapPredicate</a>(</div>
<div class="line"><a name="l14412"></a><span class="lineno">14412</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR,</div>
<div class="line"><a name="l14413"></a><span class="lineno">14413</span>&#160;    <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">SCEVWrapPredicate::IncrementWrapFlags</a> AddedFlags) {</div>
<div class="line"><a name="l14414"></a><span class="lineno">14414</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l14415"></a><span class="lineno">14415</span>&#160;  <span class="comment">// Unique this node based on the arguments</span></div>
<div class="line"><a name="l14416"></a><span class="lineno">14416</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">AddInteger</a>(<a class="code" href="classllvm_1_1SCEVPredicate.html#a75f4943e861ac0b6d41439c7d5c07adbaac3069eca0cb48a03eaa7d95fb84829c">SCEVPredicate::P_Wrap</a>);</div>
<div class="line"><a name="l14417"></a><span class="lineno">14417</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddPointer(AR);</div>
<div class="line"><a name="l14418"></a><span class="lineno">14418</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.AddInteger(AddedFlags);</div>
<div class="line"><a name="l14419"></a><span class="lineno">14419</span>&#160;  <span class="keywordtype">void</span> *IP = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l14420"></a><span class="lineno">14420</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniquePreds.FindNodeOrInsertPos(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, IP))</div>
<div class="line"><a name="l14421"></a><span class="lineno">14421</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l14422"></a><span class="lineno">14422</span>&#160;  <span class="keyword">auto</span> *OF = <span class="keyword">new</span> (SCEVAllocator)</div>
<div class="line"><a name="l14423"></a><span class="lineno">14423</span>&#160;      <a class="code" href="classllvm_1_1SCEVWrapPredicate.html">SCEVWrapPredicate</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Intern(SCEVAllocator), AR, AddedFlags);</div>
<div class="line"><a name="l14424"></a><span class="lineno">14424</span>&#160;  UniquePreds.InsertNode(OF, IP);</div>
<div class="line"><a name="l14425"></a><span class="lineno">14425</span>&#160;  <span class="keywordflow">return</span> OF;</div>
<div class="line"><a name="l14426"></a><span class="lineno">14426</span>&#160;}</div>
<div class="line"><a name="l14427"></a><span class="lineno">14427</span>&#160; </div>
<div class="line"><a name="l14428"></a><span class="lineno">14428</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l14429"></a><span class="lineno">14429</span>&#160; </div>
<div class="line"><a name="l14430"></a><span class="lineno">14430</span>&#160;<span class="keyword">class </span>SCEVPredicateRewriter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>&lt;SCEVPredicateRewriter&gt; {</div>
<div class="line"><a name="l14431"></a><span class="lineno">14431</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l14432"></a><span class="lineno">14432</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l14433"></a><span class="lineno">14433</span>&#160;<span class="comment">  /// Rewrites \p S in the context of a loop L and the SCEV predication</span></div>
<div class="line"><a name="l14434"></a><span class="lineno">14434</span>&#160;<span class="comment">  /// infrastructure.</span></div>
<div class="line"><a name="l14435"></a><span class="lineno">14435</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l14436"></a><span class="lineno">14436</span>&#160;<span class="comment">  /// If \p Pred is non-null, the SCEV expression is rewritten to respect the</span></div>
<div class="line"><a name="l14437"></a><span class="lineno">14437</span>&#160;<span class="comment">  /// equivalences present in \p Pred.</span></div>
<div class="line"><a name="l14438"></a><span class="lineno">14438</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l14439"></a><span class="lineno">14439</span>&#160;<span class="comment">  /// If \p NewPreds is non-null, rewrite is free to add further predicates to</span></div>
<div class="line"><a name="l14440"></a><span class="lineno">14440</span>&#160;<span class="comment">  /// \p NewPreds such that the result will be an AddRecExpr.</span></div>
<div class="line"><a name="l14441"></a><span class="lineno">14441</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">rewrite</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l14442"></a><span class="lineno">14442</span>&#160;                             <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const SCEVPredicate *&gt;</a> *NewPreds,</div>
<div class="line"><a name="l14443"></a><span class="lineno">14443</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *Pred) {</div>
<div class="line"><a name="l14444"></a><span class="lineno">14444</span>&#160;    SCEVPredicateRewriter <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>(L, SE, NewPreds, Pred);</div>
<div class="line"><a name="l14445"></a><span class="lineno">14445</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.visit(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l14446"></a><span class="lineno">14446</span>&#160;  }</div>
<div class="line"><a name="l14447"></a><span class="lineno">14447</span>&#160; </div>
<div class="line"><a name="l14448"></a><span class="lineno">14448</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div>
<div class="line"><a name="l14449"></a><span class="lineno">14449</span>&#160;    <span class="keywordflow">if</span> (Pred) {</div>
<div class="line"><a name="l14450"></a><span class="lineno">14450</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *U = dyn_cast&lt;SCEVUnionPredicate&gt;(Pred)) {</div>
<div class="line"><a name="l14451"></a><span class="lineno">14451</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Pred : U-&gt;getPredicates())</div>
<div class="line"><a name="l14452"></a><span class="lineno">14452</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *IPred = dyn_cast&lt;SCEVComparePredicate&gt;(Pred))</div>
<div class="line"><a name="l14453"></a><span class="lineno">14453</span>&#160;            <span class="keywordflow">if</span> (IPred-&gt;getLHS() == Expr &amp;&amp;</div>
<div class="line"><a name="l14454"></a><span class="lineno">14454</span>&#160;                IPred-&gt;getPredicate() == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l14455"></a><span class="lineno">14455</span>&#160;              <span class="keywordflow">return</span> IPred-&gt;getRHS();</div>
<div class="line"><a name="l14456"></a><span class="lineno">14456</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *IPred = dyn_cast&lt;SCEVComparePredicate&gt;(Pred)) {</div>
<div class="line"><a name="l14457"></a><span class="lineno">14457</span>&#160;        <span class="keywordflow">if</span> (IPred-&gt;getLHS() == Expr &amp;&amp;</div>
<div class="line"><a name="l14458"></a><span class="lineno">14458</span>&#160;            IPred-&gt;getPredicate() == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l14459"></a><span class="lineno">14459</span>&#160;          <span class="keywordflow">return</span> IPred-&gt;getRHS();</div>
<div class="line"><a name="l14460"></a><span class="lineno">14460</span>&#160;      }</div>
<div class="line"><a name="l14461"></a><span class="lineno">14461</span>&#160;    }</div>
<div class="line"><a name="l14462"></a><span class="lineno">14462</span>&#160;    <span class="keywordflow">return</span> convertToAddRecWithPreds(Expr);</div>
<div class="line"><a name="l14463"></a><span class="lineno">14463</span>&#160;  }</div>
<div class="line"><a name="l14464"></a><span class="lineno">14464</span>&#160; </div>
<div class="line"><a name="l14465"></a><span class="lineno">14465</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitZeroExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *Expr) {</div>
<div class="line"><a name="l14466"></a><span class="lineno">14466</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Operand = visit(Expr-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>());</div>
<div class="line"><a name="l14467"></a><span class="lineno">14467</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(Operand);</div>
<div class="line"><a name="l14468"></a><span class="lineno">14468</span>&#160;    <span class="keywordflow">if</span> (AR &amp;&amp; AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() == L &amp;&amp; AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>()) {</div>
<div class="line"><a name="l14469"></a><span class="lineno">14469</span>&#160;      <span class="comment">// This couldn&#39;t be folded because the operand didn&#39;t have the nuw</span></div>
<div class="line"><a name="l14470"></a><span class="lineno">14470</span>&#160;      <span class="comment">// flag. Add the nusw flag as an assumption that we could make.</span></div>
<div class="line"><a name="l14471"></a><span class="lineno">14471</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(SE);</div>
<div class="line"><a name="l14472"></a><span class="lineno">14472</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = Expr-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>();</div>
<div class="line"><a name="l14473"></a><span class="lineno">14473</span>&#160;      <span class="keywordflow">if</span> (addOverflowAssumption(AR, <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70a17e825823d4b6a92c1b221c4460c91a3">SCEVWrapPredicate::IncrementNUSW</a>))</div>
<div class="line"><a name="l14474"></a><span class="lineno">14474</span>&#160;        <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(), Ty),</div>
<div class="line"><a name="l14475"></a><span class="lineno">14475</span>&#160;                                SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, Ty), L,</div>
<div class="line"><a name="l14476"></a><span class="lineno">14476</span>&#160;                                AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>());</div>
<div class="line"><a name="l14477"></a><span class="lineno">14477</span>&#160;    }</div>
<div class="line"><a name="l14478"></a><span class="lineno">14478</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(Operand, Expr-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>());</div>
<div class="line"><a name="l14479"></a><span class="lineno">14479</span>&#160;  }</div>
<div class="line"><a name="l14480"></a><span class="lineno">14480</span>&#160; </div>
<div class="line"><a name="l14481"></a><span class="lineno">14481</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitSignExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *Expr) {</div>
<div class="line"><a name="l14482"></a><span class="lineno">14482</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Operand = visit(Expr-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">getOperand</a>());</div>
<div class="line"><a name="l14483"></a><span class="lineno">14483</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(Operand);</div>
<div class="line"><a name="l14484"></a><span class="lineno">14484</span>&#160;    <span class="keywordflow">if</span> (AR &amp;&amp; AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">getLoop</a>() == L &amp;&amp; AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">isAffine</a>()) {</div>
<div class="line"><a name="l14485"></a><span class="lineno">14485</span>&#160;      <span class="comment">// This couldn&#39;t be folded because the operand didn&#39;t have the nsw</span></div>
<div class="line"><a name="l14486"></a><span class="lineno">14486</span>&#160;      <span class="comment">// flag. Add the nssw flag as an assumption that we could make.</span></div>
<div class="line"><a name="l14487"></a><span class="lineno">14487</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(SE);</div>
<div class="line"><a name="l14488"></a><span class="lineno">14488</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = Expr-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>();</div>
<div class="line"><a name="l14489"></a><span class="lineno">14489</span>&#160;      <span class="keywordflow">if</span> (addOverflowAssumption(AR, <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70aa4c321f736f542d50b81bb06351f7fce">SCEVWrapPredicate::IncrementNSSW</a>))</div>
<div class="line"><a name="l14490"></a><span class="lineno">14490</span>&#160;        <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">getStart</a>(), Ty),</div>
<div class="line"><a name="l14491"></a><span class="lineno">14491</span>&#160;                                SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Step, Ty), L,</div>
<div class="line"><a name="l14492"></a><span class="lineno">14492</span>&#160;                                AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>());</div>
<div class="line"><a name="l14493"></a><span class="lineno">14493</span>&#160;    }</div>
<div class="line"><a name="l14494"></a><span class="lineno">14494</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">getSignExtendExpr</a>(Operand, Expr-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">getType</a>());</div>
<div class="line"><a name="l14495"></a><span class="lineno">14495</span>&#160;  }</div>
<div class="line"><a name="l14496"></a><span class="lineno">14496</span>&#160; </div>
<div class="line"><a name="l14497"></a><span class="lineno">14497</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l14498"></a><span class="lineno">14498</span>&#160;  <span class="keyword">explicit</span> SCEVPredicateRewriter(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l14499"></a><span class="lineno">14499</span>&#160;                        <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const SCEVPredicate *&gt;</a> *NewPreds,</div>
<div class="line"><a name="l14500"></a><span class="lineno">14500</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *Pred)</div>
<div class="line"><a name="l14501"></a><span class="lineno">14501</span>&#160;      : <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>(SE), NewPreds(NewPreds), Pred(Pred), L(L) {}</div>
<div class="line"><a name="l14502"></a><span class="lineno">14502</span>&#160; </div>
<div class="line"><a name="l14503"></a><span class="lineno">14503</span>&#160;  <span class="keywordtype">bool</span> addOverflowAssumption(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l14504"></a><span class="lineno">14504</span>&#160;    <span class="keywordflow">if</span> (!NewPreds) {</div>
<div class="line"><a name="l14505"></a><span class="lineno">14505</span>&#160;      <span class="comment">// Check if we&#39;ve already made this assumption.</span></div>
<div class="line"><a name="l14506"></a><span class="lineno">14506</span>&#160;      <span class="keywordflow">return</span> Pred &amp;&amp; Pred-&gt;<a class="code" href="classllvm_1_1SCEVPredicate.html#a12d9db1dec5e0c7d358f6a6dee6a1c9f">implies</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l14507"></a><span class="lineno">14507</span>&#160;    }</div>
<div class="line"><a name="l14508"></a><span class="lineno">14508</span>&#160;    NewPreds-&gt;<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l14509"></a><span class="lineno">14509</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l14510"></a><span class="lineno">14510</span>&#160;  }</div>
<div class="line"><a name="l14511"></a><span class="lineno">14511</span>&#160; </div>
<div class="line"><a name="l14512"></a><span class="lineno">14512</span>&#160;  <span class="keywordtype">bool</span> addOverflowAssumption(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR,</div>
<div class="line"><a name="l14513"></a><span class="lineno">14513</span>&#160;                             <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">SCEVWrapPredicate::IncrementWrapFlags</a> AddedFlags) {</div>
<div class="line"><a name="l14514"></a><span class="lineno">14514</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a8b4da0fed92ca11bf8cb2fd763168d3c">getWrapPredicate</a>(AR, AddedFlags);</div>
<div class="line"><a name="l14515"></a><span class="lineno">14515</span>&#160;    <span class="keywordflow">return</span> addOverflowAssumption(A);</div>
<div class="line"><a name="l14516"></a><span class="lineno">14516</span>&#160;  }</div>
<div class="line"><a name="l14517"></a><span class="lineno">14517</span>&#160; </div>
<div class="line"><a name="l14518"></a><span class="lineno">14518</span>&#160;  <span class="comment">// If \p Expr represents a PHINode, we try to see if it can be represented</span></div>
<div class="line"><a name="l14519"></a><span class="lineno">14519</span>&#160;  <span class="comment">// as an AddRec, possibly under a predicate (PHISCEVPred). If it is possible</span></div>
<div class="line"><a name="l14520"></a><span class="lineno">14520</span>&#160;  <span class="comment">// to add this predicate as a runtime overflow check, we return the AddRec.</span></div>
<div class="line"><a name="l14521"></a><span class="lineno">14521</span>&#160;  <span class="comment">// If \p Expr does not meet these conditions (is not a PHI node, or we</span></div>
<div class="line"><a name="l14522"></a><span class="lineno">14522</span>&#160;  <span class="comment">// couldn&#39;t create an AddRec for it, or couldn&#39;t add the predicate), we just</span></div>
<div class="line"><a name="l14523"></a><span class="lineno">14523</span>&#160;  <span class="comment">// return \p Expr.</span></div>
<div class="line"><a name="l14524"></a><span class="lineno">14524</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *convertToAddRecWithPreds(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div>
<div class="line"><a name="l14525"></a><span class="lineno">14525</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;PHINode&gt;(Expr-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">getValue</a>()))</div>
<div class="line"><a name="l14526"></a><span class="lineno">14526</span>&#160;      <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l14527"></a><span class="lineno">14527</span>&#160;    std::optional&lt;</div>
<div class="line"><a name="l14528"></a><span class="lineno">14528</span>&#160;        std::pair&lt;const SCEV *, SmallVector&lt;const SCEVPredicate *, 3&gt;&gt;&gt;</div>
<div class="line"><a name="l14529"></a><span class="lineno">14529</span>&#160;        PredicatedRewrite = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ada4b4e4637302939402932b866e82cf3">createAddRecFromPHIWithCasts</a>(Expr);</div>
<div class="line"><a name="l14530"></a><span class="lineno">14530</span>&#160;    <span class="keywordflow">if</span> (!PredicatedRewrite)</div>
<div class="line"><a name="l14531"></a><span class="lineno">14531</span>&#160;      <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l14532"></a><span class="lineno">14532</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : PredicatedRewrite-&gt;second){</div>
<div class="line"><a name="l14533"></a><span class="lineno">14533</span>&#160;      <span class="comment">// Wrap predicates from outer loops are not supported.</span></div>
<div class="line"><a name="l14534"></a><span class="lineno">14534</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *WP = dyn_cast&lt;const SCEVWrapPredicate&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)) {</div>
<div class="line"><a name="l14535"></a><span class="lineno">14535</span>&#160;        <span class="keywordflow">if</span> (L != WP-&gt;getExpr()-&gt;getLoop())</div>
<div class="line"><a name="l14536"></a><span class="lineno">14536</span>&#160;          <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l14537"></a><span class="lineno">14537</span>&#160;      }</div>
<div class="line"><a name="l14538"></a><span class="lineno">14538</span>&#160;      <span class="keywordflow">if</span> (!addOverflowAssumption(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>))</div>
<div class="line"><a name="l14539"></a><span class="lineno">14539</span>&#160;        <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l14540"></a><span class="lineno">14540</span>&#160;    }</div>
<div class="line"><a name="l14541"></a><span class="lineno">14541</span>&#160;    <span class="keywordflow">return</span> PredicatedRewrite-&gt;first;</div>
<div class="line"><a name="l14542"></a><span class="lineno">14542</span>&#160;  }</div>
<div class="line"><a name="l14543"></a><span class="lineno">14543</span>&#160; </div>
<div class="line"><a name="l14544"></a><span class="lineno">14544</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const SCEVPredicate *&gt;</a> *NewPreds;</div>
<div class="line"><a name="l14545"></a><span class="lineno">14545</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *Pred;</div>
<div class="line"><a name="l14546"></a><span class="lineno">14546</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L;</div>
<div class="line"><a name="l14547"></a><span class="lineno">14547</span>&#160;};</div>
<div class="line"><a name="l14548"></a><span class="lineno">14548</span>&#160; </div>
<div class="line"><a name="l14549"></a><span class="lineno">14549</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l14550"></a><span class="lineno">14550</span>&#160; </div>
<div class="line"><a name="l14551"></a><span class="lineno">14551</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l14552"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae78e890f2ef71a10fca3f21f0833b535">14552</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#ae78e890f2ef71a10fca3f21f0833b535">ScalarEvolution::rewriteUsingPredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l14553"></a><span class="lineno">14553</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> &amp;Preds) {</div>
<div class="line"><a name="l14554"></a><span class="lineno">14554</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">SCEVPredicateRewriter::rewrite</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, L, *<span class="keyword">this</span>, <span class="keyword">nullptr</span>, &amp;Preds);</div>
<div class="line"><a name="l14555"></a><span class="lineno">14555</span>&#160;}</div>
<div class="line"><a name="l14556"></a><span class="lineno">14556</span>&#160; </div>
<div class="line"><a name="l14557"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aa5e72c64cab442ede71f4a6f03284527">14557</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#aa5e72c64cab442ede71f4a6f03284527">ScalarEvolution::convertSCEVToAddRecWithPredicates</a>(</div>
<div class="line"><a name="l14558"></a><span class="lineno">14558</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l14559"></a><span class="lineno">14559</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const SCEVPredicate *&gt;</a> &amp;Preds) {</div>
<div class="line"><a name="l14560"></a><span class="lineno">14560</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEVPredicate *, 4&gt;</a> TransformPreds;</div>
<div class="line"><a name="l14561"></a><span class="lineno">14561</span>&#160;  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">SCEVPredicateRewriter::rewrite</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, L, *<span class="keyword">this</span>, &amp;TransformPreds, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l14562"></a><span class="lineno">14562</span>&#160;  <span class="keyword">auto</span> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l14563"></a><span class="lineno">14563</span>&#160; </div>
<div class="line"><a name="l14564"></a><span class="lineno">14564</span>&#160;  <span class="keywordflow">if</span> (!AddRec)</div>
<div class="line"><a name="l14565"></a><span class="lineno">14565</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l14566"></a><span class="lineno">14566</span>&#160; </div>
<div class="line"><a name="l14567"></a><span class="lineno">14567</span>&#160;  <span class="comment">// Since the transformation was successful, we can now transfer the SCEV</span></div>
<div class="line"><a name="l14568"></a><span class="lineno">14568</span>&#160;  <span class="comment">// predicates.</span></div>
<div class="line"><a name="l14569"></a><span class="lineno">14569</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : TransformPreds)</div>
<div class="line"><a name="l14570"></a><span class="lineno">14570</span>&#160;    Preds.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l14571"></a><span class="lineno">14571</span>&#160; </div>
<div class="line"><a name="l14572"></a><span class="lineno">14572</span>&#160;  <span class="keywordflow">return</span> AddRec;</div>
<div class="line"><a name="l14573"></a><span class="lineno">14573</span>&#160;}</div>
<div class="line"><a name="l14574"></a><span class="lineno">14574</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l14575"></a><span class="lineno">14575</span>&#160;<span class="comment">/// SCEV predicates</span></div>
<div class="line"><a name="l14576"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVPredicate.html#af97132991d152fce890196285895e74d">14576</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SCEVPredicate.html#a6d2a13cb997f4164ed8d17c16b50acf1">SCEVPredicate::SCEVPredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>,</div>
<div class="line"><a name="l14577"></a><span class="lineno">14577</span>&#160;                             <a class="code" href="classllvm_1_1SCEVPredicate.html#a75f4943e861ac0b6d41439c7d5c07adb">SCEVPredicateKind</a> Kind)</div>
<div class="line"><a name="l14578"></a><span class="lineno">14578</span>&#160;    : FastID(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), Kind(Kind) {}</div>
<div class="line"><a name="l14579"></a><span class="lineno">14579</span>&#160; </div>
<div class="line"><a name="l14580"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVComparePredicate.html#a039023d2ca9307063c76f6d5c67b9213">14580</a></span>&#160;<a class="code" href="classllvm_1_1SCEVComparePredicate.html#a039023d2ca9307063c76f6d5c67b9213">SCEVComparePredicate::SCEVComparePredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>,</div>
<div class="line"><a name="l14581"></a><span class="lineno">14581</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l14582"></a><span class="lineno">14582</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l14583"></a><span class="lineno">14583</span>&#160;  : <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, P_Compare), Pred(Pred), <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l14584"></a><span class="lineno">14584</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() &amp;&amp; <span class="stringliteral">&quot;LHS and RHS types don&#39;t match&quot;</span>);</div>
<div class="line"><a name="l14585"></a><span class="lineno">14585</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> != <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> &amp;&amp; <span class="stringliteral">&quot;LHS and RHS are the same SCEV&quot;</span>);</div>
<div class="line"><a name="l14586"></a><span class="lineno">14586</span>&#160;}</div>
<div class="line"><a name="l14587"></a><span class="lineno">14587</span>&#160; </div>
<div class="line"><a name="l14588"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVComparePredicate.html#aac06d2751578a637182749b3e8837368">14588</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVComparePredicate.html#aac06d2751578a637182749b3e8837368">SCEVComparePredicate::implies</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14589"></a><span class="lineno">14589</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = dyn_cast&lt;SCEVComparePredicate&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l14590"></a><span class="lineno">14590</span>&#160; </div>
<div class="line"><a name="l14591"></a><span class="lineno">14591</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)</div>
<div class="line"><a name="l14592"></a><span class="lineno">14592</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l14593"></a><span class="lineno">14593</span>&#160; </div>
<div class="line"><a name="l14594"></a><span class="lineno">14594</span>&#160;  <span class="keywordflow">if</span> (Pred != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l14595"></a><span class="lineno">14595</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l14596"></a><span class="lineno">14596</span>&#160; </div>
<div class="line"><a name="l14597"></a><span class="lineno">14597</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;LHS == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;RHS == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l14598"></a><span class="lineno">14598</span>&#160;}</div>
<div class="line"><a name="l14599"></a><span class="lineno">14599</span>&#160; </div>
<div class="line"><a name="l14600"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVComparePredicate.html#a51039023359472095dda408272dad47c">14600</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVComparePredicate.html#a51039023359472095dda408272dad47c">SCEVComparePredicate::isAlwaysTrue</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l14601"></a><span class="lineno">14601</span>&#160; </div>
<div class="line"><a name="l14602"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVComparePredicate.html#ada4c07a2a91d420224b61eab10de7889">14602</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SCEVComparePredicate.html#ada4c07a2a91d420224b61eab10de7889">SCEVComparePredicate::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14603"></a><span class="lineno">14603</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l14604"></a><span class="lineno">14604</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.<a class="code" href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">indent</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) &lt;&lt; <span class="stringliteral">&quot;Equal predicate: &quot;</span> &lt;&lt; *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> &lt;&lt; <span class="stringliteral">&quot; == &quot;</span> &lt;&lt; *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14605"></a><span class="lineno">14605</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l14606"></a><span class="lineno">14606</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.<a class="code" href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">indent</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) &lt;&lt; <span class="stringliteral">&quot;Compare predicate: &quot;</span> &lt;&lt; *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div>
<div class="line"><a name="l14607"></a><span class="lineno">14607</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1CmpInst.html#aa68a2d2c06a10b1e5a5bc778a107c0ba">CmpInst::getPredicateName</a>(Pred) &lt;&lt; <span class="stringliteral">&quot;) &quot;</span></div>
<div class="line"><a name="l14608"></a><span class="lineno">14608</span>&#160;                     &lt;&lt; *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14609"></a><span class="lineno">14609</span>&#160; </div>
<div class="line"><a name="l14610"></a><span class="lineno">14610</span>&#160;}</div>
<div class="line"><a name="l14611"></a><span class="lineno">14611</span>&#160; </div>
<div class="line"><a name="l14612"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVWrapPredicate.html#a1434e18d5ff272c4b7bfb27e519dee42">14612</a></span>&#160;<a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a1434e18d5ff272c4b7bfb27e519dee42">SCEVWrapPredicate::SCEVWrapPredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>,</div>
<div class="line"><a name="l14613"></a><span class="lineno">14613</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR,</div>
<div class="line"><a name="l14614"></a><span class="lineno">14614</span>&#160;                                     <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">IncrementWrapFlags</a> Flags)</div>
<div class="line"><a name="l14615"></a><span class="lineno">14615</span>&#160;    : <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, P_Wrap), AR(AR), Flags(Flags) {}</div>
<div class="line"><a name="l14616"></a><span class="lineno">14616</span>&#160; </div>
<div class="line"><a name="l14617"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVWrapPredicate.html#a5fadcc50dcb3839af0bfcb62d2cb20b9">14617</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a5fadcc50dcb3839af0bfcb62d2cb20b9">SCEVWrapPredicate::getExpr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> AR; }</div>
<div class="line"><a name="l14618"></a><span class="lineno">14618</span>&#160; </div>
<div class="line"><a name="l14619"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVWrapPredicate.html#a26686cb5c1bf48d6b2c8b98c0a97dcd2">14619</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a26686cb5c1bf48d6b2c8b98c0a97dcd2">SCEVWrapPredicate::implies</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14620"></a><span class="lineno">14620</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = dyn_cast&lt;SCEVWrapPredicate&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l14621"></a><span class="lineno">14621</span>&#160; </div>
<div class="line"><a name="l14622"></a><span class="lineno">14622</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;AR == AR &amp;&amp; <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a3db937ba78ab75aa91d72c8678a28b78">setFlags</a>(Flags, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;Flags) == Flags;</div>
<div class="line"><a name="l14623"></a><span class="lineno">14623</span>&#160;}</div>
<div class="line"><a name="l14624"></a><span class="lineno">14624</span>&#160; </div>
<div class="line"><a name="l14625"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVWrapPredicate.html#a55e760ed817efd182374bddd96c0725d">14625</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a55e760ed817efd182374bddd96c0725d">SCEVWrapPredicate::isAlwaysTrue</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14626"></a><span class="lineno">14626</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> ScevFlags = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>();</div>
<div class="line"><a name="l14627"></a><span class="lineno">14627</span>&#160;  <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">IncrementWrapFlags</a> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11b">IFlags</a> = Flags;</div>
<div class="line"><a name="l14628"></a><span class="lineno">14628</span>&#160; </div>
<div class="line"><a name="l14629"></a><span class="lineno">14629</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(ScevFlags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>) == ScevFlags)</div>
<div class="line"><a name="l14630"></a><span class="lineno">14630</span>&#160;    <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11b">IFlags</a> = <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a6075abe0816f373cb741561866f3eefa">clearFlags</a>(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11b">IFlags</a>, <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70aa4c321f736f542d50b81bb06351f7fce">IncrementNSSW</a>);</div>
<div class="line"><a name="l14631"></a><span class="lineno">14631</span>&#160; </div>
<div class="line"><a name="l14632"></a><span class="lineno">14632</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11b">IFlags</a> == <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70a11c850531be360193c9473b4fe240c1d">IncrementAnyWrap</a>;</div>
<div class="line"><a name="l14633"></a><span class="lineno">14633</span>&#160;}</div>
<div class="line"><a name="l14634"></a><span class="lineno">14634</span>&#160; </div>
<div class="line"><a name="l14635"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVWrapPredicate.html#a42276b9ddf5e782e18683908a626466a">14635</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a42276b9ddf5e782e18683908a626466a">SCEVWrapPredicate::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14636"></a><span class="lineno">14636</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.<a class="code" href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">indent</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) &lt;&lt; *<a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a5fadcc50dcb3839af0bfcb62d2cb20b9">getExpr</a>() &lt;&lt; <span class="stringliteral">&quot; Added Flags: &quot;</span>;</div>
<div class="line"><a name="l14637"></a><span class="lineno">14637</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70a17e825823d4b6a92c1b221c4460c91a3">SCEVWrapPredicate::IncrementNUSW</a> &amp; <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#abd0469a627ab55aaa6789c3d6dec0fa9">getFlags</a>())</div>
<div class="line"><a name="l14638"></a><span class="lineno">14638</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;nusw&gt;&quot;</span>;</div>
<div class="line"><a name="l14639"></a><span class="lineno">14639</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70aa4c321f736f542d50b81bb06351f7fce">SCEVWrapPredicate::IncrementNSSW</a> &amp; <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#abd0469a627ab55aaa6789c3d6dec0fa9">getFlags</a>())</div>
<div class="line"><a name="l14640"></a><span class="lineno">14640</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;nssw&gt;&quot;</span>;</div>
<div class="line"><a name="l14641"></a><span class="lineno">14641</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14642"></a><span class="lineno">14642</span>&#160;}</div>
<div class="line"><a name="l14643"></a><span class="lineno">14643</span>&#160; </div>
<div class="line"><a name="l14644"></a><span class="lineno">14644</span>&#160;<a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">SCEVWrapPredicate::IncrementWrapFlags</a></div>
<div class="line"><a name="l14645"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVWrapPredicate.html#a76a888bd97f7b7bb6b43eb4bdb9dc3bc">14645</a></span>&#160;<a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a76a888bd97f7b7bb6b43eb4bdb9dc3bc">SCEVWrapPredicate::getImpliedFlags</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR,</div>
<div class="line"><a name="l14646"></a><span class="lineno">14646</span>&#160;                                   <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a name="l14647"></a><span class="lineno">14647</span>&#160;  <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">IncrementWrapFlags</a> ImpliedFlags = <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70a11c850531be360193c9473b4fe240c1d">IncrementAnyWrap</a>;</div>
<div class="line"><a name="l14648"></a><span class="lineno">14648</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> StaticFlags = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">getNoWrapFlags</a>();</div>
<div class="line"><a name="l14649"></a><span class="lineno">14649</span>&#160; </div>
<div class="line"><a name="l14650"></a><span class="lineno">14650</span>&#160;  <span class="comment">// We can safely transfer the NSW flag as NSSW.</span></div>
<div class="line"><a name="l14651"></a><span class="lineno">14651</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(StaticFlags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>) == StaticFlags)</div>
<div class="line"><a name="l14652"></a><span class="lineno">14652</span>&#160;    ImpliedFlags = <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70aa4c321f736f542d50b81bb06351f7fce">IncrementNSSW</a>;</div>
<div class="line"><a name="l14653"></a><span class="lineno">14653</span>&#160; </div>
<div class="line"><a name="l14654"></a><span class="lineno">14654</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">ScalarEvolution::setFlags</a>(StaticFlags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>) == StaticFlags) {</div>
<div class="line"><a name="l14655"></a><span class="lineno">14655</span>&#160;    <span class="comment">// If the increment is positive, the SCEV NUW flag will also imply the</span></div>
<div class="line"><a name="l14656"></a><span class="lineno">14656</span>&#160;    <span class="comment">// WrapPredicate NUSW flag.</span></div>
<div class="line"><a name="l14657"></a><span class="lineno">14657</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Step = dyn_cast&lt;SCEVConstant&gt;(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">getStepRecurrence</a>(SE)))</div>
<div class="line"><a name="l14658"></a><span class="lineno">14658</span>&#160;      <span class="keywordflow">if</span> (Step-&gt;getValue()-&gt;getValue().isNonNegative())</div>
<div class="line"><a name="l14659"></a><span class="lineno">14659</span>&#160;        ImpliedFlags = <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a3db937ba78ab75aa91d72c8678a28b78">setFlags</a>(ImpliedFlags, <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70a17e825823d4b6a92c1b221c4460c91a3">IncrementNUSW</a>);</div>
<div class="line"><a name="l14660"></a><span class="lineno">14660</span>&#160;  }</div>
<div class="line"><a name="l14661"></a><span class="lineno">14661</span>&#160; </div>
<div class="line"><a name="l14662"></a><span class="lineno">14662</span>&#160;  <span class="keywordflow">return</span> ImpliedFlags;</div>
<div class="line"><a name="l14663"></a><span class="lineno">14663</span>&#160;}</div>
<div class="line"><a name="l14664"></a><span class="lineno">14664</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l14665"></a><span class="lineno">14665</span>&#160;<span class="comment">/// Union predicates don&#39;t get cached so create a dummy set ID for it.</span></div>
<div class="line"><a name="l14666"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnionPredicate.html#a18e54137a610f1c884f289527efe910e">14666</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SCEVUnionPredicate.html#a18e54137a610f1c884f289527efe910e">SCEVUnionPredicate::SCEVUnionPredicate</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEVPredicate *&gt;</a> Preds)</div>
<div class="line"><a name="l14667"></a><span class="lineno">14667</span>&#160;  : <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a>(<a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a>(nullptr, 0), P_Union) {</div>
<div class="line"><a name="l14668"></a><span class="lineno">14668</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : Preds)</div>
<div class="line"><a name="l14669"></a><span class="lineno">14669</span>&#160;    add(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l14670"></a><span class="lineno">14670</span>&#160;}</div>
<div class="line"><a name="l14671"></a><span class="lineno">14671</span>&#160; </div>
<div class="line"><a name="l14672"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnionPredicate.html#abbe60f8bee2dd03b70935fc114c42a73">14672</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVUnionPredicate.html#abbe60f8bee2dd03b70935fc114c42a73">SCEVUnionPredicate::isAlwaysTrue</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14673"></a><span class="lineno">14673</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Preds,</div>
<div class="line"><a name="l14674"></a><span class="lineno">14674</span>&#160;                [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isAlwaysTrue(); });</div>
<div class="line"><a name="l14675"></a><span class="lineno">14675</span>&#160;}</div>
<div class="line"><a name="l14676"></a><span class="lineno">14676</span>&#160; </div>
<div class="line"><a name="l14677"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnionPredicate.html#ad83d54a5a40ff5df4d7e25ea7fa23708">14677</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVUnionPredicate.html#ad83d54a5a40ff5df4d7e25ea7fa23708">SCEVUnionPredicate::implies</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14678"></a><span class="lineno">14678</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Set = dyn_cast&lt;SCEVUnionPredicate&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l14679"></a><span class="lineno">14679</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Set-&gt;Preds,</div>
<div class="line"><a name="l14680"></a><span class="lineno">14680</span>&#160;                  [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { return this-&gt;implies(I); });</div>
<div class="line"><a name="l14681"></a><span class="lineno">14681</span>&#160; </div>
<div class="line"><a name="l14682"></a><span class="lineno">14682</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(Preds,</div>
<div class="line"><a name="l14683"></a><span class="lineno">14683</span>&#160;                [<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;implies(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>); });</div>
<div class="line"><a name="l14684"></a><span class="lineno">14684</span>&#160;}</div>
<div class="line"><a name="l14685"></a><span class="lineno">14685</span>&#160; </div>
<div class="line"><a name="l14686"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnionPredicate.html#a651ce9d5ea7ab9b838bbff841be7ccb9">14686</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SCEVUnionPredicate.html#a651ce9d5ea7ab9b838bbff841be7ccb9">SCEVUnionPredicate::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14687"></a><span class="lineno">14687</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Pred : Preds)</div>
<div class="line"><a name="l14688"></a><span class="lineno">14688</span>&#160;    Pred-&gt;<a class="code" href="classllvm_1_1SCEVPredicate.html#aad1f00f5fd2e1d44f4d4693b021fae20">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l14689"></a><span class="lineno">14689</span>&#160;}</div>
<div class="line"><a name="l14690"></a><span class="lineno">14690</span>&#160; </div>
<div class="line"><a name="l14691"></a><span class="lineno">14691</span>&#160;<span class="keywordtype">void</span> SCEVUnionPredicate::add(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l14692"></a><span class="lineno">14692</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Set = dyn_cast&lt;SCEVUnionPredicate&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l14693"></a><span class="lineno">14693</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Pred : Set-&gt;Preds)</div>
<div class="line"><a name="l14694"></a><span class="lineno">14694</span>&#160;      add(Pred);</div>
<div class="line"><a name="l14695"></a><span class="lineno">14695</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l14696"></a><span class="lineno">14696</span>&#160;  }</div>
<div class="line"><a name="l14697"></a><span class="lineno">14697</span>&#160; </div>
<div class="line"><a name="l14698"></a><span class="lineno">14698</span>&#160;  Preds.push_back(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l14699"></a><span class="lineno">14699</span>&#160;}</div>
<div class="line"><a name="l14700"></a><span class="lineno">14700</span>&#160; </div>
<div class="line"><a name="l14701"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#aa2b11e914798a4e54c7e640722f1b08d">14701</a></span>&#160;<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#aa2b11e914798a4e54c7e640722f1b08d">PredicatedScalarEvolution::PredicatedScalarEvolution</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l14702"></a><span class="lineno">14702</span>&#160;                                                     <a class="code" href="classllvm_1_1Loop.html">Loop</a> &amp;L)</div>
<div class="line"><a name="l14703"></a><span class="lineno">14703</span>&#160;    : SE(SE), L(L) {</div>
<div class="line"><a name="l14704"></a><span class="lineno">14704</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEVPredicate*, 4&gt;</a> Empty;</div>
<div class="line"><a name="l14705"></a><span class="lineno">14705</span>&#160;  Preds = std::make_unique&lt;SCEVUnionPredicate&gt;(Empty);</div>
<div class="line"><a name="l14706"></a><span class="lineno">14706</span>&#160;}</div>
<div class="line"><a name="l14707"></a><span class="lineno">14707</span>&#160; </div>
<div class="line"><a name="l14708"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">14708</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">ScalarEvolution::registerUser</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1User.html">User</a>,</div>
<div class="line"><a name="l14709"></a><span class="lineno">14709</span>&#160;                                   <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const SCEV *&gt;</a> Ops) {</div>
<div class="line"><a name="l14710"></a><span class="lineno">14710</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Ops)</div>
<div class="line"><a name="l14711"></a><span class="lineno">14711</span>&#160;    <span class="comment">// We do not expect that forgetting cached data for SCEVConstants will ever</span></div>
<div class="line"><a name="l14712"></a><span class="lineno">14712</span>&#160;    <span class="comment">// open any prospects for sharpening or introduce any correctness issues,</span></div>
<div class="line"><a name="l14713"></a><span class="lineno">14713</span>&#160;    <span class="comment">// so we don&#39;t bother storing their dependencies.</span></div>
<div class="line"><a name="l14714"></a><span class="lineno">14714</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l14715"></a><span class="lineno">14715</span>&#160;      SCEVUsers[<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>].insert(<a class="code" href="classllvm_1_1User.html">User</a>);</div>
<div class="line"><a name="l14716"></a><span class="lineno">14716</span>&#160;}</div>
<div class="line"><a name="l14717"></a><span class="lineno">14717</span>&#160; </div>
<div class="line"><a name="l14718"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#ae0994d8207b94ad22ecebc1a6bc580f1">14718</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#ae0994d8207b94ad22ecebc1a6bc580f1">PredicatedScalarEvolution::getSCEV</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l14719"></a><span class="lineno">14719</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(V);</div>
<div class="line"><a name="l14720"></a><span class="lineno">14720</span>&#160;  RewriteEntry &amp;Entry = RewriteMap[Expr];</div>
<div class="line"><a name="l14721"></a><span class="lineno">14721</span>&#160; </div>
<div class="line"><a name="l14722"></a><span class="lineno">14722</span>&#160;  <span class="comment">// If we already have an entry and the version matches, return it.</span></div>
<div class="line"><a name="l14723"></a><span class="lineno">14723</span>&#160;  <span class="keywordflow">if</span> (Entry.second &amp;&amp; Generation == Entry.first)</div>
<div class="line"><a name="l14724"></a><span class="lineno">14724</span>&#160;    <span class="keywordflow">return</span> Entry.second;</div>
<div class="line"><a name="l14725"></a><span class="lineno">14725</span>&#160; </div>
<div class="line"><a name="l14726"></a><span class="lineno">14726</span>&#160;  <span class="comment">// We found an entry but it&#39;s stale. Rewrite the stale entry</span></div>
<div class="line"><a name="l14727"></a><span class="lineno">14727</span>&#160;  <span class="comment">// according to the current predicate.</span></div>
<div class="line"><a name="l14728"></a><span class="lineno">14728</span>&#160;  <span class="keywordflow">if</span> (Entry.second)</div>
<div class="line"><a name="l14729"></a><span class="lineno">14729</span>&#160;    Expr = Entry.second;</div>
<div class="line"><a name="l14730"></a><span class="lineno">14730</span>&#160; </div>
<div class="line"><a name="l14731"></a><span class="lineno">14731</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewSCEV = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ae78e890f2ef71a10fca3f21f0833b535">rewriteUsingPredicate</a>(Expr, &amp;L, *Preds);</div>
<div class="line"><a name="l14732"></a><span class="lineno">14732</span>&#160;  Entry = {Generation, NewSCEV};</div>
<div class="line"><a name="l14733"></a><span class="lineno">14733</span>&#160; </div>
<div class="line"><a name="l14734"></a><span class="lineno">14734</span>&#160;  <span class="keywordflow">return</span> NewSCEV;</div>
<div class="line"><a name="l14735"></a><span class="lineno">14735</span>&#160;}</div>
<div class="line"><a name="l14736"></a><span class="lineno">14736</span>&#160; </div>
<div class="line"><a name="l14737"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#ada1db826f3d2266fe2c4d06218d8d342">14737</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#ada1db826f3d2266fe2c4d06218d8d342">PredicatedScalarEvolution::getBackedgeTakenCount</a>() {</div>
<div class="line"><a name="l14738"></a><span class="lineno">14738</span>&#160;  <span class="keywordflow">if</span> (!BackedgeCount) {</div>
<div class="line"><a name="l14739"></a><span class="lineno">14739</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEVPredicate *, 4&gt;</a> Preds;</div>
<div class="line"><a name="l14740"></a><span class="lineno">14740</span>&#160;    BackedgeCount = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a79fea84c72cff6e47eb3079272bec666">getPredicatedBackedgeTakenCount</a>(&amp;L, Preds);</div>
<div class="line"><a name="l14741"></a><span class="lineno">14741</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : Preds)</div>
<div class="line"><a name="l14742"></a><span class="lineno">14742</span>&#160;      <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a0b369e991301543c2120405809119d36">addPredicate</a>(*<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l14743"></a><span class="lineno">14743</span>&#160;  }</div>
<div class="line"><a name="l14744"></a><span class="lineno">14744</span>&#160;  <span class="keywordflow">return</span> BackedgeCount;</div>
<div class="line"><a name="l14745"></a><span class="lineno">14745</span>&#160;}</div>
<div class="line"><a name="l14746"></a><span class="lineno">14746</span>&#160; </div>
<div class="line"><a name="l14747"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#a0b369e991301543c2120405809119d36">14747</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a0b369e991301543c2120405809119d36">PredicatedScalarEvolution::addPredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> &amp;Pred) {</div>
<div class="line"><a name="l14748"></a><span class="lineno">14748</span>&#160;  <span class="keywordflow">if</span> (Preds-&gt;implies(&amp;Pred))</div>
<div class="line"><a name="l14749"></a><span class="lineno">14749</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l14750"></a><span class="lineno">14750</span>&#160; </div>
<div class="line"><a name="l14751"></a><span class="lineno">14751</span>&#160;  <span class="keyword">auto</span> &amp;OldPreds = Preds-&gt;getPredicates();</div>
<div class="line"><a name="l14752"></a><span class="lineno">14752</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEVPredicate*, 4&gt;</a> NewPreds(OldPreds.begin(), OldPreds.end());</div>
<div class="line"><a name="l14753"></a><span class="lineno">14753</span>&#160;  NewPreds.push_back(&amp;Pred);</div>
<div class="line"><a name="l14754"></a><span class="lineno">14754</span>&#160;  Preds = std::make_unique&lt;SCEVUnionPredicate&gt;(NewPreds);</div>
<div class="line"><a name="l14755"></a><span class="lineno">14755</span>&#160;  updateGeneration();</div>
<div class="line"><a name="l14756"></a><span class="lineno">14756</span>&#160;}</div>
<div class="line"><a name="l14757"></a><span class="lineno">14757</span>&#160; </div>
<div class="line"><a name="l14758"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#a12a8ac8838fb851a2de5dc5275307bb6">14758</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVPredicate.html">SCEVPredicate</a> &amp;<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a12a8ac8838fb851a2de5dc5275307bb6">PredicatedScalarEvolution::getPredicate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14759"></a><span class="lineno">14759</span>&#160;  <span class="keywordflow">return</span> *Preds;</div>
<div class="line"><a name="l14760"></a><span class="lineno">14760</span>&#160;}</div>
<div class="line"><a name="l14761"></a><span class="lineno">14761</span>&#160; </div>
<div class="line"><a name="l14762"></a><span class="lineno">14762</span>&#160;<span class="keywordtype">void</span> PredicatedScalarEvolution::updateGeneration() {</div>
<div class="line"><a name="l14763"></a><span class="lineno">14763</span>&#160;  <span class="comment">// If the generation number wrapped recompute everything.</span></div>
<div class="line"><a name="l14764"></a><span class="lineno">14764</span>&#160;  <span class="keywordflow">if</span> (++Generation == 0) {</div>
<div class="line"><a name="l14765"></a><span class="lineno">14765</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;II : RewriteMap) {</div>
<div class="line"><a name="l14766"></a><span class="lineno">14766</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Rewritten = II.second.second;</div>
<div class="line"><a name="l14767"></a><span class="lineno">14767</span>&#160;      II.second = {Generation, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ae78e890f2ef71a10fca3f21f0833b535">rewriteUsingPredicate</a>(Rewritten, &amp;L, *Preds)};</div>
<div class="line"><a name="l14768"></a><span class="lineno">14768</span>&#160;    }</div>
<div class="line"><a name="l14769"></a><span class="lineno">14769</span>&#160;  }</div>
<div class="line"><a name="l14770"></a><span class="lineno">14770</span>&#160;}</div>
<div class="line"><a name="l14771"></a><span class="lineno">14771</span>&#160; </div>
<div class="line"><a name="l14772"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#a757ce31dd838b17c024287ce9d17c4c2">14772</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a757ce31dd838b17c024287ce9d17c4c2">PredicatedScalarEvolution::setNoOverflow</a>(</div>
<div class="line"><a name="l14773"></a><span class="lineno">14773</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">SCEVWrapPredicate::IncrementWrapFlags</a> Flags) {</div>
<div class="line"><a name="l14774"></a><span class="lineno">14774</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr = <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#ae0994d8207b94ad22ecebc1a6bc580f1">getSCEV</a>(V);</div>
<div class="line"><a name="l14775"></a><span class="lineno">14775</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *AR = cast&lt;SCEVAddRecExpr&gt;(Expr);</div>
<div class="line"><a name="l14776"></a><span class="lineno">14776</span>&#160; </div>
<div class="line"><a name="l14777"></a><span class="lineno">14777</span>&#160;  <span class="keyword">auto</span> ImpliedFlags = <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a76a888bd97f7b7bb6b43eb4bdb9dc3bc">SCEVWrapPredicate::getImpliedFlags</a>(AR, SE);</div>
<div class="line"><a name="l14778"></a><span class="lineno">14778</span>&#160; </div>
<div class="line"><a name="l14779"></a><span class="lineno">14779</span>&#160;  <span class="comment">// Clear the statically implied flags.</span></div>
<div class="line"><a name="l14780"></a><span class="lineno">14780</span>&#160;  Flags = <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a6075abe0816f373cb741561866f3eefa">SCEVWrapPredicate::clearFlags</a>(Flags, ImpliedFlags);</div>
<div class="line"><a name="l14781"></a><span class="lineno">14781</span>&#160;  <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a0b369e991301543c2120405809119d36">addPredicate</a>(*SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a8b4da0fed92ca11bf8cb2fd763168d3c">getWrapPredicate</a>(AR, Flags));</div>
<div class="line"><a name="l14782"></a><span class="lineno">14782</span>&#160; </div>
<div class="line"><a name="l14783"></a><span class="lineno">14783</span>&#160;  <span class="keyword">auto</span> II = FlagsMap.insert({V, Flags});</div>
<div class="line"><a name="l14784"></a><span class="lineno">14784</span>&#160;  <span class="keywordflow">if</span> (!II.second)</div>
<div class="line"><a name="l14785"></a><span class="lineno">14785</span>&#160;    II.first-&gt;second = <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a3db937ba78ab75aa91d72c8678a28b78">SCEVWrapPredicate::setFlags</a>(Flags, II.first-&gt;second);</div>
<div class="line"><a name="l14786"></a><span class="lineno">14786</span>&#160;}</div>
<div class="line"><a name="l14787"></a><span class="lineno">14787</span>&#160; </div>
<div class="line"><a name="l14788"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#a6fb96c9b4d017d69818db581dae5bd96">14788</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a6fb96c9b4d017d69818db581dae5bd96">PredicatedScalarEvolution::hasNoOverflow</a>(</div>
<div class="line"><a name="l14789"></a><span class="lineno">14789</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">SCEVWrapPredicate::IncrementWrapFlags</a> Flags) {</div>
<div class="line"><a name="l14790"></a><span class="lineno">14790</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr = <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#ae0994d8207b94ad22ecebc1a6bc580f1">getSCEV</a>(V);</div>
<div class="line"><a name="l14791"></a><span class="lineno">14791</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *AR = cast&lt;SCEVAddRecExpr&gt;(Expr);</div>
<div class="line"><a name="l14792"></a><span class="lineno">14792</span>&#160; </div>
<div class="line"><a name="l14793"></a><span class="lineno">14793</span>&#160;  Flags = <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a6075abe0816f373cb741561866f3eefa">SCEVWrapPredicate::clearFlags</a>(</div>
<div class="line"><a name="l14794"></a><span class="lineno">14794</span>&#160;      Flags, <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a76a888bd97f7b7bb6b43eb4bdb9dc3bc">SCEVWrapPredicate::getImpliedFlags</a>(AR, SE));</div>
<div class="line"><a name="l14795"></a><span class="lineno">14795</span>&#160; </div>
<div class="line"><a name="l14796"></a><span class="lineno">14796</span>&#160;  <span class="keyword">auto</span> II = FlagsMap.find(V);</div>
<div class="line"><a name="l14797"></a><span class="lineno">14797</span>&#160; </div>
<div class="line"><a name="l14798"></a><span class="lineno">14798</span>&#160;  <span class="keywordflow">if</span> (II != FlagsMap.end())</div>
<div class="line"><a name="l14799"></a><span class="lineno">14799</span>&#160;    Flags = <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a6075abe0816f373cb741561866f3eefa">SCEVWrapPredicate::clearFlags</a>(Flags, II-&gt;second);</div>
<div class="line"><a name="l14800"></a><span class="lineno">14800</span>&#160; </div>
<div class="line"><a name="l14801"></a><span class="lineno">14801</span>&#160;  <span class="keywordflow">return</span> Flags == <a class="code" href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70a11c850531be360193c9473b4fe240c1d">SCEVWrapPredicate::IncrementAnyWrap</a>;</div>
<div class="line"><a name="l14802"></a><span class="lineno">14802</span>&#160;}</div>
<div class="line"><a name="l14803"></a><span class="lineno">14803</span>&#160; </div>
<div class="line"><a name="l14804"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#aa364810e8fe30937277d9dd8a301c4c9">14804</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#aa364810e8fe30937277d9dd8a301c4c9">PredicatedScalarEvolution::getAsAddRec</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l14805"></a><span class="lineno">14805</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr = this-&gt;<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#ae0994d8207b94ad22ecebc1a6bc580f1">getSCEV</a>(V);</div>
<div class="line"><a name="l14806"></a><span class="lineno">14806</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEVPredicate *, 4&gt;</a> NewPreds;</div>
<div class="line"><a name="l14807"></a><span class="lineno">14807</span>&#160;  <span class="keyword">auto</span> *New = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa5e72c64cab442ede71f4a6f03284527">convertSCEVToAddRecWithPredicates</a>(Expr, &amp;L, NewPreds);</div>
<div class="line"><a name="l14808"></a><span class="lineno">14808</span>&#160; </div>
<div class="line"><a name="l14809"></a><span class="lineno">14809</span>&#160;  <span class="keywordflow">if</span> (!New)</div>
<div class="line"><a name="l14810"></a><span class="lineno">14810</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l14811"></a><span class="lineno">14811</span>&#160; </div>
<div class="line"><a name="l14812"></a><span class="lineno">14812</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : NewPreds)</div>
<div class="line"><a name="l14813"></a><span class="lineno">14813</span>&#160;    <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a0b369e991301543c2120405809119d36">addPredicate</a>(*<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l14814"></a><span class="lineno">14814</span>&#160; </div>
<div class="line"><a name="l14815"></a><span class="lineno">14815</span>&#160;  RewriteMap[SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(V)] = {Generation, New};</div>
<div class="line"><a name="l14816"></a><span class="lineno">14816</span>&#160;  <span class="keywordflow">return</span> New;</div>
<div class="line"><a name="l14817"></a><span class="lineno">14817</span>&#160;}</div>
<div class="line"><a name="l14818"></a><span class="lineno">14818</span>&#160; </div>
<div class="line"><a name="l14819"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#aad1b5b2fb366e23d7693b5953feff806">14819</a></span>&#160;<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#aa2b11e914798a4e54c7e640722f1b08d">PredicatedScalarEvolution::PredicatedScalarEvolution</a>(</div>
<div class="line"><a name="l14820"></a><span class="lineno">14820</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html">PredicatedScalarEvolution</a> &amp;<a class="code" href="classllvm_1_1Init.html">Init</a>)</div>
<div class="line"><a name="l14821"></a><span class="lineno">14821</span>&#160;  : RewriteMap(<a class="code" href="classllvm_1_1Init.html">Init</a>.RewriteMap), SE(<a class="code" href="classllvm_1_1Init.html">Init</a>.SE), L(<a class="code" href="classllvm_1_1Init.html">Init</a>.L),</div>
<div class="line"><a name="l14822"></a><span class="lineno">14822</span>&#160;    Preds(<a class="code" href="namespacestd.html">std</a>::make_unique&lt;<a class="code" href="classllvm_1_1SCEVUnionPredicate.html">SCEVUnionPredicate</a>&gt;(<a class="code" href="classllvm_1_1Init.html">Init</a>.Preds-&gt;getPredicates())),</div>
<div class="line"><a name="l14823"></a><span class="lineno">14823</span>&#160;    Generation(<a class="code" href="classllvm_1_1Init.html">Init</a>.Generation), BackedgeCount(<a class="code" href="classllvm_1_1Init.html">Init</a>.BackedgeCount) {</div>
<div class="line"><a name="l14824"></a><span class="lineno">14824</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="classllvm_1_1Init.html">Init</a>.FlagsMap)</div>
<div class="line"><a name="l14825"></a><span class="lineno">14825</span>&#160;    FlagsMap.insert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l14826"></a><span class="lineno">14826</span>&#160;}</div>
<div class="line"><a name="l14827"></a><span class="lineno">14827</span>&#160; </div>
<div class="line"><a name="l14828"></a><span class="lineno"><a class="line" href="classllvm_1_1PredicatedScalarEvolution.html#a84e9b8947377b33bf66815f86269e6ce">14828</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a84e9b8947377b33bf66815f86269e6ce">PredicatedScalarEvolution::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l14829"></a><span class="lineno">14829</span>&#160;  <span class="comment">// For each block.</span></div>
<div class="line"><a name="l14830"></a><span class="lineno">14830</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : L.<a class="code" href="classllvm_1_1LoopBase.html#a5cc113cb783ab6e5ca7b69241431c19c">getBlocks</a>())</div>
<div class="line"><a name="l14831"></a><span class="lineno">14831</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l14832"></a><span class="lineno">14832</span>&#160;      <span class="keywordflow">if</span> (!SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()))</div>
<div class="line"><a name="l14833"></a><span class="lineno">14833</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14834"></a><span class="lineno">14834</span>&#160; </div>
<div class="line"><a name="l14835"></a><span class="lineno">14835</span>&#160;      <span class="keyword">auto</span> *Expr = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l14836"></a><span class="lineno">14836</span>&#160;      <span class="keyword">auto</span> II = RewriteMap.find(Expr);</div>
<div class="line"><a name="l14837"></a><span class="lineno">14837</span>&#160; </div>
<div class="line"><a name="l14838"></a><span class="lineno">14838</span>&#160;      <span class="keywordflow">if</span> (II == RewriteMap.end())</div>
<div class="line"><a name="l14839"></a><span class="lineno">14839</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14840"></a><span class="lineno">14840</span>&#160; </div>
<div class="line"><a name="l14841"></a><span class="lineno">14841</span>&#160;      <span class="comment">// Don&#39;t print things that are not interesting.</span></div>
<div class="line"><a name="l14842"></a><span class="lineno">14842</span>&#160;      <span class="keywordflow">if</span> (II-&gt;second.second == Expr)</div>
<div class="line"><a name="l14843"></a><span class="lineno">14843</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14844"></a><span class="lineno">14844</span>&#160; </div>
<div class="line"><a name="l14845"></a><span class="lineno">14845</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.<a class="code" href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">indent</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) &lt;&lt; <span class="stringliteral">&quot;[PSE]&quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span>;</div>
<div class="line"><a name="l14846"></a><span class="lineno">14846</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.<a class="code" href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">indent</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 2) &lt;&lt; *Expr &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14847"></a><span class="lineno">14847</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.<a class="code" href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">indent</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 2) &lt;&lt; <span class="stringliteral">&quot;--&gt; &quot;</span> &lt;&lt; *II-&gt;second.second &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l14848"></a><span class="lineno">14848</span>&#160;    }</div>
<div class="line"><a name="l14849"></a><span class="lineno">14849</span>&#160;}</div>
<div class="line"><a name="l14850"></a><span class="lineno">14850</span>&#160; </div>
<div class="line"><a name="l14851"></a><span class="lineno">14851</span>&#160;<span class="comment">// Match the mathematical pattern A - (A / B) * B, where A and B can be</span></div>
<div class="line"><a name="l14852"></a><span class="lineno">14852</span>&#160;<span class="comment">// arbitrary expressions. Also match zext (trunc A to iB) to iY, which is used</span></div>
<div class="line"><a name="l14853"></a><span class="lineno">14853</span>&#160;<span class="comment">// for URem with constant power-of-2 second operands.</span></div>
<div class="line"><a name="l14854"></a><span class="lineno">14854</span>&#160;<span class="comment">// It&#39;s not always easy, as A and B can be folded (imagine A is X / 2, and B is</span></div>
<div class="line"><a name="l14855"></a><span class="lineno">14855</span>&#160;<span class="comment">// 4, A / B becomes X / 8).</span></div>
<div class="line"><a name="l14856"></a><span class="lineno">14856</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::matchURem(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l14857"></a><span class="lineno">14857</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l14858"></a><span class="lineno">14858</span>&#160;  <span class="comment">// Try to match &#39;zext (trunc A to iB) to iY&#39;, which is used</span></div>
<div class="line"><a name="l14859"></a><span class="lineno">14859</span>&#160;  <span class="comment">// for URem with constant power-of-2 second operands. Make sure the size of</span></div>
<div class="line"><a name="l14860"></a><span class="lineno">14860</span>&#160;  <span class="comment">// the operand A matches the size of the whole expressions.</span></div>
<div class="line"><a name="l14861"></a><span class="lineno">14861</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(Expr))</div>
<div class="line"><a name="l14862"></a><span class="lineno">14862</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Trunc = dyn_cast&lt;SCEVTruncateExpr&gt;(ZExt-&gt;getOperand(0))) {</div>
<div class="line"><a name="l14863"></a><span class="lineno">14863</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Trunc-&gt;getOperand();</div>
<div class="line"><a name="l14864"></a><span class="lineno">14864</span>&#160;      <span class="comment">// Bail out if the type of the LHS is larger than the type of the</span></div>
<div class="line"><a name="l14865"></a><span class="lineno">14865</span>&#160;      <span class="comment">// expression for now.</span></div>
<div class="line"><a name="l14866"></a><span class="lineno">14866</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &gt;</div>
<div class="line"><a name="l14867"></a><span class="lineno">14867</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Expr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()))</div>
<div class="line"><a name="l14868"></a><span class="lineno">14868</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l14869"></a><span class="lineno">14869</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != Expr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>())</div>
<div class="line"><a name="l14870"></a><span class="lineno">14870</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">getZeroExtendExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Expr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a name="l14871"></a><span class="lineno">14871</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Expr-&gt;<a class="code" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>()), 1)</div>
<div class="line"><a name="l14872"></a><span class="lineno">14872</span>&#160;                        &lt;&lt; <a class="code" href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">getTypeSizeInBits</a>(Trunc-&gt;getType()));</div>
<div class="line"><a name="l14873"></a><span class="lineno">14873</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l14874"></a><span class="lineno">14874</span>&#160;    }</div>
<div class="line"><a name="l14875"></a><span class="lineno">14875</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *Add = dyn_cast&lt;SCEVAddExpr&gt;(Expr);</div>
<div class="line"><a name="l14876"></a><span class="lineno">14876</span>&#160;  <span class="keywordflow">if</span> (Add == <span class="keyword">nullptr</span> || Add-&gt;getNumOperands() != 2)</div>
<div class="line"><a name="l14877"></a><span class="lineno">14877</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l14878"></a><span class="lineno">14878</span>&#160; </div>
<div class="line"><a name="l14879"></a><span class="lineno">14879</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *A = Add-&gt;getOperand(1);</div>
<div class="line"><a name="l14880"></a><span class="lineno">14880</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = dyn_cast&lt;SCEVMulExpr&gt;(Add-&gt;getOperand(0));</div>
<div class="line"><a name="l14881"></a><span class="lineno">14881</span>&#160; </div>
<div class="line"><a name="l14882"></a><span class="lineno">14882</span>&#160;  <span class="keywordflow">if</span> (Mul == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l14883"></a><span class="lineno">14883</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l14884"></a><span class="lineno">14884</span>&#160; </div>
<div class="line"><a name="l14885"></a><span class="lineno">14885</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> MatchURemWithDivisor = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l14886"></a><span class="lineno">14886</span>&#160;    <span class="comment">// (SomeExpr + (-(SomeExpr / B) * B)).</span></div>
<div class="line"><a name="l14887"></a><span class="lineno">14887</span>&#160;    <span class="keywordflow">if</span> (Expr == <a class="code" href="classllvm_1_1ScalarEvolution.html#a13b9eb961d35ad9ecb3b633f5703253a">getURemExpr</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)) {</div>
<div class="line"><a name="l14888"></a><span class="lineno">14888</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = A;</div>
<div class="line"><a name="l14889"></a><span class="lineno">14889</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l14890"></a><span class="lineno">14890</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l14891"></a><span class="lineno">14891</span>&#160;    }</div>
<div class="line"><a name="l14892"></a><span class="lineno">14892</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l14893"></a><span class="lineno">14893</span>&#160;  };</div>
<div class="line"><a name="l14894"></a><span class="lineno">14894</span>&#160; </div>
<div class="line"><a name="l14895"></a><span class="lineno">14895</span>&#160;  <span class="comment">// (SomeExpr + (-1 * (SomeExpr / B) * B)).</span></div>
<div class="line"><a name="l14896"></a><span class="lineno">14896</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() == 3 &amp;&amp; isa&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)))</div>
<div class="line"><a name="l14897"></a><span class="lineno">14897</span>&#160;    <span class="keywordflow">return</span> MatchURemWithDivisor(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)) ||</div>
<div class="line"><a name="l14898"></a><span class="lineno">14898</span>&#160;           MatchURemWithDivisor(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(2));</div>
<div class="line"><a name="l14899"></a><span class="lineno">14899</span>&#160; </div>
<div class="line"><a name="l14900"></a><span class="lineno">14900</span>&#160;  <span class="comment">// (SomeExpr + ((-SomeExpr / B) * B)) or (SomeExpr + ((SomeExpr / B) * -B)).</span></div>
<div class="line"><a name="l14901"></a><span class="lineno">14901</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() == 2)</div>
<div class="line"><a name="l14902"></a><span class="lineno">14902</span>&#160;    <span class="keywordflow">return</span> MatchURemWithDivisor(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)) ||</div>
<div class="line"><a name="l14903"></a><span class="lineno">14903</span>&#160;           MatchURemWithDivisor(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)) ||</div>
<div class="line"><a name="l14904"></a><span class="lineno">14904</span>&#160;           MatchURemWithDivisor(<a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1))) ||</div>
<div class="line"><a name="l14905"></a><span class="lineno">14905</span>&#160;           MatchURemWithDivisor(<a class="code" href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">getNegativeSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)));</div>
<div class="line"><a name="l14906"></a><span class="lineno">14906</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l14907"></a><span class="lineno">14907</span>&#160;}</div>
<div class="line"><a name="l14908"></a><span class="lineno">14908</span>&#160; </div>
<div class="line"><a name="l14909"></a><span class="lineno">14909</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div>
<div class="line"><a name="l14910"></a><span class="lineno">14910</span>&#160;ScalarEvolution::computeSymbolicMaxBackedgeTakenCount(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l14911"></a><span class="lineno">14911</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock*, 16&gt;</a> ExitingBlocks;</div>
<div class="line"><a name="l14912"></a><span class="lineno">14912</span>&#160;  L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a46880fab7a9d5bd439725f2acc59b80d">getExitingBlocks</a>(ExitingBlocks);</div>
<div class="line"><a name="l14913"></a><span class="lineno">14913</span>&#160; </div>
<div class="line"><a name="l14914"></a><span class="lineno">14914</span>&#160;  <span class="comment">// Form an expression for the maximum exit count possible for this loop. We</span></div>
<div class="line"><a name="l14915"></a><span class="lineno">14915</span>&#160;  <span class="comment">// merge the max and exact information to approximate a version of</span></div>
<div class="line"><a name="l14916"></a><span class="lineno">14916</span>&#160;  <span class="comment">// getConstantMaxBackedgeTakenCount which isn&#39;t restricted to just constants.</span></div>
<div class="line"><a name="l14917"></a><span class="lineno">14917</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV*, 4&gt;</a> ExitCounts;</div>
<div class="line"><a name="l14918"></a><span class="lineno">14918</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBB : ExitingBlocks) {</div>
<div class="line"><a name="l14919"></a><span class="lineno">14919</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExitCount =</div>
<div class="line"><a name="l14920"></a><span class="lineno">14920</span>&#160;        <a class="code" href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">getExitCount</a>(L, ExitingBB, <a class="code" href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefa007c52805d507c0cc6d53cbea782eaf4">ScalarEvolution::SymbolicMaximum</a>);</div>
<div class="line"><a name="l14921"></a><span class="lineno">14921</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(ExitCount)) {</div>
<div class="line"><a name="l14922"></a><span class="lineno">14922</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(ExitingBB, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>()) &amp;&amp;</div>
<div class="line"><a name="l14923"></a><span class="lineno">14923</span>&#160;             <span class="stringliteral">&quot;We should only have known counts for exiting blocks that &quot;</span></div>
<div class="line"><a name="l14924"></a><span class="lineno">14924</span>&#160;             <span class="stringliteral">&quot;dominate latch!&quot;</span>);</div>
<div class="line"><a name="l14925"></a><span class="lineno">14925</span>&#160;      ExitCounts.push_back(ExitCount);</div>
<div class="line"><a name="l14926"></a><span class="lineno">14926</span>&#160;    }</div>
<div class="line"><a name="l14927"></a><span class="lineno">14927</span>&#160;  }</div>
<div class="line"><a name="l14928"></a><span class="lineno">14928</span>&#160;  <span class="keywordflow">if</span> (ExitCounts.empty())</div>
<div class="line"><a name="l14929"></a><span class="lineno">14929</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div>
<div class="line"><a name="l14930"></a><span class="lineno">14930</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">getUMinFromMismatchedTypes</a>(ExitCounts, <span class="comment">/*Sequential*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l14931"></a><span class="lineno">14931</span>&#160;}</div>
<div class="line"><a name="l14932"></a><span class="lineno">14932</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l14933"></a><span class="lineno">14933</span>&#160;<span class="comment">/// A rewriter to replace SCEV expressions in Map with the corresponding entry</span></div>
<div class="line"><a name="l14934"></a><span class="lineno">14934</span>&#160;<span class="comment">/// in the map. It skips AddRecExpr because we cannot guarantee that the</span></div>
<div class="line"><a name="l14935"></a><span class="lineno">14935</span>&#160;<span class="comment">/// replacement is loop invariant in the loop of the AddRec.</span></div>
<div class="line"><a name="l14936"></a><span class="lineno"><a class="line" href="classSCEVLoopGuardRewriter.html">14936</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classSCEVLoopGuardRewriter.html">SCEVLoopGuardRewriter</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>&lt;SCEVLoopGuardRewriter&gt; {</div>
<div class="line"><a name="l14937"></a><span class="lineno">14937</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, const SCEV *&gt;</a> &amp;Map;</div>
<div class="line"><a name="l14938"></a><span class="lineno">14938</span>&#160; </div>
<div class="line"><a name="l14939"></a><span class="lineno">14939</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l14940"></a><span class="lineno"><a class="line" href="classSCEVLoopGuardRewriter.html#a85b178108b768b13c0327d36fd5aeef9">14940</a></span>&#160;  <a class="code" href="classSCEVLoopGuardRewriter.html#a85b178108b768b13c0327d36fd5aeef9">SCEVLoopGuardRewriter</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l14941"></a><span class="lineno">14941</span>&#160;                        <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, const SCEV *&gt;</a> &amp;M)</div>
<div class="line"><a name="l14942"></a><span class="lineno">14942</span>&#160;      : <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html">SCEVRewriteVisitor</a>(SE), Map(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {}</div>
<div class="line"><a name="l14943"></a><span class="lineno">14943</span>&#160; </div>
<div class="line"><a name="l14944"></a><span class="lineno"><a class="line" href="classSCEVLoopGuardRewriter.html#a1f98887611dc3acbcc42b4a5782dffb5">14944</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classSCEVLoopGuardRewriter.html#a1f98887611dc3acbcc42b4a5782dffb5">visitAddRecExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *Expr) { <span class="keywordflow">return</span> Expr; }</div>
<div class="line"><a name="l14945"></a><span class="lineno">14945</span>&#160; </div>
<div class="line"><a name="l14946"></a><span class="lineno"><a class="line" href="classSCEVLoopGuardRewriter.html#a5f8d3bf0eb6326bbfd97671abb1cc0a2">14946</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classSCEVLoopGuardRewriter.html#a5f8d3bf0eb6326bbfd97671abb1cc0a2">visitUnknown</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div>
<div class="line"><a name="l14947"></a><span class="lineno">14947</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Map.find(Expr);</div>
<div class="line"><a name="l14948"></a><span class="lineno">14948</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == Map.end())</div>
<div class="line"><a name="l14949"></a><span class="lineno">14949</span>&#160;      <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l14950"></a><span class="lineno">14950</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l14951"></a><span class="lineno">14951</span>&#160;  }</div>
<div class="line"><a name="l14952"></a><span class="lineno">14952</span>&#160; </div>
<div class="line"><a name="l14953"></a><span class="lineno"><a class="line" href="classSCEVLoopGuardRewriter.html#a18ffbaf097848010ee243bdf6a76e6c2">14953</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classSCEVLoopGuardRewriter.html#a18ffbaf097848010ee243bdf6a76e6c2">visitZeroExtendExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *Expr) {</div>
<div class="line"><a name="l14954"></a><span class="lineno">14954</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Map.find(Expr);</div>
<div class="line"><a name="l14955"></a><span class="lineno">14955</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == Map.end())</div>
<div class="line"><a name="l14956"></a><span class="lineno">14956</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html#a510e11f38158520067cffaf1f6f552c9">SCEVRewriteVisitor&lt;SCEVLoopGuardRewriter&gt;::visitZeroExtendExpr</a>(</div>
<div class="line"><a name="l14957"></a><span class="lineno">14957</span>&#160;          Expr);</div>
<div class="line"><a name="l14958"></a><span class="lineno">14958</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l14959"></a><span class="lineno">14959</span>&#160;  }</div>
<div class="line"><a name="l14960"></a><span class="lineno">14960</span>&#160; </div>
<div class="line"><a name="l14961"></a><span class="lineno"><a class="line" href="classSCEVLoopGuardRewriter.html#a0e0504803d48d912fc1b25aaa784c2c9">14961</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classSCEVLoopGuardRewriter.html#a0e0504803d48d912fc1b25aaa784c2c9">visitSignExtendExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *Expr) {</div>
<div class="line"><a name="l14962"></a><span class="lineno">14962</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Map.find(Expr);</div>
<div class="line"><a name="l14963"></a><span class="lineno">14963</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == Map.end())</div>
<div class="line"><a name="l14964"></a><span class="lineno">14964</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SCEVRewriteVisitor.html#a1e445b9b39213d31a9db73e49c6b3f07">SCEVRewriteVisitor&lt;SCEVLoopGuardRewriter&gt;::visitSignExtendExpr</a>(</div>
<div class="line"><a name="l14965"></a><span class="lineno">14965</span>&#160;          Expr);</div>
<div class="line"><a name="l14966"></a><span class="lineno">14966</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l14967"></a><span class="lineno">14967</span>&#160;  }</div>
<div class="line"><a name="l14968"></a><span class="lineno">14968</span>&#160;};</div>
<div class="line"><a name="l14969"></a><span class="lineno">14969</span>&#160; </div>
<div class="line"><a name="l14970"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ad146072469181af4ccb7ef03c28999ba">14970</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ad146072469181af4ccb7ef03c28999ba">ScalarEvolution::applyLoopGuards</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l14971"></a><span class="lineno">14971</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *&gt;</a> ExprsToRewrite;</div>
<div class="line"><a name="l14972"></a><span class="lineno">14972</span>&#160;  <span class="keyword">auto</span> CollectCondition = [&amp;](<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l14973"></a><span class="lineno">14973</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l14974"></a><span class="lineno">14974</span>&#160;                              <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, const SCEV *&gt;</a></div>
<div class="line"><a name="l14975"></a><span class="lineno">14975</span>&#160;                                  &amp;RewriteMap) {</div>
<div class="line"><a name="l14976"></a><span class="lineno">14976</span>&#160;    <span class="comment">// WARNING: It is generally unsound to apply any wrap flags to the proposed</span></div>
<div class="line"><a name="l14977"></a><span class="lineno">14977</span>&#160;    <span class="comment">// replacement SCEV which isn&#39;t directly implied by the structure of that</span></div>
<div class="line"><a name="l14978"></a><span class="lineno">14978</span>&#160;    <span class="comment">// SCEV.  In particular, using contextual facts to imply flags is *NOT*</span></div>
<div class="line"><a name="l14979"></a><span class="lineno">14979</span>&#160;    <span class="comment">// legal.  See the scoping rules for flags in the header to understand why.</span></div>
<div class="line"><a name="l14980"></a><span class="lineno">14980</span>&#160; </div>
<div class="line"><a name="l14981"></a><span class="lineno">14981</span>&#160;    <span class="comment">// If LHS is a constant, apply information to the other expression.</span></div>
<div class="line"><a name="l14982"></a><span class="lineno">14982</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l14983"></a><span class="lineno">14983</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l14984"></a><span class="lineno">14984</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a> = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>);</div>
<div class="line"><a name="l14985"></a><span class="lineno">14985</span>&#160;    }</div>
<div class="line"><a name="l14986"></a><span class="lineno">14986</span>&#160; </div>
<div class="line"><a name="l14987"></a><span class="lineno">14987</span>&#160;    <span class="comment">// Check for a condition of the form (-C1 + X &lt; C2).  InstCombine will</span></div>
<div class="line"><a name="l14988"></a><span class="lineno">14988</span>&#160;    <span class="comment">// create this form when combining two checks of the form (X u&lt; C2 + C1) and</span></div>
<div class="line"><a name="l14989"></a><span class="lineno">14989</span>&#160;    <span class="comment">// (X &gt;=u C1).</span></div>
<div class="line"><a name="l14990"></a><span class="lineno">14990</span>&#160;    <span class="keyword">auto</span> MatchRangeCheckIdiom = [<span class="keyword">this</span>, <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, &amp;RewriteMap,</div>
<div class="line"><a name="l14991"></a><span class="lineno">14991</span>&#160;                                 &amp;ExprsToRewrite]() {</div>
<div class="line"><a name="l14992"></a><span class="lineno">14992</span>&#160;      <span class="keyword">auto</span> *AddExpr = dyn_cast&lt;SCEVAddExpr&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l14993"></a><span class="lineno">14993</span>&#160;      <span class="keywordflow">if</span> (!AddExpr || AddExpr-&gt;getNumOperands() != 2)</div>
<div class="line"><a name="l14994"></a><span class="lineno">14994</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l14995"></a><span class="lineno">14995</span>&#160; </div>
<div class="line"><a name="l14996"></a><span class="lineno">14996</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = dyn_cast&lt;SCEVConstant&gt;(AddExpr-&gt;getOperand(0));</div>
<div class="line"><a name="l14997"></a><span class="lineno">14997</span>&#160;      <span class="keyword">auto</span> *LHSUnknown = dyn_cast&lt;SCEVUnknown&gt;(AddExpr-&gt;getOperand(1));</div>
<div class="line"><a name="l14998"></a><span class="lineno">14998</span>&#160;      <span class="keyword">auto</span> *C2 = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l14999"></a><span class="lineno">14999</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> || !C2 || !LHSUnknown)</div>
<div class="line"><a name="l15000"></a><span class="lineno">15000</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l15001"></a><span class="lineno">15001</span>&#160; </div>
<div class="line"><a name="l15002"></a><span class="lineno">15002</span>&#160;      <span class="keyword">auto</span> ExactRegion =</div>
<div class="line"><a name="l15003"></a><span class="lineno">15003</span>&#160;          <a class="code" href="classllvm_1_1ConstantRange.html#aa89e9cec92a0b38d2f47a077bf12cc98">ConstantRange::makeExactICmpRegion</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, C2-&gt;getAPInt())</div>
<div class="line"><a name="l15004"></a><span class="lineno">15004</span>&#160;              .<a class="code" href="classllvm_1_1ConstantRange.html#aeb57116b101c8d1263ff5ffdaccdcad0">sub</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getAPInt());</div>
<div class="line"><a name="l15005"></a><span class="lineno">15005</span>&#160; </div>
<div class="line"><a name="l15006"></a><span class="lineno">15006</span>&#160;      <span class="comment">// Bail out, unless we have a non-wrapping, monotonic range.</span></div>
<div class="line"><a name="l15007"></a><span class="lineno">15007</span>&#160;      <span class="keywordflow">if</span> (ExactRegion.isWrappedSet() || ExactRegion.isFullSet())</div>
<div class="line"><a name="l15008"></a><span class="lineno">15008</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l15009"></a><span class="lineno">15009</span>&#160;      <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = RewriteMap.find(LHSUnknown);</div>
<div class="line"><a name="l15010"></a><span class="lineno">15010</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RewrittenLHS = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != RewriteMap.end() ? <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second : LHSUnknown;</div>
<div class="line"><a name="l15011"></a><span class="lineno">15011</span>&#160;      RewriteMap[LHSUnknown] = <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(</div>
<div class="line"><a name="l15012"></a><span class="lineno">15012</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(ExactRegion.getUnsignedMin()),</div>
<div class="line"><a name="l15013"></a><span class="lineno">15013</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(RewrittenLHS, <a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(ExactRegion.getUnsignedMax())));</div>
<div class="line"><a name="l15014"></a><span class="lineno">15014</span>&#160;      ExprsToRewrite.push_back(LHSUnknown);</div>
<div class="line"><a name="l15015"></a><span class="lineno">15015</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l15016"></a><span class="lineno">15016</span>&#160;    };</div>
<div class="line"><a name="l15017"></a><span class="lineno">15017</span>&#160;    <span class="keywordflow">if</span> (MatchRangeCheckIdiom())</div>
<div class="line"><a name="l15018"></a><span class="lineno">15018</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l15019"></a><span class="lineno">15019</span>&#160; </div>
<div class="line"><a name="l15020"></a><span class="lineno">15020</span>&#160;    <span class="comment">// If we have LHS == 0, check if LHS is computing a property of some unknown</span></div>
<div class="line"><a name="l15021"></a><span class="lineno">15021</span>&#160;    <span class="comment">// SCEV %v which we can rewrite %v to express explicitly.</span></div>
<div class="line"><a name="l15022"></a><span class="lineno">15022</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l15023"></a><span class="lineno">15023</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a> == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a> &amp;&amp; RHSC &amp;&amp;</div>
<div class="line"><a name="l15024"></a><span class="lineno">15024</span>&#160;        RHSC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#ab319aacb4209aeca2c72d50a0d585b47">getValue</a>()-&gt;<a class="code" href="classllvm_1_1Constant.html#ae4b6abe77abf42fb02081a6cc41a0132">isNullValue</a>()) {</div>
<div class="line"><a name="l15025"></a><span class="lineno">15025</span>&#160;      <span class="comment">// If LHS is A % B, i.e. A % B == 0, rewrite A to (A /u B) * B to</span></div>
<div class="line"><a name="l15026"></a><span class="lineno">15026</span>&#160;      <span class="comment">// explicitly express that.</span></div>
<div class="line"><a name="l15027"></a><span class="lineno">15027</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *URemLHS = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l15028"></a><span class="lineno">15028</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *URemRHS = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l15029"></a><span class="lineno">15029</span>&#160;      <span class="keywordflow">if</span> (matchURem(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, URemLHS, URemRHS)) {</div>
<div class="line"><a name="l15030"></a><span class="lineno">15030</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *LHSUnknown = dyn_cast&lt;SCEVUnknown&gt;(URemLHS)) {</div>
<div class="line"><a name="l15031"></a><span class="lineno">15031</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> *Multiple = <a class="code" href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">getMulExpr</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(URemLHS, URemRHS), URemRHS);</div>
<div class="line"><a name="l15032"></a><span class="lineno">15032</span>&#160;          RewriteMap[LHSUnknown] = Multiple;</div>
<div class="line"><a name="l15033"></a><span class="lineno">15033</span>&#160;          ExprsToRewrite.push_back(LHSUnknown);</div>
<div class="line"><a name="l15034"></a><span class="lineno">15034</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l15035"></a><span class="lineno">15035</span>&#160;        }</div>
<div class="line"><a name="l15036"></a><span class="lineno">15036</span>&#160;      }</div>
<div class="line"><a name="l15037"></a><span class="lineno">15037</span>&#160;    }</div>
<div class="line"><a name="l15038"></a><span class="lineno">15038</span>&#160; </div>
<div class="line"><a name="l15039"></a><span class="lineno">15039</span>&#160;    <span class="comment">// Do not apply information for constants or if RHS contains an AddRec.</span></div>
<div class="line"><a name="l15040"></a><span class="lineno">15040</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || <a class="code" href="classllvm_1_1ScalarEvolution.html#a62b3c09f031f2478ebd6c92b8c80aa2f">containsAddRecurrence</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l15041"></a><span class="lineno">15041</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l15042"></a><span class="lineno">15042</span>&#160; </div>
<div class="line"><a name="l15043"></a><span class="lineno">15043</span>&#160;    <span class="comment">// If RHS is SCEVUnknown, make sure the information is applied to it.</span></div>
<div class="line"><a name="l15044"></a><span class="lineno">15044</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVUnknown&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; isa&lt;SCEVUnknown&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l15045"></a><span class="lineno">15045</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l15046"></a><span class="lineno">15046</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a> = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>);</div>
<div class="line"><a name="l15047"></a><span class="lineno">15047</span>&#160;    }</div>
<div class="line"><a name="l15048"></a><span class="lineno">15048</span>&#160; </div>
<div class="line"><a name="l15049"></a><span class="lineno">15049</span>&#160;    <span class="comment">// Check whether LHS has already been rewritten. In that case we want to</span></div>
<div class="line"><a name="l15050"></a><span class="lineno">15050</span>&#160;    <span class="comment">// chain further rewrites onto the already rewritten value.</span></div>
<div class="line"><a name="l15051"></a><span class="lineno">15051</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = RewriteMap.find(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l15052"></a><span class="lineno">15052</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RewrittenLHS = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != RewriteMap.end() ? <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second : <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l15053"></a><span class="lineno">15053</span>&#160; </div>
<div class="line"><a name="l15054"></a><span class="lineno">15054</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RewrittenRHS = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l15055"></a><span class="lineno">15055</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>) {</div>
<div class="line"><a name="l15056"></a><span class="lineno">15056</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>: {</div>
<div class="line"><a name="l15057"></a><span class="lineno">15057</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l15058"></a><span class="lineno">15058</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15059"></a><span class="lineno">15059</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l15060"></a><span class="lineno">15060</span>&#160;      RewrittenRHS =</div>
<div class="line"><a name="l15061"></a><span class="lineno">15061</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(RewrittenLHS, <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, One), One));</div>
<div class="line"><a name="l15062"></a><span class="lineno">15062</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15063"></a><span class="lineno">15063</span>&#160;    }</div>
<div class="line"><a name="l15064"></a><span class="lineno">15064</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l15065"></a><span class="lineno">15065</span>&#160;      RewrittenRHS =</div>
<div class="line"><a name="l15066"></a><span class="lineno">15066</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">getSMinExpr</a>(RewrittenLHS, <a class="code" href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">getMinusSCEV</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())));</div>
<div class="line"><a name="l15067"></a><span class="lineno">15067</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15068"></a><span class="lineno">15068</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l15069"></a><span class="lineno">15069</span>&#160;      RewrittenRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">getUMinExpr</a>(RewrittenLHS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l15070"></a><span class="lineno">15070</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15071"></a><span class="lineno">15071</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l15072"></a><span class="lineno">15072</span>&#160;      RewrittenRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">getSMinExpr</a>(RewrittenLHS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l15073"></a><span class="lineno">15073</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15074"></a><span class="lineno">15074</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l15075"></a><span class="lineno">15075</span>&#160;      RewrittenRHS =</div>
<div class="line"><a name="l15076"></a><span class="lineno">15076</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(RewrittenLHS, <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())));</div>
<div class="line"><a name="l15077"></a><span class="lineno">15077</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15078"></a><span class="lineno">15078</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l15079"></a><span class="lineno">15079</span>&#160;      RewrittenRHS =</div>
<div class="line"><a name="l15080"></a><span class="lineno">15080</span>&#160;          <a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">getSMaxExpr</a>(RewrittenLHS, <a class="code" href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">getAddExpr</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())));</div>
<div class="line"><a name="l15081"></a><span class="lineno">15081</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15082"></a><span class="lineno">15082</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l15083"></a><span class="lineno">15083</span>&#160;      RewrittenRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(RewrittenLHS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l15084"></a><span class="lineno">15084</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15085"></a><span class="lineno">15085</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l15086"></a><span class="lineno">15086</span>&#160;      RewrittenRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">getSMaxExpr</a>(RewrittenLHS, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l15087"></a><span class="lineno">15087</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15088"></a><span class="lineno">15088</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l15089"></a><span class="lineno">15089</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l15090"></a><span class="lineno">15090</span>&#160;        RewrittenRHS = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l15091"></a><span class="lineno">15091</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15092"></a><span class="lineno">15092</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l15093"></a><span class="lineno">15093</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp;</div>
<div class="line"><a name="l15094"></a><span class="lineno">15094</span>&#160;          cast&lt;SCEVConstant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)-&gt;getValue()-&gt;isNullValue())</div>
<div class="line"><a name="l15095"></a><span class="lineno">15095</span>&#160;        RewrittenRHS = <a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">getUMaxExpr</a>(RewrittenLHS, <a class="code" href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">getOne</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l15096"></a><span class="lineno">15096</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15097"></a><span class="lineno">15097</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l15098"></a><span class="lineno">15098</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l15099"></a><span class="lineno">15099</span>&#160;    }</div>
<div class="line"><a name="l15100"></a><span class="lineno">15100</span>&#160; </div>
<div class="line"><a name="l15101"></a><span class="lineno">15101</span>&#160;    <span class="keywordflow">if</span> (RewrittenRHS) {</div>
<div class="line"><a name="l15102"></a><span class="lineno">15102</span>&#160;      RewriteMap[<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>] = RewrittenRHS;</div>
<div class="line"><a name="l15103"></a><span class="lineno">15103</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == RewrittenLHS)</div>
<div class="line"><a name="l15104"></a><span class="lineno">15104</span>&#160;        ExprsToRewrite.push_back(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l15105"></a><span class="lineno">15105</span>&#160;    }</div>
<div class="line"><a name="l15106"></a><span class="lineno">15106</span>&#160;  };</div>
<div class="line"><a name="l15107"></a><span class="lineno">15107</span>&#160; </div>
<div class="line"><a name="l15108"></a><span class="lineno">15108</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>();</div>
<div class="line"><a name="l15109"></a><span class="lineno">15109</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;PointerIntPair&lt;Value *, 1, bool&gt;</a>&gt; Terms;</div>
<div class="line"><a name="l15110"></a><span class="lineno">15110</span>&#160;  <span class="comment">// First, collect information from assumptions dominating the loop.</span></div>
<div class="line"><a name="l15111"></a><span class="lineno">15111</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;AssumeVH : AC.<a class="code" href="classllvm_1_1AssumptionCache.html#a9af26068ead88bf19cbf15167e82d200">assumptions</a>()) {</div>
<div class="line"><a name="l15112"></a><span class="lineno">15112</span>&#160;    <span class="keywordflow">if</span> (!AssumeVH)</div>
<div class="line"><a name="l15113"></a><span class="lineno">15113</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l15114"></a><span class="lineno">15114</span>&#160;    <span class="keyword">auto</span> *AssumeI = cast&lt;CallInst&gt;(AssumeVH);</div>
<div class="line"><a name="l15115"></a><span class="lineno">15115</span>&#160;    <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(AssumeI, Header))</div>
<div class="line"><a name="l15116"></a><span class="lineno">15116</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l15117"></a><span class="lineno">15117</span>&#160;    Terms.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(AssumeI-&gt;getOperand(0), <span class="keyword">true</span>);</div>
<div class="line"><a name="l15118"></a><span class="lineno">15118</span>&#160;  }</div>
<div class="line"><a name="l15119"></a><span class="lineno">15119</span>&#160; </div>
<div class="line"><a name="l15120"></a><span class="lineno">15120</span>&#160;  <span class="comment">// Second, collect conditions from dominating branches. Starting at the loop</span></div>
<div class="line"><a name="l15121"></a><span class="lineno">15121</span>&#160;  <span class="comment">// predecessor, climb up the predecessor chain, as long as there are</span></div>
<div class="line"><a name="l15122"></a><span class="lineno">15122</span>&#160;  <span class="comment">// predecessors that can be found that have unique successors leading to the</span></div>
<div class="line"><a name="l15123"></a><span class="lineno">15123</span>&#160;  <span class="comment">// original header.</span></div>
<div class="line"><a name="l15124"></a><span class="lineno">15124</span>&#160;  <span class="comment">// TODO: share this logic with isLoopEntryGuardedByCond.</span></div>
<div class="line"><a name="l15125"></a><span class="lineno">15125</span>&#160;  <span class="keywordflow">for</span> (std::pair&lt;const BasicBlock *, const BasicBlock *&gt; Pair(</div>
<div class="line"><a name="l15126"></a><span class="lineno">15126</span>&#160;           L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a88575baf2ad9f4cd2e2432e6da4a976b">getLoopPredecessor</a>(), Header);</div>
<div class="line"><a name="l15127"></a><span class="lineno">15127</span>&#160;       Pair.first; Pair = getPredecessorWithUniqueSuccessorForBB(Pair.first)) {</div>
<div class="line"><a name="l15128"></a><span class="lineno">15128</span>&#160; </div>
<div class="line"><a name="l15129"></a><span class="lineno">15129</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *LoopEntryPredicate =</div>
<div class="line"><a name="l15130"></a><span class="lineno">15130</span>&#160;        dyn_cast&lt;BranchInst&gt;(Pair.first-&gt;getTerminator());</div>
<div class="line"><a name="l15131"></a><span class="lineno">15131</span>&#160;    <span class="keywordflow">if</span> (!LoopEntryPredicate || LoopEntryPredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad56f6a9b5cd05940017c4544df48bc30">isUnconditional</a>())</div>
<div class="line"><a name="l15132"></a><span class="lineno">15132</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l15133"></a><span class="lineno">15133</span>&#160; </div>
<div class="line"><a name="l15134"></a><span class="lineno">15134</span>&#160;    Terms.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(LoopEntryPredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">getCondition</a>(),</div>
<div class="line"><a name="l15135"></a><span class="lineno">15135</span>&#160;                       LoopEntryPredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0) == Pair.second);</div>
<div class="line"><a name="l15136"></a><span class="lineno">15136</span>&#160;  }</div>
<div class="line"><a name="l15137"></a><span class="lineno">15137</span>&#160; </div>
<div class="line"><a name="l15138"></a><span class="lineno">15138</span>&#160;  <span class="comment">// Now apply the information from the collected conditions to RewriteMap.</span></div>
<div class="line"><a name="l15139"></a><span class="lineno">15139</span>&#160;  <span class="comment">// Conditions are processed in reverse order, so the earliest conditions is</span></div>
<div class="line"><a name="l15140"></a><span class="lineno">15140</span>&#160;  <span class="comment">// processed first. This ensures the SCEVs with the shortest dependency chains</span></div>
<div class="line"><a name="l15141"></a><span class="lineno">15141</span>&#160;  <span class="comment">// are constructed first.</span></div>
<div class="line"><a name="l15142"></a><span class="lineno">15142</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, const SCEV *&gt;</a> RewriteMap;</div>
<div class="line"><a name="l15143"></a><span class="lineno">15143</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [<a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>, EnterIfTrue] : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(Terms)) {</div>
<div class="line"><a name="l15144"></a><span class="lineno">15144</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 8&gt;</a> Worklist;</div>
<div class="line"><a name="l15145"></a><span class="lineno">15145</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Value *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l15146"></a><span class="lineno">15146</span>&#160;    Worklist.push_back(<a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>);</div>
<div class="line"><a name="l15147"></a><span class="lineno">15147</span>&#160;    <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l15148"></a><span class="lineno">15148</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l15149"></a><span class="lineno">15149</span>&#160;      <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>).second)</div>
<div class="line"><a name="l15150"></a><span class="lineno">15150</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l15151"></a><span class="lineno">15151</span>&#160; </div>
<div class="line"><a name="l15152"></a><span class="lineno">15152</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Cmp = dyn_cast&lt;ICmpInst&gt;(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)) {</div>
<div class="line"><a name="l15153"></a><span class="lineno">15153</span>&#160;        <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a> =</div>
<div class="line"><a name="l15154"></a><span class="lineno">15154</span>&#160;            EnterIfTrue ? Cmp-&gt;getPredicate() : Cmp-&gt;getInversePredicate();</div>
<div class="line"><a name="l15155"></a><span class="lineno">15155</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(Cmp-&gt;getOperand(0));</div>
<div class="line"><a name="l15156"></a><span class="lineno">15156</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(Cmp-&gt;getOperand(1));</div>
<div class="line"><a name="l15157"></a><span class="lineno">15157</span>&#160;        CollectCondition(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, RewriteMap);</div>
<div class="line"><a name="l15158"></a><span class="lineno">15158</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l15159"></a><span class="lineno">15159</span>&#160;      }</div>
<div class="line"><a name="l15160"></a><span class="lineno">15160</span>&#160; </div>
<div class="line"><a name="l15161"></a><span class="lineno">15161</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *L, *R;</div>
<div class="line"><a name="l15162"></a><span class="lineno">15162</span>&#160;      <span class="keywordflow">if</span> (EnterIfTrue ? <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a213e6c0ca6e838157373b9a6018c0769">m_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(L), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(R)))</div>
<div class="line"><a name="l15163"></a><span class="lineno">15163</span>&#160;                      : <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a1a06b1cff93069d7403ea03e6150e386">m_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(L), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(R)))) {</div>
<div class="line"><a name="l15164"></a><span class="lineno">15164</span>&#160;        Worklist.push_back(L);</div>
<div class="line"><a name="l15165"></a><span class="lineno">15165</span>&#160;        Worklist.push_back(R);</div>
<div class="line"><a name="l15166"></a><span class="lineno">15166</span>&#160;      }</div>
<div class="line"><a name="l15167"></a><span class="lineno">15167</span>&#160;    }</div>
<div class="line"><a name="l15168"></a><span class="lineno">15168</span>&#160;  }</div>
<div class="line"><a name="l15169"></a><span class="lineno">15169</span>&#160; </div>
<div class="line"><a name="l15170"></a><span class="lineno">15170</span>&#160;  <span class="keywordflow">if</span> (RewriteMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>())</div>
<div class="line"><a name="l15171"></a><span class="lineno">15171</span>&#160;    <span class="keywordflow">return</span> Expr;</div>
<div class="line"><a name="l15172"></a><span class="lineno">15172</span>&#160; </div>
<div class="line"><a name="l15173"></a><span class="lineno">15173</span>&#160;  <span class="comment">// Now that all rewrite information is collect, rewrite the collected</span></div>
<div class="line"><a name="l15174"></a><span class="lineno">15174</span>&#160;  <span class="comment">// expressions with the information in the map. This applies information to</span></div>
<div class="line"><a name="l15175"></a><span class="lineno">15175</span>&#160;  <span class="comment">// sub-expressions.</span></div>
<div class="line"><a name="l15176"></a><span class="lineno">15176</span>&#160;  <span class="keywordflow">if</span> (ExprsToRewrite.size() &gt; 1) {</div>
<div class="line"><a name="l15177"></a><span class="lineno">15177</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Expr : ExprsToRewrite) {</div>
<div class="line"><a name="l15178"></a><span class="lineno">15178</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RewriteTo = RewriteMap[Expr];</div>
<div class="line"><a name="l15179"></a><span class="lineno">15179</span>&#160;      RewriteMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(Expr);</div>
<div class="line"><a name="l15180"></a><span class="lineno">15180</span>&#160;      <a class="code" href="classSCEVLoopGuardRewriter.html">SCEVLoopGuardRewriter</a> <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>(*<span class="keyword">this</span>, RewriteMap);</div>
<div class="line"><a name="l15181"></a><span class="lineno">15181</span>&#160;      RewriteMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({Expr, <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.visit(RewriteTo)});</div>
<div class="line"><a name="l15182"></a><span class="lineno">15182</span>&#160;    }</div>
<div class="line"><a name="l15183"></a><span class="lineno">15183</span>&#160;  }</div>
<div class="line"><a name="l15184"></a><span class="lineno">15184</span>&#160; </div>
<div class="line"><a name="l15185"></a><span class="lineno">15185</span>&#160;  <a class="code" href="classSCEVLoopGuardRewriter.html">SCEVLoopGuardRewriter</a> <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>(*<span class="keyword">this</span>, RewriteMap);</div>
<div class="line"><a name="l15186"></a><span class="lineno">15186</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>.visit(Expr);</div>
<div class="line"><a name="l15187"></a><span class="lineno">15187</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_acac11578b87ac8c909bd20b9b44bf833"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#acac11578b87ac8c909bd20b9b44bf833">z</a></div><div class="ttdeci">return z</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2PowerPC_2README_8txt_source.html#l00014">README.txt:14</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_adb9a8e03cbf26bc06a1be8770914e63b"><div class="ttname"><a href="ScalarEvolution_8cpp.html#adb9a8e03cbf26bc06a1be8770914e63b">getConstantEvolvingPHI</a></div><div class="ttdeci">static PHINode * getConstantEvolvingPHI(Value *V, const Loop *L)</div><div class="ttdoc">getConstantEvolvingPHI - Given an LLVM value and a loop, return a PHI node in the loop that V is deri...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09503">ScalarEvolution.cpp:9503</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a643b61ddaf17331f3ff1d4f85c7c9a23"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a643b61ddaf17331f3ff1d4f85c7c9a23">llvm::ScalarEvolution::getSignExtendExprImpl</a></div><div class="ttdeci">const SCEV * getSignExtendExprImpl(const SCEV *Op, Type *Ty, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01953">ScalarEvolution.cpp:1953</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aacfeb3ed0f2f45dfd47a91f932353846"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aacfeb3ed0f2f45dfd47a91f932353846">MaxBruteForceIterations</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxBruteForceIterations(&quot;scalar-evolution-max-iterations&quot;, cl::ReallyHidden, cl::desc(&quot;Maximum number of iterations SCEV will &quot; &quot;symbolically execute a constant &quot; &quot;derived loop&quot;), cl::init(100))</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a4f6242fab5145c424cee29230fefe746"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a4f6242fab5145c424cee29230fefe746">llvm::ConstantRange::isFullSet</a></div><div class="ttdeci">bool isFullSet() const</div><div class="ttdoc">Return true if this set contains all of the elements possible for this data-type.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00363">ConstantRange.cpp:363</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnionPredicate_html_a18e54137a610f1c884f289527efe910e"><div class="ttname"><a href="classllvm_1_1SCEVUnionPredicate.html#a18e54137a610f1c884f289527efe910e">llvm::SCEVUnionPredicate::SCEVUnionPredicate</a></div><div class="ttdeci">SCEVUnionPredicate(ArrayRef&lt; const SCEVPredicate * &gt; Preds)</div><div class="ttdoc">Union predicates don't get cached so create a dummy set ID for it.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14666">ScalarEvolution.cpp:14666</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aa17c104fbda554c818cf87e53f32f20a"><div class="ttname"><a href="classllvm_1_1APInt.html#aa17c104fbda554c818cf87e53f32f20a">llvm::APInt::isStrictlyPositive</a></div><div class="ttdeci">bool isStrictlyPositive() const</div><div class="ttdoc">Determine if this APInt Value is positive.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00339">APInt.h:339</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a37f233a36ee50544cc4066ce49debc92"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a37f233a36ee50544cc4066ce49debc92">MaxConstantEvolvingDepth</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxConstantEvolvingDepth(&quot;scalar-evolution-max-constant-evolving-depth&quot;, cl::Hidden, cl::desc(&quot;Maximum depth of recursive constant evolving&quot;), cl::init(32))</div></div>
<div class="ttc" id="aclassllvm_1_1SCEVTraversal_html_aa3e492f428e815c1c89e3a5625e2c233"><div class="ttname"><a href="classllvm_1_1SCEVTraversal.html#aa3e492f428e815c1c89e3a5625e2c233">llvm::SCEVTraversal::visitAll</a></div><div class="ttdeci">void visitAll(const SCEV *Root)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00667">ScalarEvolutionExpressions.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a258d4b9899aa325cc01462cf54933543"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a258d4b9899aa325cc01462cf54933543">llvm::ScalarEvolution::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00494">ScalarEvolution.h:494</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ab686f43de6f1ff6cb333d00d62a590e4"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ab686f43de6f1ff6cb333d00d62a590e4">getExtendAddRecStart</a></div><div class="ttdeci">static const SCEV * getExtendAddRecStart(const SCEVAddRecExpr *AR, Type *Ty, ScalarEvolution *SE, unsigned Depth)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01459">ScalarEvolution.cpp:1459</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a67bf0314365917e11f91509c7f0425e8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a67bf0314365917e11f91509c7f0425e8">llvm::ScalarEvolution::isBasicBlockEntryGuardedByCond</a></div><div class="ttdeci">bool isBasicBlockEntryGuardedByCond(const BasicBlock *BB, ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Test whether entry to the basic block is protected by a conditional between LHS and RHS.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l11478">ScalarEvolution.cpp:11478</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a9c8872e25eeddcc398a41e003e7c3f55"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a9c8872e25eeddcc398a41e003e7c3f55">llvm::ConstantRange::signExtend</a></div><div class="ttdeci">ConstantRange signExtend(uint32_t BitWidth) const</div><div class="ttdoc">Return a new range in the specified integer type, which must be strictly larger than the current type...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00785">ConstantRange.cpp:785</a></div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_aa73e62aac1753cb7b3c3aaccef3df8b1"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#aa73e62aac1753cb7b3c3aaccef3df8b1">llvm::BinaryOpIntrinsic::getBinaryOp</a></div><div class="ttdeci">Instruction::BinaryOps getBinaryOp() const</div><div class="ttdoc">Returns the binary operation underlying the intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00752">IntrinsicInst.cpp:752</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a2b783b3eeb66a5a3827e5a20057086cf"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a2b783b3eeb66a5a3827e5a20057086cf">llvm::KnownBits::shl</a></div><div class="ttdeci">static KnownBits shl(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Compute known bits for shl(LHS, RHS).</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00167">KnownBits.cpp:167</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a426976cfd81411f49f7e5fe77ee4e3a4"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a426976cfd81411f49f7e5fe77ee4e3a4">llvm::ScalarEvolution::getTruncateOrNoop</a></div><div class="ttdeci">const SCEV * getTruncateOrNoop(const SCEV *V, Type *Ty)</div><div class="ttdoc">Return a SCEV corresponding to a conversion of the input value to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04753">ScalarEvolution.cpp:4753</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a91ac801aa45c78e0d0edbc36115ef054"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">llvm::ScalarEvolution::hasLoopInvariantBackedgeTakenCount</a></div><div class="ttdeci">bool hasLoopInvariantBackedgeTakenCount(const Loop *L)</div><div class="ttdoc">Return true if the specified loop has an analyzable loop-invariant backedge-taken count.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13494">ScalarEvolution.cpp:13494</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aeefacaa2eccab8db38ff9ccdad1e0b1d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aeefacaa2eccab8db38ff9ccdad1e0b1d">llvm::ScalarEvolution::registerUser</a></div><div class="ttdeci">void registerUser(const SCEV *User, ArrayRef&lt; const SCEV * &gt; Ops)</div><div class="ttdoc">Notify this ScalarEvolution that User directly uses SCEVs in Ops.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14708">ScalarEvolution.cpp:14708</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUDivExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVUDivExpr.html">llvm::SCEVUDivExpr</a></div><div class="ttdoc">This class represents a binary unsigned division operation.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00287">ScalarEvolutionExpressions.h:287</a></div></div>
<div class="ttc" id="aNVPTXISelLowering_8cpp_html_ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246"><div class="ttname"><a href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a></div><div class="ttdeci">@ Signed</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8cpp_source.html#l04884">NVPTXISelLowering.cpp:4884</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a341358b4e9c3ffb463182ea3280b2016"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a341358b4e9c3ffb463182ea3280b2016">BrPHIToSelect</a></div><div class="ttdeci">static bool BrPHIToSelect(DominatorTree &amp;DT, BranchInst *BI, PHINode *Merge, Value *&amp;C, Value *&amp;LHS, Value *&amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05992">ScalarEvolution.cpp:5992</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_a6cb6a58fb0ded82b4c7755fc4c27c86d"><div class="ttname"><a href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">llvm::Loop::isLoopInvariant</a></div><div class="ttdeci">bool isLoopInvariant(const Value *V) const</div><div class="ttdoc">Return true if the specified value is loop invariant.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00060">LoopInfo.cpp:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalableVectorType_html"><div class="ttname"><a href="classllvm_1_1ScalableVectorType.html">llvm::ScalableVectorType</a></div><div class="ttdoc">Class to represent scalable SIMD vectors.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00572">DerivedTypes.h:572</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionAnalysis_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionAnalysis.html">llvm::ScalarEvolutionAnalysis</a></div><div class="ttdoc">Analysis pass that exposes the ScalarEvolution for a function.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l02219">ScalarEvolution.h:2219</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a4999a804f03e6b5d268504249e4ab3df"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a4999a804f03e6b5d268504249e4ab3df">llvm::KnownBits::lshr</a></div><div class="ttdeci">static KnownBits lshr(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Compute known bits for lshr(LHS, RHS).</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00221">KnownBits.cpp:221</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CodeGenOpt_html_ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303"><div class="ttname"><a href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36ae56b4de70fb3488b3ae4ec998c0b6303">llvm::CodeGenOpt::Less</a></div><div class="ttdeci">@ Less</div><div class="ttdoc">-O1</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00059">CodeGen.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ad1c48ca1756aa11e5ea9e8a477d48e15"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ad1c48ca1756aa11e5ea9e8a477d48e15">llvm::ScalarEvolution::SimplifyICmpOperands</a></div><div class="ttdeci">bool SimplifyICmpOperands(ICmpInst::Predicate &amp;Pred, const SCEV *&amp;LHS, const SCEV *&amp;RHS, unsigned Depth=0, bool ControllingFiniteLoop=false)</div><div class="ttdoc">Simplify LHS and RHS in a comparison with predicate Pred.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10617">ScalarEvolution.cpp:10617</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_acbc087c889e3c823c52a44b3b18ae1ff"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#acbc087c889e3c823c52a44b3b18ae1ff">llvm::ScalarEvolution::computeExitLimitFromCond</a></div><div class="ttdeci">ExitLimit computeExitLimitFromCond(const Loop *L, Value *ExitCond, bool ExitIfTrue, bool ControlsExit, bool AllowPredicates=false)</div><div class="ttdoc">Compute the number of times the backedge of the specified loop will execute if its exit condition wer...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08903">ScalarEvolution.cpp:8903</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a49a2d8f483ea08a3d6ea75f90c640d76"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">llvm::CmpInst::getSwappedPredicate</a></div><div class="ttdeci">Predicate getSwappedPredicate() const</div><div class="ttdoc">For example, EQ-&gt;EQ, SLE-&gt;SGE, ULT-&gt;UGT, OEQ-&gt;OEQ, ULE-&gt;UGE, OLT-&gt;OGT, etc.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00859">InstrTypes.h:859</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00492">Compiler.h:492</a></div></div>
<div class="ttc" id="aR600ClauseMergePass_8cpp_html_aba99928790de45fa7aa12b47fbd828ff"><div class="ttname"><a href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a></div><div class="ttdeci">R600 Clause Merge</div><div class="ttdef"><b>Definition:</b> <a href="R600ClauseMergePass_8cpp_source.html#l00070">R600ClauseMergePass.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_adc8cf3b4b56f754b02ea30263bd4561e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">llvm::ScalarEvolution::isLoopEntryGuardedByCond</a></div><div class="ttdeci">bool isLoopEntryGuardedByCond(const Loop *L, ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Test whether entry to the loop is protected by a conditional between LHS and RHS.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l11569">ScalarEvolution.cpp:11569</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a083bb1deb1d2ba244a99ceae9e734bc1"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a083bb1deb1d2ba244a99ceae9e734bc1">llvm::ScalarEvolution::getNegativeSCEV</a></div><div class="ttdeci">const SCEV * getNegativeSCEV(const SCEV *V, SCEV::NoWrapFlags Flags=SCEV::FlagAnyWrap)</div><div class="ttdoc">Return the SCEV object corresponding to -V.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04556">ScalarEvolution.cpp:4556</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a563ffc2ff61c499b3be2e00100cb72fa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">llvm::SmallVectorImpl::erase</a></div><div class="ttdeci">iterator erase(const_iterator CI)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00741">SmallVector.h:741</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a3baedfc8c5a0a2895dad5d884357bbad"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a3baedfc8c5a0a2895dad5d884357bbad">RangeIterThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; RangeIterThreshold(&quot;scev-range-iter-threshold&quot;, cl::Hidden, cl::desc(&quot;Threshold for switching to iteratively computing SCEV ranges&quot;), cl::init(32))</div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUMinExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVUMinExpr.html">llvm::SCEVUMinExpr</a></div><div class="ttdoc">This class represents an unsigned minimum selection.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00483">ScalarEvolutionExpressions.h:483</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_aa75984a442f2379de0c66018201fa628"><div class="ttname"><a href="classllvm_1_1Type.html#aa75984a442f2379de0c66018201fa628">llvm::Type::getInt1Ty</a></div><div class="ttdeci">static IntegerType * getInt1Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00238">Type.cpp:238</a></div></div>
<div class="ttc" id="aclassllvm_1_1Operator_html"><div class="ttname"><a href="classllvm_1_1Operator.html">llvm::Operator</a></div><div class="ttdoc">This is a utility class that provides an abstraction for the common functionality between Instruction...</div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00031">Operator.h:31</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a8c47deb9ff88d1453a3fde3200347a95"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a8c47deb9ff88d1453a3fde3200347a95">PushDefUseChildren</a></div><div class="ttdeci">static void PushDefUseChildren(Instruction *I, SmallVectorImpl&lt; Instruction * &gt; &amp;Worklist, SmallPtrSetImpl&lt; Instruction * &gt; &amp;Visited)</div><div class="ttdoc">Push users of the given Instruction onto the given Worklist.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04834">ScalarEvolution.cpp:4834</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa0f28bd61d319f9fd170e9ffee1ec7ba"><div class="ttname"><a href="namespacellvm.html#aa0f28bd61d319f9fd170e9ffee1ec7ba">llvm::haveNoCommonBitsSet</a></div><div class="ttdeci">bool haveNoCommonBitsSet(const Value *LHS, const Value *RHS, const DataLayout &amp;DL, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return true if LHS and RHS have no common bits set.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00231">ValueTracking.cpp:231</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdeci">@ ICMP_EQ</div><div class="ttdoc">equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00739">InstrTypes.h:739</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_html_a02981de53fb6ffd384d39addc4d25f37"><div class="ttname"><a href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a></div><div class="ttdeci">auto drop_begin(T &amp;&amp;RangeOrContainer, size_t N=1)</div><div class="ttdoc">Return a range covering RangeOrContainer with the first N elements excluded.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00386">STLExtras.h:386</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_af90e20c9dfa469b0144a6290215f267d"><div class="ttname"><a href="ScalarEvolution_8cpp.html#af90e20c9dfa469b0144a6290215f267d">EnableFiniteLoopControl</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableFiniteLoopControl(&quot;scalar-evolution-finite-loop&quot;, cl::Hidden, cl::desc(&quot;Handle &lt;= and &gt;= in finite loops&quot;), cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a5b43a866f0fca605556f0f69f70c522a"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a5b43a866f0fca605556f0f69f70c522a">llvm::ConstantExpr::getNot</a></div><div class="ttdeci">static Constant * getNot(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02651">Constants.cpp:2651</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a933eb87303a6ce51c8894e431fbc389b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">llvm::ScalarEvolution::getNoopOrZeroExtend</a></div><div class="ttdeci">const SCEV * getNoopOrZeroExtend(const SCEV *V, Type *Ty)</div><div class="ttdoc">Return a SCEV corresponding to a conversion of the input value to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04717">ScalarEvolution.cpp:4717</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_a822fce84743a12eba6f9c83c9c719140"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a822fce84743a12eba6f9c83c9c719140">llvm::DataLayout::getIndexTypeSizeInBits</a></div><div class="ttdeci">unsigned getIndexTypeSizeInBits(Type *Ty) const</div><div class="ttdoc">Layout size of the index used in GEP calculation.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00752">DataLayout.cpp:752</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_abffe1c5730168a86a46e690447dd6d97"><div class="ttname"><a href="ScalarEvolution_8cpp.html#abffe1c5730168a86a46e690447dd6d97">getRangeForAffineARHelper</a></div><div class="ttdeci">static ConstantRange getRangeForAffineARHelper(APInt Step, const ConstantRange &amp;StartRange, const APInt &amp;MaxBECount, unsigned BitWidth, bool Signed)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06903">ScalarEvolution.cpp:6903</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a6dcfa69ce27cf214caaf50f21bfe1f2f"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a6dcfa69ce27cf214caaf50f21bfe1f2f">llvm::ScalarEvolution::getEffectiveSCEVType</a></div><div class="ttdeci">Type * getEffectiveSCEVType(Type *Ty) const</div><div class="ttdoc">Return a type with the same bitwidth as the given type and which represents how SCEV will treat the g...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04437">ScalarEvolution.cpp:4437</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_a12a8ac8838fb851a2de5dc5275307bb6"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#a12a8ac8838fb851a2de5dc5275307bb6">llvm::PredicatedScalarEvolution::getPredicate</a></div><div class="ttdeci">const SCEVPredicate &amp; getPredicate() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14758">ScalarEvolution.cpp:14758</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6893db19648a2dba0912d181aaa57ec0a19de5b94f7b83900d4b296d9fa491aec"><div class="ttname"><a href="namespacellvm.html#a6893db19648a2dba0912d181aaa57ec0a19de5b94f7b83900d4b296d9fa491aec">llvm::HexPrintStyle::Upper</a></div><div class="ttdeci">@ Upper</div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a507b0650daf87aeaae607b004376b7ff"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a507b0650daf87aeaae607b004376b7ff">MatchNotExpr</a></div><div class="ttdeci">static const SCEV * MatchNotExpr(const SCEV *Expr)</div><div class="ttdoc">If Expr computes ~A, return A else return nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04568">ScalarEvolution.cpp:4568</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea88dad4534f471d79d0a7a094d809ef55">llvm::scSMinExpr</a></div><div class="ttdeci">@ scSMinExpr</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00052">ScalarEvolutionExpressions.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00293">Type.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_a5316a2763777f3670c1606452f4e99d7"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a5316a2763777f3670c1606452f4e99d7">llvm::SCEVAddRecExpr::setNoWrapFlags</a></div><div class="ttdeci">void setNoWrapFlags(NoWrapFlags Flags)</div><div class="ttdoc">Set flags for a recurrence without clearing any previously set flags.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00372">ScalarEvolutionExpressions.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnionPredicate_html_ad83d54a5a40ff5df4d7e25ea7fa23708"><div class="ttname"><a href="classllvm_1_1SCEVUnionPredicate.html#ad83d54a5a40ff5df4d7e25ea7fa23708">llvm::SCEVUnionPredicate::implies</a></div><div class="ttdeci">bool implies(const SCEVPredicate *N) const override</div><div class="ttdoc">Returns true if this predicate implies N.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14677">ScalarEvolution.cpp:14677</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">This enumeration lists the possible predicates for CmpInst subclasses.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00718">InstrTypes.h:718</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a0b931781aa589c6ebe64a76c1447e5b2"><div class="ttname"><a href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">llvm::User::operands</a></div><div class="ttdeci">op_range operands()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00242">User.h:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_afe3ce7fc89f36474eb0369cbb792c05a"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#afe3ce7fc89f36474eb0369cbb792c05a">llvm::ConstantInt::getType</a></div><div class="ttdeci">IntegerType * getType() const</div><div class="ttdoc">getType - Specialize the getType() method to always return an IntegerType, which reduces the amount o...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00172">Constants.h:172</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_a54bb7394d874cbbef1d81e6bea89d4f3"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a54bb7394d874cbbef1d81e6bea89d4f3">llvm::SCEVAddRecExpr::isAffine</a></div><div class="ttdeci">bool isAffine() const</div><div class="ttdoc">Return true if this represents an expression A + B*x where A and B are loop invariant values.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00358">ScalarEvolutionExpressions.h:358</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a87ea59154b2de6dc273eb071b3f16265"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a87ea59154b2de6dc273eb071b3f16265">CompareValueComplexity</a></div><div class="ttdeci">static int CompareValueComplexity(EquivalenceClasses&lt; const Value * &gt; &amp;EqCacheValue, const LoopInfo *const LI, Value *LV, Value *RV, unsigned Depth)</div><div class="ttdoc">Compare the two values LV and RV in terms of their &quot;complexity&quot; where &quot;complexity&quot; is a partial (and ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00661">ScalarEvolution.cpp:661</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a3b996fbf8458aafffc86cb98a68d0a47"><div class="ttname"><a href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const</div><div class="ttdoc">True if this is an instance of PointerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00249">Type.h:249</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_a7ac0db66a4bb6e1e1066609d5c6d28d8"><div class="ttname"><a href="classllvm_1_1SCEV.html#a7ac0db66a4bb6e1e1066609d5c6d28d8">llvm::SCEV::isAllOnesValue</a></div><div class="ttdeci">bool isAllOnesValue() const</div><div class="ttdoc">Return true if the expression is a constant all-ones value.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00472">ScalarEvolution.cpp:472</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ad5cdd95803efd96c2c62da74a4aa6cd7"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ad5cdd95803efd96c2c62da74a4aa6cd7">llvm::LoopBase::getOutermostLoop</a></div><div class="ttdeci">const LoopT * getOutermostLoop() const</div><div class="ttdoc">Get the outermost loop in which this loop is contained.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00118">LoopInfo.h:118</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPredicate_html_aad1f00f5fd2e1d44f4d4693b021fae20"><div class="ttname"><a href="classllvm_1_1SCEVPredicate.html#aad1f00f5fd2e1d44f4d4693b021fae20">llvm::SCEVPredicate::print</a></div><div class="ttdeci">virtual void print(raw_ostream &amp;OS, unsigned Depth=0) const =0</div><div class="ttdoc">Prints a textual representation of this predicate with an indentation of Depth.</div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_a1d3a0e869e478018c481a577ed9d25ee"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a1d3a0e869e478018c481a577ed9d25ee">llvm::SCEVAddRecExpr::getStart</a></div><div class="ttdeci">const SCEV * getStart() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00341">ScalarEvolutionExpressions.h:341</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aeb57116b101c8d1263ff5ffdaccdcad0"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aeb57116b101c8d1263ff5ffdaccdcad0">llvm::ConstantRange::sub</a></div><div class="ttdeci">ConstantRange sub(const ConstantRange &amp;Other) const</div><div class="ttdoc">Return a new range representing the possible values resulting from a subtraction of a value in this r...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l01033">ConstantRange.cpp:1033</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a58d6359cee16e5da66861058836dcca9"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a58d6359cee16e5da66861058836dcca9">llvm::ConstantExpr::getZExt</a></div><div class="ttdeci">static Constant * getZExt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02119">Constants.cpp:2119</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3d8e1e329cf813ca2b411957a4d11d5d"><div class="ttname"><a href="namespacellvm.html#a3d8e1e329cf813ca2b411957a4d11d5d">llvm::computeExpressionSize</a></div><div class="ttdeci">unsigned short computeExpressionSize(ArrayRef&lt; const SCEV * &gt; Args)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00078">ScalarEvolutionExpressions.h:78</a></div></div>
<div class="ttc" id="aInstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a29ee697fe94374eae9689321e811f5e9"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9">llvm::ScalarEvolution::getSmallConstantTripMultiple</a></div><div class="ttdeci">unsigned getSmallConstantTripMultiple(const Loop *L, const SCEV *ExitCount)</div><div class="ttdoc">Returns the largest constant divisor of the trip count as a normal unsigned value,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08261">ScalarEvolution.cpp:8261</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a4bab447a6422427e5fc92bbbc0c12fba"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a4bab447a6422427e5fc92bbbc0c12fba">llvm::ScalarEvolution::getLosslessPtrToIntExpr</a></div><div class="ttdeci">const SCEV * getLosslessPtrToIntExpr(const SCEV *Op, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01061">ScalarEvolution.cpp:1061</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a9b35c622a902a7a7dc93b807a9fa9265"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a9b35c622a902a7a7dc93b807a9fa9265">llvm::KnownBits::getMinValue</a></div><div class="ttdeci">APInt getMinValue() const</div><div class="ttdoc">Return the minimal unsigned value possible given these KnownBits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00120">KnownBits.h:120</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_aed47e4757f3240146f8ad40c2cdbf2d1"><div class="ttname"><a href="namespacellvm_1_1cl.html#aed47e4757f3240146f8ad40c2cdbf2d1">llvm::cl::location</a></div><div class="ttdeci">LocationClass&lt; Ty &gt; location(Ty &amp;L)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00465">CommandLine.h:465</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9b1509388282f293de48b34276e5b538"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9b1509388282f293de48b34276e5b538">llvm::ScalarEvolution::loopIsFiniteByAssumption</a></div><div class="ttdeci">bool loopIsFiniteByAssumption(const Loop *L)</div><div class="ttdoc">Return true if this loop is finite by assumption.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07389">ScalarEvolution.cpp:7389</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_1_1Invalidator_html_a5e8e9230fa677542877d1f3c6ff95ae2"><div class="ttname"><a href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">llvm::AnalysisManager::Invalidator::invalidate</a></div><div class="ttdeci">bool invalidate(IRUnitT &amp;IR, const PreservedAnalyses &amp;PA)</div><div class="ttdoc">Trigger the invalidation of some other analysis pass if not already handled and return whether it was...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00679">PassManager.h:679</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0b2ca98dc28c61793ff5c90d23e5f14e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::lookup</a></div><div class="ttdeci">ValueT lookup(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">lookup - Return the entry for the specified key, or a default constructed value if no such entry exis...</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00197">DenseMap.h:197</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b"><div class="ttname"><a href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">llvm::PseudoProbeReservedId::Last</a></div><div class="ttdeci">@ Last</div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ada4b4e4637302939402932b866e82cf3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ada4b4e4637302939402932b866e82cf3">llvm::ScalarEvolution::createAddRecFromPHIWithCasts</a></div><div class="ttdeci">std::optional&lt; std::pair&lt; const SCEV *, SmallVector&lt; const SCEVPredicate *, 3 &gt; &gt; &gt; createAddRecFromPHIWithCasts(const SCEVUnknown *SymbolicPHI)</div><div class="ttdoc">Checks if SymbolicPHI can be rewritten as an AddRecExpr under some Predicates.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05639">ScalarEvolution.cpp:5639</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aca14d9ec64ba4ab7fb2cef37c57d9ce4"><div class="ttname"><a href="classllvm_1_1APInt.html#aca14d9ec64ba4ab7fb2cef37c57d9ce4">llvm::APInt::ule</a></div><div class="ttdeci">bool ule(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned less or equal comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01128">APInt.h:1128</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a7776be244c9a7e48a8533e8d25679022"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a7776be244c9a7e48a8533e8d25679022">insertFoldCacheEntry</a></div><div class="ttdeci">static void insertFoldCacheEntry(const ScalarEvolution::FoldID &amp;ID, const SCEV *S, DenseMap&lt; ScalarEvolution::FoldID, const SCEV * &gt; &amp;FoldCache, DenseMap&lt; const SCEV *, SmallVector&lt; ScalarEvolution::FoldID, 2 &gt;&gt; &amp;FoldCacheUser)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01585">ScalarEvolution.cpp:1585</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a04337b572d34ea413c35dbac5d75530b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">llvm::LoopBase::contains</a></div><div class="ttdeci">bool contains(const LoopT *L) const</div><div class="ttdoc">Return true if the specified loop is contained within in this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00139">LoopInfo.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVSMaxExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVSMaxExpr.html">llvm::SCEVSMaxExpr</a></div><div class="ttdoc">This class represents a signed maximum selection.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00447">ScalarEvolutionExpressions.h:447</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aa08fee11e8a5ec10c0cc2a7abbbd799a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">llvm::PatternMatch::m_LShr</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::LShr &gt; m_LShr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01117">PatternMatch.h:1117</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eabcb1f797cb330e61a5879fc260aaec5b">llvm::scConstant</a></div><div class="ttdeci">@ scConstant</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00041">ScalarEvolutionExpressions.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_acf0b1898efd7f81a078e9288befd9290"><div class="ttname"><a href="classllvm_1_1DataLayout.html#acf0b1898efd7f81a078e9288befd9290">llvm::DataLayout::getTypeSizeInBits</a></div><div class="ttdeci">TypeSize getTypeSizeInBits(Type *Ty) const</div><div class="ttdoc">Size examples:</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00669">DataLayout.h:669</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPredicate_html_a75f4943e861ac0b6d41439c7d5c07adb"><div class="ttname"><a href="classllvm_1_1SCEVPredicate.html#a75f4943e861ac0b6d41439c7d5c07adb">llvm::SCEVPredicate::SCEVPredicateKind</a></div><div class="ttdeci">SCEVPredicateKind</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00226">ScalarEvolution.h:226</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">llvm::ARM_MB::LD</a></div><div class="ttdeci">@ LD</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00072">ARMBaseInfo.h:72</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a7170e1b99a9c472642f756b8cf098afa"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa">PrintLoopInfo</a></div><div class="ttdeci">static void PrintLoopInfo(raw_ostream &amp;OS, ScalarEvolution *SE, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13498">ScalarEvolution.cpp:13498</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ac67bca6c764da76f5e152330d92ed916"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">llvm::KnownBits::Zero</a></div><div class="ttdeci">APInt Zero</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00024">KnownBits.h:24</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00263">README.txt:263</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html">llvm::PredicatedScalarEvolution</a></div><div class="ttdoc">An interface layer with SCEV used to manage how we see SCEV expressions for values in the context of ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l02280">ScalarEvolution.h:2280</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a4b001d9b458035fbbfc154d52d354ee9"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const</div><div class="ttdoc">Return the constant as an APInt value reference.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00132">Constants.h:132</a></div></div>
<div class="ttc" id="aHexagonBitTracker_8cpp_html_a0ee73ba17c3a2cb54752905e99d77357"><div class="ttname"><a href="HexagonBitTracker_8cpp.html#a0ee73ba17c3a2cb54752905e99d77357">op</a></div><div class="ttdeci">#define op(i)</div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a80d7048687367a15d267ac5418b8a168"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a80d7048687367a15d267ac5418b8a168">llvm::ScalarEvolution::getConstantMaxBackedgeTakenCount</a></div><div class="ttdeci">const SCEV * getConstantMaxBackedgeTakenCount(const Loop *L)</div><div class="ttdoc">When successful, this returns a SCEVConstant that is greater than or equal to (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00898">ScalarEvolution.h:898</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_a6822c506d77c8ba56e85bee5cd1ed01b"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#a6822c506d77c8ba56e85bee5cd1ed01b">llvm::BinaryOpIntrinsic::getRHS</a></div><div class="ttdeci">Value * getRHS() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00757">IntrinsicInst.h:757</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26e2a938b431eaa6eca2beaa96410c9d"><div class="ttname"><a href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">llvm::successors</a></div><div class="ttdeci">auto successors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01265">MachineBasicBlock.h:1265</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVComparePredicate_html_aac06d2751578a637182749b3e8837368"><div class="ttname"><a href="classllvm_1_1SCEVComparePredicate.html#aac06d2751578a637182749b3e8837368">llvm::SCEVComparePredicate::implies</a></div><div class="ttdeci">bool implies(const SCEVPredicate *N) const override</div><div class="ttdoc">Implementation of the SCEVPredicate interface.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14588">ScalarEvolution.cpp:14588</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_aa342c9b3d47cd9bde63b80c83ead429b"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aa342c9b3d47cd9bde63b80c83ead429b">llvm::ConstantExpr::getSExt</a></div><div class="ttdeci">static Constant * getSExt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02105">Constants.cpp:2105</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_aa2b11e914798a4e54c7e640722f1b08d"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#aa2b11e914798a4e54c7e640722f1b08d">llvm::PredicatedScalarEvolution::PredicatedScalarEvolution</a></div><div class="ttdeci">PredicatedScalarEvolution(ScalarEvolution &amp;SE, Loop &amp;L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14701">ScalarEvolution.cpp:14701</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_abbc0190ff3870af6a8b96f5d7da8be06"><div class="ttname"><a href="classllvm_1_1CmpInst.html#abbc0190ff3870af6a8b96f5d7da8be06">llvm::CmpInst::getFlippedSignednessPredicate</a></div><div class="ttdeci">Predicate getFlippedSignednessPredicate()</div><div class="ttdoc">For example, SLT-&gt;ULT, ULT-&gt;SLT, SLE-&gt;ULE, ULE-&gt;SLE, EQ-&gt;Failed assert.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01000">InstrTypes.h:1000</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a70846800c022a3cffe285317f3a5d70d"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a70846800c022a3cffe285317f3a5d70d">VerifySCEVStrict</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; VerifySCEVStrict(&quot;verify-scev-strict&quot;, cl::Hidden, cl::desc(&quot;Enable stricter verification with -verify-scev is passed&quot;))</div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a4cc98603a0b86854a68b17aba70b4718"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a4cc98603a0b86854a68b17aba70b4718">llvm::ScalarEvolution::isKnownViaInduction</a></div><div class="ttdeci">bool isKnownViaInduction(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">We'd like to check the predicate on every iteration of the most dominated loop between loops used in ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10853">ScalarEvolution.cpp:10853</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a20c66c97bae0b3e6725d03cfa61c488b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a20c66c97bae0b3e6725d03cfa61c488b">llvm::ScalarEvolution::isKnownNonZero</a></div><div class="ttdeci">bool isKnownNonZero(const SCEV *S)</div><div class="ttdoc">Test if the given expression is known to be non-zero.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10837">ScalarEvolution.cpp:10837</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00279">RISCVBaseInfo.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a88575baf2ad9f4cd2e2432e6da4a976b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a88575baf2ad9f4cd2e2432e6da4a976b">llvm::LoopBase::getLoopPredecessor</a></div><div class="ttdeci">BlockT * getLoopPredecessor() const</div><div class="ttdoc">If the given loop's header has exactly one unique predecessor outside the loop, return it.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00211">LoopInfoImpl.h:211</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVNAryExpr_html_a09cc70290a71475141063b6dff42a5d2"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a09cc70290a71475141063b6dff42a5d2">llvm::SCEVNAryExpr::hasNoUnsignedWrap</a></div><div class="ttdeci">bool hasNoUnsignedWrap() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00209">ScalarEvolutionExpressions.h:209</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a68fce0638c5ec7b96b8572cad9c20488"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a68fce0638c5ec7b96b8572cad9c20488">llvm::ConstantExpr::getICmp</a></div><div class="ttdeci">static Constant * getICmp(unsigned short pred, Constant *LHS, Constant *RHS, bool OnlyIfReduced=false)</div><div class="ttdoc">get* - Return some common constants without having to specify the full Instruction::OPCODE identifier...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02523">Constants.cpp:2523</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a929bb4cc9d4e23ed607b73e88ac6006a"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a929bb4cc9d4e23ed607b73e88ac6006a">GetQuadraticEquation</a></div><div class="ttdeci">static std::optional&lt; std::tuple&lt; APInt, APInt, APInt, APInt, unsigned &gt; &gt; GetQuadraticEquation(const SCEVAddRecExpr *AddRec)</div><div class="ttdoc">For a given quadratic addrec, generate coefficients of the corresponding quadratic equation,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10150">ScalarEvolution.cpp:10150</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a65a6479206acd4113b8aa1c0fbc2158c"><div class="ttname"><a href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">llvm::APInt::getMinValue</a></div><div class="ttdeci">static APInt getMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum unsigned value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00196">APInt.h:196</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPtrToIntExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVPtrToIntExpr.html">llvm::SCEVPtrToIntExpr</a></div><div class="ttdoc">This class represents a cast from a pointer to a pointer-sized integer value.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00113">ScalarEvolutionExpressions.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_a8818b44063f9f3339d4ced72bd76b107"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#a8818b44063f9f3339d4ced72bd76b107">llvm::BinaryOpIntrinsic::getLHS</a></div><div class="ttdeci">Value * getLHS() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00756">IntrinsicInst.h:756</a></div></div>
<div class="ttc" id="aclassllvm_1_1EquivalenceClasses_html"><div class="ttname"><a href="classllvm_1_1EquivalenceClasses.html">llvm::EquivalenceClasses</a></div><div class="ttdoc">EquivalenceClasses - This represents a collection of equivalence classes and supports three efficient...</div><div class="ttdef"><b>Definition:</b> <a href="EquivalenceClasses_8h_source.html#l00060">EquivalenceClasses.h:60</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5be4877e6cc76e0fe6f8a005c69aa7c2"><div class="ttname"><a href="namespacellvm.html#a5be4877e6cc76e0fe6f8a005c69aa7c2">llvm::matchSimpleRecurrence</a></div><div class="ttdeci">bool matchSimpleRecurrence(const PHINode *P, BinaryOperator *&amp;BO, Value *&amp;Start, Value *&amp;Step)</div><div class="ttdoc">Attempt to match a simple first order recurrence cycle of the form: iv = phi Ty [Start,...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06674">ValueTracking.cpp:6674</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eab6b4550f8ae7180f0e83ebb40a9882ec">llvm::scCouldNotCompute</a></div><div class="ttdeci">@ scCouldNotCompute</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00056">ScalarEvolutionExpressions.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_ada1db826f3d2266fe2c4d06218d8d342"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#ada1db826f3d2266fe2c4d06218d8d342">llvm::PredicatedScalarEvolution::getBackedgeTakenCount</a></div><div class="ttdeci">const SCEV * getBackedgeTakenCount()</div><div class="ttdoc">Get the (predicated) backedge count for the analyzed loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14737">ScalarEvolution.cpp:14737</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_afee50be11e579d3c510e73df2a21cb88"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#afee50be11e579d3c510e73df2a21cb88">llvm::ScalarEvolution::getSignedRangeMax</a></div><div class="ttdeci">APInt getSignedRangeMax(const SCEV *S)</div><div class="ttdoc">Determine the max of the signed range for a particular SCEV.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00990">ScalarEvolution.h:990</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a659b27f6737fcb7eaf333b0279da1154"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">llvm::ScalarEvolution::getAddRecExpr</a></div><div class="ttdeci">const SCEV * getAddRecExpr(const SCEV *Start, const SCEV *Step, const Loop *L, SCEV::NoWrapFlags Flags)</div><div class="ttdoc">Get an add recurrence expression for the specified loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03653">ScalarEvolution.cpp:3653</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a331d69b5f93e47e7c596062b77dd5913"><div class="ttname"><a href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">llvm::APInt::getMaxValue</a></div><div class="ttdeci">static APInt getMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum unsigned value of APInt for specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00186">APInt.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_abae3f750ce4d2edcea30f08fe9e29721"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">llvm::ConstantExpr::getGetElementPtr</a></div><div class="ttdeci">static Constant * getGetElementPtr(Type *Ty, Constant *C, ArrayRef&lt; Constant * &gt; IdxList, bool InBounds=false, std::optional&lt; unsigned &gt; InRangeIndex=std::nullopt, Type *OnlyIfReducedTy=nullptr)</div><div class="ttdoc">Getelementptr form.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l01245">Constants.h:1245</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_ae6a4da5f41fc6a36735cc1704c01ce60"><div class="ttname"><a href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00735">Function.h:735</a></div></div>
<div class="ttc" id="astructllvm_1_1ScalarEvolution_1_1ExitLimit_html_a5012e3204345ebea8f21e6e164fb49c4"><div class="ttname"><a href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a5012e3204345ebea8f21e6e164fb49c4">llvm::ScalarEvolution::ExitLimit::ExactNotTaken</a></div><div class="ttdeci">const SCEV * ExactNotTaken</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01082">ScalarEvolution.h:1082</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVNAryExpr_html_a13420a20869bb95976c9b26c72318942"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a13420a20869bb95976c9b26c72318942">llvm::SCEVNAryExpr::Operands</a></div><div class="ttdeci">const SCEV *const * Operands</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00185">ScalarEvolutionExpressions.h:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionPrinterPass_html_a5701836bcbb5fc1663cbaf72ea475bc0"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionPrinterPass.html#a5701836bcbb5fc1663cbaf72ea475bc0">llvm::ScalarEvolutionPrinterPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14331">ScalarEvolution.cpp:14331</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVCastExpr_html_a6aa0a0ebb61dab7128c3d6394e92483b"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html#a6aa0a0ebb61dab7128c3d6394e92483b">llvm::SCEVCastExpr::getOperand</a></div><div class="ttdeci">const SCEV * getOperand() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00095">ScalarEvolutionExpressions.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllAnalysesOn_html"><div class="ttname"><a href="classllvm_1_1AllAnalysesOn.html">llvm::AllAnalysesOn</a></div><div class="ttdoc">This templated class represents &quot;all analyses that operate over &lt;a particular IR unit&gt;&quot; (e....</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00090">PassManager.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnknown_html_ad2f12376ad58d7c4a90beab585b9fe54"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html#ad2f12376ad58d7c4a90beab585b9fe54">llvm::SCEVUnknown::isAlignOf</a></div><div class="ttdeci">bool isAlignOf(Type *&amp;AllocTy) const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00593">ScalarEvolution.cpp:593</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html">llvm::ScalarEvolution</a></div><div class="ttdoc">The main scalar evolution driver.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00452">ScalarEvolution.h:452</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdeci">@ ICMP_NE</div><div class="ttdoc">not equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00740">InstrTypes.h:740</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_aa2a54b545d237ecfe450fd1292f7675e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">llvm::CmpInst::getInversePredicate</a></div><div class="ttdeci">Predicate getInversePredicate() const</div><div class="ttdoc">For example, EQ -&gt; NE, UGT -&gt; ULE, SLT -&gt; SGE, OEQ -&gt; UNE, UGT -&gt; OLE, OLT -&gt; UGE,...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00832">InstrTypes.h:832</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae79d05dd3d0b05e080e08f8c5c33f880"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02229">Constants.cpp:2229</a></div></div>
<div class="ttc" id="anamespaceR600__InstFlag_html_a23106439cc906be24dc8953eedd3940da8949a42ff4563a29d1e70e18338fd522"><div class="ttname"><a href="namespaceR600__InstFlag.html#a23106439cc906be24dc8953eedd3940da8949a42ff4563a29d1e70e18338fd522">R600_InstFlag::FC</a></div><div class="ttdeci">@ FC</div><div class="ttdef"><b>Definition:</b> <a href="R600Defines_8h_source.html#l00032">R600Defines.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00028">GlobalAlias.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a92fb0984f10499fff4a7c9b32de2a0a6"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">llvm::ScalarEvolution::getBlockDisposition</a></div><div class="ttdeci">BlockDisposition getBlockDisposition(const SCEV *S, const BasicBlock *BB)</div><div class="ttdoc">Return the &quot;disposition&quot; of the given SCEV with respect to the given block.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13784">ScalarEvolution.cpp:13784</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a1616515fc811646b8cc5e6625e36b954"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a1616515fc811646b8cc5e6625e36b954">llvm::ConstantRange::getEquivalentICmp</a></div><div class="ttdeci">bool getEquivalentICmp(CmpInst::Predicate &amp;Pred, APInt &amp;RHS) const</div><div class="ttdoc">Set up Pred and RHS such that ConstantRange::makeExactICmpRegion(Pred, RHS) == *this.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00235">ConstantRange.cpp:235</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a26ffa319e1953452b1d1df84923f2108"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a26ffa319e1953452b1d1df84923f2108">llvm::ScalarEvolution::getZeroExtendExprImpl</a></div><div class="ttdeci">const SCEV * getZeroExtendExprImpl(const SCEV *Op, Type *Ty, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01631">ScalarEvolution.cpp:1631</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionWrapperPass_html_a2b0012b09a95be3e1eb70ce22f14e029"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionWrapperPass.html#a2b0012b09a95be3e1eb70ce22f14e029">llvm::ScalarEvolutionWrapperPass::runOnFunction</a></div><div class="ttdeci">bool runOnFunction(Function &amp;F) override</div><div class="ttdoc">runOnFunction - Virtual method overriden by subclasses to do the per-function processing of the pass.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14356">ScalarEvolution.cpp:14356</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5e"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5e">llvm::SCEVTypes</a></div><div class="ttdeci">SCEVTypes</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00038">ScalarEvolutionExpressions.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a83c084b0947edf4ae748f9a73babf7b8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a83c084b0947edf4ae748f9a73babf7b8">llvm::ScalarEvolution::getTruncateExpr</a></div><div class="ttdeci">const SCEV * getTruncateExpr(const SCEV *Op, Type *Ty, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01195">ScalarEvolution.cpp:1195</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a2c96114e89e8cf2122ebe8bc4d929c7c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a2c96114e89e8cf2122ebe8bc4d929c7c">llvm::ScalarEvolution::getTypeSizeInBits</a></div><div class="ttdeci">uint64_t getTypeSizeInBits(Type *Ty) const</div><div class="ttdoc">Return the size in bits of the specified type, for which isSCEVable must return true.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04427">ScalarEvolution.cpp:4427</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26389c546573f058ad8ecbdc5c1933cf"><div class="ttname"><a href="namespacellvm.html#a26389c546573f058ad8ecbdc5c1933cf">llvm::verifyFunction</a></div><div class="ttdeci">bool verifyFunction(const Function &amp;F, raw_ostream *OS=nullptr)</div><div class="ttdoc">Check a function for errors, useful for use when debugging a pass.</div><div class="ttdef"><b>Definition:</b> <a href="Verifier_8cpp_source.html#l06428">Verifier.cpp:6428</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a829bd04a95f833114e36a195c7e67f0a"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a829bd04a95f833114e36a195c7e67f0a">llvm::ScalarEvolution::getNoopOrAnyExtend</a></div><div class="ttdeci">const SCEV * getNoopOrAnyExtend(const SCEV *V, Type *Ty)</div><div class="ttdoc">Return a SCEV corresponding to a conversion of the input value to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04741">ScalarEvolution.cpp:4741</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a42276b9ddf5e782e18683908a626466a"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a42276b9ddf5e782e18683908a626466a">llvm::SCEVWrapPredicate::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, unsigned Depth=0) const override</div><div class="ttdoc">Prints a textual representation of this predicate with an indentation of Depth.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14635">ScalarEvolution.cpp:14635</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a4fd27a44c5fd9958fdd9150622129cd3"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a4fd27a44c5fd9958fdd9150622129cd3">llvm::PatternMatch::m_Br</a></div><div class="ttdeci">brc_match&lt; Cond_t, bind_ty&lt; BasicBlock &gt;, bind_ty&lt; BasicBlock &gt; &gt; m_Br(const Cond_t &amp;C, BasicBlock *&amp;T, BasicBlock *&amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01731">PatternMatch.h:1731</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">llvm::SCEV::FlagNW</a></div><div class="ttdeci">@ FlagNW</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00132">ScalarEvolution.h:132</a></div></div>
<div class="ttc" id="aAPInt_8h_html"><div class="ttname"><a href="APInt_8h.html">APInt.h</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a7518e0ecb4d23aac8995be0d2e3b1daf"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a7518e0ecb4d23aac8995be0d2e3b1daf">MaxSCEVCompareDepth</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxSCEVCompareDepth(&quot;scalar-evolution-max-scev-compare-depth&quot;, cl::Hidden, cl::desc(&quot;Maximum depth of recursive SCEV complexity comparisons&quot;), cl::init(32))</div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnknown_html_af3e9f829ee5e2f5d657f94712311f503"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html#af3e9f829ee5e2f5d657f94712311f503">llvm::SCEVUnknown::isOffsetOf</a></div><div class="ttdeci">bool isOffsetOf(Type *&amp;STy, Constant *&amp;FieldNo) const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00617">ScalarEvolution.cpp:617</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_a6ae35ec967d69bc1cd21ae482bbdd4a2"><div class="ttname"><a href="classllvm_1_1SCEV.html#a6ae35ec967d69bc1cd21ae482bbdd4a2">llvm::SCEV::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdoc">This method is used for debugging.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00263">ScalarEvolution.cpp:263</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7a3935517c67d2e9aa8e04f1cfc9f983"><div class="ttname"><a href="namespacellvm.html#a7a3935517c67d2e9aa8e04f1cfc9f983">llvm::programUndefinedIfPoison</a></div><div class="ttdeci">bool programUndefinedIfPoison(const Instruction *Inst)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05900">ValueTracking.cpp:5900</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coro_html_a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b"><div class="ttname"><a href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">llvm::coro::ABI::Switch</a></div><div class="ttdeci">@ Switch</div><div class="ttdoc">The &quot;resume-switch&quot; lowering, where there are separate resume and destroy functions that are shared b...</div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">llvm::Depth</a></div><div class="ttdeci">@ Depth</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00036">SIMachineScheduler.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">llvm::CmpInst::ICMP_SGT</a></div><div class="ttdeci">@ ICMP_SGT</div><div class="ttdoc">signed greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00745">InstrTypes.h:745</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_abbd9ed911d1d58b73f9571f300cc6a7b"><div class="ttname"><a href="classllvm_1_1DataLayout.html#abbd9ed911d1d58b73f9571f300cc6a7b">llvm::DataLayout::getIndexType</a></div><div class="ttdeci">Type * getIndexType(Type *PtrTy) const</div><div class="ttdoc">Returns the type of a GEP index.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00888">DataLayout.cpp:888</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a562c9513409b74f02cb3a5c9bae672ea"><div class="ttname"><a href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">llvm::APInt::getSignedMaxValue</a></div><div class="ttdeci">static APInt getSignedMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum signed value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00189">APInt.h:189</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="aScalarEvolution_8h_html"><div class="ttname"><a href="ScalarEvolution_8h.html">ScalarEvolution.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">llvm::ScalarEvolution::LoopInvariant</a></div><div class="ttdeci">@ LoopInvariant</div><div class="ttdoc">The SCEV is loop-invariant.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00459">ScalarEvolution.h:459</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a512fe2c15ea651294688eeec1341644c"><div class="ttname"><a href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Return the number of bits in the APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01439">APInt.h:1439</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_aaaeded5d0cab77f531b294638459aca5"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">llvm::ICmpInst::isEquality</a></div><div class="ttdeci">bool isEquality() const</div><div class="ttdoc">Return true if this predicate is either EQ or NE.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01292">Instructions.h:1292</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a1e32582702cf5b9d4484c0ce346b2f57"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a1e32582702cf5b9d4484c0ce346b2f57">llvm::CmpInst::isFalseWhenEqual</a></div><div class="ttdeci">bool isFalseWhenEqual() const</div><div class="ttdoc">This is just a convenience.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01012">InstrTypes.h:1012</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a66d4b4c9a335549fc329921f27ac67fc"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a66d4b4c9a335549fc329921f27ac67fc">llvm::ConstantRange::isSignWrappedSet</a></div><div class="ttdeci">bool isSignWrappedSet() const</div><div class="ttdoc">Return true if this set wraps around the signed domain.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00379">ConstantRange.cpp:379</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">llvm::ScalarEvolution::LoopComputable</a></div><div class="ttdeci">@ LoopComputable</div><div class="ttdoc">The SCEV varies predictably with the loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00460">ScalarEvolution.h:460</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86ISD_html_a9441a4f94d36d0f7c0c34aca42e3f76aa5d99076d052295315dc1e2dd067d2ad7"><div class="ttname"><a href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aa5d99076d052295315dc1e2dd067d2ad7">llvm::X86ISD::SBB</a></div><div class="ttdeci">@ SBB</div><div class="ttdef"><b>Definition:</b> <a href="X86ISelLowering_8h_source.html#l00398">X86ISelLowering.h:398</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea684b8e2484b12d494e82f7053d005754">llvm::scSMaxExpr</a></div><div class="ttdeci">@ scSMaxExpr</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00050">ScalarEvolutionExpressions.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ace535ba3b8cc110f49b5db48a945ecefa707795ac384dd38bc1fc47cded39f5de"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefa707795ac384dd38bc1fc47cded39f5de">llvm::ScalarEvolution::ConstantMaximum</a></div><div class="ttdeci">@ ConstantMaximum</div><div class="ttdoc">A constant which provides an upper bound on the exact trip count.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00861">ScalarEvolution.h:861</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVSequentialMinMaxExpr_html_af8532b54a025a850863502cadc554fdd"><div class="ttname"><a href="classllvm_1_1SCEVSequentialMinMaxExpr.html#af8532b54a025a850863502cadc554fdd">llvm::SCEVSequentialMinMaxExpr::getEquivalentNonSequentialSCEVType</a></div><div class="ttdeci">SCEVTypes getEquivalentNonSequentialSCEVType() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00532">ScalarEvolutionExpressions.h:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1LoopInfoWrapperPass.html">llvm::LoopInfoWrapperPass</a></div><div class="ttdoc">The legacy pass manager's analysis pass to compute loop information.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01293">LoopInfo.h:1293</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlockEdge_html"><div class="ttname"><a href="classllvm_1_1BasicBlockEdge.html">llvm::BasicBlockEdge</a></div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00098">Dominators.h:98</a></div></div>
<div class="ttc" id="aMips16ISelLowering_8cpp_html_ac16509a75e3d3fc46b9df1726be486ec"><div class="ttname"><a href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a></div><div class="ttdeci">#define T1</div><div class="ttdef"><b>Definition:</b> <a href="Mips16ISelLowering_8cpp_source.html#l00340">Mips16ISelLowering.cpp:340</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ac994394f9fd76addc7dd77a550c67e30"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac994394f9fd76addc7dd77a550c67e30">llvm::ScalarEvolution::getConstantMaxTripCountFromArray</a></div><div class="ttdeci">const SCEV * getConstantMaxTripCountFromArray(const Loop *L)</div><div class="ttdoc">Returns the upper bound of the loop trip count infered from array size.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08127">ScalarEvolution.cpp:8127</a></div></div>
<div class="ttc" id="aclassSCEVLoopGuardRewriter_html"><div class="ttname"><a href="classSCEVLoopGuardRewriter.html">SCEVLoopGuardRewriter</a></div><div class="ttdoc">A rewriter to replace SCEV expressions in Map with the corresponding entry in the map.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14936">ScalarEvolution.cpp:14936</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a46a7cbf3724080a5f4f4c7e7a4551e26"><div class="ttname"><a href="classllvm_1_1APInt.html#a46a7cbf3724080a5f4f4c7e7a4551e26">llvm::APInt::ugt</a></div><div class="ttdeci">bool ugt(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned greater than comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01160">APInt.h:1160</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">llvm::ScalarEvolution::LoopVariant</a></div><div class="ttdeci">@ LoopVariant</div><div class="ttdoc">The SCEV is loop-variant (unknown).</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00458">ScalarEvolution.h:458</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_af2f81059dc7566164b018aac6555eb1a"><div class="ttname"><a href="classllvm_1_1LoopBase.html#af2f81059dc7566164b018aac6555eb1a">llvm::LoopBase::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00171">LoopInfo.h:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_a06dc25da1f16f389f5244304e8d33127"><div class="ttname"><a href="classllvm_1_1CastInst.html#a06dc25da1f16f389f5244304e8d33127">llvm::CastInst::getCastOpcode</a></div><div class="ttdeci">static Instruction::CastOps getCastOpcode(const Value *Val, bool SrcIsSigned, Type *Ty, bool DstIsSigned)</div><div class="ttdoc">Returns the opcode necessary to cast Val into Ty using usual casting rules.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03636">Instructions.cpp:3636</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ad146072469181af4ccb7ef03c28999ba"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ad146072469181af4ccb7ef03c28999ba">llvm::ScalarEvolution::applyLoopGuards</a></div><div class="ttdeci">const SCEV * applyLoopGuards(const SCEV *Expr, const Loop *L)</div><div class="ttdoc">Try to apply information from loop guards for L to Expr.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14970">ScalarEvolution.cpp:14970</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a0410d63819514e3062a73eb48a5ecc82"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a0410d63819514e3062a73eb48a5ecc82">llvm::ScalarEvolution::hasFlags</a></div><div class="ttdeci">static bool hasFlags(SCEV::NoWrapFlags Flags, SCEV::NoWrapFlags TestFlags)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00484">ScalarEvolution.h:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aeca82ae7bafbb557b7026f7d035643b8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aeca82ae7bafbb557b7026f7d035643b8">llvm::ScalarEvolution::getUDivExactExpr</a></div><div class="ttdeci">const SCEV * getUDivExactExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Get a canonical unsigned division expression, or something simpler if possible.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03599">ScalarEvolution.cpp:3599</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVSequentialMinMaxExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVSequentialMinMaxExpr.html">llvm::SCEVSequentialMinMaxExpr</a></div><div class="ttdoc">This node is the base class for sequential/in-order min/max selections.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00499">ScalarEvolutionExpressions.h:499</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a64153676e101a130bbbaaf91635d253a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a64153676e101a130bbbaaf91635d253a">llvm::PatternMatch::m_AShr</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::AShr &gt; m_AShr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01123">PatternMatch.h:1123</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad46ed333b920b20e78d948610366254c"><div class="ttname"><a href="namespacellvm.html#ad46ed333b920b20e78d948610366254c">llvm::ComputeNumSignBits</a></div><div class="ttdeci">unsigned ComputeNumSignBits(const Value *Op, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return the number of times the sign bit of the register is replicated into the other bits.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00383">ValueTracking.cpp:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a10cde7087f90dc664b6799814aa28584"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a10cde7087f90dc664b6799814aa28584">llvm::ScalarEvolution::getWiderType</a></div><div class="ttdeci">Type * getWiderType(Type *Ty1, Type *Ty2) const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04448">ScalarEvolution.cpp:4448</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">llvm::tgtok::FalseVal</a></div><div class="ttdeci">@ FalseVal</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00062">TGLexer.h:62</a></div></div>
<div class="ttc" id="aOperator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="astructllvm_1_1ScalarEvolution_1_1ExitLimit_html"><div class="ttname"><a href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html">llvm::ScalarEvolution::ExitLimit</a></div><div class="ttdoc">Information about the number of loop iterations for which a loop exit's branch condition evaluates to...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01081">ScalarEvolution.h:1081</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVNAryExpr_html_a980d0688dfa2b96b0043950aa1aa88b3"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a980d0688dfa2b96b0043950aa1aa88b3">llvm::SCEVNAryExpr::operands</a></div><div class="ttdeci">ArrayRef&lt; const SCEV * &gt; operands() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00201">ScalarEvolutionExpressions.h:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">llvm::CmpInst::ICMP_SLE</a></div><div class="ttdeci">@ ICMP_SLE</div><div class="ttdoc">signed less or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00748">InstrTypes.h:748</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ae78e890f2ef71a10fca3f21f0833b535"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ae78e890f2ef71a10fca3f21f0833b535">llvm::ScalarEvolution::rewriteUsingPredicate</a></div><div class="ttdeci">const SCEV * rewriteUsingPredicate(const SCEV *S, const Loop *L, const SCEVPredicate &amp;A)</div><div class="ttdoc">Re-writes the SCEV according to the Predicates in A.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14552">ScalarEvolution.cpp:14552</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ad8e4f5b2ced08ad7d138b598aefdd338"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">llvm::ScalarEvolution::getUnknown</a></div><div class="ttdeci">const SCEV * getUnknown(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04390">ScalarEvolution.cpp:4390</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_ad4f956914bf94bdcd1058badb5bd90e6"><div class="ttname"><a href="classllvm_1_1SCEV.html#ad4f956914bf94bdcd1058badb5bd90e6">llvm::SCEV::getSCEVType</a></div><div class="ttdeci">SCEVTypes getSCEVType() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00144">ScalarEvolution.h:144</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a06719fdab228f099aeac0c8ee40a7e34"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">llvm::ScalarEvolution::isKnownNonNegative</a></div><div class="ttdeci">bool isKnownNonNegative(const SCEV *S)</div><div class="ttdoc">Test if the given expression is known to be non-negative.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10829">ScalarEvolution.cpp:10829</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">llvm::MipsISD::Ret</a></div><div class="ttdeci">@ Ret</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00119">MipsISelLowering.h:119</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_af156ea88617d19e05470b8af2bb62dd9"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#af156ea88617d19e05470b8af2bb62dd9">llvm::ScalarEvolution::getTruncateOrSignExtend</a></div><div class="ttdeci">const SCEV * getTruncateOrSignExtend(const SCEV *V, Type *Ty, unsigned Depth=0)</div><div class="ttdoc">Return a SCEV corresponding to a conversion of the input value to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04704">ScalarEvolution.cpp:4704</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVSignExtendExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVSignExtendExpr.html">llvm::SCEVSignExtendExpr</a></div><div class="ttdoc">This class represents a sign extension of a small integer value to a larger integer value.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00165">ScalarEvolutionExpressions.h:165</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea80488550b42b6548ec4d5c7118c7ff1d">llvm::scUnknown</a></div><div class="ttdeci">@ scUnknown</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00055">ScalarEvolutionExpressions.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a26686cb5c1bf48d6b2c8b98c0a97dcd2"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a26686cb5c1bf48d6b2c8b98c0a97dcd2">llvm::SCEVWrapPredicate::implies</a></div><div class="ttdeci">bool implies(const SCEVPredicate *N) const override</div><div class="ttdoc">Returns true if this predicate implies N.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14619">ScalarEvolution.cpp:14619</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a79fea84c72cff6e47eb3079272bec666"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a79fea84c72cff6e47eb3079272bec666">llvm::ScalarEvolution::getPredicatedBackedgeTakenCount</a></div><div class="ttdeci">const SCEV * getPredicatedBackedgeTakenCount(const Loop *L, SmallVector&lt; const SCEVPredicate *, 4 &gt; &amp;Predicates)</div><div class="ttdoc">Similar to getBackedgeTakenCount, except it will add a set of SCEV predicates to Predicates that are ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08326">ScalarEvolution.cpp:8326</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1OverflowingBinaryOperator_html_a95474ea140862464db7ea0580f01eae9"><div class="ttname"><a href="classllvm_1_1OverflowingBinaryOperator.html#a95474ea140862464db7ea0580f01eae9">llvm::OverflowingBinaryOperator::hasNoUnsignedWrap</a></div><div class="ttdeci">bool hasNoUnsignedWrap() const</div><div class="ttdoc">Test whether this operation is known to never undergo unsigned overflow, aka the nuw property.</div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00099">Operator.h:99</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a6ed8a5b1d1f8bdf4c1daf83a38018cae"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a6ed8a5b1d1f8bdf4c1daf83a38018cae">getConstantEvolvingPHIOperands</a></div><div class="ttdeci">static PHINode * getConstantEvolvingPHIOperands(Instruction *UseInst, const Loop *L, DenseMap&lt; Instruction *, PHINode * &gt; &amp;PHIMap, unsigned Depth)</div><div class="ttdoc">getConstantEvolvingPHIOperands - Implement getConstantEvolvingPHI by recursing through each instructi...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09461">ScalarEvolution.cpp:9461</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPredicate_html_a75f4943e861ac0b6d41439c7d5c07adbaac3069eca0cb48a03eaa7d95fb84829c"><div class="ttname"><a href="classllvm_1_1SCEVPredicate.html#a75f4943e861ac0b6d41439c7d5c07adbaac3069eca0cb48a03eaa7d95fb84829c">llvm::SCEVPredicate::P_Wrap</a></div><div class="ttdeci">@ P_Wrap</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00226">ScalarEvolution.h:226</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_adc040502444e4504cdbc04c87e4e3055"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#adc040502444e4504cdbc04c87e4e3055">llvm::ScalarEvolution::getTruncateOrZeroExtend</a></div><div class="ttdeci">const SCEV * getTruncateOrZeroExtend(const SCEV *V, Type *Ty, unsigned Depth=0)</div><div class="ttdoc">Return a SCEV corresponding to a conversion of the input value to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04692">ScalarEvolution.cpp:4692</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_aa68a2d2c06a10b1e5a5bc778a107c0ba"><div class="ttname"><a href="classllvm_1_1CmpInst.html#aa68a2d2c06a10b1e5a5bc778a107c0ba">llvm::CmpInst::getPredicateName</a></div><div class="ttdeci">static StringRef getPredicateName(Predicate P)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l04109">Instructions.cpp:4109</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5193c3535375c450b9430e5671cbeb2d"><div class="ttname"><a href="namespacellvm.html#a5193c3535375c450b9430e5671cbeb2d">llvm::getConstantRangeFromMetadata</a></div><div class="ttdeci">ConstantRange getConstantRangeFromMetadata(const MDNode &amp;RangeMD)</div><div class="ttdoc">Parse out a conservative ConstantRange from !range metadata.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l01797">ConstantRange.cpp:1797</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVConstant_html_ab319aacb4209aeca2c72d50a0d585b47"><div class="ttname"><a href="classllvm_1_1SCEVConstant.html#ab319aacb4209aeca2c72d50a0d585b47">llvm::SCEVConstant::getValue</a></div><div class="ttdeci">ConstantInt * getValue() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00069">ScalarEvolutionExpressions.h:69</a></div></div>
<div class="ttc" id="astructllvm_1_1ScalarEvolution_1_1ExitLimit_html_adc011a87f2cd47a6f31f6f11a3b7e912"><div class="ttname"><a href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#adc011a87f2cd47a6f31f6f11a3b7e912">llvm::ScalarEvolution::ExitLimit::ConstantMaxNotTaken</a></div><div class="ttdeci">const SCEV * ConstantMaxNotTaken</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01083">ScalarEvolution.h:1083</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a5d61e3035097c0e57849c6d3f195597d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5d61e3035097c0e57849c6d3f195597d">llvm::ScalarEvolution::getUnsignedRangeMin</a></div><div class="ttdeci">APInt getUnsignedRangeMin(const SCEV *S)</div><div class="ttdoc">Determine the min of the unsigned range for a particular SCEV.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00969">ScalarEvolution.h:969</a></div></div>
<div class="ttc" id="aSequence_8h_html"><div class="ttname"><a href="Sequence_8h.html">Sequence.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a2715f6ab4c9bdd5c10865247739716fa"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a2715f6ab4c9bdd5c10865247739716fa">TruncIfPossible</a></div><div class="ttdeci">static std::optional&lt; APInt &gt; TruncIfPossible(std::optional&lt; APInt &gt; X, unsigned BitWidth)</div><div class="ttdoc">Helper function to truncate an optional APInt to a given BitWidth.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10227">ScalarEvolution.cpp:10227</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_aa364810e8fe30937277d9dd8a301c4c9"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#aa364810e8fe30937277d9dd8a301c4c9">llvm::PredicatedScalarEvolution::getAsAddRec</a></div><div class="ttdeci">const SCEVAddRecExpr * getAsAddRec(Value *V)</div><div class="ttdoc">Attempts to produce an AddRecExpr for V by adding additional SCEV predicates.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14804">ScalarEvolution.cpp:14804</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7ba5de75f50bb4a4ba920698edf39b28"><div class="ttname"><a href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">llvm::Type::getInt8Ty</a></div><div class="ttdeci">static IntegerType * getInt8Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00239">Type.cpp:239</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac214df91cdc242f4710ea5a93939c678"><div class="ttname"><a href="namespacellvm.html#ac214df91cdc242f4710ea5a93939c678">llvm::count_if</a></div><div class="ttdeci">auto count_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Wrapper function around std::count_if to count the number of times an element satisfying a given pred...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01903">STLExtras.h:1903</a></div></div>
<div class="ttc" id="aConstantFolding_8h_html"><div class="ttname"><a href="ConstantFolding_8h.html">ConstantFolding.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">llvm::cl::ReallyHidden</a></div><div class="ttdeci">@ ReallyHidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00139">CommandLine.h:139</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a59fcf5b90a1e31b126ee5d8a80275654"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a59fcf5b90a1e31b126ee5d8a80275654">IsMinMaxConsistingOf</a></div><div class="ttdeci">static bool IsMinMaxConsistingOf(const SCEV *MaybeMinMaxExpr, const SCEV *Candidate)</div><div class="ttdoc">Is MaybeMinMaxExpr an (U|S)(Min|Max) of Candidate and some other values?</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l12264">ScalarEvolution.cpp:12264</a></div></div>
<div class="ttc" id="aUse_8h_html"><div class="ttname"><a href="Use_8h.html">Use.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_add4e37b60ea64faafbc9a5bf3e27280f"><div class="ttname"><a href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">llvm::APInt::getZero</a></div><div class="ttdeci">static APInt getZero(unsigned numBits)</div><div class="ttdoc">Get the '0' value for the specified bit-width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00177">APInt.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ac276ea1907c780c43d3637ae9bd1989e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">llvm::ScalarEvolution::getPointerBase</a></div><div class="ttdeci">const SCEV * getPointerBase(const SCEV *V)</div><div class="ttdoc">Transitively follow the chain of pointer-type operands until reaching a SCEV that does not have a sin...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04810">ScalarEvolution.cpp:4810</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVZeroExtendExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVZeroExtendExpr.html">llvm::SCEVZeroExtendExpr</a></div><div class="ttdoc">This class represents a zero extension of a small integer value to a larger integer value.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00151">ScalarEvolutionExpressions.h:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_a8295e869b64b0c77ba2c917eeb5f530d"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#a8295e869b64b0c77ba2c917eeb5f530d">llvm::ICmpInst::isGT</a></div><div class="ttdeci">static bool isGT(Predicate P)</div><div class="ttdoc">Return true if the predicate is SGT or UGT.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01314">Instructions.h:1314</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a0804213759955866b143922826bd74e9"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a0804213759955866b143922826bd74e9">HugeExprThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; HugeExprThreshold(&quot;scalar-evolution-huge-expr-threshold&quot;, cl::Hidden, cl::desc(&quot;Size of the expression which is considered huge&quot;), cl::init(4096))</div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_aa606171b17bdde9015fa656e226ca9e0"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">llvm::APIntOps::umin</a></div><div class="ttdeci">const APInt &amp; umin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be unsigned.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02185">APInt.h:2185</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aDepthFirstIterator_8h_html"><div class="ttname"><a href="DepthFirstIterator_8h.html">DepthFirstIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a13b9eb961d35ad9ecb3b633f5703253a"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a13b9eb961d35ad9ecb3b633f5703253a">llvm::ScalarEvolution::getURemExpr</a></div><div class="ttdeci">const SCEV * getURemExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Represents an unsigned remainder expression based on unsigned division.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03398">ScalarEvolution.cpp:3398</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a3f8966a44f193849a18c573b402472b8"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a3f8966a44f193849a18c573b402472b8">new</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM ID Predecessors according to mbb&lt; bb27, 0x8b0a7c0 &gt; Note ADDri is not a two address instruction its result reg1037 is an operand of the PHI node in bb76 and its operand reg1039 is the result of the PHI node We should treat it as a two address code and make sure the ADDri is scheduled after any node that reads reg1039 Use info(i.e. register scavenger) to assign it a free register to allow reuse the collector could move the objects and invalidate the derived pointer This is bad enough in the first but safe points can crop up unpredictably **array_addr i32 n y store obj * new</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00125">README.txt:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9aba96071c763c3233ab9f7cea03f395"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9aba96071c763c3233ab9f7cea03f395">llvm::ScalarEvolution::getUMinFromMismatchedTypes</a></div><div class="ttdeci">const SCEV * getUMinFromMismatchedTypes(const SCEV *LHS, const SCEV *RHS, bool Sequential=false)</div><div class="ttdoc">Promote the operands to the wider of the types using zero-extension, and then perform a umin operatio...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04777">ScalarEvolution.cpp:4777</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a88c1c3dd33d232dc889a5d29c75b75f3"><div class="ttname"><a href="classllvm_1_1PHINode.html#a88c1c3dd33d232dc889a5d29c75b75f3">llvm::PHINode::blocks</a></div><div class="ttdeci">iterator_range&lt; const_block_iterator &gt; blocks() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02780">Instructions.h:2780</a></div></div>
<div class="ttc" id="aKnownBits_8h_html"><div class="ttname"><a href="KnownBits_8h.html">KnownBits.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPredicate_html"><div class="ttname"><a href="classllvm_1_1SCEVPredicate.html">llvm::SCEVPredicate</a></div><div class="ttdoc">This class represents an assumption made using SCEV expressions which can be checked at run-time.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00218">ScalarEvolution.h:218</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPredicate_html_a12d9db1dec5e0c7d358f6a6dee6a1c9f"><div class="ttname"><a href="classllvm_1_1SCEVPredicate.html#a12d9db1dec5e0c7d358f6a6dee6a1c9f">llvm::SCEVPredicate::implies</a></div><div class="ttdeci">virtual bool implies(const SCEVPredicate *N) const =0</div><div class="ttdoc">Returns true if this predicate implies N.</div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a1eeff70353694cb360b2893553c18e7d"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">llvm::KnownBits::countMinTrailingZeros</a></div><div class="ttdeci">unsigned countMinTrailingZeros() const</div><div class="ttdoc">Returns the minimum number of trailing zero bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00233">KnownBits.h:233</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a5b01f1061607731f6d2953b935649570"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570">llvm::ScalarEvolution::getSizeOfExpr</a></div><div class="ttdeci">const SCEV * getSizeOfExpr(Type *IntTy, Type *AllocTy)</div><div class="ttdoc">Return an expression for the alloc size of AllocTy that is type IntTy.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04362">ScalarEvolution.cpp:4362</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a4aa7e7ca8ab4093fd0dbadb223b998c0"><div class="ttname"><a href="classllvm_1_1APInt.html#a4aa7e7ca8ab4093fd0dbadb223b998c0">llvm::APInt::isSignMask</a></div><div class="ttdeci">bool isSignMask() const</div><div class="ttdoc">Check if the APInt's value is returned by getSignMask.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00454">APInt.h:454</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a">llvm::AArch64CC::LT</a></div><div class="ttdeci">@ LT</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00266">AArch64BaseInfo.h:266</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a0e6f2069000829208cbac185a07d8082a8260f3d302e2463fd93753dfd0de6ec1"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a0e6f2069000829208cbac185a07d8082a8260f3d302e2463fd93753dfd0de6ec1">llvm::ConstantRange::Signed</a></div><div class="ttdeci">@ Signed</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00319">ConstantRange.h:319</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ad299b0f4378f644f67168c72c763716f"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ad299b0f4378f644f67168c72c763716f">llvm::ScalarEvolution::getMulExpr</a></div><div class="ttdeci">const SCEV * getMulExpr(SmallVectorImpl&lt; const SCEV * &gt; &amp;Ops, SCEV::NoWrapFlags Flags=SCEV::FlagAnyWrap, unsigned Depth=0)</div><div class="ttdoc">Get a canonical multiply expression, or something simpler if possible.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03132">ScalarEvolution.cpp:3132</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_af327db7ab1b1996680bd467f6ce109bc"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#af327db7ab1b1996680bd467f6ce109bc">llvm::ScalarEvolution::containsErasedValue</a></div><div class="ttdeci">bool containsErasedValue(const SCEV *S) const</div><div class="ttdoc">Return true if the SCEV expression contains a Value that has been optimised out and is now a nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13363">ScalarEvolution.cpp:13363</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a2780c5606880394d3f07cd2079a27697"><div class="ttname"><a href="classllvm_1_1APInt.html#a2780c5606880394d3f07cd2079a27697">llvm::APInt::setHighBits</a></div><div class="ttdeci">void setHighBits(unsigned hiBits)</div><div class="ttdoc">Set the top hiBits bits.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01370">APInt.h:1370</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a5c69311e8d44898dac36a155c3d8691d"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const BasicBlock *BB, const Use &amp;U) const</div><div class="ttdoc">Return true if the (end of the) basic block BB dominates the use U.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00122">Dominators.cpp:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVTraversal_html"><div class="ttname"><a href="classllvm_1_1SCEVTraversal.html">llvm::SCEVTraversal</a></div><div class="ttdoc">Visit all nodes in the expression tree using worklist traversal.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00654">ScalarEvolutionExpressions.h:654</a></div></div>
<div class="ttc" id="astructllvm_1_1ScalarEvolution_1_1ExitLimit_html_a5280609b4bd8ce312891524a2e2a870f"><div class="ttname"><a href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a5280609b4bd8ce312891524a2e2a870f">llvm::ScalarEvolution::ExitLimit::SymbolicMaxNotTaken</a></div><div class="ttdeci">const SCEV * SymbolicMaxNotTaken</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01085">ScalarEvolution.h:1085</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ae0d036af111b8aafe90db0771b8e9ce3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ae0d036af111b8aafe90db0771b8e9ce3">llvm::ScalarEvolution::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const SCEV *S, const BasicBlock *BB)</div><div class="ttdoc">Return true if elements that makes up the given SCEV properly dominate the specified basic block.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13861">ScalarEvolution.cpp:13861</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aac9e78b3aa02ec087c4621358f506718"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">llvm::PatternMatch::m_APInt</a></div><div class="ttdeci">apint_match m_APInt(const APInt *&amp;Res)</div><div class="ttdoc">Match a ConstantInt or splatted ConstantVector, binding the specified pointer to the contained APInt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00278">PatternMatch.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_a0b675a820ab094d694d602eb16ef02e5"><div class="ttname"><a href="classllvm_1_1SCEV.html#a0b675a820ab094d694d602eb16ef02e5">llvm::SCEV::operands</a></div><div class="ttdeci">ArrayRef&lt; const SCEV * &gt; operands() const</div><div class="ttdoc">Return operands of this SCEV expression.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00433">ScalarEvolution.cpp:433</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a028f4d1eead63cc33499ce3459bd27c7"><div class="ttname"><a href="classllvm_1_1APInt.html#a028f4d1eead63cc33499ce3459bd27c7">llvm::APInt::umul_ov</a></div><div class="ttdeci">APInt umul_ov(const APInt &amp;RHS, bool &amp;Overflow) const</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01969">APInt.cpp:1969</a></div></div>
<div class="ttc" id="astructllvm_1_1ScalarEvolution_1_1ExitLimit_html_a1e319052f7cf5f2d9769db4ed04694ce"><div class="ttname"><a href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a1e319052f7cf5f2d9769db4ed04694ce">llvm::ScalarEvolution::ExitLimit::ExitLimit</a></div><div class="ttdeci">ExitLimit(const SCEV *E)</div><div class="ttdoc">Construct either an exact exit limit from a constant, or an unknown one from a SCEVCouldNotCompute.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08693">ScalarEvolution.cpp:8693</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af4b1ccc0b78f9da9f3f3944e06007f1d"><div class="ttname"><a href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">llvm::APInt::uge</a></div><div class="ttdeci">bool uge(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned greater or equal comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01199">APInt.h:1199</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a2a394517076e7dd2bdcd7dde33dfcb7d"><div class="ttname"><a href="classllvm_1_1Type.html#a2a394517076e7dd2bdcd7dde33dfcb7d">llvm::Type::isArrayTy</a></div><div class="ttdeci">bool isArrayTy() const</div><div class="ttdoc">True if this is an instance of ArrayType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00246">Type.h:246</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a157efd68e8b4b838829cad165b1583f8"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">llvm::KnownBits::isNonNegative</a></div><div class="ttdeci">bool isNonNegative() const</div><div class="ttdoc">Returns true if this value is known to be non-negative.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00099">KnownBits.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a62733c3335a87750623dbfc5b3ae4f6c"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a62733c3335a87750623dbfc5b3ae4f6c">llvm::LoopBase::getParentLoop</a></div><div class="ttdeci">LoopT * getParentLoop() const</div><div class="ttdoc">Return the parent loop if it exists or nullptr for top level loops.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00114">LoopInfo.h:114</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="astructllvm_1_1SCEVVisitor_html"><div class="ttname"><a href="structllvm_1_1SCEVVisitor.html">llvm::SCEVVisitor</a></div><div class="ttdoc">This class defines a simple visitor class that may be used for various SCEV analysis purposes.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00602">ScalarEvolutionExpressions.h:602</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">llvm::X86AS::SS</a></div><div class="ttdeci">@ SS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00202">X86.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnknown_html_ad5a0788fd78a5c5269fcaf45164b6e9a"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html#ad5a0788fd78a5c5269fcaf45164b6e9a">llvm::SCEVUnknown::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00594">ScalarEvolutionExpressions.h:594</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a5bb94ae7a535ff5335b731270969c6d3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5bb94ae7a535ff5335b731270969c6d3">llvm::ScalarEvolution::getTripCountFromExitCount</a></div><div class="ttdeci">const SCEV * getTripCountFromExitCount(const SCEV *ExitCount, bool Extend=true)</div><div class="ttdoc">Convert from an &quot;exit count&quot; (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08074">ScalarEvolution.cpp:8074</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a6804d9caf15411f55e7b9e9f397f0422"><div class="ttname"><a href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">llvm::APInt::isNegative</a></div><div class="ttdeci">bool isNegative() const</div><div class="ttdoc">Determine sign of this APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00312">APInt.h:312</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_abd00c5af76d76d690df3147ac7c6aa3e"><div class="ttname"><a href="ScalarEvolution_8cpp.html#abd00c5af76d76d690df3147ac7c6aa3e">loopDispositionToStr</a></div><div class="ttdeci">static StringRef loopDispositionToStr(ScalarEvolution::LoopDisposition LD)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13583">ScalarEvolution.cpp:13583</a></div></div>
<div class="ttc" id="aGlobalValue_8h_html"><div class="ttname"><a href="GlobalValue_8h.html">GlobalValue.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a002c7b1beef8b58691fe7aa42ffa2fe7"><div class="ttname"><a href="namespacellvm.html#a002c7b1beef8b58691fe7aa42ffa2fe7">llvm::visitAll</a></div><div class="ttdeci">void visitAll(const SCEV *Root, SV &amp;Visitor)</div><div class="ttdoc">Use SCEVTraversal to visit all nodes in the given expression tree.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00704">ScalarEvolutionExpressions.h:704</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a2438fed16c3cb4cde45cd861762fefdd"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a2438fed16c3cb4cde45cd861762fefdd">MinOptional</a></div><div class="ttdeci">static std::optional&lt; APInt &gt; MinOptional(std::optional&lt; APInt &gt; X, std::optional&lt; APInt &gt; Y)</div><div class="ttdoc">Helper function to compare optional APInts: (a) if X and Y both exist, return min(X,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10203">ScalarEvolution.cpp:10203</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">llvm::AArch64CC::VC</a></div><div class="ttdeci">@ VC</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00262">AArch64BaseInfo.h:262</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_addb87fe3f509b7803d3f5933ee24b560"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">llvm::PatternMatch::m_Select</a></div><div class="ttdeci">ThreeOps_match&lt; Cond, LHS, RHS, Instruction::Select &gt; m_Select(const Cond &amp;C, const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches SelectInst.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01462">PatternMatch.h:1462</a></div></div>
<div class="ttc" id="aVirtRegMap_8cpp_html_a1ad52109a2ff430460c8776286b97b2e"><div class="ttname"><a href="VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a></div><div class="ttdeci">Virtual Register Rewriter</div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8cpp_source.html#l00237">VirtRegMap.cpp:237</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_adefbb946b174533d5eb8db503b1f4ffa"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#adefbb946b174533d5eb8db503b1f4ffa">L2</a></div><div class="ttdeci">add sub stmia L5 ldr L2</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00201">README.txt:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ac93dd46031b1e2f9fdb0cee7a99681df"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac93dd46031b1e2f9fdb0cee7a99681df">llvm::ScalarEvolution::getOne</a></div><div class="ttdeci">const SCEV * getOne(Type *Ty)</div><div class="ttdoc">Return a SCEV for the constant 1 of a specific type.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00656">ScalarEvolution.h:656</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a2ae057e4de45c51c89b7e5dc5053df62">llvm::PPCISD::SC</a></div><div class="ttdeci">@ SC</div><div class="ttdoc">CHAIN = SC CHAIN, Imm128 - System call.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00420">PPCISelLowering.h:420</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ac258f0361a1c35f5814a2b529139d15c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac258f0361a1c35f5814a2b529139d15c">llvm::ScalarEvolution::hasComputableLoopEvolution</a></div><div class="ttdeci">bool hasComputableLoopEvolution(const SCEV *S, const Loop *L)</div><div class="ttdoc">Return true if the given SCEV changes value in a known way in the specified loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13779">ScalarEvolution.cpp:13779</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00049">PatternMatch.h:49</a></div></div>
<div class="ttc" id="aclassSCEVLoopGuardRewriter_html_a1f98887611dc3acbcc42b4a5782dffb5"><div class="ttname"><a href="classSCEVLoopGuardRewriter.html#a1f98887611dc3acbcc42b4a5782dffb5">SCEVLoopGuardRewriter::visitAddRecExpr</a></div><div class="ttdeci">const SCEV * visitAddRecExpr(const SCEVAddRecExpr *Expr)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14944">ScalarEvolution.cpp:14944</a></div></div>
<div class="ttc" id="aLint_8cpp_html_a45005634b54e2126cb3e6ec0dbc9ade4"><div class="ttname"><a href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a></div><div class="ttdeci">static bool isZero(Value *V, const DataLayout &amp;DL, DominatorTree *DT, AssumptionCache *AC)</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00524">Lint.cpp:524</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a16c39eb6e60b42a40c399d8d65347bb6"><div class="ttname"><a href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const</div><div class="ttdoc">Return incoming value number x.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02794">Instructions.h:2794</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_ae4b6abe77abf42fb02081a6cc41a0132"><div class="ttname"><a href="classllvm_1_1Constant.html#ae4b6abe77abf42fb02081a6cc41a0132">llvm::Constant::isNullValue</a></div><div class="ttdeci">bool isNullValue() const</div><div class="ttdoc">Return true if this is the value that would be returned by getNullValue.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00076">Constants.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_a074617b3e2f9f98ee3a2ac208e8e7210"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a074617b3e2f9f98ee3a2ac208e8e7210">llvm::AllocaInst::getAllocatedType</a></div><div class="ttdeci">Type * getAllocatedType() const</div><div class="ttdoc">Return the type that is being allocated by the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00118">Instructions.h:118</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_af91797dc0ab1ae005fdbf19482859eaf"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#af91797dc0ab1ae005fdbf19482859eaf">shl</a></div><div class="ttdeci">We currently generate a but we really shouldn eax ecx xorl edx divl ecx eax divl ecx movl eax ret A similar code sequence works for division We currently compile i32 v2 eax eax jo LBB1_2 shl</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l01271">README.txt:1271</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a49cd5939942c6665aba4cae8c220dff1"><div class="ttname"><a href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">llvm::APInt::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdoc">Determine if this value is zero, i.e. all bits are clear.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00366">APInt.h:366</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a3f0118e315585ef6debe98a13336ae75"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a3f0118e315585ef6debe98a13336ae75">llvm::ScalarEvolution::ScalarEvolution</a></div><div class="ttdeci">ScalarEvolution(Function &amp;F, TargetLibraryInfo &amp;TLI, AssumptionCache &amp;AC, DominatorTree &amp;DT, LoopInfo &amp;LI)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13433">ScalarEvolution.cpp:13433</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a76bca22a9253d0962fd07031c89b98e7"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a76bca22a9253d0962fd07031c89b98e7">llvm::ConstantRange::isWrappedSet</a></div><div class="ttdeci">bool isWrappedSet() const</div><div class="ttdoc">Return true if this set wraps around the unsigned domain.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00371">ConstantRange.cpp:371</a></div></div>
<div class="ttc" id="ainclude_2llvm_2Demangle_2README_8txt_html_a9d56f6c541a0ab888755f9bc198b8eca"><div class="ttname"><a href="include_2llvm_2Demangle_2README_8txt.html#a9d56f6c541a0ab888755f9bc198b8eca">f</a></div><div class="ttdeci">Itanium Name Demangler i e convert the string _Z1fv into f()&quot;. You can also use the CRTP base ManglingParser to perform some simple analysis on the mangled name</div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a6b13f2e75444202b854672a5fbf85e2e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a6b13f2e75444202b854672a5fbf85e2e">llvm::CmpInst::getNonStrictPredicate</a></div><div class="ttdeci">Predicate getNonStrictPredicate() const</div><div class="ttdoc">For example, SGT -&gt; SGE, SLT -&gt; SLE, ULT -&gt; ULE, UGT -&gt; UGE.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00903">InstrTypes.h:903</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_ae7fc2fb0e2d536219c1193f1a178e7db"><div class="ttname"><a href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a></div><div class="ttdeci">This might compile to this xmm1 xorps xmm0 movss xmm0 ret Now consider if the code caused xmm1 to get spilled This might produce this xmm1 movaps xmm0 movaps xmm1 movss xmm0 ret since the reload is only used by these we could fold it into the producing something like xmm1 movaps xmm0 ret saving two instructions The basic idea is that a reload from a spill if only one byte chunk is bring in zeros the one element instead of elements This can be used to simplify a variety of shuffle where the elements are fixed zeros This code generates ugly probably due to costs being off or&lt; 4 x float &gt; * P2</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00278">README-SSE.txt:278</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aec864950923a9913d54b8e48fc1c782b"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aec864950923a9913d54b8e48fc1c782b">VerifyIR</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; VerifyIR(&quot;scev-verify-ir&quot;, cl::Hidden, cl::desc(&quot;Verify IR correctness when making sensitive SCEV queries (slow)&quot;), cl::init(false))</div></div>
<div class="ttc" id="aPPCReduceCRLogicals_8cpp_html_a5b2aa9d3f9f3a7b2d123fef7c5328b8f"><div class="ttname"><a href="PPCReduceCRLogicals_8cpp.html#a5b2aa9d3f9f3a7b2d123fef7c5328b8f">Operation</a></div><div class="ttdeci">PowerPC Reduce CR logical Operation</div><div class="ttdef"><b>Definition:</b> <a href="PPCReduceCRLogicals_8cpp_source.html#l00735">PPCReduceCRLogicals.cpp:735</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b"><div class="ttname"><a href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b">AvailabilityState::Available</a></div><div class="ttdeci">@ Available</div><div class="ttdoc">We know the block is fully available. This is a fixpoint.</div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_afa04c31b8a224e9f4e66ba448f05e9d0"><div class="ttname"><a href="ScalarEvolution_8cpp.html#afa04c31b8a224e9f4e66ba448f05e9d0">evolution</a></div><div class="ttdeci">scalar evolution</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14347">ScalarEvolution.cpp:14347</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ae0ca564918ec63a9b4d2229374fec747"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ae0ca564918ec63a9b4d2229374fec747">llvm::ScalarEvolution::computeConstantDifference</a></div><div class="ttdeci">std::optional&lt; APInt &gt; computeConstantDifference(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Compute LHS - RHS and returns the result as an APInt if it is a constant, and std::nullopt if it isn'...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l11904">ScalarEvolution.cpp:11904</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aa36876236477c7bad67f378bec7373a0"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a></div><div class="ttdeci">static ConstantInt * EvaluateConstantChrecAtConstant(const SCEVAddRecExpr *AddRec, ConstantInt *C, ScalarEvolution &amp;SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09275">ScalarEvolution.cpp:9275</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">llvm::CmpInst::ICMP_ULE</a></div><div class="ttdeci">@ ICMP_ULE</div><div class="ttdoc">unsigned less or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00744">InstrTypes.h:744</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdeci">@ A</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00034">ARMBaseInfo.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVConstant_html_a1b3e20f5a1901b2ed4ab3dab496ab85c"><div class="ttname"><a href="classllvm_1_1SCEVConstant.html#a1b3e20f5a1901b2ed4ab3dab496ab85c">llvm::SCEVConstant::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00072">ScalarEvolutionExpressions.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a238566881f41b81cd8ff51eb1b3f4a8b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">llvm::ScalarEvolution::getUMaxExpr</a></div><div class="ttdeci">const SCEV * getUMaxExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04319">ScalarEvolution.cpp:4319</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea222c9c7b5d5e742d5d1238a3256b1ea5">llvm::scAddRecExpr</a></div><div class="ttdeci">@ scAddRecExpr</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00048">ScalarEvolutionExpressions.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a4976a99a4f39b4daee84f4f60319df03"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a4976a99a4f39b4daee84f4f60319df03">llvm::ScalarEvolution::getSequentialMinMaxExpr</a></div><div class="ttdeci">const SCEV * getSequentialMinMaxExpr(SCEVTypes Kind, SmallVectorImpl&lt; const SCEV * &gt; &amp;Operands)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04200">ScalarEvolution.cpp:4200</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a2d5c4385716b3fa4a96e879987cccedc"><div class="ttname"><a href="classllvm_1_1APInt.html#a2d5c4385716b3fa4a96e879987cccedc">llvm::APInt::getHiBits</a></div><div class="ttdeci">APInt getHiBits(unsigned numBits) const</div><div class="ttdoc">Compute an APInt containing numBits highbits from this APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00600">APInt.cpp:600</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a0e6f2069000829208cbac185a07d8082"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a0e6f2069000829208cbac185a07d8082">llvm::ConstantRange::PreferredRangeType</a></div><div class="ttdeci">PreferredRangeType</div><div class="ttdoc">If represented precisely, the result of some range operations may consist of multiple disjoint ranges...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00319">ConstantRange.h:319</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_acdbe9e14ed6edbd5b5e3c252585902ec"><div class="ttname"><a href="classllvm_1_1SCEV.html#acdbe9e14ed6edbd5b5e3c252585902ec">llvm::SCEV::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const</div><div class="ttdoc">Print out the internal representation of this scalar to the specified stream.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00269">ScalarEvolution.cpp:269</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a10f946da317366de10f25a7b59db8e72"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a10f946da317366de10f25a7b59db8e72">llvm::ScalarEvolution::getAbsExpr</a></div><div class="ttdeci">const SCEV * getAbsExpr(const SCEV *Op, bool IsNSW)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03832">ScalarEvolution.cpp:3832</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdoc">Instruction iterator methods.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00314">BasicBlock.h:314</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVTruncateExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVTruncateExpr.html">llvm::SCEVTruncateExpr</a></div><div class="ttdoc">This class represents a truncation of an integer value to a smaller integer value.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00139">ScalarEvolutionExpressions.h:139</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aba205f553f24c184ea47fc1a6cb56537"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">llvm::KnownBits::One</a></div><div class="ttdeci">APInt One</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00025">KnownBits.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9a1917da5135c7cd0431c35b583db2aa"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9a1917da5135c7cd0431c35b583db2aa">llvm::ScalarEvolution::SCEVUnknown</a></div><div class="ttdeci">friend class SCEVUnknown</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01353">ScalarEvolution.h:1353</a></div></div>
<div class="ttc" id="aOcamlGCPrinter_8cpp_html_afcf2f797ed287a723263583c9b1c1bce"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aaf6f71afe913e3f2b74d3a529f14978e"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aaf6f71afe913e3f2b74d3a529f14978e">MaxValueCompareDepth</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxValueCompareDepth(&quot;scalar-evolution-max-value-compare-depth&quot;, cl::Hidden, cl::desc(&quot;Maximum depth of recursive value complexity comparisons&quot;), cl::init(2))</div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a6c03d18ed744dc3b34829ec5485a68b0"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">llvm::ScalarEvolution::getUDivExpr</a></div><div class="ttdeci">const SCEV * getUDivExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Get a canonical unsigned division expression, or something simpler if possible.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03427">ScalarEvolution.cpp:3427</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9bbb20d12147495c229051feded37cdc"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9bbb20d12147495c229051feded37cdc">llvm::GlobalValue::isInternalLinkage</a></div><div class="ttdeci">static bool isInternalLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00398">GlobalValue.h:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a652380f28d1a7011e05d0787b6024d48"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">llvm::ConstantExpr::getPtrToInt</a></div><div class="ttdeci">static Constant * getPtrToInt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02201">Constants.cpp:2201</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_a6fb96c9b4d017d69818db581dae5bd96"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#a6fb96c9b4d017d69818db581dae5bd96">llvm::PredicatedScalarEvolution::hasNoOverflow</a></div><div class="ttdeci">bool hasNoOverflow(Value *V, SCEVWrapPredicate::IncrementWrapFlags Flags)</div><div class="ttdoc">Returns true if we've proved that V doesn't wrap by means of a SCEV predicate.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14788">ScalarEvolution.cpp:14788</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a98eb0888f30e7a27151a7b02fa053205"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a98eb0888f30e7a27151a7b02fa053205">llvm::LoopBase::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00172">LoopInfo.h:172</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00486">AMDGPUMetadata.h:486</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3d0abdf8125de904320df332dbefedb">llvm::scUMaxExpr</a></div><div class="ttdeci">@ scUMaxExpr</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00049">ScalarEvolutionExpressions.h:49</a></div></div>
<div class="ttc" id="anamespacellvm_html_a20f356124998d05f7e605549cc2dda91"><div class="ttname"><a href="namespacellvm.html#a20f356124998d05f7e605549cc2dda91">llvm::canConstantFoldCallTo</a></div><div class="ttdeci">bool canConstantFoldCallTo(const CallBase *Call, const Function *F)</div><div class="ttdoc">canConstantFoldCallTo - Return true if its even possible to fold a call to the specified function.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01495">ConstantFolding.cpp:1495</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_a3f8c92c02ddf72337cdd32207498e731"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#a3f8c92c02ddf72337cdd32207498e731">llvm::BinaryOpIntrinsic::getNoWrapKind</a></div><div class="ttdeci">unsigned getNoWrapKind() const</div><div class="ttdoc">Returns one of OBO::NoSignedWrap or OBO::NoUnsignedWrap.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00785">IntrinsicInst.cpp:785</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdeci">@ Store</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00033">SparcInstrInfo.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_aecb93439702247fe5353a9966f7cefcd"><div class="ttname"><a href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">llvm::Value::uses</a></div><div class="ttdeci">iterator_range&lt; use_iterator &gt; uses()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00376">Value.h:376</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a826d975fc7f5dbc85861415ee93a2787"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a826d975fc7f5dbc85861415ee93a2787">getUnsignedOverflowLimitForStep</a></div><div class="ttdeci">static const SCEV * getUnsignedOverflowLimitForStep(const SCEV *Step, ICmpInst::Predicate *Pred, ScalarEvolution *SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01313">ScalarEvolution.cpp:1313</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aa8d280cc2c5792b3144274e675e36385"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aa8d280cc2c5792b3144274e675e36385">llvm::ScalarEvolution::containsUndefs</a></div><div class="ttdeci">bool containsUndefs(const SCEV *S) const</div><div class="ttdoc">Return true if the SCEV expression contains an undef value.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13354">ScalarEvolution.cpp:13354</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_ace208c0bd1d845fe49f319be6a954764"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ace208c0bd1d845fe49f319be6a954764">llvm::ConstantRange::makeGuaranteedNoWrapRegion</a></div><div class="ttdeci">static ConstantRange makeGuaranteedNoWrapRegion(Instruction::BinaryOps BinOp, const ConstantRange &amp;Other, unsigned NoWrapKind)</div><div class="ttdoc">Produce the largest range containing all X such that &quot;X BinOp Y&quot; is guaranteed not to wrap (overflow)...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00285">ConstantRange.cpp:285</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ab24db72f7bd10b13351812874015861b"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a></div><div class="ttdeci">into llvm powi allowing the code generator to produce balanced multiplication trees First</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00054">README.txt:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVMulExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVMulExpr.html">llvm::SCEVMulExpr</a></div><div class="ttdoc">This node represents multiplication of some number of SCEVs.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00273">ScalarEvolutionExpressions.h:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a4a6ca5a5b87bd84231be9d8dbec46c1a"><div class="ttname"><a href="classllvm_1_1Value.html#a4a6ca5a5b87bd84231be9d8dbec46c1a">llvm::Value::getValueID</a></div><div class="ttdeci">unsigned getValueID() const</div><div class="ttdoc">Return an ID for the concrete type of this object.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00532">Value.h:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_adfb61ffe25c950c75c86310245b3ef39"><div class="ttname"><a href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">llvm::PHINode::getIncomingValueForBlock</a></div><div class="ttdeci">Value * getIncomingValueForBlock(const BasicBlock *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02889">Instructions.h:2889</a></div></div>
<div class="ttc" id="aclassSCEVLoopGuardRewriter_html_a0e0504803d48d912fc1b25aaa784c2c9"><div class="ttname"><a href="classSCEVLoopGuardRewriter.html#a0e0504803d48d912fc1b25aaa784c2c9">SCEVLoopGuardRewriter::visitSignExtendExpr</a></div><div class="ttdeci">const SCEV * visitSignExtendExpr(const SCEVSignExtendExpr *Expr)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14961">ScalarEvolution.cpp:14961</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Class to represent integer types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00040">DerivedTypes.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a5cc113cb783ab6e5ca7b69241431c19c"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a5cc113cb783ab6e5ca7b69241431c19c">llvm::LoopBase::getBlocks</a></div><div class="ttdeci">ArrayRef&lt; BlockT * &gt; getBlocks() const</div><div class="ttdoc">Get a list of the basic blocks which make up this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00188">LoopInfo.h:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a0cfd938ff9c572d287e5e7923624db70aa4c321f736f542d50b81bb06351f7fce"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70aa4c321f736f542d50b81bb06351f7fce">llvm::SCEVWrapPredicate::IncrementNSSW</a></div><div class="ttdeci">@ IncrementNSSW</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00348">ScalarEvolution.h:348</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUMaxExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVUMaxExpr.html">llvm::SCEVUMaxExpr</a></div><div class="ttdoc">This class represents an unsigned maximum selection.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00459">ScalarEvolutionExpressions.h:459</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a741e3212cc4b9d94cd549d02d26e172b"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a741e3212cc4b9d94cd549d02d26e172b">llvm::PatternMatch::m_SDiv</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::SDiv &gt; m_SDiv(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01063">PatternMatch.h:1063</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a31bf07f3f61525486633bc1d0bbaf029"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">llvm::BinaryOperator::getOpcode</a></div><div class="ttdeci">BinaryOps getOpcode() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00391">InstrTypes.h:391</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a677ac8d99ff3c2d32a95c21de9ed372c"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">llvm::PatternMatch::m_ConstantInt</a></div><div class="ttdeci">class_match&lt; ConstantInt &gt; m_ConstantInt()</div><div class="ttdoc">Match an arbitrary ConstantInt and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00147">PatternMatch.h:147</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ab93b7360d5b3cc22548317dc5b6b285e"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a></div><div class="ttdeci">static Constant * BuildConstantFromSCEV(const SCEV *V)</div><div class="ttdoc">This builds up a Constant using the ConstantExpr interface.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09761">ScalarEvolution.cpp:9761</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a60a56343d06195ae01b61d087e672afd"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">llvm::ScalarEvolution::isKnownPredicate</a></div><div class="ttdeci">bool isKnownPredicate(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Test if the given expression is known to satisfy the condition described by Pred, LHS,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10904">ScalarEvolution.cpp:10904</a></div></div>
<div class="ttc" id="anamespacellvm_html_adc4eb8be6f7a12ede962987fb9cabb47"><div class="ttname"><a href="namespacellvm.html#adc4eb8be6f7a12ede962987fb9cabb47">llvm::seq</a></div><div class="ttdeci">auto seq(T Begin, T End)</div><div class="ttdoc">Iterate over an integral type from Begin up to - but not including - End.</div><div class="ttdef"><b>Definition:</b> <a href="Sequence_8h_source.html#l00305">Sequence.h:305</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_ab7f67c2ed8b2799c64ec64ca31d75c60"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ab7f67c2ed8b2799c64ec64ca31d75c60">llvm::ConstantRange::getUnsignedMax</a></div><div class="ttdeci">APInt getUnsignedMax() const</div><div class="ttdoc">Return the largest unsigned value contained in the ConstantRange.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00422">ConstantRange.cpp:422</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a104347bf076d992f7dba551cb2efc3fb"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a104347bf076d992f7dba551cb2efc3fb">GetRangeFromMetadata</a></div><div class="ttdeci">static std::optional&lt; ConstantRange &gt; GetRangeFromMetadata(Value *V)</div><div class="ttdoc">Helper method to assign a range to V from metadata present in the IR.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06389">ScalarEvolution.cpp:6389</a></div></div>
<div class="ttc" id="aclassllvm_1_1Operator_html_aca4ffddc11c10477a4a76ada6fd5da46"><div class="ttname"><a href="classllvm_1_1Operator.html#aca4ffddc11c10477a4a76ada6fd5da46">llvm::Operator::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Return the opcode for this Instruction or ConstantExpr.</div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00041">Operator.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeWrapperPass_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeWrapperPass.html">llvm::DominatorTreeWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00314">Dominators.h:314</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ae99f51fb7f4e120a8ebeb76e3c53cf2b"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ae99f51fb7f4e120a8ebeb76e3c53cf2b">StrengthenNoWrapFlags</a></div><div class="ttdeci">static SCEV::NoWrapFlags StrengthenNoWrapFlags(ScalarEvolution *SE, SCEVTypes Type, const ArrayRef&lt; const SCEV * &gt; Ops, SCEV::NoWrapFlags Flags)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02450">ScalarEvolution.cpp:2450</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_a5a5f1a2e8e2ab96bad265dfbddd41e09"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#a5a5f1a2e8e2ab96bad265dfbddd41e09">llvm::ICmpInst::isLT</a></div><div class="ttdeci">static bool isLT(Predicate P)</div><div class="ttdoc">Return true if the predicate is SLT or ULT.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01320">Instructions.h:1320</a></div></div>
<div class="ttc" id="anamespacellvm_html_affb88623037a9864e030154052747ba1"><div class="ttname"><a href="namespacellvm.html#affb88623037a9864e030154052747ba1">llvm::SCEVExprContains</a></div><div class="ttdeci">bool SCEVExprContains(const SCEV *Root, PredTy Pred)</div><div class="ttdoc">Return true if any node in Root satisfies the predicate Pred.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00711">ScalarEvolutionExpressions.h:711</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_aaca14fdf6d151782f7ab0a66405453fb"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#aaca14fdf6d151782f7ab0a66405453fb">llvm::AllocaInst::getArraySize</a></div><div class="ttdeci">const Value * getArraySize() const</div><div class="ttdoc">Get the number of elements allocated.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00096">Instructions.h:96</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_acd72d7c4a8d8b512edaed5462e4f3e35"><div class="ttname"><a href="ScalarEvolution_8cpp.html#acd72d7c4a8d8b512edaed5462e4f3e35">isKnownPredicateExtendIdiom</a></div><div class="ttdeci">static bool isKnownPredicateExtendIdiom(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l12507">ScalarEvolution.cpp:12507</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a72516971c5734dc0f7546e64affca425"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a72516971c5734dc0f7546e64affca425">llvm::BasicBlock::phis</a></div><div class="ttdeci">iterator_range&lt; const_phi_iterator &gt; phis() const</div><div class="ttdoc">Returns a range that iterates over the phis in the basic block.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00372">BasicBlock.h:372</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aa81521f99442a5c30f9061b8c6ce795e"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aa81521f99442a5c30f9061b8c6ce795e">llvm::ConstantRange::unionWith</a></div><div class="ttdeci">ConstantRange unionWith(const ConstantRange &amp;CR, PreferredRangeType Type=Smallest) const</div><div class="ttdoc">Return the range that results from the union of this range with another range.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00626">ConstantRange.cpp:626</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a865244825dfcafa275c1f4ecb0cdb56f"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a865244825dfcafa275c1f4ecb0cdb56f">MatchBinaryOp</a></div><div class="ttdeci">static std::optional&lt; BinaryOp &gt; MatchBinaryOp(Value *V, const DataLayout &amp;DL, AssumptionCache &amp;AC, const DominatorTree &amp;DT, const Instruction *CxtI)</div><div class="ttdoc">Try to map V into a BinaryOp, and return std::nullopt on failure.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05220">ScalarEvolution.cpp:5220</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ae00c35cb040107c05f3fe00c15bb3da0"><div class="ttname"><a href="classllvm_1_1APInt.html#ae00c35cb040107c05f3fe00c15bb3da0">llvm::APInt::isIntN</a></div><div class="ttdeci">bool isIntN(unsigned N) const</div><div class="ttdoc">Check if this APInt has an N-bits unsigned integer value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00424">APInt.h:424</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a46880fab7a9d5bd439725f2acc59b80d"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a46880fab7a9d5bd439725f2acc59b80d">llvm::LoopBase::getExitingBlocks</a></div><div class="ttdeci">void getExitingBlocks(SmallVectorImpl&lt; BlockT * &gt; &amp;ExitingBlocks) const</div><div class="ttdoc">Return all blocks inside the loop that have successors outside of the loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00033">LoopInfoImpl.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6de4882dde0c939a449377f8f8abb8a8"><div class="ttname"><a href="namespacellvm.html#a6de4882dde0c939a449377f8f8abb8a8">llvm::isMustProgress</a></div><div class="ttdeci">bool isMustProgress(const Loop *L)</div><div class="ttdoc">Return true if this loop can be assumed to make progress.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l01118">LoopInfo.cpp:1118</a></div></div>
<div class="ttc" id="aclassllvm_1_1FoldingSetNodeID_html_a125b61baad82a2f182c601a117d7d6f4"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeID.html#a125b61baad82a2f182c601a117d7d6f4">llvm::FoldingSetNodeID::AddInteger</a></div><div class="ttdeci">void AddInteger(signed I)</div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8h_source.html#l00339">FoldingSet.h:339</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11b"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11b">llvm::ARM_PROC::IFlags</a></div><div class="ttdeci">IFlags</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00031">ARMBaseInfo.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionWrapperPass_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionWrapperPass.html">llvm::ScalarEvolutionWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l02249">ScalarEvolution.h:2249</a></div></div>
<div class="ttc" id="aARCInstrInfo_8cpp_html_a5d6e37f3d036496321824378223ad718a1673ee57164ca23d9545b629b55e08d2"><div class="ttname"><a href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a1673ee57164ca23d9545b629b55e08d2">PostInc</a></div><div class="ttdeci">@ PostInc</div><div class="ttdef"><b>Definition:</b> <a href="ARCInstrInfo_8cpp_source.html#l00034">ARCInstrInfo.cpp:34</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVComparePredicate_html_a039023d2ca9307063c76f6d5c67b9213"><div class="ttname"><a href="classllvm_1_1SCEVComparePredicate.html#a039023d2ca9307063c76f6d5c67b9213">llvm::SCEVComparePredicate::SCEVComparePredicate</a></div><div class="ttdeci">SCEVComparePredicate(const FoldingSetNodeIDRef ID, const ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14580">ScalarEvolution.cpp:14580</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVNAryExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html">llvm::SCEVNAryExpr</a></div><div class="ttdoc">This node is a base class providing common functionality for n'ary operators.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00179">ScalarEvolutionExpressions.h:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a0e6f2069000829208cbac185a07d8082ade1662f5186fd8852b4dcce8eb6563bc"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a0e6f2069000829208cbac185a07d8082ade1662f5186fd8852b4dcce8eb6563bc">llvm::ConstantRange::Unsigned</a></div><div class="ttdeci">@ Unsigned</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00319">ConstantRange.h:319</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00687">SmallVector.h:687</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aabc0af41b4437080b27002ed7a1ed656"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">llvm::KnownBits::isNegative</a></div><div class="ttdeci">bool isNegative() const</div><div class="ttdoc">Returns true if this value is known to be negative.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00096">KnownBits.h:96</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_abecd77701103d573678565f83c35ce45"><div class="ttname"><a href="ScalarEvolution_8cpp.html#abecd77701103d573678565f83c35ce45">MaxAddRecSize</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxAddRecSize(&quot;scalar-evolution-max-add-rec-size&quot;, cl::Hidden, cl::desc(&quot;Max coefficients in AddRec during evolving&quot;), cl::init(8))</div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_1_1Invalidator_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager_1_1Invalidator.html">llvm::AnalysisManager::Invalidator</a></div><div class="ttdoc">API to communicate dependencies between analyses during invalidation.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00661">PassManager.h:661</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a48216fb35fa09727a5717cd28faca9bf"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a48216fb35fa09727a5717cd28faca9bf">llvm::ScalarEvolution::getCastExpr</a></div><div class="ttdeci">const SCEV * getCastExpr(SCEVTypes Kind, const SCEV *Op, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02190">ScalarEvolution.cpp:2190</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aebb9acb35b4f5ae7f3c6399eb088c082"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aebb9acb35b4f5ae7f3c6399eb088c082">SolveQuadraticAddRecRange</a></div><div class="ttdeci">static std::optional&lt; APInt &gt; SolveQuadraticAddRecRange(const SCEVAddRecExpr *AddRec, const ConstantRange &amp;Range, ScalarEvolution &amp;SE)</div><div class="ttdoc">Let c(n) be the value of the quadratic chrec {0,+,M,+,N} after n iterations.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10285">ScalarEvolution.cpp:10285</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_adf6f53d7652b471c995b7d10f3dd2729"><div class="ttname"><a href="classllvm_1_1LoopBase.html#adf6f53d7652b471c995b7d10f3dd2729">llvm::LoopBase::getExitingBlock</a></div><div class="ttdeci">BlockT * getExitingBlock() const</div><div class="ttdoc">If getExitingBlocks would return exactly one block, return that block.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00048">LoopInfoImpl.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a04b4ad79ea8ce56e62e0e0323d302eec"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a04b4ad79ea8ce56e62e0e0323d302eec">llvm::ConstantRange::add</a></div><div class="ttdeci">ConstantRange add(const ConstantRange &amp;Other) const</div><div class="ttdoc">Return a new range representing the possible values resulting from an addition of a value in this ran...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00986">ConstantRange.cpp:986</a></div></div>
<div class="ttc" id="aPatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a71a4a4e0f6178682ef05a0d85891e5a9"><div class="ttname"><a href="namespacellvm.html#a71a4a4e0f6178682ef05a0d85891e5a9">llvm::impliesPoison</a></div><div class="ttdeci">bool impliesPoison(const Value *ValAssumedPoison, const Value *V)</div><div class="ttdoc">Return true if V is poison given that ValAssumedPoison is already poison.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05442">ValueTracking.cpp:5442</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a29cffc9779968caccc3dd405819e55f5"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a29cffc9779968caccc3dd405819e55f5">llvm::ScalarEvolution::getEqualPredicate</a></div><div class="ttdeci">const SCEVPredicate * getEqualPredicate(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14386">ScalarEvolution.cpp:14386</a></div></div>
<div class="ttc" id="anamespacellvm_html_aad80b46c754cc7216244a866ec9b1cb0"><div class="ttname"><a href="namespacellvm.html#aad80b46c754cc7216244a866ec9b1cb0">llvm::isIntN</a></div><div class="ttdeci">bool isIntN(unsigned N, int64_t x)</div><div class="ttdoc">Checks if an signed integer fits into the given (dynamic) bit width.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00261">MathExtras.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aef51af4b490af6b3bf2dfbc8737a8f9f"><div class="ttname"><a href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const</div><div class="ttdoc">Return the number of incoming edges.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02790">Instructions.h:2790</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aea8979aa7e40386835642f9f5f9f36d2"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a></div><div class="ttdeci">static bool HasSameValue(const SCEV *A, const SCEV *B)</div><div class="ttdoc">SCEV structural equivalence is usually sufficient for testing whether two expressions are equal,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10593">ScalarEvolution.cpp:10593</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnknown_html_ad283d1c0fce4419724a8321c7878e12c"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html#ad283d1c0fce4419724a8321c7878e12c">llvm::SCEVUnknown::getValue</a></div><div class="ttdeci">Value * getValue() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00580">ScalarEvolutionExpressions.h:580</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa82bb12b2879425012b3742487e10964"><div class="ttname"><a href="namespacellvm.html#aa82bb12b2879425012b3742487e10964">llvm::erase_value</a></div><div class="ttdeci">void erase_value(Container &amp;C, ValueType V)</div><div class="ttdoc">Wrapper function to remove a value from a container:</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02006">STLExtras.h:2006</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a3e24c91db8604ae3ee873162c89749d3"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a3e24c91db8604ae3ee873162c89749d3">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(ScalarEvolutionWrapperPass, &quot;scalar-evolution&quot;, &quot;Scalar Evolution Analysis&quot;, false, true) INITIALIZE_PASS_END(ScalarEvolutionWrapperPass</div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830ea1c692ed4bf463fb08fca4d8cb8201ac0"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea1c692ed4bf463fb08fca4d8cb8201ac0">llvm::RecurKind::UMin</a></div><div class="ttdeci">@ UMin</div><div class="ttdoc">Unisgned integer min implemented in terms of select(cmp()).</div></div>
<div class="ttc" id="aIR_2CFG_8h_html"><div class="ttname"><a href="IR_2CFG_8h.html">CFG.h</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aa4ab138d4aa4beb5e35a996d3bd21765"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aa4ab138d4aa4beb5e35a996d3bd21765">gcd</a></div><div class="ttdeci">APInt gcd(const SCEVConstant *C1, const SCEVConstant *C2)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03581">ScalarEvolution.cpp:3581</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a81a7153270eb1fafa4502adc85f49adf"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a81a7153270eb1fafa4502adc85f49adf">hasHugeExpression</a></div><div class="ttdeci">static bool hasHugeExpression(ArrayRef&lt; const SCEV * &gt; Ops)</div><div class="ttdoc">Returns true if Ops contains a huge SCEV (the subtree of S contains at least HugeExprThreshold nodes)...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00905">ScalarEvolution.cpp:905</a></div></div>
<div class="ttc" id="aLoopInfo_8h_html"><div class="ttname"><a href="LoopInfo_8h.html">LoopInfo.h</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ae2603e5d4afe9b5515729fb37e74fa36"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ae2603e5d4afe9b5515729fb37e74fa36">createNodeForSelectViaUMinSeq</a></div><div class="ttdeci">static std::optional&lt; const SCEV * &gt; createNodeForSelectViaUMinSeq(ScalarEvolution *SE, const SCEV *CondExpr, const SCEV *TrueExpr, const SCEV *FalseExpr)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06219">ScalarEvolution.cpp:6219</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_aac456a62894c9f0f8e9f06373bbf40f0"><div class="ttname"><a href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">llvm::BranchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03220">Instructions.h:3220</a></div></div>
<div class="ttc" id="aMIRNamerPass_8cpp_html_a05e4be4ec3e2c3587dda0e376bb6822c"><div class="ttname"><a href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a></div><div class="ttdeci">mir Rename Register Operands</div><div class="ttdef"><b>Definition:</b> <a href="MIRNamerPass_8cpp_source.html#l00074">MIRNamerPass.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_a87b23e247f35b163544f1ce8e920801c"><div class="ttname"><a href="classllvm_1_1SCEV.html#a87b23e247f35b163544f1ce8e920801c">llvm::SCEV::isNonConstantNegative</a></div><div class="ttdeci">bool isNonConstantNegative() const</div><div class="ttdoc">Return true if the specified scev is negated, but not a constant.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00478">ScalarEvolution.cpp:478</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a30bd18ac905eacf3601bc6a553a9ff49"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">llvm::ScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdoc">Return a SCEV expression for the full generality of the specified expression.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04534">ScalarEvolution.cpp:4534</a></div></div>
<div class="ttc" id="anamespacellvm_html_acb22fb04083152eee862457e42e8dc31"><div class="ttname"><a href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">llvm::predecessors</a></div><div class="ttdeci">auto predecessors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01266">MachineBasicBlock.h:1266</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a267fd27cb9e177fa5f48cbb8828339a1"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a267fd27cb9e177fa5f48cbb8828339a1">llvm::ScalarEvolution::willNotOverflow</a></div><div class="ttdeci">bool willNotOverflow(Instruction::BinaryOps BinOp, bool Signed, const SCEV *LHS, const SCEV *RHS, const Instruction *CtxI=nullptr)</div><div class="ttdoc">Is operation BinOp between LHS and RHS provably does not have a signed/unsigned overflow (Signed)?...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02342">ScalarEvolution.cpp:2342</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ae7a40d693574be8048944e80774e6c1d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ae7a40d693574be8048944e80774e6c1d">llvm::ScalarEvolution::SplitIntoInitAndPostInc</a></div><div class="ttdeci">std::pair&lt; const SCEV *, const SCEV * &gt; SplitIntoInitAndPostInc(const Loop *L, const SCEV *S)</div><div class="ttdoc">Splits SCEV expression S into two SCEVs.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10842">ScalarEvolution.cpp:10842</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ac7ccf429f5c75676bdacadf3c9d1c7fa"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac7ccf429f5c75676bdacadf3c9d1c7fa">llvm::ScalarEvolution::dominates</a></div><div class="ttdeci">bool dominates(const SCEV *S, const BasicBlock *BB)</div><div class="ttdoc">Return true if elements that makes up the given SCEV dominate the specified basic block.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13857">ScalarEvolution.cpp:13857</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_aa1aac224801967b8ca7361a4a71b36f7"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#aa1aac224801967b8ca7361a4a71b36f7">llvm::PredicatedScalarEvolution::areAddRecsEqualWithPreds</a></div><div class="ttdeci">bool areAddRecsEqualWithPreds(const SCEVAddRecExpr *AR1, const SCEVAddRecExpr *AR2) const</div><div class="ttdoc">Check if AR1 and AR2 are equal, while taking into account Equal predicates in Preds.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05679">ScalarEvolution.cpp:5679</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aec662ee6ab1490a4cabebf2812e5b9ca"><div class="ttname"><a href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">llvm::APInt::getOneBitSet</a></div><div class="ttdeci">static APInt getOneBitSet(unsigned numBits, unsigned BitNo)</div><div class="ttdoc">Return an APInt with exactly one bit set in the result.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00222">APInt.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_abec0c616087c002528fcf80c6583eadd"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#abec0c616087c002528fcf80c6583eadd">llvm::ScalarEvolution::getSmallConstantTripCount</a></div><div class="ttdeci">unsigned getSmallConstantTripCount(const Loop *L)</div><div class="ttdoc">Returns the exact trip count of the loop if we can compute it, and the result is a small constant.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08105">ScalarEvolution.cpp:8105</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_af8a50544090e81ac83601aff8f4b0142"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">llvm::SmallPtrSetImplBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00092">SmallPtrSet.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a4cd909a15a97a10de847579ea5e9f46a"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a4cd909a15a97a10de847579ea5e9f46a">llvm::ScalarEvolution::evaluatePredicate</a></div><div class="ttdeci">std::optional&lt; bool &gt; evaluatePredicate(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Check whether the condition described by Pred, LHS, and RHS is true or false.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10919">ScalarEvolution.cpp:10919</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_ac233a2693163ed58305215ca2f6921e3"><div class="ttname"><a href="classllvm_1_1Loop.html#ac233a2693163ed58305215ca2f6921e3">llvm::Loop::isLoopSimplifyForm</a></div><div class="ttdeci">bool isLoopSimplifyForm() const</div><div class="ttdoc">Return true if the Loop is in the form that the LoopSimplify form transforms loops to,...</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00479">LoopInfo.cpp:479</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_af238147cf5453729781a0fcc7322e1c6"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">llvm::ConstantExpr::getTrunc</a></div><div class="ttdeci">static Constant * getTrunc(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02091">Constants.cpp:2091</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01410">CommandLine.h:1410</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_adad8e587f6b3e82c1b7207639c08fc58"><div class="ttname"><a href="ScalarEvolution_8cpp.html#adad8e587f6b3e82c1b7207639c08fc58">SolveLinEquationWithOverflow</a></div><div class="ttdeci">static const SCEV * SolveLinEquationWithOverflow(const APInt &amp;A, const SCEV *B, ScalarEvolution &amp;SE)</div><div class="ttdoc">Finds the minimum unsigned root of the following equation:</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10101">ScalarEvolution.cpp:10101</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a636ddf018d314a1d73f98e2fa4efbafb"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a636ddf018d314a1d73f98e2fa4efbafb">llvm::ConstantRange::zeroExtend</a></div><div class="ttdeci">ConstantRange zeroExtend(uint32_t BitWidth) const</div><div class="ttdoc">Return a new range in the specified integer type, which must be strictly larger than the current type...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00768">ConstantRange.cpp:768</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_adafa9575780f9246d1df0b7e2a619356"><div class="ttname"><a href="classllvm_1_1APInt.html#adafa9575780f9246d1df0b7e2a619356">llvm::APInt::slt</a></div><div class="ttdeci">bool slt(const APInt &amp;RHS) const</div><div class="ttdoc">Signed less than comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01108">APInt.h:1108</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html"><div class="ttname"><a href="classllvm_1_1SCEV.html">llvm::SCEV</a></div><div class="ttdoc">This class represents an analyzed expression in the program.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00075">ScalarEvolution.h:75</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e3e687ddfdcbacd404bcf17b917dd88"><div class="ttname"><a href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">llvm::instructions</a></div><div class="ttdeci">inst_range instructions(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00133">InstIterator.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a830ba09d5969cd66878b05c17fdf66b6"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a830ba09d5969cd66878b05c17fdf66b6">llvm::ScalarEvolution::forgetBlockAndLoopDispositions</a></div><div class="ttdeci">void forgetBlockAndLoopDispositions(Value *V=nullptr)</div><div class="ttdoc">Called when the client has changed the disposition of values in a loop or block.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08552">ScalarEvolution.cpp:8552</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00026">PPCPredicates.h:26</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba88a797f57846adb2c382b3732b471913"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba88a797f57846adb2c382b3732b471913">llvm::MipsISD::Ext</a></div><div class="ttdeci">@ Ext</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00159">MipsISelLowering.h:159</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_ad7f81241f958a1f5917a3410942d3199"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ad7f81241f958a1f5917a3410942d3199">llvm::ConstantRange::getBitWidth</a></div><div class="ttdeci">uint32_t getBitWidth() const</div><div class="ttdoc">Get the bit width of this ConstantRange.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00204">ConstantRange.h:204</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a350f4fdc01c770b5cf6a8be2624ae3e5"><div class="ttname"><a href="classllvm_1_1Instruction.html#a350f4fdc01c770b5cf6a8be2624ae3e5">llvm::Instruction::hasNoSignedWrap</a></div><div class="ttdeci">bool hasNoSignedWrap() const LLVM_READONLY</div><div class="ttdoc">Determine whether the no signed wrap flag is set.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00177">Instruction.cpp:177</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_aa10ee7493bddf2c751ca6e05451ef410"><div class="ttname"><a href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aff82c03c1ce8b945170bcb1f0f624c17"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aff82c03c1ce8b945170bcb1f0f624c17">llvm::ScalarEvolution::verify</a></div><div class="ttdeci">void verify() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14026">ScalarEvolution.cpp:14026</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aa6a8e1063693697569fead19a720c43c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aa6a8e1063693697569fead19a720c43c">llvm::ScalarEvolution::getStrengthenedNoWrapFlagsFromBinOp</a></div><div class="ttdeci">std::optional&lt; SCEV::NoWrapFlags &gt; getStrengthenedNoWrapFlagsFromBinOp(const OverflowingBinaryOperator *OBO)</div><div class="ttdoc">Parse NSW/NUW flags from add/sub/mul IR binary operation Op into SCEV no-wrap flags,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02402">ScalarEvolution.cpp:2402</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_adc9e269a5cfb75ab636976cd2997f112"><div class="ttname"><a href="ScalarEvolution_8cpp.html#adc9e269a5cfb75ab636976cd2997f112">ClassifyExpressions</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClassifyExpressions(&quot;scalar-evolution-classify-expressions&quot;, cl::Hidden, cl::init(true), cl::desc(&quot;When printing analysis, include information on every instruction&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a8db49fd5069f21d514e7bb0fd11f0902"><div class="ttname"><a href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a></div><div class="ttdeci">static PointerType * getUnqual(Type *ElementType)</div><div class="ttdoc">This constructs a pointer to an object of the specified type in the default address space (address sp...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00651">DerivedTypes.h:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ac8de32f4d40eae96f0e26f0728682c2e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac8de32f4d40eae96f0e26f0728682c2e">llvm::ScalarEvolution::getUnsignedRangeMax</a></div><div class="ttdeci">APInt getUnsignedRangeMax(const SCEV *S)</div><div class="ttdoc">Determine the max of the unsigned range for a particular SCEV.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00974">ScalarEvolution.h:974</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adf4e7878fc0b3b8dcde545178564190d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">llvm::DenseMapBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00110">DenseMap.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html"><div class="ttname"><a href="classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">This instruction compares its operands according to the predicate given to the constructor.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01197">Instructions.h:1197</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab1772fd431decccb7926d484ea223db7"><div class="ttname"><a href="namespacellvm.html#ab1772fd431decccb7926d484ea223db7">llvm::count</a></div><div class="ttdeci">auto count(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::count to count the number of times an element Element occurs in the give...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01896">STLExtras.h:1896</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_1_1FoldID_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolution_1_1FoldID.html">llvm::ScalarEvolution::FoldID</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01299">ScalarEvolution.h:1299</a></div></div>
<div class="ttc" id="aSaveAndRestore_8h_html"><div class="ttname"><a href="SaveAndRestore_8h.html">SaveAndRestore.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfoWrapperPass.html">llvm::TargetLibraryInfoWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00565">TargetLibraryInfo.h:565</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a68f0233de81fa48662571534730a3ad6"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a68f0233de81fa48662571534730a3ad6">llvm::ScalarEvolution::isKnownOnEveryIteration</a></div><div class="ttdeci">bool isKnownOnEveryIteration(ICmpInst::Predicate Pred, const SCEVAddRecExpr *LHS, const SCEV *RHS)</div><div class="ttdoc">Test if the condition described by Pred, LHS, RHS is known to be true on every iteration of the loop ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10953">ScalarEvolution.cpp:10953</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionAnalysis_html_acbc87d909d53e5f43fde82950e15b59d"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionAnalysis.html#acbc87d909d53e5f43fde82950e15b59d">llvm::ScalarEvolutionAnalysis::run</a></div><div class="ttdeci">ScalarEvolution run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14316">ScalarEvolution.cpp:14316</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a6c03477d3ea04e382431f02a0f21aa41"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a6c03477d3ea04e382431f02a0f21aa41">llvm::ConstantRange::getSignedMin</a></div><div class="ttdeci">APInt getSignedMin() const</div><div class="ttdoc">Return the smallest signed value contained in the ConstantRange.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00440">ConstantRange.cpp:440</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9b3e98e22aeae5783a4c2ed7bd823050"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9b3e98e22aeae5783a4c2ed7bd823050">llvm::ScalarEvolution::instructionCouldExistWitthOperands</a></div><div class="ttdeci">bool instructionCouldExistWitthOperands(const SCEV *A, const SCEV *B)</div><div class="ttdoc">Return true if there exists a point in the program at which both A and B could be operands to the sam...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04452">ScalarEvolution.cpp:4452</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_af1691ba36ec490f734755ccc9c0d4c95"><div class="ttname"><a href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a></div><div class="ttdeci">static bool canConstantEvolve(Instruction *I, const Loop *L)</div><div class="ttdoc">Determine whether this instruction can constant evolve within this loop assuming its operands can all...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09443">ScalarEvolution.cpp:9443</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a1a06b1cff93069d7403ea03e6150e386"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a1a06b1cff93069d7403ea03e6150e386">llvm::PatternMatch::m_LogicalOr</a></div><div class="ttdeci">LogicalOp_match&lt; LHS, RHS, Instruction::Or &gt; m_LogicalOr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches L || R either in the form of L | R or L ? true : R.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02574">PatternMatch.h:2574</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a100c666f9253331dd1d166a863248326"><div class="ttname"><a href="classllvm_1_1Instruction.html#a100c666f9253331dd1d166a863248326">llvm::Instruction::hasNoUnsignedWrap</a></div><div class="ttdeci">bool hasNoUnsignedWrap() const LLVM_READONLY</div><div class="ttdoc">Determine whether the no unsigned wrap flag is set.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00173">Instruction.cpp:173</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a7026c24c62fdbb46fe47dce8688c6943"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a7026c24c62fdbb46fe47dce8688c6943">getSignedOverflowLimitForStep</a></div><div class="ttdeci">static const SCEV * getSignedOverflowLimitForStep(const SCEV *Step, ICmpInst::Predicate *Pred, ScalarEvolution *SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01293">ScalarEvolution.cpp:1293</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_a757ce31dd838b17c024287ce9d17c4c2"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#a757ce31dd838b17c024287ce9d17c4c2">llvm::PredicatedScalarEvolution::setNoOverflow</a></div><div class="ttdeci">void setNoOverflow(Value *V, SCEVWrapPredicate::IncrementWrapFlags Flags)</div><div class="ttdoc">Proves that V doesn't overflow by adding SCEV predicate.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14772">ScalarEvolution.cpp:14772</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00652">GlobalValue.h:652</a></div></div>
<div class="ttc" id="anamespacellvm_html_a086e9fbdb06276db7753101a08a63adf"><div class="ttname"><a href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">llvm::find</a></div><div class="ttdeci">auto find(R &amp;&amp;Range, const T &amp;Val)</div><div class="ttdoc">Provide wrappers to std::find which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01755">STLExtras.h:1755</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a3d0e3c8c4929835ce78f942191d8d719"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a3d0e3c8c4929835ce78f942191d8d719">llvm::DenseMapBase::find_as</a></div><div class="ttdeci">iterator find_as(const LookupKeyT &amp;Val)</div><div class="ttdoc">Alternate version of find() which allows a different, and possibly less expensive,...</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00175">DenseMap.h:175</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a0d1d4b1c8787f465ce2c144757731f12"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">llvm::ScalarEvolution::getSMaxExpr</a></div><div class="ttdeci">const SCEV * getSMaxExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04310">ScalarEvolution.cpp:4310</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionAnalysis_html"><div class="ttname"><a href="classllvm_1_1AssumptionAnalysis.html">llvm::AssumptionAnalysis</a></div><div class="ttdoc">A function analysis which provides an AssumptionCache.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00173">AssumptionCache.h:173</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_abf313eff420b7c6c8e322a2e9c53cd90"><div class="ttname"><a href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">llvm::Type::isIntOrPtrTy</a></div><div class="ttdeci">bool isIntOrPtrTy() const</div><div class="ttdoc">Return true if this is an integer type or a pointer type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00237">Type.h:237</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eadd4a8d5cb0d78c9be22d01e1546bafc6">llvm::scZeroExtend</a></div><div class="ttdeci">@ scZeroExtend</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00043">ScalarEvolutionExpressions.h:43</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="astructllvm_1_1SCEVCouldNotCompute_html_ad3cca751f8e7a761a113ee2414a5c05c"><div class="ttname"><a href="structllvm_1_1SCEVCouldNotCompute.html#ad3cca751f8e7a761a113ee2414a5c05c">llvm::SCEVCouldNotCompute::classof</a></div><div class="ttdeci">static bool classof(const SCEV *S)</div><div class="ttdoc">Methods for support type inquiry through isa, cast, and dyn_cast:</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00493">ScalarEvolution.cpp:493</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a489f02dd88052216487026291385d55c"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a489f02dd88052216487026291385d55c">SolveQuadraticAddRecExact</a></div><div class="ttdeci">static std::optional&lt; APInt &gt; SolveQuadraticAddRecExact(const SCEVAddRecExpr *AddRec, ScalarEvolution &amp;SE)</div><div class="ttdoc">Let c(n) be the value of the quadratic chrec {L,+,M,+,N} after n iterations.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10252">ScalarEvolution.cpp:10252</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_acfba20b8f0ef37236f824d176fcab288"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#acfba20b8f0ef37236f824d176fcab288">llvm::ScalarEvolution::getLoopInvariantExitCondDuringFirstIterations</a></div><div class="ttdeci">std::optional&lt; LoopInvariantPredicate &gt; getLoopInvariantExitCondDuringFirstIterations(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS, const Loop *L, const Instruction *CtxI, const SCEV *MaxIter)</div><div class="ttdoc">If the result of the predicate LHS Pred RHS is loop invariant with respect to L at given Context duri...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l11112">ScalarEvolution.cpp:11112</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a4c988623d29704e30a5a77e046efe68b"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a4c988623d29704e30a5a77e046efe68b">VerifySCEVOpt</a></div><div class="ttdeci">static cl::opt&lt; bool, true &gt; VerifySCEVOpt(&quot;verify-scev&quot;, cl::Hidden, cl::location(VerifySCEV), cl::desc(&quot;Verify ScalarEvolution's backedge taken counts (slow)&quot;))</div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a7028dc2baa72be21dbd21d5d4d1d677f"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a7028dc2baa72be21dbd21d5d4d1d677f">EvaluateExpression</a></div><div class="ttdeci">static Constant * EvaluateExpression(Value *V, const Loop *L, DenseMap&lt; Instruction *, Constant * &gt; &amp;Vals, const DataLayout &amp;DL, const TargetLibraryInfo *TLI)</div><div class="ttdoc">EvaluateExpression - Given an expression that passes the getConstantEvolvingPHI predicate,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09519">ScalarEvolution.cpp:9519</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVComparePredicate_html"><div class="ttname"><a href="classllvm_1_1SCEVComparePredicate.html">llvm::SCEVComparePredicate</a></div><div class="ttdoc">This class represents an assumption that the expression LHS Pred RHS evaluates to true,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00281">ScalarEvolution.h:281</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea3a80b1a7dda48464be1849ee1fb85868">llvm::scAddExpr</a></div><div class="ttdeci">@ scAddExpr</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00045">ScalarEvolutionExpressions.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">llvm::SCEV::FlagNSW</a></div><div class="ttdeci">@ FlagNSW</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00134">ScalarEvolution.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a3cc216ff1aa29e15999df96770a870bf"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a3cc216ff1aa29e15999df96770a870bf">llvm::ScalarEvolution::getSmallConstantMaxTripCount</a></div><div class="ttdeci">unsigned getSmallConstantMaxTripCount(const Loop *L)</div><div class="ttdoc">Returns the upper bound of the loop trip count as a normal unsigned value.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08121">ScalarEvolution.cpp:8121</a></div></div>
<div class="ttc" id="astructllvm_1_1AnalysisKey_html"><div class="ttname"><a href="structllvm_1_1AnalysisKey.html">llvm::AnalysisKey</a></div><div class="ttdoc">A special type used by analysis passes to provide an address that identifies that particular analysis...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00069">PassManager.h:69</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_af48cae27e88c749514d63d3eafb4dc3c"><div class="ttname"><a href="ScalarEvolution_8cpp.html#af48cae27e88c749514d63d3eafb4dc3c">VerifySCEVMap</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; VerifySCEVMap(&quot;verify-scev-maps&quot;, cl::Hidden, cl::desc(&quot;Verify no dangling value in ScalarEvolution's &quot; &quot;ExprValueMap (slow)&quot;))</div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_ad37302702bbcf0028581d2655698c27aa5fb63579fc981698f97d55bfecb213ea"><div class="ttname"><a href="namespacellvm_1_1codeview.html#ad37302702bbcf0028581d2655698c27aa5fb63579fc981698f97d55bfecb213ea">llvm::codeview::FrameCookieKind::Copy</a></div><div class="ttdeci">@ Copy</div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a0daed958320635f1a9d440819f5bd487"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a0daed958320635f1a9d440819f5bd487">llvm::ScalarEvolution::getUDivCeilSCEV</a></div><div class="ttdeci">const SCEV * getUDivCeilSCEV(const SCEV *N, const SCEV *D)</div><div class="ttdoc">Compute ceil(N / D).</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l12673">ScalarEvolution.cpp:12673</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">llvm::SCEV::FlagAnyWrap</a></div><div class="ttdeci">@ FlagAnyWrap</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00131">ScalarEvolution.h:131</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_af6d5cafbdfc5313e65d990120021a3ec"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a></div><div class="ttdeci">basic Basic Alias true</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l01804">BasicAliasAnalysis.cpp:1804</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefab1761348a1f6ac41658c85ffdd2d9361">llvm::ScalarEvolution::Exact</a></div><div class="ttdeci">@ Exact</div><div class="ttdoc">An expression exactly describing the number of times the backedge has executed when a loop is exited.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00859">ScalarEvolution.h:859</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a7a7c8e0e4f836c13c015b62e18f386bd"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a7a7c8e0e4f836c13c015b62e18f386bd">llvm::LoopInfoBase::getLoopFor</a></div><div class="ttdeci">LoopT * getLoopFor(const BlockT *BB) const</div><div class="ttdoc">Return the inner most loop that BB lives in.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00992">LoopInfo.h:992</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">llvm::ScalarEvolution::LoopDisposition</a></div><div class="ttdeci">LoopDisposition</div><div class="ttdoc">An enum describing the relationship between a SCEV and a loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00457">ScalarEvolution.h:457</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a4f28ee6ec3dad0938d2660c56168d91d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a4f28ee6ec3dad0938d2660c56168d91d">llvm::ScalarEvolution::getPtrToIntExpr</a></div><div class="ttdeci">const SCEV * getPtrToIntExpr(const SCEV *Op, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01185">ScalarEvolution.cpp:1185</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVNAryExpr_html_a6429bca8fd0024ceb2d76ccaace43c4e"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a6429bca8fd0024ceb2d76ccaace43c4e">llvm::SCEVNAryExpr::hasNoSelfWrap</a></div><div class="ttdeci">bool hasNoSelfWrap() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00217">ScalarEvolutionExpressions.h:217</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aa3e7344b86ba444cc1eb0c20fece4629"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aa3e7344b86ba444cc1eb0c20fece4629">llvm::ScalarEvolution::getSymbolicMaxBackedgeTakenCount</a></div><div class="ttdeci">const SCEV * getSymbolicMaxBackedgeTakenCount(const Loop *L)</div><div class="ttdoc">When successful, this returns a SCEV that is greater than or equal to (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00906">ScalarEvolution.h:906</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVCastExpr_html_acb400ab122ec2c7e1222c7dc7eac079e"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html#acb400ab122ec2c7e1222c7dc7eac079e">llvm::SCEVCastExpr::SCEVCastExpr</a></div><div class="ttdeci">SCEVCastExpr(const FoldingSetNodeIDRef ID, SCEVTypes SCEVTy, const SCEV *op, Type *ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00518">ScalarEvolution.cpp:518</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a0bf0cf316748d2fb01a45268ffc10a02"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a0bf0cf316748d2fb01a45268ffc10a02">getConstantTripCount</a></div><div class="ttdeci">static unsigned getConstantTripCount(const SCEVConstant *ExitCount)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08091">ScalarEvolution.cpp:8091</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_acc4dac0533a40c07820a7df7b8f61178"><div class="ttname"><a href="ScalarEvolution_8cpp.html#acc4dac0533a40c07820a7df7b8f61178">MaxCastDepth</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxCastDepth(&quot;scalar-evolution-max-cast-depth&quot;, cl::Hidden, cl::desc(&quot;Maximum depth of recursive SExt/ZExt/Trunc&quot;), cl::init(8))</div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUDivExpr_html_af273c9351671a7ca11b52de9215f48f8"><div class="ttname"><a href="classllvm_1_1SCEVUDivExpr.html#af273c9351671a7ca11b52de9215f48f8">llvm::SCEVUDivExpr::getLHS</a></div><div class="ttdeci">const SCEV * getLHS() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00299">ScalarEvolutionExpressions.h:299</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVRewriteVisitor_html"><div class="ttname"><a href="classllvm_1_1SCEVRewriteVisitor.html">llvm::SCEVRewriteVisitor</a></div><div class="ttdoc">This visitor recursively visits a SCEV expression and re-writes it.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00738">ScalarEvolutionExpressions.h:738</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a05ef50c1573b919a575fccb31cc523b4"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a05ef50c1573b919a575fccb31cc523b4">llvm::ConstantRange::zextOrTrunc</a></div><div class="ttdeci">ConstantRange zextOrTrunc(uint32_t BitWidth) const</div><div class="ttdoc">Make this range have the bit width given by BitWidth.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00857">ConstantRange.cpp:857</a></div></div>
<div class="ttc" id="anamespacellvm_html_aab02db480f387fca92956ef1c9a01941"><div class="ttname"><a href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941">llvm::simplifyInstruction</a></div><div class="ttdeci">Value * simplifyInstruction(Instruction *I, const SimplifyQuery &amp;Q, OptimizationRemarkEmitter *ORE=nullptr)</div><div class="ttdoc">See if we can compute a simplified version of this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06731">InstructionSimplify.cpp:6731</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a0c4bbda5ef8e9a540227326b3982f2e9"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">llvm::ScalarEvolution::isLoopBackedgeGuardedByCond</a></div><div class="ttdeci">bool isLoopBackedgeGuardedByCond(const Loop *L, ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Test whether the backedge of the loop is protected by a conditional between LHS and RHS.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l11373">ScalarEvolution.cpp:11373</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVComparePredicate_html_a51039023359472095dda408272dad47c"><div class="ttname"><a href="classllvm_1_1SCEVComparePredicate.html#a51039023359472095dda408272dad47c">llvm::SCEVComparePredicate::isAlwaysTrue</a></div><div class="ttdeci">bool isAlwaysTrue() const override</div><div class="ttdoc">Returns true if the predicate is always true.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14600">ScalarEvolution.cpp:14600</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a825476b2436eb817b735fdd34ee521c4"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a825476b2436eb817b735fdd34ee521c4">llvm::KnownBits::getMaxValue</a></div><div class="ttdeci">APInt getMaxValue() const</div><div class="ttdoc">Return the maximal unsigned value possible given these KnownBits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00136">KnownBits.h:136</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a7593d52f91ebe342de9fa72846ebe755"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a7593d52f91ebe342de9fa72846ebe755">llvm::ScalarEvolution::getUnsignedRange</a></div><div class="ttdeci">ConstantRange getUnsignedRange(const SCEV *S)</div><div class="ttdoc">Determine the unsigned range for a particular SCEV.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00964">ScalarEvolution.h:964</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a0cfd938ff9c572d287e5e7923624db70a17e825823d4b6a92c1b221c4460c91a3"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70a17e825823d4b6a92c1b221c4460c91a3">llvm::SCEVWrapPredicate::IncrementNUSW</a></div><div class="ttdeci">@ IncrementNUSW</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00347">ScalarEvolution.h:347</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3cd3a3ec28036937ecebe767498ba55d"><div class="ttname"><a href="namespacellvm.html#a3cd3a3ec28036937ecebe767498ba55d">llvm::ConstantFoldCompareInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldCompareInstOperands(unsigned Predicate, Constant *LHS, Constant *RHS, const DataLayout &amp;DL, const TargetLibraryInfo *TLI=nullptr, const Instruction *I=nullptr)</div><div class="ttdoc">Attempt to constant fold a compare instruction (icmp/fcmp) with the specified operands.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01216">ConstantFolding.cpp:1216</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a804545e5b568edec8b970da32cd37359"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a804545e5b568edec8b970da32cd37359">llvm::ScalarEvolution::forgetValue</a></div><div class="ttdeci">void forgetValue(Value *V)</div><div class="ttdoc">This method should be called by the client when it has changed a value in a way that may effect its v...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08523">ScalarEvolution.cpp:8523</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVConstant_html"><div class="ttname"><a href="classllvm_1_1SCEVConstant.html">llvm::SCEVConstant</a></div><div class="ttdoc">This class represents a constant integer value.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00060">ScalarEvolutionExpressions.h:60</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a250f5c0dbc15e78bded9c6bbd4354185"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185">CanConstantFold</a></div><div class="ttdeci">static bool CanConstantFold(const Instruction *I)</div><div class="ttdoc">Return true if we can constant fold an instruction of the specified type, assuming that all operands ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09429">ScalarEvolution.cpp:9429</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a1230fd674d2609b96527fe65eaf40b1b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">llvm::LoopBase::getLoopLatch</a></div><div class="ttdeci">BlockT * getLoopLatch() const</div><div class="ttdoc">If there is a single latch block for this loop, return it.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00232">LoopInfoImpl.h:232</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a0d3b0002f320808a94594a6718946d7ba2187e1021a911b3807cc1bea2eb1a9ca">llvm::pdb::PDB_MemoryType::Stack</a></div><div class="ttdeci">@ Stack</div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aecbc2422e34b76c4d73f6ae64ce3951f"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aecbc2422e34b76c4d73f6ae64ce3951f">BinomialCoefficient</a></div><div class="ttdeci">static const SCEV * BinomialCoefficient(const SCEV *It, unsigned K, ScalarEvolution &amp;SE, Type *ResultTy)</div><div class="ttdoc">Compute BC(It, K). The result has width W. Assume, K &gt; 0.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00916">ScalarEvolution.cpp:916</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa1f8f0633edd8b9a1c5ec15bb9fc5640"><div class="ttname"><a href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">llvm::computeKnownBits</a></div><div class="ttdeci">void computeKnownBits(const Value *V, KnownBits &amp;Known, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, OptimizationRemarkEmitter *ORE=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Determine which bits of V are known to be either zero or one and return them in the KnownZero/KnownOn...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00186">ValueTracking.cpp:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a899d8027fa6af3ca29aae6d88b6050efab8a33d7289e160c15fb2a8d84a3eade8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a899d8027fa6af3ca29aae6d88b6050efab8a33d7289e160c15fb2a8d84a3eade8">llvm::ScalarEvolution::MonotonicallyIncreasing</a></div><div class="ttdeci">@ MonotonicallyIncreasing</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01148">ScalarEvolution.h:1148</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eaee62cac87c0dc1f483d783aae69101c4">llvm::scUDivExpr</a></div><div class="ttdeci">@ scUDivExpr</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00047">ScalarEvolutionExpressions.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a76a888bd97f7b7bb6b43eb4bdb9dc3bc"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a76a888bd97f7b7bb6b43eb4bdb9dc3bc">llvm::SCEVWrapPredicate::getImpliedFlags</a></div><div class="ttdeci">static SCEVWrapPredicate::IncrementWrapFlags getImpliedFlags(const SCEVAddRecExpr *AR, ScalarEvolution &amp;SE)</div><div class="ttdoc">Returns the set of SCEVWrapPredicate no wrap flags implied by a SCEVAddRecExpr.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14645">ScalarEvolution.cpp:14645</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a62b3c09f031f2478ebd6c92b8c80aa2f"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a62b3c09f031f2478ebd6c92b8c80aa2f">llvm::ScalarEvolution::containsAddRecurrence</a></div><div class="ttdeci">bool containsAddRecurrence(const SCEV *S)</div><div class="ttdoc">Return true if the SCEV is a scAddRecExpr or it contains scAddRecExpr.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04480">ScalarEvolution.cpp:4480</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVMinMaxExpr_html_a42279dc4cc3028a574cae6d8168067b9"><div class="ttname"><a href="classllvm_1_1SCEVMinMaxExpr.html#a42279dc4cc3028a574cae6d8168067b9">llvm::SCEVMinMaxExpr::negate</a></div><div class="ttdeci">static enum SCEVTypes negate(enum SCEVTypes T)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00430">ScalarEvolutionExpressions.h:430</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9fefddc47a698935163a34218708a00b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9fefddc47a698935163a34218708a00b">llvm::ScalarEvolution::SCEVCallbackVH</a></div><div class="ttdeci">friend class SCEVCallbackVH</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01351">ScalarEvolution.h:1351</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_ae0994d8207b94ad22ecebc1a6bc580f1"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#ae0994d8207b94ad22ecebc1a6bc580f1">llvm::PredicatedScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdoc">Returns the SCEV expression of V, in the context of the current SCEV predicate.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14718">ScalarEvolution.cpp:14718</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74f807e3ffa9720347aa991a0877eba7"><div class="ttname"><a href="namespacellvm.html#a74f807e3ffa9720347aa991a0877eba7">llvm::isFinite</a></div><div class="ttdeci">bool isFinite(const Loop *L)</div><div class="ttdoc">Return true if this loop can be assumed to run for a finite number of iterations.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l01108">LoopInfo.cpp:1108</a></div></div>
<div class="ttc" id="anamespacellvm_html_abfc9c7ecf70f66901e439f7c04ef3dbb"><div class="ttname"><a href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a></div><div class="ttdeci">OutputIt move(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdoc">Provide wrappers to std::move which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01862">STLExtras.h:1862</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a2bc441c8fe8dfeea5471f11d2d823ec1"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a2bc441c8fe8dfeea5471f11d2d823ec1">llvm::ConstantRange::truncate</a></div><div class="ttdeci">ConstantRange truncate(uint32_t BitWidth) const</div><div class="ttdoc">Return a new range in the specified integer type, which must be strictly smaller than the current typ...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00803">ConstantRange.cpp:803</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aee056c6577fe1eeacc4221de50435a5a"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">llvm::ScalarEvolution::GetMinTrailingZeros</a></div><div class="ttdeci">uint32_t GetMinTrailingZeros(const SCEV *S)</div><div class="ttdoc">Determine the minimum number of zero bits that S is guaranteed to end in (at every loop iteration).</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06377">ScalarEvolution.cpp:6377</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a57994482c17097d9f936acff3a6598ac"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a57994482c17097d9f936acff3a6598ac">llvm::LoopBase::getLoopDepth</a></div><div class="ttdeci">unsigned getLoopDepth() const</div><div class="ttdoc">Return the nesting level of this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00097">LoopInfo.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_a5e91958e021e28eb6fbd30f76c96b731"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a5e91958e021e28eb6fbd30f76c96b731">llvm::SCEVAddRecExpr::isQuadratic</a></div><div class="ttdeci">bool isQuadratic() const</div><div class="ttdoc">Return true if this represents an expression A + B*x + C*x^2 where A, B and C are loop invariant valu...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00367">ScalarEvolutionExpressions.h:367</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a49b69843927f7cd96d866768b3aec92b"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a49b69843927f7cd96d866768b3aec92b">llvm::ConstantExpr::getCast</a></div><div class="ttdeci">static Constant * getCast(unsigned ops, Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdoc">Convenience function for getting a Cast operation.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01973">Constants.cpp:1973</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">llvm::CmpInst::ICMP_UGE</a></div><div class="ttdeci">@ ICMP_UGE</div><div class="ttdoc">unsigned greater or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00742">InstrTypes.h:742</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a1a70f2c359aadd76a72aaaede16aca4a"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">llvm::DominatorTree::isReachableFromEntry</a></div><div class="ttdeci">bool isReachableFromEntry(const Use &amp;U) const</div><div class="ttdoc">Provide an overload for a Use.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00335">Dominators.cpp:335</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a3db937ba78ab75aa91d72c8678a28b78"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a3db937ba78ab75aa91d72c8678a28b78">llvm::SCEVWrapPredicate::setFlags</a></div><div class="ttdeci">static SCEVWrapPredicate::IncrementWrapFlags setFlags(SCEVWrapPredicate::IncrementWrapFlags Flags, SCEVWrapPredicate::IncrementWrapFlags OnFlags)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00372">ScalarEvolution.h:372</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectInst_html"><div class="ttname"><a href="classllvm_1_1SelectInst.html">llvm::SelectInst</a></div><div class="ttdoc">This class represents the LLVM 'select' instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01746">Instructions.h:1746</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">llvm::CmpInst::BAD_ICMP_PREDICATE</a></div><div class="ttdeci">@ BAD_ICMP_PREDICATE</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00751">InstrTypes.h:751</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="astructllvm_1_1SCEVCouldNotCompute_html"><div class="ttname"><a href="structllvm_1_1SCEVCouldNotCompute.html">llvm::SCEVCouldNotCompute</a></div><div class="ttdoc">An object of this class is returned by queries that could not be answered.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00209">ScalarEvolution.h:209</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_adc96aac34b80bf17222592bce8f95079"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#adc96aac34b80bf17222592bce8f95079">llvm::PatternMatch::m_WithOverflowInst</a></div><div class="ttdeci">bind_ty&lt; WithOverflowInst &gt; m_WithOverflowInst(WithOverflowInst *&amp;I)</div><div class="ttdoc">Match a with overflow intrinsic, capturing it if we match.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00722">PatternMatch.h:722</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead05711646a19cb20775cfbc8ef0a8c09">llvm::scSignExtend</a></div><div class="ttdeci">@ scSignExtend</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00044">ScalarEvolutionExpressions.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a77b275a78beac200ef1f703d2a5fbb7d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a77b275a78beac200ef1f703d2a5fbb7d">llvm::ScalarEvolution::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13595">ScalarEvolution.cpp:13595</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_ab447b41b9c51151b5c6ef497a60689ae"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#ab447b41b9c51151b5c6ef497a60689ae">llvm::LoopInfoBase::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00967">LoopInfo.h:967</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a7d5bfa1ac3c7c096af6b26fb95cd699d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a7d5bfa1ac3c7c096af6b26fb95cd699d">llvm::ScalarEvolution::forgetTopmostLoop</a></div><div class="ttdeci">void forgetTopmostLoop(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08519">ScalarEvolution.cpp:8519</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_1_1FoldID_html_a4ad50fbceef1c59b787444838aa5b79d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution_1_1FoldID.html#a4ad50fbceef1c59b787444838aa5b79d">llvm::ScalarEvolution::FoldID::addInteger</a></div><div class="ttdeci">void addInteger(unsigned long I)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01303">ScalarEvolution.h:1303</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="aSIOptimizeExecMaskingPreRA_8cpp_html_a3e47bdb3e296b00df96eff7896fa57bf"><div class="ttname"><a href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a></div><div class="ttdeci">SI optimize exec mask operations pre RA</div><div class="ttdef"><b>Definition:</b> <a href="SIOptimizeExecMaskingPreRA_8cpp_source.html#l00071">SIOptimizeExecMaskingPreRA.cpp:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPredicate_html_a75f4943e861ac0b6d41439c7d5c07adba319b527f8f84903a6c37695faf0bc2c8"><div class="ttname"><a href="classllvm_1_1SCEVPredicate.html#a75f4943e861ac0b6d41439c7d5c07adba319b527f8f84903a6c37695faf0bc2c8">llvm::SCEVPredicate::P_Compare</a></div><div class="ttdeci">@ P_Compare</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00226">ScalarEvolution.h:226</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ae7d65777d0f8b47ea8edf7d548988216"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ae7d65777d0f8b47ea8edf7d548988216">llvm::ScalarEvolution::getSizeOfScalableVectorExpr</a></div><div class="ttdeci">const SCEV * getSizeOfScalableVectorExpr(Type *IntTy, ScalableVectorType *ScalableTy)</div><div class="ttdoc">Return an expression for sizeof ScalableTy that is type IntTy, where ScalableTy is a scalable vector ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04351">ScalarEvolution.cpp:4351</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a569ead6f4476bd4564bbe8d0cd0d6191"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a569ead6f4476bd4564bbe8d0cd0d6191">llvm::KnownBits::ashr</a></div><div class="ttdeci">static KnownBits ashr(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Compute known bits for ashr(LHS, RHS).</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00274">KnownBits.cpp:274</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a38c440751f1bf5f19bc12b95f8f0f2a6"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a38c440751f1bf5f19bc12b95f8f0f2a6">llvm::ScalarEvolution::getNoopOrSignExtend</a></div><div class="ttdeci">const SCEV * getNoopOrSignExtend(const SCEV *V, Type *Ty)</div><div class="ttdoc">Return a SCEV corresponding to a conversion of the input value to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04729">ScalarEvolution.cpp:4729</a></div></div>
<div class="ttc" id="aVPlanSLP_8cpp_html_af04704e906a9654777e92a4612c58c13"><div class="ttname"><a href="VPlanSLP_8cpp.html#af04704e906a9654777e92a4612c58c13">getOpcode</a></div><div class="ttdeci">static std::optional&lt; unsigned &gt; getOpcode(ArrayRef&lt; VPValue * &gt; Values)</div><div class="ttdoc">Returns the opcode of Values or ~0 if they do not all agree.</div><div class="ttdef"><b>Definition:</b> <a href="VPlanSLP_8cpp_source.html#l00191">VPlanSLP.cpp:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a51d9710fffc66dd4c9aab84af5978e1e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a51d9710fffc66dd4c9aab84af5978e1e">llvm::ScalarEvolution::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdoc">Return the DataLayout associated with the module this SCEV instance is operating on.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01248">ScalarEvolution.h:1248</a></div></div>
<div class="ttc" id="aclassllvm_1_1GEPOperator_html"><div class="ttname"><a href="classllvm_1_1GEPOperator.html">llvm::GEPOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00378">Operator.h:378</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionWrapperPass_html_a014973e92bb76ade4c63ea2765c7b882"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionWrapperPass.html#a014973e92bb76ade4c63ea2765c7b882">llvm::ScalarEvolutionWrapperPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - This function should be overriden by passes that need analysis information to do t...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14378">ScalarEvolution.cpp:14378</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a4d43163acfcdefe57d402dab3640d8be"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a4d43163acfcdefe57d402dab3640d8be">GroupByComplexity</a></div><div class="ttdeci">static void GroupByComplexity(SmallVectorImpl&lt; const SCEV * &gt; &amp;Ops, LoopInfo *LI, DominatorTree &amp;DT)</div><div class="ttdoc">Given a list of SCEV objects, order them by their complexity, and group objects of the same complexit...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00855">ScalarEvolution.cpp:855</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a4e3a2187cacdec76028617a403c47d89"><div class="ttname"><a href="classllvm_1_1APInt.html#a4e3a2187cacdec76028617a403c47d89">llvm::APInt::urem</a></div><div class="ttdeci">APInt urem(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned remainder operation.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01664">APInt.cpp:1664</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a62213d5211c9d944e5ede1f0059a6ae2"><div class="ttname"><a href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">llvm::Value::printAsOperand</a></div><div class="ttdeci">void printAsOperand(raw_ostream &amp;O, bool PrintType=true, const Module *M=nullptr) const</div><div class="ttdoc">Print the name of this Value out to the specified raw_ostream.</div><div class="ttdef"><b>Definition:</b> <a href="AsmWriter_8cpp_source.html#l04782">AsmWriter.cpp:4782</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_ad56f6a9b5cd05940017c4544df48bc30"><div class="ttname"><a href="classllvm_1_1BranchInst.html#ad56f6a9b5cd05940017c4544df48bc30">llvm::BranchInst::isUnconditional</a></div><div class="ttdeci">bool isUnconditional() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03217">Instructions.h:3217</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">Match an arbitrary value and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00076">PatternMatch.h:76</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a23a7c6b9fe0d5ef6694bf8a5183d8a69"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a23a7c6b9fe0d5ef6694bf8a5183d8a69">IsKnownPredicateViaMinOrMax</a></div><div class="ttdeci">static bool IsKnownPredicateViaMinOrMax(ScalarEvolution &amp;SE, ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Is LHS Pred RHS true on the virtue of LHS or RHS being a Min or Max expression?</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l12307">ScalarEvolution.cpp:12307</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aM68kELFObjectWriter_8cpp_html_ae4a8bc3879d2282eefd72b16b12c2a37"><div class="ttname"><a href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a></div><div class="ttdeci">static M68kRelType getType(unsigned Kind, MCSymbolRefExpr::VariantKind &amp;Modifier, bool &amp;IsPCRel)</div><div class="ttdef"><b>Definition:</b> <a href="M68kELFObjectWriter_8cpp_source.html#l00048">M68kELFObjectWriter.cpp:48</a></div></div>
<div class="ttc" id="anamespacellvm_html_a67980a8ae101d2fda845eb750ffb1942"><div class="ttname"><a href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">llvm::print</a></div><div class="ttdeci">Printable print(const GCNRegPressure &amp;RP, const GCNSubtarget *ST=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="GCNRegPressure_8cpp_source.html#l00138">GCNRegPressure.cpp:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aae7c3ec1a0344306acbdc2dcb113995e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">llvm::ScalarEvolution::BlockDisposition</a></div><div class="ttdeci">BlockDisposition</div><div class="ttdoc">An enum describing the relationship between a SCEV and a basic block.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00464">ScalarEvolution.h:464</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">llvm::CmpInst::ICMP_SLT</a></div><div class="ttdeci">@ ICMP_SLT</div><div class="ttdoc">signed less than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00747">InstrTypes.h:747</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnionPredicate_html_abbe60f8bee2dd03b70935fc114c42a73"><div class="ttname"><a href="classllvm_1_1SCEVUnionPredicate.html#abbe60f8bee2dd03b70935fc114c42a73">llvm::SCEVUnionPredicate::isAlwaysTrue</a></div><div class="ttdeci">bool isAlwaysTrue() const override</div><div class="ttdoc">Implementation of the SCEVPredicate interface.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14672">ScalarEvolution.cpp:14672</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_a87e2895d880926d0b9a2128b3acfc9dd"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">llvm::APIntOps::smin</a></div><div class="ttdeci">const APInt &amp; smin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be signed.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02175">APInt.h:2175</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_abb9c0178bec51fd25f95b4399faa569c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#abb9c0178bec51fd25f95b4399faa569c">llvm::ScalarEvolution::forgetLoopDispositions</a></div><div class="ttdeci">void forgetLoopDispositions()</div><div class="ttdoc">Called when the client has changed the disposition of values in this loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08550">ScalarEvolution.cpp:8550</a></div></div>
<div class="ttc" id="anamespacellvm_html_a72278be77e997abc4b0dbde1be280006"><div class="ttname"><a href="namespacellvm.html#a72278be77e997abc4b0dbde1be280006">llvm::ConstantFoldInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldInstOperands(Instruction *I, ArrayRef&lt; Constant * &gt; Ops, const DataLayout &amp;DL, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">ConstantFoldInstOperands - Attempt to constant fold an instruction with the specified operands.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01209">ConstantFolding.cpp:1209</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVNAryExpr_html_a7275347a4dce174f4fecd548fd3255dc"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a7275347a4dce174f4fecd548fd3255dc">llvm::SCEVNAryExpr::getNoWrapFlags</a></div><div class="ttdeci">NoWrapFlags getNoWrapFlags(NoWrapFlags Mask=NoWrapMask) const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00205">ScalarEvolutionExpressions.h:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a60be12dda0289837dae43964608cf568"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a60be12dda0289837dae43964608cf568">llvm::ScalarEvolution::getOffsetOfExpr</a></div><div class="ttdeci">const SCEV * getOffsetOfExpr(Type *IntTy, StructType *STy, unsigned FieldNo)</div><div class="ttdoc">Return an expression for offsetof on the given field with type IntTy.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04380">ScalarEvolution.cpp:4380</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_aa4defa64d17f14bd55204cac1b3a0c3a"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#aa4defa64d17f14bd55204cac1b3a0c3a">llvm::LoopInfoBase::getLoopDepth</a></div><div class="ttdeci">unsigned getLoopDepth(const BlockT *BB) const</div><div class="ttdoc">Return the loop nesting level of the specified block.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00999">LoopInfo.h:999</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a254484ad2e230cf0db1f2c779abfe39c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a254484ad2e230cf0db1f2c779abfe39c">llvm::ScalarEvolution::getUMaxFromMismatchedTypes</a></div><div class="ttdeci">const SCEV * getUMaxFromMismatchedTypes(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Promote the operands to the wider of the types using zero-extension, and then perform a umax operatio...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04764">ScalarEvolution.cpp:4764</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html">llvm::AssumptionCacheTracker</a></div><div class="ttdoc">An immutable pass that tracks lazily created AssumptionCache objects.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00202">AssumptionCache.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01108">LoopInfo.h:1108</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a694848007e26a83150b8dbd67e58fbdd"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a694848007e26a83150b8dbd67e58fbdd">llvm::ScalarEvolution::hasOperand</a></div><div class="ttdeci">bool hasOperand(const SCEV *S, const SCEV *Op) const</div><div class="ttdoc">Test whether the given SCEV has Op as a direct or indirect operand.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13865">ScalarEvolution.cpp:13865</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00187">InstrTypes.h:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ab26bea71791cf347c631d2072e41cfb5"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ab26bea71791cf347c631d2072e41cfb5">llvm::ScalarEvolution::getSignExtendExpr</a></div><div class="ttdeci">const SCEV * getSignExtendExpr(const SCEV *Op, Type *Ty, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01931">ScalarEvolution.cpp:1931</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aa92b3e6375805368f9a24cf69ce73797"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aa92b3e6375805368f9a24cf69ce73797">llvm::ScalarEvolution::getMonotonicPredicateType</a></div><div class="ttdeci">std::optional&lt; MonotonicPredicateType &gt; getMonotonicPredicateType(const SCEVAddRecExpr *LHS, ICmpInst::Predicate Pred)</div><div class="ttdoc">If, for all loop invariant X, the predicate &quot;LHS `Pred` X&quot; is monotonically increasing or decreasing,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10962">ScalarEvolution.cpp:10962</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_ae0f503db91504a3f3440ab81260e4134"><div class="ttname"><a href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a></div><div class="ttdeci">BinaryOperator * Mul</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00070">X86PartialReduction.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a741e5065c867d7dfd716eb8e16fccf12"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a741e5065c867d7dfd716eb8e16fccf12">llvm::ScalarEvolution::getLoopInvariantPredicate</a></div><div class="ttdeci">std::optional&lt; LoopInvariantPredicate &gt; getLoopInvariantPredicate(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS, const Loop *L, const Instruction *CtxI=nullptr)</div><div class="ttdoc">If the result of the predicate LHS Pred RHS is loop invariant with respect to L, return a LoopInvaria...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l11026">ScalarEvolution.cpp:11026</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdoc">Class to represent struct types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00213">DerivedTypes.h:213</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVNAryExpr_html_a689b72d735546bcbfc4b48a266503085"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a689b72d735546bcbfc4b48a266503085">llvm::SCEVNAryExpr::getNumOperands</a></div><div class="ttdeci">size_t getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00194">ScalarEvolutionExpressions.h:194</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ead3656bcc84af213cc488acb56c60de22">llvm::scTruncate</a></div><div class="ttdeci">@ scTruncate</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00042">ScalarEvolutionExpressions.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html">llvm::AssumptionCache</a></div><div class="ttdoc">A cache of @llvm.assume calls within a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00042">AssumptionCache.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVSequentialUMinExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVSequentialUMinExpr.html">llvm::SCEVSequentialUMinExpr</a></div><div class="ttdoc">This class represents a sequential/in-order unsigned minimum selection.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00542">ScalarEvolutionExpressions.h:542</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a2eb94d079d8416118f4aaed865ab05d7"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">llvm::ScalarEvolution::getConstant</a></div><div class="ttdeci">const SCEV * getConstant(ConstantInt *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00497">ScalarEvolution.cpp:497</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a1b7a754f3ce34da7cb63a4bbb6259ba8"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a1b7a754f3ce34da7cb63a4bbb6259ba8">UseContextForNoWrapFlagInference</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; UseContextForNoWrapFlagInference(&quot;scalar-evolution-use-context-for-no-wrap-flag-strenghening&quot;, cl::Hidden, cl::desc(&quot;Infer nuw/nsw flags using context where suitable&quot;), cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">llvm::CmpInst::ICMP_ULT</a></div><div class="ttdeci">@ ICMP_ULT</div><div class="ttdoc">unsigned less than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00743">InstrTypes.h:743</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">llvm::logicalview::LVAttributeKind::Zero</a></div><div class="ttdeci">@ Zero</div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ac35fc38fbd44402247db6ea32d4054f8"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ac35fc38fbd44402247db6ea32d4054f8">CollectAddOperandsWithScales</a></div><div class="ttdeci">static bool CollectAddOperandsWithScales(DenseMap&lt; const SCEV *, APInt &gt; &amp;M, SmallVectorImpl&lt; const SCEV * &gt; &amp;NewOps, APInt &amp;AccumulatedConstant, ArrayRef&lt; const SCEV * &gt; Ops, const APInt &amp;Scale, ScalarEvolution &amp;SE)</div><div class="ttdoc">Process the given Ops list, which is a list of operands to be added under the given scale,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02279">ScalarEvolution.cpp:2279</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2d5a7634b0ed15979c2cd15c62d6d4b5"><div class="ttname"><a href="namespacellvm.html#a2d5a7634b0ed15979c2cd15c62d6d4b5">llvm::PointerTy</a></div><div class="ttdeci">void * PointerTy</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00021">GenericValue.h:21</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a3fc83010f49fffc0997db370a3e0512d"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a3fc83010f49fffc0997db370a3e0512d">isIntegerLoopHeaderPHI</a></div><div class="ttdeci">static const Loop * isIntegerLoopHeaderPHI(const PHINode *PN, LoopInfo &amp;LI)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05365">ScalarEvolution.cpp:5365</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="ainclude_2llvm_2Support_2CMakeLists_8txt_html_aef9367eb0b7430eaf70b1f2725488f2a"><div class="ttname"><a href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a></div><div class="ttdeci">if(llvm_vc STREQUAL &quot;&quot;) set(fake_version_inc &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Support_2CMakeLists_8txt_source.html#l00014">CMakeLists.txt:14</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a882d55a6aa2028e1a5ad708b275334e0"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a882d55a6aa2028e1a5ad708b275334e0">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdoc">This is just a convenience method to make client code smaller for a common code.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00193">Constants.h:193</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a0e6f2069000829208cbac185a07d8082a25a373cd66e09df5cb7b8cf3f443ea2b"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a0e6f2069000829208cbac185a07d8082a25a373cd66e09df5cb7b8cf3f443ea2b">llvm::ConstantRange::Smallest</a></div><div class="ttdeci">@ Smallest</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00319">ConstantRange.h:319</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a8a954b66f08640930cebdd008bc65d4d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a8a954b66f08640930cebdd008bc65d4d">llvm::ScalarEvolution::getStoreSizeOfExpr</a></div><div class="ttdeci">const SCEV * getStoreSizeOfExpr(Type *IntTy, Type *StoreTy)</div><div class="ttdoc">Return an expression for the store size of StoreTy that is type IntTy.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04371">ScalarEvolution.cpp:4371</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ad61acd1c9fda9921a30f3ff510509873"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ad61acd1c9fda9921a30f3ff510509873">llvm::ScalarEvolution::getElementSize</a></div><div class="ttdeci">const SCEV * getElementSize(Instruction *Inst)</div><div class="ttdoc">Return the size of an element read or written by Inst.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13372">ScalarEvolution.cpp:13372</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">llvm::SCEV::FlagNUW</a></div><div class="ttdeci">@ FlagNUW</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00133">ScalarEvolution.h:133</a></div></div>
<div class="ttc" id="aConstantRange_8h_html"><div class="ttname"><a href="ConstantRange_8h.html">ConstantRange.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a13cc1f5d3225f4ec063520a747acec4c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a13cc1f5d3225f4ec063520a747acec4c">llvm::ConstantInt::isMinusOne</a></div><div class="ttdeci">bool isMinusOne() const</div><div class="ttdoc">This function will return true iff every bit in this constant is set to true.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00205">Constants.h:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1FoldingSetNodeID_html"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeID.html">llvm::FoldingSetNodeID</a></div><div class="ttdoc">FoldingSetNodeID - This class is used to gather all the unique data bits of a node.</div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8h_source.html#l00318">FoldingSet.h:318</a></div></div>
<div class="ttc" id="astructllvm_1_1ScalarEvolution_1_1ExitLimit_html_a8c24105a8c2d6c26b939ea2bd2d8c71e"><div class="ttname"><a href="structllvm_1_1ScalarEvolution_1_1ExitLimit.html#a8c24105a8c2d6c26b939ea2bd2d8c71e">llvm::ScalarEvolution::ExitLimit::addPredicate</a></div><div class="ttdeci">void addPredicate(const SCEVPredicate *P)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01095">ScalarEvolution.h:1095</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a809289b45cd6625629f5356f70dac72d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a809289b45cd6625629f5356f70dac72d">llvm::ScalarEvolution::getSignedRangeMin</a></div><div class="ttdeci">APInt getSignedRangeMin(const SCEV *S)</div><div class="ttdoc">Determine the min of the signed range for a particular SCEV.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00985">ScalarEvolution.h:985</a></div></div>
<div class="ttc" id="astructllvm_1_1SaveAndRestore_html"><div class="ttname"><a href="structllvm_1_1SaveAndRestore.html">llvm::SaveAndRestore</a></div><div class="ttdoc">A utility class that uses RAII to save and restore the value of a variable.</div><div class="ttdef"><b>Definition:</b> <a href="SaveAndRestore_8h_source.html#l00023">SaveAndRestore.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_a4db9c79611d8a0a8cfad3e190b9206fc"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#a4db9c79611d8a0a8cfad3e190b9206fc">llvm::ICmpInst::isGE</a></div><div class="ttdeci">static bool isGE(Predicate P)</div><div class="ttdoc">Return true if the predicate is SGE or UGE.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01326">Instructions.h:1326</a></div></div>
<div class="ttc" id="aclassllvm_1_1OverflowingBinaryOperator_html"><div class="ttname"><a href="classllvm_1_1OverflowingBinaryOperator.html">llvm::OverflowingBinaryOperator</a></div><div class="ttdoc">Utility class for integer operators which may exhibit overflow - Add, Sub, Mul, and Shl.</div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00075">Operator.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_ade6d93f9485649bade540a37ec163058"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#ade6d93f9485649bade540a37ec163058">llvm::DominatorTreeBase::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const DomTreeNodeBase&lt; NodeT &gt; *A, const DomTreeNodeBase&lt; NodeT &gt; *B) const</div><div class="ttdoc">properlyDominates - Returns true iff A dominates B and A != B.</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00408">GenericDomTree.h:408</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a28af07babf7598fa1f9f5710acf863c9"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a28af07babf7598fa1f9f5710acf863c9">MaxArithDepth</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxArithDepth(&quot;scalar-evolution-max-arith-depth&quot;, cl::Hidden, cl::desc(&quot;Maximum depth of recursive arithmetics&quot;), cl::init(32))</div></div>
<div class="ttc" id="aclassllvm_1_1WithOverflowInst_html"><div class="ttname"><a href="classllvm_1_1WithOverflowInst.html">llvm::WithOverflowInst</a></div><div class="ttdoc">Represents an op.with.overflow intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00770">IntrinsicInst.h:770</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ab1ecca94c1ac1a616d83f565a4aeaeae"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ab1ecca94c1ac1a616d83f565a4aeaeae">extractConstantWithoutWrapping</a></div><div class="ttdeci">static APInt extractConstantWithoutWrapping(ScalarEvolution &amp;SE, const SCEVConstant *ConstantTerm, const SCEVAddExpr *WholeAddExpr)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01553">ScalarEvolution.cpp:1553</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a796339fe5ef91db7de6137a41e23083b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a796339fe5ef91db7de6137a41e23083b">llvm::ScalarEvolution::getUMinExpr</a></div><div class="ttdeci">const SCEV * getUMinExpr(const SCEV *LHS, const SCEV *RHS, bool Sequential=false)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04338">ScalarEvolution.cpp:4338</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ace535ba3b8cc110f49b5db48a945ecef"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecef">llvm::ScalarEvolution::ExitCountKind</a></div><div class="ttdeci">ExitCountKind</div><div class="ttdoc">The terms &quot;backedge taken count&quot; and &quot;exit count&quot; are used interchangeably to refer to the number of ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00856">ScalarEvolution.h:856</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a545e8d5dfa1688acea0d0e275b03682f"><div class="ttname"><a href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">llvm::APInt::ult</a></div><div class="ttdeci">bool ult(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned less than comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01089">APInt.h:1089</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a0cfd938ff9c572d287e5e7923624db70a11c850531be360193c9473b4fe240c1d"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70a11c850531be360193c9473b4fe240c1d">llvm::SCEVWrapPredicate::IncrementAnyWrap</a></div><div class="ttdeci">@ IncrementAnyWrap</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00346">ScalarEvolution.h:346</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeNodeBase_html"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html">llvm::DomTreeNodeBase&lt; BasicBlock &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a6075abe0816f373cb741561866f3eefa"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a6075abe0816f373cb741561866f3eefa">llvm::SCEVWrapPredicate::clearFlags</a></div><div class="ttdeci">static SCEVWrapPredicate::IncrementWrapFlags clearFlags(SCEVWrapPredicate::IncrementWrapFlags Flags, SCEVWrapPredicate::IncrementWrapFlags OffFlags)</div><div class="ttdoc">Convenient IncrementWrapFlags manipulation methods.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00355">ScalarEvolution.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVComparePredicate_html_ada4c07a2a91d420224b61eab10de7889"><div class="ttname"><a href="classllvm_1_1SCEVComparePredicate.html#ada4c07a2a91d420224b61eab10de7889">llvm::SCEVComparePredicate::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, unsigned Depth=0) const override</div><div class="ttdoc">Prints a textual representation of this predicate with an indentation of Depth.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14602">ScalarEvolution.cpp:14602</a></div></div>
<div class="ttc" id="aclassllvm_1_1Init_html"><div class="ttname"><a href="classllvm_1_1Init.html">llvm::Init</a></div><div class="ttdef"><b>Definition:</b> <a href="Record_8h_source.html#l00282">Record.h:282</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a05d674becc60ba4ef8cd4dd4d38ac27a"><div class="ttname"><a href="classllvm_1_1APInt.html#a05d674becc60ba4ef8cd4dd4d38ac27a">llvm::APInt::udiv</a></div><div class="ttdeci">APInt udiv(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned division operation.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01571">APInt.cpp:1571</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad8f9bb8ceb4f932d54869e57d152f526">llvm::RISCVISD::LA</a></div><div class="ttdeci">@ LA</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00337">RISCVISelLowering.h:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVMinMaxExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVMinMaxExpr.html">llvm::SCEVMinMaxExpr</a></div><div class="ttdoc">This node is the base class min/max selections.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00407">ScalarEvolutionExpressions.h:407</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_aa7cce62ac5cc6df09cce0535874336b7"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">llvm::ConstantInt::getFalse</a></div><div class="ttdeci">static ConstantInt * getFalse(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00842">Constants.cpp:842</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab2e3dbebd68e69d77c227682fc8e3ba2"><div class="ttname"><a href="namespacellvm.html#ab2e3dbebd68e69d77c227682fc8e3ba2">llvm::make_scope_exit</a></div><div class="ttdeci">detail::scope_exit&lt; std::decay_t&lt; Callable &gt; &gt; make_scope_exit(Callable &amp;&amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="ScopeExit_8h_source.html#l00059">ScopeExit.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_ab9e94d7f7d74b11670e87904ed30dc2a"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#ab9e94d7f7d74b11670e87904ed30dc2a">llvm::APIntOps::SolveQuadraticEquationWrap</a></div><div class="ttdeci">std::optional&lt; APInt &gt; SolveQuadraticEquationWrap(APInt A, APInt B, APInt C, unsigned RangeWidth)</div><div class="ttdoc">Let q(n) = An^2 + Bn + C, and BW = bit width of the value range (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02763">APInt.cpp:2763</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a5a19768af81df7e5fe571bc08dcd48b3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">llvm::ScalarEvolution::isLoopInvariant</a></div><div class="ttdeci">bool isLoopInvariant(const SCEV *S, const Loop *L)</div><div class="ttdoc">Return true if the value of the given SCEV is unchanging in the specified loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13775">ScalarEvolution.cpp:13775</a></div></div>
<div class="ttc" id="aFoldingSet_8h_html"><div class="ttname"><a href="FoldingSet_8h.html">FoldingSet.h</a></div></div>
<div class="ttc" id="aPoisonChecking_8cpp_html_a702ebb77e7ff7f0a10a1b4690d8ecfc8"><div class="ttname"><a href="PoisonChecking_8cpp.html#a702ebb77e7ff7f0a10a1b4690d8ecfc8">rewrite</a></div><div class="ttdeci">static bool rewrite(Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="PoisonChecking_8cpp_source.html#l00255">PoisonChecking.cpp:255</a></div></div>
<div class="ttc" id="astructllvm_1_1SCEVCouldNotCompute_html_a4879e3633c19d6a7c7b9c56cfd3cec18"><div class="ttname"><a href="structllvm_1_1SCEVCouldNotCompute.html#a4879e3633c19d6a7c7b9c56cfd3cec18">llvm::SCEVCouldNotCompute::SCEVCouldNotCompute</a></div><div class="ttdeci">SCEVCouldNotCompute()</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00490">ScalarEvolution.cpp:490</a></div></div>
<div class="ttc" id="aArgument_8h_html"><div class="ttname"><a href="Argument_8h.html">Argument.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eae996cdd31b3e2df5dbd55ff638d2d456">llvm::scPtrToInt</a></div><div class="ttdeci">@ scPtrToInt</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00054">ScalarEvolutionExpressions.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_ac09a21c371a9c535cbc13e8f82503aec"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Return the constant as a 64-bit unsigned integer value after it has been zero extended as appropriate...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00141">Constants.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a1dc76cc8bf703e6ada68bededcbb9573"><div class="ttname"><a href="classllvm_1_1APInt.html#a1dc76cc8bf703e6ada68bededcbb9573">llvm::APInt::zext</a></div><div class="ttdeci">APInt zext(unsigned width) const</div><div class="ttdoc">Zero extend to a new width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00973">APInt.cpp:973</a></div></div>
<div class="ttc" id="aclassSCEVLoopGuardRewriter_html_a18ffbaf097848010ee243bdf6a76e6c2"><div class="ttname"><a href="classSCEVLoopGuardRewriter.html#a18ffbaf097848010ee243bdf6a76e6c2">SCEVLoopGuardRewriter::visitZeroExtendExpr</a></div><div class="ttdeci">const SCEV * visitZeroExtendExpr(const SCEVZeroExtendExpr *Expr)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14953">ScalarEvolution.cpp:14953</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a5a672708a81ae8da8fb56e32638ca9b3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">llvm::ScalarEvolution::isKnownPositive</a></div><div class="ttdeci">bool isKnownPositive(const SCEV *S)</div><div class="ttdoc">Test if the given expression is known to be positive.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10825">ScalarEvolution.cpp:10825</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">llvm::ScalarEvolution::DominatesBlock</a></div><div class="ttdeci">@ DominatesBlock</div><div class="ttdoc">The SCEV dominates the block.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00466">ScalarEvolution.h:466</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6f"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">llvm::SCEV::NoWrapFlags</a></div><div class="ttdeci">NoWrapFlags</div><div class="ttdoc">NoWrapFlags are bitfield indices into SubclassData.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00130">ScalarEvolution.h:130</a></div></div>
<div class="ttc" id="anamespacellvm_html_add49d9f7abebe402adf1a57c762abeef"><div class="ttname"><a href="namespacellvm.html#add49d9f7abebe402adf1a57c762abeef">llvm::depth_first</a></div><div class="ttdeci">iterator_range&lt; df_iterator&lt; T &gt; &gt; depth_first(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00229">DepthFirstIterator.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionWrapperPass_html_a11ca7fa34fc7eeff3b16d70fb3547afb"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionWrapperPass.html#a11ca7fa34fc7eeff3b16d70fb3547afb">llvm::ScalarEvolutionWrapperPass::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, const Module *=nullptr) const override</div><div class="ttdoc">print - Print out the internal state of the pass.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14367">ScalarEvolution.cpp:14367</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ab363ae2f79a01dba54a59392c1a69f53"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ab363ae2f79a01dba54a59392c1a69f53">getOtherIncomingValue</a></div><div class="ttdeci">static Constant * getOtherIncomingValue(PHINode *PN, BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09560">ScalarEvolution.cpp:9560</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_af9751cf77753dd8d3bb39c0bb7a281e1"><div class="ttname"><a href="classllvm_1_1CmpInst.html#af9751cf77753dd8d3bb39c0bb7a281e1">llvm::CmpInst::isRelational</a></div><div class="ttdeci">bool isRelational() const</div><div class="ttdoc">Return true if the predicate is relational (not EQ or NE).</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00953">InstrTypes.h:953</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a121ee24f11c464f3b3197cac87b0980e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a121ee24f11c464f3b3197cac87b0980e">llvm::ScalarEvolution::isKnownNonPositive</a></div><div class="ttdeci">bool isKnownNonPositive(const SCEV *S)</div><div class="ttdoc">Test if the given expression is known to be non-positive.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10833">ScalarEvolution.cpp:10833</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a16165c1e5da45acaa086c3a54a188d34"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a16165c1e5da45acaa086c3a54a188d34">llvm::LoopBase::isInnermost</a></div><div class="ttdeci">bool isInnermost() const</div><div class="ttdoc">Return true if the loop does not contain any (natural) loops.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00182">LoopInfo.h:182</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a7ddb13bdf305b1d4eee7bf1a9ac9d35e"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a7ddb13bdf305b1d4eee7bf1a9ac9d35e">llvm::KnownBits::zextOrTrunc</a></div><div class="ttdeci">KnownBits zextOrTrunc(unsigned BitWidth) const</div><div class="ttdoc">Return known bits for a zero extension or truncation of the value we're tracking.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00187">KnownBits.h:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_a071b3581888d9e3b0b05cec58f152a91"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">llvm::APIntOps::umax</a></div><div class="ttdeci">const APInt &amp; umax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be unsigned.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02190">APInt.h:2190</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_ac45b1557ea43684a07058cb74396c435"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ac45b1557ea43684a07058cb74396c435">llvm::ConstantRange::getSignedMax</a></div><div class="ttdeci">APInt getSignedMax() const</div><div class="ttdoc">Return the largest signed value contained in the ConstantRange.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00434">ConstantRange.cpp:434</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a1434e18d5ff272c4b7bfb27e519dee42"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a1434e18d5ff272c4b7bfb27e519dee42">llvm::SCEVWrapPredicate::SCEVWrapPredicate</a></div><div class="ttdeci">SCEVWrapPredicate(const FoldingSetNodeIDRef ID, const SCEVAddRecExpr *AR, IncrementWrapFlags Flags)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14612">ScalarEvolution.cpp:14612</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_a7a2619d0e489a4ba9c19a0d86a041d59"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a7a2619d0e489a4ba9c19a0d86a041d59">llvm::DataLayout::getIntPtrType</a></div><div class="ttdeci">IntegerType * getIntPtrType(LLVMContext &amp;C, unsigned AddressSpace=0) const</div><div class="ttdoc">Returns an integer type with size at least as big as that of a pointer in the given address space.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00861">DataLayout.cpp:861</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">llvm::NVPTX::PTXLdStInstCode::V2</a></div><div class="ttdeci">@ V2</div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00124">NVPTX.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a74d9f077f43759e0fbf5c60c5885bafd"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a74d9f077f43759e0fbf5c60c5885bafd">llvm::ScalarEvolution::evaluatePredicateAt</a></div><div class="ttdeci">std::optional&lt; bool &gt; evaluatePredicateAt(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS, const Instruction *CtxI)</div><div class="ttdoc">Check whether the condition described by Pred, LHS, and RHS is true or false in the given Context.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10938">ScalarEvolution.cpp:10938</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a4c57cff33f93411b9c32991f3c5336ad"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a4c57cff33f93411b9c32991f3c5336ad">llvm::ConstantRange::getLower</a></div><div class="ttdeci">const APInt &amp; getLower() const</div><div class="ttdoc">Return the lower value for this range.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00198">ConstantRange.h:198</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba489c5c03b43333daa30af69d887fc1f2"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba489c5c03b43333daa30af69d887fc1f2">llvm::MipsISD::Mult</a></div><div class="ttdeci">@ Mult</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00135">MipsISelLowering.h:135</a></div></div>
<div class="ttc" id="anamespacellvm_html_a076f93c387f454f0db13d4bc7d4e7f9c"><div class="ttname"><a href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a></div><div class="ttdeci">void stable_sort(R &amp;&amp;Range)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01948">STLExtras.h:1948</a></div></div>
<div class="ttc" id="aVerifier_8h_html"><div class="ttname"><a href="Verifier_8h.html">Verifier.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html">llvm::ConstantExpr</a></div><div class="ttdoc">A constant value that is initialized with an expression using other constant values.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00998">Constants.h:998</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_adfe987ba0fa56ab9ecdb606c2462b6b9"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#adfe987ba0fa56ab9ecdb606c2462b6b9">llvm::ScalarEvolution::maskFlags</a></div><div class="ttdeci">static SCEV::NoWrapFlags maskFlags(SCEV::NoWrapFlags Flags, int Mask)</div><div class="ttdoc">Convenient NoWrapFlags manipulation that hides enum casts and is visible in the ScalarEvolution name ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00472">ScalarEvolution.h:472</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVRewriteVisitor_html_a510e11f38158520067cffaf1f6f552c9"><div class="ttname"><a href="classllvm_1_1SCEVRewriteVisitor.html#a510e11f38158520067cffaf1f6f552c9">llvm::SCEVRewriteVisitor::visitZeroExtendExpr</a></div><div class="ttdeci">const SCEV * visitZeroExtendExpr(const SCEVZeroExtendExpr *Expr)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00777">ScalarEvolutionExpressions.h:777</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a592bdd7731b14ff4ff5d646f6f399900"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900">llvm::ScalarEvolution::forgetLoop</a></div><div class="ttdeci">void forgetLoop(const Loop *L)</div><div class="ttdoc">This method should be called by the client when it has changed a loop in a way that may effect Scalar...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08463">ScalarEvolution.cpp:8463</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a911d67721d1a28b4a30496c3f1d6a636"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a911d67721d1a28b4a30496c3f1d6a636">MulOpsInlineThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MulOpsInlineThreshold(&quot;scev-mulops-inline-threshold&quot;, cl::Hidden, cl::desc(&quot;Threshold for inlining multiplication operands into a SCEV&quot;), cl::init(32))</div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_af6314c51a3cc5a619beb697246177bf0"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#af6314c51a3cc5a619beb697246177bf0">llvm::SCEVAddRecExpr::getLoop</a></div><div class="ttdeci">const Loop * getLoop() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00342">ScalarEvolutionExpressions.h:342</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a28ee15b0286415cce5599d4fb9f9ce02"><div class="ttname"><a href="classllvm_1_1APInt.html#a28ee15b0286415cce5599d4fb9f9ce02">llvm::APInt::multiplicativeInverse</a></div><div class="ttdeci">APInt multiplicativeInverse(const APInt &amp;modulo) const</div><div class="ttdoc">Computes the multiplicative inverse of this APInt for a given modulo.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01242">APInt.cpp:1242</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a4daf873f99d8d423c92a951331de5185"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a4daf873f99d8d423c92a951331de5185">llvm::ScalarEvolution::isKnownPredicateAt</a></div><div class="ttdeci">bool isKnownPredicateAt(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS, const Instruction *CtxI)</div><div class="ttdoc">Test if the given expression is known to satisfy the condition described by Pred, LHS,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10929">ScalarEvolution.cpp:10929</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a317c64fd4cfebc88e79387b3821a629d"><div class="ttname"><a href="classllvm_1_1APInt.html#a317c64fd4cfebc88e79387b3821a629d">llvm::APInt::trunc</a></div><div class="ttdeci">APInt trunc(unsigned width) const</div><div class="ttdoc">Truncate to new width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00898">APInt.cpp:898</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdoc">Constructor to create a '0' constant of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00356">Constants.cpp:356</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html"><div class="ttname"><a href="structllvm_1_1KnownBits.html">llvm::KnownBits</a></div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00023">KnownBits.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a0f3039f831c483956c153ed9dee23dba"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a0f3039f831c483956c153ed9dee23dba">llvm::ScalarEvolution::getGEPExpr</a></div><div class="ttdeci">const SCEV * getGEPExpr(GEPOperator *GEP, const SmallVectorImpl&lt; const SCEV * &gt; &amp;IndexExprs)</div><div class="ttdoc">Returns an expression for a GEP.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03748">ScalarEvolution.cpp:3748</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_acaf8e4c3e40e01e848c1fad5f05b81cd"><div class="ttname"><a href="classllvm_1_1Type.html#acaf8e4c3e40e01e848c1fad5f05b81cd">llvm::Type::getIntNTy</a></div><div class="ttdeci">static IntegerType * getIntNTy(LLVMContext &amp;C, unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00245">Type.cpp:245</a></div></div>
<div class="ttc" id="aclassllvm_1_1OverflowingBinaryOperator_html_a7876c618729b8764493aa340b53b574f"><div class="ttname"><a href="classllvm_1_1OverflowingBinaryOperator.html#a7876c618729b8764493aa340b53b574f">llvm::OverflowingBinaryOperator::hasNoSignedWrap</a></div><div class="ttdeci">bool hasNoSignedWrap() const</div><div class="ttdoc">Test whether this operation is known to never undergo signed overflow, aka the nsw property.</div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00105">Operator.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a8bcb86d8d126d95b0dc05f09e8f3df96"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a8bcb86d8d126d95b0dc05f09e8f3df96">llvm::ScalarEvolution::getMinusSCEV</a></div><div class="ttdeci">const SCEV * getMinusSCEV(const SCEV *LHS, const SCEV *RHS, SCEV::NoWrapFlags Flags=SCEV::FlagAnyWrap, unsigned Depth=0)</div><div class="ttdoc">Return LHS-RHS.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04642">ScalarEvolution.cpp:4642</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a1f04e382556a817950fd0390aeaf9b0e"><div class="ttname"><a href="classllvm_1_1APInt.html#a1f04e382556a817950fd0390aeaf9b0e">llvm::APInt::isMinSignedValue</a></div><div class="ttdeci">bool isMinSignedValue() const</div><div class="ttdoc">Determine if this is the smallest signed value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00415">APInt.h:415</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdoc">Set by analyses that do not transform their input at all.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00130">PassAnalysisSupport.h:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVSMinExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVSMinExpr.html">llvm::SCEVSMinExpr</a></div><div class="ttdoc">This class represents a signed minimum selection.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00471">ScalarEvolutionExpressions.h:471</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_afa29f0cd072ab9b3a2630681ffe5760f"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#afa29f0cd072ab9b3a2630681ffe5760f">llvm::ConstantExpr::getNeg</a></div><div class="ttdeci">static Constant * getNeg(Constant *C, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02644">Constants.cpp:2644</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_abd0469a627ab55aaa6789c3d6dec0fa9"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#abd0469a627ab55aaa6789c3d6dec0fa9">llvm::SCEVWrapPredicate::getFlags</a></div><div class="ttdeci">IncrementWrapFlags getFlags() const</div><div class="ttdoc">Returns the set assumed no overflow flags.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00396">ScalarEvolution.h:396</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aa5e72c64cab442ede71f4a6f03284527"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aa5e72c64cab442ede71f4a6f03284527">llvm::ScalarEvolution::convertSCEVToAddRecWithPredicates</a></div><div class="ttdeci">const SCEVAddRecExpr * convertSCEVToAddRecWithPredicates(const SCEV *S, const Loop *L, SmallPtrSetImpl&lt; const SCEVPredicate * &gt; &amp;Preds)</div><div class="ttdoc">Tries to convert the S expression to an AddRec expression, adding additional predicates to Preds as r...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14557">ScalarEvolution.cpp:14557</a></div></div>
<div class="ttc" id="aregutils_8h_html_a1fa2460e32327ade49189c95740bc1b5"><div class="ttname"><a href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a></div><div class="ttdeci">#define NC</div><div class="ttdef"><b>Definition:</b> <a href="regutils_8h_source.html#l00042">regutils.h:42</a></div></div>
<div class="ttc" id="aclassSCEVLoopGuardRewriter_html_a85b178108b768b13c0327d36fd5aeef9"><div class="ttname"><a href="classSCEVLoopGuardRewriter.html#a85b178108b768b13c0327d36fd5aeef9">SCEVLoopGuardRewriter::SCEVLoopGuardRewriter</a></div><div class="ttdeci">SCEVLoopGuardRewriter(ScalarEvolution &amp;SE, DenseMap&lt; const SCEV *, const SCEV * &gt; &amp;M)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14940">ScalarEvolution.cpp:14940</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlockEdge_html_a9c8df2ee2950f5957a98ca2bec57c399"><div class="ttname"><a href="classllvm_1_1BasicBlockEdge.html#a9c8df2ee2950f5957a98ca2bec57c399">llvm::BasicBlockEdge::isSingleEdge</a></div><div class="ttdeci">bool isSingleEdge() const</div><div class="ttdoc">Check if this is the only edge between Start and End.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00050">Dominators.cpp:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnionPredicate_html"><div class="ttname"><a href="classllvm_1_1SCEVUnionPredicate.html">llvm::SCEVUnionPredicate</a></div><div class="ttdoc">This class represents a composition of other SCEV predicates, and is the class that most clients will...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00416">ScalarEvolution.h:416</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_a8e3dc6f52dcd0a9cf61508d5703cbe57"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a8e3dc6f52dcd0a9cf61508d5703cbe57">llvm::SCEVAddRecExpr::getPostIncExpr</a></div><div class="ttdeci">const SCEVAddRecExpr * getPostIncExpr(ScalarEvolution &amp;SE) const</div><div class="ttdoc">Return an expression representing the value of this expression one iteration of the loop ahead.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13329">ScalarEvolution.cpp:13329</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_aab36927882fbfdcbb860d87fd9c30da8"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00151">ArrayRef.h:151</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86_html_a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e"><div class="ttname"><a href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">llvm::X86::FirstMacroFusionInstKind::Cmp</a></div><div class="ttdeci">@ Cmp</div></div>
<div class="ttc" id="aclassllvm_1_1SCEVCastExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html">llvm::SCEVCastExpr</a></div><div class="ttdoc">This is the base class for unary cast operator classes.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00086">ScalarEvolutionExpressions.h:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_afe7d477c6022fe7123b90e3b39c58e69"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#afe7d477c6022fe7123b90e3b39c58e69">llvm::ConstantInt::getBool</a></div><div class="ttdeci">static ConstantInt * getBool(LLVMContext &amp;Context, bool V)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00849">Constants.cpp:849</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a640fb8bb3d3ed856afb1e76b8bcd6e19"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a640fb8bb3d3ed856afb1e76b8bcd6e19">llvm::ArrayRef::take_front</a></div><div class="ttdeci">ArrayRef&lt; T &gt; take_front(size_t N=1) const</div><div class="ttdoc">Return a copy of *this with only the first N elements.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00226">ArrayRef.h:226</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_a7e688afe102c3fa48ea49cb972a0f00c"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a7e688afe102c3fa48ea49cb972a0f00c">llvm::SCEVAddRecExpr::getNumIterationsInRange</a></div><div class="ttdeci">const SCEV * getNumIterationsInRange(const ConstantRange &amp;Range, ScalarEvolution &amp;SE) const</div><div class="ttdoc">Return the number of iterations of this loop that produce values in the specified constant range.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13257">ScalarEvolution.cpp:13257</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a3db092f7661158b76135b3b7d39f0991"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a3db092f7661158b76135b3b7d39f0991">llvm::ScalarEvolution::loopHasNoAbnormalExits</a></div><div class="ttdeci">bool loopHasNoAbnormalExits(const Loop *L)</div><div class="ttdoc">Return true if the loop has no abnormal exits.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01291">ScalarEvolution.h:1291</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a93a455a6a60ac3b40d15464bc3b86e90"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a93a455a6a60ac3b40d15464bc3b86e90">llvm::ScalarEvolution::invalidate</a></div><div class="ttdeci">bool invalidate(Function &amp;F, const PreservedAnalyses &amp;PA, FunctionAnalysisManager::Invalidator &amp;Inv)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14302">ScalarEvolution.cpp:14302</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5804b68ebc77c8751a9cb4e066735450"><div class="ttname"><a href="namespacellvm.html#a5804b68ebc77c8751a9cb4e066735450">llvm::isOverflowIntrinsicNoWrap</a></div><div class="ttdeci">bool isOverflowIntrinsicNoWrap(const WithOverflowInst *WO, const DominatorTree &amp;DT)</div><div class="ttdoc">Returns true if the arithmetic part of the WO 's result is used only along the paths control dependen...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05156">ValueTracking.cpp:5156</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae6f1c15034bc5515033874630a8ecce6"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">llvm::ConstantExpr::getAdd</a></div><div class="ttdeci">static Constant * getAdd(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02657">Constants.cpp:2657</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ace535ba3b8cc110f49b5db48a945ecefa007c52805d507c0cc6d53cbea782eaf4"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ace535ba3b8cc110f49b5db48a945ecefa007c52805d507c0cc6d53cbea782eaf4">llvm::ScalarEvolution::SymbolicMaximum</a></div><div class="ttdeci">@ SymbolicMaximum</div><div class="ttdoc">An expression which provides an upper bound on the exact trip count.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00863">ScalarEvolution.h:863</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">llvm::ScalarEvolution::DoesNotDominateBlock</a></div><div class="ttdeci">@ DoesNotDominateBlock</div><div class="ttdoc">The SCEV does not dominate the block.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00465">ScalarEvolution.h:465</a></div></div>
<div class="ttc" id="aclassllvm_1_1BumpPtrAllocatorImpl_html_af050e9702e6ff2b745dc4d2afd0963cf"><div class="ttname"><a href="classllvm_1_1BumpPtrAllocatorImpl.html#af050e9702e6ff2b745dc4d2afd0963cf">llvm::BumpPtrAllocatorImpl::Allocate</a></div><div class="ttdeci">LLVM_ATTRIBUTE_RETURNS_NONNULL void * Allocate(size_t Size, Align Alignment)</div><div class="ttdoc">Allocate space at the specified alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00148">Allocator.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_af206a3d6f58d9e53b074460f0d1ecb86"><div class="ttname"><a href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">llvm::CmpInst::isUnsigned</a></div><div class="ttdeci">bool isUnsigned() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00963">InstrTypes.h:963</a></div></div>
<div class="ttc" id="anamespacellvm_html_abff5a423c1f45e23958dde8ee695c9a9"><div class="ttname"><a href="namespacellvm.html#abff5a423c1f45e23958dde8ee695c9a9">llvm::isGuaranteedToTransferExecutionToSuccessor</a></div><div class="ttdeci">bool isGuaranteedToTransferExecutionToSuccessor(const Instruction *I)</div><div class="ttdoc">Return true if this function can prove that the instruction I will always transfer execution to one o...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05612">ValueTracking.cpp:5612</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">llvm::AArch64CC::LS</a></div><div class="ttdeci">@ LS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00264">AArch64BaseInfo.h:264</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a57a6829dad387e7075a6325e3ec6ace5"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a57a6829dad387e7075a6325e3ec6ace5">llvm::ScalarEvolution::isBackedgeTakenCountMaxOrZero</a></div><div class="ttdeci">bool isBackedgeTakenCountMaxOrZero(const Loop *L)</div><div class="ttdoc">Return true if the backedge taken count is either the value returned by getConstantMaxBackedgeTakenCo...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08344">ScalarEvolution.cpp:8344</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html">llvm::SCEVAddRecExpr</a></div><div class="ttdoc">This node represents a polynomial recurrence on the trip count of the specified loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00330">ScalarEvolutionExpressions.h:330</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html_a056eabb719f475aa4c5a7e2ba11973b9"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#a056eabb719f475aa4c5a7e2ba11973b9">llvm::GetElementPtrInst::getTypeAtIndex</a></div><div class="ttdeci">static Type * getTypeAtIndex(Type *Ty, Value *Idx)</div><div class="ttdoc">Return the type of the element at the given index of an indexable type.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l01860">Instructions.cpp:1860</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html">llvm::SCEVWrapPredicate</a></div><div class="ttdoc">This class represents an assumption made on an AddRec expression.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00321">ScalarEvolution.h:321</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a6fc5091677914fa41c25148564683090"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a6fc5091677914fa41c25148564683090">llvm::ScalarEvolution::getComparePredicate</a></div><div class="ttdeci">const SCEVPredicate * getComparePredicate(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14392">ScalarEvolution.cpp:14392</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a503078dd92aea3a766cd9454ce8b501d"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a503078dd92aea3a766cd9454ce8b501d">MaxSCEVOperationsImplicationDepth</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxSCEVOperationsImplicationDepth(&quot;scalar-evolution-max-scev-operations-implication-depth&quot;, cl::Hidden, cl::desc(&quot;Maximum depth of recursive SCEV operations implication analysis&quot;), cl::init(2))</div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnknown_html"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html">llvm::SCEVUnknown</a></div><div class="ttdoc">This means that we are dealing with an entirely unknown SCEV value, and only represent it as its LLVM...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00559">ScalarEvolutionExpressions.h:559</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a58c5b170ea68b41e94ebb0019523a68f"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00105">LoopInfo.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a81812ab49218fff82c3a0c378e0a65b0"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a81812ab49218fff82c3a0c378e0a65b0">llvm::GlobalValue::isPrivateLinkage</a></div><div class="ttdeci">static bool isPrivateLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00401">GlobalValue.h:401</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a6d8769a72303e2b06ef63129cb231855"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">llvm::ScalarEvolution::isSCEVable</a></div><div class="ttdeci">bool isSCEVable(Type *Ty) const</div><div class="ttdoc">Test if values of the given type are analyzable within the SCEV framework.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04420">ScalarEvolution.cpp:4420</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a3712279d70deeec90a93db09deb12d02"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">llvm::CmpInst::isSigned</a></div><div class="ttdeci">bool isSigned() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00957">InstrTypes.h:957</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUDivExpr_html_a5c27598f80fb5edbdb4432d37e2c71cb"><div class="ttname"><a href="classllvm_1_1SCEVUDivExpr.html#a5c27598f80fb5edbdb4432d37e2c71cb">llvm::SCEVUDivExpr::getRHS</a></div><div class="ttdeci">const SCEV * getRHS() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00300">ScalarEvolutionExpressions.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_adc01a7457de85fc52a3bb860d7e1c6a4"><div class="ttname"><a href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">llvm::Type::getPointerTo</a></div><div class="ttdeci">PointerType * getPointerTo(unsigned AddrSpace=0) const</div><div class="ttdoc">Return a pointer to the current type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00776">Type.cpp:776</a></div></div>
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_ad78486583aa82143a9e9bb4337cc97fe"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a></div><div class="ttdeci">TODO unsigned x</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2PowerPC_2README_8txt_source.html#l00010">README.txt:10</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="aPPCCTRLoopsVerify_8cpp_html_a593cc2f204f7b2edc16ee222c37c3196"><div class="ttname"><a href="PPCCTRLoopsVerify_8cpp.html#a593cc2f204f7b2edc16ee222c37c3196">verify</a></div><div class="ttdeci">ppc ctr loops verify</div><div class="ttdef"><b>Definition:</b> <a href="PPCCTRLoopsVerify_8cpp_source.html#l00076">PPCCTRLoopsVerify.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_a1ecb726f4e7b445057b795ed500546a0"><div class="ttname"><a href="classllvm_1_1SCEV.html#a1ecb726f4e7b445057b795ed500546a0">llvm::SCEV::isOne</a></div><div class="ttdeci">bool isOne() const</div><div class="ttdoc">Return true if the expression is a constant one.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00466">ScalarEvolution.cpp:466</a></div></div>
<div class="ttc" id="aEquivalenceClasses_8h_html"><div class="ttname"><a href="EquivalenceClasses_8h.html">EquivalenceClasses.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARCCC_html_a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4"><div class="ttname"><a href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">llvm::ARCCC::Z</a></div><div class="ttdeci">@ Z</div><div class="ttdef"><b>Definition:</b> <a href="ARCInfo_8h_source.html#l00041">ARCInfo.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aaa9b9055fd9c69fe14eb20f0d18d53d5"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">llvm::ScalarEvolution::getCouldNotCompute</a></div><div class="ttdeci">const SCEV * getCouldNotCompute()</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04467">ScalarEvolution.cpp:4467</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a7449cedde1dc681d0c33134c7c95bcc6"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a7449cedde1dc681d0c33134c7c95bcc6">y</a></div><div class="ttdeci">into llvm powi allowing the code generator to produce balanced multiplication trees the intrinsic needs to be extended to support and second the code generator needs to be enhanced to lower these to multiplication trees Interesting testcase for add shift mul int y</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00061">README.txt:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVIntegralCastExpr_html_a8da5e068d45d31d39f6f449efd8d1d9e"><div class="ttname"><a href="classllvm_1_1SCEVIntegralCastExpr.html#a8da5e068d45d31d39f6f449efd8d1d9e">llvm::SCEVIntegralCastExpr::SCEVIntegralCastExpr</a></div><div class="ttdeci">SCEVIntegralCastExpr(const FoldingSetNodeIDRef ID, SCEVTypes SCEVTy, const SCEV *op, Type *ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00529">ScalarEvolution.cpp:529</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a2a5af04b24d90bf200f8ed2978e2b3b2"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a2a5af04b24d90bf200f8ed2978e2b3b2">MaxPhiSCCAnalysisSize</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxPhiSCCAnalysisSize(&quot;scalar-evolution-max-scc-analysis-depth&quot;, cl::Hidden, cl::desc(&quot;Maximum amount of nodes to process while searching SCEVUnknown &quot; &quot;Phi strongly connected components&quot;), cl::init(8))</div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a69955d334349c9adad86cd95171dce4c"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a69955d334349c9adad86cd95171dce4c">transform</a></div><div class="ttdeci">instcombine should handle this transform</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00262">README.txt:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_af515b92b636744fd878c931e2642afe3"><div class="ttname"><a href="ScalarEvolution_8cpp.html#af515b92b636744fd878c931e2642afe3">scevUnconditionallyPropagatesPoisonFromOperands</a></div><div class="ttdeci">static bool scevUnconditionallyPropagatesPoisonFromOperands(SCEVTypes Kind)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04096">ScalarEvolution.cpp:4096</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_a0b369e991301543c2120405809119d36"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#a0b369e991301543c2120405809119d36">llvm::PredicatedScalarEvolution::addPredicate</a></div><div class="ttdeci">void addPredicate(const SCEVPredicate &amp;Pred)</div><div class="ttdoc">Adds a new predicate.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14747">ScalarEvolution.cpp:14747</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ab600d14b30e63c2a896ab73847d36036"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ab600d14b30e63c2a896ab73847d36036">AddOpsInlineThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; AddOpsInlineThreshold(&quot;scev-addops-inline-threshold&quot;, cl::Hidden, cl::desc(&quot;Threshold for inlining addition operands into a SCEV&quot;), cl::init(500))</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aaca3a4d2b25c24b11179cbd01079b73c"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aaca3a4d2b25c24b11179cbd01079b73c">llvm::ConstantRange::contains</a></div><div class="ttdeci">bool contains(const APInt &amp;Val) const</div><div class="ttdoc">Return true if the specified value is in the set.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00446">ConstantRange.cpp:446</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">llvm::CmpInst::ICMP_SGE</a></div><div class="ttdeci">@ ICMP_SGE</div><div class="ttdoc">signed greater or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00746">InstrTypes.h:746</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">llvm::MCID::Add</a></div><div class="ttdeci">@ Add</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00186">MCInstrDesc.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a248dea99ef1d5a864269ac3a98014b37"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a248dea99ef1d5a864269ac3a98014b37">llvm::ScalarEvolution::setNoWrapFlags</a></div><div class="ttdeci">void setNoWrapFlags(SCEVAddRecExpr *AddRec, SCEV::NoWrapFlags Flags)</div><div class="ttdoc">Update no-wrap flags of an AddRec.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06397">ScalarEvolution.cpp:6397</a></div></div>
<div class="ttc" id="astructllvm_1_1Inverse_html"><div class="ttname"><a href="structllvm_1_1Inverse.html">llvm::Inverse</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00097">GraphTraits.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVRewriteVisitor_html_a1e445b9b39213d31a9db73e49c6b3f07"><div class="ttname"><a href="classllvm_1_1SCEVRewriteVisitor.html#a1e445b9b39213d31a9db73e49c6b3f07">llvm::SCEVRewriteVisitor::visitSignExtendExpr</a></div><div class="ttdeci">const SCEV * visitSignExtendExpr(const SCEVSignExtendExpr *Expr)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00784">ScalarEvolutionExpressions.h:784</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a55e760ed817efd182374bddd96c0725d"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a55e760ed817efd182374bddd96c0725d">llvm::SCEVWrapPredicate::isAlwaysTrue</a></div><div class="ttdeci">bool isAlwaysTrue() const override</div><div class="ttdoc">Returns true if the predicate is always true.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14625">ScalarEvolution.cpp:14625</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aadf992d0faba329a1b5315dcde978e85"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">llvm::ScalarEvolution::isAvailableAtLoopEntry</a></div><div class="ttdeci">bool isAvailableAtLoopEntry(const SCEV *S, const Loop *L)</div><div class="ttdoc">Determine if the SCEV can be evaluated at loop's entry.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02532">ScalarEvolution.cpp:2532</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a8f877403433892e14ff0c692cbe9efdf"><div class="ttname"><a href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">llvm::APInt::getSignedMinValue</a></div><div class="ttdeci">static APInt getSignedMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum signed value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00199">APInt.h:199</a></div></div>
<div class="ttc" id="aclassSCEVLoopGuardRewriter_html_a5f8d3bf0eb6326bbfd97671abb1cc0a2"><div class="ttname"><a href="classSCEVLoopGuardRewriter.html#a5f8d3bf0eb6326bbfd97671abb1cc0a2">SCEVLoopGuardRewriter::visitUnknown</a></div><div class="ttdeci">const SCEV * visitUnknown(const SCEVUnknown *Expr)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14946">ScalarEvolution.cpp:14946</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallbackVH_html"><div class="ttname"><a href="classllvm_1_1CallbackVH.html">llvm::CallbackVH</a></div><div class="ttdoc">Value handle with callbacks on RAUW and destruction.</div><div class="ttdef"><b>Definition:</b> <a href="ValueHandle_8h_source.html#l00383">ValueHandle.h:383</a></div></div>
<div class="ttc" id="aGlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html"><div class="ttname"><a href="classllvm_1_1ConstantRange.html">llvm::ConstantRange</a></div><div class="ttdoc">This class represents a range of values.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00047">ConstantRange.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a5ba8484cef2818d14b85640a903b2598"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">llvm::CmpInst::isTrueWhenEqual</a></div><div class="ttdeci">bool isTrueWhenEqual() const</div><div class="ttdoc">This is just a convenience.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01006">InstrTypes.h:1006</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aca8fce65eb69a82aa10a635e2e79877a"><div class="ttname"><a href="classllvm_1_1APInt.html#aca8fce65eb69a82aa10a635e2e79877a">llvm::APInt::sext</a></div><div class="ttdeci">APInt sext(unsigned width) const</div><div class="ttdoc">Sign extend to a new width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00946">APInt.cpp:946</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVConstant_html_a17304ab072a5b259c03e766a2b78a30b"><div class="ttname"><a href="classllvm_1_1SCEVConstant.html#a17304ab072a5b259c03e766a2b78a30b">llvm::SCEVConstant::getAPInt</a></div><div class="ttdeci">const APInt &amp; getAPInt() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00070">ScalarEvolutionExpressions.h:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa7b7afb33f3a3f2da4bb2420499b398e"><div class="ttname"><a href="namespacellvm.html#aa7b7afb33f3a3f2da4bb2420499b398e">llvm::propagatesPoison</a></div><div class="ttdeci">bool propagatesPoison(const Use &amp;PoisonOp)</div><div class="ttdoc">Return true if PoisonOp's user yields poison or raises UB if its operand PoisonOp is poison.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05689">ValueTracking.cpp:5689</a></div></div>
<div class="ttc" id="aclassllvm_1_1FoldingSetNodeIDRef_html"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeIDRef.html">llvm::FoldingSetNodeIDRef</a></div><div class="ttdoc">FoldingSetNodeIDRef - This class describes a reference to an interned FoldingSetNodeID,...</div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8h_source.html#l00288">FoldingSet.h:288</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a38e964f0cadf077725453884734a6c99"><div class="ttname"><a href="classllvm_1_1APInt.html#a38e964f0cadf077725453884734a6c99">llvm::APInt::abs</a></div><div class="ttdeci">APInt abs() const</div><div class="ttdoc">Get the absolute value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01734">APInt.h:1734</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallbackVH_html_ab3a25e82043f8a99ad6ed61fb9c9483c"><div class="ttname"><a href="classllvm_1_1CallbackVH.html#ab3a25e82043f8a99ad6ed61fb9c9483c">llvm::CallbackVH::setValPtr</a></div><div class="ttdeci">void setValPtr(Value *P)</div><div class="ttdef"><b>Definition:</b> <a href="ValueHandle_8h_source.html#l00390">ValueHandle.h:390</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_acd8afecbb15ee69487d5339371f64a76"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#acd8afecbb15ee69487d5339371f64a76">llvm::ConstantRange::getNonEmpty</a></div><div class="ttdeci">static ConstantRange getNonEmpty(APInt Lower, APInt Upper)</div><div class="ttdoc">Create non-empty constant range with the given bounds.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00084">ConstantRange.h:84</a></div></div>
<div class="ttc" id="astructllvm_1_1ScalarEvolution_1_1LoopInvariantPredicate_html"><div class="ttname"><a href="structllvm_1_1ScalarEvolution_1_1LoopInvariantPredicate.html">llvm::ScalarEvolution::LoopInvariantPredicate</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01161">ScalarEvolution.h:1161</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a899d8027fa6af3ca29aae6d88b6050efa085821bc8d4415d64b66a10d517612fb"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a899d8027fa6af3ca29aae6d88b6050efa085821bc8d4415d64b66a10d517612fb">llvm::ScalarEvolution::MonotonicallyDecreasing</a></div><div class="ttdeci">@ MonotonicallyDecreasing</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l01149">ScalarEvolution.h:1149</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionVerifierPass_html_a922e2e00f7528f19fdece7de80099fc2"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionVerifierPass.html#a922e2e00f7528f19fdece7de80099fc2">llvm::ScalarEvolutionVerifierPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14325">ScalarEvolution.cpp:14325</a></div></div>
<div class="ttc" id="aScalarEvolutionExpressions_8h_html"><div class="ttname"><a href="ScalarEvolutionExpressions_8h.html">ScalarEvolutionExpressions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ac26154a24f393f523c87cc5f8239f36c"><div class="ttname"><a href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">llvm::Instruction::BinaryOps</a></div><div class="ttdeci">BinaryOps</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00809">Instruction.h:809</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a6c073d72f1aa69d68ffb88bf12a9c1b0"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0">umul_ov</a></div><div class="ttdeci">static uint64_t umul_ov(uint64_t i, uint64_t j, bool &amp;Overflow)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03077">ScalarEvolution.cpp:3077</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeAnalysis_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeAnalysis.html">llvm::DominatorTreeAnalysis</a></div><div class="ttdoc">Analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00279">Dominators.h:279</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HexagonMCInstrInfo_html_abae146b364071d25dcd64eebdba8cda0"><div class="ttname"><a href="namespacellvm_1_1HexagonMCInstrInfo.html#abae146b364071d25dcd64eebdba8cda0">llvm::HexagonMCInstrInfo::getMaxValue</a></div><div class="ttdeci">int getMaxValue(MCInstrInfo const &amp;MCII, MCInst const &amp;MCI)</div><div class="ttdoc">Return the maximum value of an extendable operand.</div><div class="ttdef"><b>Definition:</b> <a href="HexagonMCInstrInfo_8cpp_source.html#l00353">HexagonMCInstrInfo.cpp:353</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a8fed3b807739f2ff6942c12407ab00fa"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a8fed3b807739f2ff6942c12407ab00fa">llvm::ScalarEvolution::setFlags</a></div><div class="ttdeci">static SCEV::NoWrapFlags setFlags(SCEV::NoWrapFlags Flags, SCEV::NoWrapFlags OnFlags)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00476">ScalarEvolution.h:476</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVIntegralCastExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVIntegralCastExpr.html">llvm::SCEVIntegralCastExpr</a></div><div class="ttdoc">This is the base class for unary integral cast operator classes.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00124">ScalarEvolutionExpressions.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a4f728602e7d377829675f13446cf6647"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a4f728602e7d377829675f13446cf6647">llvm::LoopInfoBase::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00968">LoopInfo.h:968</a></div></div>
<div class="ttc" id="aExpandLargeDivRem_8cpp_html_a49b2092a066cfbc24bc6925bdea9682a"><div class="ttname"><a href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a></div><div class="ttdeci">static bool isSigned(unsigned int Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="ExpandLargeDivRem_8cpp_source.html#l00052">ExpandLargeDivRem.cpp:52</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ac688067fb2481d7d55c82ea4c653083c"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ac688067fb2481d7d55c82ea4c653083c">CompareSCEVComplexity</a></div><div class="ttdeci">static std::optional&lt; int &gt; CompareSCEVComplexity(EquivalenceClasses&lt; const SCEV * &gt; &amp;EqCacheSCEV, EquivalenceClasses&lt; const Value * &gt; &amp;EqCacheValue, const LoopInfo *const LI, const SCEV *LHS, const SCEV *RHS, DominatorTree &amp;DT, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00741">ScalarEvolution.cpp:741</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aa35959e3f6bea8e35cffcfd8659e3156"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156">llvm::ScalarEvolution::getAnyExtendExpr</a></div><div class="ttdeci">const SCEV * getAnyExtendExpr(const SCEV *Op, Type *Ty)</div><div class="ttdoc">getAnyExtendExpr - Return a SCEV for the given operand extended with unspecified bits out to the give...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02208">ScalarEvolution.cpp:2208</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a02c3cff4baf0eb36d46fd37369a0bb88"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a02c3cff4baf0eb36d46fd37369a0bb88">SCEVMinMaxExprContains</a></div><div class="ttdeci">bool SCEVMinMaxExprContains(const SCEV *Root, const SCEV *OperandToFind, SCEVTypes RootKind)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06075">ScalarEvolution.cpp:6075</a></div></div>
<div class="ttc" id="aRustDemangle_8cpp_html_a103d8cfe62c1651cd70e181746f8a840"><div class="ttname"><a href="RustDemangle_8cpp.html#a103d8cfe62c1651cd70e181746f8a840">isValid</a></div><div class="ttdeci">static bool isValid(const char C)</div><div class="ttdoc">Returns true if C is a valid mangled character: &lt;0-9a-zA-Z_&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="RustDemangle_8cpp_source.html#l00184">RustDemangle.cpp:184</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a6d745b25efdc69435508f1e936919f8b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a6d745b25efdc69435508f1e936919f8b">llvm::ScalarEvolution::getZeroExtendExpr</a></div><div class="ttdeci">const SCEV * getZeroExtendExpr(const SCEV *Op, Type *Ty, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01609">ScalarEvolution.cpp:1609</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a1e4038e28db703c29e5e3de1549806ca"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a1e4038e28db703c29e5e3de1549806ca">llvm::ScalarEvolution::removePointerBase</a></div><div class="ttdeci">const SCEV * removePointerBase(const SCEV *S)</div><div class="ttdoc">Compute an expression equivalent to S - getPointerBase(S).</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04612">ScalarEvolution.cpp:4612</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a5fadcc50dcb3839af0bfcb62d2cb20b9"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a5fadcc50dcb3839af0bfcb62d2cb20b9">llvm::SCEVWrapPredicate::getExpr</a></div><div class="ttdeci">const SCEVAddRecExpr * getExpr() const</div><div class="ttdoc">Implementation of the SCEVPredicate interface.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14617">ScalarEvolution.cpp:14617</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVAddExpr.html">llvm::SCEVAddExpr</a></div><div class="ttdoc">This node represents an addition of some number of SCEVs.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00249">ScalarEvolutionExpressions.h:249</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a214e872d61db2ea8cb023f127cafd0b9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a214e872d61db2ea8cb023f127cafd0b9">llvm::DenseMapBase&lt; DenseMap&lt; const SCEV *, ValueSetVector, DenseMapInfo&lt; const SCEV * &gt;, llvm::detail::DenseMapPair&lt; const SCEV *, ValueSetVector &gt; &gt;, const SCEV *, ValueSetVector, DenseMapInfo&lt; const SCEV * &gt;, llvm::detail::DenseMapPair&lt; const SCEV *, ValueSetVector &gt; &gt;::iterator</a></div><div class="ttdeci">DenseMapIterator&lt; const SCEV *, ValueSetVector, DenseMapInfo&lt; const SCEV * &gt;, llvm::detail::DenseMapPair&lt; const SCEV *, ValueSetVector &gt; &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00071">DenseMap.h:71</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aec8a152b46535b3f832b154e3085d2af"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aec8a152b46535b3f832b154e3085d2af">isSimpleCastedPHI</a></div><div class="ttdeci">static Type * isSimpleCastedPHI(const SCEV *Op, const SCEVUnknown *SymbolicPHI, bool &amp;Signed, ScalarEvolution &amp;SE)</div><div class="ttdoc">Helper function to createAddRecFromPHIWithCasts.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05329">ScalarEvolution.cpp:5329</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_addec638786f763d967811b45cb662f1f"><div class="ttname"><a href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00191">User.h:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerIntPair_html"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html">llvm::PointerIntPair&lt; Value *, 1, bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a81eef9d7336f7ee43be79630d8e8ec86"><div class="ttname"><a href="classllvm_1_1Type.html#a81eef9d7336f7ee43be79630d8e8ec86">llvm::Type::isStructTy</a></div><div class="ttdeci">bool isStructTy() const</div><div class="ttdoc">True if this is an instance of StructType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00243">Type.h:243</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_ac098fe4f07549fb029fbf950dbe78fd3"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ac098fe4f07549fb029fbf950dbe78fd3">llvm::ConstantRange::intersectWith</a></div><div class="ttdeci">ConstantRange intersectWith(const ConstantRange &amp;CR, PreferredRangeType Type=Smallest) const</div><div class="ttdoc">Return the range that results from the intersection of this range with another range.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00520">ConstantRange.cpp:520</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5eafd56f054da3d1f9b827ae1003da3a38b">llvm::scMulExpr</a></div><div class="ttdeci">@ scMulExpr</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00046">ScalarEvolutionExpressions.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a8b52e1d4097374216c56c6cc68c78fa8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a8b52e1d4097374216c56c6cc68c78fa8">llvm::ScalarEvolution::getMinusOne</a></div><div class="ttdeci">const SCEV * getMinusOne(Type *Ty)</div><div class="ttdoc">Return a SCEV for the constant -1 of a specific type.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00659">ScalarEvolution.h:659</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionWrapperPass_html_a83c7a734cdb6f50bc816b2a1914b911f"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionWrapperPass.html#a83c7a734cdb6f50bc816b2a1914b911f">llvm::ScalarEvolutionWrapperPass::verifyAnalysis</a></div><div class="ttdeci">void verifyAnalysis() const override</div><div class="ttdoc">verifyAnalysis() - This member can be implemented by a analysis pass to check state of analysis infor...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14371">ScalarEvolution.cpp:14371</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVNAryExpr_html_a71deee7ef49ab5407b7e1aa758b6ec0a"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a71deee7ef49ab5407b7e1aa758b6ec0a">llvm::SCEVNAryExpr::hasNoSignedWrap</a></div><div class="ttdeci">bool hasNoSignedWrap() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00213">ScalarEvolutionExpressions.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a61f5098e98f972466ae233e6d01f9f9c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">llvm::ScalarEvolution::getLoopDisposition</a></div><div class="ttdeci">LoopDisposition getLoopDisposition(const SCEV *S, const Loop *L)</div><div class="ttdoc">Return the &quot;disposition&quot; of the given SCEV with respect to the given loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13686">ScalarEvolution.cpp:13686</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ac5f5c8803494a746eb35e42f67abd0ec"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac5f5c8803494a746eb35e42f67abd0ec">llvm::ScalarEvolution::forgetAllLoops</a></div><div class="ttdeci">void forgetAllLoops()</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08437">ScalarEvolution.cpp:8437</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html_a8fdf5cdf041c8aded7e3308c1c3efacc"><div class="ttname"><a href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">llvm::raw_ostream::indent</a></div><div class="ttdeci">raw_ostream &amp; indent(unsigned NumSpaces)</div><div class="ttdoc">indent - Insert 'NumSpaces' spaces.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00495">raw_ostream.cpp:495</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a3498df9755182f44e759fd3eeb688e9f"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a3498df9755182f44e759fd3eeb688e9f">llvm::ScalarEvolution::getSignedRange</a></div><div class="ttdeci">ConstantRange getSignedRange(const SCEV *S)</div><div class="ttdoc">Determine the signed range for a particular SCEV.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00980">ScalarEvolution.h:980</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_afd7c135e18f2d7253d4f8545cd7b1756"><div class="ttname"><a href="classllvm_1_1SmallSet.html#afd7c135e18f2d7253d4f8545cd7b1756">llvm::SmallSet::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00159">SmallSet.h:159</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html_a9af26068ead88bf19cbf15167e82d200"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html#a9af26068ead88bf19cbf15167e82d200">llvm::AssumptionCache::assumptions</a></div><div class="ttdeci">MutableArrayRef&lt; ResultElem &gt; assumptions()</div><div class="ttdoc">Access the list of assumption handles currently tracked for this function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00150">AssumptionCache.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">llvm::CmpInst::ICMP_UGT</a></div><div class="ttdeci">@ ICMP_UGT</div><div class="ttdoc">unsigned greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00741">InstrTypes.h:741</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_af122c2b921533dd3d3d3f0c0569b5624"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#af122c2b921533dd3d3d3f0c0569b5624">llvm::APIntOps::GreatestCommonDivisor</a></div><div class="ttdeci">APInt GreatestCommonDivisor(APInt A, APInt B)</div><div class="ttdoc">Compute GCD of two unsigned APInt values.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00759">APInt.cpp:759</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ada19a89b7c62ce0bb713a7254b002445"><div class="ttname"><a href="classllvm_1_1APInt.html#ada19a89b7c62ce0bb713a7254b002445">llvm::APInt::isSignBitSet</a></div><div class="ttdeci">bool isSignBitSet() const</div><div class="ttdoc">Determine if sign bit of this APInt is set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00324">APInt.h:324</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a4a6966b99e305bd6f01fb17c645ae3da"><div class="ttname"><a href="classllvm_1_1Register.html#a4a6966b99e305bd6f01fb17c645ae3da">llvm::Register::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00126">Register.h:126</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ab02ac78d085871ac8766d18593159944"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ab02ac78d085871ac8766d18593159944">llvm::ScalarEvolution::getLoopInvariantExitCondDuringFirstIterationsImpl</a></div><div class="ttdeci">std::optional&lt; LoopInvariantPredicate &gt; getLoopInvariantExitCondDuringFirstIterationsImpl(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS, const Loop *L, const Instruction *CtxI, const SCEV *MaxIter)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l11132">ScalarEvolution.cpp:11132</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aInstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVCastExpr_html_a0422a5af1687cb7b0572000de74997be"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">llvm::SCEVCastExpr::Ty</a></div><div class="ttdeci">Type * Ty</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00089">ScalarEvolutionExpressions.h:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_aa7414ba9f658ff1287d22a4b8fe81bcb"><div class="ttname"><a href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const</div><div class="ttdoc">Return the predicate for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00808">InstrTypes.h:808</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a8ce0c4746a1ec805e66409d20ae93922"><div class="ttname"><a href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">llvm::PHINode::getIncomingBlock</a></div><div class="ttdeci">BasicBlock * getIncomingBlock(unsigned i) const</div><div class="ttdoc">Return incoming basic block number i.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02814">Instructions.h:2814</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_ae955171baab3d9254f3ffb089c082206"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#ae955171baab3d9254f3ffb089c082206">llvm::ICmpInst::isRelational</a></div><div class="ttdeci">bool isRelational() const</div><div class="ttdoc">Return true if the predicate is relational (not EQ or NE).</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01302">Instructions.h:1302</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a4d5ee57f499d862572c863b9e190884f"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a4d5ee57f499d862572c863b9e190884f">llvm::ScalarEvolution::getZero</a></div><div class="ttdeci">const SCEV * getZero(Type *Ty)</div><div class="ttdoc">Return a SCEV for the constant 0 of a specific type.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00653">ScalarEvolution.h:653</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_aa3e1005525fe79e631f1fe5bd91fdf3c"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aa3e1005525fe79e631f1fe5bd91fdf3c">llvm::ConstantExpr::getMul</a></div><div class="ttdeci">static Constant * getMul(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02671">Constants.cpp:2671</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a3015474e70e59c0a3ed4f9f0e8644b75"><div class="ttname"><a href="classllvm_1_1APInt.html#a3015474e70e59c0a3ed4f9f0e8644b75">llvm::APInt::getActiveBits</a></div><div class="ttdeci">unsigned getActiveBits() const</div><div class="ttdoc">Compute the number of active bits in the value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01463">APInt.h:1463</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a8831f85b65cbcc9cf42d70988845a9f6"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a8831f85b65cbcc9cf42d70988845a9f6">llvm::ConstantRange::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const</div><div class="ttdoc">Print out the bounds to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l01782">ConstantRange.cpp:1782</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnionPredicate_html_a651ce9d5ea7ab9b838bbff841be7ccb9"><div class="ttname"><a href="classllvm_1_1SCEVUnionPredicate.html#a651ce9d5ea7ab9b838bbff841be7ccb9">llvm::SCEVUnionPredicate::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, unsigned Depth) const override</div><div class="ttdoc">Prints a textual representation of this predicate with an indentation of Depth.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14686">ScalarEvolution.cpp:14686</a></div></div>
<div class="ttc" id="aIVUsers_8cpp_html_a4e5b9edb51eec9dbca592075eb64dfcb"><div class="ttname"><a href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a></div><div class="ttdeci">iv Induction Variable Users</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00048">IVUsers.cpp:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVWrapPredicate_html_a0cfd938ff9c572d287e5e7923624db70"><div class="ttname"><a href="classllvm_1_1SCEVWrapPredicate.html#a0cfd938ff9c572d287e5e7923624db70">llvm::SCEVWrapPredicate::IncrementWrapFlags</a></div><div class="ttdeci">IncrementWrapFlags</div><div class="ttdoc">Similar to SCEV::NoWrapFlags, but with slightly different semantics for FlagNUSW.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00345">ScalarEvolution.h:345</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a8de021e28a3c04c9216ad8decf104f02"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">const Instruction * getTerminator() const LLVM_READONLY</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00127">BasicBlock.h:127</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a066220c7a472d8793de64a0ad23487d2"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a066220c7a472d8793de64a0ad23487d2">llvm::KnownBits::makeConstant</a></div><div class="ttdeci">static KnownBits makeConstant(const APInt &amp;C)</div><div class="ttdoc">Create known bits from a known constant.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00310">KnownBits.h:310</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a53f1dcccf8991c637acec7883aba7bfc"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a53f1dcccf8991c637acec7883aba7bfc">llvm::ConstantRange::icmp</a></div><div class="ttdeci">bool icmp(CmpInst::Predicate Pred, const ConstantRange &amp;Other) const</div><div class="ttdoc">Does the predicate Pred hold between ranges this and Other? NOTE: false does not mean that inverse pr...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00242">ConstantRange.cpp:242</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a></div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00047">PatternMatch.h:47</a></div></div>
<div class="ttc" id="aScopeExit_8h_html"><div class="ttname"><a href="ScopeExit_8h.html">ScopeExit.h</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aeab53b73cc54e312fd1745ebffccc7dc"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc">Choose</a></div><div class="ttdeci">static uint64_t Choose(uint64_t n, uint64_t k, bool &amp;Overflow)</div><div class="ttdoc">Compute the result of &quot;n choose k&quot;, the binomial coefficient.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03086">ScalarEvolution.cpp:3086</a></div></div>
<div class="ttc" id="ablake3__impl_8h_html_a78823051d1dad34b9b3d8120112e674d"><div class="ttname"><a href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a></div><div class="ttdeci">static const uint32_t IV[8]</div><div class="ttdef"><b>Definition:</b> <a href="blake3__impl_8h_source.html#l00077">blake3_impl.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aa89e9cec92a0b38d2f47a077bf12cc98"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aa89e9cec92a0b38d2f47a077bf12cc98">llvm::ConstantRange::makeExactICmpRegion</a></div><div class="ttdeci">static ConstantRange makeExactICmpRegion(CmpInst::Predicate Pred, const APInt &amp;Other)</div><div class="ttdoc">Produce the exact range such that all values in the returned range satisfy the given predicate with a...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00157">ConstantRange.cpp:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1EquivalenceClasses_html_a9f74b404e98ecd2608f87f7d561771e2"><div class="ttname"><a href="classllvm_1_1EquivalenceClasses.html#a9f74b404e98ecd2608f87f7d561771e2">llvm::EquivalenceClasses::unionSets</a></div><div class="ttdeci">member_iterator unionSets(const ElemTy &amp;V1, const ElemTy &amp;V2)</div><div class="ttdoc">union - Merge the two equivalence sets for the specified values, inserting them if they do not alread...</div><div class="ttdef"><b>Definition:</b> <a href="EquivalenceClasses_8h_source.html#l00238">EquivalenceClasses.h:238</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ac12fffcedd4a1c8bf428d694451f816c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">llvm::AnalysisUsage::addRequiredTransitive</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredTransitive()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00081">PassAnalysisSupport.h:81</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html">llvm::SmallPtrSetImpl&lt; Instruction * &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_aefeda9454a5e8dfcec3deb106964832a"><div class="ttname"><a href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">llvm::SCEV::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">Return the LLVM type of this SCEV expression.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00401">ScalarEvolution.cpp:401</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_aa7a1b769f9c57010cc41d9c3bb9d39c6"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#aa7a1b769f9c57010cc41d9c3bb9d39c6">llvm::PreservedAnalyses::getChecker</a></div><div class="ttdeci">PreservedAnalysisChecker getChecker() const</div><div class="ttdoc">Build a checker for this PreservedAnalyses and the specified analysis type.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00310">PassManager.h:310</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_aee44336886a06f3c1b8c35c701ba8316"><div class="ttname"><a href="namespacellvm.html#aee44336886a06f3c1b8c35c701ba8316">llvm::getLoadStorePointerOperand</a></div><div class="ttdeci">const Value * getLoadStorePointerOperand(const Value *V)</div><div class="ttdoc">A helper function that returns the pointer operand of a load or store instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l05363">Instructions.h:5363</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aef6d2bea715d1793e956f41ddeea2320"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aef6d2bea715d1793e956f41ddeea2320">llvm::ScalarEvolution::getAddExpr</a></div><div class="ttdeci">const SCEV * getAddExpr(SmallVectorImpl&lt; const SCEV * &gt; &amp;Ops, SCEV::NoWrapFlags Flags=SCEV::FlagAnyWrap, unsigned Depth=0)</div><div class="ttdoc">Get a canonical add expression, or something simpler if possible.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02537">ScalarEvolution.cpp:2537</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ad960e1ff48d25c382b6d28e7961f074e"><div class="ttname"><a href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">llvm::APInt::getLowBitsSet</a></div><div class="ttdeci">static APInt getLowBitsSet(unsigned numBits, unsigned loBitsSet)</div><div class="ttdoc">Constructs an APInt value that has the bottom loBitsSet bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00289">APInt.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html_a14f7b4f1aed38192fb6b7772eb506bdb"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">llvm::IntegerType::get</a></div><div class="ttdeci">static IntegerType * get(LLVMContext &amp;C, unsigned NumBits)</div><div class="ttdoc">This static method is the primary way of constructing an IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00313">Type.cpp:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_af691775d5a45e28afbdb3e97cab22eee"><div class="ttname"><a href="classllvm_1_1LoopBase.html#af691775d5a45e28afbdb3e97cab22eee">llvm::LoopBase::isLoopExiting</a></div><div class="ttdeci">bool isLoopExiting(const BlockT *BB) const</div><div class="ttdoc">True if terminator in the block can branch to another block that is outside of the current loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00242">LoopInfo.h:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a244bfbe5aae876e56cf5e62f0f27867a"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a244bfbe5aae876e56cf5e62f0f27867a">llvm::ConstantInt::isOne</a></div><div class="ttdeci">bool isOne() const</div><div class="ttdoc">This is just a convenience method to make client code smaller for a common case.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00199">Constants.h:199</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae058c4750de2c85f12a1f96841ac9ae3"><div class="ttname"><a href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">llvm::isGuaranteedNotToBePoison</a></div><div class="ttdeci">bool isGuaranteedNotToBePoison(const Value *V, AssumptionCache *AC=nullptr, const Instruction *CtxI=nullptr, const DominatorTree *DT=nullptr, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05588">ValueTracking.cpp:5588</a></div></div>
<div class="ttc" id="anamespacellvm_1_1omp_html_a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443"><div class="ttname"><a href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">llvm::omp::RTLDependInfoFields::Flags</a></div><div class="ttdeci">@ Flags</div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a0604617ad20d16736e33fd23f6545fb5"><div class="ttname"><a href="classllvm_1_1User.html#a0604617ad20d16736e33fd23f6545fb5">llvm::User::Op</a></div><div class="ttdeci">Use &amp; Op()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00133">User.h:133</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea376414ac1f3ac8cb449fd5167a2db091">llvm::scSequentialUMinExpr</a></div><div class="ttdeci">@ scSequentialUMinExpr</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00053">ScalarEvolutionExpressions.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ac3221ac3fcd879a1c716aa954837df79"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac3221ac3fcd879a1c716aa954837df79">llvm::ScalarEvolution::getMinMaxExpr</a></div><div class="ttdeci">const SCEV * getMinMaxExpr(SCEVTypes Kind, SmallVectorImpl&lt; const SCEV * &gt; &amp;Operands)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03837">ScalarEvolution.cpp:3837</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a4fdc09049a61f952b5d52788dbd2f69b"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">llvm::KnownBits::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Get the bit width of this value.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00040">KnownBits.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1EquivalenceClasses_html_aeecd078bb48b46969da2dcb745b0b0f0"><div class="ttname"><a href="classllvm_1_1EquivalenceClasses.html#aeecd078bb48b46969da2dcb745b0b0f0">llvm::EquivalenceClasses::isEquivalent</a></div><div class="ttdeci">bool isEquivalent(const ElemTy &amp;V1, const ElemTy &amp;V2) const</div><div class="ttdef"><b>Definition:</b> <a href="EquivalenceClasses_8h_source.html#l00264">EquivalenceClasses.h:264</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwitchInst_html"><div class="ttname"><a href="classllvm_1_1SwitchInst.html">llvm::SwitchInst</a></div><div class="ttdoc">Multiway switch.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03283">Instructions.h:3283</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_a1339768ca51595b3ebf5c0e69b80c9e8"><div class="ttname"><a href="README__P9_8txt.html#a1339768ca51595b3ebf5c0e69b80c9e8">lshr</a></div><div class="ttdeci">Vector Shift Left don t map to llvm shl and lshr</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00118">README_P9.txt:118</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_acec0ee78d2266b990662e36784791999"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#acec0ee78d2266b990662e36784791999">llvm::PatternMatch::m_BasicBlock</a></div><div class="ttdeci">class_match&lt; BasicBlock &gt; m_BasicBlock()</div><div class="ttdoc">Match an arbitrary basic block value and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00168">PatternMatch.h:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aec226c51f8bffbf8fa3319bf11821cb9"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aec226c51f8bffbf8fa3319bf11821cb9">llvm::ScalarEvolution::~ScalarEvolution</a></div><div class="ttdeci">~ScalarEvolution()</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13471">ScalarEvolution.cpp:13471</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdoc">an instruction to allocate memory on the stack</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a8b4da0fed92ca11bf8cb2fd763168d3c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a8b4da0fed92ca11bf8cb2fd763168d3c">llvm::ScalarEvolution::getWrapPredicate</a></div><div class="ttdeci">const SCEVPredicate * getWrapPredicate(const SCEVAddRecExpr *AR, SCEVWrapPredicate::IncrementWrapFlags AddedFlags)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14411">ScalarEvolution.cpp:14411</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_acb9c55b6986369948507ca5241b4e411"><div class="ttname"><a href="classllvm_1_1APInt.html#acb9c55b6986369948507ca5241b4e411">llvm::APInt::shl</a></div><div class="ttdeci">APInt shl(unsigned shiftAmt) const</div><div class="ttdoc">Left-shift function.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00861">APInt.h:861</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_a84e9b8947377b33bf66815f86269e6ce"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#a84e9b8947377b33bf66815f86269e6ce">llvm::PredicatedScalarEvolution::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, unsigned Depth) const</div><div class="ttdoc">Print the SCEV mappings done by the Predicated Scalar Evolution.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14828">ScalarEvolution.cpp:14828</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc"><div class="ttname"><a href="namespacellvm.html#ad409632178dd00316abd4c35d3e14b5ea0bf2fc9a454ce237fde0906ee24b0acc">llvm::scUMinExpr</a></div><div class="ttdeci">@ scUMinExpr</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00051">ScalarEvolutionExpressions.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPredicate_html_a6d2a13cb997f4164ed8d17c16b50acf1"><div class="ttname"><a href="classllvm_1_1SCEVPredicate.html#a6d2a13cb997f4164ed8d17c16b50acf1">llvm::SCEVPredicate::SCEVPredicate</a></div><div class="ttdeci">SCEVPredicate(const SCEVPredicate &amp;)=default</div></div>
<div class="ttc" id="aREADME-Thumb_8txt_html_aa36a842dc9742127230b93f16e106ddd"><div class="ttname"><a href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">abort</a></div><div class="ttdeci">*Add support for compiling functions in both ARM and Thumb then taking the smallest *Add support for compiling individual basic blocks in thumb when in a larger ARM function This can be used for presumed cold like paths to abort(failure path of asserts)</div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a5bd6d98b4a7ecc1dcdc571e4352fcc52"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a5bd6d98b4a7ecc1dcdc571e4352fcc52">llvm::ConstantRange::isEmptySet</a></div><div class="ttdeci">bool isEmptySet() const</div><div class="ttdoc">Return true if this set contains no members.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00367">ConstantRange.cpp:367</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a76adb4549f349676de0a703a497ca5a5"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a></div><div class="ttdeci">Module * Mod</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00054">PassBuilderBindings.cpp:54</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_ac99b948bcde1ca2925452cc91317656b"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ac99b948bcde1ca2925452cc91317656b">IsAvailableOnEntry</a></div><div class="ttdeci">static bool IsAvailableOnEntry(const Loop *L, DominatorTree &amp;DT, const SCEV *S, BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05908">ScalarEvolution.cpp:5908</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVNAryExpr_html_a1714619ea14108def95a89c39adbe6f4"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a1714619ea14108def95a89c39adbe6f4">llvm::SCEVNAryExpr::getOperand</a></div><div class="ttdeci">const SCEV * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00196">ScalarEvolutionExpressions.h:196</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdoc">Conditional or Unconditional Branch instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03139">Instructions.h:3139</a></div></div>
<div class="ttc" id="anamespacellvm_1_1M68kBeads_html_a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd"><div class="ttname"><a href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">llvm::M68kBeads::Term</a></div><div class="ttdeci">@ Term</div><div class="ttdef"><b>Definition:</b> <a href="M68kBaseInfo_8h_source.html#l00090">M68kBaseInfo.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aebc1456c2e4f9d6d95aa0b089b3df535"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aebc1456c2e4f9d6d95aa0b089b3df535">llvm::ConstantRange::sextOrTrunc</a></div><div class="ttdeci">ConstantRange sextOrTrunc(uint32_t BitWidth) const</div><div class="ttdoc">Make this range have the bit width given by BitWidth.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00866">ConstantRange.cpp:866</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SI_1_1KernelInputOffsets_html_a58b4eae4b0a45d478c7c0f3959b04612"><div class="ttname"><a href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">llvm::SI::KernelInputOffsets::Offsets</a></div><div class="ttdeci">Offsets</div><div class="ttdoc">Offsets in bytes from the start of the input buffer.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01335">SIInstrInfo.h:1335</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00685">README.txt:685</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a87663d0d33a0c3282091364a217a8269"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a87663d0d33a0c3282091364a217a8269">UseExpensiveRangeSharpening</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; UseExpensiveRangeSharpening(&quot;scalar-evolution-use-expensive-range-sharpening&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;Use more powerful methods of sharpening expression ranges. May &quot; &quot;be costly in terms of compile time&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionWrapperPass_html_a2fdc00705da10b32608d7f27ca9255c9"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionWrapperPass.html#a2fdc00705da10b32608d7f27ca9255c9">llvm::ScalarEvolutionWrapperPass::releaseMemory</a></div><div class="ttdeci">void releaseMemory() override</div><div class="ttdoc">releaseMemory() - This member can be implemented by a pass if it wants to be able to release its memo...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14365">ScalarEvolution.cpp:14365</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a22d9bcbd44563106d7217f3bd9a4039e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a22d9bcbd44563106d7217f3bd9a4039e">llvm::ScalarEvolution::getBackedgeTakenCount</a></div><div class="ttdeci">const SCEV * getBackedgeTakenCount(const Loop *L, ExitCountKind Kind=Exact)</div><div class="ttdoc">If the specified loop has a predictable backedge-taken count, return it, otherwise return a SCEVCould...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08331">ScalarEvolution.cpp:8331</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_af74676a3c7447be34bd2c1da76ec0c48"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">llvm::SmallPtrSetImpl::contains</a></div><div class="ttdeci">bool contains(ConstPtrType Ptr) const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00389">SmallPtrSet.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a499ea32ca1b8d16cedfe01d1e5b08f29"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00667">SmallVector.h:667</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">llvm::tgtok::TrueVal</a></div><div class="ttdeci">@ TrueVal</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00062">TGLexer.h:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a7391ca35e3a370a408a9b1967b6a9832"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">llvm::ScalarEvolution::getNotSCEV</a></div><div class="ttdeci">const SCEV * getNotSCEV(const SCEV *V)</div><div class="ttdoc">Return the SCEV object corresponding to ~V.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04583">ScalarEvolution.cpp:4583</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2816e84a08c108d18bc4665bc1817e01"><div class="ttname"><a href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">llvm::abs</a></div><div class="ttdeci">APFloat abs(APFloat X)</div><div class="ttdoc">Returns the absolute value of the argument.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01332">APFloat.h:1332</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_afc5ae5e45df2c40564929779114e8afa"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#afc5ae5e45df2c40564929779114e8afa">llvm::ICmpInst::isLE</a></div><div class="ttdeci">static bool isLE(Predicate P)</div><div class="ttdoc">Return true if the predicate is SLE or ULE.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01332">Instructions.h:1332</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a75a63c2d772bc6e774e216072117b95a"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a75a63c2d772bc6e774e216072117b95a">containsConstantInAddMulChain</a></div><div class="ttdeci">static bool containsConstantInAddMulChain(const SCEV *StartExpr)</div><div class="ttdoc">Determine if any of the operands in this SCEV are a constant or if any of the add or multiply express...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03111">ScalarEvolution.cpp:3111</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a1b9806d21518ef7fb4d5c4299e21411f"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">llvm::ScalarEvolution::isKnownNegative</a></div><div class="ttdeci">bool isKnownNegative(const SCEV *S)</div><div class="ttdoc">Test if the given expression is known to be negative.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l10821">ScalarEvolution.cpp:10821</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a223d678f85ac9b7f03157edb6111e42e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">llvm::ScalarEvolution::getSMinExpr</a></div><div class="ttdeci">const SCEV * getSMinExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04328">ScalarEvolution.cpp:4328</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a04459fa7cb4eeda3238a0f7d554ad3be"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a04459fa7cb4eeda3238a0f7d554ad3be">llvm::ConstantRange::getUpper</a></div><div class="ttdeci">const APInt &amp; getUpper() const</div><div class="ttdoc">Return the upper value for this range.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00201">ConstantRange.h:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_a4541962f9c18aacceb7243520eb15e1f"><div class="ttname"><a href="classllvm_1_1SCEV.html#a4541962f9c18aacceb7243520eb15e1f">llvm::SCEV::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdoc">Return true if the expression is a constant zero.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00460">ScalarEvolution.cpp:460</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a21d6ee82eed29080d911dbb548a8bb68"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">llvm::ScalarEvolution::getSCEVAtScope</a></div><div class="ttdeci">const SCEV * getSCEVAtScope(const SCEV *S, const Loop *L)</div><div class="ttdoc">Return a SCEV expression for the specified value at the specified scope in the program.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09735">ScalarEvolution.cpp:9735</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_a724405b0f1a38bf1394da35604181704"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a724405b0f1a38bf1394da35604181704">llvm::SCEVAddRecExpr::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00340">ScalarEvolutionExpressions.h:340</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a37668d9884c78ac77254cf9fb8a4276a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">llvm::PatternMatch::m_Shl</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Shl &gt; m_Shl(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01111">PatternMatch.h:1111</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ab24add5df0874cdfa47b47b1d9926e9e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">llvm::ScalarEvolution::getExitCount</a></div><div class="ttdeci">const SCEV * getExitCount(const Loop *L, const BasicBlock *ExitingBlock, ExitCountKind Kind=Exact)</div><div class="ttdoc">Return the number of times the backedge executes before the given exit would be taken; if not exactly...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08311">ScalarEvolution.cpp:8311</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVUnknown_html_a0e7135c4da6b1579920bd681fb09ff1a"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html#a0e7135c4da6b1579920bd681fb09ff1a">llvm::SCEVUnknown::isSizeOf</a></div><div class="ttdeci">bool isSizeOf(Type *&amp;AllocTy) const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00577">ScalarEvolution.cpp:577</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryAnalysis_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryAnalysis.html">llvm::TargetLibraryAnalysis</a></div><div class="ttdoc">Analysis pass providing the TargetLibraryInfo.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00540">TargetLibraryInfo.h:540</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a1be30af6ed42477abe149692b7b8a44c"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a1be30af6ed42477abe149692b7b8a44c">PushLoopPHIs</a></div><div class="ttdeci">static void PushLoopPHIs(const Loop *L, SmallVectorImpl&lt; Instruction * &gt; &amp;Worklist, SmallPtrSetImpl&lt; Instruction * &gt; &amp;Visited)</div><div class="ttdoc">Push PHI nodes in the header of the given loop onto the given Worklist.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08349">ScalarEvolution.cpp:8349</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_aa9da73da463d6ed62b1d24df36fac961"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aa9da73da463d6ed62b1d24df36fac961">IsKnownPredicateViaAddRecStart</a></div><div class="ttdeci">static bool IsKnownPredicateViaAddRecStart(ScalarEvolution &amp;SE, ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l12273">ScalarEvolution.cpp:12273</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a7ca5197533a9c1fb8a2bd30587fcec6b"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00152">ArrayRef.h:152</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_afee2477c062b67b487941ee0f4ff95ba"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">llvm::APIntOps::smax</a></div><div class="ttdeci">const APInt &amp; smax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be signed.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02180">APInt.h:2180</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_a7e4be8b16fbd68c9045a388904044e01"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a7e4be8b16fbd68c9045a388904044e01">llvm::BranchInst::isConditional</a></div><div class="ttdeci">bool isConditional() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03218">Instructions.h:3218</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a213e6c0ca6e838157373b9a6018c0769"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a213e6c0ca6e838157373b9a6018c0769">llvm::PatternMatch::m_LogicalAnd</a></div><div class="ttdeci">LogicalOp_match&lt; LHS, RHS, Instruction::And &gt; m_LogicalAnd(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches L &amp;&amp; R either in the form of L &amp; R or L ? R : false.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02556">PatternMatch.h:2556</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_ad97f2e60cf22f15e0cf617af52309031"><div class="ttname"><a href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">llvm::BranchInst::getSuccessor</a></div><div class="ttdeci">BasicBlock * getSuccessor(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03232">Instructions.h:3232</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_a7eec28400b00678b1fb2b5f55ef7ac1b"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a7eec28400b00678b1fb2b5f55ef7ac1b">llvm::SCEVAddRecExpr::getStepRecurrence</a></div><div class="ttdeci">const SCEV * getStepRecurrence(ScalarEvolution &amp;SE) const</div><div class="ttdoc">Constructs and returns the recurrence indicating how much this expression steps by.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00348">ScalarEvolutionExpressions.h:348</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6713c042fa19278b2ed95fbcfe021a40"><div class="ttname"><a href="namespacellvm.html#a6713c042fa19278b2ed95fbcfe021a40">llvm::initializeScalarEvolutionWrapperPassPass</a></div><div class="ttdeci">void initializeScalarEvolutionWrapperPassPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="aclassllvm_1_1LoopAnalysis_html"><div class="ttname"><a href="classllvm_1_1LoopAnalysis.html">llvm::LoopAnalysis</a></div><div class="ttdoc">Analysis pass that exposes the LoopInfo for a function.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01268">LoopInfo.h:1268</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVCastExpr_html_afe14da9100e5e2d9eba66d80f8fd8aac"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html#afe14da9100e5e2d9eba66d80f8fd8aac">llvm::SCEVCastExpr::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00102">ScalarEvolutionExpressions.h:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAddRecExpr_html_a33583576f220997d1c415df033559a57"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a33583576f220997d1c415df033559a57">llvm::SCEVAddRecExpr::evaluateAtIteration</a></div><div class="ttdeci">const SCEV * evaluateAtIteration(const SCEV *It, ScalarEvolution &amp;SE) const</div><div class="ttdoc">Return the value of this chain of recurrences at the specified iteration number.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01034">ScalarEvolution.cpp:1034</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a396fcfee6914c76974b73c3d203da6a5"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">llvm::SmallVectorImpl::emplace_back</a></div><div class="ttdeci">reference emplace_back(ArgTypes &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00941">SmallVector.h:941</a></div></div>
<div class="ttc" id="aScalarEvolution_8cpp_html_a92f35c461d1a816bfd1462942d82999b"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a92f35c461d1a816bfd1462942d82999b">getPreStartForExtend</a></div><div class="ttdeci">static const SCEV * getPreStartForExtend(const SCEVAddRecExpr *AR, Type *Ty, ScalarEvolution *SE, unsigned Depth)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01385">ScalarEvolution.cpp:1385</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a94d23373106467003722f7d6c17b1528"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, T &amp;&amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00809">SmallVector.h:809</a></div></div>
<div class="ttc" id="aclassllvm_1_1PoisonValue_html_a1bf08613fb664a2e377a9a72c59a6b66"><div class="ttname"><a href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">llvm::PoisonValue::get</a></div><div class="ttdeci">static PoisonValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'poison' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01759">Constants.cpp:1759</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aeddb6f4f9ffcb9e893e5cb321b7a7f83"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aeddb6f4f9ffcb9e893e5cb321b7a7f83">llvm::ConstantRange::makeExactNoWrapRegion</a></div><div class="ttdeci">static ConstantRange makeExactNoWrapRegion(Instruction::BinaryOps BinOp, const APInt &amp;Other, unsigned NoWrapKind)</div><div class="ttdoc">Produce the range that contains X if and only if &quot;X BinOp Other&quot; does not wrap.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00355">ConstantRange.cpp:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">llvm::ScalarEvolution::ProperlyDominatesBlock</a></div><div class="ttdeci">@ ProperlyDominatesBlock</div><div class="ttdoc">The SCEV properly dominates the block.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00467">ScalarEvolution.h:467</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:49:45 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
