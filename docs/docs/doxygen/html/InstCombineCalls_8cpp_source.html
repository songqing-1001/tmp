<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/InstCombine/InstCombineCalls.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_99567d9c0c7f3685f25b19ecc341a865.html">InstCombine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">InstCombineCalls.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="InstCombineCalls_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- InstCombineCalls.cpp -----------------------------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the visitCall, visitInvoke, and visitCallBr functions.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstCombineInternal_8h.html">InstCombineInternal.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APFloat_8h.html">llvm/ADT/APFloat.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APInt_8h.html">llvm/ADT/APInt.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APSInt_8h.html">llvm/ADT/APSInt.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLFunctionalExtras_8h.html">llvm/ADT/STLFunctionalExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallBitVector_8h.html">llvm/ADT/SmallBitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumeBundleQueries_8h.html">llvm/Analysis/AssumeBundleQueries.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Loads_8h.html">llvm/Analysis/Loads.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VectorUtils_8h.html">llvm/Analysis/VectorUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2DebugInfo_8h.html">llvm/IR/DebugInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineAsm_8h.html">llvm/IR/InlineAsm.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsAArch64.h&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsAMDGPU.h&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsARM.h&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsHexagon.h&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/IR/PatternMatch.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statepoint_8h.html">llvm/IR/Statepoint.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueHandle_8h.html">llvm/IR/ValueHandle.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AtomicOrdering_8h.html">llvm/Support/AtomicOrdering.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KnownBits_8h.html">llvm/Support/KnownBits.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstCombiner_8h.html">llvm/Transforms/InstCombine/InstCombiner.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumeBundleBuilder_8h.html">llvm/Transforms/Utils/AssumeBundleBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SimplifyLibCalls_8h.html">llvm/Transforms/Utils/SimplifyLibCalls.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   77</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;instcombine&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionWorklist_8h.html">llvm/Transforms/Utils/InstructionWorklist.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">using namespace </span>PatternMatch;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumSimplified, <span class="stringliteral">&quot;Number of library calls simplified&quot;</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="InstCombineCalls_8cpp.html#a3130d3229343ee7ae6b53bffeea4eee2">GuardWideningWindow</a>(</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="stringliteral">&quot;instcombine-guard-widening-window&quot;</span>,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(3),</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;How wide an instruction window to bypass looking for &quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;             <span class="stringliteral">&quot;another guard&quot;</span>));</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {<span class="comment"></span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">/// enable preservation of attributes in assume like:</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">/// call void @llvm.assume(i1 true) [ &quot;nonnull&quot;(i32* %PTR) ]</span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad751953714d1b2170a713d98077daff1">   94</a></span>&#160;<span class="comment"></span><span class="keyword">extern</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#ad751953714d1b2170a713d98077daff1">EnableKnowledgeRetention</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/// Return the specified type promoted as it would be to pass though a va_arg</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">/// area.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#ae3e81cb5632a20699e7989bbfbb6c83e">   99</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="InstCombineCalls_8cpp.html#ae3e81cb5632a20699e7989bbfbb6c83e">getPromotedType</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a>* ITy = dyn_cast&lt;IntegerType&gt;(Ty)) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (ITy-&gt;getBitWidth() &lt; 32)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>());</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">return</span> Ty;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">/// Recognize a memcpy/memmove from a trivially otherwise unused alloca.</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">/// TODO: This should probably be integrated with visitAllocSites, but that</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">/// requires a deeper change to allow either unread or unwritten objects.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a710dc4b7879549524817a90b4557d8c4">  110</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstCombineCalls_8cpp.html#a710dc4b7879549524817a90b4557d8c4">hasUndefSource</a>(<a class="code" href="classllvm_1_1AnyMemTransferInst.html">AnyMemTransferInst</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keyword">auto</span> *Src = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getRawSource();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">while</span> (isa&lt;GetElementPtrInst&gt;(Src) || isa&lt;BitCastInst&gt;(Src)) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (!Src-&gt;hasOneUse())</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    Src = cast&lt;Instruction&gt;(Src)-&gt;getOperand(0);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">return</span> isa&lt;AllocaInst&gt;(Src) &amp;&amp; Src-&gt;hasOneUse();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classllvm_1_1InstCombinerImpl.html#ae3e39244e3fac45ac81d2096353f2b38">  120</a></span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1InstCombinerImpl.html#ae3e39244e3fac45ac81d2096353f2b38">InstCombinerImpl::SimplifyAnyMemTransfer</a>(<a class="code" href="classllvm_1_1AnyMemTransferInst.html">AnyMemTransferInst</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> DstAlign = <a class="code" href="namespacellvm.html#a607b7fac55adc5ea9ed40a78e48a5b00">getKnownAlignment</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getRawDest(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, &amp;AC, &amp;DT);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> CopyDstAlign = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDestAlign();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">if</span> (!CopyDstAlign || *CopyDstAlign &lt; DstAlign) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setDestAlignment(DstAlign);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> SrcAlign = <a class="code" href="namespacellvm.html#a607b7fac55adc5ea9ed40a78e48a5b00">getKnownAlignment</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getRawSource(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, &amp;AC, &amp;DT);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> CopySrcAlign = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getSourceAlign();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span> (!CopySrcAlign || *CopySrcAlign &lt; SrcAlign) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setSourceAlignment(SrcAlign);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// If we have a store to a location which is known constant, we can conclude</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// that the store must be storing the constant value (else the memory</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// wouldn&#39;t be constant), and this must be a noop.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(AA-&gt;getModRefInfoMask(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDest()))) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// Set the size of the copy to 0, it will be deleted on the next iteration.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setLength(<a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getLength()-&gt;getType()));</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// If the source is provably undef, the memcpy/memmove doesn&#39;t do anything</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">// (unless the transfer is volatile).</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstCombineCalls_8cpp.html#a710dc4b7879549524817a90b4557d8c4">hasUndefSource</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isVolatile()) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// Set the size of the copy to 0, it will be deleted on the next iteration.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setLength(<a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getLength()-&gt;getType()));</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// If MemCpyInst length is 1/2/4/8 bytes then replace memcpy with</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// load/store.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *MemOpLength = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getLength());</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">if</span> (!MemOpLength) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// Source and destination pointer types are always &quot;i8*&quot; for intrinsic.  See</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// if the size is something we can handle with a single primitive load/store.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// A single load+store correctly handles overlapping memory in the memmove</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// case.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size = MemOpLength-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a31e8da5adf63afd38b4ab94bca823150">getLimitedValue</a>();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Size &amp;&amp; <span class="stringliteral">&quot;0-sized memory transferring should be removed already.&quot;</span>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">if</span> (Size &gt; 8 || (Size&amp;(Size-1)))</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;  <span class="comment">// If not 1/2/4/8 bytes, exit.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// If it is an atomic and alignment is less than the size then we will</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// introduce the unaligned memory access which will be later transformed</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// into libcall in CodeGen. This is not evident performance gain so disable</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// it now.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> (isa&lt;AtomicMemTransferInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (*CopyDstAlign &lt; Size || *CopySrcAlign &lt; Size)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">// Use an integer load+store unless we can find something better.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordtype">unsigned</span> SrcAddrSp =</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    cast&lt;PointerType&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getArgOperand(1)-&gt;getType())-&gt;getAddressSpace();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordtype">unsigned</span> DstAddrSp =</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    cast&lt;PointerType&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getArgOperand(0)-&gt;getType())-&gt;getAddressSpace();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a>* IntType = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getContext(), Size&lt;&lt;3);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *NewSrcPtrTy = <a class="code" href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">PointerType::get</a>(IntType, SrcAddrSp);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *NewDstPtrTy = <a class="code" href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">PointerType::get</a>(IntType, DstAddrSp);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// If the memcpy has metadata describing the members, see if we can get the</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// TBAA tag describing our copy.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *CopyMD = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMetadata(LLVMContext::MD_tbaa)) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    CopyMD = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMetadata(LLVMContext::MD_tbaa_struct)) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands() == 3 &amp;&amp; <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(0) &amp;&amp;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        mdconst::hasa&lt;ConstantInt&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(0)) &amp;&amp;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        mdconst::extract&lt;ConstantInt&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(0))-&gt;isZero() &amp;&amp;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(1) &amp;&amp;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        mdconst::hasa&lt;ConstantInt&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(1)) &amp;&amp;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        mdconst::extract&lt;ConstantInt&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(1))-&gt;getValue() ==</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        Size &amp;&amp;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(2) &amp;&amp; isa&lt;MDNode&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(2)))</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      CopyMD = cast&lt;MDNode&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(2));</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getArgOperand(1), NewSrcPtrTy);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Dest = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getArgOperand(0), NewDstPtrTy);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *L = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateLoad(IntType, Src);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// Alignment from the mem intrinsic will be better, so use it.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  L-&gt;<a class="code" href="classllvm_1_1LoadInst.html#a2b1268b642e9bf4373b6fb31c482c9ca">setAlignment</a>(*CopySrcAlign);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">if</span> (CopyMD)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    L-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_tbaa, CopyMD);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *LoopMemParallelMD =</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMetadata(LLVMContext::MD_mem_parallel_loop_access);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">if</span> (LoopMemParallelMD)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    L-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_mem_parallel_loop_access, LoopMemParallelMD);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *AccessGroupMD = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMetadata(LLVMContext::MD_access_group);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (AccessGroupMD)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    L-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_access_group, AccessGroupMD);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateStore(L, Dest);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// Alignment from the mem intrinsic will be better, so use it.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setAlignment(*CopyDstAlign);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">if</span> (CopyMD)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setMetadata(LLVMContext::MD_tbaa, CopyMD);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">if</span> (LoopMemParallelMD)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setMetadata(LLVMContext::MD_mem_parallel_loop_access, LoopMemParallelMD);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (AccessGroupMD)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setMetadata(LLVMContext::MD_access_group, AccessGroupMD);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;copyMetadata(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, LLVMContext::MD_DIAssignID);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MT = dyn_cast&lt;MemTransferInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">// non-atomics can be volatile</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    L-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ac363814e84ac1a3aa74798ff4d358a53">setVolatile</a>(MT-&gt;isVolatile());</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setVolatile(MT-&gt;isVolatile());</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">if</span> (isa&lt;AtomicMemTransferInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// atomics have to be unordered</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    L-&gt;<a class="code" href="classllvm_1_1LoadInst.html#a46adba111f7580ebfbb869a008de1818">setOrdering</a>(<a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a288d468c5e0969f26a310773eda65603">AtomicOrdering::Unordered</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setOrdering(<a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a288d468c5e0969f26a310773eda65603">AtomicOrdering::Unordered</a>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// Set the size of the copy to 0, it will be deleted on the next iteration.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setLength(<a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(MemOpLength-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#afe3ce7fc89f36474eb0369cbb792c05a">getType</a>()));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="classllvm_1_1InstCombinerImpl.html#a557f3c41bf651bbd713f9220c59f0b1a">  244</a></span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1InstCombinerImpl.html#a557f3c41bf651bbd713f9220c59f0b1a">InstCombinerImpl::SimplifyAnyMemSet</a>(<a class="code" href="classllvm_1_1AnyMemSetInst.html">AnyMemSetInst</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> KnownAlignment =</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <a class="code" href="namespacellvm.html#a607b7fac55adc5ea9ed40a78e48a5b00">getKnownAlignment</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDest(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, &amp;AC, &amp;DT);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> MemSetAlign = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDestAlign();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span> (!MemSetAlign || *MemSetAlign &lt; KnownAlignment) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setDestAlignment(KnownAlignment);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// If we have a store to a location which is known constant, we can conclude</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// that the store must be storing the constant value (else the memory</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// wouldn&#39;t be constant), and this must be a noop.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(AA-&gt;getModRefInfoMask(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDest()))) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// Set the size of the copy to 0, it will be deleted on the next iteration.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setLength(<a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getLength()-&gt;getType()));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// Remove memset with an undef value.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// FIXME: This is technically incorrect because it might overwrite a poison</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// value. Change to PoisonValue once #52930 is resolved.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getValue())) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// Set the size of the copy to 0, it will be deleted on the next iteration.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setLength(<a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getLength()-&gt;getType()));</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// Extract the length and alignment and fill if they are constant.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *LenC = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getLength());</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *FillC = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getValue());</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">if</span> (!LenC || !FillC || !FillC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#afe3ce7fc89f36474eb0369cbb792c05a">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(8))</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Len = LenC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a31e8da5adf63afd38b4ab94bca823150">getLimitedValue</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Len &amp;&amp; <span class="stringliteral">&quot;0-sized memory setting should be removed already.&quot;</span>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDestAlign().valueOrOne();</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// If it is an atomic and alignment is less than the size then we will</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// introduce the unaligned memory access which will be later transformed</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// into libcall in CodeGen. This is not evident performance gain so disable</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">// it now.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">if</span> (isa&lt;AtomicMemSetInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (Alignment &lt; Len)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// memset(s,c,n) -&gt; store s, c (for n=1,2,4,8)</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (Len &lt;= 8 &amp;&amp; <a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>((<a class="code" href="classuint32__t.html">uint32_t</a>)Len)) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getContext(), Len*8);  <span class="comment">// n=1 -&gt; i8.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Dest = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDest();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordtype">unsigned</span> DstAddrSp = cast&lt;PointerType&gt;(Dest-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getAddressSpace();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *NewDstPtrTy = <a class="code" href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">PointerType::get</a>(ITy, DstAddrSp);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    Dest = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Dest, NewDstPtrTy);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// Extract the fill value and store.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Fill = FillC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>()*0x0101010101010101ULL;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *FillVal = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(ITy, Fill);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateStore(FillVal, Dest, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isVolatile());</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;copyMetadata(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, LLVMContext::MD_DIAssignID);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DAI : <a class="code" href="namespacellvm_1_1at.html#a3c90899e8f022656e511630de42b916c">at::getAssignmentMarkers</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(DAI-&gt;location_ops(), [&amp;](<a class="code" href="classllvm_1_1Value.html">Value</a> *V) { return V == FillC; }))</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        DAI-&gt;replaceVariableLocationOp(FillC, FillVal);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setAlignment(Alignment);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span> (isa&lt;AtomicMemSetInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;setOrdering(<a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a288d468c5e0969f26a310773eda65603">AtomicOrdering::Unordered</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// Set the size of the copy to 0, it will be deleted on the next iteration.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setLength(<a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(LenC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#afe3ce7fc89f36474eb0369cbb792c05a">getType</a>()));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">// TODO, Obvious Missing Transforms:</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">// * Narrow width by halfs excluding zero/undef lanes</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *InstCombinerImpl::simplifyMaskedLoad(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;II) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LoadPtr = II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment =</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      cast&lt;ConstantInt&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getAlignValue();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// If the mask is all ones or undefs, this is a plain vector load of the 1st</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">// argument.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a961f14c05fb26ae34f8dabdd2013b7d6">maskIsAllOneOrUndef</a>(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *L = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedLoad(II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), LoadPtr, Alignment,</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                            <span class="stringliteral">&quot;unmaskedload&quot;</span>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    L-&gt;<a class="code" href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">copyMetadata</a>(II);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">return</span> L;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// If we can unconditionally load from this address, replace with a</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// load/select idiom. TODO: use DT for context sensitive query</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abf1028e2af158aae1e00d3288ca013bb">isDereferenceablePointer</a>(LoadPtr, II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                               II.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">getDataLayout</a>(), &amp;II, &amp;AC)) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedLoad(II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), LoadPtr, Alignment,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                             <span class="stringliteral">&quot;unmaskedload&quot;</span>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    LI-&gt;<a class="code" href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">copyMetadata</a>(II);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSelect(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), LI, II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3));</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">// TODO, Obvious Missing Transforms:</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">// * Single constant active lane -&gt; store</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">// * Narrow width by halfs excluding zero/undef lanes</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InstCombinerImpl::simplifyMaskedStore(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;II) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keyword">auto</span> *ConstMask = dyn_cast&lt;Constant&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3));</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> (!ConstMask)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// If the mask is all zeros, this instruction does nothing.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (ConstMask-&gt;isNullValue())</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> eraseInstFromFunction(II);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// If the mask is all ones, this is a plain vector store of the 1st argument.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> (ConstMask-&gt;isAllOnesValue()) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *StorePtr = II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = cast&lt;ConstantInt&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getAlignValue();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keyword">new</span> <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a>(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), StorePtr, <span class="keyword">false</span>, Alignment);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;copyMetadata(II);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ScalableVectorType&gt;(ConstMask-&gt;getType()))</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// Use masked off lanes to simplify operands via SimplifyDemandedVectorElts</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedElts = <a class="code" href="namespacellvm.html#a1a0a402f51b5d937bbd3accc7bb354ab">possiblyDemandedEltsInMask</a>(ConstMask);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefElts(DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>(), 0);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;          SimplifyDemandedVectorElts(II.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), DemandedElts, UndefElts))</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> replaceOperand(II, 0, V);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">// TODO, Obvious Missing Transforms:</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">// * Single constant active lane load -&gt; load</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">// * Dereferenceable address &amp; few lanes -&gt; scalarize speculative load/selects</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">// * Adjacent vector addresses -&gt; masked.load</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">// * Narrow width by halfs excluding zero/undef lanes</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">// * Vector incrementing address -&gt; vector masked load</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InstCombinerImpl::simplifyMaskedGather(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;II) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keyword">auto</span> *ConstMask = dyn_cast&lt;Constant&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (!ConstMask)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// Vector splat address w/known mask -&gt; scalar load</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// Fold the gather to load the source vector first lane</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// because it is reloading the same value each time</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">if</span> (ConstMask-&gt;isAllOnesValue())</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SplatPtr = <a class="code" href="namespacellvm.html#a48fc95f799e976fb8bf571d61e6337f5">getSplatValue</a>(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0))) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="keyword">auto</span> *VecTy = cast&lt;VectorType&gt;(II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment =</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;          cast&lt;ConstantInt&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getAlignValue();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *L = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedLoad(VecTy-&gt;getElementType(), SplatPtr,</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                              Alignment, <span class="stringliteral">&quot;load.scalar&quot;</span>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Shuf =</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateVectorSplat(VecTy-&gt;getElementCount(), L, <span class="stringliteral">&quot;broadcast&quot;</span>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(II, cast&lt;Instruction&gt;(Shuf));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">// TODO, Obvious Missing Transforms:</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">// * Single constant active lane -&gt; store</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">// * Adjacent vector addresses -&gt; masked.store</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">// * Narrow store width by halfs excluding zero/undef lanes</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">// * Vector incrementing address -&gt; vector masked store</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InstCombinerImpl::simplifyMaskedScatter(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;II) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keyword">auto</span> *ConstMask = dyn_cast&lt;Constant&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3));</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">if</span> (!ConstMask)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// If the mask is all zeros, a scatter does nothing.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">if</span> (ConstMask-&gt;isNullValue())</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span> eraseInstFromFunction(II);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// Vector splat address -&gt; scalar store</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SplatPtr = <a class="code" href="namespacellvm.html#a48fc95f799e976fb8bf571d61e6337f5">getSplatValue</a>(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// scatter(splat(value), splat(ptr), non-zero-mask) -&gt; store value, ptr</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SplatValue = <a class="code" href="namespacellvm.html#a48fc95f799e976fb8bf571d61e6337f5">getSplatValue</a>(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0))) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = cast&lt;ConstantInt&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getAlignValue();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;          <span class="keyword">new</span> <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a>(SplatValue, SplatPtr, <span class="comment">/*IsVolatile=*/</span><span class="keyword">false</span>, Alignment);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;copyMetadata(II);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// scatter(vector, splat(ptr), splat(true)) -&gt; store extract(vector,</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// lastlane), ptr</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">if</span> (ConstMask-&gt;isAllOnesValue()) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = cast&lt;ConstantInt&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getAlignValue();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *WideLoadTy = cast&lt;VectorType&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> VF = WideLoadTy-&gt;<a class="code" href="classllvm_1_1VectorType.html#a59632c5deb0423a518ad984bdd04d41f">getElementCount</a>();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1codeview.html#a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b">EC</a> =</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;          <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt32Ty(), VF.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>());</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *RunTimeVF = VF.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>() ? <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateVScale(EC) : <a class="code" href="namespacellvm_1_1codeview.html#a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b">EC</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *LastLane = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSub(RunTimeVF, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt32(1));</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Extract =</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), LastLane);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;          <span class="keyword">new</span> <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a>(Extract, SplatPtr, <span class="comment">/*IsVolatile=*/</span><span class="keyword">false</span>, Alignment);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;copyMetadata(II);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ScalableVectorType&gt;(ConstMask-&gt;getType()))</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">// Use masked off lanes to simplify operands via SimplifyDemandedVectorElts</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedElts = <a class="code" href="namespacellvm.html#a1a0a402f51b5d937bbd3accc7bb354ab">possiblyDemandedEltsInMask</a>(ConstMask);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefElts(DemandedElts.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>(), 0);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          SimplifyDemandedVectorElts(II.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), DemandedElts, UndefElts))</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">return</span> replaceOperand(II, 0, V);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          SimplifyDemandedVectorElts(II.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1), DemandedElts, UndefElts))</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">return</span> replaceOperand(II, 1, V);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">/// This function transforms launder.invariant.group and strip.invariant.group</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">/// like:</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">/// launder(launder(%x)) -&gt; launder(%x)       (the result is not the argument)</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">/// launder(strip(%x)) -&gt; launder(%x)</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">/// strip(strip(%x)) -&gt; strip(%x)             (the result is not the argument)</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">/// strip(launder(%x)) -&gt; strip(%x)</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">/// This is legal because it preserves the most recent information about</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">/// the presence or absence of invariant.group.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a66277818a970efe89dedd2cb7127fe3a">  478</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="InstCombineCalls_8cpp.html#a66277818a970efe89dedd2cb7127fe3a">simplifyInvariantGroupIntrinsic</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;II,</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                                    <a class="code" href="classllvm_1_1InstCombinerImpl.html">InstCombinerImpl</a> &amp;IC) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keyword">auto</span> *StrippedArg = <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>-&gt;stripPointerCasts();</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keyword">auto</span> *StrippedInvariantGroupsArg = StrippedArg;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">auto</span> *<a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a> = dyn_cast&lt;IntrinsicInst&gt;(StrippedInvariantGroupsArg)) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a>-&gt;getIntrinsicID() != Intrinsic::launder_invariant_group &amp;&amp;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a>-&gt;getIntrinsicID() != Intrinsic::strip_invariant_group)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    StrippedInvariantGroupsArg = <a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a>-&gt;getArgOperand(0)-&gt;stripPointerCasts();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">if</span> (StrippedArg == StrippedInvariantGroupsArg)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; <span class="comment">// No launders/strips to remove.</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Result = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span> (II.<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::launder_invariant_group)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    Result = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a0fb8bf2cae796307f012fc621678642f">CreateLaunderInvariantGroup</a>(StrippedInvariantGroupsArg);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (II.<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::strip_invariant_group)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    Result = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#af9f3d0f2901feeff9d52b95e58fbb49b">CreateStripInvariantGroup</a>(StrippedInvariantGroupsArg);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="stringliteral">&quot;simplifyInvariantGroupIntrinsic only handles launder and strip&quot;</span>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span> (Result-&gt;getType()-&gt;getPointerAddressSpace() !=</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>())</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    Result = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae81c68608606dfb25edd3103a78d138a">CreateAddrSpaceCast</a>(Result, II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> (Result-&gt;getType() != II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    Result = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(Result, II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">return</span> cast&lt;Instruction&gt;(Result);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#ad5ce0d2ef90aba4d2d0181cff43acc9b">  510</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="InstCombineCalls_8cpp.html#ad5ce0d2ef90aba4d2d0181cff43acc9b">foldCttzCtlz</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;II, <a class="code" href="classllvm_1_1InstCombinerImpl.html">InstCombinerImpl</a> &amp;IC) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((II.<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::cttz ||</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;          II.<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::ctlz) &amp;&amp;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;         <span class="stringliteral">&quot;Expected cttz or ctlz intrinsic&quot;</span>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordtype">bool</span> IsTZ = II.<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::cttz;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// ctlz(bitreverse(x)) -&gt; cttz(x)</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// cttz(bitreverse(x)) -&gt; ctlz(x)</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8f793deb2edf1656236f570c01d7042e">m_BitReverse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = IsTZ ? Intrinsic::ctlz : Intrinsic::cttz;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(II.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, {<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)});</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">if</span> (II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1)) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="comment">// ctlz/cttz i1 Op0 --&gt; not Op0</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a4f500ae0de71695b652af4c0958d8ea8">BinaryOperator::CreateNot</a>(Op0);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// If zero is poison, then the input can be assumed to be &quot;true&quot;, so the</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">// instruction simplifies to &quot;false&quot;.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()) &amp;&amp; <span class="stringliteral">&quot;Expected ctlz/cttz operand to be 0 or 1&quot;</span>);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#aa00031e59684d793baa874f11ddaf189">replaceInstUsesWith</a>(II, <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantInt::getNullValue</a>(II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// If the operand is a select with constant arm(s), try to hoist ctlz/cttz.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Sel = dyn_cast&lt;SelectInst&gt;(Op0))</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *R = IC.<a class="code" href="classllvm_1_1InstCombinerImpl.html#a039111728e11b1cdf25e60446ae17f2a">FoldOpIntoSelect</a>(II, Sel))</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">if</span> (IsTZ) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// cttz(-x) -&gt; cttz(x)</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#abc13043585e5845ce7fc26b858851ec9">replaceOperand</a>(II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// cttz(sext(x)) -&gt; cttz(zext(x))</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keyword">auto</span> *Zext = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a9e3a8d42fb905a26e3d71447d754d26e">CreateZExt</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keyword">auto</span> *CttzZext =</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;          IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a9dd3b826858e2830f89aa99b46fb166f">CreateBinaryIntrinsic</a>(Intrinsic::cttz, Zext, Op1);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#aa00031e59684d793baa874f11ddaf189">replaceInstUsesWith</a>(II, CttzZext);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">// Zext doesn&#39;t change the number of trailing zeros, so narrow:</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// cttz(zext(x)) -&gt; zext(cttz(x)) if the &#39;ZeroIsPoison&#39; parameter is &#39;true&#39;.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">m_ZExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>())) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keyword">auto</span> *Cttz = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a9dd3b826858e2830f89aa99b46fb166f">CreateBinaryIntrinsic</a>(Intrinsic::cttz, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                                    IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a414e874f68f2400a42f68317c97c79a2">getTrue</a>());</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keyword">auto</span> *ZextCttz = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a9e3a8d42fb905a26e3d71447d754d26e">CreateZExt</a>(Cttz, II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#aa00031e59684d793baa874f11ddaf189">replaceInstUsesWith</a>(II, ZextCttz);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// cttz(abs(x)) -&gt; cttz(x)</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">// cttz(nabs(x)) -&gt; cttz(x)</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="namespacellvm.html#a6bf471c1030973649c2e426afc212097">SelectPatternFlavor</a> SPF = <a class="code" href="namespacellvm.html#a7aad5a0e62a54747f455651ee2dd08ed">matchSelectPattern</a>(Op0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>).<a class="code" href="structllvm_1_1SelectPatternResult.html#a3ca9c2098248eac9051008d6eb9f321d">Flavor</a>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (SPF == <a class="code" href="namespacellvm.html#a6bf471c1030973649c2e426afc212097a07d293fd946951d9655259c5e9b93356">SPF_ABS</a> || SPF == <a class="code" href="namespacellvm.html#a6bf471c1030973649c2e426afc212097a08658871fecea100ad724bd8b1c3ae56">SPF_NABS</a>)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#abc13043585e5845ce7fc26b858851ec9">replaceOperand</a>(II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, m_Intrinsic&lt;Intrinsic::abs&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#abc13043585e5845ce7fc26b858851ec9">replaceOperand</a>(II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae099c6fa4a0b06306ece7dd372e8d02a">computeKnownBits</a>(Op0, 0, &amp;II);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// Create a mask for bits above (ctlz) or below (cttz) the first known one.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordtype">unsigned</span> PossibleZeros = IsTZ ? Known.<a class="code" href="structllvm_1_1KnownBits.html#a2ad6370e532a52014fe2e5a54bfbaddd">countMaxTrailingZeros</a>()</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                : Known.<a class="code" href="structllvm_1_1KnownBits.html#aaf8d1fc0f6386ef04a4b991fd73d823b">countMaxLeadingZeros</a>();</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordtype">unsigned</span> DefiniteZeros = IsTZ ? Known.<a class="code" href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">countMinTrailingZeros</a>()</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                                : Known.<a class="code" href="structllvm_1_1KnownBits.html#a7f47812e8e75b0616a97d7004e5fb909">countMinLeadingZeros</a>();</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="comment">// If all bits above (ctlz) or below (cttz) the first known one are known</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="comment">// zero, this value is constant.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="comment">// FIXME: This should be in InstSimplify because we&#39;re replacing an</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="comment">// instruction with a constant.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (PossibleZeros == DefiniteZeros) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), DefiniteZeros);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#aa00031e59684d793baa874f11ddaf189">replaceInstUsesWith</a>(II, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="comment">// If the input to cttz/ctlz is known to be non-zero,</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="comment">// then change the &#39;ZeroIsPoison&#39; parameter to &#39;true&#39;</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="comment">// because we know the zero behavior can&#39;t affect the result.</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">if</span> (!Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>() ||</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(Op0, IC.<a class="code" href="classllvm_1_1InstCombiner.html#a66eb0dc4cd710cba31cbf66f6c031bfb">getDataLayout</a>(), 0, &amp;IC.<a class="code" href="classllvm_1_1InstCombiner.html#a5201cada4c6fdb4e554ad1a411ebe0d7">getAssumptionCache</a>(), &amp;II,</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                     &amp;IC.<a class="code" href="classllvm_1_1InstCombiner.html#a4195c2aa0f9ee957bcfdff5de365b0b5">getDominatorTree</a>())) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#abc13043585e5845ce7fc26b858851ec9">replaceOperand</a>(II, 1, IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a414e874f68f2400a42f68317c97c79a2">getTrue</a>());</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="comment">// Add range metadata since known bits can&#39;t completely reflect what we know.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="comment">// TODO: Handle splat vectors.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a> = dyn_cast&lt;IntegerType&gt;(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a> &amp;&amp; <a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a>-&gt;getBitWidth() != 1 &amp;&amp; !II.<a class="code" href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">getMetadata</a>(LLVMContext::MD_range)) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code" href="NVVMIntrRange_8cpp.html#aa8454ff54215a2f051cbe7175c46ffcf">LowAndHigh</a>[] = {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a>, DefiniteZeros)),</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a>, PossibleZeros + 1))};</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    II.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_range,</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                   <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(II.<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), <a class="code" href="NVVMIntrRange_8cpp.html#aa8454ff54215a2f051cbe7175c46ffcf">LowAndHigh</a>));</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> &amp;II;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a1baf39823603c8c66900871e2bf8fddb">  616</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="InstCombineCalls_8cpp.html#a1baf39823603c8c66900871e2bf8fddb">foldCtpop</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;II, <a class="code" href="classllvm_1_1InstCombinerImpl.html">InstCombinerImpl</a> &amp;IC) {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(II.<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::ctpop &amp;&amp;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;         <span class="stringliteral">&quot;Expected ctpop intrinsic&quot;</span>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// ctpop(bitreverse(x)) -&gt; ctpop(x)</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">// ctpop(bswap(x)) -&gt; ctpop(x)</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8f793deb2edf1656236f570c01d7042e">m_BitReverse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a39d717dc10783ec7bd5a24111bd5b8a5">m_BSwap</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#abc13043585e5845ce7fc26b858851ec9">replaceOperand</a>(II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// ctpop(rot(x)) -&gt; ctpop(x)</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aeabb6bae24f546580e022835285da5ab">m_FShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) ||</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a768e1a76107c46276e339b07744f888a">m_FShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))) &amp;&amp;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> == <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#abc13043585e5845ce7fc26b858851ec9">replaceOperand</a>(II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// ctpop(x | -x) -&gt; bitwidth - cttz(x, false)</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">if</span> (Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() &amp;&amp;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> =</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(II.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), Intrinsic::cttz, Ty);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keyword">auto</span> *Cttz = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, {<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a337deb4326c2dbbe852f77d2d213a9fb">getFalse</a>()});</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keyword">auto</span> *Bw = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>));</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">return</span> IC.<a class="code" href="classllvm_1_1InstCombiner.html#aa00031e59684d793baa874f11ddaf189">replaceInstUsesWith</a>(II, IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae6726acc1703b8e5e7e9688621c67c33">CreateSub</a>(Bw, Cttz));</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// ctpop(~x &amp; (x - 1)) -&gt; cttz(x, false)</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0,</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>())))) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> =</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(II.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), Intrinsic::cttz, Ty);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, {<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a337deb4326c2dbbe852f77d2d213a9fb">getFalse</a>()});</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">// Zext doesn&#39;t change the number of set bits, so narrow:</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// ctpop (zext X) --&gt; zext (ctpop X)</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">m_ZExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NarrowPop = IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a07e8f35cd6c7f10fd7cd4166c790c93b">CreateUnaryIntrinsic</a>(Intrinsic::ctpop, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">CastInst::Create</a>(Instruction::ZExt, NarrowPop, Ty);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="comment">// If the operand is a select with constant arm(s), try to hoist ctpop.</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Sel = dyn_cast&lt;SelectInst&gt;(Op0))</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *R = IC.<a class="code" href="classllvm_1_1InstCombinerImpl.html#a039111728e11b1cdf25e60446ae17f2a">FoldOpIntoSelect</a>(II, Sel))</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae099c6fa4a0b06306ece7dd372e8d02a">computeKnownBits</a>(Op0, Known, 0, &amp;II);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="comment">// If all bits are zero except for exactly one fixed bit, then the result</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="comment">// must be 0 or 1, and we can get that answer by shifting to LSB:</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="comment">// ctpop (X &amp; 32) --&gt; (X &amp; 32) &gt;&gt; 5</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="comment">// TODO: Investigate removing this as its likely unnecessary given the below</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="comment">// `isKnownToBeAPowerOfTwo` check.</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">if</span> ((~Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>).isPowerOf2())</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">return</span> BinaryOperator::CreateLShr(</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        Op0, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, (~Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>).exactLogBase2()));</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="comment">// More generally we can also handle non-constant power of 2 patterns such as</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// shl/shr(Pow2, X), (X &amp; -X), etc... by transforming:</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="comment">// ctpop(Pow2OrZero) --&gt; icmp ne X, 0</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">if</span> (IC.<a class="code" href="classllvm_1_1InstCombiner.html#a46e6cc426055f50cdb04009adb4c2f94">isKnownToBeAPowerOfTwo</a>(Op0, <span class="comment">/* OrZero */</span> <span class="keyword">true</span>))</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">CastInst::Create</a>(Instruction::ZExt,</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                            IC.<a class="code" href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">Builder</a>.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7ca3b58ad6dc93128afd44fbe61a1174">CreateICmp</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>, Op0,</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                                                  <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Ty)),</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                            Ty);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">// FIXME: Try to simplify vectors of integers.</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a> = dyn_cast&lt;IntegerType&gt;(Ty);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a>)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// Add range metadata since known bits can&#39;t completely reflect what we know.</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordtype">unsigned</span> MinCount = Known.<a class="code" href="structllvm_1_1KnownBits.html#ad2ecbbccee1ca4e3ddde24cc714ec79e">countMinPopulation</a>();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordtype">unsigned</span> MaxCount = Known.<a class="code" href="structllvm_1_1KnownBits.html#a4676f4bc7da9235ff3b6683dd670d7be">countMaxPopulation</a>();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a>-&gt;getBitWidth() != 1 &amp;&amp; !II.<a class="code" href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">getMetadata</a>(LLVMContext::MD_range)) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code" href="NVVMIntrRange_8cpp.html#aa8454ff54215a2f051cbe7175c46ffcf">LowAndHigh</a>[] = {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a>, MinCount)),</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a>, MaxCount + 1))};</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    II.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_range,</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                   <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(II.<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), <a class="code" href="NVVMIntrRange_8cpp.html#aa8454ff54215a2f051cbe7175c46ffcf">LowAndHigh</a>));</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">return</span> &amp;II;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">/// Convert a table lookup to shufflevector if the mask is constant.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">/// This could benefit tbl1 if the mask is { 7,6,5,4,3,2,1,0 }, in</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">/// which case we could lower the shufflevector with rev64 instructions</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">/// as it&#39;s actually a byte reverse.</span></div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#ad730bb36632fcc356a80297000a558a8">  710</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstCombineCalls_8cpp.html#ad730bb36632fcc356a80297000a558a8">simplifyNeonTbl1</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;II,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                               <a class="code" href="classllvm_1_1IRBuilder.html">InstCombiner::BuilderTy</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="comment">// Bail out if the mask is not a constant.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keyword">auto</span> *VecTy = cast&lt;FixedVectorType&gt;(II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// Only perform this transformation for &lt;8 x i8&gt; vector types.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">if</span> (!VecTy-&gt;getElementType()-&gt;isIntegerTy(8) || NumElts != 8)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordtype">int</span> Indexes[8];</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumElts; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *COp = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;<a class="code" href="classllvm_1_1Constant.html#acd530d0571f320d47d37e7ae51cf70ff">getAggregateElement</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (!COp || !isa&lt;ConstantInt&gt;(COp))</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    Indexes[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = cast&lt;ConstantInt&gt;(COp)-&gt;getLimitedValue();</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">// Make sure the mask indices are in range.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)Indexes[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] &gt;= NumElts)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keyword">auto</span> *V1 = II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a> = <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(V1-&gt;getType());</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(V1, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Indexes));</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">// Returns true iff the 2 intrinsics have the same operands, limiting the</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">// comparison to the first NumOperands.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a5f1a7bcc8458a7dd284f38f1b748f048">  746</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstCombineCalls_8cpp.html#a5f1a7bcc8458a7dd284f38f1b748f048">haveSameOperands</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                             <span class="keywordtype">unsigned</span> NumOperands) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.arg_size() &gt;= NumOperands &amp;&amp; <span class="stringliteral">&quot;Not enough operands&quot;</span>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.arg_size() &gt;= NumOperands &amp;&amp; <span class="stringliteral">&quot;Not enough operands&quot;</span>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NumOperands; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.getArgOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">// Remove trivially empty start/end intrinsic ranges, i.e. a start</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">// immediately followed by an end (ignoring debuginfo or other</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">// start/end intrinsics in between). As this handles only the most trivial</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">// cases, tracking the nesting level is not needed:</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">//   call @llvm.foo.start(i1 0)</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">//   call @llvm.foo.start(i1 0) ; This one won&#39;t be skipped: it will be removed</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">//   call @llvm.foo.end(i1 0)</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">//   call @llvm.foo.end(i1 0) ; &amp;I</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a1fbbf5255240485629c031aa08e41c3f">  766</a></span>&#160;<a class="code" href="InstCombineCalls_8cpp.html#a1fbbf5255240485629c031aa08e41c3f">removeTriviallyEmptyRange</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;EndI, <a class="code" href="classllvm_1_1InstCombinerImpl.html">InstCombinerImpl</a> &amp;IC,</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                          <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;)&gt; IsStart) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// We start from the end intrinsic and scan backwards, so that InstCombine</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// has already processed (and potentially removed) all the instructions</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">// before the end intrinsic.</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html#a6d3231fb84ed4182ec22e9442a87dbf8">BasicBlock::reverse_iterator</a> BI(EndI), BE(EndI.<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a9237251072bf6816163abc2d053212ee">rend</a>());</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordflow">for</span> (; BI != BE; ++BI) {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;IntrinsicInst&gt;(&amp;*BI)) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isDebugOrPseudoInst() ||</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;          <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getIntrinsicID() == EndI.<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>())</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">if</span> (IsStart(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="InstCombineCalls_8cpp.html#a5f1a7bcc8458a7dd284f38f1b748f048">haveSameOperands</a>(EndI, *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, EndI.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>())) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;          IC.<a class="code" href="classllvm_1_1InstCombinerImpl.html#a8a9b236a3c941e893f6eaa6ca6e4a36f">eraseInstFromFunction</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;          IC.<a class="code" href="classllvm_1_1InstCombinerImpl.html#a8a9b236a3c941e893f6eaa6ca6e4a36f">eraseInstFromFunction</a>(EndI);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="comment">// Skip start intrinsics that don&#39;t pair with this end intrinsic.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="classllvm_1_1InstCombinerImpl.html#ad964f4a5d168d23f98338e1785a4ed28">  793</a></span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1InstCombinerImpl.html#ad964f4a5d168d23f98338e1785a4ed28">InstCombinerImpl::visitVAEndInst</a>(<a class="code" href="classllvm_1_1VAEndInst.html">VAEndInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <a class="code" href="InstCombineCalls_8cpp.html#a1fbbf5255240485629c031aa08e41c3f">removeTriviallyEmptyRange</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, *<span class="keyword">this</span>, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getIntrinsicID() == Intrinsic::vastart ||</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;           <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getIntrinsicID() == Intrinsic::vacopy;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  });</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;}</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#aa8ac134b1e5c06143cfd5cd57914bfbe">  801</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="InstCombineCalls_8cpp.html#aa8ac134b1e5c06143cfd5cd57914bfbe">canonicalizeConstantArg0ToArg1</a>(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> &amp;Call) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Call.arg_size() &gt; 1 &amp;&amp; <span class="stringliteral">&quot;Need at least 2 args to swap&quot;</span>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = Call.getArgOperand(0), *Arg1 = Call.getArgOperand(1);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keywordflow">if</span> (isa&lt;Constant&gt;(Arg0) &amp;&amp; !isa&lt;Constant&gt;(Arg1)) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    Call.setArgOperand(0, Arg1);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    Call.setArgOperand(1, Arg0);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">return</span> &amp;Call;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;}</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">/// Creates a result tuple for an overflow intrinsic \p II with a given</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">/// \p Result and a constant \p Overflow value.</span></div>
<div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a7bb58097e5f88eef40c12b7e066e2bfd">  814</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="InstCombineCalls_8cpp.html#a7bb58097e5f88eef40c12b7e066e2bfd">createOverflowTuple</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II, <a class="code" href="classllvm_1_1Value.html">Value</a> *Result,</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                                        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Overflow) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *V[] = {<a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Result-&gt;getType()), Overflow};</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <a class="code" href="classllvm_1_1StructType.html">StructType</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = cast&lt;StructType&gt;(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a763a932e166ac85a6d2d1606e8649993">Struct</a> = <a class="code" href="classllvm_1_1ConstantStruct.html#a54fcfa620deb80373f489ba2fdad7643">ConstantStruct::get</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>, V);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InsertValueInst.html#a40315c7d4fb418dd3c967898ee070f40">InsertValueInst::Create</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a763a932e166ac85a6d2d1606e8649993">Struct</a>, Result, 0);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;InstCombinerImpl::foldIntrinsicWithOverflowCommon(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <a class="code" href="classllvm_1_1WithOverflowInst.html">WithOverflowInst</a> *WO = cast&lt;WithOverflowInst&gt;(II);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *OperationResult = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13">OverflowResult</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordflow">if</span> (OptimizeOverflowCheck(WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#aa73e62aac1753cb7b3c3aaccef3df8b1">getBinaryOp</a>(), WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#a814f3097eebe0236748fcc2ab5ce59d5">isSigned</a>(), WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#a8818b44063f9f3339d4ced72bd76b107">getLHS</a>(),</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                            WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#a6822c506d77c8ba56e85bee5cd1ed01b">getRHS</a>(), *WO, OperationResult, <a class="code" href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13">OverflowResult</a>))</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstCombineCalls_8cpp.html#a7bb58097e5f88eef40c12b7e066e2bfd">createOverflowTuple</a>(WO, OperationResult, <a class="code" href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13">OverflowResult</a>);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InstCombinerImpl::foldIntrinsicIsFPClass(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;II) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src0 = II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src1 = II.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CMask = cast&lt;ConstantInt&gt;(Src1);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = CMask-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> IsStrict = II.<a class="code" href="classllvm_1_1CallBase.html#a300433f583bb9e2862b84df663f43f40">isStrictFP</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FNegSrc;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Src0, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(FNegSrc)))) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="comment">// is.fpclass (fneg x), mask -&gt; is.fpclass x, (fneg mask)</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordtype">unsigned</span> NewMask = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a716ec8744e413e6a82f58f1095b40b99">fcNegInf</a>)</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ace8cc3cdd99d4ce78ff9f4bf4c681d28">fcPosInf</a>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a60c3b254a3f56b2bf31bc568492c4a74">fcNegNormal</a>)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67afff82cc4502e0e3bf3575c9622284e18">fcPosNormal</a>;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67aef5dadf4b31ffe9ff41bc8b25bd012de">fcNegSubnormal</a>)</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a2415abc0d17bb4bfad67606913c8ce10">fcPosSubnormal</a>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a50692bcfd265e6f9efb0582dbdf6d382">fcNegZero</a>)</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3ce5d8e60ab35c2eac434686f7938f13">fcPosZero</a>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3ce5d8e60ab35c2eac434686f7938f13">fcPosZero</a>)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a50692bcfd265e6f9efb0582dbdf6d382">fcNegZero</a>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a2415abc0d17bb4bfad67606913c8ce10">fcPosSubnormal</a>)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67aef5dadf4b31ffe9ff41bc8b25bd012de">fcNegSubnormal</a>;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67afff82cc4502e0e3bf3575c9622284e18">fcPosNormal</a>)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a60c3b254a3f56b2bf31bc568492c4a74">fcNegNormal</a>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ace8cc3cdd99d4ce78ff9f4bf4c681d28">fcPosInf</a>)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a716ec8744e413e6a82f58f1095b40b99">fcNegInf</a>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    II.<a class="code" href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">setArgOperand</a>(1, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Src1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), NewMask));</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">return</span> replaceOperand(II, 0, FNegSrc);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FAbsSrc;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Src0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7638daf70e17d093dd35f06211dc7a87">m_FAbs</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(FAbsSrc)))) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordtype">unsigned</span> NewMask = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3ce5d8e60ab35c2eac434686f7938f13">fcPosZero</a>)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a68c7b3dbc94a6864f2cf566958954247">fcZero</a>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a2415abc0d17bb4bfad67606913c8ce10">fcPosSubnormal</a>)</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a1d0a7c99f3541df874ad98ba481b27d6">fcSubnormal</a>;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67afff82cc4502e0e3bf3575c9622284e18">fcPosNormal</a>)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a64cb92f784db53c70b9246a3cc632b25">fcNormal</a>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ace8cc3cdd99d4ce78ff9f4bf4c681d28">fcPosInf</a>)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      NewMask |= <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7">fcInf</a>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    II.<a class="code" href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">setArgOperand</a>(1, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Src1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), NewMask));</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">return</span> replaceOperand(II, 0, FAbsSrc);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a> &amp;&amp; !IsStrict) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">// Equivalent of isnan. Replace with standard fcmp if we don&#39;t care about FP</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">// exceptions.</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *IsNan =</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFCmpUNO(Src0, <a class="code" href="classllvm_1_1ConstantFP.html#a75071440d60c24178371ca1299f4ef07">ConstantFP::getZero</a>(Src0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    IsNan-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(&amp;II);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">return</span> replaceInstUsesWith(II, IsNan);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> == (~<a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a>) &amp;&amp; !IsStrict) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">// Equivalent of !isnan. Replace with standard fcmp.</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *FCmp =</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFCmpORD(Src0, <a class="code" href="classllvm_1_1ConstantFP.html#a75071440d60c24178371ca1299f4ef07">ConstantFP::getZero</a>(Src0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    FCmp-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(&amp;II);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">return</span> replaceInstUsesWith(II, FCmp);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="comment">// fp_class (nnan x), qnan|snan|other -&gt; fp_class (nnan x), other</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a>) &amp;&amp; <a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(Src0, &amp;getTargetLibraryInfo())) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    II.<a class="code" href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">setArgOperand</a>(1, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Src1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; ~<a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a>));</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">return</span> &amp;II;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="comment">// fp_class (nnan x), ~(qnan|snan) -&gt; true</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> == (~<a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a>) &amp;&amp;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(Src0, &amp;getTargetLibraryInfo())) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">return</span> replaceInstUsesWith(II, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <span class="keyword">true</span>));</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// fp_class (ninf x), ninf|pinf|other -&gt; fp_class (ninf x), other</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7">fcInf</a>) &amp;&amp; <a class="code" href="namespacellvm.html#a670d4ce84e762e337fbf51e582316e13">isKnownNeverInfinity</a>(Src0, &amp;getTargetLibraryInfo())) {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    II.<a class="code" href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">setArgOperand</a>(1, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Src1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; ~<a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7">fcInf</a>));</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">return</span> &amp;II;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// fp_class (ninf x), ~(ninf|pinf) -&gt; true</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> == (~<a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7">fcInf</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a>) &amp;&amp;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <a class="code" href="namespacellvm.html#a670d4ce84e762e337fbf51e582316e13">isKnownNeverInfinity</a>(Src0, &amp;getTargetLibraryInfo())) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">return</span> replaceInstUsesWith(II, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(II.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <span class="keyword">true</span>));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#af81876d44c8fa22864767ba4d9bf5b0a">  925</a></span>&#160;<span class="keyword">static</span> std::optional&lt;bool&gt; <a class="code" href="InstCombineCalls_8cpp.html#af81876d44c8fa22864767ba4d9bf5b0a">getKnownSign</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CxtI,</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *AC,</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                                   <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, AC, CxtI, DT);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>())</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">isNegative</a>())</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ace8c2df4c506b92296cad275b4211022">m_NSWSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#adbc4e5b23d7154e30b03717a470e8178">isImpliedByDomCondition</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, CxtI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#adbc4e5b23d7154e30b03717a470e8178">isImpliedByDomCondition</a>(</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()), CxtI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment">/// Try to canonicalize min/max(X + C0, C1) as min/max(X, C1 - C0) + C0. This</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">/// can trigger other combines.</span></div>
<div class="line"><a name="l00944"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#af0454356bbedffca31b25006103f0a24">  944</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="InstCombineCalls_8cpp.html#af0454356bbedffca31b25006103f0a24">moveAddAfterMinMax</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II,</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                                       <a class="code" href="classllvm_1_1IRBuilder.html">InstCombiner::BuilderTy</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> MinMaxID = II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((MinMaxID == <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a> || MinMaxID == <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a> ||</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;          MinMaxID == <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a> || MinMaxID == <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">Intrinsic::umin</a>) &amp;&amp;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;         <span class="stringliteral">&quot;Expected a min or max intrinsic&quot;</span>);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="comment">// TODO: Match vectors with undef elements, but undef may not propagate.</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), *Op1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *C0, *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0)))) ||</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)))</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="comment">// Check for necessary no-wrap and overflow constraints.</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordtype">bool</span> IsSigned = MinMaxID == <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a> || MinMaxID == <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keyword">auto</span> *Add = cast&lt;BinaryOperator&gt;(Op0);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordflow">if</span> ((IsSigned &amp;&amp; !Add-&gt;hasNoSignedWrap()) ||</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      (!IsSigned &amp;&amp; !Add-&gt;hasNoUnsignedWrap()))</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="comment">// If the constant difference overflows, then instsimplify should reduce the</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="comment">// min/max to the add or C1.</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordtype">bool</span> Overflow;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> CDiff =</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      IsSigned ? <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;ssub_ov(*C0, Overflow) : <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;usub_ov(*C0, Overflow);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Overflow &amp;&amp; <span class="stringliteral">&quot;Expected simplify of min/max&quot;</span>);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">// min/max (add X, C0), C1 --&gt; add (min/max X, C1 - C0), C0</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="comment">// Note: the &quot;mismatched&quot; no-overflow setting does not propagate.</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NewMinMaxC = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), CDiff);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NewMinMax = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(MinMaxID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, NewMinMaxC);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordflow">return</span> IsSigned ? BinaryOperator::CreateNSWAdd(NewMinMax, Add-&gt;getOperand(1))</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                  : BinaryOperator::CreateNUWAdd(NewMinMax, Add-&gt;getOperand(1));</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;}<span class="comment"></span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">/// Match a sadd_sat or ssub_sat which is using min/max to clamp the value.</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InstCombinerImpl::matchSAddSubSat(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;MinMax1) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = MinMax1.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">// We are looking for a tree of:</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="comment">// max(INT_MIN, min(INT_MAX, add(sext(A), sext(B))))</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="comment">// Where the min and max could be reversed</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *MinMax2;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b">AddSub</a>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *MinValue, *MaxValue;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(&amp;MinMax1, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a04353aa48874f9bda89ff9059cd1a5a6">m_Instruction</a>(MinMax2), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(MaxValue)))) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(MinMax2, <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a43ac4fbaaf63a88eb5ac05f6d3e5649c">m_BinOp</a>(AddSub), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(MinValue))))</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(&amp;MinMax1,</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                   <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a04353aa48874f9bda89ff9059cd1a5a6">m_Instruction</a>(MinMax2), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(MinValue)))) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(MinMax2, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a43ac4fbaaf63a88eb5ac05f6d3e5649c">m_BinOp</a>(AddSub), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(MaxValue))))</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// Check that the constants clamp a saturate, and that the new type would be</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// sensible to convert to.</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordflow">if</span> (!(*MaxValue + 1).isPowerOf2() || -*MinValue != *MaxValue + 1)</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="comment">// In what bitwidth can this be treated as saturating arithmetics?</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordtype">unsigned</span> NewBitWidth = (*MaxValue + 1).logBase2() + 1;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="comment">// FIXME: This isn&#39;t quite right for vectors, but using the scalar type is a</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="comment">// good first approximation for what should be done there.</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordflow">if</span> (!shouldChangeType(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">getScalarType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a13e877ef779ba7a0688081079f4f9b03">getIntegerBitWidth</a>(), NewBitWidth))</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// Also make sure that the inner min/max and the add/sub have one use.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keywordflow">if</span> (!MinMax2-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() || !<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b">AddSub</a>-&gt;hasOneUse())</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="comment">// Create the new type (which can be a vector type)</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *NewTy = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a83725435ece9bc12c40ceb34dbd1727c">getWithNewBitWidth</a>(NewBitWidth);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IntrinsicID;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b">AddSub</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    IntrinsicID = Intrinsic::sadd_sat;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b">AddSub</a>-&gt;getOpcode() == Instruction::Sub)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    IntrinsicID = Intrinsic::ssub_sat;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="comment">// The two operands of the add/sub must be nsw-truncatable to the NewTy. This</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="comment">// is usually achieved via a sext from a smaller type.</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ae95177e7337984f5bc961723ecf67169">ComputeMaxSignificantBits</a>(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b">AddSub</a>-&gt;getOperand(0), 0, AddSub) &gt;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;          NewBitWidth ||</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <a class="code" href="namespacellvm.html#ae95177e7337984f5bc961723ecf67169">ComputeMaxSignificantBits</a>(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b">AddSub</a>-&gt;getOperand(1), 0, AddSub) &gt; NewBitWidth)</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="comment">// Finally create and return the sat intrinsic, truncated to the new type</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(MinMax1.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IntrinsicID, NewTy);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *AT = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateTrunc(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b">AddSub</a>-&gt;getOperand(0), NewTy);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1BitTracker.html">BT</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateTrunc(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b">AddSub</a>-&gt;getOperand(1), NewTy);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Sat = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, {AT, <a class="code" href="structllvm_1_1BitTracker.html">BT</a>});</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">CastInst::Create</a>(Instruction::SExt, Sat, Ty);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;}</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment">/// If we have a clamp pattern like max (min X, 42), 41 -- where the output</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="comment">/// can only be one of two possible constant values -- turn that into a select</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="comment">/// of constants.</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a33db2a1c24cf3a7438e4f746d752264e"> 1045</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="InstCombineCalls_8cpp.html#a33db2a1c24cf3a7438e4f746d752264e">foldClampRangeOfTwo</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II,</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                                        <a class="code" href="classllvm_1_1IRBuilder.html">InstCombiner::BuilderTy</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *I0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), *I1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *C0, *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)) || !I0-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>())</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">switch</span> (II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>()) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a>:</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I0, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0))) &amp;&amp; *C0 == *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> + 1)</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>:</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0))) &amp;&amp; *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == *C0 + 1)</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a>:</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I0, <a class="code" href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">m_UMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0))) &amp;&amp; *C0 == *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> + 1)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">Intrinsic::umin</a>:</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">m_UMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0))) &amp;&amp; *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == *C0 + 1)</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Expected min/max intrinsic&quot;</span>);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">// max (min X, 42), 41 --&gt; X &gt; 41 ? 42 : 41</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="comment">// min (max X, 42), 43 --&gt; X &lt; 43 ? 42 : 43</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Cmp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmp(Pred, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, I1);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectInst.html#aa55fb74dd22008fdcc26a63f44576022">SelectInst::Create</a>(Cmp, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), *C0), I1);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;}</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">/// If this min/max has a constant operand and an operand that is a matching</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">/// min/max with a constant operand, constant-fold the 2 constant operands.</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#ac805857628093ec4609c7b5ff5c1e14d"> 1085</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="InstCombineCalls_8cpp.html#ac805857628093ec4609c7b5ff5c1e14d">reassociateMinMaxWithConstants</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> MinMaxID = II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>();</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = dyn_cast&lt;IntrinsicInst&gt;(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0));</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> || <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getIntrinsicID() != MinMaxID)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *C0, *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getArgOperand(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">m_ImmConstant</a>(C0)) ||</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">m_ImmConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)))</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="comment">// max (max X, C0), C1 --&gt; max X, (max C0, C1) --&gt; max X, NewC</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred = <a class="code" href="classllvm_1_1MinMaxIntrinsic.html#a9b051a0ae4af41983e9d18ab50b138c9">MinMaxIntrinsic::getPredicate</a>(MinMaxID);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CondC = <a class="code" href="classllvm_1_1ConstantExpr.html#a68fce0638c5ec7b96b8572cad9c20488">ConstantExpr::getICmp</a>(Pred, C0, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NewC = <a class="code" href="classllvm_1_1ConstantExpr.html#a8683922a4b3d122c3b0d7d53b1cde2ad">ConstantExpr::getSelect</a>(CondC, C0, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a> = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="structllvm_1_1MinMax.html">MinMax</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>, MinMaxID, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(<a class="code" href="structllvm_1_1MinMax.html">MinMax</a>, {<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getArgOperand(0), NewC});</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;}</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment">/// If this min/max has a matching min/max operand with a constant, try to push</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment">/// the constant operand into this instruction. This can enable more folds.</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *</div>
<div class="line"><a name="l01109"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a89799f0ad9238a735db981f7d89d2b64"> 1109</a></span>&#160;<a class="code" href="InstCombineCalls_8cpp.html#a89799f0ad9238a735db981f7d89d2b64">reassociateMinMaxWithConstantInOperand</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II,</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                                       <a class="code" href="classllvm_1_1IRBuilder.html">InstCombiner::BuilderTy</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">// Match and capture a min/max operand candidate.</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inner;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II, <a class="code" href="namespacellvm_1_1PatternMatch.html#adcc0eb018adede4d62dafa5e60bce4be">m_c_MaxOrMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">m_CombineAnd</a>(</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                                  <a class="code" href="namespacellvm_1_1PatternMatch.html#a04353aa48874f9bda89ff9059cd1a5a6">m_Instruction</a>(Inner),</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                                  <a class="code" href="namespacellvm_1_1PatternMatch.html#a74a8221adbd09a9076a1ab471644b223">m_MaxOrMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">m_ImmConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)))),</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                              <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// The inner op must match. Check for constants to avoid infinite loops.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> MinMaxID = II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>();</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="keyword">auto</span> *InnerMM = dyn_cast&lt;IntrinsicInst&gt;(Inner);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">if</span> (!InnerMM || InnerMM-&gt;getIntrinsicID() != MinMaxID ||</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">m_ImmConstant</a>()) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">m_ImmConstant</a>()))</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="comment">// max (max X, C), Y --&gt; max (max X, Y), C</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="structllvm_1_1MinMax.html">MinMax</a> =</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), MinMaxID, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NewInner = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(MinMaxID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  NewInner-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(Inner);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(<a class="code" href="structllvm_1_1MinMax.html">MinMax</a>, {NewInner, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>});</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;}</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment">/// Reduce a sequence of min/max intrinsics with a common operand.</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#aaefc636ca54e8e3fe9a9431e5d206979"> 1137</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="InstCombineCalls_8cpp.html#aaefc636ca54e8e3fe9a9431e5d206979">factorizeMinMaxTree</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="comment">// Match 3 of the same min/max ops. Example: umin(umin(), umin()).</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = dyn_cast&lt;IntrinsicInst&gt;(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0));</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = dyn_cast&lt;IntrinsicInst&gt;(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> MinMaxID = II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>();</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> || !<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> || <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getIntrinsicID() != MinMaxID ||</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;getIntrinsicID() != MinMaxID ||</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() &amp;&amp; !<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>()))</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *A = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getArgOperand(0);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getArgOperand(1);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;getArgOperand(0);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;getArgOperand(1);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="comment">// Look for a common operand.</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *MinMaxOp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ThirdOp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>()) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="comment">// If the LHS is only used in this chain and the RHS is used outside of it,</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment">// reuse the RHS min/max because that will eliminate the LHS.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> == A || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == A) {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="comment">// min(min(a, b), min(c, a)) --&gt; min(min(c, a), b)</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="comment">// min(min(a, b), min(a, d)) --&gt; min(min(a, d), b)</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      MinMaxOp = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      ThirdOp = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="comment">// min(min(a, b), min(c, b)) --&gt; min(min(c, b), a)</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <span class="comment">// min(min(a, b), min(b, d)) --&gt; min(min(b, d), a)</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      MinMaxOp = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      ThirdOp = A;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() &amp;&amp; <span class="stringliteral">&quot;Expected one-use operand&quot;</span>);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="comment">// Reuse the LHS. This will eliminate the RHS.</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> == A || <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="comment">// min(min(a, b), min(c, a)) --&gt; min(min(a, b), c)</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <span class="comment">// min(min(a, b), min(c, b)) --&gt; min(min(a, b), c)</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      MinMaxOp = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      ThirdOp = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == A || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="comment">// min(min(a, b), min(b, d)) --&gt; min(min(a, b), d)</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="comment">// min(min(a, b), min(c, b)) --&gt; min(min(a, b), d)</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      MinMaxOp = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      ThirdOp = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="keywordflow">if</span> (!MinMaxOp || !ThirdOp)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a> = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>();</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="structllvm_1_1MinMax.html">MinMax</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>, MinMaxID, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(<a class="code" href="structllvm_1_1MinMax.html">MinMax</a>, { MinMaxOp, ThirdOp });</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;}</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment">/// If all arguments of the intrinsic are unary shuffles with the same mask,</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">/// try to shuffle after the intrinsic.</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *</div>
<div class="line"><a name="l01196"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a6e06a656117038ee38e95b8cd5feb8ba"> 1196</a></span>&#160;<a class="code" href="InstCombineCalls_8cpp.html#a6e06a656117038ee38e95b8cd5feb8ba">foldShuffledIntrinsicOperands</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II,</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                              <a class="code" href="classllvm_1_1IRBuilder.html">InstCombiner::BuilderTy</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="comment">// TODO: This should be extended to handle other intrinsics like fshl, ctpop,</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="comment">//       etc. Use llvm::isTriviallyVectorizable() and related to determine</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="comment">//       which intrinsics are safe to shuffle?</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="keywordflow">switch</span> (II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>()) {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a>:</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>:</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a>:</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">Intrinsic::umin</a>:</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fma:</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fshl:</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fshr:</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;             <a class="code" href="namespacellvm_1_1PatternMatch.html#afd3e8a6706810fef8cdbaf1f9f40dfbd">m_Shuffle</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#adea6dc2e42baa345b97be48b0370313d">m_Undef</a>(), <a class="code" href="structllvm_1_1PatternMatch_1_1m__Mask.html">m_Mask</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))))</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="comment">// At least 1 operand must have 1 use because we are creating 2 instructions.</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">none_of</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>(), [](<a class="code" href="classllvm_1_1Value.html">Value</a> *V) { return V-&gt;hasOneUse(); }))</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="comment">// See if all arguments are shuffled with the same mask.</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> NewArgs(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>());</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  NewArgs[0] = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType();</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>),</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;               <a class="code" href="namespacellvm_1_1PatternMatch.html#afd3e8a6706810fef8cdbaf1f9f40dfbd">m_Shuffle</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#adea6dc2e42baa345b97be48b0370313d">m_Undef</a>(), <a class="code" href="structllvm_1_1PatternMatch_1_1m__SpecificMask.html">m_SpecificMask</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))) ||</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType() != SrcTy)</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    NewArgs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160; </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="comment">// intrinsic (shuf X, M), (shuf Y, M), ... --&gt; shuf (intrinsic X, Y, ...), M</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *FPI = isa&lt;FPMathOperator&gt;(II) ? II : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NewIntrinsic =</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateIntrinsic(II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>(), SrcTy, NewArgs, FPI);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a>(NewIntrinsic, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">/// CallInst simplification. This mostly only handles folding of intrinsic</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment">/// instructions. For normal calls, it allows visitCallBase to do the heavy</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">/// lifting.</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"><a class="line" href="classllvm_1_1InstCombinerImpl.html#afa2581e2e1ac6959cd02e28062a7c1d5"> 1246</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1InstCombinerImpl.html#afa2581e2e1ac6959cd02e28062a7c1d5">InstCombinerImpl::visitCallInst</a>(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> &amp;CI) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="comment">// Don&#39;t try to simplify calls without uses. It will not do anything useful,</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="comment">// but will result in the following folds being skipped.</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordflow">if</span> (!CI.<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>())</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a2795a96498eb92ff9e37f87fba5f5807">simplifyCall</a>(&amp;CI, SQ.getWithInstruction(&amp;CI)))</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(CI, V);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *FreedOp = <a class="code" href="namespacellvm.html#ab9cb77a3069c227792d6bade6faff422">getFreedOperand</a>(&amp;CI, &amp;TLI))</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">return</span> visitFree(CI, FreedOp);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="comment">// If the caller function (i.e. us, the function that contains this CallInst)</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="comment">// is nounwind, mark the call as nounwind, even if the callee isn&#39;t.</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="keywordflow">if</span> (CI.<a class="code" href="classllvm_1_1Instruction.html#a6a66ebb3aa12757479a3c88de77d78f8">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a81f38aca859ffeda166f8c385f7d55a5">doesNotThrow</a>() &amp;&amp; !CI.<a class="code" href="classllvm_1_1CallBase.html#aa87fae97a8c702741eca5a95748af49d">doesNotThrow</a>()) {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    CI.<a class="code" href="classllvm_1_1CallBase.html#a0b6cef2a78857b0236b1c3a2a6eb857e">setDoesNotThrow</a>();</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">return</span> &amp;CI;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(&amp;CI);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keywordflow">if</span> (!II) <span class="keywordflow">return</span> visitCallBase(CI);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="comment">// For atomic unordered mem intrinsics if len is not a positive or</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="comment">// not a multiple of element size then behavior is undefined.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AMI = dyn_cast&lt;AtomicMemIntrinsic&gt;(II))</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *NumBytes = dyn_cast&lt;ConstantInt&gt;(AMI-&gt;getLength()))</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordflow">if</span> (NumBytes-&gt;getSExtValue() &lt; 0 ||</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;          (NumBytes-&gt;getZExtValue() % AMI-&gt;getElementSizeInBytes() != 0)) {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        CreateNonTerminatorUnreachable(AMI);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AMI-&gt;getType()-&gt;isVoidTy() &amp;&amp;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;               <span class="stringliteral">&quot;non void atomic unordered mem intrinsic&quot;</span>);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="keywordflow">return</span> eraseInstFromFunction(*AMI);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="comment">// Intrinsics cannot occur in an invoke or a callbr, so handle them here</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="comment">// instead of in visitCallBase.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = dyn_cast&lt;AnyMemIntrinsic&gt;(II)) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="comment">// memmove/cpy/set of zero bytes is a noop.</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *NumBytes = dyn_cast&lt;Constant&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getLength())) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <span class="keywordflow">if</span> (NumBytes-&gt;isNullValue())</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <span class="keywordflow">return</span> eraseInstFromFunction(CI);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="comment">// No other transformations apply to volatile transfers.</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = dyn_cast&lt;MemIntrinsic&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;isVolatile())</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">// If we have a memmove and the source operation is a constant global,</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="comment">// then the source and dest pointers can&#39;t alias, so we can change this</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="comment">// into a call to memcpy.</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MMI = dyn_cast&lt;AnyMemMoveInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GVSrc = dyn_cast&lt;GlobalVariable&gt;(MMI-&gt;getSource()))</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <span class="keywordflow">if</span> (GVSrc-&gt;isConstant()) {</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;          <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = CI.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>();</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> MemCpyID =</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;              isa&lt;AtomicMemMoveInst&gt;(MMI)</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                  ? Intrinsic::memcpy_element_unordered_atomic</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                  : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">Intrinsic::memcpy</a>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[3] = { CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                           CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                           CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() };</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;          CI.<a class="code" href="classllvm_1_1CallBase.html#aee56a5257c4899bf97c5957d87a732e3">setCalledFunction</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, MemCpyID, Tys));</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AnyMemTransferInst.html">AnyMemTransferInst</a> *MTI = dyn_cast&lt;AnyMemTransferInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="comment">// memmove(x,x,size) -&gt; noop.</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="keywordflow">if</span> (MTI-&gt;getSource() == MTI-&gt;getDest())</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="keywordflow">return</span> eraseInstFromFunction(CI);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="comment">// If we can determine a pointer alignment that is bigger than currently</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="comment">// set, update the alignment.</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MTI = dyn_cast&lt;AnyMemTransferInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SimplifyAnyMemTransfer(MTI))</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MSI = dyn_cast&lt;AnyMemSetInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SimplifyAnyMemSet(MSI))</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">if</span> (Changed) <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="comment">// For fixed width vector result intrinsics, use the generic demanded vector</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="comment">// support.</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *IIFVTy = dyn_cast&lt;FixedVectorType&gt;(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keyword">auto</span> VWidth = IIFVTy-&gt;getNumElements();</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> UndefElts(VWidth, 0);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> AllOnesEltMask(<a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(VWidth));</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = SimplifyDemandedVectorElts(II, AllOnesEltMask, UndefElts)) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      <span class="keywordflow">if</span> (V != II)</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(*II, V);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160; </div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#aa313c1d2241d530cabfd1bbb8301ce72">isCommutative</a>()) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *NewCall = <a class="code" href="InstCombineCalls_8cpp.html#aa8ac134b1e5c06143cfd5cd57914bfbe">canonicalizeConstantArg0ToArg1</a>(CI))</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      <span class="keywordflow">return</span> NewCall;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="comment">// Unused constrained FP intrinsic calls may have declared side effect, which</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="comment">// prevents it from being removed. In some cases however the side effect is</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="comment">// actually absent. To detect this case, call SimplifyConstrainedFPCall. If it</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="comment">// returns a replacement, the call may be removed.</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keywordflow">if</span> (CI.<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>() &amp;&amp; isa&lt;ConstrainedFPIntrinsic&gt;(CI)) {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aa45b543e17160f4f37f50d283ea5e2fe">simplifyConstrainedFPCall</a>(&amp;CI, SQ.getWithInstruction(&amp;CI)))</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <span class="keywordflow">return</span> eraseInstFromFunction(CI);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>();</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">switch</span> (IID) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordflow">case</span> Intrinsic::objectsize:</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a2f635b6d5c5f74d0c2e359897a5e7498">lowerObjectSizeCall</a>(II, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;TLI, AA, <span class="comment">/*MustSucceed=*/</span><span class="keyword">false</span>))</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(CI, V);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">Intrinsic::abs</a>: {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *IIOperand = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordtype">bool</span> IntMinIsPoison = cast&lt;Constant&gt;(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;isOneValue();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="comment">// abs(-x) -&gt; abs(x)</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="comment">// TODO: Copy nsw if it was present on the neg?</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="keywordflow">return</span> replaceOperand(*II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">m_Select</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))))</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      <span class="keywordflow">return</span> replaceOperand(*II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">m_Select</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="keywordflow">return</span> replaceOperand(*II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; Sign = <a class="code" href="InstCombineCalls_8cpp.html#af81876d44c8fa22864767ba4d9bf5b0a">getKnownSign</a>(IIOperand, II, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;AC, &amp;DT)) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <span class="comment">// abs(x) -&gt; x if x &gt;= 0</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <span class="keywordflow">if</span> (!*Sign)</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(*II, IIOperand);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="comment">// abs(x) -&gt; -x if x &lt; 0</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="keywordflow">if</span> (IntMinIsPoison)</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a62e5c125845f77203ae51b81446dfa58">BinaryOperator::CreateNSWNeg</a>(IIOperand);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a19cdbeffd437228c47a4410a4ed34aca">BinaryOperator::CreateNeg</a>(IIOperand);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="comment">// abs (sext X) --&gt; zext (abs X*)</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="comment">// Clear the IsIntMin (nsw) bit on the abs to allow narrowing.</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NarrowAbs =</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(<a class="code" href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">Intrinsic::abs</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getFalse());</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">CastInst::Create</a>(Instruction::ZExt, NarrowAbs, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="comment">// Match a complicated way to check if a number is odd/even:</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="comment">// abs (srem X, 2) --&gt; and X, 1</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42df6a41563b50a3fd1872230ed0b5ec">m_SRem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) &amp;&amp; *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == 2)</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="keywordflow">return</span> BinaryOperator::CreateAnd(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), 1));</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">Intrinsic::umin</a>: {</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *I0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), *I1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="comment">// umin(x, 1) == zext(x != 0)</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>())) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() != 1 &amp;&amp;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;             <span class="stringliteral">&quot;Expected simplify of umin with max constant&quot;</span>);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Zero = <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(I0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Cmp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpNE(I0, Zero);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">CastInst::Create</a>(Instruction::ZExt, Cmp, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a>: {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *I0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), *I1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">m_ZExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">m_ZExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        (I0-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() || I1-&gt;hasOneUse()) &amp;&amp; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType() == <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;getType()) {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NarrowMaxMin = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(IID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">CastInst::Create</a>(Instruction::ZExt, NarrowMaxMin, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">m_ZExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        I0-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>()) {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NarrowC = <a class="code" href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">ConstantExpr::getTrunc</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType());</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html#a58d6359cee16e5da66861058836dcca9">ConstantExpr::getZExt</a>(NarrowC, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *NarrowMaxMin = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(IID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, NarrowC);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">CastInst::Create</a>(Instruction::ZExt, NarrowMaxMin, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="comment">// If both operands of unsigned min/max are sign-extended, it is still ok</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="comment">// to narrow the operation.</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  }</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a>:</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>: {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *I0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), *I1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        (I0-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() || I1-&gt;hasOneUse()) &amp;&amp; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType() == <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;getType()) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NarrowMaxMin = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(IID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">CastInst::Create</a>(Instruction::SExt, NarrowMaxMin, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        I0-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>()) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NarrowC = <a class="code" href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">ConstantExpr::getTrunc</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType());</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html#aa342c9b3d47cd9bde63b80c83ead429b">ConstantExpr::getSExt</a>(NarrowC, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *NarrowMaxMin = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(IID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, NarrowC);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">CastInst::Create</a>(Instruction::SExt, NarrowMaxMin, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">if</span> (IID == <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a> || IID == <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>) {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="comment">// smax (neg nsw X), (neg nsw Y) --&gt; neg nsw (smin X, Y)</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <span class="comment">// smin (neg nsw X), (neg nsw Y) --&gt; neg nsw (smax X, Y)</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="comment">// TODO: Canonicalize neg after min/max if I1 is constant.</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab50076cb704b1bd42c536d9f51c5100e">m_NSWNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab50076cb704b1bd42c536d9f51c5100e">m_NSWNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;          (I0-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() || I1-&gt;hasOneUse())) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> InvID = <a class="code" href="namespacellvm.html#a0434306df3aa5ec48fcf19d0958d7c01">getInverseMinMaxIntrinsic</a>(IID);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *InvMaxMin = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(InvID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a62e5c125845f77203ae51b81446dfa58">BinaryOperator::CreateNSWNeg</a>(InvMaxMin);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    }</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="comment">// If we can eliminate ~A and Y is free to invert:</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="comment">// max ~A, Y --&gt; ~(min A, ~Y)</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="comment">// Examples:</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="comment">// max ~A, ~Y --&gt; ~(min A, Y)</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="comment">// max ~A, C --&gt; ~(min A, ~C)</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="comment">// max ~A, (max ~Y, ~Z) --&gt; ~min( A, (min Y, Z))</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keyword">auto</span> moveNotAfterMinMax = [&amp;](<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>) -&gt; <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> * {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *A;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A)))) &amp;&amp;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;          !isFreeToInvert(A, A-&gt;hasOneUse()) &amp;&amp;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;          isFreeToInvert(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;hasOneUse())) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *NotY = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNot(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> InvID = <a class="code" href="namespacellvm.html#a0434306df3aa5ec48fcf19d0958d7c01">getInverseMinMaxIntrinsic</a>(IID);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *InvMaxMin = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(InvID, A, NotY);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a4f500ae0de71695b652af4c0958d8ea8">BinaryOperator::CreateNot</a>(InvMaxMin);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    };</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = moveNotAfterMinMax(I0, I1))</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = moveNotAfterMinMax(I1, I0))</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="InstCombineCalls_8cpp.html#af0454356bbedffca31b25006103f0a24">moveAddAfterMinMax</a>(II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>))</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="comment">// smax(X, -X) --&gt; abs(X)</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="comment">// smin(X, -X) --&gt; -abs(X)</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">// umax(X, -X) --&gt; -abs(X)</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="comment">// umin(X, -X) --&gt; abs(X)</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a15235832ef7c31b1d789987f9a656b43">isKnownNegation</a>(I0, I1)) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="comment">// We can choose either operand as the input to abs(), but if we can</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="comment">// eliminate the only use of a value, that&#39;s better for subsequent</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <span class="comment">// transforms/analysis.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <span class="keywordflow">if</span> (I0-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() &amp;&amp; !I1-&gt;hasOneUse())</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(I0, I1);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      <span class="comment">// This is some variant of abs(). See if we can propagate &#39;nsw&#39; to the abs</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <span class="comment">// operation and potentially its negation.</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <span class="keywordtype">bool</span> IntMinIsPoison = <a class="code" href="namespacellvm.html#a15235832ef7c31b1d789987f9a656b43">isKnownNegation</a>(I0, I1, <span class="comment">/* NeedNSW */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Abs = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;          <a class="code" href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">Intrinsic::abs</a>, I0,</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;          <a class="code" href="classllvm_1_1ConstantInt.html#afe7d477c6022fe7123b90e3b39c58e69">ConstantInt::getBool</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), IntMinIsPoison));</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      <span class="comment">// We don&#39;t have a &quot;nabs&quot; intrinsic, so negate if needed based on the</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="comment">// max/min operation.</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      <span class="keywordflow">if</span> (IID == <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a> || IID == <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a>)</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        Abs = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNeg(Abs, <span class="stringliteral">&quot;nabs&quot;</span>, <span class="comment">/* NUW */</span> <span class="keyword">false</span>, IntMinIsPoison);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(CI, Abs);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Sel = <a class="code" href="InstCombineCalls_8cpp.html#a33db2a1c24cf3a7438e4f746d752264e">foldClampRangeOfTwo</a>(II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>))</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordflow">return</span> Sel;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *SAdd = matchSAddSubSat(*II))</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keywordflow">return</span> SAdd;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(I1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">m_ImmConstant</a>()))</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Sel = dyn_cast&lt;SelectInst&gt;(I0))</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *R = FoldOpIntoSelect(*II, Sel))</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;          <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewMinMax = <a class="code" href="InstCombineCalls_8cpp.html#ac805857628093ec4609c7b5ff5c1e14d">reassociateMinMaxWithConstants</a>(II))</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">return</span> NewMinMax;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *R = <a class="code" href="InstCombineCalls_8cpp.html#a89799f0ad9238a735db981f7d89d2b64">reassociateMinMaxWithConstantInOperand</a>(II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>))</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewMinMax = <a class="code" href="InstCombineCalls_8cpp.html#aaefc636ca54e8e3fe9a9431e5d206979">factorizeMinMaxTree</a>(II))</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;       <span class="keywordflow">return</span> NewMinMax;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160; </div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="keywordflow">case</span> Intrinsic::bitreverse: {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="comment">// bitrev (zext i1 X to ?) --&gt; X ? SignBitC : 0</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">m_ZExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType()-&gt;isIntOrIntVectorTy(1)) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> SignBit = <a class="code" href="classllvm_1_1APInt.html#a1e6f0d8dfed0ab631b488a3e6317718e">APInt::getSignMask</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectInst.html#aa55fb74dd22008fdcc26a63f44576022">SelectInst::Create</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, SignBit),</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                                <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantInt::getNullValue</a>(Ty));</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="keywordflow">case</span> Intrinsic::bswap: {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *IIOperand = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="comment">// Try to canonicalize bswap-of-logical-shift-by-8-bit-multiple as</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="comment">// inverse-shift-of-bswap:</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="comment">// bswap (shl X, Y) --&gt; lshr (bswap X), Y</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="comment">// bswap (lshr X, Y) --&gt; shl (bswap X), Y</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a595e5029858e33416e500bed9317d309">m_LogicalShift</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="comment">// The transform allows undef vector elements, so try a constant match</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="comment">// first. If knownbits can handle that case, that clause could be removed.</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = IIOperand-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0f8629c0ff1db9c384e378b2ca860f0a">m_APIntAllowUndef</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp; (*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp; 7) == 0) ||</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;          <a class="code" href="namespacellvm.html#aedbf3998b4ff72347a45cb4169d120db">MaskedValueIsZero</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 3))) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *NewSwap = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateUnaryIntrinsic(Intrinsic::bswap, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">BinaryOperator::BinaryOps</a> InverseShift =</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            cast&lt;BinaryOperator&gt;(IIOperand)-&gt;getOpcode() == Instruction::Shl</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                ? Instruction::LShr</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                : Instruction::Shl;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a02ce9966395063ac501ecbc1623deda4">BinaryOperator::Create</a>(InverseShift, NewSwap, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(IIOperand, 0, II);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> LZ = <a class="code" href="namespacellvm.html#ad9be86c95736bfa4bb0dc52322a0002a">alignDown</a>(Known.<a class="code" href="structllvm_1_1KnownBits.html#a7f47812e8e75b0616a97d7004e5fb909">countMinLeadingZeros</a>(), 8);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TZ = <a class="code" href="namespacellvm.html#ad9be86c95736bfa4bb0dc52322a0002a">alignDown</a>(Known.<a class="code" href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">countMinTrailingZeros</a>(), 8);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordtype">unsigned</span> BW = Known.<a class="code" href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">getBitWidth</a>();</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="comment">// bswap(x) -&gt; shift(x) if x has exactly one &quot;active byte&quot;</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">if</span> (BW - LZ - TZ == 8) {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LZ != TZ &amp;&amp; <span class="stringliteral">&quot;active byte cannot be in the middle&quot;</span>);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="keywordflow">if</span> (LZ &gt; TZ)  <span class="comment">// -&gt; shl(x) if the &quot;active byte&quot; is in the low part of x</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <span class="keywordflow">return</span> BinaryOperator::CreateNUWShl(</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            IIOperand, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IIOperand-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), LZ - TZ));</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="comment">// -&gt; lshr(x) if the &quot;active byte&quot; is in the high part of x</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <span class="keywordflow">return</span> BinaryOperator::CreateExactLShr(</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            IIOperand, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IIOperand-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), TZ - LZ));</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="comment">// bswap(trunc(bswap(x))) -&gt; trunc(lshr(x, c))</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">m_Trunc</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a39d717dc10783ec7bd5a24111bd5b8a5">m_BSwap</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType()-&gt;getScalarSizeInBits() - BW;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *CV = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType(), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateLShr(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, CV);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1TruncInst.html">TruncInst</a>(V, IIOperand-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  }</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_load:</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *SimplifiedMaskedOp = simplifyMaskedLoad(*II))</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(CI, SimplifiedMaskedOp);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_store:</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">return</span> simplifyMaskedStore(*II);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_gather:</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <span class="keywordflow">return</span> simplifyMaskedGather(*II);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_scatter:</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordflow">return</span> simplifyMaskedScatter(*II);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">case</span> Intrinsic::launder_invariant_group:</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordflow">case</span> Intrinsic::strip_invariant_group:</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SkippedBarrier = <a class="code" href="InstCombineCalls_8cpp.html#a66277818a970efe89dedd2cb7127fe3a">simplifyInvariantGroupIntrinsic</a>(*II, *<span class="keyword">this</span>))</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(*II, SkippedBarrier);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2README_8txt.html#a5cef66dcb1fc369e64240a0bff194597">Intrinsic::powi</a>:</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Power = dyn_cast&lt;ConstantInt&gt;(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))) {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;      <span class="comment">// 0 and 1 are handled in instsimplify</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      <span class="comment">// powi(x, -1) -&gt; 1/x</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      <span class="keywordflow">if</span> (Power-&gt;isMinusOne())</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a59ab64994d74243a175979d5b7b6b535">BinaryOperator::CreateFDivFMF</a>(<a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), 1.0),</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                                             II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), II);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <span class="comment">// powi(x, 2) -&gt; x*x</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <span class="keywordflow">if</span> (Power-&gt;equalsInt(2))</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a3b9d9c1b6e4b743230c9c377c40a4247">BinaryOperator::CreateFMulFMF</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                                             II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), II);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <span class="keywordflow">if</span> (!Power-&gt;getValue()[0]) {</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <span class="comment">// If power is even:</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <span class="comment">// powi(-x, p) -&gt; powi(x, p)</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        <span class="comment">// powi(fabs(x), p) -&gt; powi(x, p)</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <span class="comment">// powi(copysign(x, y), p) -&gt; powi(x, p)</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) ||</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a7638daf70e17d093dd35f06211dc7a87">m_FAbs</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) ||</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                  m_Intrinsic&lt;Intrinsic::copysign&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;          <span class="keywordflow">return</span> replaceOperand(*II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      }</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    }</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="keywordflow">case</span> Intrinsic::cttz:</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ctlz:</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="InstCombineCalls_8cpp.html#ad5ce0d2ef90aba4d2d0181cff43acc9b">foldCttzCtlz</a>(*II, *<span class="keyword">this</span>))</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ctpop:</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="InstCombineCalls_8cpp.html#a1baf39823603c8c66900871e2bf8fddb">foldCtpop</a>(*II, *<span class="keyword">this</span>))</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160; </div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fshl:</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fshr: {</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), *Op1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ShAmtC;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), <a class="code" href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">m_ImmConstant</a>(ShAmtC))) {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      <span class="comment">// Canonicalize a shift amount constant operand to modulo the bit-width.</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *WidthC = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ModuloC =</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;          <a class="code" href="namespacellvm.html#a964455f36837281d37f2a44e2fcb4cca">ConstantFoldBinaryOpOperands</a>(Instruction::URem, ShAmtC, WidthC, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <span class="keywordflow">if</span> (!ModuloC)</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keywordflow">if</span> (ModuloC != ShAmtC)</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <span class="keywordflow">return</span> replaceOperand(*II, 2, ModuloC);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1ConstantExpr.html#a68fce0638c5ec7b96b8572cad9c20488">ConstantExpr::getICmp</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>, WidthC, ShAmtC) ==</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                 <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="classllvm_1_1CmpInst.html#a4b5e1f50cb0890ec60d8c61a61241170">CmpInst::makeCmpResultType</a>(Ty)) &amp;&amp;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;             <span class="stringliteral">&quot;Shift amount expected to be modulo bitwidth&quot;</span>);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="comment">// Canonicalize funnel shift right by constant to funnel shift left. This</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="comment">// is not entirely arbitrary. For historical reasons, the backend may</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="comment">// recognize rotate left patterns but miss rotate right patterns.</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <span class="keywordflow">if</span> (IID == Intrinsic::fshr) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <span class="comment">// fshr X, Y, C --&gt; fshl X, Y, (BitWidth - C)</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *LeftShiftC = <a class="code" href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">ConstantExpr::getSub</a>(WidthC, ShAmtC);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a> = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>();</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *Fshl = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>, Intrinsic::fshl, Ty);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(Fshl, { Op0, Op1, LeftShiftC });</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IID == Intrinsic::fshl &amp;&amp;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;             <span class="stringliteral">&quot;All funnel shifts by simple constants should go left&quot;</span>);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="comment">// fshl(X, 0, C) --&gt; shl X, C</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="comment">// fshl(X, undef, C) --&gt; shl X, C</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">m_ZeroInt</a>()) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#adea6dc2e42baa345b97be48b0370313d">m_Undef</a>()))</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <span class="keywordflow">return</span> BinaryOperator::CreateShl(Op0, ShAmtC);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <span class="comment">// fshl(0, X, C) --&gt; lshr X, (BW-C)</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      <span class="comment">// fshl(undef, X, C) --&gt; lshr X, (BW-C)</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">m_ZeroInt</a>()) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#adea6dc2e42baa345b97be48b0370313d">m_Undef</a>()))</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <span class="keywordflow">return</span> BinaryOperator::CreateLShr(Op1,</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                                          <a class="code" href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">ConstantExpr::getSub</a>(WidthC, ShAmtC));</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <span class="comment">// fshl i16 X, X, 8 --&gt; bswap i16 X (reduce to more-specific form)</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="keywordflow">if</span> (Op0 == Op1 &amp;&amp; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> == 16 &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(ShAmtC, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3acbd0be97863e3e03e3b85641254018">m_SpecificInt</a>(8))) {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a> = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>();</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *Bswap = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>, Intrinsic::bswap, Ty);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(Bswap, { Op0 });</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      }</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    }</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="comment">// Left or right might be masked.</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedInstructionBits(*II))</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <span class="keywordflow">return</span> &amp;CI;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160; </div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="comment">// The shift amount (operand 2) of a funnel shift is modulo the bitwidth,</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="comment">// so only the low bits of the shift amount are demanded if the bitwidth is</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="comment">// a power-of-2.</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>))</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Op2Demanded = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="namespacellvm.html#a058782b98991f0719657d9008d3df41b">Log2_32_Ceil</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>));</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Op2Known(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordflow">if</span> (SimplifyDemandedBits(II, 2, Op2Demanded, Op2Known))</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="keywordflow">return</span> &amp;CI;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="keywordflow">case</span> Intrinsic::uadd_with_overflow:</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">case</span> Intrinsic::sadd_with_overflow: {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = foldIntrinsicWithOverflowCommon(II))</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="comment">// Given 2 constant operands whose sum does not overflow:</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="comment">// uaddo (X +nuw C0), C1 -&gt; uaddo X, C0 + C1</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="comment">// saddo (X +nsw C0), C1 -&gt; saddo X, C0 + C1</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *C0, *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordtype">bool</span> IsSigned = IID == Intrinsic::sadd_with_overflow;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordtype">bool</span> HasNWAdd = IsSigned ? <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a321b8e5bfbda0da1e621822399fe3960">m_NSWAdd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0)))</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                             : <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a1b0e3cdd7316497baa075ef6fc21d2d4">m_NUWAdd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0)));</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="keywordflow">if</span> (HasNWAdd &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>))) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      <span class="keywordtype">bool</span> Overflow;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewC =</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;          IsSigned ? <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;sadd_ov(*C0, Overflow) : <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;uadd_ov(*C0, Overflow);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <span class="keywordflow">if</span> (!Overflow)</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            *II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                     IID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Arg1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), NewC)));</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    }</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordflow">case</span> Intrinsic::umul_with_overflow:</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="keywordflow">case</span> Intrinsic::smul_with_overflow:</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="keywordflow">case</span> Intrinsic::usub_with_overflow:</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = foldIntrinsicWithOverflowCommon(II))</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ssub_with_overflow: {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = foldIntrinsicWithOverflowCommon(II))</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="comment">// Given a constant C that is not the minimum signed value</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="comment">// for an integer of a given bit width:</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="comment">// ssubo X, C -&gt; saddo X, -C</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNotMinSignedValue()) {</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NegVal = <a class="code" href="classllvm_1_1ConstantExpr.html#afa29f0cd072ab9b3a2630681ffe5760f">ConstantExpr::getNeg</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      <span class="comment">// Build a saddo call that is equivalent to the discovered</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      <span class="comment">// ssubo call.</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;          *II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(Intrinsic::sadd_with_overflow,</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                                             Arg0, NegVal));</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    }</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  }</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <span class="keywordflow">case</span> Intrinsic::uadd_sat:</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="keywordflow">case</span> Intrinsic::sadd_sat:</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="keywordflow">case</span> Intrinsic::usub_sat:</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ssub_sat: {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <a class="code" href="classllvm_1_1SaturatingInst.html">SaturatingInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = cast&lt;SaturatingInst&gt;(II);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getType();</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getLHS();</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getRHS();</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160; </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="comment">// Make use of known overflow information.</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <a class="code" href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13">OverflowResult</a> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a> = computeOverflow(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getBinaryOp(), <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isSigned(),</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                                        Arg0, Arg1, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">OR</a>) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13ad4d9862eafa015a05101d9f662bb153a">OverflowResult::MayOverflow</a>:</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13a56624a95592b438e05ab500a6a200a03">OverflowResult::NeverOverflows</a>:</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isSigned())</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a82e9f72e7fce50d8b659ff72631c3793">BinaryOperator::CreateNSW</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getBinaryOp(), Arg0, Arg1);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#af85efaaa4ecdbcac97c45c8351d826b7">BinaryOperator::CreateNUW</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getBinaryOp(), Arg0, Arg1);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13ac8cc76d76703c81c16e939be370683c1">OverflowResult::AlwaysOverflowsLow</a>: {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> Min = <a class="code" href="classllvm_1_1APSInt.html#a0a441f49b4e67f435392c937e056d2d4">APSInt::getMinValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, !<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isSigned());</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(*<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, Min));</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13a9ac50ff0c308dad407db9f09e418363e">OverflowResult::AlwaysOverflowsHigh</a>: {</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> Max = <a class="code" href="classllvm_1_1APSInt.html#a5cba4d26a4ef4ecf1cea7faac29b1786">APSInt::getMaxValue</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, !<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isSigned());</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(*<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, Max));</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      }</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="comment">// ssub.sat(X, C) -&gt; sadd.sat(X, -C) if C != MIN</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keywordflow">if</span> (IID == Intrinsic::ssub_sat &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNotMinSignedValue()) {</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NegVal = <a class="code" href="classllvm_1_1ConstantExpr.html#afa29f0cd072ab9b3a2630681ffe5760f">ConstantExpr::getNeg</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;          *II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;              Intrinsic::sadd_sat, Arg0, NegVal));</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    }</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="comment">// sat(sat(X + Val2) + Val) -&gt; sat(X + (Val+Val2))</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="comment">// sat(sat(X - Val2) - Val) -&gt; sat(X - (Val+Val2))</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="comment">// if Val and Val2 have the same sign</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a> = dyn_cast&lt;IntrinsicInst&gt;(Arg0)) {</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *Val, *Val2;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewVal;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      <span class="keywordtype">bool</span> IsUnsigned =</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;          IID == Intrinsic::uadd_sat || IID == Intrinsic::usub_sat;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>-&gt;getIntrinsicID() == IID &amp;&amp;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;          <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(Val)) &amp;&amp;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;          <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>-&gt;getArgOperand(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)) &amp;&amp;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;          <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>-&gt;getArgOperand(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(Val2))) {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keywordflow">if</span> (IsUnsigned)</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;          NewVal = Val-&gt;<a class="code" href="classllvm_1_1APInt.html#ab4c04665274d4f30d732639dc055821c">uadd_sat</a>(*Val2);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Val-&gt;<a class="code" href="classllvm_1_1APInt.html#ac8c0157adbe12649beac0009c2f6ad8d">isNonNegative</a>() == Val2-&gt;<a class="code" href="classllvm_1_1APInt.html#ac8c0157adbe12649beac0009c2f6ad8d">isNonNegative</a>()) {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;          <span class="keywordtype">bool</span> Overflow;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;          NewVal = Val-&gt;<a class="code" href="classllvm_1_1APInt.html#a694293446a074c3d64270e7671bb5052">sadd_ov</a>(*Val2, Overflow);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;          <span class="keywordflow">if</span> (Overflow) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            <span class="comment">// Both adds together may add more than SignedMaxValue</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;            <span class="comment">// without saturating the final result.</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;          }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;          <span class="comment">// Cannot fold saturated addition with different signs.</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        }</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            *II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                     IID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), NewVal)));</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      }</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    }</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  }</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160; </div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">Intrinsic::minnum</a>:</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a636de400e4dd2bc090b729329a99e75b">Intrinsic::maxnum</a>:</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">Intrinsic::minimum</a>:</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ac394f9304a427e4d136ac39a262c0f32">Intrinsic::maximum</a>: {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg0, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg1, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        (Arg0-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() || Arg1-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>())) {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      <span class="comment">// If both operands are negated, invert the call and negate the result:</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <span class="comment">// min(-X, -Y) --&gt; -(max(X, Y))</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      <span class="comment">// max(-X, -Y) --&gt; -(min(X, Y))</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> NewIID;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="keywordflow">switch</span> (IID) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a636de400e4dd2bc090b729329a99e75b">Intrinsic::maxnum</a>:</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        NewIID = <a class="code" href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">Intrinsic::minnum</a>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">Intrinsic::minnum</a>:</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;        NewIID = <a class="code" href="namespacellvm.html#a636de400e4dd2bc090b729329a99e75b">Intrinsic::maxnum</a>;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ac394f9304a427e4d136ac39a262c0f32">Intrinsic::maximum</a>:</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        NewIID = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">Intrinsic::minimum</a>;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">Intrinsic::minimum</a>:</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        NewIID = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ac394f9304a427e4d136ac39a262c0f32">Intrinsic::maximum</a>;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unexpected intrinsic ID&quot;</span>);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      }</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(NewIID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, II);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *FNeg = UnaryOperator::CreateFNeg(NewCall);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      FNeg-&gt;<a class="code" href="classllvm_1_1Instruction.html#a3e6d2896c39a84cfa6c47f34cdc584ff">copyIRFlags</a>(II);</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      <span class="keywordflow">return</span> FNeg;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    }</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160; </div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="comment">// m(m(X, C2), C1) -&gt; m(X, C)</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = dyn_cast&lt;IntrinsicInst&gt;(Arg0)) {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getIntrinsicID() == IID &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg1, <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)) &amp;&amp;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;          ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getArgOperand(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)) &amp;&amp;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getArgOperand(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(C2))) ||</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;           (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getArgOperand(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)) &amp;&amp;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getArgOperand(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(C2))))) {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> Res(0.0);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        <span class="keywordflow">switch</span> (IID) {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a636de400e4dd2bc090b729329a99e75b">Intrinsic::maxnum</a>:</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;          Res = <a class="code" href="namespacellvm.html#a636de400e4dd2bc090b729329a99e75b">maxnum</a>(*<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">Intrinsic::minnum</a>:</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;          Res = <a class="code" href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">minnum</a>(*<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2);</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ac394f9304a427e4d136ac39a262c0f32">Intrinsic::maximum</a>:</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;          Res = <a class="code" href="namespacellvm.html#a38dcdde63d81fbda1d22dffd1a27b343">maximum</a>(*<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">Intrinsic::minimum</a>:</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;          Res = <a class="code" href="namespacellvm.html#ae2f7e8a5325f48bbbdaec78e5d6c320c">minimum</a>(*<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unexpected intrinsic ID&quot;</span>);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            IID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(Arg0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), Res), II);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <span class="comment">// TODO: Conservatively intersecting FMF. If Res == C2, the transform</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        <span class="comment">//       was a simplification (so Arg0 and its original flags could</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        <span class="comment">//       propagate?)</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        NewCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ea9acbe7fd20332ea6ccdb0183d6395">andIRFlags</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(*II, NewCall);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      }</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    }</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="comment">// m((fpext X), (fpext Y)) -&gt; fpext (m(X, Y))</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2997340992a508357b480467a6901c70">m_FPExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) &amp;&amp;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2997340992a508357b480467a6901c70">m_FPExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) &amp;&amp;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType() == <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;getType()) {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NewCall =</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBinaryIntrinsic(IID, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, II, II-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1FPExtInst.html">FPExtInst</a>(NewCall, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    }</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160; </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <span class="comment">// max X, -X --&gt; fabs X</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="comment">// min X, -X --&gt; -(fabs X)</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="comment">// TODO: Remove one-use limitation? That is obviously better for max.</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="comment">//       It would be an extra instruction for min (fnabs), but that is</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="comment">//       still likely better for analysis and codegen.</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) &amp;&amp; Arg1 == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>) ||</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Arg1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) &amp;&amp; Arg0 == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)) {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *R = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateUnaryIntrinsic(Intrinsic::fabs, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, II);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      <span class="keywordflow">if</span> (IID == <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">Intrinsic::minimum</a> || IID == <a class="code" href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">Intrinsic::minnum</a>)</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        R = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNegFMF(R, II);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(*II, R);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    }</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  }</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="keywordflow">case</span> Intrinsic::matrix_multiply: {</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="comment">// Optimize negation in matrix multiplication.</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="comment">// -A * -B -&gt; A * B</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *A, *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A))) &amp;&amp;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)))) {</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      replaceOperand(*II, 0, A);</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      replaceOperand(*II, 1, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160; </div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = II-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = II-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *OpNotNeg, *NegatedOp;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordtype">unsigned</span> NegatedOpArg, OtherOpArg;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(OpNotNeg)))) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      NegatedOp = Op0;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      NegatedOpArg = 0;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      OtherOpArg = 1;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(OpNotNeg)))) {</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      NegatedOp = Op1;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      NegatedOpArg = 1;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      OtherOpArg = 0;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      <span class="comment">// Multiplication doesn&#39;t have a negated operand.</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160; </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="comment">// Only optimize if the negated operand has only one use.</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">if</span> (!NegatedOp-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>())</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160; </div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *OtherOp = II-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(OtherOpArg);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *RetTy = cast&lt;VectorType&gt;(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *NegatedOpTy = cast&lt;VectorType&gt;(NegatedOp-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *OtherOpTy = cast&lt;VectorType&gt;(OtherOp-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> NegatedCount = NegatedOpTy-&gt;<a class="code" href="classllvm_1_1VectorType.html#a59632c5deb0423a518ad984bdd04d41f">getElementCount</a>();</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> OtherCount = OtherOpTy-&gt;<a class="code" href="classllvm_1_1VectorType.html#a59632c5deb0423a518ad984bdd04d41f">getElementCount</a>();</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> RetCount = RetTy-&gt;<a class="code" href="classllvm_1_1VectorType.html#a59632c5deb0423a518ad984bdd04d41f">getElementCount</a>();</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="comment">// (-A) * B -&gt; A * (-B), if it is cheaper to negate B and vice versa.</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#addaa86bfa4ca26b7f366cbdd868f99bf">ElementCount::isKnownGT</a>(NegatedCount, OtherCount) &amp;&amp;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a83e6442f8ebefccdb5e089732fe397ac">ElementCount::isKnownLT</a>(OtherCount, RetCount)) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *InverseOtherOp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(OtherOp);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      replaceOperand(*II, NegatedOpArg, OpNotNeg);</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      replaceOperand(*II, OtherOpArg, InverseOtherOp);</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    }</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="comment">// (-A) * B -&gt; -(A * B), if it is cheaper to negate the result</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#addaa86bfa4ca26b7f366cbdd868f99bf">ElementCount::isKnownGT</a>(NegatedCount, RetCount)) {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 5&gt;</a> NewArgs(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      NewArgs[NegatedOpArg] = OpNotNeg;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewMul =</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateIntrinsic(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), IID, NewArgs, II);</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(*II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNegFMF(NewMul, II));</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  }</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fmuladd: {</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="comment">// Canonicalize fast fmuladd to the separate fmul + fadd.</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a60311aae406df2143c650f3bce27e036">isFast</a>()) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <a class="code" href="classllvm_1_1IRBuilderBase_1_1FastMathFlagGuard.html">BuilderTy::FastMathFlagGuard</a> Guard(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.setFastMathFlags(II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9a167f91db810097d281b1ed627f4575">getFastMathFlags</a>());</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFMul(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;                                      II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Add = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFAdd(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>, II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;      Add-&gt;takeName(II);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(*II, Add);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    }</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160; </div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <span class="comment">// Try to simplify the underlying FMul.</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05">simplifyFMulInst</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                                    II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9a167f91db810097d281b1ed627f4575">getFastMathFlags</a>(),</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                                    SQ.getWithInstruction(II))) {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eaf552e181879ad14956985859308d77d9">FAdd</a> = BinaryOperator::CreateFAdd(V, II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eaf552e181879ad14956985859308d77d9">FAdd</a>-&gt;copyFastMathFlags(II);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eaf552e181879ad14956985859308d77d9">FAdd</a>;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  }</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fma: {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="comment">// fma fneg(x), fneg(y), z -&gt; fma x, y, z</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Src0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Src1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Src0, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Src1, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      replaceOperand(*II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      replaceOperand(*II, 1, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    }</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160; </div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="comment">// fma fabs(x), fabs(x), z -&gt; fma x, x, z</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Src0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7638daf70e17d093dd35f06211dc7a87">m_FAbs</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Src1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7638daf70e17d093dd35f06211dc7a87">m_FAbs</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) {</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      replaceOperand(*II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      replaceOperand(*II, 1, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    }</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">// Try to simplify the underlying FMul. We can only apply simplifications</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="comment">// that do not require rounding.</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9e6861fa4cb7fe1437d3057b8b3d1601">simplifyFMAFMul</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                                   II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9a167f91db810097d281b1ed627f4575">getFastMathFlags</a>(),</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                                   SQ.getWithInstruction(II))) {</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eaf552e181879ad14956985859308d77d9">FAdd</a> = BinaryOperator::CreateFAdd(V, II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eaf552e181879ad14956985859308d77d9">FAdd</a>-&gt;copyFastMathFlags(II);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eaf552e181879ad14956985859308d77d9">FAdd</a>;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="comment">// fma x, y, 0 -&gt; fmul x, y</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="comment">// This is always valid for -0.0, but requires nsz for +0.0 as</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="comment">// -0.0 + 0.0 = 0.0, which would not be the same as the fmul on its own.</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), <a class="code" href="namespacellvm_1_1PatternMatch.html#a25342d4b800ea1a4a8bf4ec8887efb45">m_NegZeroFP</a>()) ||</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;        (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), <a class="code" href="namespacellvm_1_1PatternMatch.html#a7a371c4faf8e41f7cac98ad694f504dc">m_PosZeroFP</a>()) &amp;&amp;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;         II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9a167f91db810097d281b1ed627f4575">getFastMathFlags</a>().<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>()))</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BinaryOperator.html#a3b9d9c1b6e4b743230c9c377c40a4247">BinaryOperator::CreateFMulFMF</a>(Src0, Src1, II);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160; </div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  }</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="keywordflow">case</span> Intrinsic::copysign: {</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Mag = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), *Sign = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ad0a51681428d4b7e3770680a9f1ae925">SignBitMustBeZero</a>(Sign, &amp;TLI)) {</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <span class="comment">// If we know that the sign argument is positive, reduce to FABS:</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <span class="comment">// copysign Mag, +Sign --&gt; fabs Mag</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Fabs = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateUnaryIntrinsic(Intrinsic::fabs, Mag, II);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(*II, Fabs);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    }</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="comment">// TODO: There should be a ValueTracking sibling like SignBitMustBeOne.</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Sign, <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNegative()) {</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="comment">// If we know that the sign argument is negative, reduce to FNABS:</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;      <span class="comment">// copysign Mag, -Sign --&gt; fneg (fabs Mag)</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Fabs = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateUnaryIntrinsic(Intrinsic::fabs, Mag, II);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(*II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNegFMF(Fabs, II));</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="comment">// Propagate sign argument through nested calls:</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="comment">// copysign Mag, (copysign ?, X) --&gt; copysign Mag, X</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Sign, m_Intrinsic&lt;Intrinsic::copysign&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="keywordflow">return</span> replaceOperand(*II, 1, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160; </div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="comment">// Peek through changes of magnitude&#39;s sign-bit. This call rewrites those:</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="comment">// copysign (fabs X), Sign --&gt; copysign X, Sign</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="comment">// copysign (fneg X), Sign --&gt; copysign X, Sign</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Mag, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7638daf70e17d093dd35f06211dc7a87">m_FAbs</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Mag, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;      <span class="keywordflow">return</span> replaceOperand(*II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  }</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fabs: {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, *TVal, *FVal;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;              <a class="code" href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">m_Select</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(TVal), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(FVal)))) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;      <span class="comment">// fabs (select Cond, TrueC, FalseC) --&gt; select Cond, AbsT, AbsF</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <span class="keywordflow">if</span> (isa&lt;Constant&gt;(TVal) &amp;&amp; isa&lt;Constant&gt;(FVal)) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *AbsT = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>(), {TVal});</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *AbsF = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>(), {FVal});</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectInst.html#aa55fb74dd22008fdcc26a63f44576022">SelectInst::Create</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, AbsT, AbsF);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      }</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      <span class="comment">// fabs (select Cond, -FVal, FVal) --&gt; fabs FVal</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(TVal, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(FVal))))</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        <span class="keywordflow">return</span> replaceOperand(*II, 0, FVal);</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <span class="comment">// fabs (select Cond, TVal, -TVal) --&gt; fabs TVal</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(FVal, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(TVal))))</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        <span class="keywordflow">return</span> replaceOperand(*II, 0, TVal);</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    }</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160; </div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Magnitude, *Sign;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;              <a class="code" href="namespacellvm_1_1PatternMatch.html#acb52eaa15512b845d33e0ec03648af5c">m_CopySign</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Magnitude), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Sign)))) {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;      <span class="comment">// fabs (copysign x, y) -&gt; (fabs x)</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *AbsSign =</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>(), {Magnitude});</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      AbsSign-&gt;<a class="code" href="classllvm_1_1Instruction.html#a24a7664d83746bcda035bddeb773eaae">copyFastMathFlags</a>(II);</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(*II, AbsSign);</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160; </div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  }</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README-FPStack_8txt.html#a9209b9930d4d7750a6b8b38b3b4ddd6a">Intrinsic::ceil</a>:</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README-FPStack_8txt.html#ac25bbfa16d28ab1f83da03668addad0a">Intrinsic::floor</a>:</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="xxhash_8cpp.html#ae4e947c75dafebd71b8de03cd0dbf5d6">Intrinsic::round</a>:</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <span class="keywordflow">case</span> Intrinsic::roundeven:</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="keywordflow">case</span> Intrinsic::nearbyint:</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="keywordflow">case</span> Intrinsic::rint:</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README-FPStack_8txt.html#aeb9a134c2755c0ad7801bf630a790904">Intrinsic::trunc</a>: {</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ExtSrc;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2997340992a508357b480467a6901c70">m_FPExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(ExtSrc))))) {</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <span class="comment">// Narrow the call: intrinsic (fpext x) -&gt; fpext (intrinsic x)</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NarrowII = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateUnaryIntrinsic(IID, ExtSrc, II);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1FPExtInst.html">FPExtInst</a>(NarrowII, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    }</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keywordflow">case</span> Intrinsic::cos:</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_cos: {</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Src, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Src, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7638daf70e17d093dd35f06211dc7a87">m_FAbs</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      <span class="comment">// cos(-x) -&gt; cos(x)</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <span class="comment">// cos(fabs(x)) -&gt; cos(x)</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      <span class="keywordflow">return</span> replaceOperand(*II, 0, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    }</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  }</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="keywordflow">case</span> Intrinsic::sin: {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))) {</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      <span class="comment">// sin(-x) --&gt; -sin(x)</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NewSin = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateUnaryIntrinsic(Intrinsic::sin, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, II);</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *FNeg = UnaryOperator::CreateFNeg(NewSin);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      FNeg-&gt;<a class="code" href="classllvm_1_1Instruction.html#a24a7664d83746bcda035bddeb773eaae">copyFastMathFlags</a>(II);</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      <span class="keywordflow">return</span> FNeg;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  }</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ptrauth_auth:</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ptrauth_resign: {</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="comment">// (sign|resign) + (auth|resign) can be folded by omitting the middle</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="comment">// sign+auth component if the key and discriminator match.</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <span class="keywordtype">bool</span> NeedSign = II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::ptrauth_resign;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Disc = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160; </div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <span class="comment">// AuthKey will be the key we need to end up authenticating against in</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="comment">// whatever we replace this sequence with.</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *AuthKey = <span class="keyword">nullptr</span>, *AuthDisc = <span class="keyword">nullptr</span>, *BasePtr;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> CI = dyn_cast&lt;CallBase&gt;(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0))) {</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      BasePtr = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac62778065b99372cc62cf994b967e7e8">getIntrinsicID</a>() == Intrinsic::ptrauth_sign) {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;        <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1) != <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> || CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2) != Disc)</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac62778065b99372cc62cf994b967e7e8">getIntrinsicID</a>() == Intrinsic::ptrauth_resign) {</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3) != <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> || CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4) != Disc)</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        AuthKey = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        AuthDisc = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160; </div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="keywordtype">unsigned</span> NewIntrin;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keywordflow">if</span> (AuthKey &amp;&amp; NeedSign) {</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      <span class="comment">// resign(0,1) + resign(1,2) = resign(0, 2)</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      NewIntrin = Intrinsic::ptrauth_resign;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AuthKey) {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      <span class="comment">// resign(0,1) + auth(1) = auth(0)</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      NewIntrin = Intrinsic::ptrauth_auth;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NeedSign) {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      <span class="comment">// sign(0) + resign(0, 1) = sign(1)</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;      NewIntrin = Intrinsic::ptrauth_sign;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;      <span class="comment">// sign(0) + auth(0) = nop</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      replaceInstUsesWith(*II, BasePtr);</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;      eraseInstFromFunction(*II);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160; </div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> CallArgs;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    CallArgs.push_back(BasePtr);</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <span class="keywordflow">if</span> (AuthKey) {</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;      CallArgs.push_back(AuthKey);</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;      CallArgs.push_back(AuthDisc);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160; </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keywordflow">if</span> (NeedSign) {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      CallArgs.push_back(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3));</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      CallArgs.push_back(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4));</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    }</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160; </div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), NewIntrin);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(NewFn, CallArgs);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  }</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vtbl1:</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_neon_tbl1:</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstCombineCalls_8cpp.html#ad730bb36632fcc356a80297000a558a8">simplifyNeonTbl1</a>(*II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>))</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(*II, V);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160; </div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vmulls:</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vmullu:</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_neon_smull:</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_neon_umull: {</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160; </div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="comment">// Handle mul by zero first:</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantAggregateZero&gt;(Arg0) || isa&lt;ConstantAggregateZero&gt;(Arg1)) {</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(CI, <a class="code" href="classllvm_1_1ConstantAggregateZero.html#abfa1cf8b4348407b167f93bc7c01055f">ConstantAggregateZero::get</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    }</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="comment">// Check for constant LHS &amp; RHS - in this case we just simplify.</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <span class="keywordtype">bool</span> Zext = (IID == Intrinsic::arm_neon_vmullu ||</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                 IID == Intrinsic::aarch64_neon_umull);</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *NewVT = cast&lt;VectorType&gt;(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CV0 = dyn_cast&lt;Constant&gt;(Arg0)) {</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CV1 = dyn_cast&lt;Constant&gt;(Arg1)) {</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        CV0 = <a class="code" href="classllvm_1_1ConstantExpr.html#a90d84324b6b6aa2a60077a79b31a49e7">ConstantExpr::getIntegerCast</a>(CV0, NewVT, <span class="comment">/*isSigned=*/</span>!Zext);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        CV1 = <a class="code" href="classllvm_1_1ConstantExpr.html#a90d84324b6b6aa2a60077a79b31a49e7">ConstantExpr::getIntegerCast</a>(CV1, NewVT, <span class="comment">/*isSigned=*/</span>!Zext);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160; </div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(CI, <a class="code" href="classllvm_1_1ConstantExpr.html#aa3e1005525fe79e631f1fe5bd91fdf3c">ConstantExpr::getMul</a>(CV0, CV1));</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      }</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160; </div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;      <span class="comment">// Couldn&#39;t simplify - canonicalize constant to the RHS.</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Arg0, Arg1);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    }</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160; </div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="comment">// Handle mul by one:</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CV1 = dyn_cast&lt;Constant&gt;(Arg1))</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Splat =</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;              dyn_cast_or_null&lt;ConstantInt&gt;(CV1-&gt;getSplatValue()))</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        <span class="keywordflow">if</span> (Splat-&gt;isOne())</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CastInst.html#a277c32f1a2c680c0af45cbf0ff67c409">CastInst::CreateIntegerCast</a>(Arg0, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;                                             <span class="comment">/*isSigned=*/</span>!Zext);</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160; </div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  }</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_aesd:</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_aese:</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_crypto_aesd:</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_crypto_aese: {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *DataArg = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *KeyArg  = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160; </div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="comment">// Try to use the builtin XOR in AESE and AESD to eliminate a prior XOR</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, *<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(KeyArg, <a class="code" href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">m_ZeroInt</a>()) &amp;&amp;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(DataArg, <a class="code" href="namespacellvm_1_1PatternMatch.html#a82e2ea7f0ab67e33e22b3a2a188feaba">m_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>)))) {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;      replaceOperand(*II, 0, <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>);</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;      replaceOperand(*II, 1, <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;      <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    }</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  }</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="keywordflow">case</span> Intrinsic::hexagon_V6_vandvrt:</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <span class="keywordflow">case</span> Intrinsic::hexagon_V6_vandvrt_128B: {</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="comment">// Simplify Q -&gt; V -&gt; Q conversion.</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> Op0 = dyn_cast&lt;IntrinsicInst&gt;(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0))) {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> ID0 = Op0-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>();</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;      <span class="keywordflow">if</span> (ID0 != Intrinsic::hexagon_V6_vandqrt &amp;&amp;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;          ID0 != Intrinsic::hexagon_V6_vandqrt_128B)</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Bytes = Op0-&gt;getArgOperand(1), *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Bytes1 = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(Bytes, 0, Op0).One.getZExtValue();</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Mask1 = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, 0, II).One.getZExtValue();</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <span class="comment">// Check if every byte has common bits in Bytes and Mask.</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Bytes1 &amp; Mask1;</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp; 0xFF) &amp;&amp; (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp; 0xFF00) &amp;&amp; (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp; 0xFF0000) &amp;&amp; (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp; 0xFF000000))</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(*II, Op0-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0));</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    }</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  }</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="keywordflow">case</span> Intrinsic::stackrestore: {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <span class="keyword">enum class</span> ClassifyResult {</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;      <a class="code" href="namespacellvm.html#aebf1ed936ad0e792e159d7a4ae1b7f07">None</a>,</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      Alloca,</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      StackRestore,</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      CallWithSideEffects,</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    };</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <span class="keyword">auto</span> Classify = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        <span class="keywordflow">return</span> ClassifyResult::Alloca;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160; </div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(CI)) {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;          <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::stackrestore)</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;            <span class="keywordflow">return</span> ClassifyResult::StackRestore;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;          <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6ea260be710ac7b61309534308da3147">mayHaveSideEffects</a>())</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;            <span class="keywordflow">return</span> ClassifyResult::CallWithSideEffects;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;          <span class="comment">// Consider all non-intrinsic calls to be side effects</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;          <span class="keywordflow">return</span> ClassifyResult::CallWithSideEffects;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        }</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      }</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160; </div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aebf1ed936ad0e792e159d7a4ae1b7f07">ClassifyResult::None</a>;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;    };</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160; </div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <span class="comment">// If the stacksave and the stackrestore are in the same BB, and there is</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="comment">// no intervening call, alloca, or stackrestore of a different stacksave,</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="comment">// remove the restore. This can happen when variable allocas are DCE&#39;d.</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a> = dyn_cast&lt;IntrinsicInst&gt;(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0))) {</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>-&gt;getIntrinsicID() == Intrinsic::stacksave &amp;&amp;</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;          <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>-&gt;getParent() == II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()) {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BI(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>);</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <span class="keywordtype">bool</span> CannotRemove = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        <span class="keywordflow">for</span> (++BI; &amp;*BI != II; ++BI) {</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;          <span class="keywordflow">switch</span> (Classify(&amp;*BI)) {</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aebf1ed936ad0e792e159d7a4ae1b7f07">ClassifyResult::None</a>:</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;            <span class="comment">// So far so good, look at next instructions.</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160; </div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;          <span class="keywordflow">case</span> ClassifyResult::StackRestore:</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;            <span class="comment">// If we found an intervening stackrestore for a different</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;            <span class="comment">// stacksave, we can&#39;t remove the stackrestore. Otherwise, continue.</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;            <span class="keywordflow">if</span> (cast&lt;IntrinsicInst&gt;(*BI).getArgOperand(0) != <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">SS</a>)</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;              CannotRemove = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160; </div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;          <span class="keywordflow">case</span> ClassifyResult::Alloca:</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;          <span class="keywordflow">case</span> ClassifyResult::CallWithSideEffects:</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;            <span class="comment">// If we found an alloca, a non-intrinsic call, or an intrinsic</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;            <span class="comment">// call with side effects, we can&#39;t remove the stackrestore.</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;            CannotRemove = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;          }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;          <span class="keywordflow">if</span> (CannotRemove)</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        }</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160; </div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;        <span class="keywordflow">if</span> (!CannotRemove)</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;          <span class="keywordflow">return</span> eraseInstFromFunction(CI);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      }</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160; </div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="comment">// Scan down this block to see if there is another stack restore in the</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="comment">// same block without an intervening call/alloca.</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BI(II);</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *TI = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>();</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="keywordtype">bool</span> CannotRemove = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <span class="keywordflow">for</span> (++BI; &amp;*BI != TI; ++BI) {</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;      <span class="keywordflow">switch</span> (Classify(&amp;*BI)) {</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aebf1ed936ad0e792e159d7a4ae1b7f07">ClassifyResult::None</a>:</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;        <span class="comment">// So far so good, look at next instructions.</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160; </div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;      <span class="keywordflow">case</span> ClassifyResult::StackRestore:</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        <span class="comment">// If there is a stackrestore below this one, remove this one.</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        <span class="keywordflow">return</span> eraseInstFromFunction(CI);</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;      <span class="keywordflow">case</span> ClassifyResult::Alloca:</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      <span class="keywordflow">case</span> ClassifyResult::CallWithSideEffects:</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        <span class="comment">// If we found an alloca, a non-intrinsic call, or an intrinsic call</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        <span class="comment">// with side effects (such as llvm.stacksave and llvm.read_register),</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <span class="comment">// we can&#39;t remove the stack restore.</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;        CannotRemove = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      }</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;      <span class="keywordflow">if</span> (CannotRemove)</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    }</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160; </div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <span class="comment">// If the stack restore is in a return, resume, or unwind block and if there</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="comment">// are no allocas or calls between the restore and the return, nuke the</span></div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="comment">// restore.</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">if</span> (!CannotRemove &amp;&amp; (isa&lt;ReturnInst&gt;(TI) || isa&lt;ResumeInst&gt;(TI)))</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      <span class="keywordflow">return</span> eraseInstFromFunction(CI);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  }</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  <span class="keywordflow">case</span> Intrinsic::lifetime_end:</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <span class="comment">// Asan needs to poison memory to detect invalid access which is possible</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    <span class="comment">// even for empty lifetime range.</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6a66ebb3aa12757479a3c88de77d78f8">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#afb28a4deafe2954b0534cc6399ce518b">hasFnAttribute</a>(Attribute::SanitizeAddress) ||</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6a66ebb3aa12757479a3c88de77d78f8">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#afb28a4deafe2954b0534cc6399ce518b">hasFnAttribute</a>(Attribute::SanitizeMemory) ||</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6a66ebb3aa12757479a3c88de77d78f8">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#afb28a4deafe2954b0534cc6399ce518b">hasFnAttribute</a>(Attribute::SanitizeHWAddress))</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160; </div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstCombineCalls_8cpp.html#a1fbbf5255240485629c031aa08e41c3f">removeTriviallyEmptyRange</a>(*II, *<span class="keyword">this</span>, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getIntrinsicID() == Intrinsic::lifetime_start;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        }))</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <span class="keywordflow">case</span> Intrinsic::assume: {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *IIOperand = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;OperandBundleDef, 4&gt;</a> OpBundles;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a19263fff7f5b3a9d22b48151fa0d85d0">getOperandBundlesAsDefs</a>(OpBundles);</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;<span class="comment">    /// This will remove the boolean Condition from the assume given as</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;<span class="comment">    /// argument and remove the assume if it becomes useless.</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;<span class="comment">    /// always returns nullptr for use as a return values.</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;<span class="comment"></span>    <span class="keyword">auto</span> RemoveConditionFromAssume = [&amp;](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Assume) -&gt; <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> * {</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;AssumeInst&gt;(Assume));</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af292b2e5cb0702e5df9051df6428c79e">isAssumeWithEmptyBundle</a>(*cast&lt;AssumeInst&gt;(II)))</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;        <span class="keywordflow">return</span> eraseInstFromFunction(CI);</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;      replaceUse(II-&gt;<a class="code" href="classllvm_1_1User.html#a53d4e14158c5056fd1ed8f7b3da82f8a">getOperandUse</a>(0), <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>()));</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    };</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <span class="comment">// Remove an assume if it is followed by an identical assume.</span></div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="comment">// TODO: Do we need this? Unless there are conflicting assumptions, the</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="comment">// computeKnownBits(IIOperand) below here eliminates redundant assumes.</span></div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Next = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a91bd28adea418a08cec78b72413d9d45">getNextNonDebugInstruction</a>();</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Next, m_Intrinsic&lt;Intrinsic::assume&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(IIOperand))))</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      <span class="keywordflow">return</span> RemoveConditionFromAssume(Next);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160; </div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="comment">// Canonicalize assume(a &amp;&amp; b) -&gt; assume(a); assume(b);</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <span class="comment">// Note: New assumption intrinsics created here are registered by</span></div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    <span class="comment">// the InstCombineIRInserter object.</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *AssumeIntrinsicTy = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">getFunctionType</a>();</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *AssumeIntrinsic = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">getCalledOperand</a>();</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *A, *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#a213e6c0ca6e838157373b9a6018c0769">m_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)))) {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(AssumeIntrinsicTy, AssumeIntrinsic, A, OpBundles,</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                         II-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(AssumeIntrinsicTy, AssumeIntrinsic, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, II-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      <span class="keywordflow">return</span> eraseInstFromFunction(*II);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;    }</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    <span class="comment">// assume(!(a || b)) -&gt; assume(!a); assume(!b);</span></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a1a06b1cff93069d7403ea03e6150e386">m_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))) {</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(AssumeIntrinsicTy, AssumeIntrinsic,</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                         <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNot(A), OpBundles, II-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(AssumeIntrinsicTy, AssumeIntrinsic,</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                         <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNot(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), II-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      <span class="keywordflow">return</span> eraseInstFromFunction(*II);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    }</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160; </div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <span class="comment">// assume( (load addr) != null ) -&gt; add &#39;nonnull&#39; metadata to load</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <span class="comment">// (if assume is valid at the load)</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a04353aa48874f9bda89ff9059cd1a5a6">m_Instruction</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())) &amp;&amp;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a> &amp;&amp;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;        <a class="code" href="namespacellvm.html#af1d57d70f59588a35ebfe3c4f50fecd2">isValidAssumeForContext</a>(II, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, &amp;DT)) {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), std::nullopt);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a338590123630c357df6340c38d066572">setMetadata</a>(LLVMContext::MD_nonnull, MD);</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;      <span class="keywordflow">return</span> RemoveConditionFromAssume(II);</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160; </div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;      <span class="comment">// TODO: apply nonnull return attributes to calls and invokes</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;      <span class="comment">// TODO: apply range metadata for range check patterns?</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    }</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160; </div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="comment">// Convert nonnull assume like:</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="comment">// %A = icmp ne i32* %PTR, null</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <span class="comment">// call void @llvm.assume(i1 %A)</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="comment">// into</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <span class="comment">// call void @llvm.assume(i1 true) [ &quot;nonnull&quot;(i32* %PTR) ]</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ad751953714d1b2170a713d98077daff1">EnableKnowledgeRetention</a> &amp;&amp;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand, <a class="code" href="namespacellvm_1_1PatternMatch.html#a753e1338645ec04d045211b8a46d968d">m_Cmp</a>(Pred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())) &amp;&amp;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a> &amp;&amp; A-&gt;getType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Replacement = <a class="code" href="namespacellvm.html#a855f472cab89fb74cbc7075b164d78f0">buildAssumeFromKnowledge</a>(</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;              {<a class="code" href="structllvm_1_1RetainedKnowledge.html">RetainedKnowledge</a>{Attribute::NonNull, 0, A}}, Next, &amp;AC, &amp;DT)) {</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160; </div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        Replacement-&gt;insertBefore(Next);</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;        AC.registerAssumption(Replacement);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        <span class="keywordflow">return</span> RemoveConditionFromAssume(II);</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;      }</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    }</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160; </div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <span class="comment">// Convert alignment assume like:</span></div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <span class="comment">// %B = ptrtoint i32* %A to i64</span></div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <span class="comment">// %C = and i64 %B, Constant</span></div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <span class="comment">// %D = icmp eq i64 %C, 0</span></div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <span class="comment">// call void @llvm.assume(i1 %D)</span></div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="comment">// into</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    <span class="comment">// call void @llvm.assume(i1 true) [ &quot;align&quot;(i32* [[A]], i64  Constant + 1)]</span></div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AlignMask;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ad751953714d1b2170a713d98077daff1">EnableKnowledgeRetention</a> &amp;&amp;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(IIOperand,</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;              <a class="code" href="namespacellvm_1_1PatternMatch.html#a753e1338645ec04d045211b8a46d968d">m_Cmp</a>(Pred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(AlignMask)),</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                    <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())) &amp;&amp;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;        Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>) {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a434f6a0d80fb13e4326e848a6391f057">isPowerOf2_64</a>(AlignMask + 1)) {</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Offset = 0;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(A, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(Offset)));</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(A, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A)))) {<span class="comment"></span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;<span class="comment">          /// Note: this doesn&#39;t preserve the offset information but merges</span></div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;<span class="comment">          /// offset and alignment.</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;<span class="comment">          /// TODO: we can generate a GEP instead of merging the alignment with</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;<span class="comment">          /// the offset.</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;<span class="comment"></span>          <a class="code" href="structllvm_1_1RetainedKnowledge.html">RetainedKnowledge</a> RK{Attribute::Alignment,</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                               (<a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>)<a class="code" href="namespacellvm.html#ab3b23d3c8c5c910df534a80ce9772495">MinAlign</a>(Offset, AlignMask + 1), A};</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Replacement =</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;                  <a class="code" href="namespacellvm.html#a855f472cab89fb74cbc7075b164d78f0">buildAssumeFromKnowledge</a>(RK, Next, &amp;AC, &amp;DT)) {</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160; </div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;            Replacement-&gt;insertAfter(II);</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;            AC.registerAssumption(Replacement);</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;          }</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;          <span class="keywordflow">return</span> RemoveConditionFromAssume(II);</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        }</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;      }</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    }</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;<span class="comment">    /// Canonicalize Knowledge in operand bundles.</span></div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;<span class="comment"></span>    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ad751953714d1b2170a713d98077daff1">EnableKnowledgeRetention</a> &amp;&amp; II-&gt;<a class="code" href="classllvm_1_1CallBase.html#aecc0c27ae96638bc9d8fa4caffa92c31">hasOperandBundles</a>()) {</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a35b3798829fba58f145ea59e4214e84a">getNumOperandBundles</a>(); Idx++) {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        <span class="keyword">auto</span> &amp;BOI = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a09fff26473ca9a3d9d1ff51633e048c1">bundle_op_info_begin</a>()[Idx];</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        <a class="code" href="structllvm_1_1RetainedKnowledge.html">RetainedKnowledge</a> RK =</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;          <a class="code" href="namespacellvm.html#a5b33634e0aa97435f13845ce7e10411e">llvm::getKnowledgeFromBundle</a>(cast&lt;AssumeInst&gt;(*II), BOI);</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        <span class="keywordflow">if</span> (BOI.End - BOI.Begin &gt; 2)</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;          <span class="keywordflow">continue</span>; <span class="comment">// Prevent reducing knowledge in an align with offset since</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                    <span class="comment">// extracting a RetainedKnowledge from them looses offset</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                    <span class="comment">// information</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;        <a class="code" href="structllvm_1_1RetainedKnowledge.html">RetainedKnowledge</a> CanonRK =</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;          <a class="code" href="namespacellvm.html#a21fa9fb3ba25eaa02fae01f428ef2fdf">llvm::simplifyRetainedKnowledge</a>(cast&lt;AssumeInst&gt;(II), RK,</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                                          &amp;getAssumptionCache(),</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                                          &amp;getDominatorTree());</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;        <span class="keywordflow">if</span> (CanonRK == RK)</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        <span class="keywordflow">if</span> (!CanonRK) {</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;          <span class="keywordflow">if</span> (BOI.End - BOI.Begin &gt; 0) {</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;            Worklist.pushValue(II-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>()[BOI.Begin]);</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;            <a class="code" href="classllvm_1_1Value.html#a44beb55f865ee8a8e42c3a9adeb599e2">Value::dropDroppableUse</a>(II-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>()[BOI.Begin]);</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;          }</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        }</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RK.<a class="code" href="structllvm_1_1RetainedKnowledge.html#a054a26c551d4de8f1af4d75a7a67a42a">AttrKind</a> == CanonRK.<a class="code" href="structllvm_1_1RetainedKnowledge.html#a054a26c551d4de8f1af4d75a7a67a42a">AttrKind</a>);</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        <span class="keywordflow">if</span> (BOI.End - BOI.Begin &gt; 0)</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;          II-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>()[BOI.Begin].<a class="code" href="classllvm_1_1Use.html#a40360b4fa7b8e6920a68e5a8a0814f1f">set</a>(CanonRK.<a class="code" href="structllvm_1_1RetainedKnowledge.html#a99ac6afa72b262e95ceb85328c6cb5c6">WasOn</a>);</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        <span class="keywordflow">if</span> (BOI.End - BOI.Begin &gt; 1)</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;          II-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>()[BOI.Begin + 1].<a class="code" href="classllvm_1_1Use.html#a40360b4fa7b8e6920a68e5a8a0814f1f">set</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;              <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(II-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>()), CanonRK.<a class="code" href="structllvm_1_1RetainedKnowledge.html#a3b64a97b9157b9bd9a1d924cae66254b">ArgValue</a>));</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        <span class="keywordflow">if</span> (RK.<a class="code" href="structllvm_1_1RetainedKnowledge.html#a99ac6afa72b262e95ceb85328c6cb5c6">WasOn</a>)</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;          Worklist.pushValue(RK.<a class="code" href="structllvm_1_1RetainedKnowledge.html#a99ac6afa72b262e95ceb85328c6cb5c6">WasOn</a>);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      }</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    }</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160; </div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    <span class="comment">// If there is a dominating assume with the same condition as this one,</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    <span class="comment">// then this one is redundant, and should be removed.</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known(1);</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(IIOperand, Known, 0, II);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#af3680fca8d50d56b690bed3ac6c1f68e">isAllOnes</a>() &amp;&amp; <a class="code" href="namespacellvm.html#af292b2e5cb0702e5df9051df6428c79e">isAssumeWithEmptyBundle</a>(cast&lt;AssumeInst&gt;(*II)))</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      <span class="keywordflow">return</span> eraseInstFromFunction(*II);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160; </div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="comment">// Update the cache of affected values for this assumption (we might be</span></div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <span class="comment">// here because we just simplified the condition).</span></div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    AC.updateAffectedValues(cast&lt;AssumeInst&gt;(II));</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  }</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_guard: {</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <span class="comment">// Is this guard followed by another guard?  We scan forward over a small</span></div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="comment">// fixed window of instructions to handle common cases with conditions</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="comment">// computed between guards.</span></div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NextInst = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a91bd28adea418a08cec78b72413d9d45">getNextNonDebugInstruction</a>();</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="InstCombineCalls_8cpp.html#a3130d3229343ee7ae6b53bffeea4eee2">GuardWideningWindow</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;      <span class="comment">// Note: Using context-free form to avoid compile time blow up</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#abe76d72cda6b2b4562c72accb510040b">isSafeToSpeculativelyExecute</a>(NextInst))</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;      NextInst = NextInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a91bd28adea418a08cec78b72413d9d45">getNextNonDebugInstruction</a>();</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    }</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NextCond = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(NextInst,</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;              m_Intrinsic&lt;Intrinsic::experimental_guard&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(NextCond)))) {</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *CurrCond = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160; </div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;      <span class="comment">// Remove a guard that it is immediately preceded by an identical guard.</span></div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      <span class="comment">// Otherwise canonicalize guard(a); guard(b) -&gt; guard(a &amp; b).</span></div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      <span class="keywordflow">if</span> (CurrCond != NextCond) {</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *MoveI = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a91bd28adea418a08cec78b72413d9d45">getNextNonDebugInstruction</a>();</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        <span class="keywordflow">while</span> (MoveI != NextInst) {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;          <span class="keyword">auto</span> *Temp = MoveI;</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;          MoveI = MoveI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a91bd28adea418a08cec78b72413d9d45">getNextNonDebugInstruction</a>();</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;          Temp-&gt;<a class="code" href="classllvm_1_1Instruction.html#af67d1f3a518964d80a109bb3d9d5cf1e">moveBefore</a>(II);</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        replaceOperand(*II, 0, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(CurrCond, NextCond));</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;      }</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;      eraseInstFromFunction(*NextInst);</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    }</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  }</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_insert: {</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Vec = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *SubVec = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Idx = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="keyword">auto</span> *DstTy = dyn_cast&lt;FixedVectorType&gt;(II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <span class="keyword">auto</span> *VecTy = dyn_cast&lt;FixedVectorType&gt;(Vec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="keyword">auto</span> *SubVecTy = dyn_cast&lt;FixedVectorType&gt;(SubVec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160; </div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="comment">// Only canonicalize if the destination vector, Vec, and SubVec are all</span></div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="comment">// fixed vectors.</span></div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    <span class="keywordflow">if</span> (DstTy &amp;&amp; VecTy &amp;&amp; SubVecTy) {</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;      <span class="keywordtype">unsigned</span> DstNumElts = DstTy-&gt;getNumElements();</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;      <span class="keywordtype">unsigned</span> VecNumElts = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;      <span class="keywordtype">unsigned</span> SubVecNumElts = SubVecTy-&gt;getNumElements();</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;      <span class="keywordtype">unsigned</span> IdxN = cast&lt;ConstantInt&gt;(Idx)-&gt;getZExtValue();</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160; </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      <span class="comment">// An insert that entirely overwrites Vec with SubVec is a nop.</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;      <span class="keywordflow">if</span> (VecNumElts == SubVecNumElts)</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(CI, SubVec);</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160; </div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      <span class="comment">// Widen SubVec into a vector of the same width as Vec, since</span></div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      <span class="comment">// shufflevector requires the two input vectors to be the same width.</span></div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;      <span class="comment">// Elements beyond the bounds of SubVec within the widened vector are</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;      <span class="comment">// undefined.</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> WidenMask;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != SubVecNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        WidenMask.push_back(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;      <span class="keywordflow">for</span> (; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != VecNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        WidenMask.push_back(<a class="code" href="namespacellvm.html#a4e09435caee07f636a47006fa08b9ec4">UndefMaskElem</a>);</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160; </div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *WidenShuffle = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(SubVec, WidenMask);</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160; </div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != IdxN; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.push_back(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = DstNumElts; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DstNumElts + SubVecNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.push_back(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = IdxN + SubVecNumElts; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DstNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.push_back(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160; </div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a766456df1dd21e804cd4596304e10764ae8b4b40ec3622e371789b790caabc083">Shuffle</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Vec, WidenShuffle, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(CI, <a class="code" href="namespacellvm.html#a766456df1dd21e804cd4596304e10764ae8b4b40ec3622e371789b790caabc083">Shuffle</a>);</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    }</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  }</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_extract: {</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Vec = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Idx = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160; </div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a> = II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="comment">// (extract_vector (insert_vector InsertTuple, InsertValue, InsertIdx),</span></div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <span class="comment">// ExtractIdx)</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <span class="keywordtype">unsigned</span> ExtractIdx = cast&lt;ConstantInt&gt;(Idx)-&gt;getZExtValue();</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *InsertTuple, *InsertIdx, *InsertValue;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Vec, m_Intrinsic&lt;Intrinsic::vector_insert&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(InsertTuple),</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                                                         <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(InsertValue),</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;                                                         <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(InsertIdx))) &amp;&amp;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        InsertValue-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == <a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>) {</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = cast&lt;ConstantInt&gt;(InsertIdx)-&gt;getZExtValue();</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <span class="comment">// Case where we get the same index right after setting it.</span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      <span class="comment">// extract.vector(insert.vector(InsertTuple, InsertValue, Idx), Idx) --&gt;</span></div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;      <span class="comment">// InsertValue</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      <span class="keywordflow">if</span> (ExtractIdx == <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>)</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(CI, InsertValue);</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;      <span class="comment">// If we are getting a different index than what was set in the</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <span class="comment">// insert.vector intrinsic. We can just set the input tuple to the one up</span></div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <span class="comment">// in the chain. extract.vector(insert.vector(InsertTuple, InsertValue,</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <span class="comment">// InsertIndex), ExtractIndex)</span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      <span class="comment">// --&gt; extract.vector(InsertTuple, ExtractIndex)</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        <span class="keywordflow">return</span> replaceOperand(CI, 0, InsertTuple);</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    }</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160; </div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <span class="keyword">auto</span> *DstTy = dyn_cast&lt;FixedVectorType&gt;(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    <span class="keyword">auto</span> *VecTy = dyn_cast&lt;FixedVectorType&gt;(Vec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160; </div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <span class="comment">// Only canonicalize if the the destination vector and Vec are fixed</span></div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <span class="comment">// vectors.</span></div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <span class="keywordflow">if</span> (DstTy &amp;&amp; VecTy) {</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      <span class="keywordtype">unsigned</span> DstNumElts = DstTy-&gt;getNumElements();</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;      <span class="keywordtype">unsigned</span> VecNumElts = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;      <span class="keywordtype">unsigned</span> IdxN = cast&lt;ConstantInt&gt;(Idx)-&gt;getZExtValue();</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160; </div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      <span class="comment">// Extracting the entirety of Vec is a nop.</span></div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;      <span class="keywordflow">if</span> (VecNumElts == DstNumElts) {</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;        replaceInstUsesWith(CI, Vec);</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;        <span class="keywordflow">return</span> eraseInstFromFunction(CI);</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      }</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160; </div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DstNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.push_back(IdxN + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160; </div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a766456df1dd21e804cd4596304e10764ae8b4b40ec3622e371789b790caabc083">Shuffle</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Vec, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(CI, <a class="code" href="namespacellvm.html#a766456df1dd21e804cd4596304e10764ae8b4b40ec3622e371789b790caabc083">Shuffle</a>);</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    }</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  }</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_vector_reverse: {</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *BO0, *BO1, *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Vec = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Vec, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a43ac4fbaaf63a88eb5ac05f6d3e5649c">m_BinOp</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(BO0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(BO1))))) {</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      <span class="keyword">auto</span> *OldBinOp = cast&lt;BinaryOperator&gt;(Vec);</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(BO0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ad4201fc3d0958c5d8dff30af6fa45803">m_VecReverse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) {</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;        <span class="comment">// rev(binop rev(X), rev(Y)) --&gt; binop X, Y</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(BO1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ad4201fc3d0958c5d8dff30af6fa45803">m_VecReverse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;          <span class="keywordflow">return</span> replaceInstUsesWith(CI,</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;                                     <a class="code" href="classllvm_1_1BinaryOperator.html#a16799e07e39d599e81926d1a69301fab">BinaryOperator::CreateWithCopiedFlags</a>(</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;                                         OldBinOp-&gt;getOpcode(), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, OldBinOp,</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;                                         OldBinOp-&gt;getName(), II));</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;        <span class="comment">// rev(binop rev(X), BO1Splat) --&gt; binop X, BO1Splat</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a6339f2ad6701dc229c34ca4305596d3a">isSplatValue</a>(BO1))</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;          <span class="keywordflow">return</span> replaceInstUsesWith(CI,</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                                     <a class="code" href="classllvm_1_1BinaryOperator.html#a16799e07e39d599e81926d1a69301fab">BinaryOperator::CreateWithCopiedFlags</a>(</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;                                         OldBinOp-&gt;getOpcode(), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, BO1,</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;                                         OldBinOp, OldBinOp-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>(), II));</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;      }</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;      <span class="comment">// rev(binop BO0Splat, rev(Y)) --&gt; binop BO0Splat, Y</span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(BO1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ad4201fc3d0958c5d8dff30af6fa45803">m_VecReverse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp; <a class="code" href="namespacellvm.html#a6339f2ad6701dc229c34ca4305596d3a">isSplatValue</a>(BO0))</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(CI, <a class="code" href="classllvm_1_1BinaryOperator.html#a16799e07e39d599e81926d1a69301fab">BinaryOperator::CreateWithCopiedFlags</a>(</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;                                           OldBinOp-&gt;getOpcode(), BO0, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>,</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;                                           OldBinOp, OldBinOp-&gt;getName(), II));</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    }</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <span class="comment">// rev(unop rev(X)) --&gt; unop X</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Vec, <a class="code" href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">m_OneUse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a91de4bc9bca1d204b0c4b93d11a83c31">m_UnOp</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ad4201fc3d0958c5d8dff30af6fa45803">m_VecReverse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))))) {</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;      <span class="keyword">auto</span> *OldUnOp = cast&lt;UnaryOperator&gt;(Vec);</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;      <span class="keyword">auto</span> *NewUnOp = <a class="code" href="classllvm_1_1UnaryOperator.html#a19fab8f3b21b19f94e68830579d84982">UnaryOperator::CreateWithCopiedFlags</a>(</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;          OldUnOp-&gt;getOpcode(), <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, OldUnOp, OldUnOp-&gt;getName(), II);</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;      <span class="keywordflow">return</span> replaceInstUsesWith(CI, NewUnOp);</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    }</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  }</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_or:</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_and: {</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <span class="comment">// Canonicalize logical or/and reductions:</span></div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <span class="comment">// Or reduction for i1 is represented as:</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="comment">// %val = bitcast &lt;ReduxWidth x i1&gt; to iReduxWidth</span></div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="comment">// %res = cmp ne iReduxWidth %val, 0</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <span class="comment">// And reduction for i1 is represented as:</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="comment">// %val = bitcast &lt;ReduxWidth x i1&gt; to iReduxWidth</span></div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    <span class="comment">// %res = cmp eq iReduxWidth %val, 11111</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Vect;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a9b5f8c6319b9c6f27b25a0719e82c64d">m_ZExtOrSExtOrSelf</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Vect)))) {</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FTy = dyn_cast&lt;FixedVectorType&gt;(Vect-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        <span class="keywordflow">if</span> (FTy-&gt;getElementType() == <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty()) {</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;          <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;              Vect, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getIntNTy(FTy-&gt;getNumElements()));</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;          <span class="keywordflow">if</span> (IID == Intrinsic::vector_reduce_and) {</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;            Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpEQ(</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;                Res, <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">ConstantInt::getAllOnesValue</a>(Res-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IID == Intrinsic::vector_reduce_or &amp;&amp;</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;                   <span class="stringliteral">&quot;Expected or reduction.&quot;</span>);</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;            Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateIsNotNull(Res);</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;          }</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> != Vect)</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;            Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCast(cast&lt;CastInst&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>)-&gt;<a class="code" href="VPlanSLP_8cpp.html#af04704e906a9654777e92a4612c58c13">getOpcode</a>(), Res,</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;                                     II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;          <span class="keywordflow">return</span> replaceInstUsesWith(CI, Res);</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;        }</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    }</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  }</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_add: {</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="keywordflow">if</span> (IID == Intrinsic::vector_reduce_add) {</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;      <span class="comment">// Convert vector_reduce_add(ZExt(&lt;n x i1&gt;)) to</span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;      <span class="comment">// ZExtOrTrunc(ctpop(bitcast &lt;n x i1&gt; to in)).</span></div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;      <span class="comment">// Convert vector_reduce_add(SExt(&lt;n x i1&gt;)) to</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;      <span class="comment">// -ZExtOrTrunc(ctpop(bitcast &lt;n x i1&gt; to in)).</span></div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;      <span class="comment">// Convert vector_reduce_add(&lt;n x i1&gt;) to</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;      <span class="comment">// Trunc(ctpop(bitcast &lt;n x i1&gt; to in)).</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Vect;</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a9b5f8c6319b9c6f27b25a0719e82c64d">m_ZExtOrSExtOrSelf</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Vect)))) {</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FTy = dyn_cast&lt;FixedVectorType&gt;(Vect-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;          <span class="keywordflow">if</span> (FTy-&gt;getElementType() == <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty()) {</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;            <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;                Vect, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getIntNTy(FTy-&gt;getNumElements()));</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;            <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateUnaryIntrinsic(Intrinsic::ctpop, V);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;            <span class="keywordflow">if</span> (Res-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;              Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateZExtOrTrunc(Res, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> != Vect &amp;&amp;</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;                cast&lt;Instruction&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>)-&gt;<a class="code" href="VPlanSLP_8cpp.html#af04704e906a9654777e92a4612c58c13">getOpcode</a>() == Instruction::SExt)</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;              Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNeg(Res);</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;            <span class="keywordflow">return</span> replaceInstUsesWith(CI, Res);</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;          }</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;      }</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;    }</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;  }</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_xor: {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <span class="keywordflow">if</span> (IID == Intrinsic::vector_reduce_xor) {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;      <span class="comment">// Exclusive disjunction reduction over the vector with</span></div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;      <span class="comment">// (potentially-extended) i1 element type is actually a</span></div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;      <span class="comment">// (potentially-extended) arithmetic `add` reduction over the original</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;      <span class="comment">// non-extended value:</span></div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;      <span class="comment">//   vector_reduce_xor(?ext(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;      <span class="comment">//     --&gt;</span></div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      <span class="comment">//   ?ext(vector_reduce_add(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Vect;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a9b5f8c6319b9c6f27b25a0719e82c64d">m_ZExtOrSExtOrSelf</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Vect)))) {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FTy = dyn_cast&lt;FixedVectorType&gt;(Vect-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;          <span class="keywordflow">if</span> (FTy-&gt;getElementType() == <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty()) {</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;            <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAddReduce(Vect);</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> != Vect)</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;              Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCast(cast&lt;CastInst&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>)-&gt;<a class="code" href="VPlanSLP_8cpp.html#af04704e906a9654777e92a4612c58c13">getOpcode</a>(), Res,</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;                                       II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;            <span class="keywordflow">return</span> replaceInstUsesWith(CI, Res);</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;          }</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;      }</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    }</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  }</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_mul: {</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    <span class="keywordflow">if</span> (IID == Intrinsic::vector_reduce_mul) {</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;      <span class="comment">// Multiplicative reduction over the vector with (potentially-extended)</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;      <span class="comment">// i1 element type is actually a (potentially zero-extended)</span></div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;      <span class="comment">// logical `and` reduction over the original non-extended value:</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      <span class="comment">//   vector_reduce_mul(?ext(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;      <span class="comment">//     --&gt;</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      <span class="comment">//   zext(vector_reduce_and(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Vect;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a9b5f8c6319b9c6f27b25a0719e82c64d">m_ZExtOrSExtOrSelf</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Vect)))) {</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FTy = dyn_cast&lt;FixedVectorType&gt;(Vect-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;          <span class="keywordflow">if</span> (FTy-&gt;getElementType() == <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty()) {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;            <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAndReduce(Vect);</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;            <span class="keywordflow">if</span> (Res-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;              Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateZExt(Res, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;            <span class="keywordflow">return</span> replaceInstUsesWith(CI, Res);</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;          }</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;      }</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    }</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  }</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_umin:</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_umax: {</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <span class="keywordflow">if</span> (IID == Intrinsic::vector_reduce_umin ||</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;        IID == Intrinsic::vector_reduce_umax) {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;      <span class="comment">// UMin/UMax reduction over the vector with (potentially-extended)</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;      <span class="comment">// i1 element type is actually a (potentially-extended)</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;      <span class="comment">// logical `and`/`or` reduction over the original non-extended value:</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;      <span class="comment">//   vector_reduce_u{min,max}(?ext(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;      <span class="comment">//     --&gt;</span></div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;      <span class="comment">//   ?ext(vector_reduce_{and,or}(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Vect;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a9b5f8c6319b9c6f27b25a0719e82c64d">m_ZExtOrSExtOrSelf</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Vect)))) {</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FTy = dyn_cast&lt;FixedVectorType&gt;(Vect-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;          <span class="keywordflow">if</span> (FTy-&gt;getElementType() == <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty()) {</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;            <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = IID == Intrinsic::vector_reduce_umin</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;                             ? <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAndReduce(Vect)</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                             : <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateOrReduce(Vect);</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> != Vect)</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;              Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCast(cast&lt;CastInst&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>)-&gt;<a class="code" href="VPlanSLP_8cpp.html#af04704e906a9654777e92a4612c58c13">getOpcode</a>(), Res,</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                                       II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;            <span class="keywordflow">return</span> replaceInstUsesWith(CI, Res);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;          }</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;      }</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    }</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  }</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_smin:</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_smax: {</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    <span class="keywordflow">if</span> (IID == Intrinsic::vector_reduce_smin ||</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;        IID == Intrinsic::vector_reduce_smax) {</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;      <span class="comment">// SMin/SMax reduction over the vector with (potentially-extended)</span></div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      <span class="comment">// i1 element type is actually a (potentially-extended)</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;      <span class="comment">// logical `and`/`or` reduction over the original non-extended value:</span></div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;      <span class="comment">//   vector_reduce_s{min,max}(&lt;n x i1&gt;)</span></div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;      <span class="comment">//     --&gt;</span></div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;      <span class="comment">//   vector_reduce_{or,and}(&lt;n x i1&gt;)</span></div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;      <span class="comment">// and</span></div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;      <span class="comment">//   vector_reduce_s{min,max}(sext(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;      <span class="comment">//     --&gt;</span></div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      <span class="comment">//   sext(vector_reduce_{or,and}(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;      <span class="comment">// and</span></div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;      <span class="comment">//   vector_reduce_s{min,max}(zext(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;      <span class="comment">//     --&gt;</span></div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;      <span class="comment">//   zext(vector_reduce_{and,or}(&lt;n x i1&gt;))</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Vect;</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a9b5f8c6319b9c6f27b25a0719e82c64d">m_ZExtOrSExtOrSelf</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Vect)))) {</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FTy = dyn_cast&lt;FixedVectorType&gt;(Vect-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;          <span class="keywordflow">if</span> (FTy-&gt;getElementType() == <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty()) {</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;            <a class="code" href="classllvm_1_1Instruction.html#afa0b2fa29ba074f2b6ec9ac11163f2d9">Instruction::CastOps</a> ExtOpc = Instruction::CastOps::CastOpsEnd;</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> != Vect)</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;              ExtOpc = cast&lt;CastInst&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>)-&gt;getOpcode();</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;            <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = ((IID == Intrinsic::vector_reduce_smin) ==</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;                          (ExtOpc == Instruction::CastOps::ZExt))</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                             ? <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAndReduce(Vect)</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;                             : <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateOrReduce(Vect);</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> != Vect)</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;              Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCast(ExtOpc, Res, II-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;            <span class="keywordflow">return</span> replaceInstUsesWith(CI, Res);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;          }</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      }</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    }</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  }</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_fmax:</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_fmin:</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_fadd:</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_reduce_fmul: {</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <span class="keywordtype">bool</span> CanBeReassociated = (IID != Intrinsic::vector_reduce_fadd &amp;&amp;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;                              IID != Intrinsic::vector_reduce_fmul) ||</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                             II-&gt;<a class="code" href="classllvm_1_1Instruction.html#aed565a1dfd056c37a481581db8cdbedd">hasAllowReassoc</a>();</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> ArgIdx = (IID == Intrinsic::vector_reduce_fadd ||</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;                             IID == Intrinsic::vector_reduce_fmul)</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;                                ? 1</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;                                : 0;</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(ArgIdx);</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;FixedVectorType&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>-&gt;getType()) || !CanBeReassociated ||</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;        !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#afd3e8a6706810fef8cdbaf1f9f40dfbd">m_Shuffle</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(V), <a class="code" href="namespacellvm_1_1PatternMatch.html#adea6dc2e42baa345b97be48b0370313d">m_Undef</a>(), <a class="code" href="structllvm_1_1PatternMatch_1_1m__Mask.html">m_Mask</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))) ||</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;        !cast&lt;ShuffleVectorInst&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>)-&gt;isSingleSource())</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="keywordtype">int</span> Sz = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.size();</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <a class="code" href="classllvm_1_1SmallBitVector.html">SmallBitVector</a> UsedIndices(Sz);</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Idx : <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>) {</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;      <span class="keywordflow">if</span> (Idx == <a class="code" href="namespacellvm.html#a4e09435caee07f636a47006fa08b9ec4">UndefMaskElem</a> || UsedIndices.<a class="code" href="classllvm_1_1SmallBitVector.html#a585f149dd8c344a40c53b1694d3161ed">test</a>(Idx))</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;      UsedIndices.<a class="code" href="classllvm_1_1SmallBitVector.html#a0ff6951070195d0a7e0e31ffe47daaf1">set</a>(Idx);</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    }</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <span class="comment">// Can remove shuffle iff just shuffled elements, no repeats, undefs, or</span></div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <span class="comment">// other changes.</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <span class="keywordflow">if</span> (UsedIndices.<a class="code" href="classllvm_1_1SmallBitVector.html#a8cfcd92a373cdd7deefb939dd76b83e3">all</a>()) {</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;      replaceUse(II-&gt;<a class="code" href="classllvm_1_1User.html#a53d4e14158c5056fd1ed8f7b3da82f8a">getOperandUse</a>(ArgIdx), V);</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    }</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  }</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <span class="keywordflow">case</span> Intrinsic::is_fpclass: {</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = foldIntrinsicIsFPClass(*II))</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  }</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <span class="comment">// Handle target specific intrinsics</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;    std::optional&lt;Instruction *&gt; V = targetInstCombineIntrinsic(*II);</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    <span class="keywordflow">if</span> (V)</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;      <span class="keywordflow">return</span> *V;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;  }</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  }</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160; </div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Shuf = <a class="code" href="InstCombineCalls_8cpp.html#a6e06a656117038ee38e95b8cd5feb8ba">foldShuffledIntrinsicOperands</a>(II, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>))</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <span class="keywordflow">return</span> Shuf;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160; </div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <span class="comment">// Some intrinsics (like experimental_gc_statepoint) can be used in invoke</span></div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <span class="comment">// context, so it is handled in visitCallBase and we should trigger it.</span></div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <span class="keywordflow">return</span> visitCallBase(*II);</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;}</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160; </div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;<span class="comment">// Fence instruction simplification</span></div>
<div class="line"><a name="l02969"></a><span class="lineno"><a class="line" href="classllvm_1_1InstCombinerImpl.html#a85e25362e2d9d1222397368e9ba7f9ce"> 2969</a></span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1InstCombinerImpl.html#a85e25362e2d9d1222397368e9ba7f9ce">InstCombinerImpl::visitFenceInst</a>(<a class="code" href="classllvm_1_1FenceInst.html">FenceInst</a> &amp;FI) {</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <span class="keyword">auto</span> *NFI = dyn_cast&lt;FenceInst&gt;(FI.<a class="code" href="classllvm_1_1Instruction.html#a91bd28adea418a08cec78b72413d9d45">getNextNonDebugInstruction</a>());</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  <span class="comment">// This check is solely here to handle arbitrary target-dependent syncscopes.</span></div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="comment">// TODO: Can remove if does not matter in practice.</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <span class="keywordflow">if</span> (NFI &amp;&amp; FI.<a class="code" href="classllvm_1_1Instruction.html#ad848bd0184fc7bcb7b71e19248f08f34">isIdenticalTo</a>(NFI))</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    <span class="keywordflow">return</span> eraseInstFromFunction(FI);</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160; </div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;  <span class="comment">// Returns true if FI1 is identical or stronger fence than FI2.</span></div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <span class="keyword">auto</span> isIdenticalOrStrongerFence = [](<a class="code" href="classllvm_1_1FenceInst.html">FenceInst</a> *FI1, <a class="code" href="classllvm_1_1FenceInst.html">FenceInst</a> *FI2) {</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    <span class="keyword">auto</span> FI1SyncScope = FI1-&gt;<a class="code" href="classllvm_1_1FenceInst.html#a4a6a0ed88a85b313ed83fc3cce7b9b42">getSyncScopeID</a>();</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    <span class="comment">// Consider same scope, where scope is global or single-thread.</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <span class="keywordflow">if</span> (FI1SyncScope != FI2-&gt;getSyncScopeID() ||</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;        (FI1SyncScope != <a class="code" href="namespacellvm_1_1SyncScope.html#a4f8fa2bf4e0acbf29065f51c8c3cad47af9706a2e196638078e8323bfd9ba17de">SyncScope::System</a> &amp;&amp;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;         FI1SyncScope != <a class="code" href="namespacellvm_1_1SyncScope.html#a4f8fa2bf4e0acbf29065f51c8c3cad47a6ee3fb8ea1d8946ee1f96ab1947b294a">SyncScope::SingleThread</a>))</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160; </div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a7f04318888b610cbdd037adc9b1b17e3">isAtLeastOrStrongerThan</a>(FI1-&gt;<a class="code" href="classllvm_1_1FenceInst.html#abd9ff637c66279c825f9dd00ceff10f9">getOrdering</a>(), FI2-&gt;getOrdering());</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  };</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="keywordflow">if</span> (NFI &amp;&amp; isIdenticalOrStrongerFence(NFI, &amp;FI))</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <span class="keywordflow">return</span> eraseInstFromFunction(FI);</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160; </div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *PFI = dyn_cast_or_null&lt;FenceInst&gt;(FI.<a class="code" href="classllvm_1_1Instruction.html#a512494b857b0644c1f722531e3ee5495">getPrevNonDebugInstruction</a>()))</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;    <span class="keywordflow">if</span> (isIdenticalOrStrongerFence(PFI, &amp;FI))</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;      <span class="keywordflow">return</span> eraseInstFromFunction(FI);</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;}</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160; </div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;<span class="comment">// InvokeInst simplification</span></div>
<div class="line"><a name="l02997"></a><span class="lineno"><a class="line" href="classllvm_1_1InstCombinerImpl.html#aa39720e3d1469568fd56c4d6b8fcb789"> 2997</a></span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1InstCombinerImpl.html#aa39720e3d1469568fd56c4d6b8fcb789">InstCombinerImpl::visitInvokeInst</a>(<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> &amp;II) {</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;  <span class="keywordflow">return</span> visitCallBase(II);</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;}</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160; </div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;<span class="comment">// CallBrInst simplification</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"><a class="line" href="classllvm_1_1InstCombinerImpl.html#a67863dcb94c6197f4ec88282c2406ded"> 3002</a></span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1InstCombinerImpl.html#a67863dcb94c6197f4ec88282c2406ded">InstCombinerImpl::visitCallBrInst</a>(<a class="code" href="classllvm_1_1CallBrInst.html">CallBrInst</a> &amp;CBI) {</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;  <span class="keywordflow">return</span> visitCallBase(CBI);</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;}</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;<span class="comment">/// If this cast does not affect the value passed through the varargs area, we</span></div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;<span class="comment">/// can eliminate the use of the cast.</span></div>
<div class="line"><a name="l03008"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a1815c1f6416dda240bb696822bbc6bff"> 3008</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstCombineCalls_8cpp.html#a1815c1f6416dda240bb696822bbc6bff">isSafeToEliminateVarargsCast</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;Call,</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1CastInst.html">CastInst</a> *<span class="keyword">const</span> CI,</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                                         <span class="keyword">const</span> <span class="keywordtype">int</span> ix) {</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;  <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1CastInst.html#a6748b5b5362565f14f0811b3bbcb04cd">isLosslessCast</a>())</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160; </div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;  <span class="comment">// If this is a GC intrinsic, avoid munging types.  We need types for</span></div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;  <span class="comment">// statepoint reconstruction in SelectionDAG.</span></div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;  <span class="comment">// TODO: This is probably something which should be expanded to all</span></div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;  <span class="comment">// intrinsics since the entire point of intrinsics is that</span></div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  <span class="comment">// they are understandable by the optimizer.</span></div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  <span class="keywordflow">if</span> (isa&lt;GCStatepointInst&gt;(Call) || isa&lt;GCRelocateInst&gt;(Call) ||</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;      isa&lt;GCResultInst&gt;(Call))</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160; </div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;  <span class="comment">// Opaque pointers are compatible with any byval types.</span></div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *SrcTy = cast&lt;PointerType&gt;(CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  <span class="keywordflow">if</span> (SrcTy-&gt;<a class="code" href="classllvm_1_1PointerType.html#a92c4ce3a0a429509bc46cc3875a48c24">isOpaque</a>())</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160; </div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;  <span class="comment">// The size of ByVal or InAlloca arguments is derived from the type, so we</span></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;  <span class="comment">// can&#39;t change to a type with a different size.  If the size were</span></div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;  <span class="comment">// passed explicitly we could avoid this check.</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;  <span class="keywordflow">if</span> (!Call.isPassPointeeByValueArgument(ix))</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160; </div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;  <span class="comment">// The transform currently only handles type replacement for byval, not other</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  <span class="comment">// type-carrying attributes.</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;  <span class="keywordflow">if</span> (!Call.isByValArgument(ix))</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160; </div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcElemTy = SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#abceff71202e0269065cf32a2f750a9be">getNonOpaquePointerElementType</a>();</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DstElemTy = Call.getParamByValType(ix);</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  <span class="keywordflow">if</span> (!SrcElemTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">isSized</a>() || !DstElemTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">isSized</a>())</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(SrcElemTy) != <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(DstElemTy))</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;}</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160; </div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InstCombinerImpl::tryOptimizeCall(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI) {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160; </div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="comment">// Skip optimizing notail and musttail calls so</span></div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;  <span class="comment">// LibCallSimplifier::optimizeCall doesn&#39;t have to preserve those invariants.</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;  <span class="comment">// LibCallSimplifier::optimizeCall should try to preseve tail calls though.</span></div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ad3c897ba734b78e973db4622dff7bdcb">isMustTailCall</a>() || CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a07b994620d0144569ae8250ba59d0d6e">isNoTailCall</a>())</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160; </div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  <span class="keyword">auto</span> InstCombineRAUW = [<span class="keyword">this</span>](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *With) {</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;    replaceInstUsesWith(*<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, With);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;  };</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;  <span class="keyword">auto</span> InstCombineErase = [<span class="keyword">this</span>](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    eraseInstFromFunction(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;  };</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  <a class="code" href="classllvm_1_1LibCallSimplifier.html">LibCallSimplifier</a> Simplifier(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;TLI, ORE, <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>, PSI, InstCombineRAUW,</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;                               InstCombineErase);</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *With = Simplifier.optimizeCall(CI, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>)) {</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    ++NumSimplified;</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>() ? CI : replaceInstUsesWith(*CI, With);</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;  }</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160; </div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;}</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160; </div>
<div class="line"><a name="l03074"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a4f0683bf369ef8c073a17af2a35b8d89"> 3074</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *<a class="code" href="InstCombineCalls_8cpp.html#a4f0683bf369ef8c073a17af2a35b8d89">findInitTrampolineFromAlloca</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *TrampMem) {</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;  <span class="comment">// Strip off at most one level of pointer casts, looking for an alloca.  This</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;  <span class="comment">// is good enough in practice and simpler than handling any number of casts.</span></div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Underlying = TrampMem-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  <span class="keywordflow">if</span> (Underlying != TrampMem &amp;&amp;</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;      (!Underlying-&gt;hasOneUse() || Underlying-&gt;user_back() != TrampMem))</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;AllocaInst&gt;(Underlying))</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160; </div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *InitTrampoline = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : TrampMem-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>()) {</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(U);</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordflow">if</span> (!II)</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::init_trampoline) {</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;      <span class="keywordflow">if</span> (InitTrampoline)</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        <span class="comment">// More than one init_trampoline writes to this value.  Give up.</span></div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;      InitTrampoline = II;</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    }</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::adjust_trampoline)</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;      <span class="comment">// Allow any number of calls to adjust.trampoline.</span></div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;  }</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160; </div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  <span class="comment">// No call to init.trampoline found.</span></div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;  <span class="keywordflow">if</span> (!InitTrampoline)</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160; </div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  <span class="comment">// Check that the alloca is being used in the expected way.</span></div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  <span class="keywordflow">if</span> (InitTrampoline-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0) != TrampMem)</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160; </div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  <span class="keywordflow">return</span> InitTrampoline;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;}</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160; </div>
<div class="line"><a name="l03113"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#aa10d917445ec01792118762c2098e868"> 3113</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *<a class="code" href="InstCombineCalls_8cpp.html#aa10d917445ec01792118762c2098e868">findInitTrampolineFromBB</a>(<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *AdjustTramp,</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;                                               <a class="code" href="classllvm_1_1Value.html">Value</a> *TrampMem) {</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  <span class="comment">// Visit all the previous instructions in the basic block, and try to find a</span></div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;  <span class="comment">// init.trampoline which has a direct path to the adjust.trampoline.</span></div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AdjustTramp-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>(),</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;                            <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = AdjustTramp-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;) {</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = &amp;*--<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() == Intrinsic::init_trampoline &amp;&amp;</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;          II-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0) == TrampMem)</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;        <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">if</span> (Inst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a383175f96316074965ad115706bd49d7">mayWriteToMemory</a>())</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  }</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;}</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160; </div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;<span class="comment">// Given a call to llvm.adjust.trampoline, find and return the corresponding</span></div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;<span class="comment">// call to llvm.init.trampoline if the call to the trampoline can be optimized</span></div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;<span class="comment">// to a direct call to a function.  Otherwise return NULL.</span></div>
<div class="line"><a name="l03134"></a><span class="lineno"><a class="line" href="InstCombineCalls_8cpp.html#a4f3a37254548b791663854e30a0cffc1"> 3134</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *<a class="code" href="InstCombineCalls_8cpp.html#a4f3a37254548b791663854e30a0cffc1">findInitTrampoline</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Callee) {</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;stripPointerCasts();</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;  <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *AdjustTramp = dyn_cast&lt;IntrinsicInst&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  <span class="keywordflow">if</span> (!AdjustTramp ||</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;      AdjustTramp-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>() != Intrinsic::adjust_trampoline)</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160; </div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TrampMem = AdjustTramp-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160; </div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a> = <a class="code" href="InstCombineCalls_8cpp.html#a4f0683bf369ef8c073a17af2a35b8d89">findInitTrampolineFromAlloca</a>(TrampMem))</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a>;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *<a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a> = <a class="code" href="InstCombineCalls_8cpp.html#aa10d917445ec01792118762c2098e868">findInitTrampolineFromBB</a>(AdjustTramp, TrampMem))</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a>;</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;}</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160; </div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;<span class="keywordtype">bool</span> InstCombinerImpl::annotateAnyAllocSite(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;Call,</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="comment">// Note: We only handle cases which can&#39;t be driven from generic attributes</span></div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  <span class="comment">// here.  So, for example, nonnull and noalias (which are common properties</span></div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;  <span class="comment">// of some allocation functions) are expected to be handled via annotation</span></div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;  <span class="comment">// of the respective allocator declaration with generic attributes.</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160; </div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getType()-&gt;isPointerTy())</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160; </div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;  std::optional&lt;APInt&gt; <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="namespacellvm.html#acdec81ddbe2a44db51de1226fa1ff5f0">getAllocSize</a>(&amp;Call, TLI);</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  <span class="keywordflow">if</span> (Size &amp;&amp; *Size != 0) {</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    <span class="comment">// TODO: We really should just emit deref_or_null here and then</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    <span class="comment">// let the generic inference code combine that with nonnull.</span></div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.hasRetAttr(Attribute::NonNull)) {</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;      Changed = !<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.hasRetAttr(Attribute::Dereferenceable);</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;      <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.addRetAttr(<a class="code" href="classllvm_1_1Attribute.html#a4b2c8769ea6c7af6f24285e87a7e3aa1">Attribute::getWithDereferenceableBytes</a>(</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;          <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getContext(), <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>-&gt;getLimitedValue()));</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;      Changed = !<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.hasRetAttr(Attribute::DereferenceableOrNull);</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;      <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.addRetAttr(<a class="code" href="classllvm_1_1Attribute.html#a8afbda215c9d4599ff4edcac57340268">Attribute::getWithDereferenceableOrNullBytes</a>(</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;          <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getContext(), <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>-&gt;getLimitedValue()));</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    }</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  }</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160; </div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;  <span class="comment">// Add alignment attribute if alignment is a power of two constant.</span></div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Alignment = <a class="code" href="namespacellvm.html#a333a0c4bc262cf38e006a6d6b8ac560e">getAllocAlignment</a>(&amp;Call, TLI);</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  <span class="keywordflow">if</span> (!Alignment)</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160; </div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *AlignOpC = dyn_cast&lt;ConstantInt&gt;(Alignment);</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;  <span class="keywordflow">if</span> (AlignOpC &amp;&amp; AlignOpC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">ult</a>(<a class="code" href="classllvm_1_1Value.html#a089e46429cea4cfcd2ba23a6fc6aa676">llvm::Value::MaximumAlignment</a>)) {</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AlignmentVal = AlignOpC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>();</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a434f6a0d80fb13e4326e848a6391f057">llvm::isPowerOf2_64</a>(AlignmentVal)) {</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;      <a class="code" href="structllvm_1_1Align.html">Align</a> ExistingAlign = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getRetAlign().valueOrOne();</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;      <a class="code" href="structllvm_1_1Align.html">Align</a> NewAlign = <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(AlignmentVal);</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;      <span class="keywordflow">if</span> (NewAlign &gt; ExistingAlign) {</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;        <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.addRetAttr(</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            <a class="code" href="classllvm_1_1Attribute.html#afb8975f28d8418cad8ea770575736b81">Attribute::getWithAlignment</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getContext(), NewAlign));</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;      }</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    }</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;  }</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;}</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;<span class="comment">/// Improvements for call, callbr and invoke instructions.</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InstCombinerImpl::visitCallBase(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;Call) {</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;  <span class="keywordtype">bool</span> Changed = annotateAnyAllocSite(Call, &amp;TLI);</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160; </div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  <span class="comment">// Mark any parameters that are known to be non-null with the nonnull</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  <span class="comment">// attribute.  This is helpful for inlining calls to functions with null</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <span class="comment">// checks on their arguments.</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> ArgNos;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <span class="keywordtype">unsigned</span> ArgNo = 0;</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160; </div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.args()) {</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;    <span class="keywordflow">if</span> (V-&gt;getType()-&gt;isPointerTy() &amp;&amp;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;        !<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.paramHasAttr(ArgNo, Attribute::NonNull) &amp;&amp;</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;        <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(V, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, &amp;AC, &amp;Call, &amp;DT))</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;      ArgNos.push_back(ArgNo);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    ArgNo++;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;  }</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160; </div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ArgNo == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_size() &amp;&amp; <span class="stringliteral">&quot;Call arguments not processed correctly.&quot;</span>);</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160; </div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  <span class="keywordflow">if</span> (!ArgNos.empty()) {</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> AS = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getAttributes();</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getContext();</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    AS = AS.<a class="code" href="classllvm_1_1AttributeList.html#af3a6727ecc3f601729c11f37a19f93f8">addParamAttribute</a>(Ctx, ArgNos,</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;                              <a class="code" href="classllvm_1_1Attribute.html#a43708098bd7085788a680fd02f47c750">Attribute::get</a>(Ctx, Attribute::NonNull));</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.setAttributes(AS);</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;  }</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160; </div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;  <span class="comment">// If the callee is a pointer to a function, attempt to move any casts to the</span></div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;  <span class="comment">// arguments of the call/callbr/invoke.</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getCalledOperand();</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *CalleeF = dyn_cast&lt;Function&gt;(Callee);</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;  <span class="keywordflow">if</span> ((!CalleeF || CalleeF-&gt;<a class="code" href="classllvm_1_1Function.html#adf50671db83d2813e0d897ea2cfc9102">getFunctionType</a>() != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getFunctionType()) &amp;&amp;</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      transformConstExprCastCall(Call))</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160; </div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;  <span class="keywordflow">if</span> (CalleeF) {</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <span class="comment">// Remove the convergent attr on calls when the callee is not convergent.</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.isConvergent() &amp;&amp; !CalleeF-&gt;<a class="code" href="classllvm_1_1Function.html#a049de2366079104e70f0c3451b09aebf">isConvergent</a>() &amp;&amp;</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;        !CalleeF-&gt;<a class="code" href="classllvm_1_1Function.html#a900a32da3983469187b1848189681705">isIntrinsic</a>()) {</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Removing convergent attr from instr &quot;</span> &lt;&lt; Call</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;      <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.setNotConvergent();</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>;</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    }</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160; </div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <span class="comment">// If the call and callee calling conventions don&#39;t match, and neither one</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    <span class="comment">// of the calling conventions is compatible with C calling convention</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="comment">// this call must be unreachable, as the call is undefined.</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="keywordflow">if</span> ((CalleeF-&gt;<a class="code" href="classllvm_1_1Function.html#a5f494edc0a569c7fc9ff4181243be1ed">getCallingConv</a>() != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getCallingConv() &amp;&amp;</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;         !(CalleeF-&gt;<a class="code" href="classllvm_1_1Function.html#a5f494edc0a569c7fc9ff4181243be1ed">getCallingConv</a>() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a> &amp;&amp;</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;           <a class="code" href="classllvm_1_1TargetLibraryInfoImpl.html#a6fe2425902ca5775f3b350cfbe49cc8f">TargetLibraryInfoImpl::isCallingConvCCompatible</a>(&amp;Call)) &amp;&amp;</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;         !(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getCallingConv() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a> &amp;&amp;</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;           <a class="code" href="classllvm_1_1TargetLibraryInfoImpl.html#a6fe2425902ca5775f3b350cfbe49cc8f">TargetLibraryInfoImpl::isCallingConvCCompatible</a>(CalleeF))) &amp;&amp;</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        <span class="comment">// Only do this for calls to a function with a body.  A prototype may</span></div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        <span class="comment">// not actually end up matching the implementation&#39;s calling conv for a</span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;        <span class="comment">// variety of reasons (e.g. it may be written in assembly).</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;        !CalleeF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a32e606ac4c88f71f14212e42b808e7f4">isDeclaration</a>()) {</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OldCall = &amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;      CreateNonTerminatorUnreachable(OldCall);</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;      <span class="comment">// If OldCall does not return void then replaceInstUsesWith poison.</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;      <span class="comment">// This allows ValueHandlers and custom metadata to adjust itself.</span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;      <span class="keywordflow">if</span> (!OldCall-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>())</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;        replaceInstUsesWith(*OldCall, <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(OldCall-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;      <span class="keywordflow">if</span> (isa&lt;CallInst&gt;(OldCall))</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;        <span class="keywordflow">return</span> eraseInstFromFunction(*OldCall);</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160; </div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;      <span class="comment">// We cannot remove an invoke or a callbr, because it would change thexi</span></div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;      <span class="comment">// CFG, just change the callee to a null pointer.</span></div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;      cast&lt;CallBase&gt;(OldCall)-&gt;setCalledFunction(</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;          CalleeF-&gt;<a class="code" href="classllvm_1_1Function.html#adf50671db83d2813e0d897ea2cfc9102">getFunctionType</a>(),</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;          <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CalleeF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a92041fc7f781ba4fe708eec99139b72f">getType</a>()));</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;    }</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;  }</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160; </div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  <span class="comment">// Calling a null function pointer is undefined if a null address isn&#39;t</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;  <span class="comment">// dereferenceable.</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  <span class="keywordflow">if</span> ((isa&lt;ConstantPointerNull&gt;(Callee) &amp;&amp;</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;       !<a class="code" href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">NullPointerIsDefined</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getFunction())) ||</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;      isa&lt;UndefValue&gt;(Callee)) {</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <span class="comment">// If Call does not return void then replaceInstUsesWith poison.</span></div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    <span class="comment">// This allows ValueHandlers and custom metadata to adjust itself.</span></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getType()-&gt;isVoidTy())</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;      replaceInstUsesWith(Call, <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getType()));</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160; </div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.isTerminator()) {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;      <span class="comment">// Can&#39;t remove an invoke or callbr because we cannot change the CFG.</span></div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;    }</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160; </div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    <span class="comment">// This instruction is not reachable, just remove it.</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    CreateNonTerminatorUnreachable(&amp;Call);</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="keywordflow">return</span> eraseInstFromFunction(Call);</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  }</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160; </div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = <a class="code" href="InstCombineCalls_8cpp.html#a4f3a37254548b791663854e30a0cffc1">findInitTrampoline</a>(Callee))</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <span class="keywordflow">return</span> transformCallThroughTrampoline(Call, *II);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160; </div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;  <span class="comment">// TODO: Drop this transform once opaque pointer transition is done.</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FTy = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getFunctionType();</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;  <span class="keywordflow">if</span> (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>()) {</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    <span class="keywordtype">int</span> ix = FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>();</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    <span class="comment">// See if we can optimize any arguments passed through the varargs area of</span></div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;    <span class="comment">// the call.</span></div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_begin() + FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_end();</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ++ix) {</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;      <a class="code" href="classllvm_1_1CastInst.html">CastInst</a> *CI = dyn_cast&lt;CastInst&gt;(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;      <span class="keywordflow">if</span> (CI &amp;&amp; <a class="code" href="InstCombineCalls_8cpp.html#a1815c1f6416dda240bb696822bbc6bff">isSafeToEliminateVarargsCast</a>(Call, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CI, ix)) {</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;        replaceUse(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160; </div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;        <span class="comment">// Update the byval type to match the pointer type.</span></div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;        <span class="comment">// Not necessary for opaque pointers.</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;        <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *NewTy = cast&lt;PointerType&gt;(CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;        <span class="keywordflow">if</span> (!NewTy-&gt;<a class="code" href="classllvm_1_1PointerType.html#a92c4ce3a0a429509bc46cc3875a48c24">isOpaque</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.isByValArgument(ix)) {</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;          <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.removeParamAttr(ix, Attribute::ByVal);</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;          <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.addParamAttr(ix, <a class="code" href="classllvm_1_1Attribute.html#acc00a93ed593f135b4b54de32d484e6b">Attribute::getWithByValType</a>(</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                                    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getContext(),</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                                    NewTy-&gt;<a class="code" href="classllvm_1_1Type.html#abceff71202e0269065cf32a2f750a9be">getNonOpaquePointerElementType</a>()));</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        }</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;      }</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;    }</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;  }</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160; </div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;  <span class="keywordflow">if</span> (isa&lt;InlineAsm&gt;(Callee) &amp;&amp; !<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.doesNotThrow()) {</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    <a class="code" href="classllvm_1_1InlineAsm.html">InlineAsm</a> *<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a> = cast&lt;InlineAsm&gt;(Callee);</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>-&gt;canThrow()) {</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;      <span class="comment">// Normal inline asm calls cannot throw - mark them</span></div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;      <span class="comment">// &#39;nounwind&#39;.</span></div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;      <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.setDoesNotThrow();</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    }</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  }</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160; </div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  <span class="comment">// Try to optimize the call if possible, we require DataLayout for most of</span></div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;  <span class="comment">// this.  None of these calls are seen as possibly dead so go ahead and</span></div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;  <span class="comment">// delete the instruction now.</span></div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(&amp;Call)) {</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = tryOptimizeCall(CI);</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <span class="comment">// If we changed something return the result, etc. Otherwise let</span></div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <span class="comment">// the fallthrough check.</span></div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) <span class="keywordflow">return</span> eraseInstFromFunction(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  }</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160; </div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.use_empty() &amp;&amp; !<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.isMustTailCall())</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *ReturnedArg = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getReturnedArgOperand()) {</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *CallTy = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getType();</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *RetArgTy = ReturnedArg-&gt;getType();</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;      <span class="keywordflow">if</span> (RetArgTy-&gt;<a class="code" href="classllvm_1_1Type.html#a651563a742c52504d1980955fe75b95d">canLosslesslyBitCastTo</a>(CallTy))</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;        <span class="keywordflow">return</span> replaceInstUsesWith(</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;            Call, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitOrPointerCast(ReturnedArg, CallTy));</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    }</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160; </div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <span class="comment">// Drop unnecessary kcfi operand bundles from calls that were converted</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  <span class="comment">// into direct calls.</span></div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;  <span class="keyword">auto</span> Bundle = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getOperandBundle(<a class="code" href="classllvm_1_1LLVMContext.html#a800c1300065ca1615d2f4fb88623afd5adb925bc2eb2c117b3ec0b76d1e267127">LLVMContext::OB_kcfi</a>);</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;  <span class="keywordflow">if</span> (Bundle &amp;&amp; !<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.isIndirectCall()) {</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    <a class="code" href="Debug_8h.html#a0e760853102aabaceef5ef82347c593c">DEBUG_WITH_TYPE</a>(<a class="code" href="InstCombineCalls_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a> <span class="stringliteral">&quot;-kcfi&quot;</span>, {</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;      <span class="keywordflow">if</span> (CalleeF) {</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ExpectedType = cast&lt;ConstantInt&gt;(Bundle-&gt;Inputs[0]);</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160; </div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = CalleeF-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#a61a186a60c64a2a5225db9944eaf7df8">getMetadata</a>(LLVMContext::MD_kcfi_type))</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;          <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> = mdconst::extract&lt;ConstantInt&gt;(MD-&gt;getOperand(0));</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160; </div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> &amp;&amp;</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;            <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a>-&gt;getZExtValue() != ExpectedType-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>())</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getModule()-&gt;getName()</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;: warning: kcfi: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getCaller()-&gt;getName()</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;: call to &quot;</span> &lt;&lt; CalleeF-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; using a mismatching function pointer type\n&quot;</span>;</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;      }</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    });</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160; </div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallBase.html#a849659c355a146682a572ca16f83b9d3">CallBase::removeOperandBundle</a>(&amp;Call, <a class="code" href="classllvm_1_1LLVMContext.html#a800c1300065ca1615d2f4fb88623afd5adb925bc2eb2c117b3ec0b76d1e267127">LLVMContext::OB_kcfi</a>);</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  }</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160; </div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a2787d1134842ab0b9be8694d95ccbdd7">isRemovableAlloc</a>(&amp;Call, &amp;TLI))</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="keywordflow">return</span> visitAllocSite(Call);</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160; </div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;  <span class="comment">// Handle intrinsics which can be used in both call and invoke context.</span></div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getIntrinsicID()) {</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_gc_statepoint: {</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    <a class="code" href="classllvm_1_1GCStatepointInst.html">GCStatepointInst</a> &amp;GCSP = *cast&lt;GCStatepointInst&gt;(&amp;Call);</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Value *, 32&gt;</a> LiveGcValues;</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GCRelocateInst.html">GCRelocateInst</a> *Reloc : GCSP.<a class="code" href="classllvm_1_1GCStatepointInst.html#af997f3314625f4b7fcac2d24b5d9539e">getGCRelocates</a>()) {</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;      <a class="code" href="classllvm_1_1GCRelocateInst.html">GCRelocateInst</a> &amp;GCR = *<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1GCRelocateInst.html">GCRelocateInst</a> *<span class="keyword">&gt;</span>(Reloc);</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160; </div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;      <span class="comment">// Remove the relocation if unused.</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;      <span class="keywordflow">if</span> (GCR.<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>()) {</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;        eraseInstFromFunction(GCR);</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;      }</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160; </div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *DerivedPtr = GCR.<a class="code" href="classllvm_1_1GCRelocateInst.html#ae587391ac557593d998dbca4e62f0dab">getDerivedPtr</a>();</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1codeview.html#aa8c11d016a2dd473a4cf0ed1da777f5ea67f23a49a4828b272554feea07834f7d">BasePtr</a> = GCR.<a class="code" href="classllvm_1_1GCRelocateInst.html#ab825396e92860b35839338f7f1df75ad">getBasePtr</a>();</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160; </div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;      <span class="comment">// Undef is undef, even after relocation.</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;      <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(DerivedPtr) || isa&lt;UndefValue&gt;(BasePtr)) {</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;        replaceInstUsesWith(GCR, <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(GCR.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;        eraseInstFromFunction(GCR);</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;      }</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160; </div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *PT = dyn_cast&lt;PointerType&gt;(GCR.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())) {</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;        <span class="comment">// The relocation of null will be null for most any collector.</span></div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;        <span class="comment">// TODO: provide a hook for this in GCStrategy.  There might be some</span></div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;        <span class="comment">// weird collector this property does not hold for.</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;        <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(DerivedPtr)) {</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;          <span class="comment">// Use null-pointer of gc_relocate&#39;s type to replace it.</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;          replaceInstUsesWith(GCR, <a class="code" href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">ConstantPointerNull::get</a>(PT));</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;          eraseInstFromFunction(GCR);</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;        }</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160; </div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;        <span class="comment">// isKnownNonNull -&gt; nonnull attribute</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;        <span class="keywordflow">if</span> (!GCR.<a class="code" href="classllvm_1_1CallBase.html#a330471067c17061b7c2152d75102f24a">hasRetAttr</a>(Attribute::NonNull) &amp;&amp;</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;            <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(DerivedPtr, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, &amp;AC, &amp;Call, &amp;DT)) {</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;          GCR.<a class="code" href="classllvm_1_1CallBase.html#aa94f59b6921a7cd3567439b3302a5357">addRetAttr</a>(Attribute::NonNull);</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;          <span class="comment">// We discovered new fact, re-check users.</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;          Worklist.pushUsersToWorkList(GCR);</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;        }</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;      }</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160; </div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;      <span class="comment">// If we have two copies of the same pointer in the statepoint argument</span></div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;      <span class="comment">// list, canonicalize to one.  This may let us common gc.relocates.</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;      <span class="keywordflow">if</span> (GCR.<a class="code" href="classllvm_1_1GCRelocateInst.html#ab825396e92860b35839338f7f1df75ad">getBasePtr</a>() == GCR.<a class="code" href="classllvm_1_1GCRelocateInst.html#ae587391ac557593d998dbca4e62f0dab">getDerivedPtr</a>() &amp;&amp;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;          GCR.<a class="code" href="classllvm_1_1GCRelocateInst.html#ae33641b6538b4ab4f3aa3dad2926860f">getBasePtrIndex</a>() != GCR.<a class="code" href="classllvm_1_1GCRelocateInst.html#af4362abf4fd66b2cfbd6d1b0590dbbdf">getDerivedPtrIndex</a>()) {</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;        <span class="keyword">auto</span> *OpIntTy = GCR.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(2)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;        GCR.<a class="code" href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">setOperand</a>(2, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(OpIntTy, GCR.<a class="code" href="classllvm_1_1GCRelocateInst.html#ae33641b6538b4ab4f3aa3dad2926860f">getBasePtrIndex</a>()));</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;      }</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160; </div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;      <span class="comment">// TODO: bitcast(relocate(p)) -&gt; relocate(bitcast(p))</span></div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;      <span class="comment">// Canonicalize on the type from the uses to the defs</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160; </div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;      <span class="comment">// TODO: relocate((gep p, C, C2, ...)) -&gt; gep(relocate(p), C, C2, ...)</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;      LiveGcValues.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(BasePtr);</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;      LiveGcValues.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(DerivedPtr);</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    }</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    std::optional&lt;OperandBundleUse&gt; Bundle =</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;        GCSP.<a class="code" href="classllvm_1_1CallBase.html#a87921b2b4748a722da30339103c08f62">getOperandBundle</a>(<a class="code" href="classllvm_1_1LLVMContext.html#a800c1300065ca1615d2f4fb88623afd5af85bb6bcf02a05fdd35f660e57d82534">LLVMContext::OB_gc_live</a>);</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <span class="keywordtype">unsigned</span> NumOfGCLives = LiveGcValues.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">size</a>();</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    <span class="keywordflow">if</span> (!Bundle || NumOfGCLives == Bundle-&gt;Inputs.size())</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;    <span class="comment">// We can reduce the size of gc live bundle.</span></div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, unsigned&gt;</a> Val2Idx;</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    std::vector&lt;Value *&gt; NewLiveGc;</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : Bundle-&gt;Inputs) {</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;      <span class="keywordflow">if</span> (Val2Idx.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(V))</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;      <span class="keywordflow">if</span> (LiveGcValues.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(V)) {</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;        Val2Idx[V] = NewLiveGc.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>();</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;        NewLiveGc.push_back(V);</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;        Val2Idx[V] = NumOfGCLives;</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    }</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    <span class="comment">// Update all gc.relocates</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GCRelocateInst.html">GCRelocateInst</a> *Reloc : GCSP.<a class="code" href="classllvm_1_1GCStatepointInst.html#af997f3314625f4b7fcac2d24b5d9539e">getGCRelocates</a>()) {</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;      <a class="code" href="classllvm_1_1GCRelocateInst.html">GCRelocateInst</a> &amp;GCR = *<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1GCRelocateInst.html">GCRelocateInst</a> *<span class="keyword">&gt;</span>(Reloc);</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1codeview.html#aa8c11d016a2dd473a4cf0ed1da777f5ea67f23a49a4828b272554feea07834f7d">BasePtr</a> = GCR.<a class="code" href="classllvm_1_1GCRelocateInst.html#ab825396e92860b35839338f7f1df75ad">getBasePtr</a>();</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Val2Idx.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(BasePtr) &amp;&amp; Val2Idx[BasePtr] != NumOfGCLives &amp;&amp;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;             <span class="stringliteral">&quot;Missed live gc for base pointer&quot;</span>);</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      <span class="keyword">auto</span> *OpIntTy1 = GCR.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;      GCR.<a class="code" href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">setOperand</a>(1, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(OpIntTy1, Val2Idx[BasePtr]));</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *DerivedPtr = GCR.<a class="code" href="classllvm_1_1GCRelocateInst.html#ae587391ac557593d998dbca4e62f0dab">getDerivedPtr</a>();</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Val2Idx.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(DerivedPtr) &amp;&amp; Val2Idx[DerivedPtr] != NumOfGCLives &amp;&amp;</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;             <span class="stringliteral">&quot;Missed live gc for derived pointer&quot;</span>);</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;      <span class="keyword">auto</span> *OpIntTy2 = GCR.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(2)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;      GCR.<a class="code" href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">setOperand</a>(2, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(OpIntTy2, Val2Idx[DerivedPtr]));</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    }</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <span class="comment">// Create new statepoint instruction.</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <a class="code" href="classllvm_1_1OperandBundleDefT.html">OperandBundleDef</a> NewBundle(<span class="stringliteral">&quot;gc-live&quot;</span>, NewLiveGc);</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CallBase.html#a7d1bb46cb6e28a5907c4185157804911">CallBase::Create</a>(&amp;Call, NewBundle);</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  }</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;  <span class="keywordflow">default</span>: { <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  }</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160; </div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;  <span class="keywordflow">return</span> Changed ? &amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a> : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;}</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;<span class="comment">/// If the callee is a constexpr cast of a function, attempt to move the cast to</span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;<span class="comment">/// the arguments of the call/callbr/invoke.</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> InstCombinerImpl::transformConstExprCastCall(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;Call) {</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> =</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;      dyn_cast&lt;Function&gt;(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getCalledOperand()-&gt;stripPointerCasts());</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <span class="keywordflow">if</span> (!Callee)</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160; </div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;  <span class="comment">// If this is a call to a thunk function, don&#39;t remove the cast. Thunks are</span></div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;  <span class="comment">// used to transparently forward all incoming parameters and outgoing return</span></div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;  <span class="comment">// values, so it&#39;s important to leave the cast in place.</span></div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;hasFnAttribute(<span class="stringliteral">&quot;thunk&quot;</span>))</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160; </div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;  <span class="comment">// If this is a musttail call, the callee&#39;s prototype must match the caller&#39;s</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;  <span class="comment">// prototype with the exception of pointee types. The code below doesn&#39;t</span></div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;  <span class="comment">// implement that, so we can&#39;t do this transform.</span></div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  <span class="comment">// TODO: Do the transform if it only requires adding pointer casts.</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.isMustTailCall())</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160; </div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a> = &amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>;</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> &amp;CallerPAL = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getAttributes();</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160; </div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;  <span class="comment">// Okay, this is a cast from a function to a different type.  Unless doing so</span></div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  <span class="comment">// would cause a type conversion of one of our arguments, change this call to</span></div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;  <span class="comment">// be a direct call with arguments casted to the appropriate types.</span></div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;<a class="code" href="classllvm_1_1FunctionCallee.html#a9d67a499a48bda24fa4e87138341f613">getFunctionType</a>();</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *OldRetTy = <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;getType();</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *NewRetTy = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>();</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160; </div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  <span class="comment">// Check to see if we are changing the return type...</span></div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;  <span class="keywordflow">if</span> (OldRetTy != NewRetTy) {</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160; </div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    <span class="keywordflow">if</span> (NewRetTy-&gt;<a class="code" href="classllvm_1_1Type.html#a81eef9d7336f7ee43be79630d8e8ec86">isStructTy</a>())</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// TODO: Handle multiple return values.</span></div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160; </div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1CastInst.html#a94f850488e8bda1d1b400821d6d61bd1">CastInst::isBitOrNoopPointerCastable</a>(NewRetTy, OldRetTy, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)) {</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;isDeclaration())</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// Cannot transform this return value.</span></div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160; </div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;use_empty() &amp;&amp;</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;          <span class="comment">// void -&gt; non-void is handled specially</span></div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;          !NewRetTy-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>())</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// Cannot transform this return value.</span></div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    }</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160; </div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    <span class="keywordflow">if</span> (!CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#a5269e6b95f5007a652d53ca847cca6f3">isEmpty</a>() &amp;&amp; !<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;use_empty()) {</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;      <a class="code" href="classllvm_1_1AttrBuilder.html">AttrBuilder</a> RAttrs(FT-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>(), CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#a5604157867b3d226260f6388b987e49a">getRetAttrs</a>());</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;      <span class="keywordflow">if</span> (RAttrs.overlaps(<a class="code" href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">AttributeFuncs::typeIncompatible</a>(NewRetTy)))</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// Attribute not compatible with transformed value.</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    }</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160; </div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    <span class="comment">// If the callbase is an invoke/callbr instruction, and the return value is</span></div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;    <span class="comment">// used by a PHI node in a successor, we cannot change the return type of</span></div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <span class="comment">// the call because there is no place to put the cast instruction (without</span></div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <span class="comment">// breaking the critical edge).  Bail out in this case.</span></div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;use_empty()) {</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PhisNotSupportedBlock = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;InvokeInst&gt;(Caller))</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        PhisNotSupportedBlock = II-&gt;getNormalDest();</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBrInst&gt;(Caller))</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;        PhisNotSupportedBlock = CB-&gt;getDefaultDest();</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;      <span class="keywordflow">if</span> (PhisNotSupportedBlock)</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;users())</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(U))</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;            <span class="keywordflow">if</span> (PN-&gt;getParent() == PhisNotSupportedBlock)</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    }</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;  }</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160; </div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;  <span class="keywordtype">unsigned</span> NumActualArgs = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_size();</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;  <span class="keywordtype">unsigned</span> NumCommonArgs = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(), NumActualArgs);</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160; </div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;  <span class="comment">// Prevent us turning:</span></div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;  <span class="comment">// declare void @takes_i32_inalloca(i32* inalloca)</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;  <span class="comment">//  call void bitcast (void (i32*)* @takes_i32_inalloca to void (i32)*)(i32 0)</span></div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  <span class="comment">// into:</span></div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;  <span class="comment">//  call void @takes_i32_inalloca(i32* null)</span></div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;  <span class="comment">//  Similarly, avoid folding away bitcasts of byval calls.</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getAttributes().hasAttrSomewhere(Attribute::InAlloca) ||</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;      <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getAttributes().hasAttrSomewhere(Attribute::Preallocated))</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160; </div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  <span class="keyword">auto</span> AI = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_begin();</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = NumCommonArgs; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++AI) {</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ParamTy = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">getParamType</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ActTy = (*AI)-&gt;getType();</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160; </div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1CastInst.html#a94f850488e8bda1d1b400821d6d61bd1">CastInst::isBitOrNoopPointerCastable</a>(ActTy, ParamTy, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>))</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// Cannot transform this parameter value.</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160; </div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    <span class="comment">// Check if there are any incompatible attributes we cannot drop safely.</span></div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AttrBuilder.html">AttrBuilder</a>(FT-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>(), CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#ada7a173c40ca7ac048a4b7099ceb71c0">getParamAttrs</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;            .<a class="code" href="classllvm_1_1AttrBuilder.html#a39fc1d3fa5b22ffc2dc48e94b40409e2">overlaps</a>(<a class="code" href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">AttributeFuncs::typeIncompatible</a>(</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;                ParamTy, <a class="code" href="namespacellvm_1_1AttributeFuncs.html#aa01ebfb5122911f6d17fb843d617a953a4fbf4bde0e00e57f95e2a79bfe1ce25a">AttributeFuncs::ASK_UNSAFE_TO_DROP</a>)))</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// Attribute not compatible with transformed value.</span></div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160; </div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.isInAllocaArgument(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) ||</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;        CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#ab04846c93ea7d802afbaa48efd84f37e">hasParamAttr</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Attribute::Preallocated))</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Cannot transform to and from inalloca/preallocated.</span></div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160; </div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    <span class="keywordflow">if</span> (CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#ab04846c93ea7d802afbaa48efd84f37e">hasParamAttr</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Attribute::SwiftError))</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160; </div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    <span class="keywordflow">if</span> (CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#ab04846c93ea7d802afbaa48efd84f37e">hasParamAttr</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Attribute::ByVal) !=</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;        <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getAttributes().hasParamAttr(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Attribute::ByVal))</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Cannot transform to or from byval.</span></div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160; </div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    <span class="comment">// If the parameter is passed as a byval argument, then we have to have a</span></div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;    <span class="comment">// sized type and the sized type has to have the same size as the old type.</span></div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    <span class="keywordflow">if</span> (ParamTy != ActTy &amp;&amp; CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#ab04846c93ea7d802afbaa48efd84f37e">hasParamAttr</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Attribute::ByVal)) {</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;      <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *ParamPTy = dyn_cast&lt;PointerType&gt;(ParamTy);</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;      <span class="keywordflow">if</span> (!ParamPTy)</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160; </div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;      <span class="keywordflow">if</span> (!ParamPTy-&gt;<a class="code" href="classllvm_1_1PointerType.html#a92c4ce3a0a429509bc46cc3875a48c24">isOpaque</a>()) {</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *ParamElTy = ParamPTy-&gt;<a class="code" href="classllvm_1_1Type.html#abceff71202e0269065cf32a2f750a9be">getNonOpaquePointerElementType</a>();</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;        <span class="keywordflow">if</span> (!ParamElTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">isSized</a>())</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160; </div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *CurElTy = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getParamByValType(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(CurElTy) != <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(ParamElTy))</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;      }</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    }</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  }</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160; </div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;isDeclaration()) {</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    <span class="comment">// Do not delete arguments unless we have a function body.</span></div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>() &lt; NumActualArgs &amp;&amp; !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>())</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160; </div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    <span class="comment">// If the callee is just a declaration, don&#39;t change the varargsness of the</span></div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;    <span class="comment">// call.  We don&#39;t want to introduce a varargs call where one doesn&#39;t</span></div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    <span class="comment">// already exist.</span></div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>() != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getFunctionType()-&gt;isVarArg())</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160; </div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    <span class="comment">// If both the callee and the cast type are varargs, we still have to make</span></div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;    <span class="comment">// sure the number of fixed parameters are the same or we have the same</span></div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;    <span class="comment">// ABI issues as if we introduce a varargs call.</span></div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getFunctionType()-&gt;isVarArg() &amp;&amp;</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>() != <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getFunctionType()-&gt;getNumParams())</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;  }</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160; </div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>() &lt; NumActualArgs &amp;&amp; FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>() &amp;&amp;</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;      !CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#a5269e6b95f5007a652d53ca847cca6f3">isEmpty</a>()) {</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;    <span class="comment">// In this case we have more arguments than the new function type, but we</span></div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    <span class="comment">// won&#39;t be dropping them.  Check that these extra arguments have attributes</span></div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    <span class="comment">// that are compatible with being a vararg call argument.</span></div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    <span class="keywordtype">unsigned</span> SRetIdx;</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;    <span class="keywordflow">if</span> (CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#a75d6c6f22bf21c4725e3f9be5ec0b07e">hasAttrSomewhere</a>(Attribute::StructRet, &amp;SRetIdx) &amp;&amp;</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;        SRetIdx - <a class="code" href="classllvm_1_1AttributeList.html#af5dcb6d3da4b30a7d21c9fb39bbf1a68a503c0b646ea0b3868c0c8380fdc688b8">AttributeList::FirstArgIndex</a> &gt;= FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>())</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;  }</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160; </div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;  <span class="comment">// Okay, we decided that this is a safe thing to do: go ahead and start</span></div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;  <span class="comment">// inserting cast instructions as necessary.</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 8&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;AttributeSet, 8&gt;</a> ArgAttrs;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.reserve(NumActualArgs);</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  ArgAttrs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(NumActualArgs);</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160; </div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  <span class="comment">// Get any return attributes.</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  <a class="code" href="classllvm_1_1AttrBuilder.html">AttrBuilder</a> RAttrs(FT-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>(), CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#a5604157867b3d226260f6388b987e49a">getRetAttrs</a>());</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160; </div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  <span class="comment">// If the return value is not being used, the type may not be compatible</span></div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  <span class="comment">// with the existing attributes.  Wipe out any problematic attributes.</span></div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;  RAttrs.remove(<a class="code" href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">AttributeFuncs::typeIncompatible</a>(NewRetTy));</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160; </div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getContext();</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  AI = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_begin();</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumCommonArgs; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++AI) {</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ParamTy = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">getParamType</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160; </div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NewArg = *AI;</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    <span class="keywordflow">if</span> ((*AI)-&gt;getType() != ParamTy)</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;      NewArg = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitOrPointerCast(*AI, ParamTy);</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(NewArg);</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160; </div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="comment">// Add any parameter attributes except the ones incompatible with the new</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    <span class="comment">// type. Note that we made sure all incompatible ones are safe to drop.</span></div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;    <a class="code" href="classllvm_1_1AttributeMask.html">AttributeMask</a> IncompatibleAttrs = <a class="code" href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">AttributeFuncs::typeIncompatible</a>(</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;        ParamTy, <a class="code" href="namespacellvm_1_1AttributeFuncs.html#aa01ebfb5122911f6d17fb843d617a953a66e3691152e97b3b795fde63465e530c">AttributeFuncs::ASK_SAFE_TO_DROP</a>);</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;    <span class="keywordflow">if</span> (CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#ab04846c93ea7d802afbaa48efd84f37e">hasParamAttr</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Attribute::ByVal) &amp;&amp;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;        !ParamTy-&gt;<a class="code" href="classllvm_1_1Type.html#a54155244e7b172a97fe5b3096d84fa97">isOpaquePointerTy</a>()) {</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;      <a class="code" href="classllvm_1_1AttrBuilder.html">AttrBuilder</a> <a class="code" href="namespacellvm_1_1X86.html#a3674fa9b225c107451c80b215815a31eab86fc6b051f63d73de262d4c34e3a0a9">AB</a>(Ctx, CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#ada7a173c40ca7ac048a4b7099ceb71c0">getParamAttrs</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code" href="classllvm_1_1AttributeSet.html#aa3392828dc2b425dbafab7dd81fae786">removeAttributes</a>(</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;                              Ctx, IncompatibleAttrs));</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;      <a class="code" href="namespacellvm_1_1X86.html#a3674fa9b225c107451c80b215815a31eab86fc6b051f63d73de262d4c34e3a0a9">AB</a>.addByValAttr(ParamTy-&gt;<a class="code" href="classllvm_1_1Type.html#abceff71202e0269065cf32a2f750a9be">getNonOpaquePointerElementType</a>());</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;      ArgAttrs.push_back(<a class="code" href="classllvm_1_1AttributeSet.html#ae8ed437b15a7ca943716e5284a9cb9a6">AttributeSet::get</a>(Ctx, AB));</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;      ArgAttrs.push_back(</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;          CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#ada7a173c40ca7ac048a4b7099ceb71c0">getParamAttrs</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code" href="classllvm_1_1AttributeSet.html#aa3392828dc2b425dbafab7dd81fae786">removeAttributes</a>(Ctx, IncompatibleAttrs));</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    }</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;  }</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160; </div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;  <span class="comment">// If the function takes more arguments than the call was taking, add them</span></div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;  <span class="comment">// now.</span></div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = NumCommonArgs; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(<a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">getParamType</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    ArgAttrs.push_back(<a class="code" href="classllvm_1_1AttributeSet.html">AttributeSet</a>());</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;  }</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160; </div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;  <span class="comment">// If we are removing arguments to the function, emit an obnoxious warning.</span></div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;  <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>() &lt; NumActualArgs) {</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <span class="comment">// TODO: if (!FT-&gt;isVarArg()) this call may be unreachable. PR14722</span></div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>()) {</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;      <span class="comment">// Add all of the arguments in their promoted form to the arg list.</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumActualArgs; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++AI) {</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *PTy = <a class="code" href="InstCombineCalls_8cpp.html#ae3e81cb5632a20699e7989bbfbb6c83e">getPromotedType</a>((*AI)-&gt;getType());</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *NewArg = *AI;</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;        <span class="keywordflow">if</span> (PTy != (*AI)-&gt;getType()) {</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;          <span class="comment">// Must promote to pass through va_arg area!</span></div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;          <a class="code" href="classllvm_1_1Instruction.html#afa0b2fa29ba074f2b6ec9ac11163f2d9">Instruction::CastOps</a> opcode =</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;            <a class="code" href="classllvm_1_1CastInst.html#a06dc25da1f16f389f5244304e8d33127">CastInst::getCastOpcode</a>(*AI, <span class="keyword">false</span>, PTy, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;          NewArg = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCast(opcode, *AI, PTy);</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;        }</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(NewArg);</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160; </div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;        <span class="comment">// Add any parameter attributes.</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;        ArgAttrs.push_back(CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#ada7a173c40ca7ac048a4b7099ceb71c0">getParamAttrs</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;      }</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    }</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  }</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160; </div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  <a class="code" href="classllvm_1_1AttributeSet.html">AttributeSet</a> FnAttrs = CallerPAL.<a class="code" href="classllvm_1_1AttributeList.html#a1cf553641e8527095ae4c8ec88a2cd92">getFnAttrs</a>();</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160; </div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;  <span class="keywordflow">if</span> (NewRetTy-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>())</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;setName(<span class="stringliteral">&quot;&quot;</span>);   <span class="comment">// Void type should not have a name.</span></div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160; </div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((ArgAttrs.size() == FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>() || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>()) &amp;&amp;</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;         <span class="stringliteral">&quot;missing argument attributes&quot;</span>);</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;  <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> NewCallerPAL = <a class="code" href="classllvm_1_1AttributeList.html#a5cc6492c8f2e06a8bae9dc0d121fab9f">AttributeList::get</a>(</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;      Ctx, FnAttrs, <a class="code" href="classllvm_1_1AttributeSet.html#ae8ed437b15a7ca943716e5284a9cb9a6">AttributeSet::get</a>(Ctx, RAttrs), ArgAttrs);</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160; </div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;OperandBundleDef, 1&gt;</a> OpBundles;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getOperandBundlesAsDefs(OpBundles);</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160; </div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;  <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *NewCall;</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(Caller)) {</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInvoke(Callee, II-&gt;getNormalDest(),</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;                                   II-&gt;getUnwindDest(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, OpBundles);</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallBrInst.html">CallBrInst</a> *CBI = dyn_cast&lt;CallBrInst&gt;(Caller)) {</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCallBr(Callee, CBI-&gt;getDefaultDest(),</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;                                   CBI-&gt;getIndirectDests(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, OpBundles);</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(Callee, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, OpBundles);</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    cast&lt;CallInst&gt;(NewCall)-&gt;setTailCallKind(</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;        cast&lt;CallInst&gt;(Caller)-&gt;getTailCallKind());</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  }</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(Caller);</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1CallBase.html#a0851b4de29686e9c3918449b054cfada">setCallingConv</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getCallingConv());</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">setAttributes</a>(NewCallerPAL);</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160; </div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  <span class="comment">// Preserve prof metadata if any.</span></div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">copyMetadata</a>(*Caller, {LLVMContext::MD_prof});</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160; </div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;  <span class="comment">// Insert a cast of the return type as necessary.</span></div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a> = NewCall;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a> = <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a>;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <span class="keywordflow">if</span> (OldRetTy != <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>-&gt;getType() &amp;&amp; !<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;use_empty()) {</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>-&gt;getType()-&gt;isVoidTy()) {</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;      <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a> = <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a> = <a class="code" href="classllvm_1_1CastInst.html#a31d2885660f654b31d8741726c3ea8d9">CastInst::CreateBitOrPointerCast</a>(<a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a>, OldRetTy);</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;      <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a>-&gt;setDebugLoc(<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;getDebugLoc());</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160; </div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertPt = NewCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#acadfa18c30c37d1660a10b23c470a35b">getInsertionPointAfterDef</a>();</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InsertPt &amp;&amp; <span class="stringliteral">&quot;No place to insert cast&quot;</span>);</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;      InsertNewInstBefore(<a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a>, *InsertPt);</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;      Worklist.pushUsersToWorkList(*Caller);</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;      <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a> = <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;getType());</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    }</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  }</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160; </div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;use_empty())</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    replaceInstUsesWith(*Caller, <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>);</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">Caller</a>-&gt;hasValueHandle()) {</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    <span class="keywordflow">if</span> (OldRetTy == <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>-&gt;getType())</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;      <a class="code" href="classllvm_1_1ValueHandleBase.html#abb87e6d5ed7ded2ccd8acac49caf22ab">ValueHandleBase::ValueIsRAUWd</a>(Caller, <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>);</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;      <span class="comment">// We cannot call ValueIsRAUWd with a different type, and the</span></div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;      <span class="comment">// actual tracked value will disappear.</span></div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;      <a class="code" href="classllvm_1_1ValueHandleBase.html#a92d8c2f0a2622bca7ff24f02790c3f31">ValueHandleBase::ValueIsDeleted</a>(Caller);</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  }</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160; </div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;  eraseInstFromFunction(*Caller);</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;}</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;<span class="comment">/// Turn a call to a function created by init_trampoline / adjust_trampoline</span></div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;<span class="comment">/// intrinsic pair into a direct call to the underlying function.</span></div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;InstCombinerImpl::transformCallThroughTrampoline(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;Call,</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;                                                 <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;Tramp) {</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getCalledOperand();</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *CalleeTy = <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getType();</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FTy = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getFunctionType();</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getAttributes();</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160; </div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  <span class="comment">// If the call already has the &#39;nest&#39; attribute somewhere then give up -</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  <span class="comment">// otherwise &#39;nest&#39; would occur twice after splicing in the chain.</span></div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.hasAttrSomewhere(Attribute::Nest))</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160; </div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *NestF = cast&lt;Function&gt;(Tramp.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NestFTy = NestF-&gt;<a class="code" href="classllvm_1_1Function.html#adf50671db83d2813e0d897ea2cfc9102">getFunctionType</a>();</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160; </div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;  <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> NestAttrs = NestF-&gt;<a class="code" href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">getAttributes</a>();</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;  <span class="keywordflow">if</span> (!NestAttrs.<a class="code" href="classllvm_1_1AttributeList.html#a5269e6b95f5007a652d53ca847cca6f3">isEmpty</a>()) {</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    <span class="keywordtype">unsigned</span> NestArgNo = 0;</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *NestTy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    <a class="code" href="classllvm_1_1AttributeSet.html">AttributeSet</a> NestAttr;</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160; </div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    <span class="comment">// Look for a parameter marked with the &#39;nest&#39; attribute.</span></div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1FunctionType.html#a169beeeb49e770cbdbd9448ffd2af534">FunctionType::param_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = NestFTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a05d5616e1422394b4d350c008b0cc5e0">param_begin</a>(),</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;                                      <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NestFTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aeae69a459419ec0bb738cdc73f4fc2a1">param_end</a>();</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++NestArgNo, ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;      <a class="code" href="classllvm_1_1AttributeSet.html">AttributeSet</a> AS = NestAttrs.<a class="code" href="classllvm_1_1AttributeList.html#ada7a173c40ca7ac048a4b7099ceb71c0">getParamAttrs</a>(NestArgNo);</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;      <span class="keywordflow">if</span> (AS.<a class="code" href="classllvm_1_1AttributeSet.html#a51fc96070af1597981c3000171e1a5ab">hasAttribute</a>(Attribute::Nest)) {</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;        <span class="comment">// Record the parameter type and any other attributes.</span></div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;        NestTy = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;        NestAttr = AS;</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;      }</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    }</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160; </div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;    <span class="keywordflow">if</span> (NestTy) {</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;      std::vector&lt;Value*&gt; NewArgs;</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;      std::vector&lt;AttributeSet&gt; NewArgAttrs;</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;      NewArgs.reserve(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_size() + 1);</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;      NewArgAttrs.reserve(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_size());</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160; </div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;      <span class="comment">// Insert the nest argument into the call argument list, which may</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      <span class="comment">// mean appending it.  Likewise for attributes.</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160; </div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;      {</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;        <span class="keywordtype">unsigned</span> ArgNo = 0;</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;        <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.arg_end();</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;          <span class="keywordflow">if</span> (ArgNo == NestArgNo) {</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;            <span class="comment">// Add the chain argument and attributes.</span></div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;            <a class="code" href="classllvm_1_1Value.html">Value</a> *NestVal = Tramp.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;            <span class="keywordflow">if</span> (NestVal-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != NestTy)</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;              NestVal = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(NestVal, NestTy, <span class="stringliteral">&quot;nest&quot;</span>);</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;            NewArgs.push_back(NestVal);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;            NewArgAttrs.push_back(NestAttr);</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;          }</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160; </div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160; </div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;          <span class="comment">// Add the original argument and attributes.</span></div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;          NewArgs.push_back(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;          NewArgAttrs.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.getParamAttrs(ArgNo));</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160; </div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;          ++ArgNo;</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;          ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;        } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;      }</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160; </div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;      <span class="comment">// The trampoline may have been bitcast to a bogus type (FTy).</span></div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;      <span class="comment">// Handle this by synthesizing a new function type, equal to FTy</span></div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;      <span class="comment">// with the chain parameter inserted.</span></div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160; </div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;      std::vector&lt;Type*&gt; NewTypes;</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;      NewTypes.reserve(FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>()+1);</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160; </div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;      <span class="comment">// Insert the chain&#39;s type into the list of parameter types, which may</span></div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;      <span class="comment">// mean appending it.</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;      {</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;        <span class="keywordtype">unsigned</span> ArgNo = 0;</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;        <a class="code" href="classllvm_1_1FunctionType.html#a169beeeb49e770cbdbd9448ffd2af534">FunctionType::param_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a05d5616e1422394b4d350c008b0cc5e0">param_begin</a>(),</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;          <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aeae69a459419ec0bb738cdc73f4fc2a1">param_end</a>();</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160; </div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;          <span class="keywordflow">if</span> (ArgNo == NestArgNo)</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;            <span class="comment">// Add the chain&#39;s type.</span></div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;            NewTypes.push_back(NestTy);</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160; </div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160; </div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;          <span class="comment">// Add the original type.</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;          NewTypes.push_back(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160; </div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;          ++ArgNo;</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;          ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;        } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;      }</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;      <span class="comment">// Replace the trampoline call with a direct call.  Let the generic</span></div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;      <span class="comment">// code sort out any function type mismatches.</span></div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>(), NewTypes,</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;                                                FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>());</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NewCallee =</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;        NestF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a92041fc7f781ba4fe708eec99139b72f">getType</a>() == <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(NewFTy) ?</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;        NestF : <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(NestF,</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;                                         <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(NewFTy));</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;      <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> NewPAL =</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;          <a class="code" href="classllvm_1_1AttributeList.html#a5cc6492c8f2e06a8bae9dc0d121fab9f">AttributeList::get</a>(FTy-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>(), <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.getFnAttrs(),</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;                             <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.getRetAttrs(), NewArgAttrs);</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160; </div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;OperandBundleDef, 1&gt;</a> OpBundles;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;      <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getOperandBundlesAsDefs(OpBundles);</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160; </div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewCaller;</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(&amp;Call)) {</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;        NewCaller = <a class="code" href="classllvm_1_1InvokeInst.html#ab659895cedd34fb668aab552ee3b9068">InvokeInst::Create</a>(NewFTy, NewCallee,</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;                                       II-&gt;getNormalDest(), II-&gt;getUnwindDest(),</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;                                       NewArgs, OpBundles);</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;        cast&lt;InvokeInst&gt;(NewCaller)-&gt;setCallingConv(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a3ff92cec76009e859cb0c419d6e8ba5f">getCallingConv</a>());</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;        cast&lt;InvokeInst&gt;(NewCaller)-&gt;setAttributes(NewPAL);</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallBrInst.html">CallBrInst</a> *CBI = dyn_cast&lt;CallBrInst&gt;(&amp;Call)) {</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;        NewCaller =</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;            <a class="code" href="classllvm_1_1CallBrInst.html#a0d302549a85fa2545051c2669154e036">CallBrInst::Create</a>(NewFTy, NewCallee, CBI-&gt;getDefaultDest(),</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;                               CBI-&gt;getIndirectDests(), NewArgs, OpBundles);</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;        cast&lt;CallBrInst&gt;(NewCaller)-&gt;setCallingConv(CBI-&gt;getCallingConv());</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        cast&lt;CallBrInst&gt;(NewCaller)-&gt;setAttributes(NewPAL);</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;        NewCaller = <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(NewFTy, NewCallee, NewArgs, OpBundles);</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;        cast&lt;CallInst&gt;(NewCaller)-&gt;setTailCallKind(</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;            cast&lt;CallInst&gt;(Call).getTailCallKind());</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;        cast&lt;CallInst&gt;(NewCaller)-&gt;setCallingConv(</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;            cast&lt;CallInst&gt;(Call).getCallingConv());</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;        cast&lt;CallInst&gt;(NewCaller)-&gt;setAttributes(NewPAL);</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;      }</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;      NewCaller-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">setDebugLoc</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.getDebugLoc());</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160; </div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;      <span class="keywordflow">return</span> NewCaller;</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    }</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;  }</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160; </div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;  <span class="comment">// Replace the trampoline call with a direct call.  Since there is no &#39;nest&#39;</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  <span class="comment">// parameter, there is no need to adjust the argument list.  Let the generic</span></div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;  <span class="comment">// code sort out any function type mismatches.</span></div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NewCallee = <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(NestF, CalleeTy);</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;  <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.setCalledFunction(FTy, NewCallee);</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;  <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>;</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a512494b857b0644c1f722531e3ee5495"><div class="ttname"><a href="classllvm_1_1Instruction.html#a512494b857b0644c1f722531e3ee5495">llvm::Instruction::getPrevNonDebugInstruction</a></div><div class="ttdeci">const Instruction * getPrevNonDebugInstruction(bool SkipPseudoOp=false) const</div><div class="ttdoc">Return a pointer to the previous non-debug instruction in the same basic block as 'this',...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00794">Instruction.cpp:794</a></div></div>
<div class="ttc" id="astructllvm_1_1RetainedKnowledge_html_a99ac6afa72b262e95ceb85328c6cb5c6"><div class="ttname"><a href="structllvm_1_1RetainedKnowledge.html#a99ac6afa72b262e95ceb85328c6cb5c6">llvm::RetainedKnowledge::WasOn</a></div><div class="ttdeci">Value * WasOn</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleQueries_8h_source.html#l00103">AssumeBundleQueries.h:103</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a35b3798829fba58f145ea59e4214e84a"><div class="ttname"><a href="classllvm_1_1CallBase.html#a35b3798829fba58f145ea59e4214e84a">llvm::CallBase::getNumOperandBundles</a></div><div class="ttdeci">unsigned getNumOperandBundles() const</div><div class="ttdoc">Return the number of operand bundles associated with this User.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01949">InstrTypes.h:1949</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d4bdb0619aad92ee2de8f939930ba05"><div class="ttname"><a href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05">llvm::simplifyFMulInst</a></div><div class="ttdeci">Value * simplifyFMulInst(Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for an FMul, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05592">InstructionSimplify.cpp:5592</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallBitVector_html_a0ff6951070195d0a7e0e31ffe47daaf1"><div class="ttname"><a href="classllvm_1_1SmallBitVector.html#a0ff6951070195d0a7e0e31ffe47daaf1">llvm::SmallBitVector::set</a></div><div class="ttdeci">SmallBitVector &amp; set()</div><div class="ttdef"><b>Definition:</b> <a href="SmallBitVector_8h_source.html#l00366">SmallBitVector.h:366</a></div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_aa73e62aac1753cb7b3c3aaccef3df8b1"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#aa73e62aac1753cb7b3c3aaccef3df8b1">llvm::BinaryOpIntrinsic::getBinaryOp</a></div><div class="ttdeci">Instruction::BinaryOps getBinaryOp() const</div><div class="ttdoc">Returns the binary operation underlying the intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00752">IntrinsicInst.cpp:752</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a768e1a76107c46276e339b07744f888a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a768e1a76107c46276e339b07744f888a">llvm::PatternMatch::m_FShr</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0, Opnd1, Opnd2 &gt;::Ty m_FShr(const Opnd0 &amp;Op0, const Opnd1 &amp;Op1, const Opnd2 &amp;Op2)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02200">PatternMatch.h:2200</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9d3ba236d13373cde794da2023acc7a0"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a></div><div class="ttdeci">Function Attrs</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00215">README_ALTIVEC.txt:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a8ad67a33bae235fe3cca1c3e5a91ed2d"><div class="ttname"><a href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">llvm::Type::isSized</a></div><div class="ttdeci">bool isSized(SmallPtrSetImpl&lt; Type * &gt; *Visited=nullptr) const</div><div class="ttdoc">Return true if it makes sense to take the size of this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00295">Type.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a900a32da3983469187b1848189681705"><div class="ttname"><a href="classllvm_1_1Function.html#a900a32da3983469187b1848189681705">llvm::Function::isIntrinsic</a></div><div class="ttdeci">bool isIntrinsic() const</div><div class="ttdoc">isIntrinsic - Returns true if the function's name starts with &quot;llvm.&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00209">Function.h:209</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a694293446a074c3d64270e7671bb5052"><div class="ttname"><a href="classllvm_1_1APInt.html#a694293446a074c3d64270e7671bb5052">llvm::APInt::sadd_ov</a></div><div class="ttdeci">APInt sadd_ov(const APInt &amp;RHS, bool &amp;Overflow) const</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01926">APInt.cpp:1926</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_html_a961f14c05fb26ae34f8dabdd2013b7d6"><div class="ttname"><a href="namespacellvm.html#a961f14c05fb26ae34f8dabdd2013b7d6">llvm::maskIsAllOneOrUndef</a></div><div class="ttdeci">bool maskIsAllOneOrUndef(Value *Mask)</div><div class="ttdoc">Given a mask vector of i1, Return true if all of the elements of this predicate mask are known to be ...</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l01092">VectorUtils.cpp:1092</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a19263fff7f5b3a9d22b48151fa0d85d0"><div class="ttname"><a href="classllvm_1_1CallBase.html#a19263fff7f5b3a9d22b48151fa0d85d0">llvm::CallBase::getOperandBundlesAsDefs</a></div><div class="ttdeci">void getOperandBundlesAsDefs(SmallVectorImpl&lt; OperandBundleDef &gt; &amp;Defs) const</div><div class="ttdoc">Return the list of operand bundles attached to this instruction as a vector of OperandBundleDefs.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00425">Instructions.cpp:425</a></div></div>
<div class="ttc" id="aclassllvm_1_1InvokeInst_html_ab659895cedd34fb668aab552ee3b9068"><div class="ttname"><a href="classllvm_1_1InvokeInst.html#ab659895cedd34fb668aab552ee3b9068">llvm::InvokeInst::Create</a></div><div class="ttdeci">static InvokeInst * Create(FunctionType *Ty, Value *Func, BasicBlock *IfNormal, BasicBlock *IfException, ArrayRef&lt; Value * &gt; Args, const Twine &amp;NameStr, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03858">Instructions.h:3858</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4ba3a5be6c0e9b9e8a525de055836733"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">llvm::Instruction::getModule</a></div><div class="ttdeci">const Module * getModule() const</div><div class="ttdoc">Return the module owning the function this instruction belongs to or nullptr it the function does not...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00070">Instruction.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a44beb55f865ee8a8e42c3a9adeb599e2"><div class="ttname"><a href="classllvm_1_1Value.html#a44beb55f865ee8a8e42c3a9adeb599e2">llvm::Value::dropDroppableUse</a></div><div class="ttdeci">static void dropDroppableUse(Use &amp;U)</div><div class="ttdoc">Remove the droppable use U.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00216">Value.cpp:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdeci">@ ICMP_EQ</div><div class="ttdoc">equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00739">InstrTypes.h:739</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7dc3069afa2ce5ea62ac2eb183e51c00"><div class="ttname"><a href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">llvm::none_of</a></div><div class="ttdeci">bool none_of(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::none_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01749">STLExtras.h:1749</a></div></div>
<div class="ttc" id="anamespacellvm_html_a06c60fef11885eadbda4026c83ae9a13a56624a95592b438e05ab500a6a200a03"><div class="ttname"><a href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13a56624a95592b438e05ab500a6a200a03">llvm::OverflowResult::NeverOverflows</a></div><div class="ttdeci">@ NeverOverflows</div><div class="ttdoc">Never overflows.</div></div>
<div class="ttc" id="anamespacellvm_html_aedbf3998b4ff72347a45cb4169d120db"><div class="ttname"><a href="namespacellvm.html#aedbf3998b4ff72347a45cb4169d120db">llvm::MaskedValueIsZero</a></div><div class="ttdeci">bool MaskedValueIsZero(const Value *V, const APInt &amp;Mask, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return true if 'V &amp; Mask' is known to be zero.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00364">ValueTracking.cpp:364</a></div></div>
<div class="ttc" id="astructllvm_1_1PatternMatch_1_1m__Mask_html"><div class="ttname"><a href="structllvm_1_1PatternMatch_1_1m__Mask.html">llvm::PatternMatch::m_Mask</a></div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01514">PatternMatch.h:1514</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">llvm::ISD::OR</a></div><div class="ttdeci">@ OR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00667">ISDOpcodes.h:667</a></div></div>
<div class="ttc" id="anamespacellvm_html_acdec81ddbe2a44db51de1226fa1ff5f0"><div class="ttname"><a href="namespacellvm.html#acdec81ddbe2a44db51de1226fa1ff5f0">llvm::getAllocSize</a></div><div class="ttdeci">std::optional&lt; APInt &gt; getAllocSize(const CallBase *CB, const TargetLibraryInfo *TLI, function_ref&lt; const Value *(const Value *)&gt; Mapper=[](const Value *V) { return V;})</div><div class="ttdoc">Return the size of the requested allocation.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00367">MemoryBuiltins.cpp:367</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3a402430a1bbe70a9282dcb0e0b6a2cd"><div class="ttname"><a href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">llvm::Value::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const</div><div class="ttdoc">Return true if there is exactly one use of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00434">Value.h:434</a></div></div>
<div class="ttc" id="aInstCombiner_8h_html"><div class="ttname"><a href="InstCombiner_8h.html">InstCombiner.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_acadfa18c30c37d1660a10b23c470a35b"><div class="ttname"><a href="classllvm_1_1Instruction.html#acadfa18c30c37d1660a10b23c470a35b">llvm::Instruction::getInsertionPointAfterDef</a></div><div class="ttdeci">Instruction * getInsertionPointAfterDef()</div><div class="ttdoc">Get the first insertion point at which the result of this instruction is defined.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00131">Instruction.cpp:131</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a75d6c6f22bf21c4725e3f9be5ec0b07e"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a75d6c6f22bf21c4725e3f9be5ec0b07e">llvm::AttributeList::hasAttrSomewhere</a></div><div class="ttdeci">bool hasAttrSomewhere(Attribute::AttrKind Kind, unsigned *Index=nullptr) const</div><div class="ttdoc">Return true if the specified attribute is set for at least one parameter or for the return value.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01487">Attributes.cpp:1487</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">This enumeration lists the possible predicates for CmpInst subclasses.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00718">InstrTypes.h:718</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a089e46429cea4cfcd2ba23a6fc6aa676"><div class="ttname"><a href="classllvm_1_1Value.html#a089e46429cea4cfcd2ba23a6fc6aa676">llvm::Value::MaximumAlignment</a></div><div class="ttdeci">static constexpr uint64_t MaximumAlignment</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00790">Value.h:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a98c0a84a5dfa8bce341c829709f171e5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">llvm::BasicBlock::iterator</a></div><div class="ttdeci">InstListType::iterator iterator</div><div class="ttdoc">Instruction iterators...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00087">BasicBlock.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_afe3ce7fc89f36474eb0369cbb792c05a"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#afe3ce7fc89f36474eb0369cbb792c05a">llvm::ConstantInt::getType</a></div><div class="ttdeci">IntegerType * getType() const</div><div class="ttdoc">getType - Specialize the getType() method to always return an IntegerType, which reduces the amount o...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00172">Constants.h:172</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombiner_html_a4195c2aa0f9ee957bcfdff5de365b0b5"><div class="ttname"><a href="classllvm_1_1InstCombiner.html#a4195c2aa0f9ee957bcfdff5de365b0b5">llvm::InstCombiner::getDominatorTree</a></div><div class="ttdeci">DominatorTree &amp; getDominatorTree() const</div><div class="ttdef"><b>Definition:</b> <a href="InstCombiner_8h_source.html#l00371">InstCombiner.h:371</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a3b996fbf8458aafffc86cb98a68d0a47"><div class="ttname"><a href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const</div><div class="ttdoc">True if this is an instance of PointerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00249">Type.h:249</a></div></div>
<div class="ttc" id="aREADME-FPStack_8txt_html_a9209b9930d4d7750a6b8b38b3b4ddd6a"><div class="ttname"><a href="README-FPStack_8txt.html#a9209b9930d4d7750a6b8b38b3b4ddd6a">ceil</a></div><div class="ttdeci">We have fiadd patterns now but the followings have the same cost and complexity We need a way to specify the later is more profitable def def The FP stackifier should handle simple permutates to reduce number of shuffle e g ceil</div><div class="ttdef"><b>Definition:</b> <a href="README-FPStack_8txt_source.html#l00054">README-FPStack.txt:54</a></div></div>
<div class="ttc" id="aAtomicOrdering_8h_html"><div class="ttname"><a href="AtomicOrdering_8h.html">AtomicOrdering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ElementCount_html"><div class="ttname"><a href="classllvm_1_1ElementCount.html">llvm::ElementCount</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00279">TypeSize.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a58d6359cee16e5da66861058836dcca9"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a58d6359cee16e5da66861058836dcca9">llvm::ConstantExpr::getZExt</a></div><div class="ttdeci">static Constant * getZExt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02119">Constants.cpp:2119</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a91bd28adea418a08cec78b72413d9d45"><div class="ttname"><a href="classllvm_1_1Instruction.html#a91bd28adea418a08cec78b72413d9d45">llvm::Instruction::getNextNonDebugInstruction</a></div><div class="ttdeci">const Instruction * getNextNonDebugInstruction(bool SkipPseudoOp=false) const</div><div class="ttdoc">Return a pointer to the next non-debug instruction in the same basic block as 'this',...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00786">Instruction.cpp:786</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a849659c355a146682a572ca16f83b9d3"><div class="ttname"><a href="classllvm_1_1CallBase.html#a849659c355a146682a572ca16f83b9d3">llvm::CallBase::removeOperandBundle</a></div><div class="ttdeci">static CallBase * removeOperandBundle(CallBase *CB, uint32_t ID, Instruction *InsertPt=nullptr)</div><div class="ttdoc">Create a clone of CB with operand bundle ID removed.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00516">Instructions.cpp:516</a></div></div>
<div class="ttc" id="aLoads_8h_html"><div class="ttname"><a href="Loads_8h.html">Loads.h</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a3130d3229343ee7ae6b53bffeea4eee2"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a3130d3229343ee7ae6b53bffeea4eee2">GuardWideningWindow</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; GuardWideningWindow(&quot;instcombine-guard-widening-window&quot;, cl::init(3), cl::desc(&quot;How wide an instruction window to bypass looking for &quot; &quot;another guard&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantStruct_html_a54fcfa620deb80373f489ba2fdad7643"><div class="ttname"><a href="classllvm_1_1ConstantStruct.html#a54fcfa620deb80373f489ba2fdad7643">llvm::ConstantStruct::get</a></div><div class="ttdeci">static Constant * get(StructType *T, ArrayRef&lt; Constant * &gt; V)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01314">Constants.cpp:1314</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AttributeFuncs_html_aa01ebfb5122911f6d17fb843d617a953a4fbf4bde0e00e57f95e2a79bfe1ce25a"><div class="ttname"><a href="namespacellvm_1_1AttributeFuncs.html#aa01ebfb5122911f6d17fb843d617a953a4fbf4bde0e00e57f95e2a79bfe1ce25a">llvm::AttributeFuncs::ASK_UNSAFE_TO_DROP</a></div><div class="ttdeci">@ ASK_UNSAFE_TO_DROP</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l01249">Attributes.h:1249</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a16799e07e39d599e81926d1a69301fab"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a16799e07e39d599e81926d1a69301fab">llvm::BinaryOperator::CreateWithCopiedFlags</a></div><div class="ttdeci">static BinaryOperator * CreateWithCopiedFlags(BinaryOps Opc, Value *V1, Value *V2, Instruction *CopyO, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00248">InstrTypes.h:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a4f500ae0de71695b652af4c0958d8ea8"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a4f500ae0de71695b652af4c0958d8ea8">llvm::BinaryOperator::CreateNot</a></div><div class="ttdeci">static BinaryOperator * CreateNot(Value *Op, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03006">Instructions.cpp:3006</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html_a7ff64b3625b6f9020556ed05a5f72af4"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html#a7ff64b3625b6f9020556ed05a5f72af4">llvm::IntrinsicInst::getIntrinsicID</a></div><div class="ttdeci">Intrinsic::ID getIntrinsicID() const</div><div class="ttdoc">Return the intrinsic ID of this intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00054">IntrinsicInst.h:54</a></div></div>
<div class="ttc" id="astructllvm_1_1SelectPatternResult_html_a3ca9c2098248eac9051008d6eb9f321d"><div class="ttname"><a href="structllvm_1_1SelectPatternResult.html#a3ca9c2098248eac9051008d6eb9f321d">llvm::SelectPatternResult::Flavor</a></div><div class="ttdeci">SelectPatternFlavor Flavor</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00714">ValueTracking.h:714</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_aee56a5257c4899bf97c5957d87a732e3"><div class="ttname"><a href="classllvm_1_1CallBase.html#aee56a5257c4899bf97c5957d87a732e3">llvm::CallBase::setCalledFunction</a></div><div class="ttdeci">void setCalledFunction(Function *Fn)</div><div class="ttdoc">Sets the function called, including updating the function type.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01445">InstrTypes.h:1445</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a9188f84e1dd67530330dcab9cae787d7"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">llvm::details::FixedOrScalableQuantity::isScalable</a></div><div class="ttdeci">constexpr bool isScalable() const</div><div class="ttdoc">Returns whether the quantity is scaled by a runtime quantity (vscale).</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00166">TypeSize.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1a0a402f51b5d937bbd3accc7bb354ab"><div class="ttname"><a href="namespacellvm.html#a1a0a402f51b5d937bbd3accc7bb354ab">llvm::possiblyDemandedEltsInMask</a></div><div class="ttdeci">APInt possiblyDemandedEltsInMask(Value *Mask)</div><div class="ttdoc">Given a mask vector of the form &lt;Y x i1&gt;, return an APInt (of bitwidth Y) for each lane which may be ...</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l01120">VectorUtils.cpp:1120</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a050a395d1656e546679d8b144d951bb2"><div class="ttname"><a href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">llvm::PointerType::get</a></div><div class="ttdeci">static PointerType * get(Type *ElementType, unsigned AddressSpace)</div><div class="ttdoc">This constructs a pointer to an object of the specified type in a numbered address space.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00729">Type.cpp:729</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a3ebec767d878f6325649018816f5fbba"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">minimum</a></div><div class="ttdeci">Should compile r2 movcc movcs str strb mov lr r1 movcs movcc mov lr r1 str mov mov cmp r1 movlo r2 str bx lr r0 mov mov cmp r0 movhs r2 mov r1 bx lr Some of the NEON intrinsics may be appropriate for more general either as target independent intrinsics or perhaps elsewhere in the ARM backend Some of them may also be lowered to target independent and perhaps some new SDNodes could be added For minimum</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00489">README.txt:489</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ac67bca6c764da76f5e152330d92ed916"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">llvm::KnownBits::Zero</a></div><div class="ttdeci">APInt Zero</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00024">KnownBits.h:24</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00263">README.txt:263</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_a43708098bd7085788a680fd02f47c750"><div class="ttname"><a href="classllvm_1_1Attribute.html#a43708098bd7085788a680fd02f47c750">llvm::Attribute::get</a></div><div class="ttdeci">static Attribute get(LLVMContext &amp;Context, AttrKind Kind, uint64_t Val=0)</div><div class="ttdoc">Return a uniquified Attribute object.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00091">Attributes.cpp:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a4abb39a66573f61fda80469faa5d861d"><div class="ttname"><a href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">llvm::Type::getScalarType</a></div><div class="ttdeci">Type * getScalarType() const</div><div class="ttdoc">If this is a vector type, return the element type, otherwise return 'this'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00341">Type.h:341</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a4b001d9b458035fbbfc154d52d354ee9"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const</div><div class="ttdoc">Return the constant as an APInt value reference.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00132">Constants.h:132</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_a6822c506d77c8ba56e85bee5cd1ed01b"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#a6822c506d77c8ba56e85bee5cd1ed01b">llvm::BinaryOpIntrinsic::getRHS</a></div><div class="ttdeci">Value * getRHS() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00757">IntrinsicInst.h:757</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_aa342c9b3d47cd9bde63b80c83ead429b"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aa342c9b3d47cd9bde63b80c83ead429b">llvm::ConstantExpr::getSExt</a></div><div class="ttdeci">static Constant * getSExt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02105">Constants.cpp:2105</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombiner_html_ae1d331bc844ecb92bdeb0b706ae04396"><div class="ttname"><a href="classllvm_1_1InstCombiner.html#ae1d331bc844ecb92bdeb0b706ae04396">llvm::InstCombiner::Builder</a></div><div class="ttdeci">BuilderTy &amp; Builder</div><div class="ttdef"><b>Definition:</b> <a href="InstCombiner_8h_source.html#l00058">InstCombiner.h:58</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="astructllvm_1_1PatternMatch_1_1m__SpecificMask_html"><div class="ttname"><a href="structllvm_1_1PatternMatch_1_1m__SpecificMask.html">llvm::PatternMatch::m_SpecificMask</a></div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01529">PatternMatch.h:1529</a></div></div>
<div class="ttc" id="aInlineAsm_8h_html"><div class="ttname"><a href="InlineAsm_8h.html">InlineAsm.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a68fce0638c5ec7b96b8572cad9c20488"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a68fce0638c5ec7b96b8572cad9c20488">llvm::ConstantExpr::getICmp</a></div><div class="ttdeci">static Constant * getICmp(unsigned short pred, Constant *LHS, Constant *RHS, bool OnlyIfReduced=false)</div><div class="ttdoc">get* - Return some common constants without having to specify the full Instruction::OPCODE identifier...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02523">Constants.cpp:2523</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="InstCombineCalls_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00077">InstCombineCalls.cpp:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a59ab64994d74243a175979d5b7b6b535"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a59ab64994d74243a175979d5b7b6b535">llvm::BinaryOperator::CreateFDivFMF</a></div><div class="ttdeci">static BinaryOperator * CreateFDivFMF(Value *V1, Value *V2, Instruction *FMFSource, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00271">InstrTypes.h:271</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a944c25ac9b73b02a17a20a08a25b9b21"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">llvm::PatternMatch::m_Add</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Add &gt; m_Add(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00979">PatternMatch.h:979</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_a8818b44063f9f3339d4ced72bd76b107"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#a8818b44063f9f3339d4ced72bd76b107">llvm::BinaryOpIntrinsic::getLHS</a></div><div class="ttdeci">Value * getLHS() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00756">IntrinsicInst.h:756</a></div></div>
<div class="ttc" id="anamespacellvm_html_a48fc95f799e976fb8bf571d61e6337f5"><div class="ttname"><a href="namespacellvm.html#a48fc95f799e976fb8bf571d61e6337f5">llvm::getSplatValue</a></div><div class="ttdeci">Value * getSplatValue(const Value *V)</div><div class="ttdoc">Get splat value if the input is a splat vector or return nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l00371">VectorUtils.cpp:371</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a4b5e1f50cb0890ec60d8c61a61241170"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a4b5e1f50cb0890ec60d8c61a61241170">llvm::CmpInst::makeCmpResultType</a></div><div class="ttdeci">static Type * makeCmpResultType(Type *opnd_type)</div><div class="ttdoc">Create a result type for fcmp/icmp.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01054">InstrTypes.h:1054</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5ab2d0b0f0b8ceec3b907184e7567197"><div class="ttname"><a href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">llvm::Type::getPointerAddressSpace</a></div><div class="ttdeci">unsigned getPointerAddressSpace() const</div><div class="ttdoc">Get the address space of this pointer or pointer vector type.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00729">DerivedTypes.h:729</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt; TargetFolder, IRBuilderCallbackInserter &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1InsertValueInst_html_a40315c7d4fb418dd3c967898ee070f40"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html#a40315c7d4fb418dd3c967898ee070f40">llvm::InsertValueInst::Create</a></div><div class="ttdeci">static InsertValueInst * Create(Value *Agg, Value *Val, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02605">Instructions.h:2605</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86_html_a3674fa9b225c107451c80b215815a31eab86fc6b051f63d73de262d4c34e3a0a9"><div class="ttname"><a href="namespacellvm_1_1X86.html#a3674fa9b225c107451c80b215815a31eab86fc6b051f63d73de262d4c34e3a0a9">llvm::X86::SecondMacroFusionInstKind::AB</a></div><div class="ttdeci">@ AB</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_a643fe5a9e7042f032dae78109c2b1e72"><div class="ttname"><a href="classllvm_1_1CastInst.html#a643fe5a9e7042f032dae78109c2b1e72">llvm::CastInst::Create</a></div><div class="ttdeci">static CastInst * Create(Instruction::CastOps, Value *S, Type *Ty, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Provides a way to construct any of the CastInst subclasses using an opcode instead of the subclass's ...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03354">Instructions.cpp:3354</a></div></div>
<div class="ttc" id="anamespacellvm_html_a728f79528ca8659e15d00c1e6818b316"><div class="ttname"><a href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">llvm::isModSet</a></div><div class="ttdeci">bool isModSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00048">ModRef.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a61a186a60c64a2a5225db9944eaf7df8"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a61a186a60c64a2a5225db9944eaf7df8">llvm::GlobalObject::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(unsigned KindID) const</div><div class="ttdoc">Get the current metadata attachments for the given kind, if any.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01288">Metadata.cpp:1288</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a3ce5d8e60ab35c2eac434686f7938f13"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3ce5d8e60ab35c2eac434686f7938f13">fcPosZero</a></div><div class="ttdeci">@ fcPosZero</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00206">FloatingPointMode.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdeci">@ ICMP_NE</div><div class="ttdoc">not equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00740">InstrTypes.h:740</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SyncScope_html_a4f8fa2bf4e0acbf29065f51c8c3cad47af9706a2e196638078e8323bfd9ba17de"><div class="ttname"><a href="namespacellvm_1_1SyncScope.html#a4f8fa2bf4e0acbf29065f51c8c3cad47af9706a2e196638078e8323bfd9ba17de">llvm::SyncScope::System</a></div><div class="ttdeci">@ System</div><div class="ttdoc">Synchronized with respect to all concurrently executing threads.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00057">LLVMContext.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae79d05dd3d0b05e080e08f8c5c33f880"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02229">Constants.cpp:2229</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombiner_html_ae099c6fa4a0b06306ece7dd372e8d02a"><div class="ttname"><a href="classllvm_1_1InstCombiner.html#ae099c6fa4a0b06306ece7dd372e8d02a">llvm::InstCombiner::computeKnownBits</a></div><div class="ttdeci">void computeKnownBits(const Value *V, KnownBits &amp;Known, unsigned Depth, const Instruction *CxtI) const</div><div class="ttdef"><b>Definition:</b> <a href="InstCombiner_8h_source.html#l00461">InstCombiner.h:461</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad0a51681428d4b7e3770680a9f1ae925"><div class="ttname"><a href="namespacellvm.html#ad0a51681428d4b7e3770680a9f1ae925">llvm::SignBitMustBeZero</a></div><div class="ttdeci">bool SignBitMustBeZero(const Value *V, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Return true if we can prove that the specified FP value's sign bit is 0.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l03762">ValueTracking.cpp:3762</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_af292b2e5cb0702e5df9051df6428c79e"><div class="ttname"><a href="namespacellvm.html#af292b2e5cb0702e5df9051df6428c79e">llvm::isAssumeWithEmptyBundle</a></div><div class="ttdeci">bool isAssumeWithEmptyBundle(AssumeInst &amp;Assume)</div><div class="ttdoc">Return true iff the operand bundles of the provided llvm.assume doesn't contain any valuable informat...</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleQueries_8cpp_source.html#l00125">AssumeBundleQueries.cpp:125</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a5cc6492c8f2e06a8bae9dc0d121fab9f"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a5cc6492c8f2e06a8bae9dc0d121fab9f">llvm::AttributeList::get</a></div><div class="ttdeci">static AttributeList get(LLVMContext &amp;C, ArrayRef&lt; std::pair&lt; unsigned, Attribute &gt;&gt; Attrs)</div><div class="ttdoc">Create an AttributeList with the specified parameters in it.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01132">Attributes.cpp:1132</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae95177e7337984f5bc961723ecf67169"><div class="ttname"><a href="namespacellvm.html#ae95177e7337984f5bc961723ecf67169">llvm::ComputeMaxSignificantBits</a></div><div class="ttdeci">unsigned ComputeMaxSignificantBits(const Value *Op, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr)</div><div class="ttdoc">Get the upper bound on bit size for this Value Op as a signed integer.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00391">ValueTracking.cpp:391</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a8683922a4b3d122c3b0d7d53b1cde2ad"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a8683922a4b3d122c3b0d7d53b1cde2ad">llvm::ConstantExpr::getSelect</a></div><div class="ttdeci">static Constant * getSelect(Constant *C, Constant *V1, Constant *V2, Type *OnlyIfReducedTy=nullptr)</div><div class="ttdoc">Select constant expr.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02441">Constants.cpp:2441</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_acd794d7b3653822f61ba126e1678e03f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">llvm::PatternMatch::m_APFloat</a></div><div class="ttdeci">apfloat_match m_APFloat(const APFloat *&amp;Res)</div><div class="ttdoc">Match a ConstantFP or splatted ConstantVector, binding the specified pointer to the contained APFloat...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00295">PatternMatch.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae2f7e8a5325f48bbbdaec78e5d6c320c"><div class="ttname"><a href="namespacellvm.html#ae2f7e8a5325f48bbbdaec78e5d6c320c">llvm::minimum</a></div><div class="ttdeci">LLVM_READONLY APFloat minimum(const APFloat &amp;A, const APFloat &amp;B)</div><div class="ttdoc">Implements IEEE 754-2018 minimum semantics.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01368">APFloat.h:1368</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a07e8f35cd6c7f10fd7cd4166c790c93b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a07e8f35cd6c7f10fd7cd4166c790c93b">llvm::IRBuilderBase::CreateUnaryIntrinsic</a></div><div class="ttdeci">CallInst * CreateUnaryIntrinsic(Intrinsic::ID ID, Value *V, Instruction *FMFSource=nullptr, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdoc">Create a call to intrinsic ID with 1 operand which is mangled on its type.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8cpp_source.html#l00948">IRBuilder.cpp:948</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_ac805857628093ec4609c7b5ff5c1e14d"><div class="ttname"><a href="InstCombineCalls_8cpp.html#ac805857628093ec4609c7b5ff5c1e14d">reassociateMinMaxWithConstants</a></div><div class="ttdeci">static Instruction * reassociateMinMaxWithConstants(IntrinsicInst *II)</div><div class="ttdoc">If this min/max has a constant operand and an operand that is a matching min/max with a constant oper...</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l01085">InstCombineCalls.cpp:1085</a></div></div>
<div class="ttc" id="aARMSubtarget_8cpp_html_a6a14930b01ccb1cf446cd96395284102"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a6a14930b01ccb1cf446cd96395284102">IT</a></div><div class="ttdeci">static cl::opt&lt; ITMode &gt; IT(cl::desc(&quot;IT block support&quot;), cl::Hidden, cl::init(DefaultIT), cl::values(clEnumValN(DefaultIT, &quot;arm-default-it&quot;, &quot;Generate any type of IT block&quot;), clEnumValN(RestrictedIT, &quot;arm-restrict-it&quot;, &quot;Disallow complex IT blocks&quot;)))</div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a8f793deb2edf1656236f570c01d7042e"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a8f793deb2edf1656236f570c01d7042e">llvm::PatternMatch::m_BitReverse</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_BitReverse(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02161">PatternMatch.h:2161</a></div></div>
<div class="ttc" id="anamespacellvm_html_a07256e6859fcb3b9d5eb02ecea9e9a38"><div class="ttname"><a href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">llvm::isKnownNonZero</a></div><div class="ttdeci">bool isKnownNonZero(const Value *V, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return true if the given value is known to be non-zero when defined.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00313">ValueTracking.cpp:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a31e8da5adf63afd38b4ab94bca823150"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a31e8da5adf63afd38b4ab94bca823150">llvm::ConstantInt::getLimitedValue</a></div><div class="ttdeci">uint64_t getLimitedValue(uint64_t Limit=~0ULL) const</div><div class="ttdoc">getLimitedValue - If the value is smaller than the specified limit, return it, otherwise return the l...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00243">Constants.h:243</a></div></div>
<div class="ttc" id="aAPInt_8h_html"><div class="ttname"><a href="APInt_8h.html">APInt.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_af9f3d0f2901feeff9d52b95e58fbb49b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#af9f3d0f2901feeff9d52b95e58fbb49b">llvm::IRBuilderBase::CreateStripInvariantGroup</a></div><div class="ttdeci">Value * CreateStripInvariantGroup(Value *Ptr)</div><div class="ttdoc">Create a strip.invariant.group intrinsic call.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8cpp_source.html#l01180">IRBuilder.cpp:1180</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25342d4b800ea1a4a8bf4ec8887efb45"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25342d4b800ea1a4a8bf4ec8887efb45">llvm::PatternMatch::m_NegZeroFP</a></div><div class="ttdeci">cstfp_pred_ty&lt; is_neg_zero_fp &gt; m_NegZeroFP()</div><div class="ttdoc">Match a floating-point negative zero.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00682">PatternMatch.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a300433f583bb9e2862b84df663f43f40"><div class="ttname"><a href="classllvm_1_1CallBase.html#a300433f583bb9e2862b84df663f43f40">llvm::CallBase::isStrictFP</a></div><div class="ttdeci">bool isStrictFP() const</div><div class="ttdoc">Determine if the call requires strict floating point semantics.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01864">InstrTypes.h:1864</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html_aa39720e3d1469568fd56c4d6b8fcb789"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html#aa39720e3d1469568fd56c4d6b8fcb789">llvm::InstCombinerImpl::visitInvokeInst</a></div><div class="ttdeci">Instruction * visitInvokeInst(InvokeInst &amp;II)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l02997">InstCombineCalls.cpp:2997</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">llvm::CmpInst::ICMP_SGT</a></div><div class="ttdeci">@ ICMP_SGT</div><div class="ttdoc">signed greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00745">InstrTypes.h:745</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_html_a06c60fef11885eadbda4026c83ae9a13ac8cc76d76703c81c16e939be370683c1"><div class="ttname"><a href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13ac8cc76d76703c81c16e939be370683c1">llvm::OverflowResult::AlwaysOverflowsLow</a></div><div class="ttdeci">@ AlwaysOverflowsLow</div><div class="ttdoc">Always overflows in the direction of signed/unsigned min value.</div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a512fe2c15ea651294688eeec1341644c"><div class="ttname"><a href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Return the number of bits in the APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01439">APInt.h:1439</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html_afa2581e2e1ac6959cd02e28062a7c1d5"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html#afa2581e2e1ac6959cd02e28062a7c1d5">llvm::InstCombinerImpl::visitCallInst</a></div><div class="ttdeci">Instruction * visitCallInst(CallInst &amp;CI)</div><div class="ttdoc">CallInst simplification.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l01246">InstCombineCalls.cpp:1246</a></div></div>
<div class="ttc" id="aMemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a64cb92f784db53c70b9246a3cc632b25"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a64cb92f784db53c70b9246a3cc632b25">fcNormal</a></div><div class="ttdeci">@ fcNormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00213">FloatingPointMode.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html"><div class="ttname"><a href="classllvm_1_1AttributeList.html">llvm::AttributeList</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00432">Attributes.h:432</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeMask_html"><div class="ttname"><a href="classllvm_1_1AttributeMask.html">llvm::AttributeMask</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00979">Attributes.h:979</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a3084d5e0be64d39d4c09ec2b7b933248">fcNan</a></div><div class="ttdeci">@ fcNan</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00211">FloatingPointMode.h:211</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a6e06a656117038ee38e95b8cd5feb8ba"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a6e06a656117038ee38e95b8cd5feb8ba">foldShuffledIntrinsicOperands</a></div><div class="ttdeci">static Instruction * foldShuffledIntrinsicOperands(IntrinsicInst *II, InstCombiner::BuilderTy &amp;Builder)</div><div class="ttdoc">If all arguments of the intrinsic are unary shuffles with the same mask, try to shuffle after the int...</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l01196">InstCombineCalls.cpp:1196</a></div></div>
<div class="ttc" id="aclassllvm_1_1OperandBundleDefT_html"><div class="ttname"><a href="classllvm_1_1OperandBundleDefT.html">llvm::OperandBundleDefT</a></div><div class="ttdoc">A container for an operand bundle being viewed as a set of values rather than a set of uses.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8h_source.html#l00032">AutoUpgrade.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a5e4a09f80c7cd5283dbbc7256d122d12"><div class="ttname"><a href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">llvm::CallBase::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01264">InstrTypes.h:1264</a></div></div>
<div class="ttc" id="anamespacellvm_html_a21fa9fb3ba25eaa02fae01f428ef2fdf"><div class="ttname"><a href="namespacellvm.html#a21fa9fb3ba25eaa02fae01f428ef2fdf">llvm::simplifyRetainedKnowledge</a></div><div class="ttdeci">RetainedKnowledge simplifyRetainedKnowledge(AssumeInst *Assume, RetainedKnowledge RK, AssumptionCache *AC, DominatorTree *DT)</div><div class="ttdoc">canonicalize the RetainedKnowledge RK.</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00316">AssumeBundleBuilder.cpp:316</a></div></div>
<div class="ttc" id="aclassllvm_1_1FastMathFlags_html_a278a2e29bf56f2e2109fd35ae454b050"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">llvm::FastMathFlags::noSignedZeros</a></div><div class="ttdeci">bool noSignedZeros() const</div><div class="ttdef"><b>Definition:</b> <a href="FMF_8h_source.html#l00069">FMF.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a1cf553641e8527095ae4c8ec88a2cd92"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a1cf553641e8527095ae4c8ec88a2cd92">llvm::AttributeList::getFnAttrs</a></div><div class="ttdeci">AttributeSet getFnAttrs() const</div><div class="ttdoc">The function attributes are returned.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01462">Attributes.cpp:1462</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a></div><div class="ttdeci">@ C</div><div class="ttdoc">The default llvm calling convention, compatible with C.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00034">CallingConv.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCRelocateInst_html_ae33641b6538b4ab4f3aa3dad2926860f"><div class="ttname"><a href="classllvm_1_1GCRelocateInst.html#ae33641b6538b4ab4f3aa3dad2926860f">llvm::GCRelocateInst::getBasePtrIndex</a></div><div class="ttdeci">unsigned getBasePtrIndex() const</div><div class="ttdoc">The index into the associate statepoint's argument list which contains the base pointer of the pointe...</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01490">IntrinsicInst.h:1490</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a9b5f8c6319b9c6f27b25a0719e82c64d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a9b5f8c6319b9c6f27b25a0719e82c64d">llvm::PatternMatch::m_ZExtOrSExtOrSelf</a></div><div class="ttdeci">match_combine_or&lt; match_combine_or&lt; CastClass_match&lt; OpTy, Instruction::ZExt &gt;, CastClass_match&lt; OpTy, Instruction::SExt &gt; &gt;, OpTy &gt; m_ZExtOrSExtOrSelf(const OpTy &amp;Op)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01657">PatternMatch.h:1657</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad751953714d1b2170a713d98077daff1"><div class="ttname"><a href="namespacellvm.html#ad751953714d1b2170a713d98077daff1">llvm::EnableKnowledgeRetention</a></div><div class="ttdeci">cl::opt&lt; bool &gt; EnableKnowledgeRetention</div><div class="ttdoc">enable preservation of attributes in assume like: call void @llvm.assume(i1 true) [ &quot;nonnull&quot;(i32* PT...</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00094">InstCombineCalls.cpp:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a9dd3b826858e2830f89aa99b46fb166f"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a9dd3b826858e2830f89aa99b46fb166f">llvm::IRBuilderBase::CreateBinaryIntrinsic</a></div><div class="ttdeci">CallInst * CreateBinaryIntrinsic(Intrinsic::ID ID, Value *LHS, Value *RHS, Instruction *FMFSource=nullptr, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdoc">Create a call to intrinsic ID with 2 operands which is mangled on the first type.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8cpp_source.html#l00956">IRBuilder.cpp:956</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_ad5ce0d2ef90aba4d2d0181cff43acc9b"><div class="ttname"><a href="InstCombineCalls_8cpp.html#ad5ce0d2ef90aba4d2d0181cff43acc9b">foldCttzCtlz</a></div><div class="ttdeci">static Instruction * foldCttzCtlz(IntrinsicInst &amp;II, InstCombinerImpl &amp;IC)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00510">InstCombineCalls.cpp:510</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_a06dc25da1f16f389f5244304e8d33127"><div class="ttname"><a href="classllvm_1_1CastInst.html#a06dc25da1f16f389f5244304e8d33127">llvm::CastInst::getCastOpcode</a></div><div class="ttdeci">static Instruction::CastOps getCastOpcode(const Value *Val, bool SrcIsSigned, Type *Ty, bool DstIsSigned)</div><div class="ttdoc">Returns the opcode necessary to cast Val into Ty using usual casting rules.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03636">Instructions.cpp:3636</a></div></div>
<div class="ttc" id="aclassllvm_1_1FenceInst_html"><div class="ttname"><a href="classllvm_1_1FenceInst.html">llvm::FenceInst</a></div><div class="ttdoc">An instruction for ordering other memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00436">Instructions.h:436</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a383175f96316074965ad115706bd49d7"><div class="ttname"><a href="classllvm_1_1Instruction.html#a383175f96316074965ad115706bd49d7">llvm::Instruction::mayWriteToMemory</a></div><div class="ttdeci">bool mayWriteToMemory() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction may modify memory.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00646">Instruction.cpp:646</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a43ac4fbaaf63a88eb5ac05f6d3e5649c"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a43ac4fbaaf63a88eb5ac05f6d3e5649c">llvm::PatternMatch::m_BinOp</a></div><div class="ttdeci">class_match&lt; BinaryOperator &gt; m_BinOp()</div><div class="ttdoc">Match an arbitrary binary operation and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00084">PatternMatch.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAsMetadata_html_a703ab6c3e14ff7565866468d731f537a"><div class="ttname"><a href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">llvm::ConstantAsMetadata::get</a></div><div class="ttdeci">static ConstantAsMetadata * get(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00419">Metadata.h:419</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a8f5533240c6722d987a2443cba42019d"><div class="ttname"><a href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">llvm::ore::NV</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::Argument NV</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00136">OptimizationRemarkEmitter.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_aec6eaa1e49f48c178e0ab9c030b5971e"><div class="ttname"><a href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">llvm::Instruction::copyMetadata</a></div><div class="ttdeci">void copyMetadata(const Instruction &amp;SrcInst, ArrayRef&lt; unsigned &gt; WL=ArrayRef&lt; unsigned &gt;())</div><div class="ttdoc">Copy metadata from SrcInst to this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00882">Instruction.cpp:882</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a104d6154321899b53e40455e71d8e83a"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">llvm::FunctionType::getNumParams</a></div><div class="ttdeci">unsigned getNumParams() const</div><div class="ttdoc">Return the number of fixed parameters this function type requires.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00139">DerivedTypes.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_a277c32f1a2c680c0af45cbf0ff67c409"><div class="ttname"><a href="classllvm_1_1CastInst.html#a277c32f1a2c680c0af45cbf0ff67c409">llvm::CastInst::CreateIntegerCast</a></div><div class="ttdeci">static CastInst * CreateIntegerCast(Value *S, Type *Ty, bool isSigned, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Create a ZExt, BitCast, or Trunc for int -&gt; int casts.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03520">Instructions.cpp:3520</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallBitVector_html_a585f149dd8c344a40c53b1694d3161ed"><div class="ttname"><a href="classllvm_1_1SmallBitVector.html#a585f149dd8c344a40c53b1694d3161ed">llvm::SmallBitVector::test</a></div><div class="ttdeci">bool test(unsigned Idx) const</div><div class="ttdef"><b>Definition:</b> <a href="SmallBitVector_8h_source.html#l00472">SmallBitVector.h:472</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6dec2b5d3e04b47adf4d918d678e81c9"><div class="ttname"><a href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">llvm::isPowerOf2_32</a></div><div class="ttdeci">constexpr bool isPowerOf2_32(uint32_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00292">MathExtras.h:292</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7aad5a0e62a54747f455651ee2dd08ed"><div class="ttname"><a href="namespacellvm.html#a7aad5a0e62a54747f455651ee2dd08ed">llvm::matchSelectPattern</a></div><div class="ttdeci">SelectPatternResult matchSelectPattern(Value *V, Value *&amp;LHS, Value *&amp;RHS, Instruction::CastOps *CastOp=nullptr, unsigned Depth=0)</div><div class="ttdoc">Pattern match integer [SU]MIN, [SU]MAX and ABS idioms, returning the kind and providing the out param...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06536">ValueTracking.cpp:6536</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae9d735be1ececf149966a4da253f0320"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">llvm::PatternMatch::m_c_And</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::And, true &gt; m_c_And(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches an And with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02262">PatternMatch.h:2262</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a19cdbeffd437228c47a4410a4ed34aca"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a19cdbeffd437228c47a4410a4ed34aca">llvm::BinaryOperator::CreateNeg</a></div><div class="ttdeci">NUW NUW NUW NUW Exact static Exact BinaryOperator * CreateNeg(Value *Op, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Helper functions to construct and inspect unary operations (NEG and NOT) via binary operators SUB and...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l02966">Instructions.cpp:2966</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a0b6cef2a78857b0236b1c3a2a6eb857e"><div class="ttname"><a href="classllvm_1_1CallBase.html#a0b6cef2a78857b0236b1c3a2a6eb857e">llvm::CallBase::setDoesNotThrow</a></div><div class="ttdeci">void setDoesNotThrow()</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01909">InstrTypes.h:1909</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_aa10d917445ec01792118762c2098e868"><div class="ttname"><a href="InstCombineCalls_8cpp.html#aa10d917445ec01792118762c2098e868">findInitTrampolineFromBB</a></div><div class="ttdeci">static IntrinsicInst * findInitTrampolineFromBB(IntrinsicInst *AdjustTramp, Value *TrampMem)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l03113">InstCombineCalls.cpp:3113</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67afff82cc4502e0e3bf3575c9622284e18"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67afff82cc4502e0e3bf3575c9622284e18">fcPosNormal</a></div><div class="ttdeci">@ fcPosNormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00208">FloatingPointMode.h:208</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6bf471c1030973649c2e426afc212097"><div class="ttname"><a href="namespacellvm.html#a6bf471c1030973649c2e426afc212097">llvm::SelectPatternFlavor</a></div><div class="ttdeci">SelectPatternFlavor</div><div class="ttdoc">Specific patterns of select instructions we can match.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00690">ValueTracking.h:690</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBrInst_html_a0d302549a85fa2545051c2669154e036"><div class="ttname"><a href="classllvm_1_1CallBrInst.html#a0d302549a85fa2545051c2669154e036">llvm::CallBrInst::Create</a></div><div class="ttdeci">static CallBrInst * Create(FunctionType *Ty, Value *Func, BasicBlock *DefaultDest, ArrayRef&lt; BasicBlock * &gt; IndirectDests, ArrayRef&lt; Value * &gt; Args, const Twine &amp;NameStr, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04063">Instructions.h:4063</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_abceff71202e0269065cf32a2f750a9be"><div class="ttname"><a href="classllvm_1_1Type.html#abceff71202e0269065cf32a2f750a9be">llvm::Type::getNonOpaquePointerElementType</a></div><div class="ttdeci">Type * getNonOpaquePointerElementType() const</div><div class="ttdoc">Only use this method in code that is not reachable with opaque pointers, or part of deprecated method...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00416">Type.h:416</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html_ae3e39244e3fac45ac81d2096353f2b38"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html#ae3e39244e3fac45ac81d2096353f2b38">llvm::InstCombinerImpl::SimplifyAnyMemTransfer</a></div><div class="ttdeci">Instruction * SimplifyAnyMemTransfer(AnyMemTransferInst *MI)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00120">InstCombineCalls.cpp:120</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a9237251072bf6816163abc2d053212ee"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a9237251072bf6816163abc2d053212ee">llvm::BasicBlock::rend</a></div><div class="ttdeci">reverse_iterator rend()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00321">BasicBlock.h:321</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d"><div class="ttname"><a href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">llvm::Data</a></div><div class="ttdeci">@ Data</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00055">SIMachineScheduler.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a94bf3939e0bea91b481096473d0e549f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">llvm::PatternMatch::m_Deferred</a></div><div class="ttdeci">deferredval_ty&lt; Value &gt; m_Deferred(Value *const &amp;V)</div><div class="ttdoc">Like m_Specific(), but works if the specific value to match is determined as part of the same match()...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00790">PatternMatch.h:790</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67ace8cc3cdd99d4ce78ff9f4bf4c681d28"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ace8cc3cdd99d4ce78ff9f4bf4c681d28">fcPosInf</a></div><div class="ttdeci">@ fcPosInf</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00209">FloatingPointMode.h:209</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_aa606171b17bdde9015fa656e226ca9e0"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">llvm::APIntOps::umin</a></div><div class="ttdeci">const APInt &amp; umin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be unsigned.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02185">APInt.h:2185</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_1_1at_html_a3c90899e8f022656e511630de42b916c"><div class="ttname"><a href="namespacellvm_1_1at.html#a3c90899e8f022656e511630de42b916c">llvm::at::getAssignmentMarkers</a></div><div class="ttdeci">AssignmentMarkerRange getAssignmentMarkers(DIAssignID *ID)</div><div class="ttdoc">Return a range of dbg.assign intrinsics which use \ID as an operand.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l01754">DebugInfo.cpp:1754</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_adcc0eb018adede4d62dafa5e60bce4be"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#adcc0eb018adede4d62dafa5e60bce4be">llvm::PatternMatch::m_c_MaxOrMin</a></div><div class="ttdeci">match_combine_or&lt; match_combine_or&lt; MaxMin_match&lt; ICmpInst, LHS, RHS, smax_pred_ty, true &gt;, MaxMin_match&lt; ICmpInst, LHS, RHS, smin_pred_ty, true &gt; &gt;, match_combine_or&lt; MaxMin_match&lt; ICmpInst, LHS, RHS, umax_pred_ty, true &gt;, MaxMin_match&lt; ICmpInst, LHS, RHS, umin_pred_ty, true &gt; &gt; &gt; m_c_MaxOrMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02362">PatternMatch.h:2362</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_aa9d770048c7ab9e08222a50b7bc1be1c"><div class="ttname"><a href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">llvm::FunctionType::isVarArg</a></div><div class="ttdeci">bool isVarArg() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00123">DerivedTypes.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9247a212ea89acc9573fa7e7f557eaba"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">llvm::Instruction::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set the metadata of the specified kind to the specified node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01455">Metadata.cpp:1455</a></div></div>
<div class="ttc" id="aKnownBits_8h_html"><div class="ttname"><a href="KnownBits_8h.html">KnownBits.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a1eeff70353694cb360b2893553c18e7d"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">llvm::KnownBits::countMinTrailingZeros</a></div><div class="ttdeci">unsigned countMinTrailingZeros() const</div><div class="ttdoc">Returns the minimum number of trailing zero bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00233">KnownBits.h:233</a></div></div>
<div class="ttc" id="aREADME-FPStack_8txt_html_ac25bbfa16d28ab1f83da03668addad0a"><div class="ttname"><a href="README-FPStack_8txt.html#ac25bbfa16d28ab1f83da03668addad0a">floor</a></div><div class="ttdeci">We have fiadd patterns now but the followings have the same cost and complexity We need a way to specify the later is more profitable def def The FP stackifier should handle simple permutates to reduce number of shuffle e g floor</div><div class="ttdef"><b>Definition:</b> <a href="README-FPStack_8txt_source.html#l00054">README-FPStack.txt:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCRelocateInst_html_af4362abf4fd66b2cfbd6d1b0590dbbdf"><div class="ttname"><a href="classllvm_1_1GCRelocateInst.html#af4362abf4fd66b2cfbd6d1b0590dbbdf">llvm::GCRelocateInst::getDerivedPtrIndex</a></div><div class="ttdeci">unsigned getDerivedPtrIndex() const</div><div class="ttdoc">The index into the associate statepoint's argument list which contains the pointer whose relocation t...</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01496">IntrinsicInst.h:1496</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4e09435caee07f636a47006fa08b9ec4"><div class="ttname"><a href="namespacellvm.html#a4e09435caee07f636a47006fa08b9ec4">llvm::UndefMaskElem</a></div><div class="ttdeci">constexpr int UndefMaskElem</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02005">Instructions.h:2005</a></div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aca6428e7fec51ba0b55594f469eb9691"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aca6428e7fec51ba0b55594f469eb9691">llvm::PatternMatch::m_OneUse</a></div><div class="ttdeci">OneUse_match&lt; T &gt; m_OneUse(const T &amp;SubPattern)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00067">PatternMatch.h:67</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_aaefc636ca54e8e3fe9a9431e5d206979"><div class="ttname"><a href="InstCombineCalls_8cpp.html#aaefc636ca54e8e3fe9a9431e5d206979">factorizeMinMaxTree</a></div><div class="ttdeci">static Instruction * factorizeMinMaxTree(IntrinsicInst *II)</div><div class="ttdoc">Reduce a sequence of min/max intrinsics with a common operand.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l01137">InstCombineCalls.cpp:1137</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a50692bcfd265e6f9efb0582dbdf6d382"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a50692bcfd265e6f9efb0582dbdf6d382">fcNegZero</a></div><div class="ttdeci">@ fcNegZero</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00205">FloatingPointMode.h:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a554ab77949b0a16670a83ec3307501eb"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">llvm::ConstantExpr::getSub</a></div><div class="ttdeci">static Constant * getSub(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02664">Constants.cpp:2664</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html_a8a9b236a3c941e893f6eaa6ca6e4a36f"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html#a8a9b236a3c941e893f6eaa6ca6e4a36f">llvm::InstCombinerImpl::eraseInstFromFunction</a></div><div class="ttdeci">Instruction * eraseInstFromFunction(Instruction &amp;I) override</div><div class="ttdoc">Combiner aware instruction erasure.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineInternal_8h_source.html#l00408">InstCombineInternal.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCStatepointInst_html"><div class="ttname"><a href="classllvm_1_1GCStatepointInst.html">llvm::GCStatepointInst</a></div><div class="ttdoc">Represents a gc.statepoint intrinsic call.</div><div class="ttdef"><b>Definition:</b> <a href="Statepoint_8h_source.html#l00061">Statepoint.h:61</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f04318888b610cbdd037adc9b1b17e3"><div class="ttname"><a href="namespacellvm.html#a7f04318888b610cbdd037adc9b1b17e3">llvm::isAtLeastOrStrongerThan</a></div><div class="ttdeci">bool isAtLeastOrStrongerThan(AtomicOrdering AO, AtomicOrdering Other)</div><div class="ttdef"><b>Definition:</b> <a href="AtomicOrdering_8h_source.html#l00105">AtomicOrdering.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallBitVector_html"><div class="ttname"><a href="classllvm_1_1SmallBitVector.html">llvm::SmallBitVector</a></div><div class="ttdoc">This is a 'bitvector' (really, a variable-sized bit array), optimized for the case when the array is ...</div><div class="ttdef"><b>Definition:</b> <a href="SmallBitVector_8h_source.html#l00035">SmallBitVector.h:35</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a53d4e14158c5056fd1ed8f7b3da82f8a"><div class="ttname"><a href="classllvm_1_1User.html#a53d4e14158c5056fd1ed8f7b3da82f8a">llvm::User::getOperandUse</a></div><div class="ttdeci">const Use &amp; getOperandUse(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00182">User.h:182</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aac9e78b3aa02ec087c4621358f506718"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">llvm::PatternMatch::m_APInt</a></div><div class="ttdeci">apint_match m_APInt(const APInt *&amp;Res)</div><div class="ttdoc">Match a ConstantInt or splatted ConstantVector, binding the specified pointer to the contained APInt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00278">PatternMatch.h:278</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6bf471c1030973649c2e426afc212097a08658871fecea100ad724bd8b1c3ae56"><div class="ttname"><a href="namespacellvm.html#a6bf471c1030973649c2e426afc212097a08658871fecea100ad724bd8b1c3ae56">llvm::SPF_NABS</a></div><div class="ttdeci">@ SPF_NABS</div><div class="ttdoc">Absolute value.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00699">ValueTracking.h:699</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae5a9f5c71425f38b8874296c380567ad"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">llvm::PatternMatch::m_UMax</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, umax_pred_ty &gt; m_UMax(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01865">PatternMatch.h:1865</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a157efd68e8b4b838829cad165b1583f8"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">llvm::KnownBits::isNonNegative</a></div><div class="ttdeci">bool isNonNegative() const</div><div class="ttdoc">Returns true if this value is known to be non-negative.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00099">KnownBits.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombiner_html_abc13043585e5845ce7fc26b858851ec9"><div class="ttname"><a href="classllvm_1_1InstCombiner.html#abc13043585e5845ce7fc26b858851ec9">llvm::InstCombiner::replaceOperand</a></div><div class="ttdeci">Instruction * replaceOperand(Instruction &amp;I, unsigned OpNum, Value *V)</div><div class="ttdoc">Replace operand of instruction and add old operand to the worklist.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombiner_8h_source.html#l00442">InstCombiner.h:442</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab3b23d3c8c5c910df534a80ce9772495"><div class="ttname"><a href="namespacellvm.html#ab3b23d3c8c5c910df534a80ce9772495">llvm::MinAlign</a></div><div class="ttdeci">constexpr uint64_t MinAlign(uint64_t A, uint64_t B)</div><div class="ttdoc">A and B are either alignments or offsets.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00439">MathExtras.h:439</a></div></div>
<div class="ttc" id="aclassllvm_1_1FenceInst_html_a4a6a0ed88a85b313ed83fc3cce7b9b42"><div class="ttname"><a href="classllvm_1_1FenceInst.html#a4a6a0ed88a85b313ed83fc3cce7b9b42">llvm::FenceInst::getSyncScopeID</a></div><div class="ttdeci">SyncScope::ID getSyncScopeID() const</div><div class="ttdoc">Returns the synchronization scope ID of this fence instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00472">Instructions.h:472</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ac8c0157adbe12649beac0009c2f6ad8d"><div class="ttname"><a href="classllvm_1_1APInt.html#ac8c0157adbe12649beac0009c2f6ad8d">llvm::APInt::isNonNegative</a></div><div class="ttdeci">bool isNonNegative() const</div><div class="ttdoc">Determine if this APInt Value is non-negative (&gt;= 0)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00317">APInt.h:317</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a1337cc82304bed6c1a811f1a7f308aca">llvm::X86AS::SS</a></div><div class="ttdeci">@ SS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00202">X86.h:202</a></div></div>
<div class="ttc" id="aDebug_8h_html_a0e760853102aabaceef5ef82347c593c"><div class="ttname"><a href="Debug_8h.html#a0e760853102aabaceef5ef82347c593c">DEBUG_WITH_TYPE</a></div><div class="ttdeci">#define DEBUG_WITH_TYPE(TYPE, X)</div><div class="ttdoc">DEBUG_WITH_TYPE macro - This macro should be used by passes to emit debug information.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00064">Debug.h:64</a></div></div>
<div class="ttc" id="anamespacellvm_html_af1d57d70f59588a35ebfe3c4f50fecd2"><div class="ttname"><a href="namespacellvm.html#af1d57d70f59588a35ebfe3c4f50fecd2">llvm::isValidAssumeForContext</a></div><div class="ttdeci">bool isValidAssumeForContext(const Instruction *I, const Instruction *CxtI, const DominatorTree *DT=nullptr)</div><div class="ttdoc">Return true if it is valid to use the assumptions provided by an assume intrinsic,...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00534">ValueTracking.cpp:534</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6339f2ad6701dc229c34ca4305596d3a"><div class="ttname"><a href="namespacellvm.html#a6339f2ad6701dc229c34ca4305596d3a">llvm::isSplatValue</a></div><div class="ttdeci">bool isSplatValue(const Value *V, int Index=-1, unsigned Depth=0)</div><div class="ttdoc">Return true if each element of the vector value V is poisoned or equal to every other non-poisoned el...</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l00386">VectorUtils.cpp:386</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a></div><div class="ttdeci">@ fcAllFlags</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00219">FloatingPointMode.h:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectInst_html_aa55fb74dd22008fdcc26a63f44576022"><div class="ttname"><a href="classllvm_1_1SelectInst.html#aa55fb74dd22008fdcc26a63f44576022">llvm::SelectInst::Create</a></div><div class="ttdeci">static SelectInst * Create(Value *C, Value *S1, Value *S2, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr, Instruction *MDFrom=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01777">Instructions.h:1777</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_acb52eaa15512b845d33e0ec03648af5c"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#acb52eaa15512b845d33e0ec03648af5c">llvm::PatternMatch::m_CopySign</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0, Opnd1 &gt;::Ty m_CopySign(const Opnd0 &amp;Op0, const Opnd1 &amp;Op1)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02210">PatternMatch.h:2210</a></div></div>
<div class="ttc" id="aInstCombineInternal_8h_html"><div class="ttname"><a href="InstCombineInternal_8h.html">InstCombineInternal.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a32e606ac4c88f71f14212e42b808e7f4"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a32e606ac4c88f71f14212e42b808e7f4">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const</div><div class="ttdoc">Return true if the primary definition of this global value is outside of the current translation unit...</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00275">Globals.cpp:275</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_addb87fe3f509b7803d3f5933ee24b560"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">llvm::PatternMatch::m_Select</a></div><div class="ttdeci">ThreeOps_match&lt; Cond, LHS, RHS, Instruction::Select &gt; m_Select(const Cond &amp;C, const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches SelectInst.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01462">PatternMatch.h:1462</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38dcdde63d81fbda1d22dffd1a27b343"><div class="ttname"><a href="namespacellvm.html#a38dcdde63d81fbda1d22dffd1a27b343">llvm::maximum</a></div><div class="ttdeci">LLVM_READONLY APFloat maximum(const APFloat &amp;A, const APFloat &amp;B)</div><div class="ttdoc">Implements IEEE 754-2018 maximum semantics.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01381">APFloat.h:1381</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00049">PatternMatch.h:49</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aeabb6bae24f546580e022835285da5ab"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aeabb6bae24f546580e022835285da5ab">llvm::PatternMatch::m_FShl</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0, Opnd1, Opnd2 &gt;::Ty m_FShl(const Opnd0 &amp;Op0, const Opnd1 &amp;Op1, const Opnd2 &amp;Op2)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02194">PatternMatch.h:2194</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a49cd5939942c6665aba4cae8c220dff1"><div class="ttname"><a href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">llvm::APInt::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdoc">Determine if this value is zero, i.e. all bits are clear.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00366">APInt.h:366</a></div></div>
<div class="ttc" id="anamespacellvm_html_a06c60fef11885eadbda4026c83ae9a13ad4d9862eafa015a05101d9f662bb153a"><div class="ttname"><a href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13ad4d9862eafa015a05101d9f662bb153a">llvm::OverflowResult::MayOverflow</a></div><div class="ttdeci">@ MayOverflow</div><div class="ttdoc">May or may not overflow.</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_adbc4e5b23d7154e30b03717a470e8178"><div class="ttname"><a href="namespacellvm.html#adbc4e5b23d7154e30b03717a470e8178">llvm::isImpliedByDomCondition</a></div><div class="ttdeci">std::optional&lt; bool &gt; isImpliedByDomCondition(const Value *Cond, const Instruction *ContextI, const DataLayout &amp;DL)</div><div class="ttdoc">Return the boolean condition value in the context of the given instruction if it is known based on do...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l07044">ValueTracking.cpp:7044</a></div></div>
<div class="ttc" id="anamespacellvm_html_a964455f36837281d37f2a44e2fcb4cca"><div class="ttname"><a href="namespacellvm.html#a964455f36837281d37f2a44e2fcb4cca">llvm::ConstantFoldBinaryOpOperands</a></div><div class="ttdeci">Constant * ConstantFoldBinaryOpOperands(unsigned Opcode, Constant *LHS, Constant *RHS, const DataLayout &amp;DL)</div><div class="ttdoc">Attempt to constant fold a binary operation with the specified operands.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01335">ConstantFolding.cpp:1335</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aAMDGPUBaseInfo_8cpp_html_ad18f9973176b870e59d30b81d8a1091e"><div class="ttname"><a href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a></div><div class="ttdeci">unsigned Intr</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02664">AMDGPUBaseInfo.cpp:2664</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a91de4bc9bca1d204b0c4b93d11a83c31"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a91de4bc9bca1d204b0c4b93d11a83c31">llvm::PatternMatch::m_UnOp</a></div><div class="ttdeci">class_match&lt; UnaryOperator &gt; m_UnOp()</div><div class="ttdoc">Match an arbitrary unary operation and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00079">PatternMatch.h:79</a></div></div>
<div class="ttc" id="anamespacellvm_html_a607b7fac55adc5ea9ed40a78e48a5b00"><div class="ttname"><a href="namespacellvm.html#a607b7fac55adc5ea9ed40a78e48a5b00">llvm::getKnownAlignment</a></div><div class="ttdeci">Align getKnownAlignment(Value *V, const DataLayout &amp;DL, const Instruction *CxtI=nullptr, AssumptionCache *AC=nullptr, const DominatorTree *DT=nullptr)</div><div class="ttdoc">Try to infer an alignment for the specified pointer.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8h_source.html#l00222">Local.h:222</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_aeae69a459419ec0bb738cdc73f4fc2a1"><div class="ttname"><a href="classllvm_1_1FunctionType.html#aeae69a459419ec0bb738cdc73f4fc2a1">llvm::FunctionType::param_end</a></div><div class="ttdeci">param_iterator param_end() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00129">DerivedTypes.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeSet_html_a51fc96070af1597981c3000171e1a5ab"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#a51fc96070af1597981c3000171e1a5ab">llvm::AttributeSet::hasAttribute</a></div><div class="ttdeci">bool hasAttribute(Attribute::AttrKind Kind) const</div><div class="ttdoc">Return true if the attribute exists in this set.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00760">Attributes.cpp:760</a></div></div>
<div class="ttc" id="axxhash_8cpp_html_ae4e947c75dafebd71b8de03cd0dbf5d6"><div class="ttname"><a href="xxhash_8cpp.html#ae4e947c75dafebd71b8de03cd0dbf5d6">round</a></div><div class="ttdeci">static uint64_t round(uint64_t Acc, uint64_t Input)</div><div class="ttdef"><b>Definition:</b> <a href="xxhash_8cpp_source.html#l00056">xxhash.cpp:56</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a9da3b29e8e71b9be4645874e1721207a"><div class="ttname"><a href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">llvm::CallBase::setAttributes</a></div><div class="ttdeci">void setAttributes(AttributeList A)</div><div class="ttdoc">Set the parameter attributes for this call.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01488">InstrTypes.h:1488</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a82e9f72e7fce50d8b659ff72631c3793"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a82e9f72e7fce50d8b659ff72631c3793">llvm::BinaryOperator::CreateNSW</a></div><div class="ttdeci">static BinaryOperator * CreateNSW(BinaryOps Opc, Value *V1, Value *V2, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00282">InstrTypes.h:282</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdoc">Instruction iterator methods.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00314">BasicBlock.h:314</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aba205f553f24c184ea47fc1a6cb56537"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">llvm::KnownBits::One</a></div><div class="ttdeci">APInt One</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00025">KnownBits.h:25</a></div></div>
<div class="ttc" id="aOcamlGCPrinter_8cpp_html_afcf2f797ed287a723263583c9b1c1bce"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a7a371c4faf8e41f7cac98ad694f504dc"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a7a371c4faf8e41f7cac98ad694f504dc">llvm::PatternMatch::m_PosZeroFP</a></div><div class="ttdeci">cstfp_pred_ty&lt; is_pos_zero_fp &gt; m_PosZeroFP()</div><div class="ttdoc">Match a floating-point positive zero.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00673">PatternMatch.h:673</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86_html_a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b"><div class="ttname"><a href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8aeec8d71daba88ee810b0d97fe8aa3c7b">llvm::X86::FirstMacroFusionInstKind::AddSub</a></div><div class="ttdeci">@ AddSub</div></div>
<div class="ttc" id="anamespacellvm_1_1SyncScope_html_a4f8fa2bf4e0acbf29065f51c8c3cad47a6ee3fb8ea1d8946ee1f96ab1947b294a"><div class="ttname"><a href="namespacellvm_1_1SyncScope.html#a4f8fa2bf4e0acbf29065f51c8c3cad47a6ee3fb8ea1d8946ee1f96ab1947b294a">llvm::SyncScope::SingleThread</a></div><div class="ttdeci">@ SingleThread</div><div class="ttdoc">Synchronized with respect to signal handlers executing in the same thread.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00054">LLVMContext.h:54</a></div></div>
<div class="ttc" id="aInstructionWorklist_8h_html"><div class="ttname"><a href="InstructionWorklist_8h.html">InstructionWorklist.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_ac363814e84ac1a3aa74798ff4d358a53"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ac363814e84ac1a3aa74798ff4d358a53">llvm::LoadInst::setVolatile</a></div><div class="ttdeci">void setVolatile(bool V)</div><div class="ttdoc">Specify whether this is a volatile load or not.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00217">Instructions.h:217</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_a850d8262cd900958b3153c4aa080b2bb"><div class="ttname"><a href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">llvm::CallInst::Create</a></div><div class="ttdeci">static CallInst * Create(FunctionType *Ty, Value *F, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01528">Instructions.h:1528</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aAssumeBundleQueries_8h_html"><div class="ttname"><a href="AssumeBundleQueries_8h.html">AssumeBundleQueries.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_addaa86bfa4ca26b7f366cbdd868f99bf"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#addaa86bfa4ca26b7f366cbdd868f99bf">llvm::details::FixedOrScalableQuantity&lt; ElementCount, unsigned &gt;::isKnownGT</a></div><div class="ttdeci">static constexpr bool isKnownGT(const FixedOrScalableQuantity &amp;LHS, const FixedOrScalableQuantity &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00205">TypeSize.h:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombiner_html_a46e6cc426055f50cdb04009adb4c2f94"><div class="ttname"><a href="classllvm_1_1InstCombiner.html#a46e6cc426055f50cdb04009adb4c2f94">llvm::InstCombiner::isKnownToBeAPowerOfTwo</a></div><div class="ttdeci">bool isKnownToBeAPowerOfTwo(const Value *V, bool OrZero=false, unsigned Depth=0, const Instruction *CxtI=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombiner_8h_source.html#l00471">InstCombiner.h:471</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a071e8d814b2b30b02544fad964227b8e"><div class="ttname"><a href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">llvm::APInt::getAllOnes</a></div><div class="ttdeci">static APInt getAllOnes(unsigned numBits)</div><div class="ttdoc">Return an APInt of a specified width with all bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00214">APInt.h:214</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00486">AMDGPUMetadata.h:486</a></div></div>
<div class="ttc" id="astructllvm_1_1BitTracker_html"><div class="ttname"><a href="structllvm_1_1BitTracker.html">llvm::BitTracker</a></div><div class="ttdef"><b>Definition:</b> <a href="BitTracker_8h_source.html#l00035">BitTracker.h:35</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a04353aa48874f9bda89ff9059cd1a5a6"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a04353aa48874f9bda89ff9059cd1a5a6">llvm::PatternMatch::m_Instruction</a></div><div class="ttdeci">bind_ty&lt; Instruction &gt; m_Instruction(Instruction *&amp;I)</div><div class="ttdoc">Match an instruction, capturing it if we match.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00716">PatternMatch.h:716</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8h_html"><div class="ttname"><a href="AssumeBundleBuilder_8h.html">AssumeBundleBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html_a59632c5deb0423a518ad984bdd04d41f"><div class="ttname"><a href="classllvm_1_1VectorType.html#a59632c5deb0423a518ad984bdd04d41f">llvm::VectorType::getElementCount</a></div><div class="ttdeci">ElementCount getElementCount() const</div><div class="ttdoc">Return an ElementCount instance to represent the (possibly scalable) number of elements in the vector...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00627">DerivedTypes.h:627</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="astructllvm_1_1MaybeAlign_html"><div class="ttname"><a href="structllvm_1_1MaybeAlign.html">llvm::MaybeAlign</a></div><div class="ttdoc">This struct is a compact representation of a valid (power of two) or undefined (0) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00117">Alignment.h:117</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad9be86c95736bfa4bb0dc52322a0002a"><div class="ttname"><a href="namespacellvm.html#ad9be86c95736bfa4bb0dc52322a0002a">llvm::alignDown</a></div><div class="ttdeci">uint64_t alignDown(uint64_t Value, uint64_t Align, uint64_t Skew=0)</div><div class="ttdoc">Returns the largest uint64_t less than or equal to Value and is Skew mod Align.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00533">MathExtras.h:533</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2cbdca7c8267aac6914d674f8e81841b"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">llvm::PatternMatch::m_ZExt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::ZExt &gt; m_ZExt(const OpTy &amp;Op)</div><div class="ttdoc">Matches ZExt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01629">PatternMatch.h:1629</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1SmallBitVector_html_a8cfcd92a373cdd7deefb939dd76b83e3"><div class="ttname"><a href="classllvm_1_1SmallBitVector.html#a8cfcd92a373cdd7deefb939dd76b83e3">llvm::SmallBitVector::all</a></div><div class="ttdeci">bool all() const</div><div class="ttdoc">Returns true if all bits are set.</div><div class="ttdef"><b>Definition:</b> <a href="SmallBitVector_8h_source.html#l00216">SmallBitVector.h:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Class to represent integer types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00040">DerivedTypes.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_afa0b2fa29ba074f2b6ec9ac11163f2d9"><div class="ttname"><a href="classllvm_1_1Instruction.html#afa0b2fa29ba074f2b6ec9ac11163f2d9">llvm::Instruction::CastOps</a></div><div class="ttdeci">CastOps</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00823">Instruction.h:823</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a74a8221adbd09a9076a1ab471644b223"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a74a8221adbd09a9076a1ab471644b223">llvm::PatternMatch::m_MaxOrMin</a></div><div class="ttdeci">match_combine_or&lt; match_combine_or&lt; MaxMin_match&lt; ICmpInst, LHS, RHS, smax_pred_ty &gt;, MaxMin_match&lt; ICmpInst, LHS, RHS, smin_pred_ty &gt; &gt;, match_combine_or&lt; MaxMin_match&lt; ICmpInst, LHS, RHS, umax_pred_ty &gt;, MaxMin_match&lt; ICmpInst, LHS, RHS, umin_pred_ty &gt; &gt; &gt; m_MaxOrMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01882">PatternMatch.h:1882</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_af431ec215bba8bb9c56e7541d99920f2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">llvm::PatternMatch::m_FNeg</a></div><div class="ttdeci">FNeg_match&lt; OpTy &gt; m_FNeg(const OpTy &amp;X)</div><div class="ttdoc">Match 'fneg X' as 'fsub -0.0, X'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01033">PatternMatch.h:1033</a></div></div>
<div class="ttc" id="aclassllvm_1_1SaturatingInst_html"><div class="ttname"><a href="classllvm_1_1SaturatingInst.html">llvm::SaturatingInst</a></div><div class="ttdoc">Represents a saturating add/sub intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00791">IntrinsicInst.h:791</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_a4d51384de6e1798bb6aa875aebeea9f0"><div class="ttname"><a href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">llvm::Constant::getAllOnesValue</a></div><div class="ttdeci">static Constant * getAllOnesValue(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00403">Constants.cpp:403</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba14e7dd71a82eb3c2500ac2687efef82b">llvm::pdb::PDB_SymType::Caller</a></div><div class="ttdeci">@ Caller</div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a677ac8d99ff3c2d32a95c21de9ed372c"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">llvm::PatternMatch::m_ConstantInt</a></div><div class="ttdeci">class_match&lt; ConstantInt &gt; m_ConstantInt()</div><div class="ttdoc">Match an arbitrary ConstantInt and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00147">PatternMatch.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a05d5616e1422394b4d350c008b0cc5e0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a05d5616e1422394b4d350c008b0cc5e0">llvm::FunctionType::param_begin</a></div><div class="ttdeci">param_iterator param_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00128">DerivedTypes.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a9f382207d841377156d4c7868b66b9a5"><div class="ttname"><a href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits() const LLVM_READONLY</div><div class="ttdoc">If this is a vector type, return the getPrimitiveSizeInBits value for the element type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00188">Type.cpp:188</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_adc571425e9aecccf7ebf5fcc3c678d94"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">llvm::PatternMatch::m_UMin</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, umin_pred_ty &gt; m_UMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01871">PatternMatch.h:1871</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a7af604b3a6b3a44113d4c54c5c04d031"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">llvm::PatternMatch::m_c_Or</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Or, true &gt; m_c_Or(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches an Or with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02269">PatternMatch.h:2269</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aAPFloat_8h_html"><div class="ttname"><a href="APFloat_8h.html">APFloat.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1UnaryOperator_html_a19fab8f3b21b19f94e68830579d84982"><div class="ttname"><a href="classllvm_1_1UnaryOperator.html#a19fab8f3b21b19f94e68830579d84982">llvm::UnaryOperator::CreateWithCopiedFlags</a></div><div class="ttdeci">static UnaryOperator * CreateWithCopiedFlags(UnaryOps Opc, Value *V, Instruction *CopyO, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00155">InstrTypes.h:155</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_aa8c11d016a2dd473a4cf0ed1da777f5ea67f23a49a4828b272554feea07834f7d"><div class="ttname"><a href="namespacellvm_1_1codeview.html#aa8c11d016a2dd473a4cf0ed1da777f5ea67f23a49a4828b272554feea07834f7d">llvm::codeview::EncodedFramePtrReg::BasePtr</a></div><div class="ttdeci">@ BasePtr</div></div>
<div class="ttc" id="aclassllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'undef' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01740">Constants.cpp:1740</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a09fff26473ca9a3d9d1ff51633e048c1"><div class="ttname"><a href="classllvm_1_1CallBase.html#a09fff26473ca9a3d9d1ff51633e048c1">llvm::CallBase::bundle_op_info_begin</a></div><div class="ttdeci">bundle_op_iterator bundle_op_info_begin()</div><div class="ttdoc">Return the start of the list of BundleOpInfo instances associated with this OperandBundleUser.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l02197">InstrTypes.h:2197</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html">llvm::InstCombinerImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="InstCombineInternal_8h_source.html#l00061">InstCombineInternal.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ace8c2df4c506b92296cad275b4211022"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ace8c2df4c506b92296cad275b4211022">llvm::PatternMatch::m_NSWSub</a></div><div class="ttdeci">OverflowingBinaryOp_match&lt; LHS, RHS, Instruction::Sub, OverflowingBinaryOperator::NoSignedWrap &gt; m_NSWSub(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01164">PatternMatch.h:1164</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">llvm::AArch64PACKey::IA</a></div><div class="ttdeci">@ IA</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00791">AArch64BaseInfo.h:791</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionCallee_html_a9d67a499a48bda24fa4e87138341f613"><div class="ttname"><a href="classllvm_1_1FunctionCallee.html#a9d67a499a48bda24fa4e87138341f613">llvm::FunctionCallee::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType()</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00182">DerivedTypes.h:182</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9e6861fa4cb7fe1437d3057b8b3d1601"><div class="ttname"><a href="namespacellvm.html#a9e6861fa4cb7fe1437d3057b8b3d1601">llvm::simplifyFMAFMul</a></div><div class="ttdeci">Value * simplifyFMAFMul(Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for the multiplication of a FMA, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05600">InstructionSimplify.cpp:5600</a></div></div>
<div class="ttc" id="aSTLFunctionalExtras_8h_html"><div class="ttname"><a href="STLFunctionalExtras_8h.html">STLFunctionalExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ad848bd0184fc7bcb7b71e19248f08f34"><div class="ttname"><a href="classllvm_1_1Instruction.html#ad848bd0184fc7bcb7b71e19248f08f34">llvm::Instruction::isIdenticalTo</a></div><div class="ttdeci">bool isIdenticalTo(const Instruction *I) const LLVM_READONLY</div><div class="ttdoc">Return true if the specified instruction is exactly identical to the current one.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00552">Instruction.cpp:552</a></div></div>
<div class="ttc" id="aclassllvm_1_1APSInt_html_a0a441f49b4e67f435392c937e056d2d4"><div class="ttname"><a href="classllvm_1_1APSInt.html#a0a441f49b4e67f435392c937e056d2d4">llvm::APSInt::getMinValue</a></div><div class="ttdeci">static APSInt getMinValue(uint32_t numBits, bool Unsigned)</div><div class="ttdoc">Return the APSInt representing the minimum integer value with the given bit width and signedness.</div><div class="ttdef"><b>Definition:</b> <a href="APSInt_8h_source.html#l00311">APSInt.h:311</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5b33634e0aa97435f13845ce7e10411e"><div class="ttname"><a href="namespacellvm.html#a5b33634e0aa97435f13845ce7e10411e">llvm::getKnowledgeFromBundle</a></div><div class="ttdeci">RetainedKnowledge getKnowledgeFromBundle(AssumeInst &amp;Assume, const CallBase::BundleOpInfo &amp;BOI)</div><div class="ttdoc">This extracts the Knowledge from an element of an operand bundle.</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleQueries_8cpp_source.html#l00099">AssumeBundleQueries.cpp:99</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aabc0af41b4437080b27002ed7a1ed656"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">llvm::KnownBits::isNegative</a></div><div class="ttdeci">bool isNegative() const</div><div class="ttdoc">Returns true if this value is known to be negative.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00096">KnownBits.h:96</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_aa8ac134b1e5c06143cfd5cd57914bfbe"><div class="ttname"><a href="InstCombineCalls_8cpp.html#aa8ac134b1e5c06143cfd5cd57914bfbe">canonicalizeConstantArg0ToArg1</a></div><div class="ttdeci">static CallInst * canonicalizeConstantArg0ToArg1(CallInst &amp;Call)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00801">InstCombineCalls.cpp:801</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="aPatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67aef5dadf4b31ffe9ff41bc8b25bd012de"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67aef5dadf4b31ffe9ff41bc8b25bd012de">fcNegSubnormal</a></div><div class="ttdeci">@ fcNegSubnormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00204">FloatingPointMode.h:204</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a0f8629c0ff1db9c384e378b2ca860f0a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a0f8629c0ff1db9c384e378b2ca860f0a">llvm::PatternMatch::m_APIntAllowUndef</a></div><div class="ttdeci">apint_match m_APIntAllowUndef(const APInt *&amp;Res)</div><div class="ttdoc">Match APInt while allowing undefs in splat vector constants.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00284">PatternMatch.h:284</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a92c4ce3a0a429509bc46cc3875a48c24"><div class="ttname"><a href="classllvm_1_1PointerType.html#a92c4ce3a0a429509bc46cc3875a48c24">llvm::PointerType::isOpaque</a></div><div class="ttdeci">bool isOpaque() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00673">DerivedTypes.h:673</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a3ff92cec76009e859cb0c419d6e8ba5f"><div class="ttname"><a href="classllvm_1_1CallBase.html#a3ff92cec76009e859cb0c419d6e8ba5f">llvm::CallBase::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01465">InstrTypes.h:1465</a></div></div>
<div class="ttc" id="aStatepoint_8h_html"><div class="ttname"><a href="Statepoint_8h.html">Statepoint.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a13e877ef779ba7a0688081079f4f9b03"><div class="ttname"><a href="classllvm_1_1Type.html#a13e877ef779ba7a0688081079f4f9b03">llvm::Type::getIntegerBitWidth</a></div><div class="ttdeci">unsigned getIntegerBitWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00097">DerivedTypes.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_af3a6727ecc3f601729c11f37a19f93f8"><div class="ttname"><a href="classllvm_1_1AttributeList.html#af3a6727ecc3f601729c11f37a19f93f8">llvm::AttributeList::addParamAttribute</a></div><div class="ttdeci">AttributeList addParamAttribute(LLVMContext &amp;C, unsigned ArgNo, Attribute::AttrKind Kind) const</div><div class="ttdoc">Add an argument attribute to the list.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00570">Attributes.h:570</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00344">Value.h:344</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae81c68608606dfb25edd3103a78d138a"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae81c68608606dfb25edd3103a78d138a">llvm::IRBuilderBase::CreateAddrSpaceCast</a></div><div class="ttdeci">Value * CreateAddrSpaceCast(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02013">IRBuilder.h:2013</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1AnyMemTransferInst_html"><div class="ttname"><a href="classllvm_1_1AnyMemTransferInst.html">llvm::AnyMemTransferInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01227">IntrinsicInst.h:1227</a></div></div>
<div class="ttc" id="anamespacellvm_html_a058782b98991f0719657d9008d3df41b"><div class="ttname"><a href="namespacellvm.html#a058782b98991f0719657d9008d3df41b">llvm::Log2_32_Ceil</a></div><div class="ttdeci">unsigned Log2_32_Ceil(uint32_t Value)</div><div class="ttdoc">Return the ceil log base 2 of the specified value, 32 if the value is zero.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00395">MathExtras.h:395</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_a6748b5b5362565f14f0811b3bbcb04cd"><div class="ttname"><a href="classllvm_1_1CastInst.html#a6748b5b5362565f14f0811b3bbcb04cd">llvm::CastInst::isLosslessCast</a></div><div class="ttdeci">bool isLosslessCast() const</div><div class="ttdoc">A lossless cast is one that does not alter the basic value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03062">Instructions.cpp:3062</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aebdb2700a77d10ae6f0ce115e23d9f77"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">llvm::PatternMatch::m_One</a></div><div class="ttdeci">cst_pred_ty&lt; is_one &gt; m_One()</div><div class="ttdoc">Match an integer 1 or a vector with all elements equal to 1.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00517">PatternMatch.h:517</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae22f493ba8327ce92e87d3b96bce7017"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">llvm::Instruction::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(unsigned KindID) const</div><div class="ttdoc">Get the metadata of given kind attached to this Instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00275">Instruction.h:275</a></div></div>
<div class="ttc" id="anamespacellvm_html_a06c60fef11885eadbda4026c83ae9a13"><div class="ttname"><a href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13">llvm::OverflowResult</a></div><div class="ttdeci">OverflowResult</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00500">ValueTracking.h:500</a></div></div>
<div class="ttc" id="anamespacellvm_html_a636de400e4dd2bc090b729329a99e75b"><div class="ttname"><a href="namespacellvm.html#a636de400e4dd2bc090b729329a99e75b">llvm::maxnum</a></div><div class="ttdeci">LLVM_READONLY APFloat maxnum(const APFloat &amp;A, const APFloat &amp;B)</div><div class="ttdoc">Implements IEEE maxNum semantics.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01357">APFloat.h:1357</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a4f0683bf369ef8c073a17af2a35b8d89"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a4f0683bf369ef8c073a17af2a35b8d89">findInitTrampolineFromAlloca</a></div><div class="ttdeci">static IntrinsicInst * findInitTrampolineFromAlloca(Value *TrampMem)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l03074">InstCombineCalls.cpp:3074</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a89799f0ad9238a735db981f7d89d2b64"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a89799f0ad9238a735db981f7d89d2b64">reassociateMinMaxWithConstantInOperand</a></div><div class="ttdeci">static Instruction * reassociateMinMaxWithConstantInOperand(IntrinsicInst *II, InstCombiner::BuilderTy &amp;Builder)</div><div class="ttdoc">If this min/max has a matching min/max operand with a constant, try to push the constant operand into...</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l01109">InstCombineCalls.cpp:1109</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9cb77a3069c227792d6bade6faff422"><div class="ttname"><a href="namespacellvm.html#ab9cb77a3069c227792d6bade6faff422">llvm::getFreedOperand</a></div><div class="ttdeci">Value * getFreedOperand(const CallBase *CB, const TargetLibraryInfo *TLI)</div><div class="ttdoc">If this if a call to a free function, return the freed operand.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00546">MemoryBuiltins.cpp:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueHandleBase_html_abb87e6d5ed7ded2ccd8acac49caf22ab"><div class="ttname"><a href="classllvm_1_1ValueHandleBase.html#abb87e6d5ed7ded2ccd8acac49caf22ab">llvm::ValueHandleBase::ValueIsRAUWd</a></div><div class="ttdeci">static void ValueIsRAUWd(Value *Old, Value *New)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l01174">Value.cpp:1174</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a321b8e5bfbda0da1e621822399fe3960"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a321b8e5bfbda0da1e621822399fe3960">llvm::PatternMatch::m_NSWAdd</a></div><div class="ttdeci">OverflowingBinaryOp_match&lt; LHS, RHS, Instruction::Add, OverflowingBinaryOperator::NoSignedWrap &gt; m_NSWAdd(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01156">PatternMatch.h:1156</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a0fb8bf2cae796307f012fc621678642f"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a0fb8bf2cae796307f012fc621678642f">llvm::IRBuilderBase::CreateLaunderInvariantGroup</a></div><div class="ttdeci">Value * CreateLaunderInvariantGroup(Value *Ptr)</div><div class="ttdoc">Create a launder.invariant.group intrinsic call.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8cpp_source.html#l01156">IRBuilder.cpp:1156</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a7477aafbbe989ad35b96fac186d8e9fd"><div class="ttname"><a href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeList getAttributes() const</div><div class="ttdoc">Return the attribute list for this Function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00313">Function.h:313</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1InvokeInst_html"><div class="ttname"><a href="classllvm_1_1InvokeInst.html">llvm::InvokeInst</a></div><div class="ttdoc">Invoke instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03814">Instructions.h:3814</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a9e3a8d42fb905a26e3d71447d754d26e"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a9e3a8d42fb905a26e3d71447d754d26e">llvm::IRBuilderBase::CreateZExt</a></div><div class="ttdeci">Value * CreateZExt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01916">IRBuilder.h:1916</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a82e2ea7f0ab67e33e22b3a2a188feaba"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a82e2ea7f0ab67e33e22b3a2a188feaba">llvm::PatternMatch::m_Xor</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Xor &gt; m_Xor(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01105">PatternMatch.h:1105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a1fbbf5255240485629c031aa08e41c3f"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a1fbbf5255240485629c031aa08e41c3f">removeTriviallyEmptyRange</a></div><div class="ttdeci">static bool removeTriviallyEmptyRange(IntrinsicInst &amp;EndI, InstCombinerImpl &amp;IC, std::function&lt; bool(const IntrinsicInst &amp;)&gt; IsStart)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00766">InstCombineCalls.cpp:766</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html"><div class="ttname"><a href="classllvm_1_1InlineAsm.html">llvm::InlineAsm</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00033">InlineAsm.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html"><div class="ttname"><a href="classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdoc">Base class of all SIMD vector types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00389">DerivedTypes.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4ea9acbe7fd20332ea6ccdb0183d6395"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4ea9acbe7fd20332ea6ccdb0183d6395">llvm::Instruction::andIRFlags</a></div><div class="ttdeci">void andIRFlags(const Value *V)</div><div class="ttdoc">Logical 'and' of any supported wrapping, exact, and fast-math flags of V and this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00372">Instruction.cpp:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_1_1FastMathFlagGuard_html"><div class="ttname"><a href="classllvm_1_1IRBuilderBase_1_1FastMathFlagGuard.html">llvm::IRBuilderBase::FastMathFlagGuard</a></div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00383">IRBuilder.h:383</a></div></div>
<div class="ttc" id="aVectorUtils_8h_html"><div class="ttname"><a href="VectorUtils_8h.html">VectorUtils.h</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_af3680fca8d50d56b690bed3ac6c1f68e"><div class="ttname"><a href="structllvm_1_1KnownBits.html#af3680fca8d50d56b690bed3ac6c1f68e">llvm::KnownBits::isAllOnes</a></div><div class="ttdeci">bool isAllOnes() const</div><div class="ttdoc">Returns true if value is all one bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00078">KnownBits.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html_a40360b4fa7b8e6920a68e5a8a0814f1f"><div class="ttname"><a href="classllvm_1_1Use.html#a40360b4fa7b8e6920a68e5a8a0814f1f">llvm::Use::set</a></div><div class="ttdeci">void set(Value *Val)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00865">Value.h:865</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_af238147cf5453729781a0fcc7322e1c6"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">llvm::ConstantExpr::getTrunc</a></div><div class="ttdeci">static Constant * getTrunc(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02091">Constants.cpp:2091</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_afb28a4deafe2954b0534cc6399ce518b"><div class="ttname"><a href="classllvm_1_1Function.html#afb28a4deafe2954b0534cc6399ce518b">llvm::Function::hasFnAttribute</a></div><div class="ttdeci">bool hasFnAttribute(Attribute::AttrKind Kind) const</div><div class="ttdoc">Return true if the function has the attribute.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00640">Function.cpp:640</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCStatepointInst_html_af997f3314625f4b7fcac2d24b5d9539e"><div class="ttname"><a href="classllvm_1_1GCStatepointInst.html#af997f3314625f4b7fcac2d24b5d9539e">llvm::GCStatepointInst::getGCRelocates</a></div><div class="ttdeci">std::vector&lt; const GCRelocateInst * &gt; getGCRelocates() const</div><div class="ttdoc">Get list of all gc reloactes linked to this statepoint May contain several relocations for the same b...</div><div class="ttdef"><b>Definition:</b> <a href="Statepoint_8h_source.html#l00206">Statepoint.h:206</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01410">CommandLine.h:1410</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html"><div class="ttname"><a href="classllvm_1_1APFloat.html">llvm::APFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00744">APFloat.h:744</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a06d64f226fabd94d694d6abd82e3c7b3"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">llvm::IRBuilderBase::CreateBitCast</a></div><div class="ttdeci">Value * CreateBitCast(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02008">IRBuilder.h:2008</a></div></div>
<div class="ttc" id="astructllvm_1_1RetainedKnowledge_html_a054a26c551d4de8f1af4d75a7a67a42a"><div class="ttname"><a href="structllvm_1_1RetainedKnowledge.html#a054a26c551d4de8f1af4d75a7a67a42a">llvm::RetainedKnowledge::AttrKind</a></div><div class="ttdeci">Attribute::AttrKind AttrKind</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleQueries_8h_source.html#l00101">AssumeBundleQueries.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae77be336e228cf9aa00709a8606dfb98"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">llvm::PatternMatch::m_Zero</a></div><div class="ttdeci">is_zero m_Zero()</div><div class="ttdoc">Match any null constant or a vector with all elements equal to 0.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00537">PatternMatch.h:537</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a1b0e3cdd7316497baa075ef6fc21d2d4"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a1b0e3cdd7316497baa075ef6fc21d2d4">llvm::PatternMatch::m_NUWAdd</a></div><div class="ttdeci">OverflowingBinaryOp_match&lt; LHS, RHS, Instruction::Add, OverflowingBinaryOperator::NoUnsignedWrap &gt; m_NUWAdd(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01189">PatternMatch.h:1189</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a5604157867b3d226260f6388b987e49a"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a5604157867b3d226260f6388b987e49a">llvm::AttributeList::getRetAttrs</a></div><div class="ttdeci">AttributeSet getRetAttrs() const</div><div class="ttdoc">The attributes for the ret value are returned.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01458">Attributes.cpp:1458</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a169beeeb49e770cbdbd9448ffd2af534"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a169beeeb49e770cbdbd9448ffd2af534">llvm::FunctionType::param_iterator</a></div><div class="ttdeci">Type::subtype_iterator param_iterator</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00126">DerivedTypes.h:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_aa10ee7493bddf2c751ca6e05451ef410"><div class="ttname"><a href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCRelocateInst_html"><div class="ttname"><a href="classllvm_1_1GCRelocateInst.html">llvm::GCRelocateInst</a></div><div class="ttdoc">Represents calls to the gc.relocate intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01477">IntrinsicInst.h:1477</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa45b543e17160f4f37f50d283ea5e2fe"><div class="ttname"><a href="namespacellvm.html#aa45b543e17160f4f37f50d283ea5e2fe">llvm::simplifyConstrainedFPCall</a></div><div class="ttdeci">Value * simplifyConstrainedFPCall(CallBase *Call, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given a constrained FP intrinsic call, tries to compute its simplified version.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06553">InstructionSimplify.cpp:6553</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a4f3a37254548b791663854e30a0cffc1"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a4f3a37254548b791663854e30a0cffc1">findInitTrampoline</a></div><div class="ttdeci">static IntrinsicInst * findInitTrampoline(Value *Callee)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l03134">InstCombineCalls.cpp:3134</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a8db49fd5069f21d514e7bb0fd11f0902"><div class="ttname"><a href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a></div><div class="ttdeci">static PointerType * getUnqual(Type *ElementType)</div><div class="ttdoc">This constructs a pointer to an object of the specified type in the default address space (address sp...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00651">DerivedTypes.h:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7ca3b58ad6dc93128afd44fbe61a1174"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7ca3b58ad6dc93128afd44fbe61a1174">llvm::IRBuilderBase::CreateICmp</a></div><div class="ttdeci">Value * CreateICmp(CmpInst::Predicate P, Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02232">IRBuilder.h:2232</a></div></div>
<div class="ttc" id="aclassllvm_1_1LibCallSimplifier_html"><div class="ttname"><a href="classllvm_1_1LibCallSimplifier.html">llvm::LibCallSimplifier</a></div><div class="ttdoc">LibCallSimplifier - This class implements a collection of optimizations that replace well formed call...</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8h_source.html#l00100">SimplifyLibCalls.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombiner_html_a5201cada4c6fdb4e554ad1a411ebe0d7"><div class="ttname"><a href="classllvm_1_1InstCombiner.html#a5201cada4c6fdb4e554ad1a411ebe0d7">llvm::InstCombiner::getAssumptionCache</a></div><div class="ttdeci">AssumptionCache &amp; getAssumptionCache() const</div><div class="ttdef"><b>Definition:</b> <a href="InstCombiner_8h_source.html#l00369">InstCombiner.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a3b9d9c1b6e4b743230c9c377c40a4247"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a3b9d9c1b6e4b743230c9c377c40a4247">llvm::BinaryOperator::CreateFMulFMF</a></div><div class="ttdeci">static BinaryOperator * CreateFMulFMF(Value *V1, Value *V2, Instruction *FMFSource, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00266">InstrTypes.h:266</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_a814f3097eebe0236748fcc2ab5ce59d5"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#a814f3097eebe0236748fcc2ab5ce59d5">llvm::BinaryOpIntrinsic::isSigned</a></div><div class="ttdeci">bool isSigned() const</div><div class="ttdoc">Whether the intrinsic is signed or unsigned.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00772">IntrinsicInst.cpp:772</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a83725435ece9bc12c40ceb34dbd1727c"><div class="ttname"><a href="classllvm_1_1Type.html#a83725435ece9bc12c40ceb34dbd1727c">llvm::Type::getWithNewBitWidth</a></div><div class="ttdeci">Type * getWithNewBitWidth(unsigned NewBitWidth) const</div><div class="ttdoc">Given an integer or vector type, change the lane bitwidth to NewBitwidth, whilst keeping the old numb...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00722">DerivedTypes.h:722</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombiner_html_a66eb0dc4cd710cba31cbf66f6c031bfb"><div class="ttname"><a href="classllvm_1_1InstCombiner.html#a66eb0dc4cd710cba31cbf66f6c031bfb">llvm::InstCombiner::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdef"><b>Definition:</b> <a href="InstCombiner_8h_source.html#l00372">InstCombiner.h:372</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a5f494edc0a569c7fc9ff4181243be1ed"><div class="ttname"><a href="classllvm_1_1Function.html#a5f494edc0a569c7fc9ff4181243be1ed">llvm::Function::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const</div><div class="ttdoc">getCallingConv()/setCallingConv(CC) - These method get and set the calling convention of this functio...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00237">Function.h:237</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a68c7b3dbc94a6864f2cf566958954247"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a68c7b3dbc94a6864f2cf566958954247">fcZero</a></div><div class="ttdeci">@ fcZero</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00215">FloatingPointMode.h:215</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a1a06b1cff93069d7403ea03e6150e386"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a1a06b1cff93069d7403ea03e6150e386">llvm::PatternMatch::m_LogicalOr</a></div><div class="ttdeci">LogicalOp_match&lt; LHS, RHS, Instruction::Or &gt; m_LogicalOr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches L || R either in the form of L | R or L ? true : R.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02574">PatternMatch.h:2574</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFP_html_a75071440d60c24178371ca1299f4ef07"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#a75071440d60c24178371ca1299f4ef07">llvm::ConstantFP::getZero</a></div><div class="ttdeci">static Constant * getZero(Type *Ty, bool Negative=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01008">Constants.cpp:1008</a></div></div>
<div class="ttc" id="astructllvm_1_1RetainedKnowledge_html_a3b64a97b9157b9bd9a1d924cae66254b"><div class="ttname"><a href="structllvm_1_1RetainedKnowledge.html#a3b64a97b9157b9bd9a1d924cae66254b">llvm::RetainedKnowledge::ArgValue</a></div><div class="ttdeci">uint64_t ArgValue</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleQueries_8h_source.html#l00102">AssumeBundleQueries.h:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_a46adba111f7580ebfbb869a008de1818"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a46adba111f7580ebfbb869a008de1818">llvm::LoadInst::setOrdering</a></div><div class="ttdeci">void setOrdering(AtomicOrdering Ordering)</div><div class="ttdoc">Sets the ordering constraint of this load instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00234">Instructions.h:234</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1TruncInst_html"><div class="ttname"><a href="classllvm_1_1TruncInst.html">llvm::TruncInst</a></div><div class="ttdoc">This class represents a truncation of integer types.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04813">Instructions.h:4813</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCRelocateInst_html_ae587391ac557593d998dbca4e62f0dab"><div class="ttname"><a href="classllvm_1_1GCRelocateInst.html#ae587391ac557593d998dbca4e62f0dab">llvm::GCRelocateInst::getDerivedPtr</a></div><div class="ttdeci">Value * getDerivedPtr() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00824">IntrinsicInst.cpp:824</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeSet_html_ae8ed437b15a7ca943716e5284a9cb9a6"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#ae8ed437b15a7ca943716e5284a9cb9a6">llvm::AttributeSet::get</a></div><div class="ttdeci">static AttributeSet get(LLVMContext &amp;C, const AttrBuilder &amp;B)</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00693">Attributes.cpp:693</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantPointerNull_html_a96f5c85e4022e369266541b2db3fda69"><div class="ttname"><a href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">llvm::ConstantPointerNull::get</a></div><div class="ttdeci">static ConstantPointerNull * get(PointerType *T)</div><div class="ttdoc">Static factory methods - Return objects of the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01707">Constants.cpp:1707</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AttributeFuncs_html_aa01ebfb5122911f6d17fb843d617a953a66e3691152e97b3b795fde63465e530c"><div class="ttname"><a href="namespacellvm_1_1AttributeFuncs.html#aa01ebfb5122911f6d17fb843d617a953a66e3691152e97b3b795fde63465e530c">llvm::AttributeFuncs::ASK_SAFE_TO_DROP</a></div><div class="ttdeci">@ ASK_SAFE_TO_DROP</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l01248">Attributes.h:1248</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBrInst_html"><div class="ttname"><a href="classllvm_1_1CallBrInst.html">llvm::CallBrInst</a></div><div class="ttdoc">CallBr instruction, tracking function calls that may not return control but instead transfer it to a ...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04023">Instructions.h:4023</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aaea0d5ebb8b57ddde2095f80e2e94bb2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">llvm::PatternMatch::m_AllOnes</a></div><div class="ttdeci">cst_pred_ty&lt; is_all_ones &gt; m_AllOnes()</div><div class="ttdoc">Match an integer or vector with all bits set.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00453">PatternMatch.h:453</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_ad730bb36632fcc356a80297000a558a8"><div class="ttname"><a href="InstCombineCalls_8cpp.html#ad730bb36632fcc356a80297000a558a8">simplifyNeonTbl1</a></div><div class="ttdeci">static Value * simplifyNeonTbl1(const IntrinsicInst &amp;II, InstCombiner::BuilderTy &amp;Builder)</div><div class="ttdoc">Convert a table lookup to shufflevector if the mask is constant.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00710">InstCombineCalls.cpp:710</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aec0ccdbde0581b3aae7f001634a34d8e"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">llvm::PatternMatch::m_ImmConstant</a></div><div class="ttdeci">match_combine_and&lt; class_match&lt; Constant &gt;, match_unless&lt; constantexpr_match &gt; &gt; m_ImmConstant()</div><div class="ttdoc">Match an arbitrary immediate Constant and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00751">PatternMatch.h:751</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; Value *, unsigned &gt;</a></div></div>
<div class="ttc" id="aIR_2DebugInfo_8h_html"><div class="ttname"><a href="IR_2DebugInfo_8h.html">DebugInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html_a85e25362e2d9d1222397368e9ba7f9ce"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html#a85e25362e2d9d1222397368e9ba7f9ce">llvm::InstCombinerImpl::visitFenceInst</a></div><div class="ttdeci">Instruction * visitFenceInst(FenceInst &amp;FI)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l02969">InstCombineCalls.cpp:2969</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a22e3d9fb3f1b84617e3a3ef5c51145c7">fcInf</a></div><div class="ttdeci">@ fcInf</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00212">FloatingPointMode.h:212</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7a288d468c5e0969f26a310773eda65603"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a288d468c5e0969f26a310773eda65603">llvm::AtomicOrdering::Unordered</a></div><div class="ttdeci">@ Unordered</div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttrBuilder_html"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html">llvm::AttrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l01040">Attributes.h:1040</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a20cdc3911828248e70dbeae018106b76"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">llvm::FunctionType::getParamType</a></div><div class="ttdeci">Type * getParamType(unsigned i) const</div><div class="ttdoc">Parameter type accessors.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00135">DerivedTypes.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_a2b1268b642e9bf4373b6fb31c482c9ca"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a2b1268b642e9bf4373b6fb31c482c9ca">llvm::LoadInst::setAlignment</a></div><div class="ttdeci">void setAlignment(Align Align)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00224">Instructions.h:224</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2f635b6d5c5f74d0c2e359897a5e7498"><div class="ttname"><a href="namespacellvm.html#a2f635b6d5c5f74d0c2e359897a5e7498">llvm::lowerObjectSizeCall</a></div><div class="ttdeci">Value * lowerObjectSizeCall(IntrinsicInst *ObjectSize, const DataLayout &amp;DL, const TargetLibraryInfo *TLI, bool MustSucceed)</div><div class="ttdoc">Try to turn a call to @llvm.objectsize into an integer value of the given Type.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00589">MemoryBuiltins.cpp:589</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a7638daf70e17d093dd35f06211dc7a87"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a7638daf70e17d093dd35f06211dc7a87">llvm::PatternMatch::m_FAbs</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_FAbs(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02171">PatternMatch.h:2171</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_a4b2c8769ea6c7af6f24285e87a7e3aa1"><div class="ttname"><a href="classllvm_1_1Attribute.html#a4b2c8769ea6c7af6f24285e87a7e3aa1">llvm::Attribute::getWithDereferenceableBytes</a></div><div class="ttdeci">static Attribute getWithDereferenceableBytes(LLVMContext &amp;Context, uint64_t Bytes)</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00177">Attributes.cpp:177</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a427435d4da769ae680a8e77ef89520aa"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">llvm::PatternMatch::m_And</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::And &gt; m_And(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01093">PatternMatch.h:1093</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdoc">Class to represent pointers.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00632">DerivedTypes.h:632</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a2415abc0d17bb4bfad67606913c8ce10"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a2415abc0d17bb4bfad67606913c8ce10">fcPosSubnormal</a></div><div class="ttdeci">@ fcPosSubnormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00207">FloatingPointMode.h:207</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_aa94f59b6921a7cd3567439b3302a5357"><div class="ttname"><a href="classllvm_1_1CallBase.html#aa94f59b6921a7cd3567439b3302a5357">llvm::CallBase::addRetAttr</a></div><div class="ttdeci">void addRetAttr(Attribute::AttrKind Kind)</div><div class="ttdoc">Adds the attribute to the return value.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01526">InstrTypes.h:1526</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae8f5bf5cc06f696b52c709677df00fbf"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">llvm::Instruction::setDebugLoc</a></div><div class="ttdeci">void setDebugLoc(DebugLoc Loc)</div><div class="ttdoc">Set the debug location information for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00355">Instruction.h:355</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a42df6a41563b50a3fd1872230ed0b5ec"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a42df6a41563b50a3fd1872230ed0b5ec">llvm::PatternMatch::m_SRem</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::SRem &gt; m_SRem(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01081">PatternMatch.h:1081</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeSet_html_aa3392828dc2b425dbafab7dd81fae786"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#aa3392828dc2b425dbafab7dd81fae786">llvm::AttributeSet::removeAttributes</a></div><div class="ttdeci">AttributeSet removeAttributes(LLVMContext &amp;C, const AttributeMask &amp;AttrsToRemove) const</div><div class="ttdoc">Remove the specified attributes from this set.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00745">Attributes.cpp:745</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa1f8f0633edd8b9a1c5ec15bb9fc5640"><div class="ttname"><a href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">llvm::computeKnownBits</a></div><div class="ttdeci">void computeKnownBits(const Value *V, KnownBits &amp;Known, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, OptimizationRemarkEmitter *ORE=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Determine which bits of V are known to be either zero or one and return them in the KnownZero/KnownOn...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00186">ValueTracking.cpp:186</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ac394f9304a427e4d136ac39a262c0f32"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ac394f9304a427e4d136ac39a262c0f32">maximum</a></div><div class="ttdeci">Should compile r2 movcc movcs str strb mov lr r1 movcs movcc mov lr r1 str mov mov cmp r1 movlo r2 str bx lr r0 mov mov cmp r0 movhs r2 mov r1 bx lr Some of the NEON intrinsics may be appropriate for more general either as target independent intrinsics or perhaps elsewhere in the ARM backend Some of them may also be lowered to target independent and perhaps some new SDNodes could be added For maximum</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00489">README.txt:489</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aaf8d1fc0f6386ef04a4b991fd73d823b"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aaf8d1fc0f6386ef04a4b991fd73d823b">llvm::KnownBits::countMaxLeadingZeros</a></div><div class="ttdeci">unsigned countMaxLeadingZeros() const</div><div class="ttdoc">Returns the maximum number of leading zero bits possible.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00283">KnownBits.h:283</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a33db2a1c24cf3a7438e4f746d752264e"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a33db2a1c24cf3a7438e4f746d752264e">foldClampRangeOfTwo</a></div><div class="ttdeci">static Instruction * foldClampRangeOfTwo(IntrinsicInst *II, InstCombiner::BuilderTy &amp;Builder)</div><div class="ttdoc">If we have a clamp pattern like max (min X, 42), 41  where the output can only be one of two possibl...</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l01045">InstCombineCalls.cpp:1045</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a2ad6370e532a52014fe2e5a54bfbaddd"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a2ad6370e532a52014fe2e5a54bfbaddd">llvm::KnownBits::countMaxTrailingZeros</a></div><div class="ttdeci">unsigned countMaxTrailingZeros() const</div><div class="ttdoc">Returns the maximum number of trailing zero bits possible.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00273">KnownBits.h:273</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6bf471c1030973649c2e426afc212097a07d293fd946951d9655259c5e9b93356"><div class="ttname"><a href="namespacellvm.html#a6bf471c1030973649c2e426afc212097a07d293fd946951d9655259c5e9b93356">llvm::SPF_ABS</a></div><div class="ttdeci">@ SPF_ABS</div><div class="ttdoc">Floating point maxnum.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00698">ValueTracking.h:698</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_aecc0c27ae96638bc9d8fa4caffa92c31"><div class="ttname"><a href="classllvm_1_1CallBase.html#aecc0c27ae96638bc9d8fa4caffa92c31">llvm::CallBase::hasOperandBundles</a></div><div class="ttdeci">bool hasOperandBundles() const</div><div class="ttdoc">Return true if this User has any operand bundles.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01954">InstrTypes.h:1954</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae2bb081d94f22e64ca6bc4bd58512a93"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a></div><div class="ttdeci">&lt;%struct.s * &gt; cast struct s *S to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *agg result to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *memtmp to sbyte *&lt; sbyte * &gt; sbyte uint ret void llc ends up issuing two memcpy or custom lower memcpy(of small size) to be ldmia/stmia. I think option 2 is better but the current register allocator cannot allocate a chunk of registers at a time. A feasible temporary solution is to use specific physical registers at the lowering time for small(&lt;</div></div>
<div class="ttc" id="anamespacellvm_html_a15235832ef7c31b1d789987f9a656b43"><div class="ttname"><a href="namespacellvm.html#a15235832ef7c31b1d789987f9a656b43">llvm::isKnownNegation</a></div><div class="ttdeci">bool isKnownNegation(const Value *X, const Value *Y, bool NeedNSW=false)</div><div class="ttdoc">Return true if the two given values are negation.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06216">ValueTracking.cpp:6216</a></div></div>
<div class="ttc" id="aclassllvm_1_1FenceInst_html_abd9ff637c66279c825f9dd00ceff10f9"><div class="ttname"><a href="classllvm_1_1FenceInst.html#abd9ff637c66279c825f9dd00ceff10f9">llvm::FenceInst::getOrdering</a></div><div class="ttdeci">AtomicOrdering getOrdering() const</div><div class="ttdoc">Returns the ordering constraint of this fence instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00461">Instructions.h:461</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b"><div class="ttname"><a href="namespacellvm_1_1codeview.html#a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b">llvm::codeview::CompileSym2Flags::EC</a></div><div class="ttdeci">@ EC</div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a7f47812e8e75b0616a97d7004e5fb909"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a7f47812e8e75b0616a97d7004e5fb909">llvm::KnownBits::countMinLeadingZeros</a></div><div class="ttdeci">unsigned countMinLeadingZeros() const</div><div class="ttdoc">Returns the minimum number of leading zero bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00243">KnownBits.h:243</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9a167f91db810097d281b1ed627f4575"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9a167f91db810097d281b1ed627f4575">llvm::Instruction::getFastMathFlags</a></div><div class="ttdeci">FastMathFlags getFastMathFlags() const LLVM_READONLY</div><div class="ttdoc">Convenience function for getting all the fast-math flags, which must be an operator which supports th...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00339">Instruction.cpp:339</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a4676f4bc7da9235ff3b6683dd670d7be"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a4676f4bc7da9235ff3b6683dd670d7be">llvm::KnownBits::countMaxPopulation</a></div><div class="ttdeci">unsigned countMaxPopulation() const</div><div class="ttdoc">Returns the maximum number of bits that could be one.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00298">KnownBits.h:298</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">llvm::CmpInst::BAD_ICMP_PREDICATE</a></div><div class="ttdeci">@ BAD_ICMP_PREDICATE</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00751">InstrTypes.h:751</a></div></div>
<div class="ttc" id="aAPSInt_8h_html"><div class="ttname"><a href="APSInt_8h.html">APSInt.h</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ae8eaa0b4eeac52a2b2282cb1bfd981ae"><div class="ttname"><a href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const</div><div class="ttdoc">Return true if this is 'void'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_af16a6c9336ca2a17389ea709b45fe7f5"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">llvm::PatternMatch::m_SMin</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, smin_pred_ty &gt; m_SMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01859">PatternMatch.h:1859</a></div></div>
<div class="ttc" id="aclassllvm_1_1MinMaxIntrinsic_html_a9b051a0ae4af41983e9d18ab50b138c9"><div class="ttname"><a href="classllvm_1_1MinMaxIntrinsic.html#a9b051a0ae4af41983e9d18ab50b138c9">llvm::MinMaxIntrinsic::getPredicate</a></div><div class="ttdeci">ICmpInst::Predicate getPredicate() const</div><div class="ttdoc">Returns the comparison predicate underlying the intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00678">IntrinsicInst.h:678</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a66277818a970efe89dedd2cb7127fe3a"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a66277818a970efe89dedd2cb7127fe3a">simplifyInvariantGroupIntrinsic</a></div><div class="ttdeci">static Instruction * simplifyInvariantGroupIntrinsic(IntrinsicInst &amp;II, InstCombinerImpl &amp;IC)</div><div class="ttdoc">This function transforms launder.invariant.group and strip.invariant.group like: launder(launder(x)) ...</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00478">InstCombineCalls.cpp:478</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a1baf39823603c8c66900871e2bf8fddb"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a1baf39823603c8c66900871e2bf8fddb">foldCtpop</a></div><div class="ttdeci">static Instruction * foldCtpop(IntrinsicInst &amp;II, InstCombinerImpl &amp;IC)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00616">InstCombineCalls.cpp:616</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a414e874f68f2400a42f68317c97c79a2"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a414e874f68f2400a42f68317c97c79a2">llvm::IRBuilderBase::getTrue</a></div><div class="ttdeci">ConstantInt * getTrue()</div><div class="ttdoc">Get the constant value for i1 true.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00452">IRBuilder.h:452</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a7d1bb46cb6e28a5907c4185157804911"><div class="ttname"><a href="classllvm_1_1CallBase.html#a7d1bb46cb6e28a5907c4185157804911">llvm::CallBase::Create</a></div><div class="ttdeci">static CallBase * Create(CallBase *CB, ArrayRef&lt; OperandBundleDef &gt; Bundles, Instruction *InsertPt=nullptr)</div><div class="ttdoc">Create a clone of CB with a different set of operand bundles and insert it before InsertPt.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00266">Instructions.cpp:266</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aadd209ba7e1bfa8113a609e09a7fe62f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">llvm::PatternMatch::m_Constant</a></div><div class="ttdeci">class_match&lt; Constant &gt; m_Constant()</div><div class="ttdoc">Match an arbitrary Constant and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00144">PatternMatch.h:144</a></div></div>
<div class="ttc" id="aVPlanSLP_8cpp_html_af04704e906a9654777e92a4612c58c13"><div class="ttname"><a href="VPlanSLP_8cpp.html#af04704e906a9654777e92a4612c58c13">getOpcode</a></div><div class="ttdeci">static std::optional&lt; unsigned &gt; getOpcode(ArrayRef&lt; VPValue * &gt; Values)</div><div class="ttdoc">Returns the opcode of Values or ~0 if they do not all agree.</div><div class="ttdef"><b>Definition:</b> <a href="VPlanSLP_8cpp_source.html#l00191">VPlanSLP.cpp:191</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a5f1a7bcc8458a7dd284f38f1b748f048"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a5f1a7bcc8458a7dd284f38f1b748f048">haveSameOperands</a></div><div class="ttdeci">static bool haveSameOperands(const IntrinsicInst &amp;I, const IntrinsicInst &amp;E, unsigned NumOperands)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00746">InstCombineCalls.cpp:746</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM_1_1WinEH_html_aeb1849a948db3f783d1598b797186c4a"><div class="ttname"><a href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">llvm::ARM::WinEH::ReturnType</a></div><div class="ttdeci">ReturnType</div><div class="ttdef"><b>Definition:</b> <a href="ARMWinEH_8h_source.html#l00025">ARMWinEH.h:25</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">Match an arbitrary value and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00076">PatternMatch.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a5fa9b8e1842b354f64c1ba6be0a4a17f"><div class="ttname"><a href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">llvm::User::setOperand</a></div><div class="ttdeci">void setOperand(unsigned i, Value *Val)</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00174">User.h:174</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">llvm::CmpInst::ICMP_SLT</a></div><div class="ttdeci">@ ICMP_SLT</div><div class="ttdoc">signed less than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00747">InstrTypes.h:747</a></div></div>
<div class="ttc" id="aclassllvm_1_1APSInt_html_a5cba4d26a4ef4ecf1cea7faac29b1786"><div class="ttname"><a href="classllvm_1_1APSInt.html#a5cba4d26a4ef4ecf1cea7faac29b1786">llvm::APSInt::getMaxValue</a></div><div class="ttdeci">static APSInt getMaxValue(uint32_t numBits, bool Unsigned)</div><div class="ttdoc">Return the APSInt representing the maximum integer value with the given bit width and signedness.</div><div class="ttdef"><b>Definition:</b> <a href="APSInt_8h_source.html#l00303">APSInt.h:303</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_a87e2895d880926d0b9a2128b3acfc9dd"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">llvm::APIntOps::smin</a></div><div class="ttdeci">const APInt &amp; smin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be signed.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02175">APInt.h:2175</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ac62778065b99372cc62cf994b967e7e8"><div class="ttname"><a href="classllvm_1_1CallBase.html#ac62778065b99372cc62cf994b967e7e8">llvm::CallBase::getIntrinsicID</a></div><div class="ttdeci">Intrinsic::ID getIntrinsicID() const</div><div class="ttdoc">Returns the intrinsic ID of the intrinsic called or Intrinsic::not_intrinsic if the called function i...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00322">Instructions.cpp:322</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aaab494a433fbb23bc68393ee8bcfc5ac"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">llvm::PatternMatch::m_SExt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::SExt &gt; m_SExt(const OpTy &amp;Op)</div><div class="ttdoc">Matches SExt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01623">PatternMatch.h:1623</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3acbd0be97863e3e03e3b85641254018"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3acbd0be97863e3e03e3b85641254018">llvm::PatternMatch::m_SpecificInt</a></div><div class="ttdeci">specific_intval&lt; false &gt; m_SpecificInt(APInt V)</div><div class="ttdoc">Match a specific integer value or vector with all elements equal to the value.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00854">PatternMatch.h:854</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a049de2366079104e70f0c3451b09aebf"><div class="ttname"><a href="classllvm_1_1Function.html#a049de2366079104e70f0c3451b09aebf">llvm::Function::isConvergent</a></div><div class="ttdeci">bool isConvergent() const</div><div class="ttdoc">Determine if the call is convergent.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00551">Function.h:551</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a575c2299c6f145ba3a12efa20829db43"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">llvm::PatternMatch::m_CombineAnd</a></div><div class="ttdeci">match_combine_and&lt; LTy, RTy &gt; m_CombineAnd(const LTy &amp;L, const RTy &amp;R)</div><div class="ttdoc">Combine two pattern matchers matching L &amp;&amp; R.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00224">PatternMatch.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueHandleBase_html_a92d8c2f0a2622bca7ff24f02790c3f31"><div class="ttname"><a href="classllvm_1_1ValueHandleBase.html#a92d8c2f0a2622bca7ff24f02790c3f31">llvm::ValueHandleBase::ValueIsDeleted</a></div><div class="ttdeci">static void ValueIsDeleted(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l01121">Value.cpp:1121</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef&lt; int &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1VAEndInst_html"><div class="ttname"><a href="classllvm_1_1VAEndInst.html">llvm::VAEndInst</a></div><div class="ttdoc">This represents the llvm.va_end intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01299">IntrinsicInst.h:1299</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00187">InstrTypes.h:187</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_ae0f503db91504a3f3440ab81260e4134"><div class="ttname"><a href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a></div><div class="ttdeci">BinaryOperator * Mul</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00070">X86PartialReduction.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdoc">Class to represent struct types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00213">DerivedTypes.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_ac4ab9dd9440c55bee1aa4a1195cee759"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">llvm::details::FixedOrScalableQuantity::getKnownMinValue</a></div><div class="ttdeci">constexpr ScalarTy getKnownMinValue() const</div><div class="ttdoc">Returns the minimum value this quantity can represent.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00163">TypeSize.h:163</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a87921b2b4748a722da30339103c08f62"><div class="ttname"><a href="classllvm_1_1CallBase.html#a87921b2b4748a722da30339103c08f62">llvm::CallBase::getOperandBundle</a></div><div class="ttdeci">std::optional&lt; OperandBundleUse &gt; getOperandBundle(StringRef Name) const</div><div class="ttdoc">Return an operand bundle by name, if present.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l02036">InstrTypes.h:2036</a></div></div>
<div class="ttc" id="anamespacellvm_html_abf1028e2af158aae1e00d3288ca013bb"><div class="ttname"><a href="namespacellvm.html#abf1028e2af158aae1e00d3288ca013bb">llvm::isDereferenceablePointer</a></div><div class="ttdeci">bool isDereferenceablePointer(const Value *V, Type *Ty, const DataLayout &amp;DL, const Instruction *CtxI=nullptr, AssumptionCache *AC=nullptr, const DominatorTree *DT=nullptr, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if this is always a dereferenceable pointer.</div><div class="ttdef"><b>Definition:</b> <a href="Loads_8cpp_source.html#l00221">Loads.cpp:221</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_adea6dc2e42baa345b97be48b0370313d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#adea6dc2e42baa345b97be48b0370313d">llvm::PatternMatch::m_Undef</a></div><div class="ttdeci">auto m_Undef()</div><div class="ttdoc">Match an arbitrary undef constant.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00136">PatternMatch.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html">llvm::AssumptionCache</a></div><div class="ttdoc">A cache of @llvm.assume calls within a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00042">AssumptionCache.h:42</a></div></div>
<div class="ttc" id="aSimplifyLibCalls_8h_html"><div class="ttname"><a href="SimplifyLibCalls_8h.html">SimplifyLibCalls.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">llvm::CmpInst::ICMP_ULT</a></div><div class="ttdeci">@ ICMP_ULT</div><div class="ttdoc">unsigned less than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00743">InstrTypes.h:743</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_acd530d0571f320d47d37e7ae51cf70ff"><div class="ttname"><a href="classllvm_1_1Constant.html#acd530d0571f320d47d37e7ae51cf70ff">llvm::Constant::getAggregateElement</a></div><div class="ttdeci">Constant * getAggregateElement(unsigned Elt) const</div><div class="ttdoc">For aggregates (struct/array/vector) return the constant that corresponds to the specified element if...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00418">Constants.cpp:418</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a1815c1f6416dda240bb696822bbc6bff"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a1815c1f6416dda240bb696822bbc6bff">isSafeToEliminateVarargsCast</a></div><div class="ttdeci">static bool isSafeToEliminateVarargsCast(const CallBase &amp;Call, const DataLayout &amp;DL, const CastInst *const CI, const int ix)</div><div class="ttdoc">If this cast does not affect the value passed through the varargs area, we can eliminate the use of t...</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l03008">InstCombineCalls.cpp:3008</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a6a66ebb3aa12757479a3c88de77d78f8"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6a66ebb3aa12757479a3c88de77d78f8">llvm::Instruction::getFunction</a></div><div class="ttdeci">const Function * getFunction() const</div><div class="ttdoc">Return the function this instruction belongs to.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00074">Instruction.cpp:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_afd3e8a6706810fef8cdbaf1f9f40dfbd"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#afd3e8a6706810fef8cdbaf1f9f40dfbd">llvm::PatternMatch::m_Shuffle</a></div><div class="ttdeci">TwoOps_match&lt; V1_t, V2_t, Instruction::ShuffleVector &gt; m_Shuffle(const V1_t &amp;v1, const V2_t &amp;v2)</div><div class="ttdoc">Matches ShuffleVectorInst independently of mask value.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01551">PatternMatch.h:1551</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_af0454356bbedffca31b25006103f0a24"><div class="ttname"><a href="InstCombineCalls_8cpp.html#af0454356bbedffca31b25006103f0a24">moveAddAfterMinMax</a></div><div class="ttdeci">static Instruction * moveAddAfterMinMax(IntrinsicInst *II, InstCombiner::BuilderTy &amp;Builder)</div><div class="ttdoc">Try to canonicalize min/max(X + C0, C1) as min/max(X, C1 - C0) + C0.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00944">InstCombineCalls.cpp:944</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_a07b994620d0144569ae8250ba59d0d6e"><div class="ttname"><a href="classllvm_1_1CallInst.html#a07b994620d0144569ae8250ba59d0d6e">llvm::CallInst::isNoTailCall</a></div><div class="ttdeci">bool isNoTailCall() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01684">Instructions.h:1684</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html_ad964f4a5d168d23f98338e1785a4ed28"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html#ad964f4a5d168d23f98338e1785a4ed28">llvm::InstCombinerImpl::visitVAEndInst</a></div><div class="ttdeci">Instruction * visitVAEndInst(VAEndInst &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00793">InstCombineCalls.cpp:793</a></div></div>
<div class="ttc" id="astructllvm_1_1MinMax_html"><div class="ttname"><a href="structllvm_1_1MinMax.html">llvm::MinMax</a></div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleQueries_8h_source.html#l00071">AssumeBundleQueries.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_a94f850488e8bda1d1b400821d6d61bd1"><div class="ttname"><a href="classllvm_1_1CastInst.html#a94f850488e8bda1d1b400821d6d61bd1">llvm::CastInst::isBitOrNoopPointerCastable</a></div><div class="ttdeci">static bool isBitOrNoopPointerCastable(Type *SrcTy, Type *DestTy, const DataLayout &amp;DL)</div><div class="ttdoc">Check whether a bitcast, inttoptr, or ptrtoint cast between these types is valid and a no-op.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03614">Instructions.cpp:3614</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a90d84324b6b6aa2a60077a79b31a49e7"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a90d84324b6b6aa2a60077a79b31a49e7">llvm::ConstantExpr::getIntegerCast</a></div><div class="ttdeci">static Constant * getIntegerCast(Constant *C, Type *Ty, bool IsSigned)</div><div class="ttdoc">Create a ZExt, Bitcast or Trunc for integer -&gt; integer casts.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02067">Constants.cpp:2067</a></div></div>
<div class="ttc" id="aclassllvm_1_1FPExtInst_html"><div class="ttname"><a href="classllvm_1_1FPExtInst.html">llvm::FPExtInst</a></div><div class="ttdoc">This class represents an extension of floating point types.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04969">Instructions.h:4969</a></div></div>
<div class="ttc" id="aREADME-FPStack_8txt_html_aeb9a134c2755c0ad7801bf630a790904"><div class="ttname"><a href="README-FPStack_8txt.html#aeb9a134c2755c0ad7801bf630a790904">trunc</a></div><div class="ttdeci">We have fiadd patterns now but the followings have the same cost and complexity We need a way to specify the later is more profitable def def The FP stackifier should handle simple permutates to reduce number of shuffle e g trunc</div><div class="ttdef"><b>Definition:</b> <a href="README-FPStack_8txt_source.html#l00063">README-FPStack.txt:63</a></div></div>
<div class="ttc" id="astructllvm_1_1RetainedKnowledge_html"><div class="ttname"><a href="structllvm_1_1RetainedKnowledge.html">llvm::RetainedKnowledge</a></div><div class="ttdoc">Represent one information held inside an operand bundle of an llvm.assume.</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleQueries_8h_source.html#l00100">AssumeBundleQueries.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a24a7664d83746bcda035bddeb773eaae"><div class="ttname"><a href="classllvm_1_1Instruction.html#a24a7664d83746bcda035bddeb773eaae">llvm::Instruction::copyFastMathFlags</a></div><div class="ttdeci">void copyFastMathFlags(FastMathFlags FMF)</div><div class="ttdoc">Convenience function for transferring all fast-math flag values to this instruction,...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00294">Instruction.cpp:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html"><div class="ttname"><a href="classllvm_1_1CastInst.html">llvm::CastInst</a></div><div class="ttdoc">This is the base class for all instructions that perform data casts.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00428">InstrTypes.h:428</a></div></div>
<div class="ttc" id="anamespacellvm_html_a670d4ce84e762e337fbf51e582316e13"><div class="ttname"><a href="namespacellvm.html#a670d4ce84e762e337fbf51e582316e13">llvm::isKnownNeverInfinity</a></div><div class="ttdeci">bool isKnownNeverInfinity(const Value *V, const TargetLibraryInfo *TLI, unsigned Depth=0)</div><div class="ttdoc">Return true if the floating-point scalar value is not an infinity or if the floating-point vector val...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l03766">ValueTracking.cpp:3766</a></div></div>
<div class="ttc" id="aclassllvm_1_1WithOverflowInst_html"><div class="ttname"><a href="classllvm_1_1WithOverflowInst.html">llvm::WithOverflowInst</a></div><div class="ttdoc">Represents an op.with.overflow intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00770">IntrinsicInst.h:770</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_ad3c897ba734b78e973db4622dff7bdcb"><div class="ttname"><a href="classllvm_1_1CallInst.html#ad3c897ba734b78e973db4622dff7bdcb">llvm::CallInst::isMustTailCall</a></div><div class="ttdeci">bool isMustTailCall() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01682">Instructions.h:1682</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html_a800c1300065ca1615d2f4fb88623afd5adb925bc2eb2c117b3ec0b76d1e267127"><div class="ttname"><a href="classllvm_1_1LLVMContext.html#a800c1300065ca1615d2f4fb88623afd5adb925bc2eb2c117b3ec0b76d1e267127">llvm::LLVMContext::OB_kcfi</a></div><div class="ttdeci">@ OB_kcfi</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00097">LLVMContext.h:97</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">llvm::AMDGPUISD::BFI</a></div><div class="ttdeci">@ BFI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00441">AMDGPUISelLowering.h:441</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a710dc4b7879549524817a90b4557d8c4"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a710dc4b7879549524817a90b4557d8c4">hasUndefSource</a></div><div class="ttdeci">static bool hasUndefSource(AnyMemTransferInst *MI)</div><div class="ttdoc">Recognize a memcpy/memmove from a trivially otherwise unused alloca.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00110">InstCombineCalls.cpp:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a545e8d5dfa1688acea0d0e275b03682f"><div class="ttname"><a href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">llvm::APInt::ult</a></div><div class="ttdeci">bool ult(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned less than comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01089">APInt.h:1089</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_a8afbda215c9d4599ff4edcac57340268"><div class="ttname"><a href="classllvm_1_1Attribute.html#a8afbda215c9d4599ff4edcac57340268">llvm::Attribute::getWithDereferenceableOrNullBytes</a></div><div class="ttdeci">static Attribute getWithDereferenceableOrNullBytes(LLVMContext &amp;Context, uint64_t Bytes)</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00183">Attributes.cpp:183</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a330471067c17061b7c2152d75102f24a"><div class="ttname"><a href="classllvm_1_1CallBase.html#a330471067c17061b7c2152d75102f24a">llvm::CallBase::hasRetAttr</a></div><div class="ttdeci">bool hasRetAttr(Attribute::AttrKind Kind) const</div><div class="ttdoc">Determine whether the return value has the given attribute.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01605">InstrTypes.h:1605</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a338590123630c357df6340c38d066572"><div class="ttname"><a href="classllvm_1_1Value.html#a338590123630c357df6340c38d066572">llvm::Value::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set a particular kind of metadata attachment.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01325">Metadata.cpp:1325</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a38a6a25e425f94c9836dda96f3718593"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">llvm::PatternMatch::m_SMax</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, smax_pred_ty &gt; m_SMax(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01853">PatternMatch.h:1853</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a0566221f10834bfcea70965379745a20"><div class="ttname"><a href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">llvm::Type::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">Return the LLVMContext in which this type was uniqued.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00129">Type.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aValueHandle_8h_html"><div class="ttname"><a href="ValueHandle_8h.html">ValueHandle.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4c88ebe757c51044c4ad4275012e4593"><div class="ttname"><a href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">llvm::isKnownNeverNaN</a></div><div class="ttdeci">bool isKnownNeverNaN(const Value *V, const TargetLibraryInfo *TLI, unsigned Depth=0)</div><div class="ttdoc">Return true if the floating-point scalar value is not a NaN or if the floating-point vector value has...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l03894">ValueTracking.cpp:3894</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_abc10b887caad109288ffceb230493a85"><div class="ttname"><a href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">llvm::CallBase::setArgOperand</a></div><div class="ttdeci">void setArgOperand(unsigned i, Value *v)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01356">InstrTypes.h:1356</a></div></div>
<div class="ttc" id="anamespacellvm_html_a766456df1dd21e804cd4596304e10764ae8b4b40ec3622e371789b790caabc083"><div class="ttname"><a href="namespacellvm.html#a766456df1dd21e804cd4596304e10764ae8b4b40ec3622e371789b790caabc083">llvm::ComplexDeinterleavingOperation::Shuffle</a></div><div class="ttdeci">@ Shuffle</div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_aefa39f6b622360ce4e947feb9f671b73"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=std::nullopt)</div><div class="ttdoc">Create or insert an LLVM Function declaration for an intrinsic, and return it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01502">Function.cpp:1502</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a966eb231e7d4e572874d2cb49b18faea"><div class="ttname"><a href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">const Value * stripPointerCasts() const</div><div class="ttdoc">Strip off pointer casts, all-zero GEPs and address space casts.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00685">Value.cpp:685</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_a0e1c3175b0ac22fe3853651c28e1ecb8"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">llvm::SmallPtrSetImplBase::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00093">SmallPtrSet.h:93</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_aa87fae97a8c702741eca5a95748af49d"><div class="ttname"><a href="classllvm_1_1CallBase.html#aa87fae97a8c702741eca5a95748af49d">llvm::CallBase::doesNotThrow</a></div><div class="ttdeci">bool doesNotThrow() const</div><div class="ttdoc">Determine if the call cannot unwind.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01908">InstrTypes.h:1908</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_ac09a21c371a9c535cbc13e8f82503aec"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Return the constant as a 64-bit unsigned integer value after it has been zero extended as appropriate...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00141">Constants.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombiner_html_aa00031e59684d793baa874f11ddaf189"><div class="ttname"><a href="classllvm_1_1InstCombiner.html#aa00031e59684d793baa874f11ddaf189">llvm::InstCombiner::replaceInstUsesWith</a></div><div class="ttdeci">Instruction * replaceInstUsesWith(Instruction &amp;I, Value *V)</div><div class="ttdoc">A combiner-aware RAUW-like routine.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombiner_8h_source.html#l00418">InstCombiner.h:418</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a6ea260be710ac7b61309534308da3147"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6ea260be710ac7b61309534308da3147">llvm::Instruction::mayHaveSideEffects</a></div><div class="ttdeci">bool mayHaveSideEffects() const LLVM_READONLY</div><div class="ttdoc">Return true if the instruction may have side effects.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00745">Instruction.cpp:745</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_ae3e81cb5632a20699e7989bbfbb6c83e"><div class="ttname"><a href="InstCombineCalls_8cpp.html#ae3e81cb5632a20699e7989bbfbb6c83e">getPromotedType</a></div><div class="ttdeci">static Type * getPromotedType(Type *Ty)</div><div class="ttdoc">Return the specified type promoted as it would be to pass though a va_arg area.</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00099">InstCombineCalls.cpp:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_afb8975f28d8418cad8ea770575736b81"><div class="ttname"><a href="classllvm_1_1Attribute.html#afb8975f28d8418cad8ea770575736b81">llvm::Attribute::getWithAlignment</a></div><div class="ttdeci">static Attribute getWithAlignment(LLVMContext &amp;Context, Align Alignment)</div><div class="ttdoc">Return a uniquified Attribute object that has the specific alignment set.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00167">Attributes.cpp:167</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a81f38aca859ffeda166f8c385f7d55a5"><div class="ttname"><a href="classllvm_1_1Function.html#a81f38aca859ffeda166f8c385f7d55a5">llvm::Function::doesNotThrow</a></div><div class="ttdeci">bool doesNotThrow() const</div><div class="ttdoc">Determine if the function cannot unwind.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00535">Function.h:535</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a83e6442f8ebefccdb5e089732fe397ac"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a83e6442f8ebefccdb5e089732fe397ac">llvm::details::FixedOrScalableQuantity&lt; ElementCount, unsigned &gt;::isKnownLT</a></div><div class="ttdeci">static constexpr bool isKnownLT(const FixedOrScalableQuantity &amp;LHS, const FixedOrScalableQuantity &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00198">TypeSize.h:198</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2997340992a508357b480467a6901c70"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2997340992a508357b480467a6901c70">llvm::PatternMatch::m_FPExt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::FPExt &gt; m_FPExt(const OpTy &amp;Op)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01687">PatternMatch.h:1687</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_a071b3581888d9e3b0b05cec58f152a91"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">llvm::APIntOps::umax</a></div><div class="ttdeci">const APInt &amp; umax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be unsigned.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02190">APInt.h:2190</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">llvm::NVPTX::PTXLdStInstCode::V2</a></div><div class="ttdeci">@ V2</div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00124">NVPTX.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCRelocateInst_html_ab825396e92860b35839338f7f1df75ad"><div class="ttname"><a href="classllvm_1_1GCRelocateInst.html#ab825396e92860b35839338f7f1df75ad">llvm::GCRelocateInst::getBasePtr</a></div><div class="ttdeci">Value * getBasePtr() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00813">IntrinsicInst.cpp:813</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa656aa475d13ec6a900414eadabe86b0"><div class="ttname"><a href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">llvm::minnum</a></div><div class="ttdeci">LLVM_READONLY APFloat minnum(const APFloat &amp;A, const APFloat &amp;B)</div><div class="ttdoc">Implements IEEE minNum semantics.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01346">APFloat.h:1346</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a337deb4326c2dbbe852f77d2d213a9fb"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a337deb4326c2dbbe852f77d2d213a9fb">llvm::IRBuilderBase::getFalse</a></div><div class="ttdeci">ConstantInt * getFalse()</div><div class="ttdoc">Get the constant value for i1 false.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00457">IRBuilder.h:457</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ab4c04665274d4f30d732639dc055821c"><div class="ttname"><a href="classllvm_1_1APInt.html#ab4c04665274d4f30d732639dc055821c">llvm::APInt::uadd_sat</a></div><div class="ttdeci">APInt uadd_sat(const APInt &amp;RHS) const</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02019">APInt.cpp:2019</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a82dbbd8e3688b0bc1eedb338864d0d0c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">llvm::ConstantInt::getTrue</a></div><div class="ttdeci">static ConstantInt * getTrue(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00835">Constants.cpp:835</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdoc">Constructor to create a '0' constant of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00356">Constants.cpp:356</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html"><div class="ttname"><a href="structllvm_1_1KnownBits.html">llvm::KnownBits</a></div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00023">KnownBits.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_html_aebf1ed936ad0e792e159d7a4ae1b7f07"><div class="ttname"><a href="namespacellvm.html#aebf1ed936ad0e792e159d7a4ae1b7f07">llvm::None</a></div><div class="ttdeci">constexpr std::nullopt_t None</div><div class="ttdef"><b>Definition:</b> <a href="None_8h_source.html#l00028">None.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_afa29f0cd072ab9b3a2630681ffe5760f"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#afa29f0cd072ab9b3a2630681ffe5760f">llvm::ConstantExpr::getNeg</a></div><div class="ttdeci">static Constant * getNeg(Constant *C, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02644">Constants.cpp:2644</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnyMemSetInst_html"><div class="ttname"><a href="classllvm_1_1AnyMemSetInst.html">llvm::AnyMemSetInst</a></div><div class="ttdoc">This class represents any memset intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01207">IntrinsicInst.h:1207</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_a31d2885660f654b31d8741726c3ea8d9"><div class="ttname"><a href="classllvm_1_1CastInst.html#a31d2885660f654b31d8741726c3ea8d9">llvm::CastInst::CreateBitOrPointerCast</a></div><div class="ttdeci">static CastInst * CreateBitOrPointerCast(Value *S, Type *Ty, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Create a BitCast, a PtrToInt, or an IntToPTr cast instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03509">Instructions.cpp:3509</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ad2ecbbccee1ca4e3ddde24cc714ec79e"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ad2ecbbccee1ca4e3ddde24cc714ec79e">llvm::KnownBits::countMinPopulation</a></div><div class="ttdeci">unsigned countMinPopulation() const</div><div class="ttdoc">Returns the number of bits known to be one.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00293">KnownBits.h:293</a></div></div>
<div class="ttc" id="aregutils_8h_html_a1fa2460e32327ade49189c95740bc1b5"><div class="ttname"><a href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a></div><div class="ttdeci">#define NC</div><div class="ttdef"><b>Definition:</b> <a href="regutils_8h_source.html#l00042">regutils.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_af85efaaa4ecdbcac97c45c8351d826b7"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#af85efaaa4ecdbcac97c45c8351d826b7">llvm::BinaryOperator::CreateNUW</a></div><div class="ttdeci">static BinaryOperator * CreateNUW(BinaryOps Opc, Value *V1, Value *V2, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00301">InstrTypes.h:301</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_afe7d477c6022fe7123b90e3b39c58e69"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#afe7d477c6022fe7123b90e3b39c58e69">llvm::ConstantInt::getBool</a></div><div class="ttdeci">static ConstantInt * getBool(LLVMContext &amp;Context, bool V)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00849">Constants.cpp:849</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_adde2ea00dd2613ee41bfe91908e4e68e"><div class="ttname"><a href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">llvm::CallBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01349">InstrTypes.h:1349</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a34ee40bb2f4f5ece47ef19e5f1f57e3c"><div class="ttname"><a href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">llvm::Type::isIntOrIntVectorTy</a></div><div class="ttdeci">bool isIntOrIntVectorTy() const</div><div class="ttdoc">Return true if this is an integer type or a vector of integer types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00228">Type.h:228</a></div></div>
<div class="ttc" id="aGlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a1d0a7c99f3541df874ad98ba481b27d6"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a1d0a7c99f3541df874ad98ba481b27d6">fcSubnormal</a></div><div class="ttdeci">@ fcSubnormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00214">FloatingPointMode.h:214</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFP_html_a5eb8f7a5d3cfdd127ad9db2e425e14eb"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">llvm::ConstantFP::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, double V)</div><div class="ttdoc">This returns a ConstantFP, or a vector containing a splat of a ConstantFP, for the specified value in...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00934">Constants.cpp:934</a></div></div>
<div class="ttc" id="anamespacellvm_html_a333a0c4bc262cf38e006a6d6b8ac560e"><div class="ttname"><a href="namespacellvm.html#a333a0c4bc262cf38e006a6d6b8ac560e">llvm::getAllocAlignment</a></div><div class="ttdeci">Value * getAllocAlignment(const CallBase *V, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Gets the alignment argument for an aligned_alloc-like function, using either built-in knowledge based...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00341">MemoryBuiltins.cpp:341</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html_a67863dcb94c6197f4ec88282c2406ded"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html#a67863dcb94c6197f4ec88282c2406ded">llvm::InstCombinerImpl::visitCallBrInst</a></div><div class="ttdeci">Instruction * visitCallBrInst(CallBrInst &amp;CBI)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l03002">InstCombineCalls.cpp:3002</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_aa8454ff54215a2f051cbe7175c46ffcf"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#aa8454ff54215a2f051cbe7175c46ffcf">LowAndHigh</a></div><div class="ttdeci">Metadata * LowAndHigh[]</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00068">NVVMIntrRange.cpp:68</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2787d1134842ab0b9be8694d95ccbdd7"><div class="ttname"><a href="namespacellvm.html#a2787d1134842ab0b9be8694d95ccbdd7">llvm::isRemovableAlloc</a></div><div class="ttdeci">bool isRemovableAlloc(const CallBase *V, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Return true if this is a call to an allocation function that does not have side effects that we are r...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00330">MemoryBuiltins.cpp:330</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html_a039111728e11b1cdf25e60446ae17f2a"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html#a039111728e11b1cdf25e60446ae17f2a">llvm::InstCombinerImpl::FoldOpIntoSelect</a></div><div class="ttdeci">Instruction * FoldOpIntoSelect(Instruction &amp;Op, SelectInst *SI, bool FoldWithMultiUse=false)</div><div class="ttdoc">Given an instruction with a select as one operand and a constant as the other operand,...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionCombining_8cpp_source.html#l01095">InstructionCombining.cpp:1095</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a62e5c125845f77203ae51b81446dfa58"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a62e5c125845f77203ae51b81446dfa58">llvm::BinaryOperator::CreateNSWNeg</a></div><div class="ttdeci">static BinaryOperator * CreateNSWNeg(Value *Op, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l02982">Instructions.cpp:2982</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a3d95cc2d359b8d9ed5bd9504b44930b5"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">llvm::DenseMapBase::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00099">DenseMap.h:99</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a39d717dc10783ec7bd5a24111bd5b8a5"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a39d717dc10783ec7bd5a24111bd5b8a5">llvm::PatternMatch::m_BSwap</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_BSwap(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02166">PatternMatch.h:2166</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a5cef66dcb1fc369e64240a0bff194597"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a5cef66dcb1fc369e64240a0bff194597">powi</a></div><div class="ttdeci">This is blocked on not handling X *X *X powi(X, 3)(see note above). The issue is that we end up getting t</div></div>
<div class="ttc" id="anamespacellvm_1_1AttributeFuncs_html_ae48bd752d74f193a0651b89931b28025"><div class="ttname"><a href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">llvm::AttributeFuncs::typeIncompatible</a></div><div class="ttdeci">AttributeMask typeIncompatible(Type *Ty, AttributeSafetyKind ASK=ASK_ALL)</div><div class="ttdoc">Which attributes cannot be applied to a type.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01889">Attributes.cpp:1889</a></div></div>
<div class="ttc" id="anamespacellvm_html_a06c60fef11885eadbda4026c83ae9a13a9ac50ff0c308dad407db9f09e418363e"><div class="ttname"><a href="namespacellvm.html#a06c60fef11885eadbda4026c83ae9a13a9ac50ff0c308dad407db9f09e418363e">llvm::OverflowResult::AlwaysOverflowsHigh</a></div><div class="ttdeci">@ AlwaysOverflowsHigh</div><div class="ttdoc">Always overflows in the direction of signed/unsigned max value.</div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_adf50671db83d2813e0d897ea2cfc9102"><div class="ttname"><a href="classllvm_1_1Function.html#adf50671db83d2813e0d897ea2cfc9102">llvm::Function::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const</div><div class="ttdoc">Returns the FunctionType for me.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00174">Function.h:174</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a874d53817a4923de8e58af6b278c09b0"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">llvm::PatternMatch::m_ZeroInt</a></div><div class="ttdeci">cst_pred_ty&lt; is_zero_int &gt; m_ZeroInt()</div><div class="ttdoc">Match an integer 0 or a vector with all elements equal to 0.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00524">PatternMatch.h:524</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0434306df3aa5ec48fcf19d0958d7c01"><div class="ttname"><a href="namespacellvm.html#a0434306df3aa5ec48fcf19d0958d7c01">llvm::getInverseMinMaxIntrinsic</a></div><div class="ttdeci">Intrinsic::ID getInverseMinMaxIntrinsic(Intrinsic::ID MinMaxID)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06614">ValueTracking.cpp:6614</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3ffbacd388121d5e3ba1c4360b7449d0"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">llvm::PatternMatch::m_PtrToInt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::PtrToInt &gt; m_PtrToInt(const OpTy &amp;Op)</div><div class="ttdoc">Matches PtrToInt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01599">PatternMatch.h:1599</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">llvm::MCID::Add</a></div><div class="ttdeci">@ Add</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00186">MCInstrDesc.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a7ac9329ef7292ee640d87f45ce7ae05c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">llvm::CallBase::getCalledOperand</a></div><div class="ttdeci">Value * getCalledOperand() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01399">InstrTypes.h:1399</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_a7bb58097e5f88eef40c12b7e066e2bfd"><div class="ttname"><a href="InstCombineCalls_8cpp.html#a7bb58097e5f88eef40c12b7e066e2bfd">createOverflowTuple</a></div><div class="ttdeci">static Instruction * createOverflowTuple(IntrinsicInst *II, Value *Result, Constant *Overflow)</div><div class="ttdoc">Creates a result tuple for an overflow intrinsic II with a given Result and a constant Overflow value...</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00814">InstCombineCalls.cpp:814</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdoc">A wrapper class for inspecting calls to intrinsic functions.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00047">IntrinsicInst.h:47</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a60c3b254a3f56b2bf31bc568492c4a74"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a60c3b254a3f56b2bf31bc568492c4a74">fcNegNormal</a></div><div class="ttdeci">@ fcNegNormal</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00203">FloatingPointMode.h:203</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a595e5029858e33416e500bed9317d309"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a595e5029858e33416e500bed9317d309">llvm::PatternMatch::m_LogicalShift</a></div><div class="ttdeci">BinOpPred_match&lt; LHS, RHS, is_logical_shift_op &gt; m_LogicalShift(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches logical shift operations.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01311">PatternMatch.h:1311</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2ff0f084844b189a858647d637d47eba"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">llvm::PatternMatch::m_Not</a></div><div class="ttdeci">BinaryOp_match&lt; cst_pred_ty&lt; is_all_ones &gt;, ValTy, Instruction::Xor, true &gt; m_Not(const ValTy &amp;V)</div><div class="ttdoc">Matches a 'Not' as 'xor V, -1' or 'xor -1, V'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02302">PatternMatch.h:2302</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ac26154a24f393f523c87cc5f8239f36c"><div class="ttname"><a href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">llvm::Instruction::BinaryOps</a></div><div class="ttdeci">BinaryOps</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00809">Instruction.h:809</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_aed565a1dfd056c37a481581db8cdbedd"><div class="ttname"><a href="classllvm_1_1Instruction.html#aed565a1dfd056c37a481581db8cdbedd">llvm::Instruction::hasAllowReassoc</a></div><div class="ttdeci">bool hasAllowReassoc() const LLVM_READONLY</div><div class="ttdoc">Determine whether the allow-reassociation flag is set.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00304">Instruction.cpp:304</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a1e6f0d8dfed0ab631b488a3e6317718e"><div class="ttname"><a href="classllvm_1_1APInt.html#a1e6f0d8dfed0ab631b488a3e6317718e">llvm::APInt::getSignMask</a></div><div class="ttdeci">static APInt getSignMask(unsigned BitWidth)</div><div class="ttdoc">Get the SignMask for a specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00209">APInt.h:209</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a6d3231fb84ed4182ec22e9442a87dbf8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a6d3231fb84ed4182ec22e9442a87dbf8">llvm::BasicBlock::reverse_iterator</a></div><div class="ttdeci">InstListType::reverse_iterator reverse_iterator</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00089">BasicBlock.h:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1ShuffleVectorInst_html"><div class="ttname"><a href="classllvm_1_1ShuffleVectorInst.html">llvm::ShuffleVectorInst</a></div><div class="ttdoc">This instruction constructs a fixed permutation of two input vectors.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02017">Instructions.h:2017</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a54155244e7b172a97fe5b3096d84fa97"><div class="ttname"><a href="classllvm_1_1Type.html#a54155244e7b172a97fe5b3096d84fa97">llvm::Type::isOpaquePointerTy</a></div><div class="ttdeci">bool isOpaquePointerTy() const</div><div class="ttdoc">True if this is an instance of an opaque PointerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00060">Type.cpp:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a60311aae406df2143c650f3bce27e036"><div class="ttname"><a href="classllvm_1_1Instruction.html#a60311aae406df2143c650f3bce27e036">llvm::Instruction::isFast</a></div><div class="ttdeci">bool isFast() const LLVM_READONLY</div><div class="ttdoc">Determine whether all fast-math-flags are set.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00299">Instruction.cpp:299</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830eaf552e181879ad14956985859308d77d9"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eaf552e181879ad14956985859308d77d9">llvm::RecurKind::FAdd</a></div><div class="ttdeci">@ FAdd</div><div class="ttdoc">Sum of floats.</div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67a716ec8744e413e6a82f58f1095b40b99"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67a716ec8744e413e6a82f58f1095b40b99">fcNegInf</a></div><div class="ttdeci">@ fcNegInf</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00202">FloatingPointMode.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a81eef9d7336f7ee43be79630d8e8ec86"><div class="ttname"><a href="classllvm_1_1Type.html#a81eef9d7336f7ee43be79630d8e8ec86">llvm::Type::isStructTy</a></div><div class="ttdeci">bool isStructTy() const</div><div class="ttdoc">True if this is an instance of StructType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00243">Type.h:243</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeSet_html"><div class="ttname"><a href="classllvm_1_1AttributeSet.html">llvm::AttributeSet</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00295">Attributes.h:295</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2d9861feadd3a09792967a012559e7b2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">llvm::PatternMatch::m_Specific</a></div><div class="ttdeci">specificval_ty m_Specific(const Value *V)</div><div class="ttdoc">Match if we have a specific specified value.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00772">PatternMatch.h:772</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a31c5c58143c6e9da9c544a7afcba2710"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">llvm::IRBuilderBase::CreateCall</a></div><div class="ttdeci">CallInst * CreateCall(FunctionType *FTy, Value *Callee, ArrayRef&lt; Value * &gt; Args=std::nullopt, const Twine &amp;Name=&quot;&quot;, MDNode *FPMathTag=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02293">IRBuilder.h:2293</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3fe9b3ddb71b9fb53d9fc74b3a0710bf"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">llvm::PatternMatch::m_ICmp</a></div><div class="ttdeci">CmpClass_match&lt; LHS, RHS, ICmpInst, ICmpInst::Predicate &gt; m_ICmp(ICmpInst::Predicate &amp;Pred, const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01394">PatternMatch.h:1394</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">llvm::CmpInst::ICMP_UGT</a></div><div class="ttdeci">@ ICMP_UGT</div><div class="ttdoc">unsigned greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00741">InstrTypes.h:741</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a2eeb1c7ed1cfe403f2ae0470e36c07e2"><div class="ttname"><a href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">llvm::User::op_begin</a></div><div class="ttdeci">op_iterator op_begin()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00234">User.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ab2caa29167597390ab2fc3cf30d70389"><div class="ttname"><a href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">llvm::CallBase::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01351">InstrTypes.h:1351</a></div></div>
<div class="ttc" id="aSmallBitVector_8h_html"><div class="ttname"><a href="SmallBitVector_8h.html">SmallBitVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html_aa313c1d2241d530cabfd1bbb8301ce72"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html#aa313c1d2241d530cabfd1bbb8301ce72">llvm::IntrinsicInst::isCommutative</a></div><div class="ttdeci">bool isCommutative() const</div><div class="ttdoc">Return true if swapping the first two arguments to the intrinsic produces the same result.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00060">IntrinsicInst.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aInstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_aa3e1005525fe79e631f1fe5bd91fdf3c"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aa3e1005525fe79e631f1fe5bd91fdf3c">llvm::ConstantExpr::getMul</a></div><div class="ttdeci">static Constant * getMul(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02671">Constants.cpp:2671</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html_a800c1300065ca1615d2f4fb88623afd5af85bb6bcf02a05fdd35f660e57d82534"><div class="ttname"><a href="classllvm_1_1LLVMContext.html#a800c1300065ca1615d2f4fb88623afd5af85bb6bcf02a05fdd35f660e57d82534">llvm::LLVMContext::OB_gc_live</a></div><div class="ttdeci">@ OB_gc_live</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00094">LLVMContext.h:94</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ab50076cb704b1bd42c536d9f51c5100e"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ab50076cb704b1bd42c536d9f51c5100e">llvm::PatternMatch::m_NSWNeg</a></div><div class="ttdeci">OverflowingBinaryOp_match&lt; cst_pred_ty&lt; is_zero_int &gt;, ValTy, Instruction::Sub, OverflowingBinaryOperator::NoSignedWrap &gt; m_NSWNeg(const ValTy &amp;V)</div><div class="ttdoc">Matches a 'Neg' as 'sub nsw 0, V'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02293">PatternMatch.h:2293</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a8de021e28a3c04c9216ad8decf104f02"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">const Instruction * getTerminator() const LLVM_READONLY</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00127">BasicBlock.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a3e6d2896c39a84cfa6c47f34cdc584ff"><div class="ttname"><a href="classllvm_1_1Instruction.html#a3e6d2896c39a84cfa6c47f34cdc584ff">llvm::Instruction::copyIRFlags</a></div><div class="ttdeci">void copyIRFlags(const Value *V, bool IncludeWrapFlags=true)</div><div class="ttdoc">Convenience method to copy supported exact, fast-math, and (optionally) wrapping flags from V to this...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00348">Instruction.cpp:348</a></div></div>
<div class="ttc" id="anamespacellvm_html_a855f472cab89fb74cbc7075b164d78f0"><div class="ttname"><a href="namespacellvm.html#a855f472cab89fb74cbc7075b164d78f0">llvm::buildAssumeFromKnowledge</a></div><div class="ttdeci">AssumeInst * buildAssumeFromKnowledge(ArrayRef&lt; RetainedKnowledge &gt; Knowledge, Instruction *CtxI, AssumptionCache *AC=nullptr, DominatorTree *DT=nullptr)</div><div class="ttdoc">Build and return a new assume created from the provided knowledge if the knowledge in the assume is f...</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00307">AssumeBundleBuilder.cpp:307</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a763a932e166ac85a6d2d1606e8649993"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a763a932e166ac85a6d2d1606e8649993">Struct</a></div><div class="ttdeci">@ Struct</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00063">TargetLibraryInfo.cpp:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a92041fc7f781ba4fe708eec99139b72f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a92041fc7f781ba4fe708eec99139b72f">llvm::GlobalValue::getType</a></div><div class="ttdeci">PointerType * getType() const</div><div class="ttdoc">Global values are always pointers.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00290">GlobalValue.h:290</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a6d883605206368bc536cc9ded97209b8"><div class="ttname"><a href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">llvm::Module::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdoc">Get the data layout for the module's target platform.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00398">Module.cpp:398</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9c6b351507d3c0730f4290919d43a12"><div class="ttname"><a href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef</a></div><div class="ttdeci">ArrayRef(const T &amp;OneElt) -&gt; ArrayRef&lt; T &gt;</div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2fed53ed2b3225752bd9e4fce4967361"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">llvm::PatternMatch::m_Neg</a></div><div class="ttdeci">BinaryOp_match&lt; cst_pred_ty&lt; is_zero_int &gt;, ValTy, Instruction::Sub &gt; m_Neg(const ValTy &amp;V)</div><div class="ttdoc">Matches a 'Neg' as 'sub 0, V'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02284">PatternMatch.h:2284</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ad960e1ff48d25c382b6d28e7961f074e"><div class="ttname"><a href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">llvm::APInt::getLowBitsSet</a></div><div class="ttdeci">static APInt getLowBitsSet(unsigned numBits, unsigned loBitsSet)</div><div class="ttdoc">Constructs an APInt value that has the bottom loBitsSet bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00289">APInt.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html_a14f7b4f1aed38192fb6b7772eb506bdb"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">llvm::IntegerType::get</a></div><div class="ttdeci">static IntegerType * get(LLVMContext &amp;C, unsigned NumBits)</div><div class="ttdoc">This static method is the primary way of constructing an IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00313">Type.cpp:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfoImpl_html_a6fe2425902ca5775f3b350cfbe49cc8f"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfoImpl.html#a6fe2425902ca5775f3b350cfbe49cc8f">llvm::TargetLibraryInfoImpl::isCallingConvCCompatible</a></div><div class="ttdeci">static bool isCallingConvCCompatible(CallBase *CI)</div><div class="ttdoc">Returns true if call site / callee has cdecl-compatible calling conventions.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00137">TargetLibraryInfo.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a4fdc09049a61f952b5d52788dbd2f69b"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">llvm::KnownBits::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Get the bit width of this value.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00040">KnownBits.h:40</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aBlockVerifier_8cpp_html_ae45c7d73c0ff5d177b59153ffae77f84"><div class="ttname"><a href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a></div><div class="ttdeci">BlockVerifier::State From</div><div class="ttdef"><b>Definition:</b> <a href="BlockVerifier_8cpp_source.html#l00055">BlockVerifier.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae6726acc1703b8e5e7e9688621c67c33"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae6726acc1703b8e5e7e9688621c67c33">llvm::IRBuilderBase::CreateSub</a></div><div class="ttdeci">Value * CreateSub(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01259">IRBuilder.h:1259</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ae855357b6c5e6e7ed1869272708a3a84"><div class="ttname"><a href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">llvm::Value::takeName</a></div><div class="ttdeci">void takeName(Value *V)</div><div class="ttdoc">Transfer the name from V to this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00381">Value.cpp:381</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstCombinerImpl_html_a557f3c41bf651bbd713f9220c59f0b1a"><div class="ttname"><a href="classllvm_1_1InstCombinerImpl.html#a557f3c41bf651bbd713f9220c59f0b1a">llvm::InstCombinerImpl::SimplifyAnyMemSet</a></div><div class="ttdeci">Instruction * SimplifyAnyMemSet(AnyMemSetInst *MI)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00244">InstCombineCalls.cpp:244</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a76adb4549f349676de0a703a497ca5a5"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a></div><div class="ttdeci">Module * Mod</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00054">PassBuilderBindings.cpp:54</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a5b844aada27c4c6fdb87146ac458c0d8"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">llvm::PatternMatch::m_Trunc</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::Trunc &gt; m_Trunc(const OpTy &amp;Op)</div><div class="ttdoc">Matches Trunc.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01611">PatternMatch.h:1611</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7b03ed78a8e299bde6d26a8793cd4e06"><div class="ttname"><a href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">llvm::NullPointerIsDefined</a></div><div class="ttdeci">bool NullPointerIsDefined(const Function *F, unsigned AS=0)</div><div class="ttdoc">Check whether null pointer dereferencing is considered undefined behavior for a given function or an ...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l02136">Function.cpp:2136</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_ab04846c93ea7d802afbaa48efd84f37e"><div class="ttname"><a href="classllvm_1_1AttributeList.html#ab04846c93ea7d802afbaa48efd84f37e">llvm::AttributeList::hasParamAttr</a></div><div class="ttdeci">bool hasParamAttr(unsigned ArgNo, Attribute::AttrKind Kind) const</div><div class="ttdoc">Return true if the attribute exists for the given argument.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00764">Attributes.h:764</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_acc00a93ed593f135b4b54de32d484e6b"><div class="ttname"><a href="classllvm_1_1Attribute.html#acc00a93ed593f135b4b54de32d484e6b">llvm::Attribute::getWithByValType</a></div><div class="ttdeci">static Attribute getWithByValType(LLVMContext &amp;Context, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00189">Attributes.cpp:189</a></div></div>
<div class="ttc" id="aInstCombineCalls_8cpp_html_af81876d44c8fa22864767ba4d9bf5b0a"><div class="ttname"><a href="InstCombineCalls_8cpp.html#af81876d44c8fa22864767ba4d9bf5b0a">getKnownSign</a></div><div class="ttdeci">static std::optional&lt; bool &gt; getKnownSign(Value *Op, Instruction *CxtI, const DataLayout &amp;DL, AssumptionCache *AC, DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="InstCombineCalls_8cpp_source.html#l00925">InstCombineCalls.cpp:925</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_ada7a173c40ca7ac048a4b7099ceb71c0"><div class="ttname"><a href="classllvm_1_1AttributeList.html#ada7a173c40ca7ac048a4b7099ceb71c0">llvm::AttributeList::getParamAttrs</a></div><div class="ttdeci">AttributeSet getParamAttrs(unsigned ArgNo) const</div><div class="ttdoc">The attributes for the argument or parameter at the given index are returned.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01454">Attributes.cpp:1454</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAggregateZero_html_abfa1cf8b4348407b167f93bc7c01055f"><div class="ttname"><a href="classllvm_1_1ConstantAggregateZero.html#abfa1cf8b4348407b167f93bc7c01055f">llvm::ConstantAggregateZero::get</a></div><div class="ttdeci">static ConstantAggregateZero * get(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01595">Constants.cpp:1595</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a651563a742c52504d1980955fe75b95d"><div class="ttname"><a href="classllvm_1_1Type.html#a651563a742c52504d1980955fe75b95d">llvm::Type::canLosslesslyBitCastTo</a></div><div class="ttdeci">bool canLosslesslyBitCastTo(Type *Ty) const</div><div class="ttdoc">Return true if this type could be converted with a lossless BitCast to type 'Ty'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00104">Type.cpp:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a499ea32ca1b8d16cedfe01d1e5b08f29"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00667">SmallVector.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a02ce9966395063ac501ecbc1623deda4"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a02ce9966395063ac501ecbc1623deda4">llvm::BinaryOperator::Create</a></div><div class="ttdeci">static BinaryOperator * Create(BinaryOps Op, Value *S1, Value *S2, const Twine &amp;Name=Twine(), Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Construct a binary instruction, given the opcode and the two operands.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l02950">Instructions.cpp:2950</a></div></div>
<div class="ttc" id="anamespacellvm_html_a434f6a0d80fb13e4326e848a6391f057"><div class="ttname"><a href="namespacellvm.html#a434f6a0d80fb13e4326e848a6391f057">llvm::isPowerOf2_64</a></div><div class="ttdeci">constexpr bool isPowerOf2_64(uint64_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0 (64 bit edition.)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00297">MathExtras.h:297</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttrBuilder_html_a39fc1d3fa5b22ffc2dc48e94b40409e2"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html#a39fc1d3fa5b22ffc2dc48e94b40409e2">llvm::AttrBuilder::overlaps</a></div><div class="ttdeci">bool overlaps(const AttributeMask &amp;AM) const</div><div class="ttdoc">Return true if the builder has any attribute that's in the specified builder.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01853">Attributes.cpp:1853</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2816e84a08c108d18bc4665bc1817e01"><div class="ttname"><a href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">llvm::abs</a></div><div class="ttdeci">APFloat abs(APFloat X)</div><div class="ttdoc">Returns the absolute value of the argument.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01332">APFloat.h:1332</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ad4201fc3d0958c5d8dff30af6fa45803"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ad4201fc3d0958c5d8dff30af6fa45803">llvm::PatternMatch::m_VecReverse</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_VecReverse(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02216">PatternMatch.h:2216</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a753e1338645ec04d045211b8a46d968d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a753e1338645ec04d045211b8a46d968d">llvm::PatternMatch::m_Cmp</a></div><div class="ttdeci">class_match&lt; CmpInst &gt; m_Cmp()</div><div class="ttdoc">Matches any compare instruction and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00089">PatternMatch.h:89</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2795a96498eb92ff9e37f87fba5f5807"><div class="ttname"><a href="namespacellvm.html#a2795a96498eb92ff9e37f87fba5f5807">llvm::simplifyCall</a></div><div class="ttdeci">Value * simplifyCall(CallBase *Call, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given a callsite, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06530">InstructionSimplify.cpp:6530</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_ac453ad79a3d50950bac79bc9dff85918"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00124">DerivedTypes.h:124</a></div></div>
<div class="ttc" id="anamespacellvm_html_abe76d72cda6b2b4562c72accb510040b"><div class="ttname"><a href="namespacellvm.html#abe76d72cda6b2b4562c72accb510040b">llvm::isSafeToSpeculativelyExecute</a></div><div class="ttdeci">bool isSafeToSpeculativelyExecute(const Instruction *I, const Instruction *CtxI=nullptr, AssumptionCache *AC=nullptr, const DominatorTree *DT=nullptr, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the instruction does not have any effects besides calculating the result and does not ...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04799">ValueTracking.cpp:4799</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_af5dcb6d3da4b30a7d21c9fb39bbf1a68a503c0b646ea0b3868c0c8380fdc688b8"><div class="ttname"><a href="classllvm_1_1AttributeList.html#af5dcb6d3da4b30a7d21c9fb39bbf1a68a503c0b646ea0b3868c0c8380fdc688b8">llvm::AttributeList::FirstArgIndex</a></div><div class="ttdeci">@ FirstArgIndex</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00437">Attributes.h:437</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_afee2477c062b67b487941ee0f4ff95ba"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">llvm::APIntOps::smax</a></div><div class="ttdeci">const APInt &amp; smax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be signed.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02180">APInt.h:2180</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a5269e6b95f5007a652d53ca847cca6f3"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a5269e6b95f5007a652d53ca847cca6f3">llvm::AttributeList::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Return true if there are no attributes.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00942">Attributes.h:942</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a213e6c0ca6e838157373b9a6018c0769"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a213e6c0ca6e838157373b9a6018c0769">llvm::PatternMatch::m_LogicalAnd</a></div><div class="ttdeci">LogicalOp_match&lt; LHS, RHS, Instruction::And &gt; m_LogicalAnd(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches L &amp;&amp; R either in the form of L &amp; R or L ? R : false.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02556">PatternMatch.h:2556</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ac63dbb4994494c46f025715272cdb81e"><div class="ttname"><a href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">llvm::CallBase::args</a></div><div class="ttdeci">iterator_range&lt; User::op_iterator &gt; args()</div><div class="ttdoc">Iteration adapter for range-for loops.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01342">InstrTypes.h:1342</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_af67d1f3a518964d80a109bb3d9d5cf1e"><div class="ttname"><a href="classllvm_1_1Instruction.html#af67d1f3a518964d80a109bb3d9d5cf1e">llvm::Instruction::moveBefore</a></div><div class="ttdeci">void moveBefore(Instruction *MovePos)</div><div class="ttdoc">Unlink this instruction from its current basic block and insert it into the basic block that MovePos ...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00108">Instruction.cpp:108</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a0851b4de29686e9c3918449b054cfada"><div class="ttname"><a href="classllvm_1_1CallBase.html#a0851b4de29686e9c3918449b054cfada">llvm::CallBase::setCallingConv</a></div><div class="ttdeci">void setCallingConv(CallingConv::ID CC)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01469">InstrTypes.h:1469</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdoc">Class to represent function types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00103">DerivedTypes.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1PoisonValue_html_a1bf08613fb664a2e377a9a72c59a6b66"><div class="ttname"><a href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">llvm::PoisonValue::get</a></div><div class="ttdeci">static PoisonValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'poison' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01759">Constants.cpp:1759</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:23:41 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
