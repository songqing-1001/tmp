<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/ExecutionEngine/Orc/CompileOnDemandLayer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_9ff4c6dc1720636682ab045c894e9bc5.html">ExecutionEngine</a></li><li class="navelem"><a class="el" href="dir_5e11c450ca4c873ca81149e572d5ac9a.html">Orc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">CompileOnDemandLayer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="CompileOnDemandLayer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===----- CompileOnDemandLayer.cpp - Lazily emit IR on first call --------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CompileOnDemandLayer_8h.html">llvm/ExecutionEngine/Orc/CompileOnDemandLayer.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Hashing_8h.html">llvm/ADT/Hashing.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ExecutionUtils_8h.html">llvm/ExecutionEngine/Orc/ExecutionUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Mangler_8h.html">llvm/IR/Mangler.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FormatVariadic_8h.html">llvm/Support/FormatVariadic.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1orc.html">llvm::orc</a>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="CompileOnDemandLayer_8cpp.html#a01f706e23190c71e799d87c5eef792e6">   20</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html">ThreadSafeModule</a> <a class="code" href="CompileOnDemandLayer_8cpp.html#a01f706e23190c71e799d87c5eef792e6">extractSubModule</a>(<a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html">ThreadSafeModule</a> &amp;TSM,</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;                                         <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Suffix,</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                                         <a class="code" href="namespacellvm_1_1orc.html#a5f3cb3675844c50f1c416bf4d1aaa162">GVPredicate</a> ShouldExtract) {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  <span class="keyword">auto</span> DeleteExtractedDefs = [](<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> &amp;GV) {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="comment">// Bump the linkage: this global will be provided by the external module.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    GV.setLinkage(<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">// Delete the definition in the source module.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Function&gt;(GV)) {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;      <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = cast&lt;Function&gt;(GV);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.deleteBody();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setPersonalityFn(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;GlobalVariable&gt;(GV)) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;      cast&lt;GlobalVariable&gt;(GV).setInitializer(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;GlobalAlias&gt;(GV)) {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;      <span class="comment">// We need to turn deleted aliases into function or variable decls based</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      <span class="comment">// on the type of their aliasee.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      <span class="keyword">auto</span> &amp;A = cast&lt;GlobalAlias&gt;(GV);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Aliasee = A.getAliasee();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(A.hasName() &amp;&amp; <span class="stringliteral">&quot;Anonymous alias?&quot;</span>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Aliasee-&gt;<a class="code" href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">hasName</a>() &amp;&amp; <span class="stringliteral">&quot;Anonymous aliasee&quot;</span>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      std::string AliasName = std::string(A.getName());</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      <span class="keywordflow">if</span> (isa&lt;Function&gt;(Aliasee)) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="namespacellvm_1_1orc.html#a993ad5e82f2d59de8127cfcb38a62e0a">cloneFunctionDecl</a>(*A.getParent(), *cast&lt;Function&gt;(Aliasee));</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        A.replaceAllUsesWith(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        A.eraseFromParent();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setName(AliasName);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;GlobalVariable&gt;(Aliasee)) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keyword">auto</span> *<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a> = <a class="code" href="namespacellvm_1_1orc.html#a88db5656a6723001ab395e9db68094c2">cloneGlobalVariableDecl</a>(*A.getParent(),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                          *cast&lt;GlobalVariable&gt;(Aliasee));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        A.replaceAllUsesWith(<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        A.eraseFromParent();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>-&gt;setName(AliasName);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Alias to unsupported type&quot;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unsupported global type&quot;</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  };</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">auto</span> NewTSM = <a class="code" href="namespacellvm_1_1orc.html#acb572d27661acd51c80b1bca18cd1ee3">cloneToNewContext</a>(TSM, ShouldExtract, DeleteExtractedDefs);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  NewTSM.withModuleDo([&amp;](<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.setModuleIdentifier((<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleIdentifier() + Suffix).str());</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  });</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">return</span> NewTSM;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">namespace </span>orc {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1PartitioningIRMaterializationUnit.html">   72</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1orc_1_1PartitioningIRMaterializationUnit.html">PartitioningIRMaterializationUnit</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1orc_1_1IRMaterializationUnit.html">IRMaterializationUnit</a> {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1PartitioningIRMaterializationUnit.html#a58eab85797f3356bdb294247c1d242c8">   74</a></span>&#160;  <a class="code" href="classllvm_1_1orc_1_1PartitioningIRMaterializationUnit.html#a58eab85797f3356bdb294247c1d242c8">PartitioningIRMaterializationUnit</a>(<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html">ExecutionSession</a> &amp;ES,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structllvm_1_1orc_1_1IRSymbolMapper_1_1ManglingOptions.html">IRSymbolMapper::ManglingOptions</a> &amp;MO,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                    <a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html">ThreadSafeModule</a> TSM,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                    <a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html">CompileOnDemandLayer</a> &amp;Parent)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      : <a class="code" href="classllvm_1_1orc_1_1IRMaterializationUnit.html">IRMaterializationUnit</a>(ES, MO, <a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(TSM)), Parent(Parent) {}</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1PartitioningIRMaterializationUnit.html#ad67932c9687c9de2a391c1dc875c2fea">   80</a></span>&#160;  <a class="code" href="classllvm_1_1orc_1_1PartitioningIRMaterializationUnit.html#ad67932c9687c9de2a391c1dc875c2fea">PartitioningIRMaterializationUnit</a>(</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html">ThreadSafeModule</a> TSM, <a class="code" href="structllvm_1_1orc_1_1MaterializationUnit_1_1Interface.html">Interface</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1IRMaterializationUnit.html#acda17e0078ab60791c6e794f403b71ff">SymbolNameToDefinitionMap</a> SymbolToDefinition,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html">CompileOnDemandLayer</a> &amp;Parent)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      : <a class="code" href="classllvm_1_1orc_1_1IRMaterializationUnit.html">IRMaterializationUnit</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(TSM), <a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>),</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                              <a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(SymbolToDefinition)),</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        Parent(Parent) {}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">void</span> materialize(std::unique_ptr&lt;MaterializationResponsibility&gt; R)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    Parent.emitPartition(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(R), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(TSM),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                         <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SymbolToDefinition));</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordtype">void</span> discard(<span class="keyword">const</span> <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1orc_1_1SymbolStringPtr.html">SymbolStringPtr</a> &amp;Name)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// All original symbols were materialized by the CODLayer and should be</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// final. The function bodies provided by M should never be overridden.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Discard should never be called on an &quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                     <span class="stringliteral">&quot;ExtractingIRMaterializationUnit&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keyword">mutable</span> std::mutex SourceModuleMutex;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html">CompileOnDemandLayer</a> &amp;Parent;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;};</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;std::optional&lt;CompileOnDemandLayer::GlobalValueSet&gt;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#ace099d7c074c92ee6f4e1b8d3e503337">  106</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#ace099d7c074c92ee6f4e1b8d3e503337">CompileOnDemandLayer::compileRequested</a>(<a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a66f51d8bfe0c80e95a85aaddbfcdbcb9">GlobalValueSet</a> Requested) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Requested);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;std::optional&lt;CompileOnDemandLayer::GlobalValueSet&gt;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a344dcb5d23ce6a79391641e6cb316077">  111</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a344dcb5d23ce6a79391641e6cb316077">CompileOnDemandLayer::compileWholeModule</a>(<a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a66f51d8bfe0c80e95a85aaddbfcdbcb9">GlobalValueSet</a> Requested) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a190df0b39f9d6a9021512a55ac269380">  115</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a190df0b39f9d6a9021512a55ac269380">CompileOnDemandLayer::CompileOnDemandLayer</a>(</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html">ExecutionSession</a> &amp;ES, <a class="code" href="classllvm_1_1orc_1_1IRLayer.html">IRLayer</a> &amp;BaseLayer, <a class="code" href="classllvm_1_1orc_1_1LazyCallThroughManager.html">LazyCallThroughManager</a> &amp;LCTMgr,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a1a6fff30096cadbc6270e3154546e651">IndirectStubsManagerBuilder</a> BuildIndirectStubsManager)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    : <a class="code" href="classllvm_1_1orc_1_1IRLayer.html">IRLayer</a>(ES, BaseLayer.getManglingOptions()), BaseLayer(BaseLayer),</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      LCTMgr(LCTMgr),</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      BuildIndirectStubsManager(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(BuildIndirectStubsManager)) {}</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#aee3b2319f8542d2f707b006f28d863ec">  122</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#aee3b2319f8542d2f707b006f28d863ec">CompileOnDemandLayer::setPartitionFunction</a>(<a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#ae418aef1206d49aa91863150c39e35c6">PartitionFunction</a> Partition) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  this-&gt;Partition = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Partition);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a8c83c3ebb9955cd544d63f03830ec1bd">  126</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a8c83c3ebb9955cd544d63f03830ec1bd">CompileOnDemandLayer::setImplMap</a>(<a class="code" href="classllvm_1_1orc_1_1ImplSymbolMap.html">ImplSymbolMap</a> *Imp) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  this-&gt;AliaseeImpls = Imp;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a5dca26fa81cfcdd8f5f19e73d8130b57">  129</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a5dca26fa81cfcdd8f5f19e73d8130b57">CompileOnDemandLayer::emit</a>(</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    std::unique_ptr&lt;MaterializationResponsibility&gt; R, <a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html">ThreadSafeModule</a> TSM) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TSM &amp;&amp; <span class="stringliteral">&quot;Null module&quot;</span>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keyword">auto</span> &amp;ES = <a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a72db0bab13b12b0d907b601505cd7b2c">getExecutionSession</a>();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// Sort the callables and non-callables, build re-exports and lodge the</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// actual module with the implementation dylib.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keyword">auto</span> &amp;PDR = getPerDylibResources(R-&gt;getTargetJITDylib());</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">SymbolAliasMap</a> NonCallables;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">SymbolAliasMap</a> Callables;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  TSM.<a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html#a5dc53e9bbda9066a1ade839494fe0cd9">withModuleDo</a>([&amp;](<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// First, do some cleanup on the module:</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    cleanUpModule(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  });</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;KV : R-&gt;getSymbols()) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">auto</span> &amp;Name = KV.first;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">auto</span> &amp;Flags = KV.second;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (Flags.isCallable())</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      Callables[Name] = <a class="code" href="structllvm_1_1orc_1_1SymbolAliasMapEntry.html">SymbolAliasMapEntry</a>(Name, Flags);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      NonCallables[Name] = <a class="code" href="structllvm_1_1orc_1_1SymbolAliasMapEntry.html">SymbolAliasMapEntry</a>(Name, Flags);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// Create a partitioning materialization unit and lodge it with the</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// implementation dylib.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = PDR.getImplDylib().define(</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;          std::make_unique&lt;PartitioningIRMaterializationUnit&gt;(</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;              ES, *<a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a1ff818a0667c43b8a2d5224c6795ab6c">getManglingOptions</a>(), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(TSM), *<span class="keyword">this</span>))) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    ES.reportError(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    R-&gt;failMaterialization();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">if</span> (!NonCallables.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>())</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err =</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            R-&gt;replace(<a class="code" href="namespacellvm_1_1orc.html#ab4d8f884901caffbc28f236e32a34214">reexports</a>(PDR.getImplDylib(), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(NonCallables),</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                 <a class="code" href="namespacellvm_1_1orc.html#a7cb1d8cb0ab2329f032d69d79498c81da5fa8627bea3ff4b720673b9a298caf2d">JITDylibLookupFlags::MatchAllSymbols</a>))) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a72db0bab13b12b0d907b601505cd7b2c">getExecutionSession</a>().<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a1c47ed6ddfb6770f1a432af1c9acdc44">reportError</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      R-&gt;failMaterialization();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">if</span> (!Callables.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>()) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = R-&gt;replace(</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="namespacellvm_1_1orc.html#aa27b6709ca5a0bd3c386522f80959a15">lazyReexports</a>(LCTMgr, PDR.getISManager(), PDR.getImplDylib(),</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                          <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Callables), AliaseeImpls))) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a72db0bab13b12b0d907b601505cd7b2c">getExecutionSession</a>().<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a1c47ed6ddfb6770f1a432af1c9acdc44">reportError</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      R-&gt;failMaterialization();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;CompileOnDemandLayer::PerDylibResources &amp;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;CompileOnDemandLayer::getPerDylibResources(<a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;TargetD) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  std::lock_guard&lt;std::mutex&gt; Lock(CODLayerMutex);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = DylibResources.find(&amp;TargetD);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == DylibResources.end()) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">auto</span> &amp;ImplD =</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a72db0bab13b12b0d907b601505cd7b2c">getExecutionSession</a>().<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a6576b19a186104b0ee0d910ea472cab2">createBareJITDylib</a>(TargetD.<a class="code" href="classllvm_1_1jitlink_1_1JITLinkDylib.html#ae6e963861ab89caa7a7681db54d55853">getName</a>() + <span class="stringliteral">&quot;.impl&quot;</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="namespacellvm_1_1orc.html#a23b61f83f663d3dbca5ae5f5bff1bcb6">JITDylibSearchOrder</a> NewLinkOrder;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    TargetD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#a82001e6ef07752d7eb0843a693f90bd0">withLinkOrderDo</a>([&amp;](<span class="keyword">const</span> <a class="code" href="namespacellvm_1_1orc.html#a23b61f83f663d3dbca5ae5f5bff1bcb6">JITDylibSearchOrder</a> &amp;TargetLinkOrder) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      NewLinkOrder = TargetLinkOrder;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    });</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!NewLinkOrder.empty() &amp;&amp; NewLinkOrder.front().first == &amp;TargetD &amp;&amp;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;           NewLinkOrder.front().second ==</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;               <a class="code" href="namespacellvm_1_1orc.html#a7cb1d8cb0ab2329f032d69d79498c81da5fa8627bea3ff4b720673b9a298caf2d">JITDylibLookupFlags::MatchAllSymbols</a> &amp;&amp;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;           <span class="stringliteral">&quot;TargetD must be at the front of its own search order and match &quot;</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;           <span class="stringliteral">&quot;non-exported symbol&quot;</span>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    NewLinkOrder.insert(std::next(NewLinkOrder.begin()),</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                        {&amp;ImplD, JITDylibLookupFlags::MatchAllSymbols});</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    ImplD.setLinkOrder(NewLinkOrder, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    TargetD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#ab5c917be01faae33e9df9295e1dffdd7">setLinkOrder</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(NewLinkOrder), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    PerDylibResources PDR(ImplD, BuildIndirectStubsManager());</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = DylibResources.insert(std::make_pair(&amp;TargetD, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(PDR))).first;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keywordtype">void</span> CompileOnDemandLayer::cleanUpModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions()) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration())</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasAvailableExternallyLinkage()) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.deleteBody();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setPersonalityFn(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="keywordtype">void</span> CompileOnDemandLayer::expandPartition(GlobalValueSet &amp;Partition) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// Expands the partition to ensure the following rules hold:</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// (1) If any alias is in the partition, its aliasee is also in the partition.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// (2) If any aliasee is in the partition, its aliases are also in the</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">//     partiton.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// (3) If any global variable is in the partition then all global variables</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">//     are in the partition.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Partition.empty() &amp;&amp; <span class="stringliteral">&quot;Unexpected empty partition&quot;</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *(*Partition.begin())-&gt;<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordtype">bool</span> ContainsGlobalVariables = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  std::vector&lt;const GlobalValue *&gt; GVsToAdd;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *GV : Partition)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> (isa&lt;GlobalAlias&gt;(GV))</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      GVsToAdd.push_back(</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          cast&lt;GlobalValue&gt;(cast&lt;GlobalAlias&gt;(GV)-&gt;getAliasee()));</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;GlobalVariable&gt;(GV))</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      ContainsGlobalVariables = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;A : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.aliases())</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span> (Partition.count(cast&lt;GlobalValue&gt;(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.getAliasee())))</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      GVsToAdd.push_back(&amp;A);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">if</span> (ContainsGlobalVariables)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a> : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals())</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      GVsToAdd.push_back(&amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *GV : GVsToAdd)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    Partition.<a class="code" href="classllvm_1_1Function.html#aaab8110aafc070c83bc701b13d2260df">insert</a>(GV);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keywordtype">void</span> CompileOnDemandLayer::emitPartition(</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    std::unique_ptr&lt;MaterializationResponsibility&gt; R, <a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html">ThreadSafeModule</a> TSM,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1IRMaterializationUnit.html#acda17e0078ab60791c6e794f403b71ff">IRMaterializationUnit::SymbolNameToDefinitionMap</a> Defs) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// FIXME: Need a &#39;notify lazy-extracting/emitting&#39; callback to tie the</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">//        extracted module key, extracted module, and source module key</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">//        together. This could be used, for example, to provide a specific</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">//        memory manager instance to the linking layer.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keyword">auto</span> &amp;ES = <a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a72db0bab13b12b0d907b601505cd7b2c">getExecutionSession</a>();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a66f51d8bfe0c80e95a85aaddbfcdbcb9">GlobalValueSet</a> RequestedGVs;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Name : <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;getRequestedSymbols()) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (Name == <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;getInitializerSymbol())</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      TSM.<a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html#a5dc53e9bbda9066a1ade839494fe0cd9">withModuleDo</a>([&amp;](<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;GV : <a class="code" href="namespacellvm_1_1orc.html#ae79a98b3074553beb3d945945e398d16">getStaticInitGVs</a>(M))</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;          RequestedGVs.insert(&amp;GV);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      });</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Defs.count(Name) &amp;&amp; <span class="stringliteral">&quot;No definition for symbol&quot;</span>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      RequestedGVs.insert(Defs[Name]);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">  /// Perform partitioning with the context lock held, since the partition</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">  /// function is allowed to access the globals to compute the partition.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span>  <span class="keyword">auto</span> GVsToExtract =</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      TSM.<a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html#a5dc53e9bbda9066a1ade839494fe0cd9">withModuleDo</a>([&amp;](<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) { <span class="keywordflow">return</span> Partition(RequestedGVs); });</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// Take a &#39;None&#39; partition to mean the whole module (as opposed to an empty</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// partition, which means &quot;materialize nothing&quot;). Emit the whole module</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// unmodified to the base layer.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span> (GVsToExtract == std::nullopt) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    Defs.clear();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    BaseLayer.<a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a3432ce8c435e826875e4476505a4c2fc">emit</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(R), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(TSM));</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// If the partition is empty, return the whole module to the symbol table.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span> (GVsToExtract-&gt;empty()) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err =</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;replace(std::make_unique&lt;PartitioningIRMaterializationUnit&gt;(</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(TSM),</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <a class="code" href="structllvm_1_1orc_1_1MaterializationUnit_1_1Interface.html">MaterializationUnit::Interface</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;getSymbols(),</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                               <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;getInitializerSymbol()),</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Defs), *<span class="keyword">this</span>))) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a72db0bab13b12b0d907b601505cd7b2c">getExecutionSession</a>().<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a1c47ed6ddfb6770f1a432af1c9acdc44">reportError</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;failMaterialization();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// Ok -- we actually need to partition the symbols. Promote the symbol</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// linkages/names, expand the partition to include any required symbols</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// (i.e. symbols that can&#39;t be separated from our partition), and</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// then extract the partition.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">// FIXME: We apply this promotion once per partitioning. It&#39;s safe, but</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// overkill.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keyword">auto</span> ExtractedTSM =</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      TSM.<a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html#a5dc53e9bbda9066a1ade839494fe0cd9">withModuleDo</a>([&amp;](<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) -&gt; <a class="code" href="classllvm_1_1Expected.html">Expected&lt;ThreadSafeModule&gt;</a> {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keyword">auto</span> PromotedGlobals = PromoteSymbols(M);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">if</span> (!PromotedGlobals.empty()) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;          <a class="code" href="classllvm_1_1orc_1_1MangleAndInterner.html">MangleAndInterner</a> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324aa26650625d0b324c8f102c8d1fd46f22">Mangle</a>(ES, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout());</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          <a class="code" href="classllvm_1_1DenseMap.html">SymbolFlagsMap</a> <a class="code" href="namespacellvm_1_1MachO.html#abf69d7d02356968b4f36bc37bcbfe5b4">SymbolFlags</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;          <a class="code" href="classllvm_1_1orc_1_1IRSymbolMapper.html#a49258c0e5a9200b48bd7122eea077796">IRSymbolMapper::add</a>(ES, *<a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a1ff818a0667c43b8a2d5224c6795ab6c">getManglingOptions</a>(),</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                              PromotedGlobals, <a class="code" href="namespacellvm_1_1MachO.html#abf69d7d02356968b4f36bc37bcbfe5b4">SymbolFlags</a>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;defineMaterializing(<a class="code" href="namespacellvm_1_1MachO.html#abf69d7d02356968b4f36bc37bcbfe5b4">SymbolFlags</a>))</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        expandPartition(*GVsToExtract);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="comment">// Submodule name is given by hashing the names of the globals.</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        std::string SubModuleName;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          std::vector&lt;const GlobalValue*&gt; HashGVs;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          HashGVs.reserve(GVsToExtract-&gt;size());</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *GV : *GVsToExtract)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            HashGVs.push_back(GV);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(HashGVs, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt; <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            });</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          <a class="code" href="classllvm_1_1hash__code.html">hash_code</a> HC(0);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *GV : HashGVs) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(GV-&gt;hasName() &amp;&amp; <span class="stringliteral">&quot;All GVs to extract should be named by now&quot;</span>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keyword">auto</span> GVName = GV-&gt;getName();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            HC = <a class="code" href="namespacellvm.html#add71474638430694c84640146383fc44">hash_combine</a>(HC, <a class="code" href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">hash_combine_range</a>(GVName.begin(), GVName.end()));</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;          <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a>(SubModuleName)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;.submodule.&quot;</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>) == 8 ? <span class="stringliteral">&quot;{0:x16}&quot;</span> : <span class="stringliteral">&quot;{0:x8}&quot;</span>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                       <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(HC))</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;.ll&quot;</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="comment">// Extract the requested partiton (plus any necessary aliases) and</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="comment">// put the rest back into the impl dylib.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keyword">auto</span> ShouldExtract = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> &amp;GV) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;          <span class="keywordflow">return</span> GVsToExtract-&gt;count(&amp;GV);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        };</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="CompileOnDemandLayer_8cpp.html#a01f706e23190c71e799d87c5eef792e6">extractSubModule</a>(TSM, SubModuleName , ShouldExtract);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      });</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">if</span> (!ExtractedTSM) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    ES.reportError(ExtractedTSM.takeError());</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;failMaterialization();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;replace(std::make_unique&lt;PartitioningIRMaterializationUnit&gt;(</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;          ES, *<a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a1ff818a0667c43b8a2d5224c6795ab6c">getManglingOptions</a>(), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(TSM), *<span class="keyword">this</span>))) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    ES.reportError(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;failMaterialization();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  BaseLayer.<a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a3432ce8c435e826875e4476505a4c2fc">emit</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(R), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*ExtractedTSM));</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;} <span class="comment">// end namespace orc</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;} <span class="comment">// end namespace llvm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1orc_1_1IRSymbolMapper_html_a49258c0e5a9200b48bd7122eea077796"><div class="ttname"><a href="classllvm_1_1orc_1_1IRSymbolMapper.html#a49258c0e5a9200b48bd7122eea077796">llvm::orc::IRSymbolMapper::add</a></div><div class="ttdeci">static void add(ExecutionSession &amp;ES, const ManglingOptions &amp;MO, ArrayRef&lt; GlobalValue * &gt; GVs, SymbolFlagsMap &amp;SymbolFlags, SymbolNameToDefinitionMap *SymbolToDefinition=nullptr)</div><div class="ttdoc">Add mangled symbols for the given GlobalValues to SymbolFlags.</div><div class="ttdef"><b>Definition:</b> <a href="Mangling_8cpp_source.html#l00031">Mangling.cpp:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html_ace099d7c074c92ee6f4e1b8d3e503337"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#ace099d7c074c92ee6f4e1b8d3e503337">llvm::orc::CompileOnDemandLayer::compileRequested</a></div><div class="ttdeci">static std::optional&lt; GlobalValueSet &gt; compileRequested(GlobalValueSet Requested)</div><div class="ttdoc">Off-the-shelf partitioning which compiles all requested symbols (usually a single function at a time)...</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00106">CompileOnDemandLayer.cpp:106</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html_a82001e6ef07752d7eb0843a693f90bd0"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html#a82001e6ef07752d7eb0843a693f90bd0">llvm::orc::JITDylib::withLinkOrderDo</a></div><div class="ttdeci">auto withLinkOrderDo(Func &amp;&amp;F) -&gt; decltype(F(std::declval&lt; const JITDylibSearchOrder &amp; &gt;()))</div><div class="ttdoc">Do something with the link order (run under the session lock).</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l01806">Core.h:1806</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html">llvm::orc::JITDylib</a></div><div class="ttdoc">Represents a JIT'd dynamic library.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l00961">Core.h:961</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html_a8c83c3ebb9955cd544d63f03830ec1bd"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a8c83c3ebb9955cd544d63f03830ec1bd">llvm::orc::CompileOnDemandLayer::setImplMap</a></div><div class="ttdeci">void setImplMap(ImplSymbolMap *Imp)</div><div class="ttdoc">Sets the ImplSymbolMap.</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00126">CompileOnDemandLayer.cpp:126</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html_ab5c917be01faae33e9df9295e1dffdd7"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html#ab5c917be01faae33e9df9295e1dffdd7">llvm::orc::JITDylib::setLinkOrder</a></div><div class="ttdeci">void setLinkOrder(JITDylibSearchOrder NewSearchOrder, bool LinkAgainstThisJITDylibFirst=true)</div><div class="ttdoc">Set the link order to be used when fixing up definitions in JITDylib.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8cpp_source.html#l01317">Core.cpp:1317</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ImplSymbolMap_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ImplSymbolMap.html">llvm::orc::ImplSymbolMap</a></div><div class="ttdef"><b>Definition:</b> <a href="Speculation_8h_source.html#l00034">Speculation.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1IRMaterializationUnit_html"><div class="ttname"><a href="classllvm_1_1orc_1_1IRMaterializationUnit.html">llvm::orc::IRMaterializationUnit</a></div><div class="ttdoc">IRMaterializationUnit is a convenient base class for MaterializationUnits wrapping LLVM IR.</div><div class="ttdef"><b>Definition:</b> <a href="Layer_8h_source.html#l00031">Layer.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_a1c47ed6ddfb6770f1a432af1c9acdc44"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#a1c47ed6ddfb6770f1a432af1c9acdc44">llvm::orc::ExecutionSession::reportError</a></div><div class="ttdeci">void reportError(Error Err)</div><div class="ttdoc">Report a error for this execution session.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l01493">Core.h:1493</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html_a190df0b39f9d6a9021512a55ac269380"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a190df0b39f9d6a9021512a55ac269380">llvm::orc::CompileOnDemandLayer::CompileOnDemandLayer</a></div><div class="ttdeci">CompileOnDemandLayer(ExecutionSession &amp;ES, IRLayer &amp;BaseLayer, LazyCallThroughManager &amp;LCTMgr, IndirectStubsManagerBuilder BuildIndirectStubsManager)</div><div class="ttdoc">Construct a CompileOnDemandLayer.</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00115">CompileOnDemandLayer.cpp:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00642">raw_ostream.h:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html_aee3b2319f8542d2f707b006f28d863ec"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#aee3b2319f8542d2f707b006f28d863ec">llvm::orc::CompileOnDemandLayer::setPartitionFunction</a></div><div class="ttdeci">void setPartitionFunction(PartitionFunction Partition)</div><div class="ttdoc">Sets the partition function.</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00122">CompileOnDemandLayer.cpp:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1jitlink_1_1JITLinkDylib_html_ae6e963861ab89caa7a7681db54d55853"><div class="ttname"><a href="classllvm_1_1jitlink_1_1JITLinkDylib.html#ae6e963861ab89caa7a7681db54d55853">llvm::jitlink::JITLinkDylib::getName</a></div><div class="ttdeci">const std::string &amp; getName() const</div><div class="ttdoc">Get the name for this JITLinkDylib.</div><div class="ttdef"><b>Definition:</b> <a href="JITLinkDylib_8h_source.html#l00026">JITLinkDylib.h:26</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SymbolStringPtr_html"><div class="ttname"><a href="classllvm_1_1orc_1_1SymbolStringPtr.html">llvm::orc::SymbolStringPtr</a></div><div class="ttdoc">Pointer to a pooled string representing a symbol name.</div><div class="ttdef"><b>Definition:</b> <a href="SymbolStringPool_8h_source.html#l00136">SymbolStringPool.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ad9d88ae321b98d8a3b7f394977ae6d7f"><div class="ttname"><a href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">llvm::Value::hasName</a></div><div class="ttdeci">bool hasName() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00261">Value.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html_ae418aef1206d49aa91863150c39e35c6"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#ae418aef1206d49aa91863150c39e35c6">llvm::orc::CompileOnDemandLayer::PartitionFunction</a></div><div class="ttdeci">std::function&lt; std::optional&lt; GlobalValueSet &gt;(GlobalValueSet Requested)&gt; PartitionFunction</div><div class="ttdoc">Partitioning function.</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8h_source.html#l00068">CompileOnDemandLayer.h:68</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1LazyCallThroughManager_html"><div class="ttname"><a href="classllvm_1_1orc_1_1LazyCallThroughManager.html">llvm::orc::LazyCallThroughManager</a></div><div class="ttdoc">Manages a set of 'lazy call-through' trampolines.</div><div class="ttdef"><b>Definition:</b> <a href="LazyReexports_8h_source.html#l00038">LazyReexports.h:38</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_aaab8110aafc070c83bc701b13d2260df"><div class="ttname"><a href="classllvm_1_1Function.html#aaab8110aafc070c83bc701b13d2260df">llvm::Function::insert</a></div><div class="ttdeci">Function::iterator insert(Function::iterator Position, BasicBlock *BB)</div><div class="ttdoc">Insert BB in the basic block list at Position.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00682">Function.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1IRLayer_html_a1ff818a0667c43b8a2d5224c6795ab6c"><div class="ttname"><a href="classllvm_1_1orc_1_1IRLayer.html#a1ff818a0667c43b8a2d5224c6795ab6c">llvm::orc::IRLayer::getManglingOptions</a></div><div class="ttdeci">const IRSymbolMapper::ManglingOptions *&amp; getManglingOptions() const</div><div class="ttdoc">Get the mangling options for this layer.</div><div class="ttdef"><b>Definition:</b> <a href="Layer_8h_source.html#l00078">Layer.h:78</a></div></div>
<div class="ttc" id="aHashing_8h_html"><div class="ttname"><a href="Hashing_8h.html">Hashing.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_aa27b6709ca5a0bd3c386522f80959a15"><div class="ttname"><a href="namespacellvm_1_1orc.html#aa27b6709ca5a0bd3c386522f80959a15">llvm::orc::lazyReexports</a></div><div class="ttdeci">std::unique_ptr&lt; LazyReexportsMaterializationUnit &gt; lazyReexports(LazyCallThroughManager &amp;LCTManager, IndirectStubsManager &amp;ISManager, JITDylib &amp;SourceJD, SymbolAliasMap CallableAliases, ImplSymbolMap *SrcJDLoc=nullptr)</div><div class="ttdoc">Define lazy-reexports based on the given SymbolAliasMap.</div><div class="ttdef"><b>Definition:</b> <a href="LazyReexports_8h_source.html#l00168">LazyReexports.h:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html"><div class="ttname"><a href="classllvm_1_1Expected.html">llvm::Expected</a></div><div class="ttdoc">Tagged union holding either a T or a Error.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00041">APFloat.h:41</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_abf69d7d02356968b4f36bc37bcbfe5b4"><div class="ttname"><a href="namespacellvm_1_1MachO.html#abf69d7d02356968b4f36bc37bcbfe5b4">llvm::MachO::SymbolFlags</a></div><div class="ttdeci">SymbolFlags</div><div class="ttdoc">Symbol flags.</div><div class="ttdef"><b>Definition:</b> <a href="Symbol_8h_source.html#l00024">Symbol.h:24</a></div></div>
<div class="ttc" id="aExecutionUtils_8h_html"><div class="ttname"><a href="ExecutionUtils_8h.html">ExecutionUtils.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="anamespacellvm_html_a07eb6e84b522073e52d92dccf5015c01"><div class="ttname"><a href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">llvm::formatv</a></div><div class="ttdeci">auto formatv(const char *Fmt, Ts &amp;&amp;... Vals) -&gt; formatv_object&lt; decltype(std::make_tuple(detail::build_format_adapter(std::forward&lt; Ts &gt;(Vals))...))&gt;</div><div class="ttdef"><b>Definition:</b> <a href="FormatVariadic_8h_source.html#l00251">FormatVariadic.h:251</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdeci">@ A</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00034">ARMBaseInfo.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html"><div class="ttname"><a href="namespacellvm_1_1orc.html">llvm::orc</a></div><div class="ttdef"><b>Definition:</b> <a href="COFFPlatform_8h_source.html#l00030">COFFPlatform.h:30</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a88db5656a6723001ab395e9db68094c2"><div class="ttname"><a href="namespacellvm_1_1orc.html#a88db5656a6723001ab395e9db68094c2">llvm::orc::cloneGlobalVariableDecl</a></div><div class="ttdeci">GlobalVariable * cloneGlobalVariableDecl(Module &amp;Dst, const GlobalVariable &amp;GV, ValueToValueMapTy *VMap=nullptr)</div><div class="ttdoc">Clone a global variable declaration into a new module.</div><div class="ttdef"><b>Definition:</b> <a href="IndirectionUtils_8cpp_source.html#l00352">IndirectionUtils.cpp:352</a></div></div>
<div class="ttc" id="aCompileOnDemandLayer_8cpp_html_a01f706e23190c71e799d87c5eef792e6"><div class="ttname"><a href="CompileOnDemandLayer_8cpp.html#a01f706e23190c71e799d87c5eef792e6">extractSubModule</a></div><div class="ttdeci">static ThreadSafeModule extractSubModule(ThreadSafeModule &amp;TSM, StringRef Suffix, GVPredicate ShouldExtract)</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00020">CompileOnDemandLayer.cpp:20</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MaterializationUnit_1_1Interface_html"><div class="ttname"><a href="structllvm_1_1orc_1_1MaterializationUnit_1_1Interface.html">llvm::orc::MaterializationUnit::Interface</a></div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l00680">Core.h:680</a></div></div>
<div class="ttc" id="aFormatVariadic_8h_html"><div class="ttname"><a href="FormatVariadic_8h.html">FormatVariadic.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_ae79a98b3074553beb3d945945e398d16"><div class="ttname"><a href="namespacellvm_1_1orc.html#ae79a98b3074553beb3d945945e398d16">llvm::orc::getStaticInitGVs</a></div><div class="ttdeci">iterator_range&lt; StaticInitGVIterator &gt; getStaticInitGVs(Module &amp;M)</div><div class="ttdoc">Create an iterator range over the GlobalValues that contribute to static initialization.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionUtils_8h_source.html#l00143">ExecutionUtils.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_a6576b19a186104b0ee0d910ea472cab2"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#a6576b19a186104b0ee0d910ea472cab2">llvm::orc::ExecutionSession::createBareJITDylib</a></div><div class="ttdeci">JITDylib &amp; createBareJITDylib(std::string Name)</div><div class="ttdoc">Add a new bare JITDylib to this ExecutionSession.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8cpp_source.html#l01941">Core.cpp:1941</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1IRLayer_html_a3432ce8c435e826875e4476505a4c2fc"><div class="ttname"><a href="classllvm_1_1orc_1_1IRLayer.html#a3432ce8c435e826875e4476505a4c2fc">llvm::orc::IRLayer::emit</a></div><div class="ttdeci">virtual void emit(std::unique_ptr&lt; MaterializationResponsibility &gt; R, ThreadSafeModule TSM)=0</div><div class="ttdoc">Emit should materialize the given IR.</div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01683">STLExtras.h:1683</a></div></div>
<div class="ttc" id="aRDFGraph_8cpp_html_af153ca0eadca8bc464492b7aba7feb00"><div class="ttname"><a href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a></div><div class="ttdeci">const DataFlowGraph &amp; G</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8cpp_source.html#l00200">RDFGraph.cpp:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; SymbolStringPtr, SymbolAliasMapEntry &gt;</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacellvm_html_abfc9c7ecf70f66901e439f7c04ef3dbb"><div class="ttname"><a href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a></div><div class="ttdeci">OutputIt move(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdoc">Provide wrappers to std::move which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01862">STLExtras.h:1862</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a23b61f83f663d3dbca5ae5f5bff1bcb6"><div class="ttname"><a href="namespacellvm_1_1orc.html#a23b61f83f663d3dbca5ae5f5bff1bcb6">llvm::orc::JITDylibSearchOrder</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; JITDylib *, JITDylibLookupFlags &gt; &gt; JITDylibSearchOrder</div><div class="ttdoc">A list of (JITDylib*, JITDylibLookupFlags) pairs to be used as a search order during symbol lookup.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l00159">Core.h:159</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1IRLayer_html_a72db0bab13b12b0d907b601505cd7b2c"><div class="ttname"><a href="classllvm_1_1orc_1_1IRLayer.html#a72db0bab13b12b0d907b601505cd7b2c">llvm::orc::IRLayer::getExecutionSession</a></div><div class="ttdeci">ExecutionSession &amp; getExecutionSession()</div><div class="ttdoc">Returns the ExecutionSession for this layer.</div><div class="ttdef"><b>Definition:</b> <a href="Layer_8h_source.html#l00075">Layer.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1PartitioningIRMaterializationUnit_html"><div class="ttname"><a href="classllvm_1_1orc_1_1PartitioningIRMaterializationUnit.html">llvm::orc::PartitioningIRMaterializationUnit</a></div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00072">CompileOnDemandLayer.cpp:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html_a66f51d8bfe0c80e95a85aaddbfcdbcb9"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a66f51d8bfe0c80e95a85aaddbfcdbcb9">llvm::orc::CompileOnDemandLayer::GlobalValueSet</a></div><div class="ttdeci">std::set&lt; const GlobalValue * &gt; GlobalValueSet</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8h_source.html#l00064">CompileOnDemandLayer.h:64</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_ab4d8f884901caffbc28f236e32a34214"><div class="ttname"><a href="namespacellvm_1_1orc.html#ab4d8f884901caffbc28f236e32a34214">llvm::orc::reexports</a></div><div class="ttdeci">std::unique_ptr&lt; ReExportsMaterializationUnit &gt; reexports(JITDylib &amp;SourceJD, SymbolAliasMap Aliases, JITDylibLookupFlags SourceJDLookupFlags=JITDylibLookupFlags::MatchExportedSymbolsOnly)</div><div class="ttdoc">Create a materialization unit for re-exporting symbols from another JITDylib with alternative names/f...</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l00826">Core.h:826</a></div></div>
<div class="ttc" id="aMangler_8h_html"><div class="ttname"><a href="Mangler_8h.html">Mangler.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html_a344dcb5d23ce6a79391641e6cb316077"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a344dcb5d23ce6a79391641e6cb316077">llvm::orc::CompileOnDemandLayer::compileWholeModule</a></div><div class="ttdeci">static std::optional&lt; GlobalValueSet &gt; compileWholeModule(GlobalValueSet Requested)</div><div class="ttdoc">Off-the-shelf partitioning which compiles whole modules whenever any symbol in them is requested.</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00111">CompileOnDemandLayer.cpp:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ThreadSafeModule_html_a5dc53e9bbda9066a1ade839494fe0cd9"><div class="ttname"><a href="classllvm_1_1orc_1_1ThreadSafeModule.html#a5dc53e9bbda9066a1ade839494fe0cd9">llvm::orc::ThreadSafeModule::withModuleDo</a></div><div class="ttdeci">decltype(auto) withModuleDo(Func &amp;&amp;F)</div><div class="ttdoc">Locks the associated ThreadSafeContext and calls the given function on the contained Module.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSafeModule_8h_source.html#l00133">ThreadSafeModule.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_a2675de1d8479c7b00387979714da43f7"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a></div><div class="ttdeci">static const Function * getParent(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00806">BasicAliasAnalysis.cpp:806</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a993ad5e82f2d59de8127cfcb38a62e0a"><div class="ttname"><a href="namespacellvm_1_1orc.html#a993ad5e82f2d59de8127cfcb38a62e0a">llvm::orc::cloneFunctionDecl</a></div><div class="ttdeci">Function * cloneFunctionDecl(Module &amp;Dst, const Function &amp;F, ValueToValueMapTy *VMap=nullptr)</div><div class="ttdoc">Clone a function declaration into a new module.</div><div class="ttdef"><b>Definition:</b> <a href="IndirectionUtils_8cpp_source.html#l00314">IndirectionUtils.cpp:314</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1SymbolAliasMapEntry_html"><div class="ttname"><a href="structllvm_1_1orc_1_1SymbolAliasMapEntry.html">llvm::orc::SymbolAliasMapEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l00383">Core.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MangleAndInterner_html"><div class="ttname"><a href="classllvm_1_1orc_1_1MangleAndInterner.html">llvm::orc::MangleAndInterner</a></div><div class="ttdoc">Mangles symbol names then uniques them in the context of an ExecutionSession.</div><div class="ttdef"><b>Definition:</b> <a href="Mangling_8h_source.html#l00026">Mangling.h:26</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1IRSymbolMapper_1_1ManglingOptions_html"><div class="ttname"><a href="structllvm_1_1orc_1_1IRSymbolMapper_1_1ManglingOptions.html">llvm::orc::IRSymbolMapper::ManglingOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="Mangling_8h_source.html#l00041">Mangling.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a5f3cb3675844c50f1c416bf4d1aaa162"><div class="ttname"><a href="namespacellvm_1_1orc.html#a5f3cb3675844c50f1c416bf4d1aaa162">llvm::orc::GVPredicate</a></div><div class="ttdeci">std::function&lt; bool(const GlobalValue &amp;)&gt; GVPredicate</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSafeModule_8h_source.html#l00169">ThreadSafeModule.h:169</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324aa26650625d0b324c8f102c8d1fd46f22"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324aa26650625d0b324c8f102c8d1fd46f22">llvm::ms_demangle::QualifierMangleMode::Mangle</a></div><div class="ttdeci">@ Mangle</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html_a1a6fff30096cadbc6270e3154546e651"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a1a6fff30096cadbc6270e3154546e651">llvm::orc::CompileOnDemandLayer::IndirectStubsManagerBuilder</a></div><div class="ttdeci">std::function&lt; std::unique_ptr&lt; IndirectStubsManager &gt;()&gt; IndirectStubsManagerBuilder</div><div class="ttdoc">Builder for IndirectStubsManagers.</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8h_source.html#l00062">CompileOnDemandLayer.h:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html">llvm::orc::ExecutionSession</a></div><div class="ttdoc">An ExecutionSession represents a running JIT program.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l01373">Core.h:1373</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html_a5dca26fa81cfcdd8f5f19e73d8130b57"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html#a5dca26fa81cfcdd8f5f19e73d8130b57">llvm::orc::CompileOnDemandLayer::emit</a></div><div class="ttdeci">void emit(std::unique_ptr&lt; MaterializationResponsibility &gt; R, ThreadSafeModule TSM) override</div><div class="ttdoc">Emits the given module.</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00129">CompileOnDemandLayer.cpp:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdeci">@ ExternalLinkage</div><div class="ttdoc">Externally visible function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00048">GlobalValue.h:48</a></div></div>
<div class="ttc" id="anamespacellvm_html_add71474638430694c84640146383fc44"><div class="ttname"><a href="namespacellvm.html#add71474638430694c84640146383fc44">llvm::hash_combine</a></div><div class="ttdeci">hash_code hash_combine(const Ts &amp;...args)</div><div class="ttdoc">Combine values into a single hash_code.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00613">Hashing.h:613</a></div></div>
<div class="ttc" id="anamespacellvm_html_af80edfc5e42059e045aa7bf7fe42bee3"><div class="ttname"><a href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">llvm::hash_combine_range</a></div><div class="ttdeci">hash_code hash_combine_range(InputIteratorT first, InputIteratorT last)</div><div class="ttdoc">Compute a hash_code for a sequence of values.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00491">Hashing.h:491</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ThreadSafeModule_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ThreadSafeModule.html">llvm::orc::ThreadSafeModule</a></div><div class="ttdoc">An LLVM Module together with a shared ThreadSafeContext.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSafeModule_8h_source.html#l00077">ThreadSafeModule.h:77</a></div></div>
<div class="ttc" id="aCompileOnDemandLayer_8h_html"><div class="ttname"><a href="CompileOnDemandLayer_8h.html">CompileOnDemandLayer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1IRMaterializationUnit_html_acda17e0078ab60791c6e794f403b71ff"><div class="ttname"><a href="classllvm_1_1orc_1_1IRMaterializationUnit.html#acda17e0078ab60791c6e794f403b71ff">llvm::orc::IRMaterializationUnit::SymbolNameToDefinitionMap</a></div><div class="ttdeci">std::map&lt; SymbolStringPtr, GlobalValue * &gt; SymbolNameToDefinitionMap</div><div class="ttdef"><b>Definition:</b> <a href="Layer_8h_source.html#l00033">Layer.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a7cb1d8cb0ab2329f032d69d79498c81da5fa8627bea3ff4b720673b9a298caf2d"><div class="ttname"><a href="namespacellvm_1_1orc.html#a7cb1d8cb0ab2329f032d69d79498c81da5fa8627bea3ff4b720673b9a298caf2d">llvm::orc::JITDylibLookupFlags::MatchAllSymbols</a></div><div class="ttdeci">@ MatchAllSymbols</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1IRLayer_html"><div class="ttname"><a href="classllvm_1_1orc_1_1IRLayer.html">llvm::orc::IRLayer</a></div><div class="ttdoc">Interface for layers that accept LLVM IR.</div><div class="ttdef"><b>Definition:</b> <a href="Layer_8h_source.html#l00067">Layer.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1PartitioningIRMaterializationUnit_html_ad67932c9687c9de2a391c1dc875c2fea"><div class="ttname"><a href="classllvm_1_1orc_1_1PartitioningIRMaterializationUnit.html#ad67932c9687c9de2a391c1dc875c2fea">llvm::orc::PartitioningIRMaterializationUnit::PartitioningIRMaterializationUnit</a></div><div class="ttdeci">PartitioningIRMaterializationUnit(ThreadSafeModule TSM, Interface I, SymbolNameToDefinitionMap SymbolToDefinition, CompileOnDemandLayer &amp;Parent)</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00080">CompileOnDemandLayer.cpp:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1CompileOnDemandLayer_html"><div class="ttname"><a href="classllvm_1_1orc_1_1CompileOnDemandLayer.html">llvm::orc::CompileOnDemandLayer</a></div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8h_source.html#l00056">CompileOnDemandLayer.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1PartitioningIRMaterializationUnit_html_a58eab85797f3356bdb294247c1d242c8"><div class="ttname"><a href="classllvm_1_1orc_1_1PartitioningIRMaterializationUnit.html#a58eab85797f3356bdb294247c1d242c8">llvm::orc::PartitioningIRMaterializationUnit::PartitioningIRMaterializationUnit</a></div><div class="ttdeci">PartitioningIRMaterializationUnit(ExecutionSession &amp;ES, const IRSymbolMapper::ManglingOptions &amp;MO, ThreadSafeModule TSM, CompileOnDemandLayer &amp;Parent)</div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8cpp_source.html#l00074">CompileOnDemandLayer.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1hash__code_html"><div class="ttname"><a href="classllvm_1_1hash__code.html">llvm::hash_code</a></div><div class="ttdoc">An opaque object representing a hash code.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00074">Hashing.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_acb572d27661acd51c80b1bca18cd1ee3"><div class="ttname"><a href="namespacellvm_1_1orc.html#acb572d27661acd51c80b1bca18cd1ee3">llvm::orc::cloneToNewContext</a></div><div class="ttdeci">ThreadSafeModule cloneToNewContext(const ThreadSafeModule &amp;TSMW, GVPredicate ShouldCloneDef=GVPredicate(), GVModifier UpdateClonedDefSource=GVModifier())</div><div class="ttdoc">Clones the given module on to a new context.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSafeModule_8cpp_source.html#l00018">ThreadSafeModule.cpp:18</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:04:15 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
