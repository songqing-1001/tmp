<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Analysis/MemoryDependenceAnalysis.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a25db018342d3ae6c7e6779086c18378.html">Analysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MemoryDependenceAnalysis.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MemoryDependenceAnalysis_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- MemoryDependenceAnalysis.cpp - Mem Deps Implementation -------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements an analysis that determines, for a given memory</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// operation, what preceding memory operations it depends on.  It builds on</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// alias analysis information, and tries to provide a lazy, caching interface to</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// a common kind of alias information query.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryDependenceAnalysis_8h.html">llvm/Analysis/MemoryDependenceAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryLocation_8h.html">llvm/Analysis/MemoryLocation.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PHITransAddr_8h.html">llvm/Analysis/PHITransAddr.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PredIteratorCache_8h.html">llvm/IR/PredIteratorCache.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Use_8h.html">llvm/IR/Use.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AtomicOrdering_8h.html">llvm/Support/AtomicOrdering.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   57</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;memdep&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCacheNonLocal, <span class="stringliteral">&quot;Number of fully cached non-local responses&quot;</span>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCacheDirtyNonLocal, <span class="stringliteral">&quot;Number of dirty cached non-local responses&quot;</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumUncacheNonLocal, <span class="stringliteral">&quot;Number of uncached non-local responses&quot;</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCacheNonLocalPtr,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;          <span class="stringliteral">&quot;Number of fully cached non-local ptr responses&quot;</span>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCacheDirtyNonLocalPtr,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;          <span class="stringliteral">&quot;Number of cached, but dirty, non-local ptr responses&quot;</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumUncacheNonLocalPtr, <span class="stringliteral">&quot;Number of uncached non-local ptr responses&quot;</span>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCacheCompleteNonLocalPtr,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          <span class="stringliteral">&quot;Number of block queries that were completely cached&quot;</span>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// Limit for the number of instructions to scan in a block.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a56f1e7a7af4b5d94c5f562b6977128a4">BlockScanLimit</a>(</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="stringliteral">&quot;memdep-block-scan-limit&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(100),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The number of instructions to scan in a block in memory &quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;             <span class="stringliteral">&quot;dependency analysis (default = 100)&quot;</span>));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="MemoryDependenceAnalysis_8cpp.html#acd3547fb1d6f146f260932c444b4f8c5">BlockNumberLimit</a>(<span class="stringliteral">&quot;memdep-block-number-limit&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(200),</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                     <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The number of blocks to scan during memory &quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                              <span class="stringliteral">&quot;dependency analysis (default = 200)&quot;</span>));</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">// Limit on the number of memdep results to process.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a2f0fcb9c7daf7faa22e51485d733a473">   84</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a2f0fcb9c7daf7faa22e51485d733a473">NumResultsLimit</a> = 100;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/// This is a helper function that removes Val from &#39;Inst&#39;s set in ReverseMap.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/// If the set becomes empty, remove Inst&#39;s entry.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyTy&gt;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">   91</a></span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a>(<a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *, <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;KeyTy, 4&gt;</a>&gt; &amp;ReverseMap,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                     <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst, KeyTy Val) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keyword">typename</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, SmallPtrSet&lt;KeyTy, 4&gt;</a>&gt;::iterator InstIt =</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      ReverseMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Inst);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InstIt != ReverseMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp; <span class="stringliteral">&quot;Reverse map out of sync?&quot;</span>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">bool</span> Found = InstIt-&gt;second.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(Val);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Found &amp;&amp; <span class="stringliteral">&quot;Invalid reverse map!&quot;</span>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  (void)Found;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">if</span> (InstIt-&gt;second.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>())</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    ReverseMap.erase(InstIt);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">/// If the given instruction references a specific memory location, fill in Loc</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">/// with the details, otherwise set Loc.Ptr to null.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">/// Returns a ModRefInfo value describing the general behavior of the</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">/// instruction.</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a3fd364675c871bdf0a532d46bab77e3d">  108</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a3fd364675c871bdf0a532d46bab77e3d">GetLocation</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst, <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(Inst)) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span> (LI-&gt;isUnordered()) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(LI);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">ModRefInfo::Ref</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (LI-&gt;getOrdering() == <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a14194d0b2e6c6680067975517cd58eac">AtomicOrdering::Monotonic</a>) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(LI);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">ModRefInfo::ModRef</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    Loc = <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a>();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">ModRefInfo::ModRef</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(Inst)) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isUnordered()) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942">ModRefInfo::Mod</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getOrdering() == <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a14194d0b2e6c6680067975517cd58eac">AtomicOrdering::Monotonic</a>) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">ModRefInfo::ModRef</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    Loc = <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">ModRefInfo::ModRef</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1VAArgInst.html">VAArgInst</a> *V = dyn_cast&lt;VAArgInst&gt;(Inst)) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(V);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">ModRefInfo::ModRef</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = dyn_cast&lt;CallBase&gt;(Inst)) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *FreedOp = <a class="code" href="namespacellvm.html#ab9cb77a3069c227792d6bade6faff422">getFreedOperand</a>(CB, &amp;TLI)) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="comment">// calls to free() deallocate the entire structure</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#a49f776e0940cc5d63d17d85ff6dac257">MemoryLocation::getAfter</a>(FreedOp);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942">ModRefInfo::Mod</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(Inst)) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">case</span> Intrinsic::lifetime_start:</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">case</span> Intrinsic::lifetime_end:</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">case</span> Intrinsic::invariant_start:</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#afc51de08aefeeaabc77fefacc869dbd4">MemoryLocation::getForArgument</a>(II, 1, TLI);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="comment">// These intrinsics don&#39;t really modify the memory, but returning Mod</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="comment">// will allow them to be handled conservatively.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942">ModRefInfo::Mod</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">case</span> Intrinsic::invariant_end:</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#afc51de08aefeeaabc77fefacc869dbd4">MemoryLocation::getForArgument</a>(II, 2, TLI);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="comment">// These intrinsics don&#39;t really modify the memory, but returning Mod</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="comment">// will allow them to be handled conservatively.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942">ModRefInfo::Mod</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">case</span> Intrinsic::masked_load:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#afc51de08aefeeaabc77fefacc869dbd4">MemoryLocation::getForArgument</a>(II, 0, TLI);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">ModRefInfo::Ref</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">case</span> Intrinsic::masked_store:</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#afc51de08aefeeaabc77fefacc869dbd4">MemoryLocation::getForArgument</a>(II, 1, TLI);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942">ModRefInfo::Mod</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// Otherwise, just do the coarse-grained thing that always works.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span> (Inst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a383175f96316074965ad115706bd49d7">mayWriteToMemory</a>())</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">ModRefInfo::ModRef</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">if</span> (Inst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9149819221d66953ac6c2938b87f0136">mayReadFromMemory</a>())</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">ModRefInfo::Ref</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ead974636fce6d12e72054e61fb3c1e9a8">ModRefInfo::NoModRef</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">/// Private helper for finding the local dependencies of a call site.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> MemoryDependenceResults::getCallDependencyFrom(</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *Call, <span class="keywordtype">bool</span> isReadOnlyCall, <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> ScanIt,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordtype">unsigned</span> Limit = <a class="code" href="classllvm_1_1MemoryDependenceResults.html#aa2685b1764b0730fb0ff4379700b9aba">getDefaultBlockScanLimit</a>();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// Walk backwards through the block, looking for dependencies.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">while</span> (ScanIt != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin()) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = &amp;*--ScanIt;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// Debug intrinsics don&#39;t cause dependences and should not affect Limit</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (isa&lt;DbgInfoIntrinsic&gt;(Inst))</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// Limit the amount of scanning we do so we don&#39;t end up with quadratic</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// running time on extreme testcases.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    --Limit;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (!Limit)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// If this inst is a memory op, get the pointer it accessed</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> Loc;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> MR = <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a3fd364675c871bdf0a532d46bab77e3d">GetLocation</a>(Inst, Loc, TLI);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="comment">// A simple instruction.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a854abfc88bcd24e3878e2c9ab1f70fd3">isModOrRefSet</a>(AA.<a class="code" href="classllvm_1_1AAResults.html#a2205e49ace8bb2fd9934342ff6a25e13">getModRefInfo</a>(Call, Loc)))</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CallB = dyn_cast&lt;CallBase&gt;(Inst)) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="comment">// If these two calls do not interfere, look past it.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ae96dbd1485a431400525ca17896ec48e">isNoModRef</a>(AA.<a class="code" href="classllvm_1_1AAResults.html#a2205e49ace8bb2fd9934342ff6a25e13">getModRefInfo</a>(Call, CallB))) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="comment">// If the two calls are the same, return Inst as a Def, so that</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="comment">// Call can be found redundant and eliminated.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">if</span> (isReadOnlyCall &amp;&amp; !<a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(MR) &amp;&amp;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;isIdenticalToWhenDefined(CallB))</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="comment">// Otherwise if the two calls don&#39;t interact (e.g. CallB is readnone)</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="comment">// keep scanning.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// If we could not obtain a pointer for the instruction and the instruction</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// touches memory then assume that this is a dependency.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a854abfc88bcd24e3878e2c9ab1f70fd3">isModOrRefSet</a>(MR))</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// No dependence found.  If this is the entry block of the function, it is</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// unknown, otherwise it is non-local.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getParent()-&gt;getEntryBlock())</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">MemDepResult::getNonLocal</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">MemDepResult::getNonFuncLocal</a>();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#a3928622cecd7b474f1c959b50897fae4">  240</a></span>&#160;<a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a2f2f5f9e9837f7f9010c8a26cbd04f6f">MemoryDependenceResults::getPointerDependencyFrom</a>(</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;MemLoc, <span class="keywordtype">bool</span> <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> ScanIt,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *QueryInst, <span class="keywordtype">unsigned</span> *Limit,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BatchAA) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> InvariantGroupDependency = <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">if</span> (QueryInst != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = dyn_cast&lt;LoadInst&gt;(QueryInst)) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      InvariantGroupDependency = <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a81ed5939e93e21552b452f5f82a73a38">getInvariantGroupPointerDependency</a>(LI, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">if</span> (InvariantGroupDependency.<a class="code" href="classllvm_1_1MemDepResult.html#a70bfd297fb0ed3a5fa0ef09b5a47b496">isDef</a>())</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">return</span> InvariantGroupDependency;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> SimpleDep = <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a10168569b54ede5f3a15b05463db9495">getSimplePointerDependencyFrom</a>(</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      MemLoc, <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, ScanIt, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, QueryInst, Limit, BatchAA);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">if</span> (SimpleDep.<a class="code" href="classllvm_1_1MemDepResult.html#a70bfd297fb0ed3a5fa0ef09b5a47b496">isDef</a>())</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">return</span> SimpleDep;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// Non-local invariant group dependency indicates there is non local Def</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">// (it only returns nonLocal if it finds nonLocal def), which is better than</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// local clobber and everything else.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">if</span> (InvariantGroupDependency.<a class="code" href="classllvm_1_1MemDepResult.html#a2b6159ef05223f67e8dd0a178377f06b">isNonLocal</a>())</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> InvariantGroupDependency;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InvariantGroupDependency.<a class="code" href="classllvm_1_1MemDepResult.html#aad752ec517a6efc823355c1e2fc21abb">isUnknown</a>() &amp;&amp;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;         <span class="stringliteral">&quot;InvariantGroupDependency should be only unknown at this point&quot;</span>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">return</span> SimpleDep;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#a2f2f5f9e9837f7f9010c8a26cbd04f6f">  268</a></span>&#160;<a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a2f2f5f9e9837f7f9010c8a26cbd04f6f">MemoryDependenceResults::getPointerDependencyFrom</a>(</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;MemLoc, <span class="keywordtype">bool</span> <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> ScanIt,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *QueryInst, <span class="keywordtype">unsigned</span> *Limit) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> BatchAA(AA);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a2f2f5f9e9837f7f9010c8a26cbd04f6f">getPointerDependencyFrom</a>(MemLoc, <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, ScanIt, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, QueryInst, Limit,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                  BatchAA);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a></div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#a81ed5939e93e21552b452f5f82a73a38">  277</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceResults.html#a81ed5939e93e21552b452f5f82a73a38">MemoryDependenceResults::getInvariantGroupPointerDependency</a>(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                                            <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span> (!LI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a565f546ad95bd3a9bbe9a1e5040803f0">hasMetadata</a>(LLVMContext::MD_invariant_group))</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">// Take the ptr operand after all casts and geps 0. This way we can search</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// cast graph down only.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LoadOperand = LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// It&#39;s is not safe to walk the use list of global value, because function</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// passes aren&#39;t allowed to look outside their functions.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// FIXME: this could be fixed by filtering instructions from outside</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// of current function.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">if</span> (isa&lt;GlobalValue&gt;(LoadOperand))</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// Queue to process all pointers that are equivalent to load operand.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 8&gt;</a> LoadOperandsQueue;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  LoadOperandsQueue.push_back(LoadOperand);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *ClosestDependency = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// Order of instructions in uses list is unpredictible. In order to always</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// get the same result, we will look for the closest dominance.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keyword">auto</span> GetClosestDependency = [<span class="keyword">this</span>](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Best, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a> &amp;&amp; <span class="stringliteral">&quot;Must call it with not null instruction&quot;</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (Best == <span class="keyword">nullptr</span> || DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(Best, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>))</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> Best;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  };</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// FIXME: This loop is O(N^2) because dominates can be O(n) and in worst case</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// we will see all the instructions. This should be fixed in MSSA.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">while</span> (!LoadOperandsQueue.empty()) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = LoadOperandsQueue.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> &amp;&amp; !isa&lt;GlobalValue&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) &amp;&amp;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;           <span class="stringliteral">&quot;Null or GlobalValue should not be inserted&quot;</span>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;Us : <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;uses()) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keyword">auto</span> *U = dyn_cast&lt;Instruction&gt;(Us.getUser());</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">if</span> (!U || U == LI || !DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(U, LI))</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="comment">// Bitcast or gep with zeros are using Ptr. Add to queue to check it&#39;s</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">// users.      U = bitcast Ptr</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">if</span> (isa&lt;BitCastInst&gt;(U)) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        LoadOperandsQueue.push_back(U);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">// Gep with zeros is equivalent to bitcast.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="comment">// FIXME: we are not sure if some bitcast should be canonicalized to gep 0</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="comment">// or gep 0 to bitcast because of SROA, so there are 2 forms. When</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="comment">// typeless pointers will be ready then both cases will be gone</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="comment">// (and this BFS also won&#39;t be needed).</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GetElementPtrInst&gt;(U))</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;hasAllZeroIndices()) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          LoadOperandsQueue.push_back(U);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">// If we hit load/store with the same invariant.group metadata (and the</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">// same pointer operand) we can assume that value pointed by pointer</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="comment">// operand didn&#39;t change.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">if</span> ((isa&lt;LoadInst&gt;(U) ||</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;           (isa&lt;StoreInst&gt;(U) &amp;&amp;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            cast&lt;StoreInst&gt;(U)-&gt;<a class="code" href="namespacellvm.html#ac2db21413768e904d56a02c26184823d">getPointerOperand</a>() == <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)) &amp;&amp;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          U-&gt;hasMetadata(LLVMContext::MD_invariant_group))</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        ClosestDependency = GetClosestDependency(ClosestDependency, U);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">if</span> (!ClosestDependency)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span> (ClosestDependency-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(ClosestDependency);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// Def(U) can&#39;t be returned here because it is non-local. If local</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// dependency won&#39;t be found then return nonLocal counting that the</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="comment">// user will call getNonLocalPointerDependency, which will return cached</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// result.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  NonLocalDefsCache.try_emplace(</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      LI, <a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(ClosestDependency-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(),</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                            <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(ClosestDependency), <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  ReverseNonLocalDefsCache[ClosestDependency].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(LI);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">MemDepResult::getNonLocal</a>();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#a10168569b54ede5f3a15b05463db9495">  363</a></span>&#160;<a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a10168569b54ede5f3a15b05463db9495">MemoryDependenceResults::getSimplePointerDependencyFrom</a>(</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;MemLoc, <span class="keywordtype">bool</span> <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> ScanIt,</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *QueryInst, <span class="keywordtype">unsigned</span> *Limit,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BatchAA) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordtype">bool</span> isInvariantLoad = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordtype">unsigned</span> DefaultLimit = <a class="code" href="classllvm_1_1MemoryDependenceResults.html#aa2685b1764b0730fb0ff4379700b9aba">getDefaultBlockScanLimit</a>();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">if</span> (!Limit)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    Limit = &amp;DefaultLimit;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// We must be careful with atomic accesses, as they may allow another thread</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">//   to touch this location, clobbering it. We are conservative: if the</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">//   QueryInst is not a simple (non-atomic) memory access, we automatically</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">//   return getClobber.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// If it is simple, we know based on the results of</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// &quot;Compiler testing via a theory of sound optimisations in the C11/C++11</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">//   memory model&quot; in PLDI 2013, that a non-atomic location can only be</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">//   clobbered between a pair of a release and an acquire action, with no</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">//   access to the location in between.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">// Here is an example for giving the general intuition behind this rule.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// In the following code:</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="comment">//   store x 0;</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="comment">//   release action; [1]</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">//   acquire action; [4]</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">//   %val = load x;</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// It is unsafe to replace %val by 0 because another thread may be running:</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">//   acquire action; [2]</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">//   store x 42;</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">//   release action; [3]</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// with synchronization from 1 to 2 and from 3 to 4, resulting in %val</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="comment">// being 42. A key property of this program however is that if either</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// 1 or 4 were missing, there would be a race between the store of 42</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// either the store of 0 or the load (making the whole program racy).</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// The paper mentioned above shows that the same property is respected</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// by every program that can detect any optimization of that kind: either</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// it is racy (undefined) or there is a release followed by an acquire</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">// between the pair of accesses under consideration.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// If the load is invariant, we &quot;know&quot; that it doesn&#39;t alias *any* write. We</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// do want to respect mustalias results since defs are useful for value</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">// forwarding, but any mayalias write can be assumed to be noalias.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// Arguably, this logic should be pushed inside AliasAnalysis itself.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a> &amp;&amp; QueryInst) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(QueryInst);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (LI &amp;&amp; LI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a565f546ad95bd3a9bbe9a1e5040803f0">hasMetadata</a>(LLVMContext::MD_invariant_load))</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      isInvariantLoad = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// True for volatile instruction.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// For Load/Store return true if atomic ordering is stronger than AO,</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// for other instruction just true if it can read or write to memory.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keyword">auto</span> isComplexForReordering = [](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> * <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> AO)-&gt;<span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isVolatile())</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af21b12b7c8de1504a945c4c974e06bff">isStrongerThan</a>(LI-&gt;getOrdering(), AO);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af21b12b7c8de1504a945c4c974e06bff">isStrongerThan</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getOrdering(), AO);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayReadOrWriteMemory();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  };</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// Walk backwards through the basic block, looking for dependencies.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">while</span> (ScanIt != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin()) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = &amp;*--ScanIt;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(Inst))</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="comment">// Debug intrinsics don&#39;t (and can&#39;t) cause dependencies.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">if</span> (isa&lt;DbgInfoIntrinsic&gt;(II))</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">// Limit the amount of scanning we do so we don&#39;t end up with quadratic</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="comment">// running time on extreme testcases.</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    --*Limit;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (!*Limit)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(Inst)) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="comment">// If we reach a lifetime begin or end marker, then the query ends here</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="comment">// because the value is undefined.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = II-&gt;getIntrinsicID();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">case</span> Intrinsic::lifetime_start: {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="comment">// FIXME: This only considers queries directly on the invariant-tagged</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">// pointer, not on query pointers that are indexed off of them.  It&#39;d</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="comment">// be nice to handle that at some point (the right approach is to use</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="comment">// GetPointerBaseWithConstantOffset).</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> ArgLoc = <a class="code" href="classllvm_1_1MemoryLocation.html#a49f776e0940cc5d63d17d85ff6dac257">MemoryLocation::getAfter</a>(II-&gt;getArgOperand(1));</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> (BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#ab9ba3a606a0299b684755f56b1d2f1c7">isMustAlias</a>(ArgLoc, MemLoc))</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(II);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">case</span> Intrinsic::masked_load:</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">case</span> Intrinsic::masked_store: {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> Loc;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="comment">/*ModRefInfo MR =*/</span> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a3fd364675c871bdf0a532d46bab77e3d">GetLocation</a>(II, Loc, TLI);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="classllvm_1_1AliasResult.html">AliasResult</a> R = BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#a2afd85d1ce874e1dd6391c967101d3b8">alias</a>(Loc, MemLoc);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a863ee317b92588eb2d6878af9fc98922">AliasResult::NoAlias</a>)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57ac1a99a1af9a4778a61e5cc3e1d622180">AliasResult::MustAlias</a>)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(II);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> == Intrinsic::masked_load)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(II);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// Values depend on loads if the pointers are must aliased.  This means</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// that a load depends on another must aliased load from the same value.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// One exception is atomic loads: a value can depend on an atomic load that</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// it does not alias with when this atomic load indicates that another</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// thread may be accessing the location.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(Inst)) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="comment">// While volatile access cannot be eliminated, they do not have to clobber</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="comment">// non-aliasing locations, as normal accesses, for example, can be safely</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="comment">// reordered with volatile accesses.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">if</span> (LI-&gt;isVolatile()) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">if</span> (!QueryInst)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;          <span class="comment">// Original QueryInst *may* be volatile</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(LI);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">if</span> (QueryInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a92599976668e8eec0d73b986ad3e7732">isVolatile</a>())</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;          <span class="comment">// Ordering required if QueryInst is itself volatile</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(LI);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="comment">// Otherwise, volatile doesn&#39;t imply any special ordering</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="comment">// Atomic loads have complications involved.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="comment">// A Monotonic (or higher) load is OK if the query inst is itself not</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="comment">// atomic.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="comment">// FIXME: This is overly conservative.</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">if</span> (LI-&gt;isAtomic() &amp;&amp; <a class="code" href="namespacellvm.html#a3a1d3115b016cea5ab80926ecc5493b5">isStrongerThanUnordered</a>(LI-&gt;getOrdering())) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">if</span> (!QueryInst ||</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            isComplexForReordering(QueryInst, <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a56a57d29a3f9dda8671b4d6490a94b08">AtomicOrdering::NotAtomic</a>))</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(LI);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="keywordflow">if</span> (LI-&gt;getOrdering() != <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a14194d0b2e6c6680067975517cd58eac">AtomicOrdering::Monotonic</a>)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(LI);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> LoadLoc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(LI);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="comment">// If we found a pointer, check if it could be the same as our pointer.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <a class="code" href="classllvm_1_1AliasResult.html">AliasResult</a> R = BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#a2afd85d1ce874e1dd6391c967101d3b8">alias</a>(LoadLoc, MemLoc);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a863ee317b92588eb2d6878af9fc98922">AliasResult::NoAlias</a>)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="comment">// Must aliased loads are defs of each other.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57ac1a99a1af9a4778a61e5cc3e1d622180">AliasResult::MustAlias</a>)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">// If we have a partial alias, then return this as a clobber for the</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="comment">// client to handle.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a9e724bc94de38c6ca77508f19c246c0c">AliasResult::PartialAlias</a> &amp;&amp; R.hasOffset()) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;          ClobberOffsets[LI] = R.getOffset();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="comment">// Random may-alias loads don&#39;t depend on each other without a</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment">// dependence.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="comment">// Stores don&#39;t alias loads from read-only memory.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#af2a774dba86bfeea3d8843822a974fe2">getModRefInfoMask</a>(LoadLoc)))</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="comment">// Stores depend on may/must aliased loads.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(Inst)) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="comment">// Atomic stores have complications involved.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="comment">// A Monotonic store is OK if the query inst is itself not atomic.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="comment">// FIXME: This is overly conservative.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isUnordered() &amp;&amp; <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isAtomic()) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span> (!QueryInst ||</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            isComplexForReordering(QueryInst, <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a288d468c5e0969f26a310773eda65603">AtomicOrdering::Unordered</a>))</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment">// Ok, if we are here the guard above guarantee us that</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="comment">// QueryInst is a non-atomic or unordered load/store.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="comment">// SI is atomic with monotonic or release semantic (seq_cst for store</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">// is actually a release semantic plus total order over other seq_cst</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="comment">// instructions, as soon as QueryInst is not seq_cst we can consider it</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="comment">// as simple release semantic).</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="comment">// Monotonic and Release semantic allows re-ordering before store</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="comment">// so we are safe to go further and check the aliasing. It will prohibit</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="comment">// re-ordering in case locations are may or must alias.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="comment">// While volatile access cannot be eliminated, they do not have to clobber</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="comment">// non-aliasing locations, as normal accesses can for example be reordered</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="comment">// with volatile accesses.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isVolatile())</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">if</span> (!QueryInst || QueryInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a92599976668e8eec0d73b986ad3e7732">isVolatile</a>())</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="comment">// If alias analysis can tell that this store is guaranteed to not modify</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="comment">// the query pointer, ignore it.  Use getModRefInfo to handle cases where</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="comment">// the query pointer points to constant memory etc.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a854abfc88bcd24e3878e2c9ab1f70fd3">isModOrRefSet</a>(BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#adfa0be41805b25d9577d6f15d148a0d7">getModRefInfo</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, MemLoc)))</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="comment">// Ok, this store might clobber the query pointer.  Check to see if it is</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <span class="comment">// a must alias: in this case, we want to return this as a def.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="comment">// FIXME: Use ModRefInfo::Must bit from getModRefInfo call above.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> StoreLoc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="comment">// If we found a pointer, check if it could be the same as our pointer.</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <a class="code" href="classllvm_1_1AliasResult.html">AliasResult</a> R = BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#a2afd85d1ce874e1dd6391c967101d3b8">alias</a>(StoreLoc, MemLoc);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a863ee317b92588eb2d6878af9fc98922">AliasResult::NoAlias</a>)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57ac1a99a1af9a4778a61e5cc3e1d622180">AliasResult::MustAlias</a>)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">if</span> (isInvariantLoad)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// If this is an allocation, and if we know that the accessed pointer is to</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// the allocation, return Def.  This means that there is no dependence and</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// the access can be optimized based on that.  For example, a load could</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// turn into undef.  Note that we can bypass the allocation itself when</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// looking for a clobber in many cases; that&#39;s an alias property and is</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// handled by BasicAA.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(Inst) || <a class="code" href="namespacellvm.html#a433468826ef20b5ddb53704fc38363fc">isNoAliasCall</a>(Inst)) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *AccessPtr = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(MemLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">if</span> (AccessPtr == Inst || BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#ab9ba3a606a0299b684755f56b1d2f1c7">isMustAlias</a>(Inst, AccessPtr))</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">// If we found a select instruction for MemLoc pointer, return it as Def</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="comment">// dependency.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Inst) &amp;&amp; MemLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a> == Inst)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (isInvariantLoad)</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="comment">// A release fence requires that all stores complete before it, but does</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// not prevent the reordering of following loads or stores &#39;before&#39; the</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// fence.  As a result, we look past it when finding a dependency for</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="comment">// loads.  DSE uses this to find preceding stores to delete and thus we</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// can&#39;t bypass the fence if the query instruction is a store.</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1FenceInst.html">FenceInst</a> *FI = dyn_cast&lt;FenceInst&gt;(Inst))</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a> &amp;&amp; FI-&gt;getOrdering() == <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7ab8e7b465df7c5979dc731d06e84ce2cf">AtomicOrdering::Release</a>)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// See if this instruction (e.g. a call or vaarg) mod/ref&#39;s the pointer.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> MR = BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#adfa0be41805b25d9577d6f15d148a0d7">getModRefInfo</a>(Inst, MemLoc);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// If necessary, perform additional analysis.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abe3f8cc6fbe8189cd90e3833b171bb59">isModAndRefSet</a>(MR))</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      MR = BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#afa44555b5242035c9df7941911186c44">callCapturesBefore</a>(Inst, MemLoc, &amp;DT);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">switch</span> (MR) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ead974636fce6d12e72054e61fb3c1e9a8">ModRefInfo::NoModRef</a>:</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="comment">// If the call has no effect on the queried pointer, just ignore it.</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942">ModRefInfo::Mod</a>:</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">ModRefInfo::Ref</a>:</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="comment">// If the call is known to never store to the pointer, and if this is a</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="comment">// load query, we can safely ignore it (scan past it).</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="comment">// Otherwise, there is a potential dependence.  Return a clobber.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// No dependence found.  If this is the entry block of the function, it is</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// unknown, otherwise it is non-local.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getParent()-&gt;getEntryBlock())</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">MemDepResult::getNonLocal</a>();</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">MemDepResult::getNonFuncLocal</a>();</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#aa5c238ef927795521aeb232b467a6cd1">  642</a></span>&#160;<a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#aa5c238ef927795521aeb232b467a6cd1">MemoryDependenceResults::getDependency</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *QueryInst) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  ClobberOffsets.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *ScanPos = QueryInst;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// Check for a cached result</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;LocalCache = LocalDeps[QueryInst];</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="comment">// If the cached entry is non-dirty, just return it.  Note that this depends</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// on MemDepResult&#39;s default constructing to &#39;dirty&#39;.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">if</span> (!LocalCache.isDirty())</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">return</span> LocalCache;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// Otherwise, if we have a dirty entry, we know we can start the scan at that</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// instruction, which may save us some work.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = LocalCache.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>()) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    ScanPos = Inst;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a>(ReverseLocalDeps, Inst, QueryInst);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *QueryParent = QueryInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="comment">// Do the scan.</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a>(QueryInst) == QueryParent-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>()) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// No dependence found. If this is the entry block of the function, it is</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">// unknown, otherwise it is non-local.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">if</span> (QueryParent != &amp;QueryParent-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">getEntryBlock</a>())</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      LocalCache = <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">MemDepResult::getNonLocal</a>();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      LocalCache = <a class="code" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">MemDepResult::getNonFuncLocal</a>();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> MemLoc;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> MR = <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a3fd364675c871bdf0a532d46bab77e3d">GetLocation</a>(QueryInst, MemLoc, TLI);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (MemLoc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="comment">// If we can do a pointer scan, make it happen.</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a> = !<a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(MR);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(QueryInst))</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a> |= II-&gt;getIntrinsicID() == Intrinsic::lifetime_start;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      LocalCache =</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;          <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a2f2f5f9e9837f7f9010c8a26cbd04f6f">getPointerDependencyFrom</a>(MemLoc, <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, ScanPos-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>(),</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                                   QueryParent, QueryInst, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *QueryCall = dyn_cast&lt;CallBase&gt;(QueryInst)) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keywordtype">bool</span> isReadOnly = AA.<a class="code" href="classllvm_1_1AAResults.html#acc08d3794eb34598ea9f389c9b7f51d1">onlyReadsMemory</a>(QueryCall);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      LocalCache = getCallDependencyFrom(QueryCall, isReadOnly,</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                                         ScanPos-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>(), QueryParent);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="comment">// Non-memory instruction.</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      LocalCache = <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="comment">// Remember the result!</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LocalCache.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>())</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    ReverseLocalDeps[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(QueryInst);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">return</span> LocalCache;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">/// This method is used when -debug is specified to verify that cache arrays</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment"></span><span class="comment">/// are properly kept sorted.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#aac7d0e8a679e82bca022febc48796059">  703</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#aac7d0e8a679e82bca022febc48796059">AssertSorted</a>(<a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">MemoryDependenceResults::NonLocalDepInfo</a> &amp;Cache,</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                         <span class="keywordtype">int</span> Count = -1) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">if</span> (Count == -1)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    Count = Cache.size();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a864e071375fea140a5441a243372ff81">std::is_sorted</a>(Cache.begin(), Cache.begin() + Count) &amp;&amp;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;         <span class="stringliteral">&quot;Cache isn&#39;t sorted!&quot;</span>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">MemoryDependenceResults::NonLocalDepInfo</a> &amp;</div>
<div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#aa7240503037f0c0499222a41a5f22d06">  713</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceResults.html#aa7240503037f0c0499222a41a5f22d06">MemoryDependenceResults::getNonLocalCallDependency</a>(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *QueryCall) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MemoryDependenceResults.html#aa5c238ef927795521aeb232b467a6cd1">getDependency</a>(QueryCall).isNonLocal() &amp;&amp;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;         <span class="stringliteral">&quot;getNonLocalCallDependency should only be used on calls with &quot;</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;         <span class="stringliteral">&quot;non-local deps!&quot;</span>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  PerInstNLInfo &amp;CacheP = NonLocalDepsMap[QueryCall];</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">NonLocalDepInfo</a> &amp;Cache = CacheP.first;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// This is the set of blocks that need to be recomputed.  In the cached case,</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">// this can happen due to instructions being deleted etc. In the uncached</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">// case, this starts out as the set of predecessors we care about.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 32&gt;</a> DirtyBlocks;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordflow">if</span> (!Cache.empty()) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="comment">// Okay, we have a cache entry.  If we know it is not dirty, just return it</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// with no computation.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">if</span> (!CacheP.second) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      ++NumCacheNonLocal;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">return</span> Cache;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// If we already have a partially computed set of results, scan them to</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">// determine what is dirty, seeding our initial DirtyBlocks worklist.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : Cache)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">if</span> (Entry.getResult().isDirty())</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        DirtyBlocks.push_back(Entry.getBB());</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// Sort the cache so that we can do fast binary search lookups below.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Cache);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    ++NumCacheDirtyNonLocal;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// Seed DirtyBlocks with each of the preds of QueryInst&#39;s block.</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *QueryBB = QueryCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(DirtyBlocks, PredCache.<a class="code" href="classllvm_1_1PredIteratorCache.html#aae381f8d8d1f6000c2eb811232cefde2">get</a>(QueryBB));</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    ++NumUncacheNonLocal;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="comment">// isReadonlyCall - If this is a read-only call, we can be more aggressive.</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordtype">bool</span> isReadonlyCall = AA.<a class="code" href="classllvm_1_1AAResults.html#acc08d3794eb34598ea9f389c9b7f51d1">onlyReadsMemory</a>(QueryCall);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 32&gt;</a> Visited;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordtype">unsigned</span> NumSortedEntries = Cache.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">size</a>();</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#aac7d0e8a679e82bca022febc48796059">AssertSorted</a>(Cache));</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="comment">// Iterate while we still have blocks to update.</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">while</span> (!DirtyBlocks.empty()) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DirtyBB = DirtyBlocks.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="comment">// Already processed this block?</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(DirtyBB).second)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">// Do a binary search to see if we already have an entry for this block in</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// the cache set.  If so, find it.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#aac7d0e8a679e82bca022febc48796059">AssertSorted</a>(Cache, NumSortedEntries));</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    NonLocalDepInfo::iterator Entry =</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="namespacellvm.html#a4b7d2ab11554bd10d15b6cb21b2c2787">std::upper_bound</a>(Cache.begin(), Cache.begin() + NumSortedEntries,</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                         <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a>(DirtyBB));</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (Entry != Cache.begin() &amp;&amp; std::prev(Entry)-&gt;getBB() == DirtyBB)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      --Entry;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> *ExistingResult = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (Entry != Cache.begin() + NumSortedEntries &amp;&amp;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        Entry-&gt;getBB() == DirtyBB) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="comment">// If we already have an entry, and if it isn&#39;t already dirty, the block</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="comment">// is done.</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordflow">if</span> (!Entry-&gt;getResult().isDirty())</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <span class="comment">// Otherwise, remember this slot so we can update the value.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      ExistingResult = &amp;*Entry;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="comment">// If the dirty entry has a pointer, start scanning from it so we don&#39;t have</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// to rescan the entire block.</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> ScanPos = DirtyBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">end</a>();</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (ExistingResult) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a54ee357daa2fd62b97b7423ee3886be8">getResult</a>().<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>()) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        ScanPos = Inst-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="comment">// We&#39;re removing QueryInst&#39;s use of Inst.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        RemoveFromReverseMap&lt;Instruction *&gt;(ReverseNonLocalDeps, Inst,</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                                            QueryCall);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="comment">// Find out if this block has a local dependency for QueryInst.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> Dep;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">if</span> (ScanPos != DirtyBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>()) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      Dep = getCallDependencyFrom(QueryCall, isReadonlyCall, ScanPos, DirtyBB);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DirtyBB != &amp;DirtyBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">getEntryBlock</a>()) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="comment">// No dependence found.  If this is the entry block of the function, it is</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="comment">// a clobber, otherwise it is unknown.</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      Dep = <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">MemDepResult::getNonLocal</a>();</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      Dep = <a class="code" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">MemDepResult::getNonFuncLocal</a>();</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// If we had a dirty entry for the block, update it.  Otherwise, just add</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// a new entry.</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (ExistingResult)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">setResult</a>(Dep);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      Cache.push_back(<a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a>(DirtyBB, Dep));</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">// If the block has a dependency (i.e. it isn&#39;t completely transparent to</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="comment">// the value), remember the association!</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (!Dep.<a class="code" href="classllvm_1_1MemDepResult.html#a2b6159ef05223f67e8dd0a178377f06b">isNonLocal</a>()) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="comment">// Keep the ReverseNonLocalDeps map up to date so we can efficiently</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="comment">// update this when we remove instructions.</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = Dep.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>())</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        ReverseNonLocalDeps[Inst].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(QueryCall);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="comment">// If the block *is* completely transparent to the load, we need to check</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="comment">// the predecessors of this block.  Add them to our worklist.</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(DirtyBlocks, PredCache.<a class="code" href="classllvm_1_1PredIteratorCache.html#aae381f8d8d1f6000c2eb811232cefde2">get</a>(DirtyBB));</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">return</span> Cache;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#ab46fb372d99dc0562d09cfdcd041d5ab">  837</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#ab46fb372d99dc0562d09cfdcd041d5ab">MemoryDependenceResults::getNonLocalPointerDependency</a>(</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *QueryInst, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;NonLocalDepResult&gt;</a> &amp;Result) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(QueryInst);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a> = isa&lt;LoadInst&gt;(QueryInst);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FromBB = QueryInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FromBB);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;         <span class="stringliteral">&quot;Can&#39;t get pointer deps of a non-pointer!&quot;</span>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  Result.clear();</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">// Check if there is cached Def with invariant.group.</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keyword">auto</span> NonLocalDefIt = NonLocalDefsCache.find(QueryInst);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (NonLocalDefIt != NonLocalDefsCache.end()) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      Result.push_back(NonLocalDefIt-&gt;second);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      ReverseNonLocalDefsCache[NonLocalDefIt-&gt;second.getResult().getInst()]</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;          .<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(QueryInst);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      NonLocalDefsCache.erase(NonLocalDefIt);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="comment">// This routine does not expect to deal with volatile instructions.</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="comment">// Doing so would require piping through the QueryInst all the way through.</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// TODO: volatiles can&#39;t be elided, but they can be reordered with other</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="comment">// non-volatile accesses.</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="comment">// We currently give up on any instruction which is ordered, but we do handle</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="comment">// atomic instructions which are unordered.</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="comment">// TODO: Handle ordered instructions</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MemorySSA_8cpp.html#af21791a898355d83b502fd655b90e061">isOrdered</a> = [](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(Inst)) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordflow">return</span> !LI-&gt;isUnordered();</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(Inst)) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <span class="keywordflow">return</span> !<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isUnordered();</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  };</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">if</span> (QueryInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a92599976668e8eec0d73b986ad3e7732">isVolatile</a>() || <a class="code" href="MemorySSA_8cpp.html#af21791a898355d83b502fd655b90e061">isOrdered</a>(QueryInst)) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    Result.push_back(<a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(FromBB, <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>(),</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                                       <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Value.html">Value</a> *<span class="keyword">&gt;</span>(Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>)));</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = FromBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afc70e919c88c86159cc94cea29b6c210">getModule</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">getDataLayout</a>();</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> Address(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Value.html">Value</a> *<span class="keyword">&gt;</span>(Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;AC);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="comment">// This is the set of blocks we&#39;ve inspected, and the pointer we consider in</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="comment">// each block.  Because of critical edges, we currently bail out if querying</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="comment">// a block with multiple different pointers.  This can happen during PHI</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="comment">// translation.</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, Value *&gt;</a> Visited;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="keywordflow">if</span> (getNonLocalPointerDepFromBB(QueryInst, Address, Loc, <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, FromBB,</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                   Result, Visited, <span class="keyword">true</span>))</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  Result.clear();</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  Result.push_back(<a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(FromBB, <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>(),</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                                     <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Value.html">Value</a> *<span class="keyword">&gt;</span>(Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>)));</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;}</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">/// Compute the memdep value for BB with Pointer/PointeeSize using either</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">/// cached information in Cache or by doing a lookup (which may use dirty cache</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">/// info if available).</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">/// If we do a lookup, add the result to the cache.</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> MemoryDependenceResults::getNonLocalInfoForBlock(</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *QueryInst, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc, <span class="keywordtype">bool</span> <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>,</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, NonLocalDepInfo *Cache, <span class="keywordtype">unsigned</span> NumSortedEntries,</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BatchAA) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordtype">bool</span> isInvariantLoad = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast_or_null&lt;LoadInst&gt;(QueryInst))</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    isInvariantLoad = LI-&gt;getMetadata(LLVMContext::MD_invariant_load);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// Do a binary search to see if we already have an entry for this block in</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="comment">// the cache set.  If so, find it.</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  NonLocalDepInfo::iterator Entry = <a class="code" href="namespacellvm.html#a4b7d2ab11554bd10d15b6cb21b2c2787">std::upper_bound</a>(</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      Cache-&gt;begin(), Cache-&gt;begin() + NumSortedEntries, <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span> (Entry != Cache-&gt;begin() &amp;&amp; (Entry - 1)-&gt;getBB() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    --Entry;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> *ExistingResult = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordflow">if</span> (Entry != Cache-&gt;begin() + NumSortedEntries &amp;&amp; Entry-&gt;getBB() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    ExistingResult = &amp;*Entry;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// Use cached result for invariant load only if there is no dependency for non</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="comment">// invariant load. In this case invariant load can not have any dependency as</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="comment">// well.</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordflow">if</span> (ExistingResult &amp;&amp; isInvariantLoad &amp;&amp;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      !ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a54ee357daa2fd62b97b7423ee3886be8">getResult</a>().<a class="code" href="classllvm_1_1MemDepResult.html#a47504af508f66b8f52d3f100d32326fc">isNonFuncLocal</a>())</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    ExistingResult = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// If we have a cached entry, and it is non-dirty, use it as the value for</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// this dependency.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">if</span> (ExistingResult &amp;&amp; !ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a54ee357daa2fd62b97b7423ee3886be8">getResult</a>().isDirty()) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    ++NumCacheNonLocalPtr;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a54ee357daa2fd62b97b7423ee3886be8">getResult</a>();</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="comment">// Otherwise, we have to scan for the value.  If we have a dirty cache</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="comment">// entry, start scanning from its position, otherwise we scan from the end</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="comment">// of the block.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> ScanPos = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end();</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">if</span> (ExistingResult &amp;&amp; ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a54ee357daa2fd62b97b7423ee3886be8">getResult</a>().<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>()) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a54ee357daa2fd62b97b7423ee3886be8">getResult</a>().<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> &amp;&amp;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;           <span class="stringliteral">&quot;Instruction invalidated?&quot;</span>);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    ++NumCacheDirtyNonLocalPtr;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    ScanPos = ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a54ee357daa2fd62b97b7423ee3886be8">getResult</a>().<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>()-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="comment">// Eliminating the dirty entry from &#39;Cache&#39;, so update the reverse info.</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    ValueIsLoadPair CacheKey(Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>, <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a>(ReverseNonLocalPtrDeps, &amp;*ScanPos, CacheKey);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    ++NumUncacheNonLocalPtr;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="comment">// Scan the block for the dependency.</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> Dep = <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a2f2f5f9e9837f7f9010c8a26cbd04f6f">getPointerDependencyFrom</a>(Loc, <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, ScanPos, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                                              QueryInst, <span class="keyword">nullptr</span>, BatchAA);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="comment">// Don&#39;t cache results for invariant load.</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">if</span> (isInvariantLoad)</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">return</span> Dep;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">// If we had a dirty entry for the block, update it.  Otherwise, just add</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="comment">// a new entry.</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordflow">if</span> (ExistingResult)</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">setResult</a>(Dep);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    Cache-&gt;push_back(<a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Dep));</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="comment">// If the block has a dependency (i.e. it isn&#39;t completely transparent to</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="comment">// the value), remember the reverse association because we just added it</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="comment">// to Cache!</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordflow">if</span> (!Dep.<a class="code" href="classllvm_1_1MemDepResult.html#aa9284c7b4e7cfa1baabc14bf877b29f8">isLocal</a>())</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">return</span> Dep;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">// Keep the ReverseNonLocalPtrDeps map up to date so we can efficiently</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="comment">// update MemDep when we remove instructions.</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = Dep.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>();</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Inst &amp;&amp; <span class="stringliteral">&quot;Didn&#39;t depend on anything?&quot;</span>);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  ValueIsLoadPair CacheKey(Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>, <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  ReverseNonLocalPtrDeps[Inst].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(CacheKey);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordflow">return</span> Dep;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;}</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">/// Sort the NonLocalDepInfo cache, given a certain number of elements in the</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">/// array that are already properly ordered.</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment">/// This is optimized for the case when only a few entries are added.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#aa4e25bdf0f935cc6fbe85bc85888de81">  987</a></span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#aa4e25bdf0f935cc6fbe85bc85888de81">SortNonLocalDepInfoCache</a>(<a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">MemoryDependenceResults::NonLocalDepInfo</a> &amp;Cache,</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                         <span class="keywordtype">unsigned</span> NumSortedEntries) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">switch</span> (Cache.size() - NumSortedEntries) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="comment">// done, no new entries.</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">case</span> 2: {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="comment">// Two new entries, insert the last one into place.</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> Val = Cache.back();</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    Cache.pop_back();</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    MemoryDependenceResults::NonLocalDepInfo::iterator Entry =</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <a class="code" href="namespacellvm.html#a4b7d2ab11554bd10d15b6cb21b2c2787">std::upper_bound</a>(Cache.begin(), Cache.end() - 1, Val);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    Cache.insert(Entry, Val);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="comment">// One new entry, Just insert the new value at the appropriate position.</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">if</span> (Cache.size() != 1) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> Val = Cache.back();</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      Cache.pop_back();</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      MemoryDependenceResults::NonLocalDepInfo::iterator Entry =</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;          <a class="code" href="namespacellvm.html#a4b7d2ab11554bd10d15b6cb21b2c2787">llvm::upper_bound</a>(Cache, Val);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      Cache.insert(Entry, Val);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">// Added many values, do a full scale sort.</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Cache);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;}</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">/// Perform a dependency query based on pointer/pointeesize starting at the end</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">/// of StartBB.</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">/// Add any clobber/def results to the results vector and keep track of which</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">/// blocks are visited in &#39;Visited&#39;.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment">/// This has special behavior for the first block queries (when SkipFirstBlock</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">/// is true).  In this special case, it ignores the contents of the specified</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">/// block and starts returning dependence info for its predecessors.</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">/// This function returns true on success, or false to indicate that it could</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">/// not compute dependence information for some reason.  This should be treated</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">/// as a clobber dependence on the first instruction in the predecessor block.</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> MemoryDependenceResults::getNonLocalPointerDepFromBB(</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *QueryInst, <span class="keyword">const</span> <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> &amp;Pointer,</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc, <span class="keywordtype">bool</span> <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *StartBB,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;NonLocalDepResult&gt;</a> &amp;Result,</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, Value *&gt;</a> &amp;Visited, <span class="keywordtype">bool</span> SkipFirstBlock,</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordtype">bool</span> IsIncomplete) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="comment">// Look up the cached info for Pointer.</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  ValueIsLoadPair CacheKey(<a class="code" href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">Pointer</a>.getAddr(), <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="comment">// Set up a temporary NLPI value. If the map doesn&#39;t yet have an entry for</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="comment">// CacheKey, this value will be inserted as the associated value. Otherwise,</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="comment">// it&#39;ll be ignored, and we&#39;ll have to check to see if the cached size and</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="comment">// aa tags are consistent with the current query.</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  NonLocalPointerInfo InitialNLPI;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  InitialNLPI.Size = Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  InitialNLPI.AATags = Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a926099ca5ca5db6ba2de398c2487b725">AATags</a>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keywordtype">bool</span> isInvariantLoad = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast_or_null&lt;LoadInst&gt;(QueryInst))</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    isInvariantLoad = LI-&gt;getMetadata(LLVMContext::MD_invariant_load);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="comment">// Get the NLPI for CacheKey, inserting one into the map if it doesn&#39;t</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="comment">// already have one.</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  std::pair&lt;CachedNonLocalPointerInfo::iterator, bool&gt; Pair =</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(CacheKey, InitialNLPI));</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  NonLocalPointerInfo *CacheInfo = &amp;Pair.first-&gt;second;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="comment">// If we already have a cache entry for this CacheKey, we may need to do some</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="comment">// work to reconcile the cache entry and the current query.</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="comment">// Invariant loads don&#39;t participate in caching. Thus no need to reconcile.</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">if</span> (!isInvariantLoad &amp;&amp; !Pair.second) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">if</span> (CacheInfo-&gt;Size != Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <span class="keywordtype">bool</span> ThrowOutEverything;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">if</span> (CacheInfo-&gt;Size.hasValue() &amp;&amp; Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>.<a class="code" href="classllvm_1_1LocationSize.html#a0b0401973fc9567440717a5d32a8eb8d">hasValue</a>()) {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="comment">// FIXME: We may be able to do better in the face of results with mixed</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="comment">// precision. We don&#39;t appear to get them in practice, though, so just</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <span class="comment">// be conservative.</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        ThrowOutEverything =</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            CacheInfo-&gt;Size.isPrecise() != Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>.<a class="code" href="classllvm_1_1LocationSize.html#aa9addaa6f7dd437922a57401cb192031">isPrecise</a>() ||</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            CacheInfo-&gt;Size.getValue() &lt; Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>.<a class="code" href="classllvm_1_1LocationSize.html#a47f128e1007c6c70eb7b0df2dcbf68df">getValue</a>();</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="comment">// For our purposes, unknown size &gt; all others.</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        ThrowOutEverything = !Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>.<a class="code" href="classllvm_1_1LocationSize.html#a0b0401973fc9567440717a5d32a8eb8d">hasValue</a>();</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <span class="keywordflow">if</span> (ThrowOutEverything) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="comment">// The query&#39;s Size is greater than the cached one. Throw out the</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="comment">// cached data and proceed with the query at the greater size.</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        CacheInfo-&gt;Size = Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">Size</a>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : CacheInfo-&gt;NonLocalDeps)</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = Entry.getResult().getInst())</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a>(ReverseNonLocalPtrDeps, Inst, CacheKey);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        CacheInfo-&gt;NonLocalDeps.clear();</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="comment">// The cache is cleared (in the above line) so we will have lost</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="comment">// information about blocks we have already visited. We therefore must</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="comment">// assume that the cache information is incomplete.</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        IsIncomplete = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="comment">// This query&#39;s Size is less than the cached one. Conservatively restart</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="comment">// the query using the greater size.</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">return</span> getNonLocalPointerDepFromBB(</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            QueryInst, Pointer, Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a078f7dbb4fe93a1a5921d82a91f04875">getWithNewSize</a>(CacheInfo-&gt;Size), <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>,</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            StartBB, Result, Visited, SkipFirstBlock, IsIncomplete);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="comment">// If the query&#39;s AATags are inconsistent with the cached one,</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="comment">// conservatively throw out the cached data and restart the query with</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">// no tag if needed.</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span> (CacheInfo-&gt;AATags != Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a926099ca5ca5db6ba2de398c2487b725">AATags</a>) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordflow">if</span> (CacheInfo-&gt;AATags) {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        CacheInfo-&gt;AATags = <a class="code" href="structllvm_1_1AAMDNodes.html">AAMDNodes</a>();</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : CacheInfo-&gt;NonLocalDeps)</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = Entry.getResult().getInst())</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a>(ReverseNonLocalPtrDeps, Inst, CacheKey);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        CacheInfo-&gt;NonLocalDeps.clear();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="comment">// The cache is cleared (in the above line) so we will have lost</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="comment">// information about blocks we have already visited. We therefore must</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="comment">// assume that the cache information is incomplete.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        IsIncomplete = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="keywordflow">if</span> (Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a926099ca5ca5db6ba2de398c2487b725">AATags</a>)</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">return</span> getNonLocalPointerDepFromBB(</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            QueryInst, Pointer, Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a0b970d738243dcc4f94c0834ca26b09f">getWithoutAATags</a>(), <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, StartBB, Result,</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            Visited, SkipFirstBlock, IsIncomplete);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">NonLocalDepInfo</a> *Cache = &amp;CacheInfo-&gt;NonLocalDeps;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">// If we have valid cached information for exactly the block we are</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="comment">// investigating, just return it with no recomputation.</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="comment">// Don&#39;t use cached information for invariant loads since it is valid for</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="comment">// non-invariant loads only.</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="keywordflow">if</span> (!IsIncomplete &amp;&amp; !isInvariantLoad &amp;&amp;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      CacheInfo-&gt;Pair == BBSkipFirstBlockPair(StartBB, SkipFirstBlock)) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="comment">// We have a fully cached result for this query then we can just return the</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="comment">// cached results and populate the visited set.  However, we have to verify</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="comment">// that we don&#39;t already have conflicting results for these blocks.  Check</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="comment">// to ensure that if a block in the results set is in the visited set that</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="comment">// it was for the same pointer query.</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>()) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : *Cache) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, Value *&gt;::iterator</a> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> =</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Entry.getBB());</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> == Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() || <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>-&gt;second == <a class="code" href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">Pointer</a>.getAddr())</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="comment">// We have a pointer mismatch in a block.  Just return false, saying</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="comment">// that something was clobbered in this result.  We could also do a</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="comment">// non-fully cached query, but there is little point in doing this.</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">Pointer</a>.getAddr();</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : *Cache) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(Entry.getBB(), <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>));</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <span class="keywordflow">if</span> (Entry.getResult().isNonLocal()) {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="keywordflow">if</span> (DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(Entry.getBB())) {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.push_back(</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(Entry.getBB(), Entry.getResult(), <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>));</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    }</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    ++NumCacheCompleteNonLocalPtr;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="comment">// Otherwise, either this is a new block, a block with an invalid cache</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">// pointer or one that we&#39;re about to invalidate by putting more info into</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">// it than its valid cache info.  If empty and not explicitly indicated as</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="comment">// incomplete, the result will be valid cache info, otherwise it isn&#39;t.</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// Invariant loads don&#39;t affect cache in any way thus no need to update</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">// CacheInfo as well.</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordflow">if</span> (!isInvariantLoad) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">if</span> (!IsIncomplete &amp;&amp; Cache-&gt;empty())</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      CacheInfo-&gt;Pair = BBSkipFirstBlockPair(StartBB, SkipFirstBlock);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 32&gt;</a> Worklist;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  Worklist.push_back(StartBB);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <span class="comment">// PredList used inside loop.</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;BasicBlock *, PHITransAddr&gt;</a>, 16&gt; PredList;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="comment">// Keep track of the entries that we know are sorted.  Previously cached</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="comment">// entries will all be sorted.  The entries we add we only sort on demand (we</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="comment">// don&#39;t insert every element into its sorted position).  We know that we</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="comment">// won&#39;t get any reuse from currently inserted values, because we don&#39;t</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="comment">// revisit blocks after we insert info for them.</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keywordtype">unsigned</span> NumSortedEntries = Cache-&gt;size();</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordtype">unsigned</span> WorklistEntries = <a class="code" href="MemoryDependenceAnalysis_8cpp.html#acd3547fb1d6f146f260932c444b4f8c5">BlockNumberLimit</a>;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keywordtype">bool</span> GotWorklistLimit = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#aac7d0e8a679e82bca022febc48796059">AssertSorted</a>(*Cache));</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> BatchAA(AA);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="comment">// If we do process a large number of blocks it becomes very expensive and</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="comment">// likely it isn&#39;t worth worrying about</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.size() &gt; <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a2f0fcb9c7daf7faa22e51485d733a473">NumResultsLimit</a>) {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <span class="comment">// Sort it now (if needed) so that recursive invocations of</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="comment">// getNonLocalPointerDepFromBB and other routines that could reuse the</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <span class="comment">// cache value will only see properly sorted cache arrays.</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <span class="keywordflow">if</span> (Cache &amp;&amp; NumSortedEntries != Cache-&gt;size()) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <a class="code" href="MemoryDependenceAnalysis_8cpp.html#aa4e25bdf0f935cc6fbe85bc85888de81">SortNonLocalDepInfoCache</a>(*Cache, NumSortedEntries);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="comment">// Since we bail out, the &quot;Cache&quot; set won&#39;t contain all of the</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="comment">// results for the query.  This is ok (we can still use it to accelerate</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="comment">// specific block queries) but we can&#39;t do the fastpath &quot;return all</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <span class="comment">// results from the set&quot;.  Clear out the indicator for this.</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="comment">// Skip the first block if we have it.</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (!SkipFirstBlock) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="comment">// Analyze the dependency of *Pointer in FromBB.  See if we already have</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="comment">// been here.</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &amp;&amp; <span class="stringliteral">&quot;Should check &#39;visited&#39; before adding to WL&quot;</span>);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="comment">// Get the dependency info for Pointer in BB.  If we have cached</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="comment">// information, we will use it, otherwise we compute it.</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#aac7d0e8a679e82bca022febc48796059">AssertSorted</a>(*Cache, NumSortedEntries));</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> Dep = getNonLocalInfoForBlock(</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;          QueryInst, Loc, <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Cache, NumSortedEntries, BatchAA);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <span class="comment">// If we got a Def or Clobber, add this to the list of results.</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">if</span> (!Dep.<a class="code" href="classllvm_1_1MemDepResult.html#a2b6159ef05223f67e8dd0a178377f06b">isNonLocal</a>()) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">if</span> (DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;          <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.push_back(<a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Dep, <a class="code" href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">Pointer</a>.getAddr()));</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="comment">// If &#39;Pointer&#39; is an instruction defined in this block, then we need to do</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="comment">// phi translation to change it into a value live in the predecessor block.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="comment">// If not, we just add the predecessors to the worklist and scan them with</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="comment">// the same Pointer.</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">Pointer</a>.needsPHITranslationFromBlock(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      SkipFirstBlock = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 16&gt;</a> NewBlocks;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred : PredCache.<a class="code" href="classllvm_1_1PredIteratorCache.html#aae381f8d8d1f6000c2eb811232cefde2">get</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        <span class="comment">// Verify that we haven&#39;t looked at this block yet.</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        std::pair&lt;DenseMap&lt;BasicBlock *, Value *&gt;::iterator, <span class="keywordtype">bool</span>&gt; InsertRes =</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(Pred, <a class="code" href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">Pointer</a>.getAddr()));</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <span class="keywordflow">if</span> (InsertRes.second) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;          <span class="comment">// First time we&#39;ve looked at *PI.</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;          NewBlocks.push_back(Pred);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="comment">// If we have seen this block before, but it was with a different</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="comment">// pointer then we have a phi translation failure and we have to treat</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="comment">// this as a clobber.</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <span class="keywordflow">if</span> (InsertRes.first-&gt;second != <a class="code" href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">Pointer</a>.getAddr()) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;          <span class="comment">// Make sure to clean up the Visited map before continuing on to</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;          <span class="comment">// PredTranslationFailure.</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NewBlocks.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(NewBlocks[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;          <span class="keywordflow">goto</span> PredTranslationFailure;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="keywordflow">if</span> (NewBlocks.size() &gt; WorklistEntries) {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="comment">// Make sure to clean up the Visited map before continuing on to</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="comment">// PredTranslationFailure.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NewBlocks.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;          Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(NewBlocks[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        GotWorklistLimit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="keywordflow">goto</span> PredTranslationFailure;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      }</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      WorklistEntries -= NewBlocks.size();</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(NewBlocks.begin(), NewBlocks.end());</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">// We do need to do phi translation, if we know ahead of time we can&#39;t phi</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="comment">// translate this value, don&#39;t even try.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">Pointer</a>.isPotentiallyPHITranslatable())</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <span class="keywordflow">goto</span> PredTranslationFailure;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="comment">// We may have added values to the cache list before this PHI translation.</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="comment">// If so, we haven&#39;t done anything to ensure that the cache remains sorted.</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="comment">// Sort it now (if needed) so that recursive invocations of</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="comment">// getNonLocalPointerDepFromBB and other routines that could reuse the cache</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">// value will only see properly sorted cache arrays.</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">if</span> (Cache &amp;&amp; NumSortedEntries != Cache-&gt;size()) {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <a class="code" href="MemoryDependenceAnalysis_8cpp.html#aa4e25bdf0f935cc6fbe85bc85888de81">SortNonLocalDepInfoCache</a>(*Cache, NumSortedEntries);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      NumSortedEntries = Cache-&gt;size();</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    Cache = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    PredList.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred : PredCache.<a class="code" href="classllvm_1_1PredIteratorCache.html#aae381f8d8d1f6000c2eb811232cefde2">get</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      PredList.push_back(std::make_pair(Pred, Pointer));</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160; </div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <span class="comment">// Get the PHI translated pointer in this predecessor.  This can fail if</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <span class="comment">// not translatable, in which case the getAddr() returns null.</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> &amp;PredPointer = PredList.back().second;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PredPtrVal =</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;          PredPointer.<a class="code" href="classllvm_1_1PHITransAddr.html#a020dcdde43c7bdff11476f1f5b64ef25">translateValue</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Pred, &amp;DT, <span class="comment">/*MustDominate=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <span class="comment">// Check to see if we have already visited this pred block with another</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="comment">// pointer.  If so, we can&#39;t do this lookup.  This failure can occur</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="comment">// with PHI translation when a critical edge exists and the PHI node in</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <span class="comment">// the successor translates to a pointer value different than the</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="comment">// pointer the block was first analyzed with.</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      std::pair&lt;DenseMap&lt;BasicBlock *, Value *&gt;::iterator, <span class="keywordtype">bool</span>&gt; InsertRes =</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;          Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(Pred, PredPtrVal));</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="keywordflow">if</span> (!InsertRes.second) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <span class="comment">// We found the pred; take it off the list of preds to visit.</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        PredList.pop_back();</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="comment">// If the predecessor was visited with PredPtr, then we already did</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <span class="comment">// the analysis and can ignore it.</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <span class="keywordflow">if</span> (InsertRes.first-&gt;second == PredPtrVal)</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <span class="comment">// Otherwise, the block was previously analyzed with a different</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="comment">// pointer.  We can&#39;t represent the result of this case, so we just</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="comment">// treat this as a phi translation failure.</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="comment">// Make sure to clean up the Visited map before continuing on to</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="comment">// PredTranslationFailure.</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = PredList.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;          Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(PredList[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <span class="keywordflow">goto</span> PredTranslationFailure;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="comment">// Actually process results here; this need to be a separate loop to avoid</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="comment">// calling getNonLocalPointerDepFromBB for blocks we don&#39;t want to return</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="comment">// any results for.  (getNonLocalPointerDepFromBB will modify our</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="comment">// datastructures in ways the code after the PredTranslationFailure label</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="comment">// doesn&#39;t expect.)</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = PredList.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred = PredList[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> &amp;PredPointer = PredList[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PredPtrVal = PredPointer.<a class="code" href="classllvm_1_1PHITransAddr.html#a7a81ecd112a964a3ae6890291f78374f">getAddr</a>();</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordtype">bool</span> CanTranslate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="comment">// If PHI translation was unable to find an available pointer in this</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="comment">// predecessor, then we have to assume that the pointer is clobbered in</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      <span class="comment">// that predecessor.  We can still do PRE of the load, which would insert</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="comment">// a computation of the pointer in this predecessor.</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="keywordflow">if</span> (!PredPtrVal)</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        CanTranslate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="comment">// FIXME: it is entirely possible that PHI translating will end up with</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="comment">// the same value.  Consider PHI translating something like:</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="comment">// X = phi [x, bb1], [y, bb2].  PHI translating for bb1 doesn&#39;t *need*</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <span class="comment">// to recurse here, pedantically speaking.</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <span class="comment">// If getNonLocalPointerDepFromBB fails here, that means the cached</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="comment">// result conflicted with the Visited list; we have to conservatively</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <span class="comment">// assume it is unknown, but this also does not block PRE of the load.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="keywordflow">if</span> (!CanTranslate ||</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;          !getNonLocalPointerDepFromBB(QueryInst, PredPointer,</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                                      Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a81f225396ee3b9587327c8009f9dce40">getWithNewPtr</a>(PredPtrVal), <a class="code" href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a>,</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                                      Pred, Result, Visited)) {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="comment">// Add the entry to the Result list.</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a> Entry(Pred, <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>(), PredPtrVal);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.push_back(Entry);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="comment">// Since we had a phi translation failure, the cache for CacheKey won&#39;t</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="comment">// include all of the entries that we need to immediately satisfy future</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <span class="comment">// queries.  Mark this in NonLocalPointerDeps by setting the</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="comment">// BBSkipFirstBlockPair pointer to null.  This requires reuse of the</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="comment">// cached value to do more work but not miss the phi trans failure.</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        NonLocalPointerInfo &amp;NLPI = NonLocalPointerDeps[CacheKey];</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        NLPI.Pair = BBSkipFirstBlockPair();</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="comment">// Refresh the CacheInfo/Cache pointer so that it isn&#39;t invalidated.</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    CacheInfo = &amp;NonLocalPointerDeps[CacheKey];</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    Cache = &amp;CacheInfo-&gt;NonLocalDeps;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    NumSortedEntries = Cache-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>();</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="comment">// Since we did phi translation, the &quot;Cache&quot; set won&#39;t contain all of the</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="comment">// results for the query.  This is ok (we can still use it to accelerate</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="comment">// specific block queries) but we can&#39;t do the fastpath &quot;return all</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="comment">// results from the set&quot;  Clear out the indicator for this.</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    SkipFirstBlock = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  PredTranslationFailure:</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="comment">// The following code is &quot;failure&quot;; we can&#39;t produce a sane translation</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="comment">// for the given block.  It assumes that we haven&#39;t modified any of</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="comment">// our datastructures while processing the current block.</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">if</span> (!Cache) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <span class="comment">// Refresh the CacheInfo/Cache pointer if it got invalidated.</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      CacheInfo = &amp;NonLocalPointerDeps[CacheKey];</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      Cache = &amp;CacheInfo-&gt;NonLocalDeps;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      NumSortedEntries = Cache-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="comment">// Since we failed phi translation, the &quot;Cache&quot; set won&#39;t contain all of the</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="comment">// results for the query.  This is ok (we can still use it to accelerate</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="comment">// specific block queries) but we can&#39;t do the fastpath &quot;return all</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="comment">// results from the set&quot;.  Clear out the indicator for this.</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="comment">// If *nothing* works, mark the pointer as unknown.</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="comment">// If this is the magic first block, return this as a clobber of the whole</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="comment">// incoming value.  Since we can&#39;t phi translate to one of the predecessors,</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="comment">// we have to bail out.</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">if</span> (SkipFirstBlock)</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160; </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="comment">// Results of invariant loads are not cached thus no need to update cached</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="comment">// information.</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">if</span> (!isInvariantLoad) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(*Cache)) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getBB() != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((GotWorklistLimit || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getResult().isNonLocal() ||</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                !DT.<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) &amp;&amp;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;               <span class="stringliteral">&quot;Should only be here with transparent block&quot;</span>);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.setResult(<a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>());</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    (void)GotWorklistLimit;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="comment">// Go ahead and report unknown dependence.</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.push_back(</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>(), <a class="code" href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">Pointer</a>.getAddr()));</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  }</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="comment">// Okay, we&#39;re done now.  If we added new values to the cache, re-sort it.</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <a class="code" href="MemoryDependenceAnalysis_8cpp.html#aa4e25bdf0f935cc6fbe85bc85888de81">SortNonLocalDepInfoCache</a>(*Cache, NumSortedEntries);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#aac7d0e8a679e82bca022febc48796059">AssertSorted</a>(*Cache));</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;}</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="comment">/// If P exists in CachedNonLocalPointerInfo or NonLocalDefsCache, remove it.</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> MemoryDependenceResults::removeCachedNonLocalPointerDependencies(</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    ValueIsLoadPair <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// Most of the time this cache is empty.</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="keywordflow">if</span> (!NonLocalDefsCache.empty()) {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> = NonLocalDefsCache.find(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getPointer());</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> != NonLocalDefsCache.end()) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a>(ReverseNonLocalDefsCache,</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                           <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>-&gt;second.getResult().getInst(), <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getPointer());</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      NonLocalDefsCache.erase(<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    }</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160; </div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getPointer())) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <span class="keyword">auto</span> toRemoveIt = ReverseNonLocalDefsCache.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="keywordflow">if</span> (toRemoveIt != ReverseNonLocalDefsCache.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="MustExecute_8cpp.html#ac00fd2bd5d2febf1f9988294a6c56b33">entry</a> : toRemoveIt-&gt;second)</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;          NonLocalDefsCache.erase(<a class="code" href="MustExecute_8cpp.html#ac00fd2bd5d2febf1f9988294a6c56b33">entry</a>);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        ReverseNonLocalDefsCache.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(toRemoveIt);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <a class="code" href="classllvm_1_1DenseMapBase.html#a214e872d61db2ea8cb023f127cafd0b9">CachedNonLocalPointerInfo::iterator</a> It = NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">if</span> (It == NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="comment">// Remove all of the entries in the BB-&gt;val map.  This involves removing</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">// instructions from the reverse map.</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">NonLocalDepInfo</a> &amp;PInfo = It-&gt;second.NonLocalDeps;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> &amp;DE : PInfo) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1Target.html">Target</a> = DE.getResult().getInst();</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Target.html">Target</a>)</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="keywordflow">continue</span>; <span class="comment">// Ignore non-local dep results.</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1Target.html">Target</a>-&gt;getParent() == DE.getBB());</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="comment">// Eliminating the dirty entry from &#39;Cache&#39;, so update the reverse info.</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a>(ReverseNonLocalPtrDeps, <a class="code" href="classllvm_1_1Target.html">Target</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="comment">// Remove P from NonLocalPointerDeps (which deletes NonLocalDepInfo).</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(It);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;}</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#a2a5826c1be70ba257e98f90ed73a6b7c"> 1492</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a2a5826c1be70ba257e98f90ed73a6b7c">MemoryDependenceResults::invalidateCachedPointerInfo</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="comment">// If Ptr isn&#39;t really a pointer, just ignore it.</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()-&gt;isPointerTy())</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">// Flush store info for the pointer.</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  removeCachedNonLocalPointerDependencies(<a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <span class="keyword">false</span>));</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="comment">// Flush load info for the pointer.</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  removeCachedNonLocalPointerDependencies(<a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <span class="keyword">true</span>));</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;}</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#a278345b63e562031b41d6900c3e3bfb3"> 1502</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a278345b63e562031b41d6900c3e3bfb3">MemoryDependenceResults::invalidateCachedPredecessors</a>() {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  PredCache.<a class="code" href="classllvm_1_1PredIteratorCache.html#a9591b7adcdf007126703405b17307ce4">clear</a>();</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;}</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#a4082748189dc3460ea7130cd8d7790b5"> 1506</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a4082748189dc3460ea7130cd8d7790b5">MemoryDependenceResults::removeInstruction</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *RemInst) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// Walk through the Non-local dependencies, removing this one as the value</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="comment">// for any cached queries.</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">NonLocalDepMapType::iterator</a> NLDI = NonLocalDepsMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(RemInst);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">if</span> (NLDI != NonLocalDepsMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">NonLocalDepInfo</a> &amp;BlockMap = NLDI-&gt;second.first;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : BlockMap)</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = Entry.getResult().getInst())</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a>(ReverseNonLocalDeps, Inst, RemInst);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    NonLocalDepsMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(NLDI);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  }</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="comment">// If we have a cached local dependence query for this instruction, remove it.</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">LocalDepMapType::iterator</a> LocalDepEntry = LocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(RemInst);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordflow">if</span> (LocalDepEntry != LocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="comment">// Remove us from DepInst&#39;s reverse set now that the local dep info is gone.</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = LocalDepEntry-&gt;second.getInst())</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a>(ReverseLocalDeps, Inst, RemInst);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="comment">// Remove this local dependency info.</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    LocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(LocalDepEntry);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="comment">// If we have any cached dependencies on this instruction, remove</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="comment">// them.</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="comment">// If the instruction is a pointer, remove it from both the load info and the</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="comment">// store info.</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">if</span> (RemInst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    removeCachedNonLocalPointerDependencies(<a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(RemInst, <span class="keyword">false</span>));</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    removeCachedNonLocalPointerDependencies(<a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(RemInst, <span class="keyword">true</span>));</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// Otherwise, if the instructions is in the map directly, it must be a load.</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="comment">// Remove it.</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="keyword">auto</span> toRemoveIt = NonLocalDefsCache.find(RemInst);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">if</span> (toRemoveIt != NonLocalDefsCache.end()) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;LoadInst&gt;(RemInst) &amp;&amp;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;             <span class="stringliteral">&quot;only load instructions should be added directly&quot;</span>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DepV = toRemoveIt-&gt;second.getResult().getInst();</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      ReverseNonLocalDefsCache.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(DepV)-&gt;second.erase(RemInst);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      NonLocalDefsCache.erase(toRemoveIt);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="comment">// Loop over all of the things that depend on the instruction we&#39;re removing.</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;Instruction *, Instruction *&gt;</a>, 8&gt; ReverseDepsToAdd;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="comment">// If we find RemInst as a clobber or Def in any of the maps for other values,</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="comment">// we need to replace its entry with a dirty version of the instruction after</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="comment">// it.  If RemInst is a terminator, we use a null dirty value.</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="comment">// Using a dirty version of the instruction after RemInst saves having to scan</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="comment">// the entire block to get to this point.</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> NewDirtyVal;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">if</span> (!RemInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a7653277511df1034148a37520a585bb5">isTerminator</a>())</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    NewDirtyVal = MemDepResult::getDirty(&amp;*++RemInst-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>());</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">ReverseDepMapType::iterator</a> ReverseDepIt = ReverseLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(RemInst);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">if</span> (ReverseDepIt != ReverseLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="comment">// RemInst can&#39;t be the terminator if it has local stuff depending on it.</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ReverseDepIt-&gt;second.empty() &amp;&amp; !RemInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a7653277511df1034148a37520a585bb5">isTerminator</a>() &amp;&amp;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;           <span class="stringliteral">&quot;Nothing can locally depend on a terminator&quot;</span>);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InstDependingOnRemInst : ReverseDepIt-&gt;second) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InstDependingOnRemInst != RemInst &amp;&amp;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;             <span class="stringliteral">&quot;Already removed our local dep info&quot;</span>);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      LocalDeps[InstDependingOnRemInst] = NewDirtyVal;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="comment">// Make sure to remember that new things depend on NewDepInst.</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewDirtyVal.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>() &amp;&amp;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;             <span class="stringliteral">&quot;There is no way something else can have &quot;</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;             <span class="stringliteral">&quot;a local dep on this if it is a terminator!&quot;</span>);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      ReverseDepsToAdd.push_back(</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;          std::make_pair(NewDirtyVal.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>(), InstDependingOnRemInst));</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160; </div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    ReverseLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(ReverseDepIt);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="comment">// Add new reverse deps after scanning the set, to avoid invalidating the</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="comment">// &#39;ReverseDeps&#39; reference.</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordflow">while</span> (!ReverseDepsToAdd.empty()) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      ReverseLocalDeps[ReverseDepsToAdd.back().first].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;          ReverseDepsToAdd.back().second);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      ReverseDepsToAdd.pop_back();</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    }</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  ReverseDepIt = ReverseNonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(RemInst);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordflow">if</span> (ReverseDepIt != ReverseNonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : ReverseDepIt-&gt;second) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != RemInst &amp;&amp; <span class="stringliteral">&quot;Already removed NonLocalDep info for RemInst&quot;</span>);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      PerInstNLInfo &amp;INLD = NonLocalDepsMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <span class="comment">// The information is now dirty!</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      INLD.second = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : INLD.first) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <span class="keywordflow">if</span> (Entry.getResult().getInst() != RemInst)</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        <span class="comment">// Convert to a dirty entry for the subsequent instruction.</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        Entry.setResult(NewDirtyVal);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160; </div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NextI = NewDirtyVal.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>())</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;          ReverseDepsToAdd.push_back(std::make_pair(NextI, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    ReverseNonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(ReverseDepIt);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="comment">// Add new reverse deps after scanning the set, to avoid invalidating &#39;Set&#39;</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">while</span> (!ReverseDepsToAdd.empty()) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      ReverseNonLocalDeps[ReverseDepsToAdd.back().first].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;          ReverseDepsToAdd.back().second);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      ReverseDepsToAdd.pop_back();</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  }</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="comment">// If the instruction is in ReverseNonLocalPtrDeps then it appears as a</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="comment">// value in the NonLocalPointerDeps info.</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">ReverseNonLocalPtrDepTy::iterator</a> ReversePtrDepIt =</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      ReverseNonLocalPtrDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(RemInst);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="keywordflow">if</span> (ReversePtrDepIt != ReverseNonLocalPtrDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;Instruction *, ValueIsLoadPair&gt;</a>, 8&gt;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        ReversePtrDepsToAdd;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : ReversePtrDepIt-&gt;second) {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getPointer() != RemInst &amp;&amp;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;             <span class="stringliteral">&quot;Already removed NonLocalPointerDeps info for RemInst&quot;</span>);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">NonLocalDepInfo</a> &amp;NLPDI = NonLocalPointerDeps[<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>].NonLocalDeps;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      <span class="comment">// The cache is not valid for any specific block anymore.</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      NonLocalPointerDeps[<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>].Pair = <a class="code" href="classllvm_1_1PointerIntPair.html">BBSkipFirstBlockPair</a>();</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      <span class="comment">// Update any entries for RemInst to use the instruction after it.</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : NLPDI) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <span class="keywordflow">if</span> (Entry.getResult().getInst() != RemInst)</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <span class="comment">// Convert to a dirty entry for the subsequent instruction.</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        Entry.setResult(NewDirtyVal);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160; </div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewDirtyInst = NewDirtyVal.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>())</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;          ReversePtrDepsToAdd.push_back(std::make_pair(NewDirtyInst, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>));</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <span class="comment">// Re-sort the NonLocalDepInfo.  Changing the dirty entry to its</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <span class="comment">// subsequent value may invalidate the sortedness.</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(NLPDI);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    }</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    ReverseNonLocalPtrDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(ReversePtrDepIt);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordflow">while</span> (!ReversePtrDepsToAdd.empty()) {</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      ReverseNonLocalPtrDeps[ReversePtrDepsToAdd.back().first].<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;          ReversePtrDepsToAdd.back().second);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      ReversePtrDepsToAdd.pop_back();</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  }</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!NonLocalDepsMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(RemInst) &amp;&amp; <span class="stringliteral">&quot;RemInst got reinserted?&quot;</span>);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(verifyRemoved(RemInst));</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;}</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="comment">/// Verify that the specified instruction does not occur in our internal data</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<span class="comment">/// structures.</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<span class="comment">/// This function verifies by asserting in debug builds.</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> MemoryDependenceResults::verifyRemoved(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DepKV : LocalDeps) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DepKV.first != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DepKV.second.getInst() != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  }</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DepKV : NonLocalPointerDeps) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DepKV.first.getPointer() != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs in NLPD map key&quot;</span>);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Entry : DepKV.second.NonLocalDeps)</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Entry.getResult().getInst() != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs as NLPD value&quot;</span>);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  }</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; </div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DepKV : NonLocalDepsMap) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DepKV.first != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keyword">const</span> PerInstNLInfo &amp;INLD = DepKV.second;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Entry : INLD.first)</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Entry.getResult().getInst() != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;             <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  }</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160; </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DepKV : ReverseLocalDeps) {</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DepKV.first != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst : DepKV.second)</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Inst != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160; </div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DepKV : ReverseNonLocalDeps) {</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DepKV.first != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst : DepKV.second)</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Inst != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DepKV : ReverseNonLocalPtrDeps) {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DepKV.first != <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> &amp;&amp; <span class="stringliteral">&quot;Inst occurs in rev NLPD map&quot;</span>);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">for</span> (ValueIsLoadPair <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : DepKV.second)</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> != ValueIsLoadPair(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <span class="keyword">false</span>) &amp;&amp; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> != ValueIsLoadPair(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;             <span class="stringliteral">&quot;Inst occurs in ReverseNonLocalPtrDeps map&quot;</span>);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;}</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<a class="code" href="structllvm_1_1AnalysisKey.html">AnalysisKey</a> MemoryDependenceAnalysis::Key;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160; </div>
<div class="line"><a name="l01721"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#aa5f74146c43c5fc06927f8e9197aec55"> 1721</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#aa5f74146c43c5fc06927f8e9197aec55">MemoryDependenceAnalysis::MemoryDependenceAnalysis</a>()</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    : DefaultBlockScanLimit(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a56f1e7a7af4b5d94c5f562b6977128a4">BlockScanLimit</a>) {}</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160; </div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceResults.html">MemoryDependenceResults</a></div>
<div class="line"><a name="l01725"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a19bc33a610ce16b681fe59559cd987d9"> 1725</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a19bc33a610ce16b681fe59559cd987d9">MemoryDependenceAnalysis::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="keyword">auto</span> &amp;AA = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="keyword">auto</span> &amp;AC = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AssumptionAnalysis.html">AssumptionAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keyword">auto</span> &amp;TLI = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryAnalysis.html">TargetLibraryAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="keyword">auto</span> &amp;DT = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html">MemoryDependenceResults</a>(AA, AC, TLI, DT, DefaultBlockScanLimit);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;}</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html#acda9fcfc1abce321fcd066950cba2452">MemoryDependenceWrapperPass::ID</a> = 0;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a865dea47ca1862c87d7bed49760b9133">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html">MemoryDependenceWrapperPass</a>, <span class="stringliteral">&quot;memdep&quot;</span>,</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                      <span class="stringliteral">&quot;Memory Dependence Analysis&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>)</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>)</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>)</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>)</div>
<div class="line"><a name="l01741"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a3950b99d68513a8206c71fdc9f95627c"> 1741</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html">MemoryDependenceWrapperPass</a>, &quot;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a3950b99d68513a8206c71fdc9f95627c">memdep</a>&quot;,</div>
<div class="line"><a name="l01742"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a68467917887af0ab956c384969815087"> 1742</a></span>&#160;                    &quot;<a class="code" href="classllvm_1_1sys_1_1Memory.html">Memory</a> <a class="code" href="classllvm_1_1Dependence.html">Dependence</a> Analysis&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>)</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; </div>
<div class="line"><a name="l01744"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceWrapperPass.html#ada101917bddd2804c090bfbe8e21c6b6"> 1744</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html">MemoryDependenceWrapperPass</a>::<a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html">MemoryDependenceWrapperPass</a>() : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  <a class="code" href="namespacellvm.html#a1e0d4c73eb85da47e93c020955c40f92">initializeMemoryDependenceWrapperPassPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;}</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html#a52e746f7411221c0237af48a22d56d7f">MemoryDependenceWrapperPass::~MemoryDependenceWrapperPass</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceWrapperPass.html#ace45e19f96ae1a1e951e36bfcf3014a4"> 1750</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html#ace45e19f96ae1a1e951e36bfcf3014a4">MemoryDependenceWrapperPass::releaseMemory</a>() {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  MemDep.reset();</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;}</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceWrapperPass.html#a69de200b873b4a8db94ace6a23d48902"> 1754</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html#a69de200b873b4a8db94ace6a23d48902">MemoryDependenceWrapperPass::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>&gt;();</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;();</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;}</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160; </div>
<div class="line"><a name="l01762"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#afdb9a6afa20a9c40940f135b6a1cf59b"> 1762</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#afdb9a6afa20a9c40940f135b6a1cf59b">MemoryDependenceResults::invalidate</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> &amp;PA,</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                               <a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html">FunctionAnalysisManager::Invalidator</a> &amp;Inv) {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="comment">// Check whether our analysis is preserved.</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="keyword">auto</span> PAC = PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#aa7a1b769f9c57010cc41d9c3bb9d39c6">getChecker</a>&lt;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html">MemoryDependenceAnalysis</a>&gt;();</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="keywordflow">if</span> (!PAC.preserved() &amp;&amp; !PAC.preservedSet&lt;<a class="code" href="classllvm_1_1AllAnalysesOn.html">AllAnalysesOn&lt;Function&gt;</a>&gt;())</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="comment">// If not, give up now.</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160; </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="comment">// Check whether the analyses we depend on became invalid for any reason.</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="keywordflow">if</span> (Inv.<a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, PA) ||</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      Inv.<a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>&lt;<a class="code" href="classllvm_1_1AssumptionAnalysis.html">AssumptionAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, PA) ||</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      Inv.<a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, PA))</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <span class="comment">// Otherwise this analysis result remains valid.</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;}</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceResults.html#aa2685b1764b0730fb0ff4379700b9aba"> 1780</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#aa2685b1764b0730fb0ff4379700b9aba">MemoryDependenceResults::getDefaultBlockScanLimit</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <span class="keywordflow">return</span> DefaultBlockScanLimit;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;}</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceWrapperPass.html#a28b03127a71ed0d48ff09af46631fa71"> 1784</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html#a28b03127a71ed0d48ff09af46631fa71">MemoryDependenceWrapperPass::runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="keyword">auto</span> &amp;AA = getAnalysis&lt;AAResultsWrapperPass&gt;().getAAResults();</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="keyword">auto</span> &amp;AC = getAnalysis&lt;AssumptionCacheTracker&gt;().getAssumptionCache(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keyword">auto</span> &amp;TLI = getAnalysis&lt;TargetLibraryInfoWrapperPass&gt;().getTLI(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="keyword">auto</span> &amp;DT = getAnalysis&lt;DominatorTreeWrapperPass&gt;().getDomTree();</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  MemDep.emplace(AA, AC, TLI, DT, <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a56f1e7a7af4b5d94c5f562b6977128a4">BlockScanLimit</a>);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aMemorySSA_8cpp_html_af21791a898355d83b502fd655b90e061"><div class="ttname"><a href="MemorySSA_8cpp.html#af21791a898355d83b502fd655b90e061">isOrdered</a></div><div class="ttdeci">static bool isOrdered(const Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01713">MemorySSA.cpp:1713</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_a4082748189dc3460ea7130cd8d7790b5"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#a4082748189dc3460ea7130cd8d7790b5">llvm::MemoryDependenceResults::removeInstruction</a></div><div class="ttdeci">void removeInstruction(Instruction *InstToRemove)</div><div class="ttdoc">Removes an instruction from the dependence analysis, updating the dependence of instructions that pre...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01506">MemoryDependenceAnalysis.cpp:1506</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html">llvm::BatchAAResults</a></div><div class="ttdoc">This class is a wrapper over an AAResults, and it is intended to be used only when there are no IR ch...</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00612">AliasAnalysis.h:612</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a7653277511df1034148a37520a585bb5"><div class="ttname"><a href="classllvm_1_1Instruction.html#a7653277511df1034148a37520a585bb5">llvm::Instruction::isTerminator</a></div><div class="ttdeci">bool isTerminator() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00171">Instruction.h:171</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ead974636fce6d12e72054e61fb3c1e9a8"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ead974636fce6d12e72054e61fb3c1e9a8">llvm::ModRefInfo::NoModRef</a></div><div class="ttdeci">@ NoModRef</div><div class="ttdoc">The access neither references nor modifies the value stored in memory.</div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAManager_html"><div class="ttname"><a href="classllvm_1_1AAManager.html">llvm::AAManager</a></div><div class="ttdoc">A manager for alias analyses.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00885">AliasAnalysis.h:885</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a0b4e7bee9b8575cc7db73329f1a561bd"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">llvm::BasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00316">BasicBlock.h:316</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html_a8d3de277fb70fa515efac2db2cfe9d57a9e724bc94de38c6ca77508f19c246c0c"><div class="ttname"><a href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a9e724bc94de38c6ca77508f19c246c0c">llvm::AliasResult::PartialAlias</a></div><div class="ttdeci">@ PartialAlias</div><div class="ttdoc">The two locations alias, but only due to a partial overlap.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00106">AliasAnalysis.h:106</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a18e5a3f1d71ba10a624f2a8e5121cf1f"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">llvm::MemoryLocation::get</a></div><div class="ttdeci">static MemoryLocation get(const LoadInst *LI)</div><div class="ttdoc">Return a location with information about the memory reference by the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8cpp_source.html#l00036">MemoryLocation.cpp:36</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1NonLocalDepEntry_html"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html">llvm::NonLocalDepEntry</a></div><div class="ttdoc">This is an entry in the NonLocalDepInfo cache.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00206">MemoryDependenceAnalysis.h:206</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8cpp_html_a3950b99d68513a8206c71fdc9f95627c"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a3950b99d68513a8206c71fdc9f95627c">memdep</a></div><div class="ttdeci">memdep</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01741">MemoryDependenceAnalysis.cpp:1741</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4b7d2ab11554bd10d15b6cb21b2c2787"><div class="ttname"><a href="namespacellvm.html#a4b7d2ab11554bd10d15b6cb21b2c2787">llvm::upper_bound</a></div><div class="ttdeci">auto upper_bound(R &amp;&amp;Range, T &amp;&amp;Value)</div><div class="ttdoc">Provide wrappers to std::upper_bound which take ranges instead of having to pass begin/end explicitly...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01936">STLExtras.h:1936</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_abb4ce3bc3096a12d4b93460bf78bcf95"><div class="ttname"><a href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in it</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00081">README-SSE.txt:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1VAArgInst_html"><div class="ttname"><a href="classllvm_1_1VAArgInst.html">llvm::VAArgInst</a></div><div class="ttdoc">This class represents the va_arg llvm instruction, which returns an argument of the specified type gi...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01841">Instructions.h:1841</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a98c0a84a5dfa8bce341c829709f171e5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">llvm::BasicBlock::iterator</a></div><div class="ttdeci">InstListType::iterator iterator</div><div class="ttdoc">Instruction iterators...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00087">BasicBlock.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHITransAddr_html"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html">llvm::PHITransAddr</a></div><div class="ttdoc">PHITransAddr - An address value which tracks and handles phi translation.</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00035">PHITransAddr.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a3b996fbf8458aafffc86cb98a68d0a47"><div class="ttname"><a href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const</div><div class="ttdoc">True if this is an instance of PointerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00249">Type.h:249</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_aa9284c7b4e7cfa1baabc14bf877b29f8"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#aa9284c7b4e7cfa1baabc14bf877b29f8">llvm::MemDepResult::isLocal</a></div><div class="ttdeci">bool isLocal() const</div><div class="ttdoc">Tests if this MemDepResult represents a valid local query (Clobber/Def).</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00151">MemoryDependenceAnalysis.h:151</a></div></div>
<div class="ttc" id="aAtomicOrdering_8h_html"><div class="ttname"><a href="AtomicOrdering_8h.html">AtomicOrdering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a9550ce4a179e46db37f653ce28feca7a"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">llvm::MemoryLocation::Ptr</a></div><div class="ttdeci">const Value * Ptr</div><div class="ttdoc">The address of the start of the location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00219">MemoryLocation.h:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_1_1Invalidator_html_a5e8e9230fa677542877d1f3c6ff95ae2"><div class="ttname"><a href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">llvm::AnalysisManager::Invalidator::invalidate</a></div><div class="ttdeci">bool invalidate(IRUnitT &amp;IR, const PreservedAnalyses &amp;PA)</div><div class="ttdoc">Trigger the invalidation of some other analysis pass if not already handled and return whether it was...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00679">PassManager.h:679</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8cpp_html_acd3547fb1d6f146f260932c444b4f8c5"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#acd3547fb1d6f146f260932c444b4f8c5">BlockNumberLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; BlockNumberLimit(&quot;memdep-block-number-limit&quot;, cl::Hidden, cl::init(200), cl::desc(&quot;The number of blocks to scan during memory &quot; &quot;dependency analysis (default = 200)&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdoc">Target - Wrapper for Target specific information.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00149">TargetRegistry.h:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceWrapperPass_html_a52e746f7411221c0237af48a22d56d7f"><div class="ttname"><a href="classllvm_1_1MemoryDependenceWrapperPass.html#a52e746f7411221c0237af48a22d56d7f">llvm::MemoryDependenceWrapperPass::~MemoryDependenceWrapperPass</a></div><div class="ttdeci">~MemoryDependenceWrapperPass() override</div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceWrapperPass_html_a28b03127a71ed0d48ff09af46631fa71"><div class="ttname"><a href="classllvm_1_1MemoryDependenceWrapperPass.html#a28b03127a71ed0d48ff09af46631fa71">llvm::MemoryDependenceWrapperPass::runOnFunction</a></div><div class="ttdeci">bool runOnFunction(Function &amp;) override</div><div class="ttdoc">Pass Implementation stuff. This doesn't do any analysis eagerly.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01784">MemoryDependenceAnalysis.cpp:1784</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_ae6a4da5f41fc6a36735cc1704c01ce60"><div class="ttname"><a href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00735">Function.h:735</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllAnalysesOn_html"><div class="ttname"><a href="classllvm_1_1AllAnalysesOn.html">llvm::AllAnalysesOn</a></div><div class="ttdoc">This templated class represents &quot;all analyses that operate over &lt;a particular IR unit&gt;&quot; (e....</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00090">PassManager.h:90</a></div></div>
<div class="ttc" id="anamespacellvm_html_a728f79528ca8659e15d00c1e6818b316"><div class="ttname"><a href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">llvm::isModSet</a></div><div class="ttdeci">bool isModSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00048">ModRef.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a078f7dbb4fe93a1a5921d82a91f04875"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a078f7dbb4fe93a1a5921d82a91f04875">llvm::MemoryLocation::getWithNewSize</a></div><div class="ttdeci">MemoryLocation getWithNewSize(LocationSize NewSize) const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00301">MemoryLocation.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_a278345b63e562031b41d6900c3e3bfb3"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#a278345b63e562031b41d6900c3e3bfb3">llvm::MemoryDependenceResults::invalidateCachedPredecessors</a></div><div class="ttdeci">void invalidateCachedPredecessors()</div><div class="ttdoc">Clears the PredIteratorCache info.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01502">MemoryDependenceAnalysis.cpp:1502</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Dependence_html"><div class="ttname"><a href="classllvm_1_1Dependence.html">llvm::Dependence</a></div><div class="ttdoc">Dependence - This class represents a dependence between two memory memory references in a function.</div><div class="ttdef"><b>Definition:</b> <a href="DependenceAnalysis_8h_source.html#l00071">DependenceAnalysis.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1NonLocalDepEntry_html_a54ee357daa2fd62b97b7423ee3886be8"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#a54ee357daa2fd62b97b7423ee3886be8">llvm::NonLocalDepEntry::getResult</a></div><div class="ttdeci">const MemDepResult &amp; getResult() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00222">MemoryDependenceAnalysis.h:222</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="astructllvm_1_1AAMDNodes_html"><div class="ttname"><a href="structllvm_1_1AAMDNodes.html">llvm::AAMDNodes</a></div><div class="ttdoc">A collection of metadata nodes that might be associated with a memory access used by the alias-analys...</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00651">Metadata.h:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a39f7ff959874bf38f3e14aa0b2622da0"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a39f7ff959874bf38f3e14aa0b2622da0">llvm::MemoryLocation::Size</a></div><div class="ttdeci">LocationSize Size</div><div class="ttdoc">The maximum size of the location, in address-units, or UnknownSize if the size is not known.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00228">MemoryLocation.h:228</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aMemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8cpp_html_a56f1e7a7af4b5d94c5f562b6977128a4"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a56f1e7a7af4b5d94c5f562b6977128a4">BlockScanLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; BlockScanLimit(&quot;memdep-block-scan-limit&quot;, cl::Hidden, cl::init(100), cl::desc(&quot;The number of instructions to scan in a block in memory &quot; &quot;dependency analysis (default = 100)&quot;))</div></div>
<div class="ttc" id="anamespacellvm_html_a854abfc88bcd24e3878e2c9ab1f70fd3"><div class="ttname"><a href="namespacellvm.html#a854abfc88bcd24e3878e2c9ab1f70fd3">llvm::isModOrRefSet</a></div><div class="ttdeci">bool isModOrRefSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00042">ModRef.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1FenceInst_html"><div class="ttname"><a href="classllvm_1_1FenceInst.html">llvm::FenceInst</a></div><div class="ttdoc">An instruction for ordering other memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00436">Instructions.h:436</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a383175f96316074965ad115706bd49d7"><div class="ttname"><a href="classllvm_1_1Instruction.html#a383175f96316074965ad115706bd49d7">llvm::Instruction::mayWriteToMemory</a></div><div class="ttdeci">bool mayWriteToMemory() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction may modify memory.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00646">Instruction.cpp:646</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html"><div class="ttname"><a href="classllvm_1_1AliasResult.html">llvm::AliasResult</a></div><div class="ttdoc">The possible results of an alias query.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00083">AliasAnalysis.h:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html"><div class="ttname"><a href="classllvm_1_1MemDepResult.html">llvm::MemDepResult</a></div><div class="ttdoc">A memory dependence query can return one of three different answers.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00037">MemoryDependenceAnalysis.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8h_html"><div class="ttname"><a href="MemoryDependenceAnalysis_8h.html">MemoryDependenceAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_ad47eefa1d094f60494b6b927061ca001"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">llvm::LoadInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00264">Instructions.h:264</a></div></div>
<div class="ttc" id="aclassllvm_1_1LocationSize_html_aa9addaa6f7dd437922a57401cb192031"><div class="ttname"><a href="classllvm_1_1LocationSize.html#aa9addaa6f7dd437922a57401cb192031">llvm::LocationSize::isPrecise</a></div><div class="ttdeci">bool isPrecise() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00167">MemoryLocation.h:167</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7"><div class="ttname"><a href="namespacellvm_1_1codeview.html#a0bfa8e65ecd85f3151f84bb53ad4bcbca61cf8510205077b6f5491d38cd44c0f7">llvm::codeview::PointerMode::Pointer</a></div><div class="ttdeci">@ Pointer</div></div>
<div class="ttc" id="aUse_8h_html"><div class="ttname"><a href="Use_8h.html">Use.h</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7a14194d0b2e6c6680067975517cd58eac"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a14194d0b2e6c6680067975517cd58eac">llvm::AtomicOrdering::Monotonic</a></div><div class="ttdeci">@ Monotonic</div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9149819221d66953ac6c2938b87f0136"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9149819221d66953ac6c2938b87f0136">llvm::Instruction::mayReadFromMemory</a></div><div class="ttdeci">bool mayReadFromMemory() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction may read memory.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00626">Instruction.cpp:626</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a5c69311e8d44898dac36a155c3d8691d"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const BasicBlock *BB, const Use &amp;U) const</div><div class="ttdoc">Return true if the (end of the) basic block BB dominates the use U.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00122">Dominators.cpp:122</a></div></div>
<div class="ttc" id="aPHITransAddr_8h_html"><div class="ttname"><a href="PHITransAddr_8h.html">PHITransAddr.h</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a926099ca5ca5db6ba2de398c2487b725"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a926099ca5ca5db6ba2de398c2487b725">llvm::MemoryLocation::AATags</a></div><div class="ttdeci">AAMDNodes AATags</div><div class="ttdoc">The metadata nodes which describes the aliasing of the location (each member is null if that kind of ...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00232">MemoryLocation.h:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceAnalysis_html_a19bc33a610ce16b681fe59559cd987d9"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#a19bc33a610ce16b681fe59559cd987d9">llvm::MemoryDependenceAnalysis::run</a></div><div class="ttdeci">MemoryDependenceResults run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01725">MemoryDependenceAnalysis.cpp:1725</a></div></div>
<div class="ttc" id="anamespacellvm_html_a433468826ef20b5ddb53704fc38363fc"><div class="ttname"><a href="namespacellvm.html#a433468826ef20b5ddb53704fc38363fc">llvm::isNoAliasCall</a></div><div class="ttdeci">bool isNoAliasCall(const Value *V)</div><div class="ttdoc">Return true if this pointer is returned by a noalias function.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00866">AliasAnalysis.cpp:866</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html_acc08d3794eb34598ea9f389c9b7f51d1"><div class="ttname"><a href="classllvm_1_1AAResults.html#acc08d3794eb34598ea9f389c9b7f51d1">llvm::AAResults::onlyReadsMemory</a></div><div class="ttdeci">bool onlyReadsMemory(const CallBase *Call)</div><div class="ttdoc">Checks if the specified call is known to only read from non-volatile memory (or not access memory at ...</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00461">AliasAnalysis.h:461</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">llvm::ModRefInfo::Ref</a></div><div class="ttdeci">@ Ref</div><div class="ttdoc">The access may reference the value stored in memory.</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_a2a5826c1be70ba257e98f90ed73a6b7c"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#a2a5826c1be70ba257e98f90ed73a6b7c">llvm::MemoryDependenceResults::invalidateCachedPointerInfo</a></div><div class="ttdeci">void invalidateCachedPointerInfo(Value *Ptr)</div><div class="ttdoc">Invalidates cached information about the specified pointer, because it may be too conservative in mem...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01492">MemoryDependenceAnalysis.cpp:1492</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html_a2205e49ace8bb2fd9934342ff6a25e13"><div class="ttname"><a href="classllvm_1_1AAResults.html#a2205e49ace8bb2fd9934342ff6a25e13">llvm::AAResults::getModRefInfo</a></div><div class="ttdeci">ModRefInfo getModRefInfo(const Instruction *I, const std::optional&lt; MemoryLocation &gt; &amp;OptLoc)</div><div class="ttdoc">Check whether or not an instruction may read or write the optionally specified memory location.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00488">AliasAnalysis.h:488</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdoc">Instruction iterator methods.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00314">BasicBlock.h:314</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1LocationSize_html_a47f128e1007c6c70eb7b0df2dcbf68df"><div class="ttname"><a href="classllvm_1_1LocationSize.html#a47f128e1007c6c70eb7b0df2dcbf68df">llvm::LocationSize::getValue</a></div><div class="ttdeci">uint64_t getValue() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00160">MemoryLocation.h:160</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="aTargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_a81ed5939e93e21552b452f5f82a73a38"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#a81ed5939e93e21552b452f5f82a73a38">llvm::MemoryDependenceResults::getInvariantGroupPointerDependency</a></div><div class="ttdeci">MemDepResult getInvariantGroupPointerDependency(LoadInst *LI, BasicBlock *BB)</div><div class="ttdoc">This analysis looks for other loads and stores with invariant.group metadata and the same pointer ope...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00277">MemoryDependenceAnalysis.cpp:277</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeWrapperPass_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeWrapperPass.html">llvm::DominatorTreeWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00314">Dominators.h:314</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_a3b1c5788b85ffa254be0e834edf5cf8f"><div class="ttname"><a href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">llvm::getUnderlyingObject</a></div><div class="ttdeci">const Value * getUnderlyingObject(const Value *V, unsigned MaxLookup=6)</div><div class="ttdoc">This method strips off any GEP address adjustments and pointer casts from the specified value,...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04567">ValueTracking.cpp:4567</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_aa2685b1764b0730fb0ff4379700b9aba"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#aa2685b1764b0730fb0ff4379700b9aba">llvm::MemoryDependenceResults::getDefaultBlockScanLimit</a></div><div class="ttdeci">unsigned getDefaultBlockScanLimit() const</div><div class="ttdoc">Some methods limit the number of instructions they will examine.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01780">MemoryDependenceAnalysis.cpp:1780</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_afc70e919c88c86159cc94cea29b6c210"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#afc70e919c88c86159cc94cea29b6c210">llvm::BasicBlock::getModule</a></div><div class="ttdeci">const Module * getModule() const</div><div class="ttdoc">Return the module owning the function this basic block belongs to, or nullptr if the function does no...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00146">BasicBlock.cpp:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00687">SmallVector.h:687</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_1_1Invalidator_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager_1_1Invalidator.html">llvm::AnalysisManager::Invalidator</a></div><div class="ttdoc">API to communicate dependencies between analyses during invalidation.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00661">PassManager.h:661</a></div></div>
<div class="ttc" id="aclassllvm_1_1NonLocalDepResult_html"><div class="ttname"><a href="classllvm_1_1NonLocalDepResult.html">llvm::NonLocalDepResult</a></div><div class="ttdoc">This is a result from a NonLocal dependence query.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00231">MemoryDependenceAnalysis.h:231</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8cpp_html_a865dea47ca1862c87d7bed49760b9133"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a865dea47ca1862c87d7bed49760b9133">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(MemoryDependenceWrapperPass, &quot;memdep&quot;, &quot;Memory Dependence Analysis&quot;, false, true) INITIALIZE_PASS_END(MemoryDependenceWrapperPass</div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a47504af508f66b8f52d3f100d32326fc"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a47504af508f66b8f52d3f100d32326fc">llvm::MemDepResult::isNonFuncLocal</a></div><div class="ttdeci">bool isNonFuncLocal() const</div><div class="ttdoc">Tests if this MemDepResult represents a query that is transparent to the start of the function.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00161">MemoryDependenceAnalysis.h:161</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8cpp_html_aac7d0e8a679e82bca022febc48796059"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#aac7d0e8a679e82bca022febc48796059">AssertSorted</a></div><div class="ttdeci">static void AssertSorted(MemoryDependenceResults::NonLocalDepInfo &amp;Cache, int Count=-1)</div><div class="ttdoc">This method is used when -debug is specified to verify that cache arrays are properly kept sorted.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00703">MemoryDependenceAnalysis.cpp:703</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9cb77a3069c227792d6bade6faff422"><div class="ttname"><a href="namespacellvm.html#ab9cb77a3069c227792d6bade6faff422">llvm::getFreedOperand</a></div><div class="ttdeci">Value * getFreedOperand(const CallBase *CB, const TargetLibraryInfo *TLI)</div><div class="ttdoc">If this if a call to a free function, return the freed operand.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00546">MemoryBuiltins.cpp:546</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01683">STLExtras.h:1683</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7">llvm::AtomicOrdering</a></div><div class="ttdeci">AtomicOrdering</div><div class="ttdoc">Atomic ordering for LLVM's memory model.</div><div class="ttdef"><b>Definition:</b> <a href="AtomicOrdering_8h_source.html#l00056">AtomicOrdering.h:56</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01410">CommandLine.h:1410</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a9981b24f924d63fbddf7daf8c7e7a21b"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">llvm::MemDepResult::getInst</a></div><div class="ttdeci">Instruction * getInst() const</div><div class="ttdoc">If this is a normal dependency, returns the instruction that is depended on.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00173">MemoryDependenceAnalysis.h:173</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3a1d3115b016cea5ab80926ecc5493b5"><div class="ttname"><a href="namespacellvm.html#a3a1d3115b016cea5ab80926ecc5493b5">llvm::isStrongerThanUnordered</a></div><div class="ttdeci">bool isStrongerThanUnordered(AtomicOrdering AO)</div><div class="ttdef"><b>Definition:</b> <a href="AtomicOrdering_8h_source.html#l00120">AtomicOrdering.h:120</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a></div><div class="ttdeci">@ VI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07994">SIInstrInfo.cpp:7994</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_a2afd85d1ce874e1dd6391c967101d3b8"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#a2afd85d1ce874e1dd6391c967101d3b8">llvm::BatchAAResults::alias</a></div><div class="ttdeci">AliasResult alias(const MemoryLocation &amp;LocA, const MemoryLocation &amp;LocB)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00621">AliasAnalysis.h:621</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adf4e7878fc0b3b8dcde545178564190d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">llvm::DenseMapBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00110">DenseMap.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac2db21413768e904d56a02c26184823d"><div class="ttname"><a href="namespacellvm.html#ac2db21413768e904d56a02c26184823d">llvm::getPointerOperand</a></div><div class="ttdeci">const Value * getPointerOperand(const Value *V)</div><div class="ttdoc">A helper function that returns the pointer operand of a load, store or GEP instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l05377">Instructions.h:5377</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfoWrapperPass.html">llvm::TargetLibraryInfoWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00565">TargetLibraryInfo.h:565</a></div></div>
<div class="ttc" id="aclassllvm_1_1LocationSize_html_a0b0401973fc9567440717a5d32a8eb8d"><div class="ttname"><a href="classllvm_1_1LocationSize.html#a0b0401973fc9567440717a5d32a8eb8d">llvm::LocationSize::hasValue</a></div><div class="ttdeci">bool hasValue() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00157">MemoryLocation.h:157</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_abe3f8cc6fbe8189cd90e3833b171bb59"><div class="ttname"><a href="namespacellvm.html#abe3f8cc6fbe8189cd90e3833b171bb59">llvm::isModAndRefSet</a></div><div class="ttdeci">bool isModAndRefSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00045">ModRef.h:45</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionAnalysis_html"><div class="ttname"><a href="classllvm_1_1AssumptionAnalysis.html">llvm::AssumptionAnalysis</a></div><div class="ttdoc">A function analysis which provides an AssumptionCache.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00173">AssumptionCache.h:173</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8cpp_html_a2f0fcb9c7daf7faa22e51485d733a473"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a2f0fcb9c7daf7faa22e51485d733a473">NumResultsLimit</a></div><div class="ttdeci">static const unsigned int NumResultsLimit</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00084">MemoryDependenceAnalysis.cpp:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_ae4760893fa2bd86ce4460d3171fb9a82"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">llvm::MemDepResult::getDef</a></div><div class="ttdeci">static MemDepResult getDef(Instruction *Inst)</div><div class="ttdoc">get methods: These are static ctor methods for creating various MemDepResult kinds.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00124">MemoryDependenceAnalysis.h:124</a></div></div>
<div class="ttc" id="aMemoryLocation_8h_html"><div class="ttname"><a href="MemoryLocation_8h.html">MemoryLocation.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="astructllvm_1_1AnalysisKey_html"><div class="ttname"><a href="structllvm_1_1AnalysisKey.html">llvm::AnalysisKey</a></div><div class="ttdoc">A special type used by analysis passes to provide an address that identifies that particular analysis...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00069">PassManager.h:69</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_af6d5cafbdfc5313e65d990120021a3ec"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a></div><div class="ttdeci">basic Basic Alias true</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l01804">BasicAliasAnalysis.cpp:1804</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1e0d4c73eb85da47e93c020955c40f92"><div class="ttname"><a href="namespacellvm.html#a1e0d4c73eb85da47e93c020955c40f92">llvm::initializeMemoryDependenceWrapperPassPass</a></div><div class="ttdeci">void initializeMemoryDependenceWrapperPassPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7a288d468c5e0969f26a310773eda65603"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a288d468c5e0969f26a310773eda65603">llvm::AtomicOrdering::Unordered</a></div><div class="ttdeci">@ Unordered</div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aPredIteratorCache_8h_html"><div class="ttname"><a href="PredIteratorCache_8h.html">PredIteratorCache.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_aa7240503037f0c0499222a41a5f22d06"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#aa7240503037f0c0499222a41a5f22d06">llvm::MemoryDependenceResults::getNonLocalCallDependency</a></div><div class="ttdeci">const NonLocalDepInfo &amp; getNonLocalCallDependency(CallBase *QueryCall)</div><div class="ttdoc">Perform a full dependency query for the specified call, returning the set of blocks that the value is...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00713">MemoryDependenceAnalysis.cpp:713</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2e"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">llvm::ModRefInfo</a></div><div class="ttdeci">ModRefInfo</div><div class="ttdoc">Flags indicating whether a memory access modifies or references memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00027">ModRef.h:27</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a565f546ad95bd3a9bbe9a1e5040803f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#a565f546ad95bd3a9bbe9a1e5040803f0">llvm::Instruction::hasMetadata</a></div><div class="ttdeci">bool hasMetadata() const</div><div class="ttdoc">Return true if this instruction has any metadata attached to it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00257">Instruction.h:257</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_afc51de08aefeeaabc77fefacc869dbd4"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#afc51de08aefeeaabc77fefacc869dbd4">llvm::MemoryLocation::getForArgument</a></div><div class="ttdeci">static MemoryLocation getForArgument(const CallBase *Call, unsigned ArgIdx, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Return a location representing a particular argument of a call.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8cpp_source.html#l00160">MemoryLocation.cpp:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a1a70f2c359aadd76a72aaaede16aca4a"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">llvm::DominatorTree::isReachableFromEntry</a></div><div class="ttdeci">bool isReachableFromEntry(const Use &amp;U) const</div><div class="ttdoc">Provide an overload for a Use.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00335">Dominators.cpp:335</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a92599976668e8eec0d73b986ad3e7732"><div class="ttname"><a href="classllvm_1_1Instruction.html#a92599976668e8eec0d73b986ad3e7732">llvm::Instruction::isVolatile</a></div><div class="ttdeci">bool isVolatile() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction has a volatile memory access.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00705">Instruction.cpp:705</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceWrapperPass_html_ace45e19f96ae1a1e951e36bfcf3014a4"><div class="ttname"><a href="classllvm_1_1MemoryDependenceWrapperPass.html#ace45e19f96ae1a1e951e36bfcf3014a4">llvm::MemoryDependenceWrapperPass::releaseMemory</a></div><div class="ttdeci">void releaseMemory() override</div><div class="ttdoc">Clean up memory in between runs.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01750">MemoryDependenceAnalysis.cpp:1750</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html">llvm::AssumptionCacheTracker</a></div><div class="ttdoc">An immutable pass that tracks lazily created AssumptionCache objects.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00202">AssumptionCache.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Memory_html"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html">llvm::sys::Memory</a></div><div class="ttdoc">This class provides various memory handling functions that manipulate MemoryBlock instances.</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00052">Memory.h:52</a></div></div>
<div class="ttc" id="aARCInstrInfo_8cpp_html_a6b0daf17b9f0011e9a4c4c8f00644c12"><div class="ttname"><a href="ARCInstrInfo_8cpp.html#a6b0daf17b9f0011e9a4c4c8f00644c12">isLoad</a></div><div class="ttdeci">static bool isLoad(int Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="ARCInstrInfo_8cpp_source.html#l00053">ARCInstrInfo.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_aa5c238ef927795521aeb232b467a6cd1"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#aa5c238ef927795521aeb232b467a6cd1">llvm::MemoryDependenceResults::getDependency</a></div><div class="ttdeci">MemDepResult getDependency(Instruction *QueryInst)</div><div class="ttdoc">Returns the instruction on which a memory operation depends.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00642">MemoryDependenceAnalysis.cpp:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_adfa0be41805b25d9577d6f15d148a0d7"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#adfa0be41805b25d9577d6f15d148a0d7">llvm::BatchAAResults::getModRefInfo</a></div><div class="ttdeci">ModRefInfo getModRefInfo(const Instruction *I, const std::optional&lt; MemoryLocation &gt; &amp;OptLoc)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00631">AliasAnalysis.h:631</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html_a8d3de277fb70fa515efac2db2cfe9d57a863ee317b92588eb2d6878af9fc98922"><div class="ttname"><a href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57a863ee317b92588eb2d6878af9fc98922">llvm::AliasResult::NoAlias</a></div><div class="ttdeci">@ NoAlias</div><div class="ttdoc">The two locations do not alias at all.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00101">AliasAnalysis.h:101</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942">llvm::ModRefInfo::Mod</a></div><div class="ttdeci">@ Mod</div><div class="ttdoc">The access may modify the value stored in memory.</div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasResult_html_a8d3de277fb70fa515efac2db2cfe9d57ac1a99a1af9a4778a61e5cc3e1d622180"><div class="ttname"><a href="classllvm_1_1AliasResult.html#a8d3de277fb70fa515efac2db2cfe9d57ac1a99a1af9a4778a61e5cc3e1d622180">llvm::AliasResult::MustAlias</a></div><div class="ttdeci">@ MustAlias</div><div class="ttdoc">The two locations precisely alias each other.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00108">AliasAnalysis.h:108</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a6acfd94bce56e2812f8e5d7626dd9b8f"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">llvm::MemDepResult::getClobber</a></div><div class="ttdeci">static MemDepResult getClobber(Instruction *Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00128">MemoryDependenceAnalysis.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_a2f2f5f9e9837f7f9010c8a26cbd04f6f"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#a2f2f5f9e9837f7f9010c8a26cbd04f6f">llvm::MemoryDependenceResults::getPointerDependencyFrom</a></div><div class="ttdeci">MemDepResult getPointerDependencyFrom(const MemoryLocation &amp;Loc, bool isLoad, BasicBlock::iterator ScanIt, BasicBlock *BB, Instruction *QueryInst=nullptr, unsigned *Limit=nullptr)</div><div class="ttdoc">Returns the instruction on which a memory location depends.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00268">MemoryDependenceAnalysis.cpp:268</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a966eb231e7d4e572874d2cb49b18faea"><div class="ttname"><a href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">const Value * stripPointerCasts() const</div><div class="ttdoc">Strip off pointer casts, all-zero GEPs and address space casts.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00685">Value.cpp:685</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_adfd696331e43abcbcf5060bf0cd506e4"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">llvm::MemDepResult::getNonFuncLocal</a></div><div class="ttdeci">static MemDepResult getNonFuncLocal()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00135">MemoryDependenceAnalysis.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_a0e1c3175b0ac22fe3853651c28e1ecb8"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">llvm::SmallPtrSetImplBase::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00093">SmallPtrSet.h:93</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_afdb9a6afa20a9c40940f135b6a1cf59b"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#afdb9a6afa20a9c40940f135b6a1cf59b">llvm::MemoryDependenceResults::invalidate</a></div><div class="ttdeci">bool invalidate(Function &amp;F, const PreservedAnalyses &amp;PA, FunctionAnalysisManager::Invalidator &amp;Inv)</div><div class="ttdoc">Handle invalidation in the new PM.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01762">MemoryDependenceAnalysis.cpp:1762</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7ab8e7b465df7c5979dc731d06e84ce2cf"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7ab8e7b465df7c5979dc731d06e84ce2cf">llvm::AtomicOrdering::Release</a></div><div class="ttdeci">@ Release</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html">llvm::MemoryDependenceResults</a></div><div class="ttdoc">Provides a lazy, caching interface for making common memory aliasing information queries,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00272">MemoryDependenceAnalysis.h:272</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHITransAddr_html_a7a81ecd112a964a3ae6890291f78374f"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#a7a81ecd112a964a3ae6890291f78374f">llvm::PHITransAddr::getAddr</a></div><div class="ttdeci">Value * getAddr() const</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00058">PHITransAddr.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_ab9ba3a606a0299b684755f56b1d2f1c7"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#ab9ba3a606a0299b684755f56b1d2f1c7">llvm::BatchAAResults::isMustAlias</a></div><div class="ttdeci">bool isMustAlias(const MemoryLocation &amp;LocA, const MemoryLocation &amp;LocB)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00644">AliasAnalysis.h:644</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a0b970d738243dcc4f94c0834ca26b09f"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a0b970d738243dcc4f94c0834ca26b09f">llvm::MemoryLocation::getWithoutAATags</a></div><div class="ttdeci">MemoryLocation getWithoutAATags() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00307">MemoryLocation.h:307</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredIteratorCache_html_a9591b7adcdf007126703405b17307ce4"><div class="ttname"><a href="classllvm_1_1PredIteratorCache.html#a9591b7adcdf007126703405b17307ce4">llvm::PredIteratorCache::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear - Remove all information.</div><div class="ttdef"><b>Definition:</b> <a href="PredIteratorCache_8h_source.html#l00071">PredIteratorCache.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdoc">Set by analyses that do not transform their input at all.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00130">PassAnalysisSupport.h:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceWrapperPass_html"><div class="ttname"><a href="classllvm_1_1MemoryDependenceWrapperPass.html">llvm::MemoryDependenceWrapperPass</a></div><div class="ttdoc">A wrapper analysis pass for the legacy pass manager that exposes a MemoryDepnedenceResults instance.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00532">MemoryDependenceAnalysis.h:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_ab46fb372d99dc0562d09cfdcd041d5ab"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#ab46fb372d99dc0562d09cfdcd041d5ab">llvm::MemoryDependenceResults::getNonLocalPointerDependency</a></div><div class="ttdeci">void getNonLocalPointerDependency(Instruction *QueryInst, SmallVectorImpl&lt; NonLocalDepResult &gt; &amp;Result)</div><div class="ttdoc">Perform a full dependency query for an access to the QueryInst's specified memory location,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00837">MemoryDependenceAnalysis.cpp:837</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a3d95cc2d359b8d9ed5bd9504b44930b5"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">llvm::DenseMapBase::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00099">DenseMap.h:99</a></div></div>
<div class="ttc" id="anamespacellvm_html_a864e071375fea140a5441a243372ff81"><div class="ttname"><a href="namespacellvm.html#a864e071375fea140a5441a243372ff81">llvm::is_sorted</a></div><div class="ttdeci">bool is_sorted(R &amp;&amp;Range, Compare C)</div><div class="ttdoc">Wrapper function around std::is_sorted to check if elements in a range R are sorted with respect to a...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01884">STLExtras.h:1884</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8cpp_html_aa4e25bdf0f935cc6fbe85bc85888de81"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#aa4e25bdf0f935cc6fbe85bc85888de81">SortNonLocalDepInfoCache</a></div><div class="ttdeci">static void SortNonLocalDepInfoCache(MemoryDependenceResults::NonLocalDepInfo &amp;Cache, unsigned NumSortedEntries)</div><div class="ttdoc">Sort the NonLocalDepInfo cache, given a certain number of elements in the array that are already prop...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00987">MemoryDependenceAnalysis.cpp:987</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_af2a774dba86bfeea3d8843822a974fe2"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#af2a774dba86bfeea3d8843822a974fe2">llvm::BatchAAResults::getModRefInfoMask</a></div><div class="ttdeci">ModRefInfo getModRefInfoMask(const MemoryLocation &amp;Loc, bool IgnoreLocals=false)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00627">AliasAnalysis.h:627</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a81f225396ee3b9587327c8009f9dce40"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a81f225396ee3b9587327c8009f9dce40">llvm::MemoryLocation::getWithNewPtr</a></div><div class="ttdeci">MemoryLocation getWithNewPtr(const Value *NewPtr) const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00295">MemoryLocation.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdoc">A wrapper class for inspecting calls to intrinsic functions.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00047">IntrinsicInst.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_html_af21b12b7c8de1504a945c4c974e06bff"><div class="ttname"><a href="namespacellvm.html#af21b12b7c8de1504a945c4c974e06bff">llvm::isStrongerThan</a></div><div class="ttdeci">bool isStrongerThan(AtomicOrdering AO, AtomicOrdering Other)</div><div class="ttdoc">Returns true if ao is stronger than other as defined by the AtomicOrdering lattice,...</div><div class="ttdef"><b>Definition:</b> <a href="AtomicOrdering_8h_source.html#l00090">AtomicOrdering.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceAnalysis_html_aa5f74146c43c5fc06927f8e9197aec55"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#aa5f74146c43c5fc06927f8e9197aec55">llvm::MemoryDependenceAnalysis::MemoryDependenceAnalysis</a></div><div class="ttdeci">MemoryDependenceAnalysis()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01721">MemoryDependenceAnalysis.cpp:1721</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeAnalysis_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeAnalysis.html">llvm::DominatorTreeAnalysis</a></div><div class="ttdoc">Analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00279">Dominators.h:279</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a214e872d61db2ea8cb023f127cafd0b9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a214e872d61db2ea8cb023f127cafd0b9">llvm::DenseMapBase&lt; DenseMap&lt; ValueIsLoadPair, NonLocalPointerInfo, DenseMapInfo&lt; ValueIsLoadPair &gt;, llvm::detail::DenseMapPair&lt; ValueIsLoadPair, NonLocalPointerInfo &gt; &gt;, ValueIsLoadPair, NonLocalPointerInfo, DenseMapInfo&lt; ValueIsLoadPair &gt;, llvm::detail::DenseMapPair&lt; ValueIsLoadPair, NonLocalPointerInfo &gt; &gt;::iterator</a></div><div class="ttdeci">DenseMapIterator&lt; ValueIsLoadPair, NonLocalPointerInfo, DenseMapInfo&lt; ValueIsLoadPair &gt;, llvm::detail::DenseMapPair&lt; ValueIsLoadPair, NonLocalPointerInfo &gt; &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00071">DenseMap.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerIntPair_html"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html">llvm::PointerIntPair&lt; const Value *, 1, bool &gt;</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceWrapperPass_html_acda9fcfc1abce321fcd066950cba2452"><div class="ttname"><a href="classllvm_1_1MemoryDependenceWrapperPass.html#acda9fcfc1abce321fcd066950cba2452">llvm::MemoryDependenceWrapperPass::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00536">MemoryDependenceAnalysis.h:536</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a49f776e0940cc5d63d17d85ff6dac257"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a49f776e0940cc5d63d17d85ff6dac257">llvm::MemoryLocation::getAfter</a></div><div class="ttdeci">static MemoryLocation getAfter(const Value *Ptr, const AAMDNodes &amp;AATags=AAMDNodes())</div><div class="ttdoc">Return a location that may access any location after Ptr, while remaining within the underlying objec...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00271">MemoryLocation.h:271</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_a1fb5d4e618ecf28ecd42ab6fab5a4245"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">llvm::MemoryDependenceResults::NonLocalDepInfo</a></div><div class="ttdeci">std::vector&lt; NonLocalDepEntry &gt; NonLocalDepInfo</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00278">MemoryDependenceAnalysis.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResultsWrapperPass_html"><div class="ttname"><a href="classllvm_1_1AAResultsWrapperPass.html">llvm::AAResultsWrapperPass</a></div><div class="ttdoc">A wrapper pass to provide the legacy pass manager access to a suitably prepared AAResults object.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00933">AliasAnalysis.h:933</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8cpp_html_a7ef5d827e4c2bd87fd2101b594761620"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a7ef5d827e4c2bd87fd2101b594761620">RemoveFromReverseMap</a></div><div class="ttdeci">static void RemoveFromReverseMap(DenseMap&lt; Instruction *, SmallPtrSet&lt; KeyTy, 4 &gt;&gt; &amp;ReverseMap, Instruction *Inst, KeyTy Val)</div><div class="ttdoc">This is a helper function that removes Val from 'Inst's set in ReverseMap.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00091">MemoryDependenceAnalysis.cpp:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_afa44555b5242035c9df7941911186c44"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#afa44555b5242035c9df7941911186c44">llvm::BatchAAResults::callCapturesBefore</a></div><div class="ttdeci">ModRefInfo callCapturesBefore(const Instruction *I, const MemoryLocation &amp;MemLoc, DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00652">AliasAnalysis.h:652</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a465c166d520399ff2b114c8aac5e7f3d"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">llvm::MemDepResult::getNonLocal</a></div><div class="ttdeci">static MemDepResult getNonLocal()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00132">MemoryDependenceAnalysis.h:132</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredIteratorCache_html_aae381f8d8d1f6000c2eb811232cefde2"><div class="ttname"><a href="classllvm_1_1PredIteratorCache.html#aae381f8d8d1f6000c2eb811232cefde2">llvm::PredIteratorCache::get</a></div><div class="ttdeci">ArrayRef&lt; BasicBlock * &gt; get(BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="PredIteratorCache_8h_source.html#l00066">PredIteratorCache.h:66</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae96dbd1485a431400525ca17896ec48e"><div class="ttname"><a href="namespacellvm.html#ae96dbd1485a431400525ca17896ec48e">llvm::isNoModRef</a></div><div class="ttdeci">bool isNoModRef(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00039">ModRef.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceWrapperPass_html_a69de200b873b4a8db94ace6a23d48902"><div class="ttname"><a href="classllvm_1_1MemoryDependenceWrapperPass.html#a69de200b873b4a8db94ace6a23d48902">llvm::MemoryDependenceWrapperPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">Does not modify anything. It uses Value Numbering and Alias Analysis.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01754">MemoryDependenceAnalysis.cpp:1754</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ac12fffcedd4a1c8bf428d694451f816c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">llvm::AnalysisUsage::addRequiredTransitive</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredTransitive()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00081">PassAnalysisSupport.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a6d883605206368bc536cc9ded97209b8"><div class="ttname"><a href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">llvm::Module::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdoc">Get the data layout for the module's target platform.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00398">Module.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_aa7a1b769f9c57010cc41d9c3bb9d39c6"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#aa7a1b769f9c57010cc41d9c3bb9d39c6">llvm::PreservedAnalyses::getChecker</a></div><div class="ttdeci">PreservedAnalysisChecker getChecker() const</div><div class="ttdoc">Build a checker for this PreservedAnalyses and the specified analysis type.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00310">PassManager.h:310</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_a10168569b54ede5f3a15b05463db9495"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#a10168569b54ede5f3a15b05463db9495">llvm::MemoryDependenceResults::getSimplePointerDependencyFrom</a></div><div class="ttdeci">MemDepResult getSimplePointerDependencyFrom(const MemoryLocation &amp;MemLoc, bool isLoad, BasicBlock::iterator ScanIt, BasicBlock *BB, Instruction *QueryInst, unsigned *Limit, BatchAAResults &amp;BatchAA)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00363">MemoryDependenceAnalysis.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_aad752ec517a6efc823355c1e2fc21abb"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#aad752ec517a6efc823355c1e2fc21abb">llvm::MemDepResult::isUnknown</a></div><div class="ttdeci">bool isUnknown() const</div><div class="ttdoc">Tests if this MemDepResult represents a query which cannot and/or will not be computed.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00167">MemoryDependenceAnalysis.h:167</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8cpp_html_a3fd364675c871bdf0a532d46bab77e3d"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a3fd364675c871bdf0a532d46bab77e3d">GetLocation</a></div><div class="ttdeci">static ModRefInfo GetLocation(const Instruction *Inst, MemoryLocation &amp;Loc, const TargetLibraryInfo &amp;TLI)</div><div class="ttdoc">If the given instruction references a specific memory location, fill in Loc with the details,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00108">MemoryDependenceAnalysis.cpp:108</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00685">README.txt:685</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a87800772e5bbce0b8e0cb23b54e47f58"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">llvm::MemDepResult::getUnknown</a></div><div class="ttdeci">static MemDepResult getUnknown()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00138">MemoryDependenceAnalysis.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHITransAddr_html_a020dcdde43c7bdff11476f1f5b64ef25"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#a020dcdde43c7bdff11476f1f5b64ef25">llvm::PHITransAddr::translateValue</a></div><div class="ttdeci">Value * translateValue(BasicBlock *CurBB, BasicBlock *PredBB, const DominatorTree *DT, bool MustDominate)</div><div class="ttdoc">translateValue - PHI translate the current address up the CFG from CurBB to Pred, updating our state ...</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8cpp_source.html#l00298">PHITransAddr.cpp:298</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryAnalysis_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryAnalysis.html">llvm::TargetLibraryAnalysis</a></div><div class="ttdoc">Analysis pass providing the TargetLibraryInfo.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00540">TargetLibraryInfo.h:540</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a2b6159ef05223f67e8dd0a178377f06b"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a2b6159ef05223f67e8dd0a178377f06b">llvm::MemDepResult::isNonLocal</a></div><div class="ttdeci">bool isNonLocal() const</div><div class="ttdoc">Tests if this MemDepResult represents a query that is transparent to the start of the block,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00155">MemoryDependenceAnalysis.h:155</a></div></div>
<div class="ttc" id="aMustExecute_8cpp_html_ac00fd2bd5d2febf1f9988294a6c56b33"><div class="ttname"><a href="MustExecute_8cpp.html#ac00fd2bd5d2febf1f9988294a6c56b33">entry</a></div><div class="ttdeci">print Instructions which execute on loop entry</div><div class="ttdef"><b>Definition:</b> <a href="MustExecute_8cpp_source.html#l00346">MustExecute.cpp:346</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7a56a57d29a3f9dda8671b4d6490a94b08"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a56a57d29a3f9dda8671b4d6490a94b08">llvm::AtomicOrdering::NotAtomic</a></div><div class="ttdeci">@ NotAtomic</div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">llvm::ModRefInfo::ModRef</a></div><div class="ttdeci">@ ModRef</div><div class="ttdoc">The access may reference and may modify the value stored in memory.</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html">llvm::MemoryLocation</a></div><div class="ttdoc">Representation for a specific memory location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00211">MemoryLocation.h:211</a></div></div>
<div class="ttc" id="aclassllvm_1_1NonLocalDepEntry_html_a35eb598d0afaa4a88efcddf50be97b74"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">llvm::NonLocalDepEntry::setResult</a></div><div class="ttdeci">void setResult(const MemDepResult &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00220">MemoryDependenceAnalysis.h:220</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceAnalysis_html"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html">llvm::MemoryDependenceAnalysis</a></div><div class="ttdoc">An analysis that produces MemoryDependenceResults for a function.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00513">MemoryDependenceAnalysis.h:513</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a70bfd297fb0ed3a5fa0ef09b5a47b496"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a70bfd297fb0ed3a5fa0ef09b5a47b496">llvm::MemDepResult::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdoc">Tests if this MemDepResult represents a query that is an instruction definition dependency.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00148">MemoryDependenceAnalysis.h:148</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:49:27 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
