<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/ExecutionEngine/Orc/MemoryMapper.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_9ff4c6dc1720636682ab045c894e9bc5.html">ExecutionEngine</a></li><li class="navelem"><a class="el" href="dir_5e11c450ca4c873ca81149e572d5ac9a.html">Orc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MemoryMapper.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MemoryMapper_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- MemoryMapper.cpp - Cross-process memory mapper ------------*- C++ -*-==//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryMapper_8h.html">llvm/ExecutionEngine/Orc/MemoryMapper.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OrcRTBridge_8h.html">llvm/ExecutionEngine/Orc/Shared/OrcRTBridge.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WindowsError_8h.html">llvm/Support/WindowsError.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#if defined(LLVM_ON_UNIX) &amp;&amp; !defined(__ANDROID__)</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;sys/mman.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#elif defined(_WIN32)</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;windows.h&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span>orc {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1MemoryMapper.html#aaac141615bd5d8a6681ca7b1fc5b72c1">   27</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1MemoryMapper.html#aaac141615bd5d8a6681ca7b1fc5b72c1">MemoryMapper::~MemoryMapper</a>() {}</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a83a0052e8954805eb391e3fbead2a069">   29</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a83a0052e8954805eb391e3fbead2a069">InProcessMemoryMapper::InProcessMemoryMapper</a>(<span class="keywordtype">size_t</span> <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>)</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    : <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>(<a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>) {}</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;InProcessMemoryMapper&gt;</a>&gt;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ace0850e56331e89848ec64c74dada4bd">   33</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ace0850e56331e89848ec64c74dada4bd">InProcessMemoryMapper::Create</a>() {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keyword">auto</span> PageSize = <a class="code" href="classllvm_1_1sys_1_1Process.html#a60b9d3bd7eff517e776913fa60499cb1">sys::Process::getPageSize</a>();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keywordflow">if</span> (!PageSize)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">return</span> PageSize.takeError();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;InProcessMemoryMapper&gt;(*PageSize);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a7567e026468fa261fb6186a2d30115ff">   40</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a7567e026468fa261fb6186a2d30115ff">InProcessMemoryMapper::reserve</a>(<span class="keywordtype">size_t</span> NumBytes,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                    <a class="code" href="classllvm_1_1unique__function.html">OnReservedFunction</a> OnReserved) {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  std::error_code EC;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keyword">auto</span> MB = <a class="code" href="classllvm_1_1sys_1_1Memory.html#a1326dd13b23711e68ade413fbc57b9f6">sys::Memory::allocateMappedMemory</a>(</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      NumBytes, <span class="keyword">nullptr</span>, <a class="code" href="classllvm_1_1sys_1_1Memory.html#a548f317b89dc0bba738b89e5ce791395a02cae455b05abf1bfb1de69095e66417">sys::Memory::MF_READ</a> | <a class="code" href="classllvm_1_1sys_1_1Memory.html#a548f317b89dc0bba738b89e5ce791395a83e34a8267f7acd88563e9d5a3ee7c25">sys::Memory::MF_WRITE</a>, EC);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">if</span> (EC)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> OnReserved(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(EC));</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">Mutex</a>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    Reservations[MB.base()].Size = MB.allocatedSize();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  OnReserved(</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <a class="code" href="structllvm_1_1orc_1_1ExecutorAddrRange.html">ExecutorAddrRange</a>(<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a8adb0ae35f7e95c960c86cfe19bc7215">ExecutorAddr::fromPtr</a>(MB.base()), MB.allocatedSize()));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ad56d2316a6611ee7bf8958565aee64a2">   58</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ad56d2316a6611ee7bf8958565aee64a2">InProcessMemoryMapper::prepare</a>(<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html">ExecutorAddr</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <span class="keywordtype">size_t</span> ContentSize) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.toPtr&lt;<span class="keywordtype">char</span> *&gt;();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a492e4d6b2bf660e7c499e22f85b72440">   62</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a492e4d6b2bf660e7c499e22f85b72440">InProcessMemoryMapper::initialize</a>(<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html">MemoryMapper::AllocInfo</a> &amp;AI,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                       <a class="code" href="classllvm_1_1unique__function.html">OnInitializedFunction</a> OnInitialized) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html">ExecutorAddr</a> MinAddr(~0ULL);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html">ExecutorAddr</a> MaxAddr(0);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// FIXME: Release finalize lifetime segments.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Segment : AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a6b6dcea60d496fc8de6d65188804b995">Segments</a>) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a8ae25e2221d662f2fbffc49d0b172b3a">MappingBase</a> + Segment.Offset;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keyword">auto</span> Size = Segment.ContentSize + Segment.ZeroFillSize;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> &lt; MinAddr)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      MinAddr = <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> + Size &gt; MaxAddr)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      MaxAddr = <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> + Size;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    std::memset((<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> + Segment.ContentSize).toPtr&lt;<span class="keywordtype">void</span> *&gt;(), 0,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                Segment.ZeroFillSize);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> EC = <a class="code" href="classllvm_1_1sys_1_1Memory.html#ae27409ddee7e191f33392283ca826703">sys::Memory::protectMappedMemory</a>(</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            {<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>.toPtr&lt;<span class="keywordtype">void</span> *&gt;(), Size},</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <a class="code" href="namespacellvm_1_1orc.html#ac28fc72cfcd4ee10f9f913aa2969bc45">toSysMemoryProtectionFlags</a>(Segment.AG.getMemProt()))) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">return</span> OnInitialized(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(EC));</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> ((Segment.AG.getMemProt() &amp; <a class="code" href="namespacellvm_1_1orc.html#a2fbb59fad28934f72ede7ddc316dfc89a953feeff1e20f40677fb7f77c073b3be">MemProt::Exec</a>) == <a class="code" href="namespacellvm_1_1orc.html#a2fbb59fad28934f72ede7ddc316dfc89a953feeff1e20f40677fb7f77c073b3be">MemProt::Exec</a>)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <a class="code" href="classllvm_1_1sys_1_1Memory.html#a5cfd4d2a8227a3f9ca0667f42f05f20b">sys::Memory::InvalidateInstructionCache</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>.toPtr&lt;<span class="keywordtype">void</span> *&gt;(), Size);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keyword">auto</span> DeinitializeActions = <a class="code" href="namespacellvm_1_1orc_1_1shared.html#aa02467cf9213727cd36bce6f59653e5b">shared::runFinalizeActions</a>(AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#aa83c8c10a9eb18cd233eed2ecf12ca71">Actions</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span> (!DeinitializeActions)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> OnInitialized(DeinitializeActions.takeError());</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">Mutex</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// This is the maximum range whose permission have been possibly modified</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    Allocations[MinAddr].Size = MaxAddr - MinAddr;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    Allocations[MinAddr].DeinitializationActions =</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*DeinitializeActions);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    Reservations[AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a8ae25e2221d662f2fbffc49d0b172b3a">MappingBase</a>.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a5593e2c0550aa54892e08c9f4f141ecc">toPtr</a>&lt;<span class="keywordtype">void</span> *&gt;()].Allocations.push_back(MinAddr);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  OnInitialized(MinAddr);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ac501a4fc8b8826d6451a9ae117ca3e0b">  107</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ac501a4fc8b8826d6451a9ae117ca3e0b">InProcessMemoryMapper::deinitialize</a>(</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;ExecutorAddr&gt;</a> Bases,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="classllvm_1_1unique__function.html">MemoryMapper::OnDeinitializedFunction</a> OnDeinitialized) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classllvm_1_1Error.html">Error</a> AllErr = <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">Mutex</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(Bases)) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> Err = <a class="code" href="namespacellvm_1_1orc_1_1shared.html#a8263d385de2b406acf8dbef9b0993cc9">shared::runDeallocActions</a>(</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;              Allocations[<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>].DeinitializationActions)) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        AllErr = <a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(AllErr), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="comment">// Reset protections to read/write so the area can be reused</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> EC = <a class="code" href="classllvm_1_1sys_1_1Memory.html#ae27409ddee7e191f33392283ca826703">sys::Memory::protectMappedMemory</a>(</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;              {<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>.toPtr&lt;<span class="keywordtype">void</span> *&gt;(), Allocations[<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>].Size},</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;              sys::Memory::ProtectionFlags::MF_READ |</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                  sys::Memory::ProtectionFlags::MF_WRITE)) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        AllErr = <a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(AllErr), <a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(EC));</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      Allocations.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  OnDeinitialized(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(AllErr));</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ae7b7c908c1016860ed8c53965f8f167a">  137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ae7b7c908c1016860ed8c53965f8f167a">InProcessMemoryMapper::release</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;ExecutorAddr&gt;</a> Bases,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                    <a class="code" href="classllvm_1_1unique__function.html">OnReleasedFunction</a> OnReleased) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classllvm_1_1Error.html">Error</a> Err = <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> : Bases) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    std::vector&lt;ExecutorAddr&gt; AllocAddrs;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">size_t</span> Size;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      std::lock_guard&lt;std::mutex&gt; Lock(<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">Mutex</a>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keyword">auto</span> &amp;R = Reservations[<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>.toPtr&lt;<span class="keywordtype">void</span> *&gt;()];</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      Size = R.Size;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      AllocAddrs.swap(R.Allocations);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// deinitialize sub allocations</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    std::promise&lt;MSVCPError&gt; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.get_future();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ac501a4fc8b8826d6451a9ae117ca3e0b">deinitialize</a>(AllocAddrs, [&amp;](<a class="code" href="classllvm_1_1Error.html">Error</a> Err) { <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.set_value(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err)); });</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.get()) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      Err = <a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// free the memory</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">auto</span> MB = <a class="code" href="classllvm_1_1sys_1_1MemoryBlock.html">sys::MemoryBlock</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>.toPtr&lt;<span class="keywordtype">void</span> *&gt;(), Size);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">auto</span> EC = <a class="code" href="classllvm_1_1sys_1_1Memory.html#a042d24349a4b6a5ce475309cce529ae0">sys::Memory::releaseMappedMemory</a>(MB);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (EC) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      Err = <a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err), <a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(EC));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">Mutex</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    Reservations.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>.toPtr&lt;<span class="keywordtype">void</span> *&gt;());</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  OnReleased(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a9a8a5be08a1b215a7da11ae9d55ad31b">  174</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a9a8a5be08a1b215a7da11ae9d55ad31b">InProcessMemoryMapper::~InProcessMemoryMapper</a>() {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  std::vector&lt;ExecutorAddr&gt; ReservationAddrs;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">Mutex</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    ReservationAddrs.reserve(Reservations.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>());</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;R : Reservations) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      ReservationAddrs.push_back(<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html#a8adb0ae35f7e95c960c86cfe19bc7215">ExecutorAddr::fromPtr</a>(R.getFirst()));</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  std::promise&lt;MSVCPError&gt; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.get_future();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ae7b7c908c1016860ed8c53965f8f167a">release</a>(ReservationAddrs, [&amp;](<a class="code" href="classllvm_1_1Error.html">Error</a> Err) { <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.set_value(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err)); });</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="namespacellvm.html#aa1e1474f15df639f0d874b21f15666f7">cantFail</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.get());</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">// SharedMemoryMapper</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#acc87c1eedea4bfa8adc928caf64d0933">  193</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#acc87c1eedea4bfa8adc928caf64d0933">SharedMemoryMapper::SharedMemoryMapper</a>(<a class="code" href="classllvm_1_1orc_1_1ExecutorProcessControl.html">ExecutorProcessControl</a> &amp;EPC,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                       <a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html">SymbolAddrs</a> SAs, <span class="keywordtype">size_t</span> <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    : EPC(EPC), SAs(SAs), <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>(<a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">#if (!defined(LLVM_ON_UNIX) || defined(__ANDROID__)) &amp;&amp; !defined(_WIN32)</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;SharedMemoryMapper is not supported on this platform yet&quot;</span>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;SharedMemoryMapper&gt;</a>&gt;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a05efc99c84f85d88901dd71a716814dd">  202</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a05efc99c84f85d88901dd71a716814dd">SharedMemoryMapper::Create</a>(<a class="code" href="classllvm_1_1orc_1_1ExecutorProcessControl.html">ExecutorProcessControl</a> &amp;EPC, <a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html">SymbolAddrs</a> SAs) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">#if (defined(LLVM_ON_UNIX) &amp;&amp; !defined(__ANDROID__)) || defined(_WIN32)</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keyword">auto</span> PageSize = <a class="code" href="classllvm_1_1sys_1_1Process.html#a60b9d3bd7eff517e776913fa60499cb1">sys::Process::getPageSize</a>();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span> (!PageSize)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> PageSize.takeError();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;SharedMemoryMapper&gt;(EPC, SAs, *PageSize);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">return</span> make_error&lt;StringError&gt;(</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="stringliteral">&quot;SharedMemoryMapper is not supported on this platform yet&quot;</span>,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a422f2a2c01a04dbb4fe4100fc74b90ca">  216</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a422f2a2c01a04dbb4fe4100fc74b90ca">SharedMemoryMapper::reserve</a>(<span class="keywordtype">size_t</span> NumBytes,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                 <a class="code" href="classllvm_1_1unique__function.html">OnReservedFunction</a> OnReserved) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">#if (defined(LLVM_ON_UNIX) &amp;&amp; !defined(__ANDROID__)) || defined(_WIN32)</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  EPC.<a class="code" href="classllvm_1_1orc_1_1ExecutorProcessControl.html#a17f9962c6727ed170f8b494243302732">callSPSWrapperAsync</a>&lt;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="namespacellvm_1_1orc_1_1rt.html#a8443a8325c2ab764161e9df4c939827c">rt::SPSExecutorSharedMemoryMapperServiceReserveSignature</a>&gt;(</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      SAs.<a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a83a5f44650bca3f7b50bfae1fdd1ca86">Reserve</a>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      [<span class="keyword">this</span>, NumBytes, OnReserved = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(OnReserved)](</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;          <a class="code" href="classllvm_1_1Error.html">Error</a> SerializationErr,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;          <a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::pair&lt;ExecutorAddr, std::string&gt;</a>&gt; Result) <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">if</span> (SerializationErr) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          <a class="code" href="namespacellvm.html#aa1e1474f15df639f0d874b21f15666f7">cantFail</a>(Result.takeError());</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;          <span class="keywordflow">return</span> OnReserved(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SerializationErr));</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (!Result)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;          <span class="keywordflow">return</span> OnReserved(Result.takeError());</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html">ExecutorAddr</a> RemoteAddr;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        std::string SharedMemoryName;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        std::tie(RemoteAddr, SharedMemoryName) = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*Result);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordtype">void</span> *LocalAddr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#if defined(LLVM_ON_UNIX)</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordtype">int</span> SharedMemoryFile = shm_open(SharedMemoryName.c_str(), O_RDWR, 0700);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">if</span> (SharedMemoryFile &lt; 0) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          <span class="keywordflow">return</span> OnReserved(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;              std::error_code(errno, std::generic_category())));</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="comment">// this prevents other processes from accessing it by name</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        shm_unlink(SharedMemoryName.c_str());</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        LocalAddr = mmap(<span class="keyword">nullptr</span>, NumBytes, PROT_READ | PROT_WRITE, MAP_SHARED,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                         SharedMemoryFile, 0);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">if</span> (LocalAddr == MAP_FAILED) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          <span class="keywordflow">return</span> OnReserved(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;              std::error_code(errno, std::generic_category())));</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        close(SharedMemoryFile);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="preprocessor">#elif defined(_WIN32)</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        std::wstring WideSharedMemoryName(SharedMemoryName.begin(),</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                          SharedMemoryName.end());</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        HANDLE SharedMemoryFile = OpenFileMappingW(</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            FILE_MAP_ALL_ACCESS, FALSE, WideSharedMemoryName.c_str());</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (!SharedMemoryFile)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          <span class="keywordflow">return</span> OnReserved(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(<a class="code" href="namespacellvm.html#af0799d74677708a87dee45acdd40bab2">mapWindowsError</a>(GetLastError())));</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        LocalAddr =</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            MapViewOfFile(SharedMemoryFile, FILE_MAP_ALL_ACCESS, 0, 0, 0);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span> (!LocalAddr) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;          CloseHandle(SharedMemoryFile);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          <span class="keywordflow">return</span> OnReserved(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(<a class="code" href="namespacellvm.html#af0799d74677708a87dee45acdd40bab2">mapWindowsError</a>(GetLastError())));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        CloseHandle(SharedMemoryFile);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          std::lock_guard&lt;std::mutex&gt; Lock(<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">Mutex</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;          Reservations.insert({RemoteAddr, {LocalAddr, NumBytes}});</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        OnReserved(<a class="code" href="structllvm_1_1orc_1_1ExecutorAddrRange.html">ExecutorAddrRange</a>(RemoteAddr, NumBytes));</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      },</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      SAs.<a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a9d4ebc3aadbf05530a2b8c0263b946b4">Instance</a>, <span class="keyword">static_cast&lt;</span><a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a><span class="keyword">&gt;</span>(NumBytes));</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  OnReserved(make_error&lt;StringError&gt;(</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="stringliteral">&quot;SharedMemoryMapper is not supported on this platform yet&quot;</span>,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>()));</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a8295d4ee787fed22f7a1b37c7b0a559c">  295</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a8295d4ee787fed22f7a1b37c7b0a559c">SharedMemoryMapper::prepare</a>(<a class="code" href="classllvm_1_1orc_1_1ExecutorAddr.html">ExecutorAddr</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <span class="keywordtype">size_t</span> ContentSize) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keyword">auto</span> R = Reservations.upper_bound(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(R != Reservations.begin() &amp;&amp; <span class="stringliteral">&quot;Attempt to prepare unreserved range&quot;</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  R--;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="namespacellvm_1_1orc.html#a56a4f6e338cb52f2a694a84edf57054c">ExecutorAddrDiff</a> Offset = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> - R-&gt;first;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(R-&gt;second.LocalAddr) + Offset;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a6776668e9d06d4ffccc140a13cd25095">  305</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a6776668e9d06d4ffccc140a13cd25095">SharedMemoryMapper::initialize</a>(<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html">MemoryMapper::AllocInfo</a> &amp;AI,</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                                    <a class="code" href="classllvm_1_1unique__function.html">OnInitializedFunction</a> OnInitialized) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keyword">auto</span> Reservation = Reservations.upper_bound(AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a8ae25e2221d662f2fbffc49d0b172b3a">MappingBase</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Reservation != Reservations.begin() &amp;&amp; <span class="stringliteral">&quot;Attempt to initialize unreserved range&quot;</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  Reservation--;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keyword">auto</span> AllocationOffset = AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a8ae25e2221d662f2fbffc49d0b172b3a">MappingBase</a> - Reservation-&gt;first;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <a class="code" href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest.html">tpctypes::SharedMemoryFinalizeRequest</a> FR;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#aa83c8c10a9eb18cd233eed2ecf12ca71">Actions</a>.swap(FR.<a class="code" href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest.html#ac480f8342ad8500b7f9477ba74fd5ed2">Actions</a>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  FR.<a class="code" href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest.html#a1cd77f9692f05fed6a1a9fa7b59da1e6">Segments</a>.reserve(AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a6b6dcea60d496fc8de6d65188804b995">Segments</a>.size());</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Segment : AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a6b6dcea60d496fc8de6d65188804b995">Segments</a>) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(Reservation-&gt;second.LocalAddr) +</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                 AllocationOffset + Segment.Offset;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    std::memset(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> + Segment.ContentSize, 0, Segment.ZeroFillSize);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest.html">tpctypes::SharedMemorySegFinalizeRequest</a> SegReq;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    SegReq.<a class="code" href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest.html#a03357ce5410075f16c283e5aab25ba77">AG</a> = Segment.AG;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    SegReq.<a class="code" href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest.html#a291bd7c0717557dd244547b23c8c7c41">Addr</a> = AI.<a class="code" href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a8ae25e2221d662f2fbffc49d0b172b3a">MappingBase</a> + Segment.Offset;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    SegReq.<a class="code" href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest.html#a285451feed03fc082fba2259ac6f1f2d">Size</a> = Segment.ContentSize + Segment.ZeroFillSize;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    FR.<a class="code" href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest.html#a1cd77f9692f05fed6a1a9fa7b59da1e6">Segments</a>.push_back(SegReq);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  EPC.<a class="code" href="classllvm_1_1orc_1_1ExecutorProcessControl.html#a17f9962c6727ed170f8b494243302732">callSPSWrapperAsync</a>&lt;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="namespacellvm_1_1orc_1_1rt.html#a1a3da52b7b8d158ec154b7114e12f555">rt::SPSExecutorSharedMemoryMapperServiceInitializeSignature</a>&gt;(</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      SAs.<a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a3c0ecff6c02c2c2ddfe1f0d13326ef39">Initialize</a>,</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      [OnInitialized = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(OnInitialized)](</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          <a class="code" href="classllvm_1_1Error.html">Error</a> SerializationErr, <a class="code" href="classllvm_1_1Expected.html">Expected&lt;ExecutorAddr&gt;</a> Result) <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">if</span> (SerializationErr) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          <a class="code" href="namespacellvm.html#aa1e1474f15df639f0d874b21f15666f7">cantFail</a>(Result.takeError());</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          <span class="keywordflow">return</span> OnInitialized(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SerializationErr));</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        OnInitialized(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Result));</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      },</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      SAs.<a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a9d4ebc3aadbf05530a2b8c0263b946b4">Instance</a>, Reservation-&gt;first, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(FR));</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a49a0e809cf10b6a741b5b9d62698073b">  347</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a49a0e809cf10b6a741b5b9d62698073b">SharedMemoryMapper::deinitialize</a>(</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;ExecutorAddr&gt;</a> Allocations,</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="classllvm_1_1unique__function.html">MemoryMapper::OnDeinitializedFunction</a> OnDeinitialized) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  EPC.<a class="code" href="classllvm_1_1orc_1_1ExecutorProcessControl.html#a17f9962c6727ed170f8b494243302732">callSPSWrapperAsync</a>&lt;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <a class="code" href="namespacellvm_1_1orc_1_1rt.html#aba6ce733e2a337059a192eb4f55cba2f">rt::SPSExecutorSharedMemoryMapperServiceDeinitializeSignature</a>&gt;(</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      SAs.<a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a0e7041f46990f1e78c338e8b0c80d05f">Deinitialize</a>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      [OnDeinitialized = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(OnDeinitialized)](<a class="code" href="classllvm_1_1Error.html">Error</a> SerializationErr,</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                                     <a class="code" href="classllvm_1_1Error.html">Error</a> Result) <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">if</span> (SerializationErr) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;          <a class="code" href="namespacellvm.html#aa1e1474f15df639f0d874b21f15666f7">cantFail</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Result));</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;          <span class="keywordflow">return</span> OnDeinitialized(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SerializationErr));</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        OnDeinitialized(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Result));</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      },</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      SAs.<a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a9d4ebc3aadbf05530a2b8c0263b946b4">Instance</a>, Allocations);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#ac8c1571f24dc447307937d7a1c82ee8b">  365</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#ac8c1571f24dc447307937d7a1c82ee8b">SharedMemoryMapper::release</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;ExecutorAddr&gt;</a> Bases,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                 <a class="code" href="classllvm_1_1unique__function.html">OnReleasedFunction</a> OnReleased) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#if (defined(LLVM_ON_UNIX) &amp;&amp; !defined(__ANDROID__)) || defined(_WIN32)</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="classllvm_1_1Error.html">Error</a> Err = <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    std::lock_guard&lt;std::mutex&gt; Lock(<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">Mutex</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> : Bases) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="preprocessor">#if defined(LLVM_ON_UNIX)</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">if</span> (munmap(Reservations[<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>].LocalAddr, Reservations[<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>].Size) != 0)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        Err = <a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err), <a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(std::error_code(</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                             errno, std::generic_category())));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="preprocessor">#elif defined(_WIN32)</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">if</span> (!UnmapViewOfFile(Reservations[<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>].LocalAddr))</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        Err = <a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err),</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                         <a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(<a class="code" href="namespacellvm.html#af0799d74677708a87dee45acdd40bab2">mapWindowsError</a>(GetLastError())));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      Reservations.erase(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  EPC.<a class="code" href="classllvm_1_1orc_1_1ExecutorProcessControl.html#a17f9962c6727ed170f8b494243302732">callSPSWrapperAsync</a>&lt;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="namespacellvm_1_1orc_1_1rt.html#a6deb0b900e27264d6251e68c3ca7a5fa">rt::SPSExecutorSharedMemoryMapperServiceReleaseSignature</a>&gt;(</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      SAs.<a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a82b07ff1ab9b8c915254bbe8adb10666">Release</a>,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      [OnReleased = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(OnReleased),</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;       Err = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err)](<a class="code" href="classllvm_1_1Error.html">Error</a> SerializationErr, <a class="code" href="classllvm_1_1Error.html">Error</a> Result) <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">if</span> (SerializationErr) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;          <a class="code" href="namespacellvm.html#aa1e1474f15df639f0d874b21f15666f7">cantFail</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Result));</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;          <span class="keywordflow">return</span> OnReleased(</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;              <a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SerializationErr)));</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">return</span> OnReleased(<a class="code" href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">joinErrors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Result)));</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      },</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      SAs.<a class="code" href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a9d4ebc3aadbf05530a2b8c0263b946b4">Instance</a>, Bases);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  OnReleased(make_error&lt;StringError&gt;(</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="stringliteral">&quot;SharedMemoryMapper is not supported on this platform yet&quot;</span>,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>()));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a4eac18316db606c0b211c40950acc2fa">  414</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a4eac18316db606c0b211c40950acc2fa">SharedMemoryMapper::~SharedMemoryMapper</a>() {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  std::lock_guard&lt;std::mutex&gt; Lock(<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">Mutex</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;R : Reservations) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="preprocessor">#if defined(LLVM_ON_UNIX) &amp;&amp; !defined(__ANDROID__)</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    munmap(R.second.LocalAddr, R.second.Size);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor">#elif defined(_WIN32)</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    UnmapViewOfFile(R.second.LocalAddr);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    (void)R;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;} <span class="comment">// namespace orc</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;} <span class="comment">// namespace llvm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorAddr_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorAddr.html">llvm::orc::ExecutorAddr</a></div><div class="ttdoc">Represents an address in the executor process.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00031">ExecutorAddress.h:31</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs_html"><div class="ttname"><a href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html">llvm::orc::SharedMemoryMapper::SymbolAddrs</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00126">MemoryMapper.h:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorAddr_html_a8adb0ae35f7e95c960c86cfe19bc7215"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorAddr.html#a8adb0ae35f7e95c960c86cfe19bc7215">llvm::orc::ExecutorAddr::fromPtr</a></div><div class="ttdeci">static ExecutorAddr fromPtr(T *Ptr, UnwrapFn &amp;&amp;Unwrap=UnwrapFn())</div><div class="ttdoc">Create an ExecutorAddr from the given pointer.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00080">ExecutorAddress.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1InProcessMemoryMapper_html_ae7b7c908c1016860ed8c53965f8f167a"><div class="ttname"><a href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ae7b7c908c1016860ed8c53965f8f167a">llvm::orc::InProcessMemoryMapper::release</a></div><div class="ttdeci">void release(ArrayRef&lt; ExecutorAddr &gt; Reservations, OnReleasedFunction OnRelease) override</div><div class="ttdoc">Release address space acquired through reserve()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00137">MemoryMapper.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Memory_html_a548f317b89dc0bba738b89e5ce791395a02cae455b05abf1bfb1de69095e66417"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html#a548f317b89dc0bba738b89e5ce791395a02cae455b05abf1bfb1de69095e66417">llvm::sys::Memory::MF_READ</a></div><div class="ttdeci">@ MF_READ</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00055">Memory.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Memory_html_a548f317b89dc0bba738b89e5ce791395a83e34a8267f7acd88563e9d5a3ee7c25"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html#a548f317b89dc0bba738b89e5ce791395a83e34a8267f7acd88563e9d5a3ee7c25">llvm::sys::Memory::MF_WRITE</a></div><div class="ttdeci">@ MF_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00056">Memory.h:56</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs_html_a0e7041f46990f1e78c338e8b0c80d05f"><div class="ttname"><a href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a0e7041f46990f1e78c338e8b0c80d05f">llvm::orc::SharedMemoryMapper::SymbolAddrs::Deinitialize</a></div><div class="ttdeci">ExecutorAddr Deinitialize</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00130">MemoryMapper.h:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1unique__function_html"><div class="ttname"><a href="classllvm_1_1unique__function.html">llvm::unique_function</a></div><div class="ttdoc">unique_function is a type-erasing functor similar to std::function.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionExtras_8h_source.html#l00056">FunctionExtras.h:56</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs_html_a9d4ebc3aadbf05530a2b8c0263b946b4"><div class="ttname"><a href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a9d4ebc3aadbf05530a2b8c0263b946b4">llvm::orc::SharedMemoryMapper::SymbolAddrs::Instance</a></div><div class="ttdeci">ExecutorAddr Instance</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00127">MemoryMapper.h:127</a></div></div>
<div class="ttc" id="aMemoryMapper_8h_html"><div class="ttname"><a href="MemoryMapper_8h.html">MemoryMapper.h</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Memory_html_a5cfd4d2a8227a3f9ca0667f42f05f20b"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html#a5cfd4d2a8227a3f9ca0667f42f05f20b">llvm::sys::Memory::InvalidateInstructionCache</a></div><div class="ttdeci">static void InvalidateInstructionCache(const void *Addr, size_t Len)</div><div class="ttdoc">InvalidateInstructionCache - Before the JIT can run a block of code that has been emitted it must inv...</div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest_html"><div class="ttname"><a href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest.html">llvm::orc::tpctypes::SharedMemoryFinalizeRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetProcessControlTypes_8h_source.html#l00051">TargetProcessControlTypes.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1InProcessMemoryMapper_html_ace0850e56331e89848ec64c74dada4bd"><div class="ttname"><a href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ace0850e56331e89848ec64c74dada4bd">llvm::orc::InProcessMemoryMapper::Create</a></div><div class="ttdeci">static Expected&lt; std::unique_ptr&lt; InProcessMemoryMapper &gt; &gt; Create()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00033">MemoryMapper.cpp:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html_a4dfd0813c3d0e0a30439b5a3e9196b59"><div class="ttname"><a href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">llvm::Error::success</a></div><div class="ttdeci">static ErrorSuccess success()</div><div class="ttdoc">Create a success value.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00330">Error.h:330</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1InProcessMemoryMapper_html_a7567e026468fa261fb6186a2d30115ff"><div class="ttname"><a href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a7567e026468fa261fb6186a2d30115ff">llvm::orc::InProcessMemoryMapper::reserve</a></div><div class="ttdeci">void reserve(size_t NumBytes, OnReservedFunction OnReserved) override</div><div class="ttdoc">Reserves address space in executor process.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00040">MemoryMapper.cpp:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Memory_html_a1326dd13b23711e68ade413fbc57b9f6"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html#a1326dd13b23711e68ade413fbc57b9f6">llvm::sys::Memory::allocateMappedMemory</a></div><div class="ttdeci">static MemoryBlock allocateMappedMemory(size_t NumBytes, const MemoryBlock *const NearBlock, unsigned Flags, std::error_code &amp;EC)</div><div class="ttdoc">This method allocates a block of memory that is suitable for loading dynamically generated code (e....</div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Memory_html_a042d24349a4b6a5ce475309cce529ae0"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html#a042d24349a4b6a5ce475309cce529ae0">llvm::sys::Memory::releaseMappedMemory</a></div><div class="ttdeci">static std::error_code releaseMappedMemory(MemoryBlock &amp;Block)</div><div class="ttdoc">This method releases a block of memory that was allocated with the allocateMappedMemory method.</div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MemoryMapper_html_aaac141615bd5d8a6681ca7b1fc5b72c1"><div class="ttname"><a href="classllvm_1_1orc_1_1MemoryMapper.html#aaac141615bd5d8a6681ca7b1fc5b72c1">llvm::orc::MemoryMapper::~MemoryMapper</a></div><div class="ttdeci">virtual ~MemoryMapper()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00027">MemoryMapper.cpp:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1MemoryBlock_html"><div class="ttname"><a href="classllvm_1_1sys_1_1MemoryBlock.html">llvm::sys::MemoryBlock</a></div><div class="ttdoc">This class encapsulates the notion of a memory block which has an address and a size.</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00031">Memory.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorProcessControl_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorProcessControl.html">llvm::orc::ExecutorProcessControl</a></div><div class="ttdoc">ExecutorProcessControl supports interaction with a JIT target process.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorProcessControl_8h_source.html#l00038">ExecutorProcessControl.h:38</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo_html_a8ae25e2221d662f2fbffc49d0b172b3a"><div class="ttname"><a href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a8ae25e2221d662f2fbffc49d0b172b3a">llvm::orc::MemoryMapper::AllocInfo::MappingBase</a></div><div class="ttdeci">ExecutorAddr MappingBase</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00039">MemoryMapper.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html"><div class="ttname"><a href="classllvm_1_1Expected.html">llvm::Expected</a></div><div class="ttdoc">Tagged union holding either a T or a Error.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00041">APFloat.h:41</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest_html"><div class="ttname"><a href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest.html">llvm::orc::tpctypes::SharedMemorySegFinalizeRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetProcessControlTypes_8h_source.html#l00045">TargetProcessControlTypes.h:45</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs_html_a83a5f44650bca3f7b50bfae1fdd1ca86"><div class="ttname"><a href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a83a5f44650bca3f7b50bfae1fdd1ca86">llvm::orc::SharedMemoryMapper::SymbolAddrs::Reserve</a></div><div class="ttdeci">ExecutorAddr Reserve</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00128">MemoryMapper.h:128</a></div></div>
<div class="ttc" id="aImplicitNullChecks_8cpp_html_a7c77357cccbb9291259cfcacd7324e2e"><div class="ttname"><a href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a></div><div class="ttdeci">static cl::opt&lt; int &gt; PageSize(&quot;imp-null-check-page-size&quot;, cl::desc(&quot;The page size of the target in bytes&quot;), cl::init(4096), cl::Hidden)</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorAddr_html_a5593e2c0550aa54892e08c9f4f141ecc"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorAddr.html#a5593e2c0550aa54892e08c9f4f141ecc">llvm::orc::ExecutorAddr::toPtr</a></div><div class="ttdeci">std::enable_if_t&lt; std::is_pointer&lt; T &gt;::value, T &gt; toPtr(WrapFn &amp;&amp;Wrap=WrapFn()) const</div><div class="ttdoc">Cast this ExecutorAddr to a pointer of the given type.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00089">ExecutorAddress.h:89</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1shared_html_aa02467cf9213727cd36bce6f59653e5b"><div class="ttname"><a href="namespacellvm_1_1orc_1_1shared.html#aa02467cf9213727cd36bce6f59653e5b">llvm::orc::shared::runFinalizeActions</a></div><div class="ttdeci">Expected&lt; std::vector&lt; WrapperFunctionCall &gt; &gt; runFinalizeActions(AllocActions &amp;AAs)</div><div class="ttdoc">Run finalize actions.</div><div class="ttdef"><b>Definition:</b> <a href="AllocationActions_8cpp_source.html#l00016">AllocationActions.cpp:16</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest_html_a285451feed03fc082fba2259ac6f1f2d"><div class="ttname"><a href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest.html#a285451feed03fc082fba2259ac6f1f2d">llvm::orc::tpctypes::SharedMemorySegFinalizeRequest::Size</a></div><div class="ttdeci">uint64_t Size</div><div class="ttdef"><b>Definition:</b> <a href="TargetProcessControlTypes_8h_source.html#l00048">TargetProcessControlTypes.h:48</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1rt_html_a1a3da52b7b8d158ec154b7114e12f555"><div class="ttname"><a href="namespacellvm_1_1orc_1_1rt.html#a1a3da52b7b8d158ec154b7114e12f555">llvm::orc::rt::SPSExecutorSharedMemoryMapperServiceInitializeSignature</a></div><div class="ttdeci">shared::SPSExpected&lt; shared::SPSExecutorAddr &gt;(shared::SPSExecutorAddr, shared::SPSExecutorAddr, shared::SPSSharedMemoryFinalizeRequest) SPSExecutorSharedMemoryMapperServiceInitializeSignature</div><div class="ttdef"><b>Definition:</b> <a href="OrcRTBridge_8h_source.html#l00078">OrcRTBridge.h:78</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad10875fd499e8e285aaeef615e9b11aa"><div class="ttname"><a href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">llvm::errorCodeToError</a></div><div class="ttdeci">Error errorCodeToError(std::error_code EC)</div><div class="ttdoc">Helper for converting an std::error_code to a Error.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00092">Error.cpp:92</a></div></div>
<div class="ttc" id="anamespacellvm_html_af0799d74677708a87dee45acdd40bab2"><div class="ttname"><a href="namespacellvm.html#af0799d74677708a87dee45acdd40bab2">llvm::mapWindowsError</a></div><div class="ttdeci">std::error_code mapWindowsError(unsigned EV)</div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a56a4f6e338cb52f2a694a84edf57054c"><div class="ttname"><a href="namespacellvm_1_1orc.html#a56a4f6e338cb52f2a694a84edf57054c">llvm::orc::ExecutorAddrDiff</a></div><div class="ttdeci">uint64_t ExecutorAddrDiff</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00028">ExecutorAddress.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SharedMemoryMapper_html_a05efc99c84f85d88901dd71a716814dd"><div class="ttname"><a href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a05efc99c84f85d88901dd71a716814dd">llvm::orc::SharedMemoryMapper::Create</a></div><div class="ttdeci">static Expected&lt; std::unique_ptr&lt; SharedMemoryMapper &gt; &gt; Create(ExecutorProcessControl &amp;EPC, SymbolAddrs SAs)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00202">MemoryMapper.cpp:202</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1ExecutorAddrRange_html"><div class="ttname"><a href="structllvm_1_1orc_1_1ExecutorAddrRange.html">llvm::orc::ExecutorAddrRange</a></div><div class="ttdoc">Represents an address range in the exceutor process.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00191">ExecutorAddress.h:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1SmartMutex_html"><div class="ttname"><a href="classllvm_1_1sys_1_1SmartMutex.html">llvm::sys::SmartMutex&lt; false &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SharedMemoryMapper_html_a422f2a2c01a04dbb4fe4100fc74b90ca"><div class="ttname"><a href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a422f2a2c01a04dbb4fe4100fc74b90ca">llvm::orc::SharedMemoryMapper::reserve</a></div><div class="ttdeci">void reserve(size_t NumBytes, OnReservedFunction OnReserved) override</div><div class="ttdoc">Reserves address space in executor process.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00216">MemoryMapper.cpp:216</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs_html_a3c0ecff6c02c2c2ddfe1f0d13326ef39"><div class="ttname"><a href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a3c0ecff6c02c2c2ddfe1f0d13326ef39">llvm::orc::SharedMemoryMapper::SymbolAddrs::Initialize</a></div><div class="ttdeci">ExecutorAddr Initialize</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00129">MemoryMapper.h:129</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1rt_html_aba6ce733e2a337059a192eb4f55cba2f"><div class="ttname"><a href="namespacellvm_1_1orc_1_1rt.html#aba6ce733e2a337059a192eb4f55cba2f">llvm::orc::rt::SPSExecutorSharedMemoryMapperServiceDeinitializeSignature</a></div><div class="ttdeci">shared::SPSError(shared::SPSExecutorAddr, shared::SPSSequence&lt; shared::SPSExecutorAddr &gt;) SPSExecutorSharedMemoryMapperServiceDeinitializeSignature</div><div class="ttdef"><b>Definition:</b> <a href="OrcRTBridge_8h_source.html#l00081">OrcRTBridge.h:81</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1rt_html_a8443a8325c2ab764161e9df4c939827c"><div class="ttname"><a href="namespacellvm_1_1orc_1_1rt.html#a8443a8325c2ab764161e9df4c939827c">llvm::orc::rt::SPSExecutorSharedMemoryMapperServiceReserveSignature</a></div><div class="ttdeci">shared::SPSExpected&lt; shared::SPSTuple&lt; shared::SPSExecutorAddr, shared::SPSString &gt; &gt;(shared::SPSExecutorAddr, uint64_t) SPSExecutorSharedMemoryMapperServiceReserveSignature</div><div class="ttdef"><b>Definition:</b> <a href="OrcRTBridge_8h_source.html#l00074">OrcRTBridge.h:74</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs_html_a82b07ff1ab9b8c915254bbe8adb10666"><div class="ttname"><a href="structllvm_1_1orc_1_1SharedMemoryMapper_1_1SymbolAddrs.html#a82b07ff1ab9b8c915254bbe8adb10666">llvm::orc::SharedMemoryMapper::SymbolAddrs::Release</a></div><div class="ttdeci">ExecutorAddr Release</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00131">MemoryMapper.h:131</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest_html_a1cd77f9692f05fed6a1a9fa7b59da1e6"><div class="ttname"><a href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest.html#a1cd77f9692f05fed6a1a9fa7b59da1e6">llvm::orc::tpctypes::SharedMemoryFinalizeRequest::Segments</a></div><div class="ttdeci">std::vector&lt; SharedMemorySegFinalizeRequest &gt; Segments</div><div class="ttdef"><b>Definition:</b> <a href="TargetProcessControlTypes_8h_source.html#l00052">TargetProcessControlTypes.h:52</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1InProcessMemoryMapper_html_a492e4d6b2bf660e7c499e22f85b72440"><div class="ttname"><a href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a492e4d6b2bf660e7c499e22f85b72440">llvm::orc::InProcessMemoryMapper::initialize</a></div><div class="ttdeci">void initialize(AllocInfo &amp;AI, OnInitializedFunction OnInitialized) override</div><div class="ttdoc">Ensures executor memory is synchronized with working copy memory, sends functions to be called after ...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00062">MemoryMapper.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Process_html_a60b9d3bd7eff517e776913fa60499cb1"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a60b9d3bd7eff517e776913fa60499cb1">llvm::sys::Process::getPageSize</a></div><div class="ttdeci">static Expected&lt; unsigned &gt; getPageSize()</div><div class="ttdoc">Get the process's page size.</div></div>
<div class="ttc" id="anamespacellvm_html_a71210b99d2ef87236d8505c1771a7ab1"><div class="ttname"><a href="namespacellvm.html#a71210b99d2ef87236d8505c1771a7ab1">llvm::joinErrors</a></div><div class="ttdeci">Error joinErrors(Error E1, Error E2)</div><div class="ttdoc">Concatenate errors.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00427">Error.h:427</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1shared_html_a8263d385de2b406acf8dbef9b0993cc9"><div class="ttname"><a href="namespacellvm_1_1orc_1_1shared.html#a8263d385de2b406acf8dbef9b0993cc9">llvm::orc::shared::runDeallocActions</a></div><div class="ttdeci">Error runDeallocActions(ArrayRef&lt; WrapperFunctionCall &gt; DAs)</div><div class="ttdoc">Run deallocation actions.</div><div class="ttdef"><b>Definition:</b> <a href="AllocationActions_8cpp_source.html#l00033">AllocationActions.cpp:33</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest_html_a03357ce5410075f16c283e5aab25ba77"><div class="ttname"><a href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest.html#a03357ce5410075f16c283e5aab25ba77">llvm::orc::tpctypes::SharedMemorySegFinalizeRequest::AG</a></div><div class="ttdeci">AllocGroup AG</div><div class="ttdef"><b>Definition:</b> <a href="TargetProcessControlTypes_8h_source.html#l00046">TargetProcessControlTypes.h:46</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SharedMemoryMapper_html_ac8c1571f24dc447307937d7a1c82ee8b"><div class="ttname"><a href="classllvm_1_1orc_1_1SharedMemoryMapper.html#ac8c1571f24dc447307937d7a1c82ee8b">llvm::orc::SharedMemoryMapper::release</a></div><div class="ttdeci">void release(ArrayRef&lt; ExecutorAddr &gt; Reservations, OnReleasedFunction OnRelease) override</div><div class="ttdoc">Release address space acquired through reserve()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00365">MemoryMapper.cpp:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SharedMemoryMapper_html_a49a0e809cf10b6a741b5b9d62698073b"><div class="ttname"><a href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a49a0e809cf10b6a741b5b9d62698073b">llvm::orc::SharedMemoryMapper::deinitialize</a></div><div class="ttdeci">void deinitialize(ArrayRef&lt; ExecutorAddr &gt; Allocations, OnDeinitializedFunction OnDeInitialized) override</div><div class="ttdoc">Runs previously specified deinitialization actions Executor addresses returned by initialize should b...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00347">MemoryMapper.cpp:347</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa1e1474f15df639f0d874b21f15666f7"><div class="ttname"><a href="namespacellvm.html#aa1e1474f15df639f0d874b21f15666f7">llvm::cantFail</a></div><div class="ttdeci">void cantFail(Error Err, const char *Msg=nullptr)</div><div class="ttdoc">Report a fatal error if Err is a failure value.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00745">Error.h:745</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SharedMemoryMapper_html_a6776668e9d06d4ffccc140a13cd25095"><div class="ttname"><a href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a6776668e9d06d4ffccc140a13cd25095">llvm::orc::SharedMemoryMapper::initialize</a></div><div class="ttdeci">void initialize(AllocInfo &amp;AI, OnInitializedFunction OnInitialized) override</div><div class="ttdoc">Ensures executor memory is synchronized with working copy memory, sends functions to be called after ...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00305">MemoryMapper.cpp:305</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SharedMemoryMapper_html_acc87c1eedea4bfa8adc928caf64d0933"><div class="ttname"><a href="classllvm_1_1orc_1_1SharedMemoryMapper.html#acc87c1eedea4bfa8adc928caf64d0933">llvm::orc::SharedMemoryMapper::SharedMemoryMapper</a></div><div class="ttdeci">SharedMemoryMapper(ExecutorProcessControl &amp;EPC, SymbolAddrs SAs, size_t PageSize)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00193">MemoryMapper.cpp:193</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1InProcessMemoryMapper_html_a9a8a5be08a1b215a7da11ae9d55ad31b"><div class="ttname"><a href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a9a8a5be08a1b215a7da11ae9d55ad31b">llvm::orc::InProcessMemoryMapper::~InProcessMemoryMapper</a></div><div class="ttdeci">~InProcessMemoryMapper() override</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00174">MemoryMapper.cpp:174</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2b43c21951d0948b34bcf7019949032d"><div class="ttname"><a href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">llvm::inconvertibleErrorCode</a></div><div class="ttdeci">std::error_code inconvertibleErrorCode()</div><div class="ttdoc">The value returned by this function can be returned from convertToErrorCode for Error values where no...</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00079">Error.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00156">Error.h:156</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest_html_a291bd7c0717557dd244547b23c8c7c41"><div class="ttname"><a href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemorySegFinalizeRequest.html#a291bd7c0717557dd244547b23c8c7c41">llvm::orc::tpctypes::SharedMemorySegFinalizeRequest::Addr</a></div><div class="ttdeci">ExecutorAddr Addr</div><div class="ttdef"><b>Definition:</b> <a href="TargetProcessControlTypes_8h_source.html#l00047">TargetProcessControlTypes.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1InProcessMemoryMapper_html_ad56d2316a6611ee7bf8958565aee64a2"><div class="ttname"><a href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ad56d2316a6611ee7bf8958565aee64a2">llvm::orc::InProcessMemoryMapper::prepare</a></div><div class="ttdeci">char * prepare(ExecutorAddr Addr, size_t ContentSize) override</div><div class="ttdoc">Provides working memory.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00058">MemoryMapper.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a3d95cc2d359b8d9ed5bd9504b44930b5"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">llvm::DenseMapBase::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00099">DenseMap.h:99</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo_html_aa83c8c10a9eb18cd233eed2ecf12ca71"><div class="ttname"><a href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#aa83c8c10a9eb18cd233eed2ecf12ca71">llvm::orc::MemoryMapper::AllocInfo::Actions</a></div><div class="ttdeci">shared::AllocActions Actions</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00041">MemoryMapper.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SharedMemoryMapper_html_a8295d4ee787fed22f7a1b37c7b0a559c"><div class="ttname"><a href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a8295d4ee787fed22f7a1b37c7b0a559c">llvm::orc::SharedMemoryMapper::prepare</a></div><div class="ttdeci">char * prepare(ExecutorAddr Addr, size_t ContentSize) override</div><div class="ttdoc">Provides working memory.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00295">MemoryMapper.cpp:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Memory_html_ae27409ddee7e191f33392283ca826703"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html#ae27409ddee7e191f33392283ca826703">llvm::sys::Memory::protectMappedMemory</a></div><div class="ttdeci">static std::error_code protectMappedMemory(const MemoryBlock &amp;Block, unsigned Flags)</div><div class="ttdoc">This method sets the protection flags for a block of memory to the state specified by /p Flags.</div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo_html_a6b6dcea60d496fc8de6d65188804b995"><div class="ttname"><a href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html#a6b6dcea60d496fc8de6d65188804b995">llvm::orc::MemoryMapper::AllocInfo::Segments</a></div><div class="ttdeci">std::vector&lt; SegInfo &gt; Segments</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00040">MemoryMapper.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorProcessControl_html_a17f9962c6727ed170f8b494243302732"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorProcessControl.html#a17f9962c6727ed170f8b494243302732">llvm::orc::ExecutorProcessControl::callSPSWrapperAsync</a></div><div class="ttdeci">void callSPSWrapperAsync(RunPolicyT &amp;&amp;Runner, ExecutorAddr WrapperFnAddr, SendResultT &amp;&amp;SendResult, const ArgTs &amp;...Args)</div><div class="ttdoc">Run a wrapper function using SPS to serialize the arguments and deserialize the results.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorProcessControl_8h_source.html#l00323">ExecutorProcessControl.h:323</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_ac28fc72cfcd4ee10f9f913aa2969bc45"><div class="ttname"><a href="namespacellvm_1_1orc.html#ac28fc72cfcd4ee10f9f913aa2969bc45">llvm::orc::toSysMemoryProtectionFlags</a></div><div class="ttdeci">sys::Memory::ProtectionFlags toSysMemoryProtectionFlags(MemProt MP)</div><div class="ttdoc">Convert a MemProt value to a corresponding sys::Memory::ProtectionFlags value.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryFlags_8h_source.html#l00044">MemoryFlags.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a2fbb59fad28934f72ede7ddc316dfc89a953feeff1e20f40677fb7f77c073b3be"><div class="ttname"><a href="namespacellvm_1_1orc.html#a2fbb59fad28934f72ede7ddc316dfc89a953feeff1e20f40677fb7f77c073b3be">llvm::orc::MemProt::Exec</a></div><div class="ttdeci">@ Exec</div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest_html_ac480f8342ad8500b7f9477ba74fd5ed2"><div class="ttname"><a href="structllvm_1_1orc_1_1tpctypes_1_1SharedMemoryFinalizeRequest.html#ac480f8342ad8500b7f9477ba74fd5ed2">llvm::orc::tpctypes::SharedMemoryFinalizeRequest::Actions</a></div><div class="ttdeci">shared::AllocActions Actions</div><div class="ttdef"><b>Definition:</b> <a href="TargetProcessControlTypes_8h_source.html#l00053">TargetProcessControlTypes.h:53</a></div></div>
<div class="ttc" id="aOrcRTBridge_8h_html"><div class="ttname"><a href="OrcRTBridge_8h.html">OrcRTBridge.h</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo_html"><div class="ttname"><a href="structllvm_1_1orc_1_1MemoryMapper_1_1AllocInfo.html">llvm::orc::MemoryMapper::AllocInfo</a></div><div class="ttdoc">Represents a single allocation containing multiple segments and initialization and deinitialization a...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8h_source.html#l00030">MemoryMapper.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1InProcessMemoryMapper_html_ac501a4fc8b8826d6451a9ae117ca3e0b"><div class="ttname"><a href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#ac501a4fc8b8826d6451a9ae117ca3e0b">llvm::orc::InProcessMemoryMapper::deinitialize</a></div><div class="ttdeci">void deinitialize(ArrayRef&lt; ExecutorAddr &gt; Allocations, OnDeinitializedFunction OnDeInitialized) override</div><div class="ttdoc">Runs previously specified deinitialization actions Executor addresses returned by initialize should b...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00107">MemoryMapper.cpp:107</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1rt_html_a6deb0b900e27264d6251e68c3ca7a5fa"><div class="ttname"><a href="namespacellvm_1_1orc_1_1rt.html#a6deb0b900e27264d6251e68c3ca7a5fa">llvm::orc::rt::SPSExecutorSharedMemoryMapperServiceReleaseSignature</a></div><div class="ttdeci">shared::SPSError(shared::SPSExecutorAddr, shared::SPSSequence&lt; shared::SPSExecutorAddr &gt;) SPSExecutorSharedMemoryMapperServiceReleaseSignature</div><div class="ttdef"><b>Definition:</b> <a href="OrcRTBridge_8h_source.html#l00083">OrcRTBridge.h:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SharedMemoryMapper_html_a4eac18316db606c0b211c40950acc2fa"><div class="ttname"><a href="classllvm_1_1orc_1_1SharedMemoryMapper.html#a4eac18316db606c0b211c40950acc2fa">llvm::orc::SharedMemoryMapper::~SharedMemoryMapper</a></div><div class="ttdeci">~SharedMemoryMapper() override</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00414">MemoryMapper.cpp:414</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1InProcessMemoryMapper_html_a83a0052e8954805eb391e3fbead2a069"><div class="ttname"><a href="classllvm_1_1orc_1_1InProcessMemoryMapper.html#a83a0052e8954805eb391e3fbead2a069">llvm::orc::InProcessMemoryMapper::InProcessMemoryMapper</a></div><div class="ttdeci">InProcessMemoryMapper(size_t PageSize)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryMapper_8cpp_source.html#l00029">MemoryMapper.cpp:29</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="aWindowsError_8h_html"><div class="ttname"><a href="WindowsError_8h.html">WindowsError.h</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:04:20 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
