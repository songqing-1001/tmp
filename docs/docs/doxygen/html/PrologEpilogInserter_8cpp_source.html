<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/PrologEpilogInserter.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PrologEpilogInserter.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PrologEpilogInserter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- PrologEpilogInserter.cpp - Insert Prolog/Epilog code in function ---===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This pass is responsible for finalizing the functions frame layout, saving</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// callee saved registers, and for emitting prolog &amp; epilog code for the</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// function.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// This pass must be run after register allocation.  After this pass is</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// executed, it is illegal to construct MO_FrameIndex operands.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitVector_8h.html">llvm/ADT/BitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DepthFirstIterator_8h.html">llvm/ADT/DepthFirstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunctionPass_8h.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineLoopInfo_8h.html">llvm/CodeGen/MachineLoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineModuleInfo_8h.html">llvm/CodeGen/MachineModuleInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOperand_8h.html">llvm/CodeGen/MachineOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOptimizationRemarkEmitter_8h.html">llvm/CodeGen/MachineOptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterScavenging_8h.html">llvm/CodeGen/RegisterScavenging.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetFrameLowering_8h.html">llvm/CodeGen/TargetFrameLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/CodeGen/TargetInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOpcodes_8h.html">llvm/CodeGen/TargetOpcodes.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WinEHFuncInfo_8h.html">llvm/CodeGen/WinEHFuncInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConv_8h.html">llvm/IR/CallingConv.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DiagnosticInfo_8h.html">llvm/IR/DiagnosticInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineAsm_8h.html">llvm/IR/InlineAsm.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCRegisterInfo_8h.html">llvm/MC/MCRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeGen_8h.html">llvm/Support/CodeGen.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FormatVariadic_8h.html">llvm/Support/FormatVariadic.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOptions_8h.html">llvm/Target/TargetOptions.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   74</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;prologepilog&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#a16e1dce3ef595b035bc2f10e763d0ce6">   76</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1SmallVector.html">MBBVector</a> = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock *, 4&gt;</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumLeafFuncWithSpills, <span class="stringliteral">&quot;Number of leaf functions with CSRs&quot;</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFuncSeen, <span class="stringliteral">&quot;Number of functions seen in PEI&quot;</span>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">class </span>PEI : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a> {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  PEI() : <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="namespacellvm.html#aaef0ea1effecfe203f257fa7bdee195f">initializePEIPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">  /// runOnMachineFunction - Insert prolog/epilog code and replace abstract</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">  /// frame indexes with appropriate references.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a> *RS;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// MinCSFrameIndex, MaxCSFrameIndex - Keeps the range of callee saved</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// stack frame indexes.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordtype">unsigned</span> MinCSFrameIndex = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;unsigned&gt;::max</a>();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordtype">unsigned</span> MaxCSFrameIndex = 0;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// Save and Restore blocks of the current function. Typically there is a</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// single save block, unless Windows EH funclets are involved.</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">MBBVector</a> SaveBlocks;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">MBBVector</a> RestoreBlocks;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// Flag to control whether to use the register scavenger to resolve</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// frame index materialization registers. Set according to</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// TRI-&gt;requiresFrameIndexScavenging() for the current function.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">bool</span> FrameIndexVirtualScavenging;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// Flag to control whether the scavenger should be passed even though</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// FrameIndexVirtualScavenging is used.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordtype">bool</span> FrameIndexEliminationScavenging;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">// Emit remarks.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html">MachineOptimizationRemarkEmitter</a> *ORE = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">void</span> calculateCallFrameInfo(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordtype">void</span> calculateSaveRestoreBlocks(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordtype">void</span> spillCalleeSavedRegs(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">void</span> calculateFrameObjectOffsets(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordtype">void</span> replaceFrameIndices(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordtype">void</span> replaceFrameIndices(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                           <span class="keywordtype">int</span> &amp;SPAdj);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// Frame indices in debug values are encoded in a target independent</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// way with simply the frame index and offset rather than any</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// target-specific addressing mode.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordtype">bool</span> replaceFrameIndexDebugInstr(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                   <span class="keywordtype">unsigned</span> OpIdx, <span class="keywordtype">int</span> SPAdj = 0);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// Does same as replaceFrameIndices but using the backward MIR walk and</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// backward register scavenger walk. Does not yet support call sequence</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// processing.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordtype">void</span> replaceFrameIndicesBackward(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                   <span class="keywordtype">int</span> &amp;SPAdj);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordtype">void</span> insertPrologEpilogCode(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">void</span> insertZeroCallUsedRegs(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;};</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">PEI::ID</a> = 0;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="namespacellvm.html#a54f54c42fcbebfb3d7e6bc1b5807e47c">  150</a></span>&#160;<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm.html#a54f54c42fcbebfb3d7e6bc1b5807e47c">llvm::PrologEpilogCodeInserterID</a> = <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">PEI::ID</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<a class="code" href="PrologEpilogInserter_8cpp.html#a40ebb63853243050bfbf89f7d9c690fb">INITIALIZE_PASS_BEGIN</a>(PEI, <a class="code" href="PrologEpilogInserter_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;Prologue/Epilogue Insertion&quot;</span>, <span class="keyword">false</span>,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                      <span class="keyword">false</span>)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitterPass.html">MachineOptimizationRemarkEmitterPass</a>)</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#a030569d5a541b6110f2ae1b6a3413a58">  157</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(PEI, <a class="code" href="PrologEpilogInserter_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>,</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#abeeba0f33113492e53ff7aa9faebd9bd">  158</a></span>&#160;                    &quot;Prologue/Epilogue Insertion &amp; Frame <a class="code" href="PrologEpilogInserter_8cpp.html#abeeba0f33113492e53ff7aa9faebd9bd">Finalization</a>&quot;, <a class="code" href="namespacefalse.html">false</a>,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="namespacellvm.html#a32c02fb6e59b5cf99cfb63e696ec3145">  161</a></span>&#160;<a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a> *<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#a32c02fb6e59b5cf99cfb63e696ec3145">createPrologEpilogInserterPass</a>() {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> PEI();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumBytesStackSpace,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;          <span class="stringliteral">&quot;Number of bytes used for stack in all functions&quot;</span>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keywordtype">void</span> PEI::getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">setPreservesCFG</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>&gt;();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>&gt;();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitterPass.html">MachineOptimizationRemarkEmitterPass</a>&gt;();</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">MachineFunctionPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">/// StackObjSet - A set of stack object indexes</span></div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#ad1a74ad80a7b3ff730119ad540b7dacd">  177</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="classllvm_1_1SmallSetVector.html">StackObjSet</a> = <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;int, 8&gt;</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1SmallDenseMap.html">SavedDbgValuesMap</a> =</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#a205bc0ef7a142db9d954910517d97ab3">  180</a></span>&#160;    <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;MachineBasicBlock *, SmallVector&lt;MachineInstr *, 4&gt;</a>, 4&gt;;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">/// Stash DBG_VALUEs that describe parameters and which are placed at the start</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">/// of the block. Later on, after the prologue code has been emitted, the</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/// stashed DBG_VALUEs will be reinserted at the start of the block.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#ad435005d9876513f43056c258958554a">  185</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PrologEpilogInserter_8cpp.html#ad435005d9876513f43056c258958554a">stashEntryDbgValues</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                                <a class="code" href="classllvm_1_1SmallDenseMap.html">SavedDbgValuesMap</a> &amp;EntryDbgValues) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const MachineInstr *, 4&gt;</a> FrameIndexValues;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugInstr())</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue() || !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable()-&gt;isParameter())</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.debug_operands(),</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;               [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO) { return MO.isFI(); })) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="comment">// We can only emit valid locations for frame indices after the frame</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="comment">// setup, so do not stash away them.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      FrameIndexValues.push_back(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocalVariable.html">DILocalVariable</a> *Var = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *Expr = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">auto</span> Overlaps = [Var, Expr](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DV) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">return</span> Var == DV-&gt;getDebugVariable() &amp;&amp;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;             Expr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a46d29699ee79b3a3d7359278f6bab01c">fragmentsOverlap</a>(DV-&gt;getDebugExpression());</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    };</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// See if the debug value overlaps with any preceding debug value that will</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// not be stashed. If that is the case, then we can&#39;t stash this value, as</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// we would then reorder the values at reinsertion.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">llvm::none_of</a>(FrameIndexValues, Overlaps))</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      EntryDbgValues[&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>].push_back(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">// Remove stashed debug values from the block.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (EntryDbgValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>))</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : EntryDbgValues[&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>])</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;removeFromParent();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">/// runOnMachineFunction - Insert prolog/epilog code and replace abstract</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">/// frame indexes with appropriate references.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> PEI::runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  NumFuncSeen++;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  RS = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a8f47136e199955eda121e3f5ae22d035">requiresRegisterScavenging</a>(MF) ? <span class="keyword">new</span> <a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a>() : nullptr;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  FrameIndexVirtualScavenging = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a5022e6cb3f5ea17bdad4785bab20dbf4">requiresFrameIndexScavenging</a>(MF);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  ORE = &amp;getAnalysis&lt;MachineOptimizationRemarkEmitterPass&gt;().getORE();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// Calculate the MaxCallFrameSize and AdjustsStack variables for the</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// function&#39;s frame information. Also eliminates call frame pseudo</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// instructions.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  calculateCallFrameInfo(MF);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// Determine placement of CSR spill/restore code and prolog/epilog code:</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">// place all spills in the entry block, all restores in return blocks.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  calculateSaveRestoreBlocks(MF);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// Stash away DBG_VALUEs that should not be moved by insertion of prolog code.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="classllvm_1_1SmallDenseMap.html">SavedDbgValuesMap</a> EntryDbgValues;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SaveBlock : SaveBlocks)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="PrologEpilogInserter_8cpp.html#ad435005d9876513f43056c258958554a">stashEntryDbgValues</a>(*SaveBlock, EntryDbgValues);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// Handle CSR spilling and restoring, for targets that need it.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1LLVMTargetMachine.html#a9327e8baa7b8455d5ad7675b67a807ee">usesPhysRegsForValues</a>())</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    spillCalleeSavedRegs(MF);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// Allow the target machine to make final modifications to the function</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// before the frame layout is finalized.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a32bb6ffb3d46c78fdb7e48cf2f226e4c">processFunctionBeforeFrameFinalized</a>(MF, RS);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// Calculate actual frame offsets for all abstract stack objects...</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  calculateFrameObjectOffsets(MF);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// Add prolog and epilog code to the function.  This function is required</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">// to align the stack frame as necessary for any stack variables or</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// called functions.  Because of this, calculateCalleeSavedRegisters()</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// must be called before this function in order to set the AdjustsStack</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// and MaxCallFrameSize variables.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::Naked))</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    insertPrologEpilogCode(MF);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// Reinsert stashed debug values at the start of the entry blocks.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : EntryDbgValues)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;insert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;begin(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.begin(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.end());</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// Allow the target machine to make final modifications to the function</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// before the frame layout is finalized.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a93daa364163220d478400b78d3485c15">processFunctionBeforeFrameIndicesReplaced</a>(MF, RS);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// Replace all MO_FrameIndex operands with physical register references</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// and actual offsets.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  replaceFrameIndices(MF);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// If register scavenging is needed, as we&#39;ve enabled doing it as a</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// post-pass, scavenge the virtual registers that frame index elimination</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// inserted.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a8f47136e199955eda121e3f5ae22d035">requiresRegisterScavenging</a>(MF) &amp;&amp; FrameIndexVirtualScavenging)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="namespacellvm.html#a3003dfad609a8e6f0a38214ef5623841">scavengeFrameVirtualRegs</a>(MF, *RS);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// Warn on stack size when we exceeds the given limit.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> StackSize = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a14c39a24bf6ebbe339ae8a453c7fdd11">getStackSize</a>();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordtype">unsigned</span> Threshold = UINT_MAX;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#afb28a4deafe2954b0534cc6399ce518b">hasFnAttribute</a>(<span class="stringliteral">&quot;warn-stack-size&quot;</span>)) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aeed8ef055d0b853fb0b4c07bf7c96206">Failed</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>()</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                      .<a class="code" href="classllvm_1_1Function.html#a4c319db4fe05c27cfe55bd133a87414d">getFnAttribute</a>(<span class="stringliteral">&quot;warn-stack-size&quot;</span>)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                      .<a class="code" href="classllvm_1_1Attribute.html#a968930aea9d9efa8d46dd890fce75643">getValueAsString</a>()</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                      .<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, Threshold);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// Verifier should have caught this.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm.html#aeed8ef055d0b853fb0b4c07bf7c96206">Failed</a> &amp;&amp; <span class="stringliteral">&quot;Invalid warn-stack-size fn attr value&quot;</span>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    (void)<a class="code" href="namespacellvm.html#aeed8ef055d0b853fb0b4c07bf7c96206">Failed</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> UnsafeStackSize = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ac08fc384e90a861a5934987272675ecc">getUnsafeStackSize</a>();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#afb28a4deafe2954b0534cc6399ce518b">hasFnAttribute</a>(Attribute::SafeStack))</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    StackSize += UnsafeStackSize;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (StackSize &gt; Threshold) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classllvm_1_1DiagnosticInfoStackSize.html">DiagnosticInfoStackSize</a> DiagStackSize(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, StackSize, Threshold, <a class="code" href="namespacellvm.html#abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31">DS_Warning</a>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getContext().diagnose(DiagStackSize);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    int64_t SpillSize = 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Idx = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae70474766f2a88bab5b2b77bcb22212b">getObjectIndexBegin</a>(), End = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ac51e2d34abb79b72afef355fac525c76">getObjectIndexEnd</a>();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;         Idx != End; ++Idx) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a91b0115deec3489d7e082a4a13f022ff">isSpillSlotObjectIndex</a>(Idx))</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        SpillSize += MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(Idx);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordtype">float</span> SpillPct =</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(SpillSize) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(StackSize);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordtype">float</span> VarPct = 1.0f - SpillPct;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    int64_t VariableSize = StackSize - SpillSize;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0}/{1} ({3:P}) spills, {2}/{1} ({4:P}) variables&quot;</span>,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                      SpillSize, StackSize, VariableSize, SpillPct, VarPct);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (UnsafeStackSize != 0) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordtype">float</span> UnsafePct =</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(UnsafeStackSize) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(StackSize);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;, {0}/{2} ({1:P}) unsafe stack&quot;</span>, UnsafeStackSize,</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        UnsafePct, StackSize);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">MachineOptimizationRemarkAnalysis</a>(<a class="code" href="PrologEpilogInserter_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;StackSize&quot;</span>,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                             MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">getSubprogram</a>(),</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                             &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab1063ce5e180c89490fae50511a46a29">front</a>())</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;           &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;NumStackBytes&quot;</span>, StackSize) &lt;&lt; <span class="stringliteral">&quot; stack bytes in function&quot;</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  });</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keyword">delete</span> RS;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  SaveBlocks.clear();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  RestoreBlocks.clear();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#abc98dd738845a40c876cbbf6f5e51f09">setSavePoint</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a17b15f54419f33a561a4b6959b2d0969">setRestorePoint</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">/// Calculate the MaxCallFrameSize and AdjustsStack</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">/// variables for the function&#39;s frame information and eliminate call frame</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">/// pseudo instructions.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> PEI::calculateCallFrameInfo(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordtype">unsigned</span> MaxCallFrameSize = 0;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordtype">bool</span> AdjustsStack = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a19e260b3bbf8fad8480d151e11919836">adjustsStack</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// Get the function call frame set-up and tear-down instruction opcode</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordtype">unsigned</span> FrameSetupOpcode = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getCallFrameSetupOpcode();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordtype">unsigned</span> FrameDestroyOpcode = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getCallFrameDestroyOpcode();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// Early exit for targets which have no call frame setup/destroy pseudo</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">// instructions.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">if</span> (FrameSetupOpcode == ~0u &amp;&amp; FrameDestroyOpcode == ~0u)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  std::vector&lt;MachineBasicBlock::iterator&gt; FrameSDOps;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : MF)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.begin(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.end(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.isFrameInstr(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getFrameSize(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">if</span> (Size &gt; MaxCallFrameSize) MaxCallFrameSize = <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        AdjustsStack = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        FrameSDOps.push_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isInlineAsm()) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="comment">// Some inline asm&#39;s need a stack frame, as indicated by operand 1.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordtype">unsigned</span> ExtraInfo = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(<a class="code" href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baab049673bbc307f5502c8aba23224a605">InlineAsm::MIOp_ExtraInfo</a>).getImm();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">if</span> (ExtraInfo &amp; <a class="code" href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baada6152484586a08fa711d4b0d44c87e5">InlineAsm::Extra_IsAlignStack</a>)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;          AdjustsStack = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a99cdf1b99c0f1b7e1bf2111aa7d2eaa3">isMaxCallFrameSizeComputed</a>() ||</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;         (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ac50604920b4866e09017dfff36632593">getMaxCallFrameSize</a>() == MaxCallFrameSize &amp;&amp;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;          MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a19e260b3bbf8fad8480d151e11919836">adjustsStack</a>() == AdjustsStack));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a14ca8f1aa1c62b860504b766ad3b15f9">setAdjustsStack</a>(AdjustsStack);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad1da788f7aa24c76efd74c005863ff13">setMaxCallFrameSize</a>(MaxCallFrameSize);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : FrameSDOps) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// If call frames are not being included as part of the stack frame, and</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// the target doesn&#39;t indicate otherwise, remove the call frame pseudos</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// here. The sub/add sp instruction pairs are still inserted, but we don&#39;t</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// need to track the SP adjustment for frame index elimination.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#accf065359be98068cbbfb847f17adc68">canSimplifyCallFramePseudos</a>(MF))</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a726ab02febbe34c8ecbc226cd8e4a2c1">eliminateCallFramePseudoInstr</a>(MF, *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">/// Compute the sets of entry and return blocks for saving and restoring</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">/// callee-saved registers, and placing prolog and epilog code.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> PEI::calculateSaveRestoreBlocks(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// Even when we do not change any CSR, we still want to insert the</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">// prologue and epilogue of the function.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// So set the save points for those.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// Use the points found by shrink-wrapping, if any.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#aa13f7212aaad31af4ed3adecd970d0d1">getSavePoint</a>()) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    SaveBlocks.push_back(MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#aa13f7212aaad31af4ed3adecd970d0d1">getSavePoint</a>());</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a1abe15d564c2129b57090fd937aed8c5">getRestorePoint</a>() &amp;&amp; <span class="stringliteral">&quot;Both restore and save must be set&quot;</span>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *RestoreBlock = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a1abe15d564c2129b57090fd937aed8c5">getRestorePoint</a>();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// If RestoreBlock does not have any successor and is not a return block</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">// then the end point is unreachable and we do not need to insert any</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// epilogue.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (!RestoreBlock-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#aa8d1d8d88835b75b05b14ab774785e8a">succ_empty</a>() || RestoreBlock-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a82f5d244972c88ff03ee56d6c090ac70">isReturnBlock</a>())</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      RestoreBlocks.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3b1dce1f3354a357fb9061bb7568a84e">push_back</a>(RestoreBlock);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">// Save refs to entry and return blocks.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  SaveBlocks.push_back(&amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab1063ce5e180c89490fae50511a46a29">front</a>());</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7d2f8efd82042b4cf611ba10e9e79ed0">isEHFuncletEntry</a>())</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      SaveBlocks.push_back(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a82f5d244972c88ff03ee56d6c090ac70">isReturnBlock</a>())</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      RestoreBlocks.push_back(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#abde55543f0bbb31306a6cd2af297fe9f">  425</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PrologEpilogInserter_8cpp.html#abde55543f0bbb31306a6cd2af297fe9f">assignCalleeSavedSpillSlots</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;SavedRegs,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                        <span class="keywordtype">unsigned</span> &amp;MinCSFrameIndex,</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                        <span class="keywordtype">unsigned</span> &amp;MaxCSFrameIndex) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (SavedRegs.<a class="code" href="classllvm_1_1BitVector.html#ae308e6ee93ceb33e921d72d659230669">empty</a>())</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *RegInfo = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getSubtarget().getRegisterInfo();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a> *CSRegs = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getRegInfo().getCalleeSavedRegs();</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> CSMask(SavedRegs.<a class="code" href="classllvm_1_1BitVector.html#abf86e1383aec181a5a2d9967eb8070fd">size</a>());</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; CSRegs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    CSMask.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(CSRegs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  std::vector&lt;CalleeSavedInfo&gt; CSI;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; CSRegs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = CSRegs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">if</span> (SavedRegs.<a class="code" href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">test</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordtype">bool</span> SavedSuper = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a> &amp;SuperReg : RegInfo-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a3872756aa652373054074e7059a1b8f3">superregs</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="comment">// Some backends set all aliases for some registers as saved, such as</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">// Mips&#39;s $fp, so they appear in SavedRegs but not CSRegs.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span> (SavedRegs.<a class="code" href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">test</a>(SuperReg) &amp;&amp; CSMask.<a class="code" href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">test</a>(SuperReg)) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          SavedSuper = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="keywordflow">if</span> (!SavedSuper)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        CSI.push_back(<a class="code" href="classllvm_1_1CalleeSavedInfo.html">CalleeSavedInfo</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>));</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getSubtarget().getFrameLowering();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFrameInfo();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span> (!TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a6a2d9dbee947de1e611cb27ae01419fe">assignCalleeSavedSpillSlots</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, RegInfo, CSI, MinCSFrameIndex,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                        MaxCSFrameIndex)) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">// If target doesn&#39;t implement this, use generic code.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">if</span> (CSI.empty())</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="keywordflow">return</span>; <span class="comment">// Early exit if no callee saved registers are modified!</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordtype">unsigned</span> NumFixedSpillSlots;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1TargetFrameLowering_1_1SpillSlot.html">TargetFrameLowering::SpillSlot</a> *FixedSpillSlots =</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a2c26e5a86cf5afe8585f9b327365b08b">getCalleeSavedSpillSlots</a>(NumFixedSpillSlots);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// Now that we know which registers need to be saved and restored, allocate</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// stack slots for them.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CS : CSI) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="comment">// If the target has spilled this register to another register, we don&#39;t</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="comment">// need to allocate a stack slot.</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">if</span> (CS.isSpilledToReg())</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = CS.getReg();</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = RegInfo-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a17287afec9c4e572033dc4d1d6e11367">getMinimalPhysRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordtype">int</span> FrameIdx;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">if</span> (RegInfo-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa781dc3eb971ed5ccc75be17b3c2a9d1">hasReservedSpillSlot</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, FrameIdx)) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        CS.setFrameIdx(FrameIdx);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="comment">// Check to see if this physreg must be spilled to a particular stack slot</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="comment">// on this target.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1TargetFrameLowering_1_1SpillSlot.html">TargetFrameLowering::SpillSlot</a> *FixedSlot = FixedSpillSlots;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">while</span> (FixedSlot != FixedSpillSlots + NumFixedSpillSlots &amp;&amp;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;             FixedSlot-&gt;<a class="code" href="structllvm_1_1TargetFrameLowering_1_1SpillSlot.html#a61869c498d78ea441c973525fbaf2af8">Reg</a> != <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        ++FixedSlot;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordtype">unsigned</span> Size = RegInfo-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ad0e6256f93a13938e8e59828d5677e32">getSpillSize</a>(*RC);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="keywordflow">if</span> (FixedSlot == FixedSpillSlots + NumFixedSpillSlots) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">// Nope, just spill it anywhere convenient.</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = RegInfo-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a87fa290ccfe9e8742e51e2ddb20f3754">getSpillAlign</a>(*RC);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="comment">// We may not be able to satisfy the desired alignment specification of</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="comment">// the TargetRegisterClass if the stack alignment is smaller. Use the</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">// min.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        Alignment = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Alignment, TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a74d93035f53f5e8c2aaea5a8f307972d">getStackAlign</a>());</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        FrameIdx = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a1ae307f415a8989475e3f7ddd6eefc8b">CreateStackObject</a>(Size, Alignment, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)FrameIdx &lt; MinCSFrameIndex) MinCSFrameIndex = FrameIdx;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)FrameIdx &gt; MaxCSFrameIndex) MaxCSFrameIndex = FrameIdx;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="comment">// Spill it to the stack where we must.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        FrameIdx = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad2270087c6b8d7061c3a5e83fb61c0a6">CreateFixedSpillStackObject</a>(Size, FixedSlot-&gt;<a class="code" href="structllvm_1_1TargetFrameLowering_1_1SpillSlot.html#a8ce1bc3b3961fa413891667b1914a435">Offset</a>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      CS.setFrameIdx(FrameIdx);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ab3f912e64e60536d8369f1414b7ef380">setCalleeSavedInfo</a>(CSI);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/// Helper function to update the liveness information for the callee-saved</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">/// registers.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#ab462c5bbf745633740ccfb2920040000">  520</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PrologEpilogInserter_8cpp.html#ab462c5bbf745633740ccfb2920040000">updateLiveness</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// Visited will contain all the basic blocks that are in the region</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// where the callee saved registers are alive:</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="comment">// - Anything that is not Save or Restore -&gt; LiveThrough.</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// - Save -&gt; LiveIn.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="comment">// - Restore -&gt; LiveOut.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// The live-out is not attached to the block, so no need to keep</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">// Restore in this set.</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock *, 8&gt;</a> WorkList;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Entry = &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab1063ce5e180c89490fae50511a46a29">front</a>();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Save = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#aa13f7212aaad31af4ed3adecd970d0d1">getSavePoint</a>();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">if</span> (!Save)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    Save = Entry;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">if</span> (Entry != Save) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    WorkList.push_back(Entry);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Entry);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Save);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Restore = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a1abe15d564c2129b57090fd937aed8c5">getRestorePoint</a>();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">if</span> (Restore)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// By construction Restore cannot be visited, otherwise it</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// means there exists a path to Restore that does not go</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// through Save.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    WorkList.push_back(Restore);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">while</span> (!WorkList.empty()) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *CurBB = WorkList.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// By construction, the region that is after the save point is</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// dominated by the Save and post-dominated by the Restore.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (CurBB == Save &amp;&amp; Save != Restore)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">// Enqueue all the successors not already visited.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// Those are by construction either before Save or after Restore.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SuccBB : CurBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">successors</a>())</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(SuccBB).second)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        WorkList.push_back(SuccBB);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keyword">const</span> std::vector&lt;CalleeSavedInfo&gt; &amp;CSI = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#af3891aaee55272147e7bb2518842a753">getCalleeSavedInfo</a>();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CalleeSavedInfo.html">CalleeSavedInfo</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : CSI) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : Visited) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <a class="code" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getReg();</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="comment">// Add the callee-saved register as live-in.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="comment">// It&#39;s killed at the spill.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">isReserved</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) &amp;&amp; !<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a5fc7747b752105f022c214bd2403eeee">isLiveIn</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acce9c12cc977a88dc7bc51493ce7681c">addLiveIn</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">// If callee-saved register is spilled to another register rather than</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">// spilling to stack, the destination register has to be marked as live for</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// each MBB between the prologue and epilogue so that it is not clobbered</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">// before it is reloaded in the epilogue. The Visited set contains all</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">// blocks outside of the region delimited by prologue/epilogue.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isSpilledToReg()) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span> (Visited.count(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>))</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <a class="code" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a> DstReg = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDstReg();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a5fc7747b752105f022c214bd2403eeee">isLiveIn</a>(DstReg))</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;          <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acce9c12cc977a88dc7bc51493ce7681c">addLiveIn</a>(DstReg);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">/// Insert spill code for the callee-saved registers used in the function.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#a61e27cf21f938d341d13395bb4e17493">  592</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PrologEpilogInserter_8cpp.html#a61e27cf21f938d341d13395bb4e17493">insertCSRSaves</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;SaveBlock,</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;CalleeSavedInfo&gt;</a> CSI) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *SaveBlock.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SaveBlock.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> (!TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a4e3f90e73775a2603db1bc5f1cf8c1f0">spillCalleeSavedRegisters</a>(SaveBlock, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, CSI, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CalleeSavedInfo.html">CalleeSavedInfo</a> &amp;CS : CSI) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="comment">// Insert the spill to the stack frame.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = CS.getReg();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="keywordflow">if</span> (CS.isSpilledToReg()) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(SaveBlock, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(),</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(TargetOpcode::COPY), CS.getDstReg())</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a17287afec9c4e572033dc4d1d6e11367">getMinimalPhysRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.<a class="code" href="classllvm_1_1HexagonInstrInfo.html#a230837b86f36384876568b3bdb4fdafb">storeRegToStackSlot</a>(SaveBlock, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">true</span>, CS.getFrameIdx(), RC,</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                                <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a>());</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">/// Insert restore code for the callee-saved registers used in the function.</span></div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#a04bc45ddbc56deb8b54dacaeea86df8f">  619</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PrologEpilogInserter_8cpp.html#a04bc45ddbc56deb8b54dacaeea86df8f">insertCSRRestores</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;RestoreBlock,</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                              std::vector&lt;CalleeSavedInfo&gt; &amp;CSI) {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *RestoreBlock.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="comment">// Restore all registers immediately before the return and any</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="comment">// terminators that precede it.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = RestoreBlock.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">if</span> (!TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#af4e91c7e613771679b2f0e71f03b172d">restoreCalleeSavedRegisters</a>(RestoreBlock, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, CSI, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CalleeSavedInfo.html">CalleeSavedInfo</a> &amp;CI : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(CSI)) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = CI.getReg();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">if</span> (CI.isSpilledToReg()) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(RestoreBlock, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(TargetOpcode::COPY), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CI.getDstReg(), <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a17287afec9c4e572033dc4d1d6e11367">getMinimalPhysRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.<a class="code" href="classllvm_1_1HexagonInstrInfo.html#abd2d8a338da0066ab5a287c36dd7928d">loadRegFromStackSlot</a>(RestoreBlock, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, CI.getFrameIdx(), RC,</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                                 <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a>());</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != RestoreBlock.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() &amp;&amp;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;               <span class="stringliteral">&quot;loadRegFromStackSlot didn&#39;t insert any code!&quot;</span>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="comment">// Insert in reverse order.  loadRegFromStackSlot can insert</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="comment">// multiple instructions.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="keywordtype">void</span> PEI::spillCalleeSavedRegs(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// We can&#39;t list this requirement in getRequiredProperties because some</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">// targets (WebAssembly) use virtual registers past this point, and the pass</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// pipeline is set up without giving the passes a chance to look at the</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">// TargetMachine.</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// FIXME: Find a way to express this in getRequiredProperties.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">getProperties</a>().<a class="code" href="classllvm_1_1MachineFunctionProperties.html#aacef05f16d3e71703f08bb4677e1d7a2">hasProperty</a>(</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <a class="code" href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a72f7d830dd5ddb30f06d8e9639558ac3">MachineFunctionProperties::Property::NoVRegs</a>));</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  MinCSFrameIndex = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;unsigned&gt;::max</a>();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  MaxCSFrameIndex = 0;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="comment">// Determine which of the registers in the callee save list should be saved.</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> SavedRegs;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a2f26766f4dcfa6457ba405584a34d5c3">determineCalleeSaves</a>(MF, SavedRegs, RS);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="comment">// Assign stack slots for any callee-saved registers that must be spilled.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <a class="code" href="PrologEpilogInserter_8cpp.html#abde55543f0bbb31306a6cd2af297fe9f">assignCalleeSavedSpillSlots</a>(MF, SavedRegs, MinCSFrameIndex, MaxCSFrameIndex);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="comment">// Add the code to save and restore the callee saved registers.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::Naked)) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a7e65d5ed1e6c20323a0d723c43a9f264">setCalleeSavedInfoValid</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    std::vector&lt;CalleeSavedInfo&gt; &amp;CSI = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#af3891aaee55272147e7bb2518842a753">getCalleeSavedInfo</a>();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (!CSI.empty()) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">if</span> (!MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a2cc8bb867c8949943ca7d88f1db31fde">hasCalls</a>())</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        NumLeafFuncWithSpills++;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SaveBlock : SaveBlocks)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="PrologEpilogInserter_8cpp.html#a61e27cf21f938d341d13395bb4e17493">insertCSRSaves</a>(*SaveBlock, CSI);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="comment">// Update the live-in information of all the blocks up to the save point.</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <a class="code" href="PrologEpilogInserter_8cpp.html#ab462c5bbf745633740ccfb2920040000">updateLiveness</a>(MF);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *RestoreBlock : RestoreBlocks)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <a class="code" href="PrologEpilogInserter_8cpp.html#a04bc45ddbc56deb8b54dacaeea86df8f">insertCSRRestores</a>(*RestoreBlock, CSI);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">/// AdjustStackOffset - Helper function used to adjust the stack frame offset.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">  693</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">AdjustStackOffset</a>(<a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI, <span class="keywordtype">int</span> FrameIdx,</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                                     <span class="keywordtype">bool</span> StackGrowsDown, int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                                     <a class="code" href="structllvm_1_1Align.html">Align</a> &amp;MaxAlign) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// If the stack grows down, add the object size to find the lowest address.</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">if</span> (StackGrowsDown)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(FrameIdx);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(FrameIdx);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="comment">// If the alignment of this object is greater than that of the stack, then</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="comment">// increase the stack alignment to match.</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  MaxAlign = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(MaxAlign, Alignment);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="comment">// Adjust to alignment boundary.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, Alignment);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">if</span> (StackGrowsDown) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;alloc FI(&quot;</span> &lt;&lt; FrameIdx &lt;&lt; <span class="stringliteral">&quot;) at SP[&quot;</span> &lt;&lt; -<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a3cd29e7edbcaceb5834eaa7d089a5bc4">setObjectOffset</a>(FrameIdx, -<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>); <span class="comment">// Set the computed offset</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;alloc FI(&quot;</span> &lt;&lt; FrameIdx &lt;&lt; <span class="stringliteral">&quot;) at SP[&quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a3cd29e7edbcaceb5834eaa7d089a5bc4">setObjectOffset</a>(FrameIdx, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(FrameIdx);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">/// Compute which bytes of fixed and callee-save stack area are unused and keep</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">/// track of them in StackBytesFree.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#af01033da46e9a33a66573433a81eaad0">  724</a></span>&#160;<a class="code" href="PrologEpilogInserter_8cpp.html#af01033da46e9a33a66573433a81eaad0">computeFreeStackSlots</a>(<a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI, <span class="keywordtype">bool</span> StackGrowsDown,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                      <span class="keywordtype">unsigned</span> MinCSFrameIndex, <span class="keywordtype">unsigned</span> MaxCSFrameIndex,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                      int64_t FixedCSEnd, <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;StackBytesFree) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">// Avoid undefined int64_t -&gt; int conversion below in extreme case.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keywordflow">if</span> (FixedCSEnd &gt; <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;int&gt;::max</a>())</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  StackBytesFree.<a class="code" href="classllvm_1_1BitVector.html#a32859a24aa7a3be269855b989d92a4b4">resize</a>(FixedCSEnd, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> AllocatedFrameSlots;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="comment">// Add fixed objects.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae70474766f2a88bab5b2b77bcb22212b">getObjectIndexBegin</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 0; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">// StackSlot scavenging is only implemented for the default stack.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad718aae0ce2a188fa35cb2781024ffc0">getStackID</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      AllocatedFrameSlots.push_back(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="comment">// Add callee-save objects if there are any.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">if</span> (MinCSFrameIndex &lt;= MaxCSFrameIndex) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = MinCSFrameIndex; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)MaxCSFrameIndex; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad718aae0ce2a188fa35cb2781024ffc0">getStackID</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        AllocatedFrameSlots.push_back(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> : AllocatedFrameSlots) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// These are converted from int64_t, but they should always fit in int</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// because of the FixedCSEnd check above.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordtype">int</span> ObjOffset = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">getObjectOffset</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordtype">int</span> ObjSize = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordtype">int</span> ObjStart, ObjEnd;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (StackGrowsDown) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="comment">// ObjOffset is negative when StackGrowsDown is true.</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      ObjStart = -ObjOffset - ObjSize;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      ObjEnd = -ObjOffset;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      ObjStart = ObjOffset;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      ObjEnd = ObjOffset + ObjSize;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="comment">// Ignore fixed holes that are in the previous stack frame.</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">if</span> (ObjEnd &gt; 0)</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      StackBytesFree.<a class="code" href="classllvm_1_1BitVector.html#a5109693c2cdda2a4118e7d588b51bfa6">reset</a>(ObjStart, ObjEnd);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">/// Assign frame object to an unused portion of the stack in the fixed stack</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">/// object range.  Return true if the allocation was successful.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#a23de116e7a75d0aaae35a539d6a6118e">  768</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="PrologEpilogInserter_8cpp.html#a23de116e7a75d0aaae35a539d6a6118e">scavengeStackSlot</a>(<a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI, <span class="keywordtype">int</span> FrameIdx,</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                     <span class="keywordtype">bool</span> StackGrowsDown, <a class="code" href="structllvm_1_1Align.html">Align</a> MaxAlign,</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                                     <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;StackBytesFree) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ab86af583f3ac779bb3f74071d36b5923">isVariableSizedObjectIndex</a>(FrameIdx))</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">if</span> (StackBytesFree.<a class="code" href="classllvm_1_1BitVector.html#aa19094c99ca405ec1efe38da727d27de">none</a>()) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// clear it to speed up later scavengeStackSlot calls to</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="comment">// StackBytesFree.none()</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    StackBytesFree.<a class="code" href="classllvm_1_1BitVector.html#a35bbc237e4a675c5332103ac6e7dcce1">clear</a>();</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> ObjAlign = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(FrameIdx);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">if</span> (ObjAlign &gt; MaxAlign)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  int64_t ObjSize = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(FrameIdx);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordtype">int</span> FreeStart;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">for</span> (FreeStart = StackBytesFree.<a class="code" href="classllvm_1_1BitVector.html#a2da3bac3ad70ccb97150626385ebd6a7">find_first</a>(); FreeStart != -1;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;       FreeStart = StackBytesFree.<a class="code" href="classllvm_1_1BitVector.html#a9941bbcdd7fadda44146fcc6f91af71f">find_next</a>(FreeStart)) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// Check that free space has suitable alignment.</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordtype">unsigned</span> ObjStart = StackGrowsDown ? FreeStart + ObjSize : FreeStart;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(ObjStart, ObjAlign) != ObjStart)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (FreeStart + ObjSize &gt; StackBytesFree.<a class="code" href="classllvm_1_1BitVector.html#abf86e1383aec181a5a2d9967eb8070fd">size</a>())</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordtype">bool</span> AllBytesFree = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Byte = 0; Byte &lt; ObjSize; ++Byte)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="keywordflow">if</span> (!StackBytesFree.<a class="code" href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">test</a>(FreeStart + Byte)) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        AllBytesFree = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">if</span> (AllBytesFree)</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">if</span> (FreeStart == -1)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">if</span> (StackGrowsDown) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordtype">int</span> ObjStart = -(FreeStart + ObjSize);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;alloc FI(&quot;</span> &lt;&lt; FrameIdx &lt;&lt; <span class="stringliteral">&quot;) scavenged at SP[&quot;</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                      &lt;&lt; ObjStart &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a3cd29e7edbcaceb5834eaa7d089a5bc4">setObjectOffset</a>(FrameIdx, ObjStart);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;alloc FI(&quot;</span> &lt;&lt; FrameIdx &lt;&lt; <span class="stringliteral">&quot;) scavenged at SP[&quot;</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                      &lt;&lt; FreeStart &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a3cd29e7edbcaceb5834eaa7d089a5bc4">setObjectOffset</a>(FrameIdx, FreeStart);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  StackBytesFree.<a class="code" href="classllvm_1_1BitVector.html#a5109693c2cdda2a4118e7d588b51bfa6">reset</a>(FreeStart, FreeStart + ObjSize);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">/// AssignProtectedObjSet - Helper function to assign large stack objects (i.e.,</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">/// those required to be close to the Stack Protector) to stack offsets.</span></div>
<div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="PrologEpilogInserter_8cpp.html#a70e79e0e1053091d127f88e9ef08417f">  828</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PrologEpilogInserter_8cpp.html#a70e79e0e1053091d127f88e9ef08417f">AssignProtectedObjSet</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallSetVector.html">StackObjSet</a> &amp;UnassignedObjs,</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                                  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;int, 16&gt;</a> &amp;ProtectedObjs,</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                                  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI, <span class="keywordtype">bool</span> StackGrowsDown,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                  int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a class="code" href="structllvm_1_1Align.html">Align</a> &amp;MaxAlign) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> : UnassignedObjs) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">AdjustStackOffset</a>(MFI, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, StackGrowsDown, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, MaxAlign);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    ProtectedObjs.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;}</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">/// calculateFrameObjectOffsets - Calculate actual frame offsets for all of the</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">/// abstract stack objects.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> PEI::calculateFrameObjectOffsets(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> &amp;TFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordtype">bool</span> StackGrowsDown =</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#aa76eab97e3072a1ebd4bf1ff00d19423">getStackGrowthDirection</a>() == <a class="code" href="classllvm_1_1TargetFrameLowering.html#a453c74e2daac0745b53f8b31c11fc50cad1fc7c9d0bae5bf76a67d2d26ce99c1a">TargetFrameLowering::StackGrowsDown</a>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="comment">// Loop over all of the stack objects, assigning sequential addresses...</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="comment">// Start at the beginning of the local area.</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">// The Offset is the distance from the stack top in the direction</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">// of stack growth -- so it&#39;s always nonnegative.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordtype">int</span> LocalAreaOffset = TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a6521d4d5560c03b2e6490883558b882c">getOffsetOfLocalArea</a>();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">if</span> (StackGrowsDown)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    LocalAreaOffset = -LocalAreaOffset;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LocalAreaOffset &gt;= 0</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;         &amp;&amp; <span class="stringliteral">&quot;Local area offset should be in direction of stack growth&quot;</span>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = LocalAreaOffset;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ac51e2d34abb79b72afef355fac525c76">getObjectIndexEnd</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">if</span> (!MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#af5302d38d9a16eee93f13a1579c8773d">isDeadObjectIndex</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp;&amp;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad718aae0ce2a188fa35cb2781024ffc0">getStackID</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>)</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &lt;= MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a3836203fac855ac3c5718b701bd13ffd">getMaxAlign</a>() &amp;&amp;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;             <span class="stringliteral">&quot;MaxAlignment is invalid&quot;</span>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">// If there are fixed sized objects that are preallocated in the local area,</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">// non-fixed objects can&#39;t be allocated right at the start of local area.</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="comment">// Adjust &#39;Offset&#39; to point to the end of last fixed sized preallocated</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="comment">// object.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae70474766f2a88bab5b2b77bcb22212b">getObjectIndexBegin</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 0; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// Only allocate objects on the default stack.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad718aae0ce2a188fa35cb2781024ffc0">getStackID</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) != <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    int64_t FixedOff;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (StackGrowsDown) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="comment">// The maximum distance from the stack pointer is at lower address of</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="comment">// the object -- which is given by offset. For down growing stack</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="comment">// the offset is negative, so we negate the offset to get the distance.</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      FixedOff = -MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">getObjectOffset</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="comment">// The maximum distance from the start pointer is at the upper</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="comment">// address of the object.</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      FixedOff = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">getObjectOffset</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) + MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">if</span> (FixedOff &gt; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = FixedOff;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> MaxAlign = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a3836203fac855ac3c5718b701bd13ffd">getMaxAlign</a>();</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="comment">// First assign frame offsets to stack objects that are used to spill</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="comment">// callee saved registers.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">if</span> (MaxCSFrameIndex &gt;= MinCSFrameIndex) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= MaxCSFrameIndex - MinCSFrameIndex; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> =</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;          StackGrowsDown ? MinCSFrameIndex + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> : MaxCSFrameIndex - <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="comment">// Only allocate objects on the default stack.</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad718aae0ce2a188fa35cb2781024ffc0">getStackID</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>) != <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>)</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="comment">// TODO: should this just be if (MFI.isDeadObjectIndex(FrameIndex))</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="keywordflow">if</span> (!StackGrowsDown &amp;&amp; MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#af5302d38d9a16eee93f13a1579c8773d">isDeadObjectIndex</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>))</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <a class="code" href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">AdjustStackOffset</a>(MFI, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, StackGrowsDown, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, MaxAlign);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MaxAlign == MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a3836203fac855ac3c5718b701bd13ffd">getMaxAlign</a>() &amp;&amp;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;         <span class="stringliteral">&quot;MFI.getMaxAlign should already account for all callee-saved &quot;</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;         <span class="stringliteral">&quot;registers without a fixed stack slot&quot;</span>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// FixedCSEnd is the stack offset to the end of the fixed and callee-save</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// stack area.</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  int64_t FixedCSEnd = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="comment">// Make sure the special register scavenging spill slot is closest to the</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">// incoming stack pointer if a frame pointer is required and is closer</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// to the incoming rather than the final stack pointer.</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *RegInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordtype">bool</span> EarlyScavengingSlots = TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a251859cb890a0bfde6bed13d7d844494">allocateScavengingFrameIndexesNearIncomingSP</a>(MF);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordflow">if</span> (RS &amp;&amp; EarlyScavengingSlots) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 2&gt;</a> SFIs;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    RS-&gt;getScavengingFrameIndices(SFIs);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> SFI : SFIs)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <a class="code" href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">AdjustStackOffset</a>(MFI, SFI, StackGrowsDown, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, MaxAlign);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">// FIXME: Once this is working, then enable flag will change to a target</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="comment">// check for whether the frame is large enough to want to use virtual</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">// frame index registers. Functions which don&#39;t want/need this optimization</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="comment">// will continue to use the existing code path.</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5990b78705882c9de507550bc81c40cb">getUseLocalStackAllocationBlock</a>()) {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a38a536a09e7b29b14de24d3a0cb6f1b3">getLocalFrameMaxAlign</a>();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">// Adjust to alignment boundary.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, Alignment);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Local frame base offset: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment">// Resolve offsets for objects in the local block.</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a23eb9fb6560e43fa6164b4ef35654628">getLocalFrameObjectCount</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      std::pair&lt;int, int64_t&gt; Entry = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ada9cfa89819e3c37187c86bf53bda1cc">getLocalFrameObjectMap</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      int64_t FIOffset = (StackGrowsDown ? -<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> : <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) + Entry.second;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;alloc FI(&quot;</span> &lt;&lt; Entry.first &lt;&lt; <span class="stringliteral">&quot;) at SP[&quot;</span> &lt;&lt; FIOffset</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a3cd29e7edbcaceb5834eaa7d089a5bc4">setObjectOffset</a>(Entry.first, FIOffset);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="comment">// Allocate the local block</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#aa306e1d00f65a9bb1030e66e9d195a69">getLocalFrameSize</a>();</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    MaxAlign = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(Alignment, MaxAlign);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="comment">// Retrieve the Exception Handler registration node.</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keywordtype">int</span> EHRegNodeFrameIndex = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;int&gt;::max</a>();</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1WinEHFuncInfo.html">WinEHFuncInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac828d4f05c8f8b0a1d54c492f718e510">getWinEHFuncInfo</a>())</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    EHRegNodeFrameIndex = FuncInfo-&gt;EHRegNodeFrameIndex;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="comment">// Make sure that the stack protector comes before the local variables on the</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// stack.</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;int, 16&gt;</a> ProtectedObjs;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ac7c993678733273ea9d16db7ff87b2c6">hasStackProtectorIndex</a>()) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordtype">int</span> StackProtectorFI = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5ee88eb786413b2cf541122aa749392c">getStackProtectorIndex</a>();</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="classllvm_1_1SmallSetVector.html">StackObjSet</a> LargeArrayObjs;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <a class="code" href="classllvm_1_1SmallSetVector.html">StackObjSet</a> SmallArrayObjs;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="classllvm_1_1SmallSetVector.html">StackObjSet</a> AddrOfObjs;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="comment">// If we need a stack protector, we need to make sure that</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="comment">// LocalStackSlotPass didn&#39;t already allocate a slot for it.</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="comment">// If we are told to use the LocalStackAllocationBlock, the stack protector</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="comment">// is expected to be already pre-allocated.</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad718aae0ce2a188fa35cb2781024ffc0">getStackID</a>(StackProtectorFI) != <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="comment">// If the stack protector isn&#39;t on the default stack then it&#39;s up to the</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="comment">// target to set the stack offset.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">getObjectOffset</a>(StackProtectorFI) != 0 &amp;&amp;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;             <span class="stringliteral">&quot;Offset of stack protector on non-default stack expected to be &quot;</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;             <span class="stringliteral">&quot;already set.&quot;</span>);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a11d6e0b1aa8f7709f0330318b2cc5f1b">isObjectPreAllocated</a>(MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5ee88eb786413b2cf541122aa749392c">getStackProtectorIndex</a>()) &amp;&amp;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;             <span class="stringliteral">&quot;Stack protector on non-default stack expected to not be &quot;</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;             <span class="stringliteral">&quot;pre-allocated by LocalStackSlotPass.&quot;</span>);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5990b78705882c9de507550bc81c40cb">getUseLocalStackAllocationBlock</a>()) {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <a class="code" href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">AdjustStackOffset</a>(MFI, StackProtectorFI, StackGrowsDown, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                        MaxAlign);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a11d6e0b1aa8f7709f0330318b2cc5f1b">isObjectPreAllocated</a>(MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5ee88eb786413b2cf541122aa749392c">getStackProtectorIndex</a>())) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;          <span class="stringliteral">&quot;Stack protector not pre-allocated by LocalStackSlotPass.&quot;</span>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="comment">// Assign large stack objects first.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ac51e2d34abb79b72afef355fac525c76">getObjectIndexEnd</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a11d6e0b1aa8f7709f0330318b2cc5f1b">isObjectPreAllocated</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp;&amp; MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5990b78705882c9de507550bc81c40cb">getUseLocalStackAllocationBlock</a>())</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= MinCSFrameIndex &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= MaxCSFrameIndex)</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <span class="keywordflow">if</span> (RS &amp;&amp; RS-&gt;isScavengingFrameIndex((<span class="keywordtype">int</span>)<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#af5302d38d9a16eee93f13a1579c8773d">isDeadObjectIndex</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="keywordflow">if</span> (StackProtectorFI == (<span class="keywordtype">int</span>)<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> || EHRegNodeFrameIndex == (<span class="keywordtype">int</span>)<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="comment">// Only allocate objects on the default stack.</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad718aae0ce2a188fa35cb2781024ffc0">getStackID</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) != <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <span class="keywordflow">switch</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a0e63dce45e27f16d0fe42d473c9598c8">getObjectSSPLayout</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html#a3df888d2d0447ad8ff7b616b080d9f13ae58c4225f24cd64ac3846a49952e48e1">MachineFrameInfo::SSPLK_None</a>:</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html#a3df888d2d0447ad8ff7b616b080d9f13a647d449df7ecda0f9add6d04209380ed">MachineFrameInfo::SSPLK_SmallArray</a>:</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        SmallArrayObjs.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html#a3df888d2d0447ad8ff7b616b080d9f13adec9480be1bffa4bb7a4ff2352b371f0">MachineFrameInfo::SSPLK_AddrOf</a>:</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        AddrOfObjs.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html#a3df888d2d0447ad8ff7b616b080d9f13a76435b76764cc940002d104e49c49c26">MachineFrameInfo::SSPLK_LargeArray</a>:</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        LargeArrayObjs.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected SSPLayoutKind.&quot;</span>);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="comment">// We expect **all** the protected stack objects to be pre-allocated by</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="comment">// LocalStackSlotPass. If it turns out that PEI still has to allocate some</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="comment">// of them, we may end up messing up the expected order of the objects.</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5990b78705882c9de507550bc81c40cb">getUseLocalStackAllocationBlock</a>() &amp;&amp;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        !(LargeArrayObjs.<a class="code" href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">empty</a>() &amp;&amp; SmallArrayObjs.<a class="code" href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;          AddrOfObjs.<a class="code" href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">empty</a>()))</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Found protected stack objects not pre-allocated by &quot;</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                       <span class="stringliteral">&quot;LocalStackSlotPass.&quot;</span>);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <a class="code" href="PrologEpilogInserter_8cpp.html#a70e79e0e1053091d127f88e9ef08417f">AssignProtectedObjSet</a>(LargeArrayObjs, ProtectedObjs, MFI, StackGrowsDown,</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                          <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, MaxAlign);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="PrologEpilogInserter_8cpp.html#a70e79e0e1053091d127f88e9ef08417f">AssignProtectedObjSet</a>(SmallArrayObjs, ProtectedObjs, MFI, StackGrowsDown,</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                          <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, MaxAlign);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="PrologEpilogInserter_8cpp.html#a70e79e0e1053091d127f88e9ef08417f">AssignProtectedObjSet</a>(AddrOfObjs, ProtectedObjs, MFI, StackGrowsDown,</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                          <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, MaxAlign);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> ObjectsToAllocate;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="comment">// Then prepare to assign frame offsets to stack objects that are not used to</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="comment">// spill callee saved registers.</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ac51e2d34abb79b72afef355fac525c76">getObjectIndexEnd</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a11d6e0b1aa8f7709f0330318b2cc5f1b">isObjectPreAllocated</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp;&amp; MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5990b78705882c9de507550bc81c40cb">getUseLocalStackAllocationBlock</a>())</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= MinCSFrameIndex &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= MaxCSFrameIndex)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span> (RS &amp;&amp; RS-&gt;isScavengingFrameIndex((<span class="keywordtype">int</span>)<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#af5302d38d9a16eee93f13a1579c8773d">isDeadObjectIndex</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5ee88eb786413b2cf541122aa749392c">getStackProtectorIndex</a>() == (<span class="keywordtype">int</span>)<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> || EHRegNodeFrameIndex == (<span class="keywordtype">int</span>)<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">if</span> (ProtectedObjs.<a class="code" href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">count</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">// Only allocate objects on the default stack.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad718aae0ce2a188fa35cb2781024ffc0">getStackID</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) != <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">TargetStackID::Default</a>)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160; </div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">// Add the objects that we need to allocate to our working set.</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    ObjectsToAllocate.push_back(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// Allocate the EH registration node first if one is present.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">if</span> (EHRegNodeFrameIndex != <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;int&gt;::max</a>())</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">AdjustStackOffset</a>(MFI, EHRegNodeFrameIndex, StackGrowsDown, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                      MaxAlign);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="comment">// Give the targets a chance to order the objects the way they like it.</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a3f36b7c907385d9b367f7b22a9fcc797">getOptLevel</a>() != <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36a451bbac85aff02d070be3c17a6bef928">CodeGenOpt::None</a> &amp;&amp;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a3365678cbab08add568b0a7edb28fb09">StackSymbolOrdering</a>)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a42fa24a22318377b109f90d4e007e0a6">orderFrameObjects</a>(MF, ObjectsToAllocate);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">// Keep track of which bytes in the fixed and callee-save range are used so we</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">// can use the holes when allocating later stack objects.  Only do this if</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="comment">// stack protector isn&#39;t being used and the target requests it and we&#39;re</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">// optimizing.</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> StackBytesFree;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">if</span> (!ObjectsToAllocate.empty() &amp;&amp;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a3f36b7c907385d9b367f7b22a9fcc797">getOptLevel</a>() != <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36a451bbac85aff02d070be3c17a6bef928">CodeGenOpt::None</a> &amp;&amp;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5ee88eb786413b2cf541122aa749392c">getStackProtectorIndex</a>() &lt; 0 &amp;&amp; TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a24dcd82cec9e61485b359b2027b3852a">enableStackSlotScavenging</a>(MF))</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="PrologEpilogInserter_8cpp.html#af01033da46e9a33a66573433a81eaad0">computeFreeStackSlots</a>(MFI, StackGrowsDown, MinCSFrameIndex, MaxCSFrameIndex,</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                          FixedCSEnd, StackBytesFree);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// Now walk the objects and actually assign base offsets to them.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Object : ObjectsToAllocate)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="PrologEpilogInserter_8cpp.html#a23de116e7a75d0aaae35a539d6a6118e">scavengeStackSlot</a>(MFI, Object, StackGrowsDown, MaxAlign,</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                           StackBytesFree))</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <a class="code" href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">AdjustStackOffset</a>(MFI, Object, StackGrowsDown, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, MaxAlign);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="comment">// Make sure the special register scavenging spill slot is closest to the</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="comment">// stack pointer.</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordflow">if</span> (RS &amp;&amp; !EarlyScavengingSlots) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 2&gt;</a> SFIs;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    RS-&gt;getScavengingFrameIndices(SFIs);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> SFI : SFIs)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <a class="code" href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">AdjustStackOffset</a>(MFI, SFI, StackGrowsDown, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, MaxAlign);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">if</span> (!TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#ae0c5515e407c37a5d3f0b61811d7012f">targetHandlesStackFrameRounding</a>()) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">// If we have reserved argument space for call sites in the function</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="comment">// immediately on entry to the current function, count it as part of the</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// overall stack size.</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a19e260b3bbf8fad8480d151e11919836">adjustsStack</a>() &amp;&amp; TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a238c4b47777d9678c89b6ccfa9db504c">hasReservedCallFrame</a>(MF))</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ac50604920b4866e09017dfff36632593">getMaxCallFrameSize</a>();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">// Round up the size to a multiple of the alignment.  If the function has</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="comment">// any calls or alloca&#39;s, align to the target&#39;s StackAlignment value to</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// ensure that the callee&#39;s frame or the alloca data is suitably aligned;</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// otherwise, for leaf functions, align to the TransientStackAlignment</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="comment">// value.</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> <a class="code" href="namespacellvm_1_1RISCVAttrs.html#aa0758ad4201d85aef168792c57ef6379">StackAlign</a>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">if</span> (MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a19e260b3bbf8fad8480d151e11919836">adjustsStack</a>() || MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a0509430713d587eba74220a8375948a8">hasVarSizedObjects</a>() ||</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        (RegInfo-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a96e76d4f9381108bffdc265b4d666b16">hasStackRealignment</a>(MF) &amp;&amp; MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ac51e2d34abb79b72afef355fac525c76">getObjectIndexEnd</a>() != 0))</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVAttrs.html#aa0758ad4201d85aef168792c57ef6379">StackAlign</a> = TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a74d93035f53f5e8c2aaea5a8f307972d">getStackAlign</a>();</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVAttrs.html#aa0758ad4201d85aef168792c57ef6379">StackAlign</a> = TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a258e7041d4a768f291a4023db2b898b5">getTransientStackAlign</a>();</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">// If the frame pointer is eliminated, all frame offsets will be relative to</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="comment">// SP not FP. Align to MaxAlign so this works.</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVAttrs.html#aa0758ad4201d85aef168792c57ef6379">StackAlign</a> = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="namespacellvm_1_1RISCVAttrs.html#aa0758ad4201d85aef168792c57ef6379">StackAlign</a>, MaxAlign);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    int64_t OffsetBeforeAlignment = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a class="code" href="namespacellvm_1_1RISCVAttrs.html#aa0758ad4201d85aef168792c57ef6379">StackAlign</a>);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="comment">// If we have increased the offset to fulfill the alignment constrants,</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="comment">// then the scavenging spill slots may become harder to reach from the</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="comment">// stack pointer, float them so they stay close.</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (StackGrowsDown &amp;&amp; OffsetBeforeAlignment != <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &amp;&amp; RS &amp;&amp;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        !EarlyScavengingSlots) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 2&gt;</a> SFIs;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      RS-&gt;getScavengingFrameIndices(SFIs);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<span class="keywordflow">if</span> (!SFIs.empty()) <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a>()</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;Adjusting emergency spill slots!\n&quot;</span>;);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      int64_t Delta = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> - OffsetBeforeAlignment;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> SFI : SFIs) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a>()</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot;Adjusting offset of emergency spill slot #&quot;</span> &lt;&lt; SFI</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">getObjectOffset</a>(SFI););</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a3cd29e7edbcaceb5834eaa7d089a5bc4">setObjectOffset</a>(SFI, MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">getObjectOffset</a>(SFI) - Delta);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">getObjectOffset</a>(SFI) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="comment">// Update frame info to pretend that this is part of the stack...</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  int64_t StackSize = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> - LocalAreaOffset;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae4d51e9e70d6a7fb366f2a09d10a0945">setStackSize</a>(StackSize);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  NumBytesStackSpace += StackSize;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">/// insertPrologEpilogCode - Scan the function for modified callee saved</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">/// registers, insert spill code for these callee saved registers, then add</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">/// prolog and epilog code to the function.</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> PEI::insertPrologEpilogCode(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> &amp;TFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="comment">// Add prologue to the function...</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SaveBlock : SaveBlocks)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#af2cae7511277edd7755e6f4d4e179d6c">emitPrologue</a>(MF, *SaveBlock);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="comment">// Add epilogue to restore the callee-save registers in each exiting block.</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *RestoreBlock : RestoreBlocks)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a12d7286898851b396d8fb5fb78db2deb">emitEpilogue</a>(MF, *RestoreBlock);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">// Zero call used registers before restoring callee-saved registers.</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  insertZeroCallUsedRegs(MF);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SaveBlock : SaveBlocks)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a3a7941c88f2fe0c9ae9a9c4b84b94316">inlineStackProbe</a>(MF, *SaveBlock);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="comment">// Emit additional code that is required to support segmented stacks, if</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// we&#39;ve been asked for it.  This, when linked with a runtime with support</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">// for segmented stacks (libgcc is one), will result in allocating stack</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">// space in small chunks instead of one large contiguous block.</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab499fb31e894a900402d0871eee39b75">shouldSplitStack</a>()) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SaveBlock : SaveBlocks)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#ab5dbd43232cfd1d3e7ccc4ff15f7fb0a">adjustForSegmentedStacks</a>(MF, *SaveBlock);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <span class="comment">// Emit additional code that is required to explicitly handle the stack in</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">// HiPE native code (if needed) when loaded in the Erlang/OTP runtime. The</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="comment">// approach is rather similar to that of Segmented Stacks, but it uses a</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="comment">// different conditional check and another BIF for allocating more stack</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="comment">// space.</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a5f494edc0a569c7fc9ff4181243be1ed">getCallingConv</a>() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda20ddc463f96d806f369d56205ea205f5">CallingConv::HiPE</a>)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SaveBlock : SaveBlocks)</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a4e2a78f58b7687954186ba5c219f846b">adjustForHiPEPrologue</a>(MF, *SaveBlock);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">/// insertZeroCallUsedRegs - Zero out call used registers.</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> PEI::insertZeroCallUsedRegs(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>();</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(<span class="stringliteral">&quot;zero-call-used-regs&quot;</span>))</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keyword">using namespace </span>ZeroCallUsedRegs;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0">ZeroCallUsedRegsKind</a> ZeroRegsKind =</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;ZeroCallUsedRegsKind&gt;</a>(</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFnAttribute(<span class="stringliteral">&quot;zero-call-used-regs&quot;</span>).getValueAsString())</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;          .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;skip&quot;</span>, <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a72ef2b9b6965d078e3c7f95487a82d1c">ZeroCallUsedRegsKind::Skip</a>)</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;          .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;used-gpr-arg&quot;</span>, <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a10b3b11234c3484fd40d935810c976d9">ZeroCallUsedRegsKind::UsedGPRArg</a>)</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;          .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;used-gpr&quot;</span>, <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a8843d86cb89f4fc7f81ea906ee936de5">ZeroCallUsedRegsKind::UsedGPR</a>)</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;          .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;used-arg&quot;</span>, <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0acb5e51f2df3a0397e5909475e70b52e1">ZeroCallUsedRegsKind::UsedArg</a>)</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;          .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;used&quot;</span>, <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a019d1ca7d50cc54b995f60d456435e87">ZeroCallUsedRegsKind::Used</a>)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;          .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;all-gpr-arg&quot;</span>, <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a6a88e6b065bde1744fb858e368a9cb6f">ZeroCallUsedRegsKind::AllGPRArg</a>)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;          .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;all-gpr&quot;</span>, <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a2602a5b1063650a0b028b7ce5c800be0">ZeroCallUsedRegsKind::AllGPR</a>)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;          .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;all-arg&quot;</span>, <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a96a2965a74546d1d432bc28cdaaacec8">ZeroCallUsedRegsKind::AllArg</a>)</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;          .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;all&quot;</span>, <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0ab1c94ca2fbc3e78fc30069c8d0f01680">ZeroCallUsedRegsKind::All</a>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="keywordflow">if</span> (ZeroRegsKind == <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a72ef2b9b6965d078e3c7f95487a82d1c">ZeroCallUsedRegsKind::Skip</a>)</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> OnlyGPR = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(ZeroRegsKind) &amp; <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#a7992c63b4ae3ee7b2dd3906f9d3c302e">ONLY_GPR</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> OnlyUsed = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(ZeroRegsKind) &amp; <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#adf42edc9fd7799c3df53103cbb16bde9">ONLY_USED</a>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> OnlyArg = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(ZeroRegsKind) &amp; <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af5526e6aff0c01a52f69ea64772a8b50">ONLY_ARG</a>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> AllocatableSet(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#afa9e8234d75eca83a898e143f4b2502e">getAllocatableSet</a>(MF));</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="comment">// Mark all used registers.</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> UsedRegs(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>());</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">if</span> (OnlyUsed)</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <span class="comment">// skip debug instructions</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugInstr())</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;          <span class="keywordflow">if</span> (!MO.isReg())</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;          <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.getReg();</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;          <span class="keywordflow">if</span> (AllocatableSet[<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>] &amp;&amp; !MO.isImplicit() &amp;&amp;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;              (MO.isDef() || MO.isUse()))</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            UsedRegs.set(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      }</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="comment">// Get a list of registers that are used.</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> LiveIns(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>());</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1MachineBasicBlock_1_1RegisterMaskPair.html">MachineBasicBlock::RegisterMaskPair</a> &amp;LI : MF.front().liveins())</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    LiveIns.set(LI.PhysReg);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> RegsToZero(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>());</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> : AllocatableSet.set_bits()) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="comment">// Skip over fixed registers.</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac3a3709d3d48932e7d6e703391c6ebdf">isFixedRegister</a>(MF, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="comment">// Want only general purpose registers.</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">if</span> (OnlyGPR &amp;&amp; !<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a60fda2b22a00a8667e646fa8701d85b0">isGeneralPurposeRegister</a>(MF, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="comment">// Want only used registers.</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">if</span> (OnlyUsed &amp;&amp; !UsedRegs[<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>])</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="comment">// Want only registers used for arguments.</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">if</span> (OnlyArg) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="keywordflow">if</span> (OnlyUsed) {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="keywordflow">if</span> (!LiveIns[<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>])</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a87813a0063e0e5b22eb28ec01c5378e8">isArgumentRegister</a>(MF, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    }</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    RegsToZero.set(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="comment">// Don&#39;t clear registers that are live when leaving the function.</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0540de8a453a7229e35264e8edd4ac">terminators</a>()) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isReturn())</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <span class="keywordflow">if</span> (!MO.isReg())</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.getReg();</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="comment">// This picks up sibling registers (e.q. %al -&gt; %ah).</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Unit(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>); Unit.isValid(); ++Unit)</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;          RegsToZero.reset(*Unit);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a> SReg : <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#adb90b36bb8dc9eb671c9611a9016b161">sub_and_superregs_inclusive</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;          RegsToZero.reset(SReg);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="comment">// Don&#39;t need to clear registers that are used/clobbered by terminating</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// instructions.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF) {</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a82f5d244972c88ff03ee56d6c090ac70">isReturnBlock</a>())</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;         ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands()) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="keywordflow">if</span> (!MO.isReg())</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a> &amp;<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> :</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;             <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#adb90b36bb8dc9eb671c9611a9016b161">sub_and_superregs_inclusive</a>(MO.getReg()))</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;          RegsToZero.reset(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="comment">// Don&#39;t clear registers that must be preserved.</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a> *CSRegs = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a6801a273e861350b84268644b09a4783">getCalleeSavedRegs</a>(&amp;MF);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;       <a class="code" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a> CSReg = *CSRegs; ++CSRegs)</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> : <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#adb90b36bb8dc9eb671c9611a9016b161">sub_and_superregs_inclusive</a>(CSReg))</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      RegsToZero.reset(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> &amp;TFI = *MF.getSubtarget().getFrameLowering();</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a82f5d244972c88ff03ee56d6c090ac70">isReturnBlock</a>())</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#ad18f895742692e472cf662c230a58e53">emitZeroCallUsedRegs</a>(RegsToZero, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;}</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="comment">/// replaceFrameIndices - Replace all MO_FrameIndex operands with physical</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment">/// register references and actual offsets.</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> PEI::replaceFrameIndices(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>();</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> &amp;TFI = *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.getFrameLowering();</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="keywordflow">if</span> (!TFI.<a class="code" href="classllvm_1_1TargetFrameLowering.html#a6add5d4c2104f4ae4794984d3c256834">needsFrameIndexResolution</a>(MF))</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.getRegisterInfo();</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="comment">// Allow the target to determine this after knowing the frame size.</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  FrameIndexEliminationScavenging = (RS &amp;&amp; !FrameIndexVirtualScavenging) ||</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a8c7311bb1b923afbbca6558abdcaedca">requiresFrameIndexReplacementScavenging</a>(MF);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">// Store SPAdj at exit of a basic block.</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> SPState;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  SPState.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#aa22424ba23740b6a748e8d0c239b7e4c">getNumBlockIDs</a>());</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <a class="code" href="structllvm_1_1df__iterator__default__set.html">df_iterator_default_set&lt;MachineBasicBlock*&gt;</a> Reachable;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="comment">// Iterate over the reachable blocks in DFS order.</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> DFI = <a class="code" href="namespacellvm.html#a79d4face7022f4be1d51b785a83de44f">df_ext_begin</a>(&amp;MF, Reachable), DFE = <a class="code" href="namespacellvm.html#aaa67df70b3bc20ef65f8fe523c41da0e">df_ext_end</a>(&amp;MF, Reachable);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;       DFI != DFE; ++DFI) {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordtype">int</span> SPAdj = 0;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="comment">// Check the exit state of the DFS stack predecessor.</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (DFI.getPathLength() &gt;= 2) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *StackPred = DFI.getPath(DFI.getPathLength() - 2);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Reachable.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(StackPred) &amp;&amp;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;             <span class="stringliteral">&quot;DFS stack predecessor is already visited.\n&quot;</span>);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      SPAdj = SPState[StackPred-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()];</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = *DFI;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    replaceFrameIndices(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, MF, SPAdj);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    SPState[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getNumber()] = SPAdj;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="comment">// Handle the unreachable blocks.</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : MF) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">if</span> (Reachable.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      <span class="comment">// Already handled in DFS traversal.</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordtype">int</span> SPAdj = 0;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    replaceFrameIndices(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, MF, SPAdj);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;}</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="keywordtype">bool</span> PEI::replaceFrameIndexDebugInstr(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                                      <span class="keywordtype">unsigned</span> OpIdx, <span class="keywordtype">int</span> SPAdj) {</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue()) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpIdx);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugOperand(&amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) &amp;&amp;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;           <span class="stringliteral">&quot;Frame indices can only appear as a debug operand in a DBG_VALUE*&quot;</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;           <span class="stringliteral">&quot; machine instruction&quot;</span>);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordtype">unsigned</span> FrameIdx = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getIndex();</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>().<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(FrameIdx);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#af88a8f2328543f94aea3ba85d954fafa">getFrameIndexReference</a>(MF, FrameIdx, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.ChangeToRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span> <span class="comment">/*isDef*/</span>);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *DIExpr = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression();</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160; </div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="comment">// If we have a direct DBG_VALUE, and its location expression isn&#39;t</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="comment">// currently complex, then adding an offset will morph it into a</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="comment">// complex location that is interpreted as being a memory address.</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="comment">// This changes a pointer-valued variable to dereference that pointer,</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">// which is incorrect. Fix by adding DW_OP_stack_value.</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isNonListDebugValue()) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keywordtype">unsigned</span> PrependFlags = <a class="code" href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a4ce0a0358c0de36a6ea4413d7abcbca8">DIExpression::ApplyOffset</a>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isIndirectDebugValue() &amp;&amp; !DIExpr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a7926734793677673e68d8cff410552ec">isComplex</a>())</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        PrependFlags |= <a class="code" href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6ac12819115837830defd8e5b9e5d1fb36">DIExpression::StackValue</a>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <span class="comment">// If we have DBG_VALUE that is indirect and has a Implicit location</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="comment">// expression need to insert a deref before prepending a Memory</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="comment">// location expression. Also after doing this we change the DBG_VALUE</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="comment">// to be direct.</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isIndirectDebugValue() &amp;&amp; DIExpr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a40cd3c3332ecc579f7a92924714d6d5c">isImplicit</a>()) {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t, 2&gt;</a> Ops = {dwarf::DW_OP_deref_size, <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>};</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <span class="keywordtype">bool</span> WithStackValue = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        DIExpr = <a class="code" href="classllvm_1_1DIExpression.html#af3a48df3735933cf1621760019e5fd8c">DIExpression::prependOpcodes</a>(DIExpr, Ops, WithStackValue);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="comment">// Make the DBG_VALUE direct.</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugOffset().ChangeToRegister(0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      DIExpr = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac6859ef2a1c57ce668658e21fe90bfad">prependOffsetExpression</a>(DIExpr, PrependFlags, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      <span class="comment">// The debug operand at DebugOpIndex was a frame index at offset</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      <span class="comment">// `Offset`; now the operand has been replaced with the frame</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      <span class="comment">// register, we must add Offset with `register x, plus Offset`.</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordtype">unsigned</span> DebugOpIndex = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugOperandIndex(&amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t, 3&gt;</a> Ops;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#af2460aaecee28b4a96ea41286e8aa406">getOffsetOpcodes</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, Ops);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      DIExpr = <a class="code" href="classllvm_1_1DIExpression.html#a5f48305fa7d23161515c94bca7c2beb6">DIExpression::appendOpsToArg</a>(DIExpr, Ops, DebugOpIndex);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpressionOp().setMetadata(DIExpr);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugPHI()) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="comment">// Allow stack ref to continue onwards.</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="comment">// TODO: This code should be commoned with the code for</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="comment">// PATCHPOINT. There&#39;s no good reason for the difference in</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="comment">// implementation other than historical accident.  The only</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="comment">// remaining difference is the unconditional use of the stack</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <span class="comment">// pointer as the base register.</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == TargetOpcode::STATEPOINT) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue() || OpIdx == 0) &amp;&amp;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;           <span class="stringliteral">&quot;Frame indicies can only appear as the first operand of a &quot;</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;           <span class="stringliteral">&quot;DBG_VALUE machine instruction&quot;</span>);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpIdx + 1);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> refOffset = TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a9dec926cf53d7a5f44cdd642b011bc59">getFrameIndexReferencePreferSP</a>(</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        MF, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpIdx).getIndex(), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="comment">/*IgnoreSPUpdates*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!refOffset.<a class="code" href="classllvm_1_1StackOffset.html#ac92bd14c26009fdfdc00576604da950f">getScalable</a>() &amp;&amp;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;           <span class="stringliteral">&quot;Frame offsets with a scalable component are not supported&quot;</span>);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.setImm(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>.getImm() + refOffset.<a class="code" href="classllvm_1_1StackOffset.html#aeb11e994c5580c80bbb0951eb05f9c80">getFixed</a>() + SPAdj);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpIdx).ChangeToRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span> <span class="comment">/*isDef*/</span>);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;}</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="keywordtype">void</span> PEI::replaceFrameIndicesBackward(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                                      <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">int</span> &amp;SPAdj) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>() &amp;&amp;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;         <span class="stringliteral">&quot;getRegisterInfo() must be implemented!&quot;</span>);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160; </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  RS-&gt;enterBasicBlockEnd(*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">make_early_inc_range</a>(<a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160; </div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="comment">// Register scavenger backward step</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Step(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).isFI())</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <span class="keywordflow">if</span> (replaceFrameIndexDebugInstr(MF, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, SPAdj))</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="comment">// If this instruction has a FrameIndex operand, we need to</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      <span class="comment">// use that target machine register info object to eliminate</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <span class="comment">// it.</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160; </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="comment">// TRI.eliminateFrameIndex may lower the frame index to a sequence of</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="comment">// instructions. It also can remove/change instructions passed by the</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <span class="comment">// iterator and invalidate the iterator. We have to take care of this. For</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      <span class="comment">// that we support two iterators: *Step* - points to the position up to</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <span class="comment">// which the scavenger should scan by the next iteration to have liveness</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      <span class="comment">// information up to date. *Curr* - keeps track of the correct RS-&gt;MBBI -</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      <span class="comment">// the scan start point. It points to the currently processed instruction</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <span class="comment">// right before the frame lowering.</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="comment">// ITERATORS WORK AS FOLLOWS:</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <span class="comment">// *Step* is shifted one step back right before the frame lowering and</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      <span class="comment">// one step forward right after it. No matter how many instructions were</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="comment">// inserted, *Step* will be right after the position which is going to be</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      <span class="comment">// processed in the next iteration, thus, in the correct position for the</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <span class="comment">// scavenger to go up to.</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      <span class="comment">// *Curr* is shifted one step forward right before calling</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="comment">// TRI.eliminateFrameIndex and one step backward after. Thus, we make sure</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      <span class="comment">// it points right to the position that is the correct starting point for</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="comment">// the scavenger to scan.</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Curr = ++RS-&gt;getCurrentPosition();</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="comment">// Shift back</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      --Step;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="keywordtype">bool</span> Removed = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a8d65712ce0f166947f70c5ed53e05921">eliminateFrameIndex</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, SPAdj, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, RS);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="comment">// Restore to unify logic with a shift back that happens in the end of</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <span class="comment">// the outer loop.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      ++Step;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      RS-&gt;skipTo(--Curr);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      <span class="keywordflow">if</span> (Removed)</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    }</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="comment">// Shift it to make RS collect reg info up to the current instruction.</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordflow">if</span> (Step != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin())</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      Step--;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="comment">// Update register states.</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    RS-&gt;backward(Step);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;}</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160; </div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="keywordtype">void</span> PEI::replaceFrameIndices(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                              <span class="keywordtype">int</span> &amp;SPAdj) {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>() &amp;&amp;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;         <span class="stringliteral">&quot;getRegisterInfo() must be implemented!&quot;</span>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">if</span> (RS &amp;&amp; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a2fa9eb5340317858c536a9db2073b114">supportsBackwardScavenger</a>())</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="keywordflow">return</span> replaceFrameIndicesBackward(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, MF, SPAdj);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">if</span> (RS &amp;&amp; FrameIndexEliminationScavenging)</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    RS-&gt;enterBasicBlock(*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keywordtype">bool</span> InsideCallSequence = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end(); ) {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.isFrameInstr(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      InsideCallSequence = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.isFrameSetup(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      SPAdj += <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getSPAdjust(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a726ab02febbe34c8ecbc226cd8e4a2c1">eliminateCallFramePseudoInstr</a>(MF, *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordtype">bool</span> DoIncr = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordtype">bool</span> DidFinishLoop = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).isFI())</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordflow">if</span> (replaceFrameIndexDebugInstr(MF, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, SPAdj))</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      <span class="comment">// Some instructions (e.g. inline asm instructions) can have</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      <span class="comment">// multiple frame indices and/or cause eliminateFrameIndex</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="comment">// to insert more than one instruction. We need the register</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="comment">// scavenger to go through all of these instructions so that</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      <span class="comment">// it can update its register information. We keep the</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="comment">// iterator at the point before insertion so that we can</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      <span class="comment">// revisit them in full.</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <span class="keywordtype">bool</span> AtBeginning = (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin());</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      <span class="keywordflow">if</span> (!AtBeginning) --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160; </div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <span class="comment">// If this instruction has a FrameIndex operand, we need to</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="comment">// use that target machine register info object to eliminate</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="comment">// it.</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a8d65712ce0f166947f70c5ed53e05921">eliminateFrameIndex</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, SPAdj, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                              FrameIndexEliminationScavenging ?  RS : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="comment">// Reset the iterator if we were at the beginning of the BB.</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <span class="keywordflow">if</span> (AtBeginning) {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin();</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        DoIncr = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      DidFinishLoop = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="comment">// If we are looking at a call sequence, we need to keep track of</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="comment">// the SP adjustment made by each instruction in the sequence.</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="comment">// This includes both the frame setup/destroy pseudos (handled above),</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="comment">// as well as other instructions that have side effects w.r.t the SP.</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="comment">// Note that this must come after eliminateFrameIndex, because</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="comment">// if I itself referred to a frame index, we shouldn&#39;t count its own</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="comment">// adjustment.</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">if</span> (DidFinishLoop &amp;&amp; InsideCallSequence)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      SPAdj += <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getSPAdjust(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="keywordflow">if</span> (DoIncr &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end()) ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="comment">// Update register states.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">if</span> (RS &amp;&amp; FrameIndexEliminationScavenging &amp;&amp; DidFinishLoop)</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      RS-&gt;forward(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html_a2ae03c6da16f46a816d2cb1720603882"><div class="ttname"><a href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">llvm::StringSwitch::Case</a></div><div class="ttdeci">StringSwitch &amp; Case(StringLiteral S, T Value)</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00069">StringSwitch.h:69</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a42fa24a22318377b109f90d4e007e0a6"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a42fa24a22318377b109f90d4e007e0a6">llvm::TargetFrameLowering::orderFrameObjects</a></div><div class="ttdeci">virtual void orderFrameObjects(const MachineFunction &amp;MF, SmallVectorImpl&lt; int &gt; &amp;objectsToAllocate) const</div><div class="ttdoc">Order the symbols in the local stack frame.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00398">TargetFrameLowering.h:398</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab102f0f12dd38aeea5906b1d80c792ff"><div class="ttname"><a href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">llvm::alignTo</a></div><div class="ttdeci">uint64_t alignTo(uint64_t Size, Align A)</div><div class="ttdoc">Returns a multiple of A needed to store Size bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00155">Alignment.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_a3f36b7c907385d9b367f7b22a9fcc797"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a3f36b7c907385d9b367f7b22a9fcc797">llvm::TargetMachine::getOptLevel</a></div><div class="ttdeci">CodeGenOpt::Level getOptLevel() const</div><div class="ttdoc">Returns the optimization level: None, Less, Default, or Aggressive.</div><div class="ttdef"><b>Definition:</b> <a href="TargetMachine_8cpp_source.html#l00182">TargetMachine.cpp:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a99cdf1b99c0f1b7e1bf2111aa7d2eaa3"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a99cdf1b99c0f1b7e1bf2111aa7d2eaa3">llvm::MachineFrameInfo::isMaxCallFrameSizeComputed</a></div><div class="ttdeci">bool isMaxCallFrameSizeComputed() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00661">MachineFrameInfo.h:661</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a0509430713d587eba74220a8375948a8"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a0509430713d587eba74220a8375948a8">llvm::MachineFrameInfo::hasVarSizedObjects</a></div><div class="ttdeci">bool hasVarSizedObjects() const</div><div class="ttdoc">This method may be called any time after instruction selection is complete to determine if the stack ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00355">MachineFrameInfo.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a9e020cbab32f9a2ec3f777d603dd34baab049673bbc307f5502c8aba23224a605"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baab049673bbc307f5502c8aba23224a605">llvm::InlineAsm::MIOp_ExtraInfo</a></div><div class="ttdeci">@ MIOp_ExtraInfo</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00226">InlineAsm.h:226</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVAttrs_html_aa0758ad4201d85aef168792c57ef6379"><div class="ttname"><a href="namespacellvm_1_1RISCVAttrs.html#aa0758ad4201d85aef168792c57ef6379">llvm::RISCVAttrs::StackAlign</a></div><div class="ttdeci">StackAlign</div><div class="ttdef"><b>Definition:</b> <a href="RISCVAttributes_8h_source.html#l00037">RISCVAttributes.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_aacef05f16d3e71703f08bb4677e1d7a2"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#aacef05f16d3e71703f08bb4677e1d7a2">llvm::MachineFunctionProperties::hasProperty</a></div><div class="ttdeci">bool hasProperty(Property P) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00193">MachineFunction.h:193</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ac3a3709d3d48932e7d6e703391c6ebdf"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ac3a3709d3d48932e7d6e703391c6ebdf">llvm::TargetRegisterInfo::isFixedRegister</a></div><div class="ttdeci">virtual bool isFixedRegister(const MachineFunction &amp;MF, MCRegister PhysReg) const</div><div class="ttdoc">Returns true if PhysReg is a fixed register.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00582">TargetRegisterInfo.h:582</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7dc3069afa2ce5ea62ac2eb183e51c00"><div class="ttname"><a href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">llvm::none_of</a></div><div class="ttdeci">bool none_of(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::none_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01749">STLExtras.h:1749</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a5fc7747b752105f022c214bd2403eeee"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a5fc7747b752105f022c214bd2403eeee">llvm::MachineBasicBlock::isLiveIn</a></div><div class="ttdeci">bool isLiveIn(MCPhysReg Reg, LaneBitmask LaneMask=LaneBitmask::getAll()) const</div><div class="ttdoc">Return true if the specified register is in the live in set.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00601">MachineBasicBlock.cpp:601</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a6add5d4c2104f4ae4794984d3c256834"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a6add5d4c2104f4ae4794984d3c256834">llvm::TargetFrameLowering::needsFrameIndexResolution</a></div><div class="ttdeci">virtual bool needsFrameIndexResolution(const MachineFunction &amp;MF) const</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLoweringImpl_8cpp_source.html#l00064">TargetFrameLoweringImpl.cpp:64</a></div></div>
<div class="ttc" id="aTargetFrameLowering_8h_html"><div class="ttname"><a href="TargetFrameLowering_8h.html">TargetFrameLowering.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">llvm::AArch64PACKey::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00790">AArch64BaseInfo.h:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html">llvm::TargetFrameLowering</a></div><div class="ttdoc">Information about stack frame layout on the target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00043">TargetFrameLowering.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a60fda2b22a00a8667e646fa8701d85b0"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a60fda2b22a00a8667e646fa8701d85b0">llvm::TargetRegisterInfo::isGeneralPurposeRegister</a></div><div class="ttdeci">virtual bool isGeneralPurposeRegister(const MachineFunction &amp;MF, MCRegister PhysReg) const</div><div class="ttdoc">Returns true if PhysReg is a general purpose register.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00588">TargetRegisterInfo.h:588</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a87813a0063e0e5b22eb28ec01c5378e8"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a87813a0063e0e5b22eb28ec01c5378e8">llvm::TargetRegisterInfo::isArgumentRegister</a></div><div class="ttdeci">virtual bool isArgumentRegister(const MachineFunction &amp;MF, MCRegister PhysReg) const</div><div class="ttdoc">Returns true if PhysReg can be used as an argument to a function.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00576">TargetRegisterInfo.h:576</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_af01033da46e9a33a66573433a81eaad0"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#af01033da46e9a33a66573433a81eaad0">computeFreeStackSlots</a></div><div class="ttdeci">static void computeFreeStackSlots(MachineFrameInfo &amp;MFI, bool StackGrowsDown, unsigned MinCSFrameIndex, unsigned MaxCSFrameIndex, int64_t FixedCSEnd, BitVector &amp;StackBytesFree)</div><div class="ttdoc">Compute which bytes of fixed and callee-save stack area are unused and keep track of them in StackByt...</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00724">PrologEpilogInserter.cpp:724</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a1964207fae81f04966b2a9dcfc21cf7b"><div class="ttname"><a href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">llvm::BitVector::set</a></div><div class="ttdeci">BitVector &amp; set()</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00344">BitVector.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMTargetMachine_html_a9327e8baa7b8455d5ad7675b67a807ee"><div class="ttname"><a href="classllvm_1_1LLVMTargetMachine.html#a9327e8baa7b8455d5ad7675b67a807ee">llvm::LLVMTargetMachine::usesPhysRegsForValues</a></div><div class="ttdeci">virtual bool usesPhysRegsForValues() const</div><div class="ttdoc">True if the target uses physical regs (as nearly all targets do).</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00492">TargetMachine.h:492</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_ad34f7e3cd7a9add3ab2529e267b48004"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">llvm::TargetSubtargetInfo::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00095">TargetSubtargetInfo.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a35bbc237e4a675c5332103ac6e7dcce1"><div class="ttname"><a href="classllvm_1_1BitVector.html#a35bbc237e4a675c5332103ac6e7dcce1">llvm::BitVector::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear - Removes all bits from the bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00328">BitVector.h:328</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_aa19094c99ca405ec1efe38da727d27de"><div class="ttname"><a href="classllvm_1_1BitVector.html#aa19094c99ca405ec1efe38da727d27de">llvm::BitVector::none</a></div><div class="ttdeci">bool none() const</div><div class="ttdoc">none - Returns true if none of the bits are set.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00181">BitVector.h:181</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_a70e79e0e1053091d127f88e9ef08417f"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#a70e79e0e1053091d127f88e9ef08417f">AssignProtectedObjSet</a></div><div class="ttdeci">static void AssignProtectedObjSet(const StackObjSet &amp;UnassignedObjs, SmallSet&lt; int, 16 &gt; &amp;ProtectedObjs, MachineFrameInfo &amp;MFI, bool StackGrowsDown, int64_t &amp;Offset, Align &amp;MaxAlign)</div><div class="ttdoc">AssignProtectedObjSet - Helper function to assign large stack objects (i.e., those required to be clo...</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00828">PrologEpilogInserter.cpp:828</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a7d2f8efd82042b4cf611ba10e9e79ed0"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7d2f8efd82042b4cf611ba10e9e79ed0">llvm::MachineBasicBlock::isEHFuncletEntry</a></div><div class="ttdeci">bool isEHFuncletEntry() const</div><div class="ttdoc">Returns true if this is the entry block of an EH funclet.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00606">MachineBasicBlock.h:606</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0a72ef2b9b6965d078e3c7f95487a82d1c"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a72ef2b9b6965d078e3c7f95487a82d1c">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::Skip</a></div><div class="ttdeci">@ Skip</div></div>
<div class="ttc" id="aInlineAsm_8h_html"><div class="ttname"><a href="InlineAsm_8h.html">InlineAsm.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a4d834f9897d15e3a6349063b5d637cd8"><div class="ttname"><a href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">llvm::Function::getSubprogram</a></div><div class="ttdeci">DISubprogram * getSubprogram() const</div><div class="ttdoc">Get the attached subprogram.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01625">Metadata.cpp:1625</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a5990b78705882c9de507550bc81c40cb"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a5990b78705882c9de507550bc81c40cb">llvm::MachineFrameInfo::getUseLocalStackAllocationBlock</a></div><div class="ttdeci">bool getUseLocalStackAllocationBlock() const</div><div class="ttdoc">Get whether the local allocation blob should be allocated together or let PEI allocate the locals in ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00451">MachineFrameInfo.h:451</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_ad435005d9876513f43056c258958554a"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#ad435005d9876513f43056c258958554a">stashEntryDbgValues</a></div><div class="ttdeci">static void stashEntryDbgValues(MachineBasicBlock &amp;MBB, SavedDbgValuesMap &amp;EntryDbgValues)</div><div class="ttdoc">Stash DBG_VALUEs that describe parameters and which are placed at the start of the block.</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00185">PrologEpilogInserter.cpp:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_af946f316ed42f8b5eb99735a3b587ab5"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">llvm::MCRegisterInfo::getNumRegs</a></div><div class="ttdeci">unsigned getNumRegs() const</div><div class="ttdoc">Return the number of registers this target has (useful for sizing arrays holding per register informa...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00491">MCRegisterInfo.h:491</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_afa9e8234d75eca83a898e143f4b2502e"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#afa9e8234d75eca83a898e143f4b2502e">llvm::TargetRegisterInfo::getAllocatableSet</a></div><div class="ttdeci">BitVector getAllocatableSet(const MachineFunction &amp;MF, const TargetRegisterClass *RC=nullptr) const</div><div class="ttdoc">Returns a bitset indexed by register number indicating if a register is allocatable or not.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00256">TargetRegisterInfo.cpp:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkEmitter.html">llvm::MachineOptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00152">MachineOptimizationRemarkEmitter.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallDenseMap_html"><div class="ttname"><a href="classllvm_1_1SmallDenseMap.html">llvm::SmallDenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00880">DenseMap.h:880</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_af2460aaecee28b4a96ea41286e8aa406"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#af2460aaecee28b4a96ea41286e8aa406">llvm::TargetRegisterInfo::getOffsetOpcodes</a></div><div class="ttdeci">virtual void getOffsetOpcodes(const StackOffset &amp;Offset, SmallVectorImpl&lt; uint64_t &gt; &amp;Ops) const</div><div class="ttdoc">Gets the DWARF expression opcodes for Offset.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00647">TargetRegisterInfo.cpp:647</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html">llvm::MachineFunctionPass</a></div><div class="ttdoc">MachineFunctionPass - This class adapts the FunctionPass interface to allow convenient creation of pa...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8h_source.html#l00030">MachineFunctionPass.h:30</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="aMachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a82f5d244972c88ff03ee56d6c090ac70"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a82f5d244972c88ff03ee56d6c090ac70">llvm::MachineBasicBlock::isReturnBlock</a></div><div class="ttdeci">bool isReturnBlock() const</div><div class="ttdoc">Convenience function that returns true if the block ends in a return instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00892">MachineBasicBlock.h:892</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a87849514193302b75f50a8092f94b98a"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">llvm::TargetSubtargetInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - If register information is available, return it.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00127">TargetSubtargetInfo.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda20ddc463f96d806f369d56205ea205f5"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda20ddc463f96d806f369d56205ea205f5">llvm::CallingConv::HiPE</a></div><div class="ttdeci">@ HiPE</div><div class="ttdoc">Used by the High-Performance Erlang Compiler (HiPE).</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00053">CallingConv.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_aa22424ba23740b6a748e8d0c239b7e4c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aa22424ba23740b6a748e8d0c239b7e4c">llvm::MachineFunction::getNumBlockIDs</a></div><div class="ttdeci">unsigned getNumBlockIDs() const</div><div class="ttdoc">getNumBlockIDs - Return the number of MBB ID's allocated.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00815">MachineFunction.h:815</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="anamespacellvm_html_a32c02fb6e59b5cf99cfb63e696ec3145"><div class="ttname"><a href="namespacellvm.html#a32c02fb6e59b5cf99cfb63e696ec3145">llvm::createPrologEpilogInserterPass</a></div><div class="ttdeci">MachineFunctionPass * createPrologEpilogInserterPass()</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00161">PrologEpilogInserter.cpp:161</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0a019d1ca7d50cc54b995f60d456435e87"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a019d1ca7d50cc54b995f60d456435e87">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::Used</a></div><div class="ttdeci">@ Used</div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_adb90b36bb8dc9eb671c9611a9016b161"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#adb90b36bb8dc9eb671c9611a9016b161">llvm::MCRegisterInfo::sub_and_superregs_inclusive</a></div><div class="ttdeci">detail::concat_range&lt; const MCPhysReg, iterator_range&lt; mc_subreg_iterator &gt;, iterator_range&lt; mc_superreg_iterator &gt; &gt; sub_and_superregs_inclusive(MCRegister Reg) const</div><div class="ttdoc">Return an iterator range over all sub- and super-registers of Reg, including Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00338">MCRegisterInfo.h:338</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ae4d51e9e70d6a7fb366f2a09d10a0945"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ae4d51e9e70d6a7fb366f2a09d10a0945">llvm::MachineFrameInfo::setStackSize</a></div><div class="ttdeci">void setStackSize(uint64_t Size)</div><div class="ttdoc">Set the size of the stack.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00588">MachineFrameInfo.h:588</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a32859a24aa7a3be269855b989d92a4b4"><div class="ttname"><a href="classllvm_1_1BitVector.html#a32859a24aa7a3be269855b989d92a4b4">llvm::BitVector::resize</a></div><div class="ttdeci">void resize(unsigned N, bool t=false)</div><div class="ttdoc">resize - Grow or shrink the bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00334">BitVector.h:334</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a11d6e0b1aa8f7709f0330318b2cc5f1b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a11d6e0b1aa8f7709f0330318b2cc5f1b">llvm::MachineFrameInfo::isObjectPreAllocated</a></div><div class="ttdeci">bool isObjectPreAllocated(int ObjectIdx) const</div><div class="ttdoc">Return true if the object was pre-allocated into the local block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00463">MachineFrameInfo.h:463</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a5022e6cb3f5ea17bdad4785bab20dbf4"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a5022e6cb3f5ea17bdad4785bab20dbf4">llvm::TargetRegisterInfo::requiresFrameIndexScavenging</a></div><div class="ttdeci">virtual bool requiresFrameIndexScavenging(const MachineFunction &amp;MF) const</div><div class="ttdoc">Returns true if the target requires post PEI scavenging of registers for materializing frame index co...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00934">TargetRegisterInfo.h:934</a></div></div>
<div class="ttc" id="aTargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a3df888d2d0447ad8ff7b616b080d9f13a76435b76764cc940002d104e49c49c26"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a3df888d2d0447ad8ff7b616b080d9f13a76435b76764cc940002d104e49c49c26">llvm::MachineFrameInfo::SSPLK_LargeArray</a></div><div class="ttdeci">@ SSPLK_LargeArray</div><div class="ttdoc">Array or nested array &gt;= SSP-buffer-size.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00113">MachineFrameInfo.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ad1da788f7aa24c76efd74c005863ff13"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ad1da788f7aa24c76efd74c005863ff13">llvm::MachineFrameInfo::setMaxCallFrameSize</a></div><div class="ttdeci">void setMaxCallFrameSize(unsigned S)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00664">MachineFrameInfo.h:664</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a8f5533240c6722d987a2443cba42019d"><div class="ttname"><a href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">llvm::ore::NV</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::Argument NV</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00136">OptimizationRemarkEmitter.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a14ca8f1aa1c62b860504b766ad3b15f9"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a14ca8f1aa1c62b860504b766ad3b15f9">llvm::MachineFrameInfo::setAdjustsStack</a></div><div class="ttdeci">void setAdjustsStack(bool V)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00610">MachineFrameInfo.h:610</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a93daa364163220d478400b78d3485c15"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a93daa364163220d478400b78d3485c15">llvm::TargetFrameLowering::processFunctionBeforeFrameIndicesReplaced</a></div><div class="ttdeci">virtual void processFunctionBeforeFrameIndicesReplaced(MachineFunction &amp;MF, RegScavenger *RS=nullptr) const</div><div class="ttdoc">processFunctionBeforeFrameIndicesReplaced - This method is called immediately before MO_FrameIndex op...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00369">TargetFrameLowering.h:369</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html"><div class="ttname"><a href="classllvm_1_1DIExpression.html">llvm::DIExpression</a></div><div class="ttdoc">DWARF expression.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02611">DebugInfoMetadata.h:2611</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ac51e2d34abb79b72afef355fac525c76"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ac51e2d34abb79b72afef355fac525c76">llvm::MachineFrameInfo::getObjectIndexEnd</a></div><div class="ttdeci">int getObjectIndexEnd() const</div><div class="ttdoc">Return one past the maximum frame object index.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00410">MachineFrameInfo.h:410</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a7f0540de8a453a7229e35264e8edd4ac"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7f0540de8a453a7229e35264e8edd4ac">llvm::MachineBasicBlock::terminators</a></div><div class="ttdeci">iterator_range&lt; iterator &gt; terminators()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00329">MachineBasicBlock.h:329</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ac50604920b4866e09017dfff36632593"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ac50604920b4866e09017dfff36632593">llvm::MachineFrameInfo::getMaxCallFrameSize</a></div><div class="ttdeci">unsigned getMaxCallFrameSize() const</div><div class="ttdoc">Return the maximum size of a call frame that must be allocated for an outgoing function call.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00654">MachineFrameInfo.h:654</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html_a864fd57b4304ef933b3281d0ef85a88e"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00167">MachineFunctionPass.cpp:167</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aDepthFirstIterator_8h_html"><div class="ttname"><a href="DepthFirstIterator_8h.html">DepthFirstIterator.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00089">MachineLoopInfo.h:89</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind</a></div><div class="ttdeci">ZeroCallUsedRegsKind</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00099">CodeGen.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a258e7041d4a768f291a4023db2b898b5"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a258e7041d4a768f291a4023db2b898b5">llvm::TargetFrameLowering::getTransientStackAlign</a></div><div class="ttdeci">Align getTransientStackAlign() const</div><div class="ttdoc">getTransientStackAlignment - This method returns the number of bytes to which the stack pointer must ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00118">TargetFrameLowering.h:118</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a6801a273e861350b84268644b09a4783"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a6801a273e861350b84268644b09a4783">llvm::TargetRegisterInfo::getCalleeSavedRegs</a></div><div class="ttdeci">virtual const MCPhysReg * getCalleeSavedRegs(const MachineFunction *MF) const =0</div><div class="ttdoc">Return a null-terminated list of all of the callee-saved registers on this target.</div></div>
<div class="ttc" id="anamespacellvm_html_a79d4face7022f4be1d51b785a83de44f"><div class="ttname"><a href="namespacellvm.html#a79d4face7022f4be1d51b785a83de44f">llvm::df_ext_begin</a></div><div class="ttdeci">df_ext_iterator&lt; T, SetTy &gt; df_ext_begin(const T &amp;G, SetTy &amp;S)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00241">DepthFirstIterator.h:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a726ab02febbe34c8ecbc226cd8e4a2c1"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a726ab02febbe34c8ecbc226cd8e4a2c1">llvm::TargetFrameLowering::eliminateCallFramePseudoInstr</a></div><div class="ttdeci">virtual MachineBasicBlock::iterator eliminateCallFramePseudoInstr(MachineFunction &amp;MF, MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI) const</div><div class="ttdoc">This method is called during prolog/epilog code insertion to eliminate call frame setup and destroy p...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00383">TargetFrameLowering.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3b1dce1f3354a357fb9061bb7568a84e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3b1dce1f3354a357fb9061bb7568a84e">llvm::MachineBasicBlock::push_back</a></div><div class="ttdeci">void push_back(MachineInstr *MI)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00930">MachineBasicBlock.h:930</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a32bb6ffb3d46c78fdb7e48cf2f226e4c"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a32bb6ffb3d46c78fdb7e48cf2f226e4c">llvm::TargetFrameLowering::processFunctionBeforeFrameFinalized</a></div><div class="ttdeci">virtual void processFunctionBeforeFrameFinalized(MachineFunction &amp;MF, RegScavenger *RS=nullptr) const</div><div class="ttdoc">processFunctionBeforeFrameFinalized - This method is called immediately before the specified function...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00361">TargetFrameLowering.h:361</a></div></div>
<div class="ttc" id="anamespacellvm_html_a07eb6e84b522073e52d92dccf5015c01"><div class="ttname"><a href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">llvm::formatv</a></div><div class="ttdeci">auto formatv(const char *Fmt, Ts &amp;&amp;... Vals) -&gt; formatv_object&lt; decltype(std::make_tuple(detail::build_format_adapter(std::forward&lt; Ts &gt;(Vals))...))&gt;</div><div class="ttdef"><b>Definition:</b> <a href="FormatVariadic_8h_source.html#l00251">FormatVariadic.h:251</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab1063ce5e180c89490fae50511a46a29"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab1063ce5e180c89490fae50511a46a29">llvm::MachineFunction::front</a></div><div class="ttdeci">const MachineBasicBlock &amp; front() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00882">MachineFunction.h:882</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a5f48305fa7d23161515c94bca7c2beb6"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a5f48305fa7d23161515c94bca7c2beb6">llvm::DIExpression::appendOpsToArg</a></div><div class="ttdeci">static DIExpression * appendOpsToArg(const DIExpression *Expr, ArrayRef&lt; uint64_t &gt; Ops, unsigned ArgNo, bool StackValue=false)</div><div class="ttdoc">Create a copy of Expr by appending the given list of Ops to each instance of the operand DW_OP_LLVM_a...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01651">DebugInfoMetadata.cpp:1651</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdoc">TargetInstrInfo - Interface to description of machine instruction set.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00098">TargetInstrInfo.h:98</a></div></div>
<div class="ttc" id="aMachineLoopInfo_8h_html"><div class="ttname"><a href="MachineLoopInfo_8h.html">MachineLoopInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a6521d4d5560c03b2e6490883558b882c"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a6521d4d5560c03b2e6490883558b882c">llvm::TargetFrameLowering::getOffsetOfLocalArea</a></div><div class="ttdeci">int getOffsetOfLocalArea() const</div><div class="ttdoc">getOffsetOfLocalArea - This method returns the offset of the local area from the stack pointer on ent...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00135">TargetFrameLowering.h:135</a></div></div>
<div class="ttc" id="aTarget_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="anamespacellvm_html_aeed8ef055d0b853fb0b4c07bf7c96206"><div class="ttname"><a href="namespacellvm.html#aeed8ef055d0b853fb0b4c07bf7c96206">llvm::Failed</a></div><div class="ttdeci">testing::Matcher&lt; const detail::ErrorHolder &amp; &gt; Failed()</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8h_source.html#l00198">Error.h:198</a></div></div>
<div class="ttc" id="anamespacellvm_html_a54f54c42fcbebfb3d7e6bc1b5807e47c"><div class="ttname"><a href="namespacellvm.html#a54f54c42fcbebfb3d7e6bc1b5807e47c">llvm::PrologEpilogCodeInserterID</a></div><div class="ttdeci">char &amp; PrologEpilogCodeInserterID</div><div class="ttdoc">PrologEpilogCodeInserter - This pass inserts prolog and epilog code, and eliminates abstract frame re...</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00150">PrologEpilogInserter.cpp:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocalVariable_html"><div class="ttname"><a href="classllvm_1_1DILocalVariable.html">llvm::DILocalVariable</a></div><div class="ttdoc">Local variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03170">DebugInfoMetadata.h:3170</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31"><div class="ttname"><a href="namespacellvm.html#abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31">llvm::DS_Warning</a></div><div class="ttdeci">@ DS_Warning</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00051">DiagnosticInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a6472489551b8960cc115a93d95eef9f6a4ce0a0358c0de36a6ea4413d7abcbca8"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a4ce0a0358c0de36a6ea4413d7abcbca8">llvm::DIExpression::ApplyOffset</a></div><div class="ttdeci">@ ApplyOffset</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02875">DebugInfoMetadata.h:2875</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_adf42edc9fd7799c3df53103cbb16bde9"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#adf42edc9fd7799c3df53103cbb16bde9">llvm::ZeroCallUsedRegs::ONLY_USED</a></div><div class="ttdeci">const unsigned ONLY_USED</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00095">CodeGen.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a74d93035f53f5e8c2aaea5a8f307972d"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a74d93035f53f5e8c2aaea5a8f307972d">llvm::TargetFrameLowering::getStackAlign</a></div><div class="ttdeci">Align getStackAlign() const</div><div class="ttdoc">getStackAlignment - This method returns the number of bytes to which the stack pointer must be aligne...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00100">TargetFrameLowering.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a7e65d5ed1e6c20323a0d723c43a9f264"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a7e65d5ed1e6c20323a0d723c43a9f264">llvm::MachineFrameInfo::setCalleeSavedInfoValid</a></div><div class="ttdeci">void setCalleeSavedInfoValid(bool v)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00802">MachineFrameInfo.h:802</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a238c4b47777d9678c89b6ccfa9db504c"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a238c4b47777d9678c89b6ccfa9db504c">llvm::TargetFrameLowering::hasReservedCallFrame</a></div><div class="ttdeci">virtual bool hasReservedCallFrame(const MachineFunction &amp;MF) const</div><div class="ttdoc">hasReservedCallFrame - Under normal circumstances, when a frame pointer is not required,...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00287">TargetFrameLowering.h:287</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a53ca7cff9e929ba372da9780fdd44b02"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">llvm::MachineRegisterInfo::isReserved</a></div><div class="ttdeci">bool isReserved(MCRegister PhysReg) const</div><div class="ttdoc">isReserved - Returns true when PhysReg is a reserved register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00956">MachineRegisterInfo.h:956</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a3a7941c88f2fe0c9ae9a9c4b84b94316"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a3a7941c88f2fe0c9ae9a9c4b84b94316">llvm::TargetFrameLowering::inlineStackProbe</a></div><div class="ttdeci">virtual void inlineStackProbe(MachineFunction &amp;MF, MachineBasicBlock &amp;PrologueMBB) const</div><div class="ttdoc">Replace a StackProbe stub (if any) with the actual probe code inline.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00230">TargetFrameLowering.h:230</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_abf86e1383aec181a5a2d9967eb8070fd"><div class="ttname"><a href="classllvm_1_1BitVector.html#abf86e1383aec181a5a2d9967eb8070fd">llvm::BitVector::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">size - Returns the number of bits in this bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00152">BitVector.h:152</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_ab462c5bbf745633740ccfb2920040000"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#ab462c5bbf745633740ccfb2920040000">updateLiveness</a></div><div class="ttdeci">static void updateLiveness(MachineFunction &amp;MF)</div><div class="ttdoc">Helper function to update the liveness information for the callee-saved registers.</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00520">PrologEpilogInserter.cpp:520</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00045">TargetRegisterInfo.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a2fa9eb5340317858c536a9db2073b114"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a2fa9eb5340317858c536a9db2073b114">llvm::TargetRegisterInfo::supportsBackwardScavenger</a></div><div class="ttdeci">virtual bool supportsBackwardScavenger() const</div><div class="ttdoc">Process frame indices in reverse block order.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l01042">TargetRegisterInfo.h:1042</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a1881146f2dcc2ca57c9c5f77f938db9d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">llvm::StringRef::getAsInteger</a></div><div class="ttdeci">bool getAsInteger(unsigned Radix, T &amp;Result) const</div><div class="ttdoc">Parse the current string as an integer of the specified radix.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00469">StringRef.h:469</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_acc5e979e3fa3c222553de9b741c3e12b"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">llvm::MachineFunction::getProperties</a></div><div class="ttdeci">const MachineFunctionProperties &amp; getProperties() const</div><div class="ttdoc">Get the function properties.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00763">MachineFunction.h:763</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aTargetOpcodes_8h_html"><div class="ttname"><a href="TargetOpcodes_8h.html">TargetOpcodes.h</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a4c319db4fe05c27cfe55bd133a87414d"><div class="ttname"><a href="classllvm_1_1Function.html#a4c319db4fe05c27cfe55bd133a87414d">llvm::Function::getFnAttribute</a></div><div class="ttdeci">Attribute getFnAttribute(Attribute::AttrKind Kind) const</div><div class="ttdoc">Return the attribute for the given attribute kind.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00666">Function.cpp:666</a></div></div>
<div class="ttc" id="astructllvm_1_1MachineBasicBlock_1_1RegisterMaskPair_html"><div class="ttname"><a href="structllvm_1_1MachineBasicBlock_1_1RegisterMaskPair.html">llvm::MachineBasicBlock::RegisterMaskPair</a></div><div class="ttdoc">Pair of physical register and lane mask.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00100">MachineBasicBlock.h:100</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_a40ebb63853243050bfbf89f7d9c690fb"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#a40ebb63853243050bfbf89f7d9c690fb">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(PEI, DEBUG_TYPE, &quot;Prologue/Epilogue Insertion&quot;, false, false) INITIALIZE_PASS_END(PEI</div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html_aeb11e994c5580c80bbb0951eb05f9c80"><div class="ttname"><a href="classllvm_1_1StackOffset.html#aeb11e994c5580c80bbb0951eb05f9c80">llvm::StackOffset::getFixed</a></div><div class="ttdeci">static StackOffset getFixed(int64_t Fixed)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00045">TypeSize.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkAnalysis_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkAnalysis.html">llvm::MachineOptimizationRemarkAnalysis</a></div><div class="ttdoc">Diagnostic information for optimization analysis remarks.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00110">MachineOptimizationRemarkEmitter.h:110</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_a23de116e7a75d0aaae35a539d6a6118e"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#a23de116e7a75d0aaae35a539d6a6118e">scavengeStackSlot</a></div><div class="ttdeci">static bool scavengeStackSlot(MachineFrameInfo &amp;MFI, int FrameIdx, bool StackGrowsDown, Align MaxAlign, BitVector &amp;StackBytesFree)</div><div class="ttdoc">Assign frame object to an unused portion of the stack in the fixed stack object range.</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00768">PrologEpilogInserter.cpp:768</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a4e3f90e73775a2603db1bc5f1cf8c1f0"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a4e3f90e73775a2603db1bc5f1cf8c1f0">llvm::TargetFrameLowering::spillCalleeSavedRegisters</a></div><div class="ttdeci">virtual bool spillCalleeSavedRegisters(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, ArrayRef&lt; CalleeSavedInfo &gt; CSI, const TargetRegisterInfo *TRI) const</div><div class="ttdoc">spillCalleeSavedRegisters - Issues instruction(s) to spill all callee saved registers and returns tru...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00250">TargetFrameLowering.h:250</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a1abe15d564c2129b57090fd937aed8c5"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a1abe15d564c2129b57090fd937aed8c5">llvm::MachineFrameInfo::getRestorePoint</a></div><div class="ttdeci">MachineBasicBlock * getRestorePoint() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00806">MachineFrameInfo.h:806</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ad718aae0ce2a188fa35cb2781024ffc0"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ad718aae0ce2a188fa35cb2781024ffc0">llvm::MachineFrameInfo::getStackID</a></div><div class="ttdeci">uint8_t getStackID(int ObjectIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00731">MachineFrameInfo.h:731</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab499fb31e894a900402d0871eee39b75"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab499fb31e894a900402d0871eee39b75">llvm::MachineFunction::shouldSplitStack</a></div><div class="ttdeci">bool shouldSplitStack() const</div><div class="ttdoc">Should we be emitting segmented stack stuff for the function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00312">MachineFunction.cpp:312</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a3df888d2d0447ad8ff7b616b080d9f13ae58c4225f24cd64ac3846a49952e48e1"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a3df888d2d0447ad8ff7b616b080d9f13ae58c4225f24cd64ac3846a49952e48e1">llvm::MachineFrameInfo::SSPLK_None</a></div><div class="ttdeci">@ SSPLK_None</div><div class="ttdoc">Did not trigger a stack protector.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00111">MachineFrameInfo.h:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ad0b3d8447f88377b62d9c019f3c4e118"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00642">SmallVector.h:642</a></div></div>
<div class="ttc" id="aBitVector_8h_html"><div class="ttname"><a href="BitVector_8h.html">BitVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a38a536a09e7b29b14de24d3a0cb6f1b3"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a38a536a09e7b29b14de24d3a0cb6f1b3">llvm::MachineFrameInfo::getLocalFrameMaxAlign</a></div><div class="ttdeci">Align getLocalFrameMaxAlign() const</div><div class="ttdoc">Return the required alignment of the local object blob.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00447">MachineFrameInfo.h:447</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a14c39a24bf6ebbe339ae8a453c7fdd11"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a14c39a24bf6ebbe339ae8a453c7fdd11">llvm::MachineFrameInfo::getStackSize</a></div><div class="ttdeci">uint64_t getStackSize() const</div><div class="ttdoc">Return the number of bytes that must be allocated to hold all of the fixed size frame objects.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00585">MachineFrameInfo.h:585</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_adf98860d7f42290f873c82a981eb0ea6"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#adf98860d7f42290f873c82a981eb0ea6">llvm::MachineFrameInfo::getObjectOffset</a></div><div class="ttdeci">int64_t getObjectOffset(int ObjectIdx) const</div><div class="ttdoc">Return the assigned stack offset of the specified object from the incoming stack pointer.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00526">MachineFrameInfo.h:526</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00075">BitVector.h:75</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ae70474766f2a88bab5b2b77bcb22212b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ae70474766f2a88bab5b2b77bcb22212b">llvm::MachineFrameInfo::getObjectIndexBegin</a></div><div class="ttdeci">int getObjectIndexBegin() const</div><div class="ttdoc">Return the minimum frame object index.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00407">MachineFrameInfo.h:407</a></div></div>
<div class="ttc" id="aFormatVariadic_8h_html"><div class="ttname"><a href="FormatVariadic_8h.html">FormatVariadic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_aaf9ee38b9973681c1720aaf03af3a069"><div class="ttname"><a href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">llvm::SetVector::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Determine if the SetVector is empty or not.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00072">SetVector.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_a968930aea9d9efa8d46dd890fce75643"><div class="ttname"><a href="classllvm_1_1Attribute.html#a968930aea9d9efa8d46dd890fce75643">llvm::Attribute::getValueAsString</a></div><div class="ttdeci">StringRef getValueAsString() const</div><div class="ttdoc">Return the attribute's value as a string.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00312">Attributes.cpp:312</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_af5302d38d9a16eee93f13a1579c8773d"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#af5302d38d9a16eee93f13a1579c8773d">llvm::MachineFrameInfo::isDeadObjectIndex</a></div><div class="ttdeci">bool isDeadObjectIndex(int ObjectIdx) const</div><div class="ttdoc">Returns true if the specified index corresponds to a dead object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00745">MachineFrameInfo.h:745</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a8d65712ce0f166947f70c5ed53e05921"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a8d65712ce0f166947f70c5ed53e05921">llvm::TargetRegisterInfo::eliminateFrameIndex</a></div><div class="ttdeci">virtual bool eliminateFrameIndex(MachineBasicBlock::iterator MI, int SPAdj, unsigned FIOperandNum, RegScavenger *RS=nullptr) const =0</div><div class="ttdoc">This method must be overriden to eliminate abstract frame indices from instructions which may use the...</div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_ae308e6ee93ceb33e921d72d659230669"><div class="ttname"><a href="classllvm_1_1BitVector.html#ae308e6ee93ceb33e921d72d659230669">llvm::BitVector::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Tests whether there are no bits in this bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00149">BitVector.h:149</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0a96a2965a74546d1d432bc28cdaaacec8"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a96a2965a74546d1d432bc28cdaaacec8">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::AllArg</a></div><div class="ttdeci">@ AllArg</div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aMachineOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="MachineOptimizationRemarkEmitter_8h.html">MachineOptimizationRemarkEmitter.h</a></div><div class="ttdoc">===- MachineOptimizationRemarkEmitter.h - Opt Diagnostics -*- C++ -*-===//</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_ad85237c6c667e4713efe8921e9c32ac1a72f7d830dd5ddb30f06d8e9639558ac3"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a72f7d830dd5ddb30f06d8e9639558ac3">llvm::MachineFunctionProperties::Property::NoVRegs</a></div><div class="ttdeci">@ NoVRegs</div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a40cd3c3332ecc579f7a92924714d6d5c"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a40cd3c3332ecc579f7a92924714d6d5c">llvm::DIExpression::isImplicit</a></div><div class="ttdeci">bool isImplicit() const</div><div class="ttdoc">Return whether this is an implicit location description.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01408">DebugInfoMetadata.cpp:1408</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a87fa290ccfe9e8742e51e2ddb20f3754"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a87fa290ccfe9e8742e51e2ddb20f3754">llvm::TargetRegisterInfo::getSpillAlign</a></div><div class="ttdeci">Align getSpillAlign(const TargetRegisterClass &amp;RC) const</div><div class="ttdoc">Return the minimum required alignment in bytes for a spill slot for a register of this class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00291">TargetRegisterInfo.h:291</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ada9cfa89819e3c37187c86bf53bda1cc"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ada9cfa89819e3c37187c86bf53bda1cc">llvm::MachineFrameInfo::getLocalFrameObjectMap</a></div><div class="ttdeci">std::pair&lt; int, int64_t &gt; getLocalFrameObjectMap(int i) const</div><div class="ttdoc">Get the local offset mapping for a for an object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00425">MachineFrameInfo.h:425</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_afb28a4deafe2954b0534cc6399ce518b"><div class="ttname"><a href="classllvm_1_1Function.html#afb28a4deafe2954b0534cc6399ce518b">llvm::Function::hasFnAttribute</a></div><div class="ttdeci">bool hasFnAttribute(Attribute::AttrKind Kind) const</div><div class="ttdoc">Return true if the function has the attribute.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00640">Function.cpp:640</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ab3f912e64e60536d8369f1414b7ef380"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ab3f912e64e60536d8369f1414b7ef380">llvm::MachineFrameInfo::setCalleeSavedInfo</a></div><div class="ttdeci">void setCalleeSavedInfo(std::vector&lt; CalleeSavedInfo &gt; CSI)</div><div class="ttdoc">Used by prolog/epilog inserter to set the function's callee saved information.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00795">MachineFrameInfo.h:795</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ad0e6256f93a13938e8e59828d5677e32"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ad0e6256f93a13938e8e59828d5677e32">llvm::TargetRegisterInfo::getSpillSize</a></div><div class="ttdeci">unsigned getSpillSize(const TargetRegisterClass &amp;RC) const</div><div class="ttdoc">Return the size in bytes of the stack slot allocated to hold a spilled copy of a register from class ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00285">TargetRegisterInfo.h:285</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ad2270087c6b8d7061c3a5e83fb61c0a6"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ad2270087c6b8d7061c3a5e83fb61c0a6">llvm::MachineFrameInfo::CreateFixedSpillStackObject</a></div><div class="ttdeci">int CreateFixedSpillStackObject(uint64_t Size, int64_t SPOffset, bool IsImmutable=false)</div><div class="ttdoc">Create a spill slot at a fixed location on the stack.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8cpp_source.html#l00102">MachineFrameInfo.cpp:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a2a98f19750ba941ce791b75ca6d77e48"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">llvm::SmallSet::count</a></div><div class="ttdeci">size_type count(const T &amp;V) const</div><div class="ttdoc">count - Return 1 if the element is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00164">SmallSet.h:164</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0acb5e51f2df3a0397e5909475e70b52e1"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0acb5e51f2df3a0397e5909475e70b52e1">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::UsedArg</a></div><div class="ttdeci">@ UsedArg</div></div>
<div class="ttc" id="astructllvm_1_1WinEHFuncInfo_html"><div class="ttname"><a href="structllvm_1_1WinEHFuncInfo.html">llvm::WinEHFuncInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="WinEHFuncInfo_8h_source.html#l00090">WinEHFuncInfo.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a9e020cbab32f9a2ec3f777d603dd34baada6152484586a08fa711d4b0d44c87e5"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baada6152484586a08fa711d4b0d44c87e5">llvm::InlineAsm::Extra_IsAlignStack</a></div><div class="ttdeci">@ Extra_IsAlignStack</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00231">InlineAsm.h:231</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_aa306e1d00f65a9bb1030e66e9d195a69"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#aa306e1d00f65a9bb1030e66e9d195a69">llvm::MachineFrameInfo::getLocalFrameSize</a></div><div class="ttdeci">int64_t getLocalFrameSize() const</div><div class="ttdoc">Get the size of the local object blob.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00438">MachineFrameInfo.h:438</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a9284fd53296d2a2f8ae654d000971000"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">llvm::MachineFrameInfo::getObjectSize</a></div><div class="ttdeci">int64_t getObjectSize(int ObjectIdx) const</div><div class="ttdoc">Return the size of the specified object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00470">MachineFrameInfo.h:470</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a2c26e5a86cf5afe8585f9b327365b08b"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a2c26e5a86cf5afe8585f9b327365b08b">llvm::TargetFrameLowering::getCalleeSavedSpillSlots</a></div><div class="ttdeci">virtual const SpillSlot * getCalleeSavedSpillSlots(unsigned &amp;NumEntries) const</div><div class="ttdoc">getCalleeSavedSpillSlots - This method returns a pointer to an array of pairs, that contains an entry...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00176">TargetFrameLowering.h:176</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a5f494edc0a569c7fc9ff4181243be1ed"><div class="ttname"><a href="classllvm_1_1Function.html#a5f494edc0a569c7fc9ff4181243be1ed">llvm::Function::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const</div><div class="ttdoc">getCallingConv()/setCallingConv(CC) - These method get and set the calling convention of this functio...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00237">Function.h:237</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a6472489551b8960cc115a93d95eef9f6ac12819115837830defd8e5b9e5d1fb36"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6ac12819115837830defd8e5b9e5d1fb36">llvm::DIExpression::StackValue</a></div><div class="ttdeci">@ StackValue</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02878">DebugInfoMetadata.h:2878</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ac7c993678733273ea9d16db7ff87b2c6"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ac7c993678733273ea9d16db7ff87b2c6">llvm::MachineFrameInfo::hasStackProtectorIndex</a></div><div class="ttdeci">bool hasStackProtectorIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00360">MachineFrameInfo.h:360</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_ab5dbd43232cfd1d3e7ccc4ff15f7fb0a"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#ab5dbd43232cfd1d3e7ccc4ff15f7fb0a">llvm::TargetFrameLowering::adjustForSegmentedStacks</a></div><div class="ttdeci">virtual void adjustForSegmentedStacks(MachineFunction &amp;MF, MachineBasicBlock &amp;PrologueMBB) const</div><div class="ttdoc">Adjust the prologue to have the function use segmented stacks.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00238">TargetFrameLowering.h:238</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0a2602a5b1063650a0b028b7ce5c800be0"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a2602a5b1063650a0b028b7ce5c800be0">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::AllGPR</a></div><div class="ttdeci">@ AllGPR</div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_a298184c9a0cd665d7cfc55f6a59204a4"><div class="ttname"><a href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">llvm::MCPhysReg</a></div><div class="ttdeci">uint16_t MCPhysReg</div><div class="ttdoc">An unsigned integer type large enough to represent all physical registers, but not necessarily virtua...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegister_8h_source.html#l00021">MCRegister.h:21</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3003dfad609a8e6f0a38214ef5623841"><div class="ttname"><a href="namespacellvm.html#a3003dfad609a8e6f0a38214ef5623841">llvm::scavengeFrameVirtualRegs</a></div><div class="ttdeci">void scavengeFrameVirtualRegs(MachineFunction &amp;MF, RegScavenger &amp;RS)</div><div class="ttdoc">Replaces all frame index virtual registers with physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00764">RegisterScavenging.cpp:764</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html"><div class="ttname"><a href="classllvm_1_1RegScavenger.html">llvm::RegScavenger</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00034">RegisterScavenging.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a8320a54de0a273478de910ac3795058b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">llvm::MachineFrameInfo::getObjectAlign</a></div><div class="ttdeci">Align getObjectAlign(int ObjectIdx) const</div><div class="ttdoc">Return the alignment of the specified stack object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00484">MachineFrameInfo.h:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_af4e91c7e613771679b2f0e71f03b172d"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#af4e91c7e613771679b2f0e71f03b172d">llvm::TargetFrameLowering::restoreCalleeSavedRegisters</a></div><div class="ttdeci">virtual bool restoreCalleeSavedRegisters(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, MutableArrayRef&lt; CalleeSavedInfo &gt; CSI, const TargetRegisterInfo *TRI) const</div><div class="ttdoc">restoreCalleeSavedRegisters - Issues instruction(s) to restore all callee saved registers and returns...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00264">TargetFrameLowering.h:264</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="aMCRegisterInfo_8h_html"><div class="ttname"><a href="MCRegisterInfo_8h.html">MCRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a3cd29e7edbcaceb5834eaa7d089a5bc4"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a3cd29e7edbcaceb5834eaa7d089a5bc4">llvm::MachineFrameInfo::setObjectOffset</a></div><div class="ttdeci">void setObjectOffset(int ObjectIdx, int64_t SPOffset)</div><div class="ttdoc">Set the stack frame offset of the specified object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00560">MachineFrameInfo.h:560</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aMachineFunctionPass_8h_html"><div class="ttname"><a href="MachineFunctionPass_8h.html">MachineFunctionPass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a17b15f54419f33a561a4b6959b2d0969"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a17b15f54419f33a561a4b6959b2d0969">llvm::MachineFrameInfo::setRestorePoint</a></div><div class="ttdeci">void setRestorePoint(MachineBasicBlock *NewRestore)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00807">MachineFrameInfo.h:807</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_ab1fb67187fc37e569cc5171cbebba873"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">llvm::TargetMachine::Options</a></div><div class="ttdeci">TargetOptions Options</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00119">TargetMachine.h:119</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a4e2a78f58b7687954186ba5c219f846b"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a4e2a78f58b7687954186ba5c219f846b">llvm::TargetFrameLowering::adjustForHiPEPrologue</a></div><div class="ttdeci">virtual void adjustForHiPEPrologue(MachineFunction &amp;MF, MachineBasicBlock &amp;PrologueMBB) const</div><div class="ttdoc">Adjust the prologue to add Erlang Run-Time System (ERTS) specific code in the assembly prologue to ex...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00243">TargetFrameLowering.h:243</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a18fcadd076ad53e6df94e0ca7a80a9ef"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo &amp; getFrameInfo()</div><div class="ttdoc">getFrameInfo - Return the frame info object for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00688">MachineFunction.h:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4e21760f681d6f97f95c8414e7b83ea5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const</div><div class="ttdoc">Return the MachineFunction containing this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00265">MachineBasicBlock.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_aa76eab97e3072a1ebd4bf1ff00d19423"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#aa76eab97e3072a1ebd4bf1ff00d19423">llvm::TargetFrameLowering::getStackGrowthDirection</a></div><div class="ttdeci">StackDirection getStackGrowthDirection() const</div><div class="ttdoc">getStackGrowthDirection - Return the direction the stack grows</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00089">TargetFrameLowering.h:89</a></div></div>
<div class="ttc" id="aMachineModuleInfo_8h_html"><div class="ttname"><a href="MachineModuleInfo_8h.html">MachineModuleInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_ad08ed580345a51c50d9477dec1e65818"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(Register RegNo, unsigned flags=0, unsigned SubReg=0) const</div><div class="ttdoc">Add a new virtual register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00097">MachineInstrBuilder.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a6a2d9dbee947de1e611cb27ae01419fe"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a6a2d9dbee947de1e611cb27ae01419fe">llvm::TargetFrameLowering::assignCalleeSavedSpillSlots</a></div><div class="ttdeci">virtual bool assignCalleeSavedSpillSlots(MachineFunction &amp;MF, const TargetRegisterInfo *TRI, std::vector&lt; CalleeSavedInfo &gt; &amp;CSI, unsigned &amp;MinCSFrameIndex, unsigned &amp;MaxCSFrameIndex) const</div><div class="ttdoc">assignCalleeSavedSpillSlots - Allows target to override spill slot assignment logic.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00151">TargetFrameLowering.h:151</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CodeGenOpt_html_ad7e52174abb1cfb84238ad1ac475ee36a451bbac85aff02d070be3c17a6bef928"><div class="ttname"><a href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36a451bbac85aff02d070be3c17a6bef928">llvm::CodeGenOpt::None</a></div><div class="ttdeci">@ None</div><div class="ttdoc">-O0</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00058">CodeGen.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_abc98dd738845a40c876cbbf6f5e51f09"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#abc98dd738845a40c876cbbf6f5e51f09">llvm::MachineFrameInfo::setSavePoint</a></div><div class="ttdeci">void setSavePoint(MachineBasicBlock *NewSave)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00805">MachineFrameInfo.h:805</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl&lt; NodeRef &gt;::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="astructllvm_1_1df__iterator__default__set_html"><div class="ttname"><a href="structllvm_1_1df__iterator__default__set.html">llvm::df_iterator_default_set</a></div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00069">DepthFirstIterator.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_aa8d1d8d88835b75b05b14ab774785e8a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aa8d1d8d88835b75b05b14ab774785e8a">llvm::MachineBasicBlock::succ_empty</a></div><div class="ttdeci">bool succ_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00388">MachineBasicBlock.h:388</a></div></div>
<div class="ttc" id="aTargetOptions_8h_html"><div class="ttname"><a href="TargetOptions_8h.html">TargetOptions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_af3891aaee55272147e7bb2518842a753"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#af3891aaee55272147e7bb2518842a753">llvm::MachineFrameInfo::getCalleeSavedInfo</a></div><div class="ttdeci">const std::vector&lt; CalleeSavedInfo &gt; &amp; getCalleeSavedInfo() const</div><div class="ttdoc">Returns a reference to call saved info vector for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00787">MachineFrameInfo.h:787</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a7f0521fa2de44271fd4b909ea7351ef3"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">llvm::MachineBasicBlock::getFirstTerminator</a></div><div class="ttdeci">iterator getFirstTerminator()</div><div class="ttdoc">Returns an iterator to the first terminator instruction of this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00240">MachineBasicBlock.cpp:240</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3aa22d521bd6a7e6b9f35545dc7b0f1e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const</div><div class="ttdoc">MachineBasicBlocks are uniquely numbered at the function level, unless they're not in a MachineFuncti...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01143">MachineBasicBlock.h:1143</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a1ae307f415a8989475e3f7ddd6eefc8b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a1ae307f415a8989475e3f7ddd6eefc8b">llvm::MachineFrameInfo::CreateStackObject</a></div><div class="ttdeci">int CreateStackObject(uint64_t Size, Align Alignment, bool isSpillSlot, const AllocaInst *Alloca=nullptr, uint8_t ID=0)</div><div class="ttdoc">Create a new statically sized stack object, returning a nonnegative identifier to represent it.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8cpp_source.html#l00051">MachineFrameInfo.cpp:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4d2c96836214c1f13357ffb99125fb4a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">llvm::MachineBasicBlock::successors</a></div><div class="ttdeci">iterator_range&lt; succ_iterator &gt; successors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00396">MachineBasicBlock.h:396</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af11a6ebf7ab3c388234cb6d5378439a3"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">llvm::AnalysisUsage::setPreservesCFG</a></div><div class="ttdeci">void setPreservesCFG()</div><div class="ttdoc">This function should be called by the pass, iff they do not:</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00265">Pass.cpp:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a24dcd82cec9e61485b359b2027b3852a"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a24dcd82cec9e61485b359b2027b3852a">llvm::TargetFrameLowering::enableStackSlotScavenging</a></div><div class="ttdeci">virtual bool enableStackSlotScavenging(const MachineFunction &amp;MF) const</div><div class="ttdoc">Returns true if the stack slot holes in the fixed and callee-save stack area should be used when allo...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00196">TargetFrameLowering.h:196</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad5f691fdc1a09aaf6df5fef958b35a3d"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator MBBI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00075">AArch64SLSHardening.cpp:75</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkEmitterPass_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkEmitterPass.html">llvm::MachineOptimizationRemarkEmitterPass</a></div><div class="ttdoc">The analysis pass.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00220">MachineOptimizationRemarkEmitter.h:220</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a884f90190bca4bd354f2d5c91c264028"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">llvm::AnalysisUsage::addPreserved</a></div><div class="ttdeci">AnalysisUsage &amp; addPreserved()</div><div class="ttdoc">Add the specified Pass class to the set of analyses preserved by this pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00098">PassAnalysisSupport.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_ad18f895742692e472cf662c230a58e53"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#ad18f895742692e472cf662c230a58e53">llvm::TargetFrameLowering::emitZeroCallUsedRegs</a></div><div class="ttdeci">virtual void emitZeroCallUsedRegs(BitVector RegsToZero, MachineBasicBlock &amp;MBB) const</div><div class="ttdoc">emitZeroCallUsedRegs - Zeros out call used registers.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00212">TargetFrameLowering.h:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html"><div class="ttname"><a href="classllvm_1_1StackOffset.html">llvm::StackOffset</a></div><div class="ttdoc">StackOffset holds a fixed and a scalable offset in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00036">TypeSize.h:36</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af5526e6aff0c01a52f69ea64772a8b50"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af5526e6aff0c01a52f69ea64772a8b50">llvm::ZeroCallUsedRegs::ONLY_ARG</a></div><div class="ttdeci">const unsigned ONLY_ARG</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00097">CodeGen.h:97</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_abeeba0f33113492e53ff7aa9faebd9bd"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#abeeba0f33113492e53ff7aa9faebd9bd">Finalization</a></div><div class="ttdeci">Prologue Epilogue Insertion &amp;Frame Finalization</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00158">PrologEpilogInserter.cpp:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1DiagnosticInfoStackSize_html"><div class="ttname"><a href="classllvm_1_1DiagnosticInfoStackSize.html">llvm::DiagnosticInfoStackSize</a></div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00393">DiagnosticInfo.h:393</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ac08fc384e90a861a5934987272675ecc"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ac08fc384e90a861a5934987272675ecc">llvm::MachineFrameInfo::getUnsafeStackSize</a></div><div class="ttdeci">uint64_t getUnsafeStackSize() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00809">MachineFrameInfo.h:809</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_a7992c63b4ae3ee7b2dd3906f9d3c302e"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#a7992c63b4ae3ee7b2dd3906f9d3c302e">llvm::ZeroCallUsedRegs::ONLY_GPR</a></div><div class="ttdeci">const unsigned ONLY_GPR</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00096">CodeGen.h:96</a></div></div>
<div class="ttc" id="anamespacellvm_html_aaa67df70b3bc20ef65f8fe523c41da0e"><div class="ttname"><a href="namespacellvm.html#aaa67df70b3bc20ef65f8fe523c41da0e">llvm::df_ext_end</a></div><div class="ttdeci">df_ext_iterator&lt; T, SetTy &gt; df_ext_end(const T &amp;G, SetTy &amp;S)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00246">DepthFirstIterator.h:246</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html_ac92bd14c26009fdfdc00576604da950f"><div class="ttname"><a href="classllvm_1_1StackOffset.html#ac92bd14c26009fdfdc00576604da950f">llvm::StackOffset::getScalable</a></div><div class="ttdeci">static StackOffset getScalable(int64_t Scalable)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00046">TypeSize.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a23eb9fb6560e43fa6164b4ef35654628"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a23eb9fb6560e43fa6164b4ef35654628">llvm::MachineFrameInfo::getLocalFrameObjectCount</a></div><div class="ttdeci">int64_t getLocalFrameObjectCount() const</div><div class="ttdoc">Return the number of objects allocated into the local object block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00432">MachineFrameInfo.h:432</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a3836203fac855ac3c5718b701bd13ffd"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a3836203fac855ac3c5718b701bd13ffd">llvm::MachineFrameInfo::getMaxAlign</a></div><div class="ttdeci">Align getMaxAlign() const</div><div class="ttdoc">Return the alignment in bytes that this function must be aligned to, which is greater than the defaul...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00601">MachineFrameInfo.h:601</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acce9c12cc977a88dc7bc51493ce7681c"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acce9c12cc977a88dc7bc51493ce7681c">llvm::MachineBasicBlock::addLiveIn</a></div><div class="ttdeci">void addLiveIn(MCRegister PhysReg, LaneBitmask LaneMask=LaneBitmask::getAll())</div><div class="ttdoc">Adds the specified register as a live in.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00408">MachineBasicBlock.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a2cc8bb867c8949943ca7d88f1db31fde"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a2cc8bb867c8949943ca7d88f1db31fde">llvm::MachineFrameInfo::hasCalls</a></div><div class="ttdeci">bool hasCalls() const</div><div class="ttdoc">Return true if the current function has any function calls.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00613">MachineFrameInfo.h:613</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdeci">@ FrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00080">ISDOpcodes.h:80</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0ab1c94ca2fbc3e78fc30069c8d0f01680"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0ab1c94ca2fbc3e78fc30069c8d0f01680">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::All</a></div><div class="ttdeci">@ All</div></div>
<div class="ttc" id="aCallingConv_8h_html"><div class="ttname"><a href="CallingConv_8h.html">CallingConv.h</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_aa13f7212aaad31af4ed3adecd970d0d1"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#aa13f7212aaad31af4ed3adecd970d0d1">llvm::MachineFrameInfo::getSavePoint</a></div><div class="ttdeci">MachineBasicBlock * getSavePoint() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00804">MachineFrameInfo.h:804</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a15d63c566878e964c19139b2c76c0dab"><div class="ttname"><a href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">llvm::BitVector::test</a></div><div class="ttdeci">bool test(unsigned Idx) const</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00454">BitVector.h:454</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_af3a48df3735933cf1621760019e5fd8c"><div class="ttname"><a href="classllvm_1_1DIExpression.html#af3a48df3735933cf1621760019e5fd8c">llvm::DIExpression::prependOpcodes</a></div><div class="ttdeci">static DIExpression * prependOpcodes(const DIExpression *Expr, SmallVectorImpl&lt; uint64_t &gt; &amp;Ops, bool StackValue=false, bool EntryValue=false)</div><div class="ttdoc">Prepend DIExpr with the given opcodes and optionally turn it into a stack value.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01708">DebugInfoMetadata.cpp:1708</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a0e63dce45e27f16d0fe42d473c9598c8"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a0e63dce45e27f16d0fe42d473c9598c8">llvm::MachineFrameInfo::getObjectSSPLayout</a></div><div class="ttdeci">SSPLayoutKind getObjectSSPLayout(int ObjectIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00568">MachineFrameInfo.h:568</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0a6a88e6b065bde1744fb858e368a9cb6f"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a6a88e6b065bde1744fb858e368a9cb6f">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::AllGPRArg</a></div><div class="ttdeci">@ AllGPRArg</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_adbcdb952830bd8c5eeb802ab06dd5bb1"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">llvm::TargetSubtargetInfo::getFrameLowering</a></div><div class="ttdeci">virtual const TargetFrameLowering * getFrameLowering() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00096">TargetSubtargetInfo.h:96</a></div></div>
<div class="ttc" id="aclassllvm_1_1CalleeSavedInfo_html"><div class="ttname"><a href="classllvm_1_1CalleeSavedInfo.html">llvm::CalleeSavedInfo</a></div><div class="ttdoc">The CalleeSavedInfo class tracks the information need to locate where a callee saved register is in t...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00034">MachineFrameInfo.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a251859cb890a0bfde6bed13d7d844494"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a251859cb890a0bfde6bed13d7d844494">llvm::TargetFrameLowering::allocateScavengingFrameIndexesNearIncomingSP</a></div><div class="ttdeci">virtual bool allocateScavengingFrameIndexesNearIncomingSP(const MachineFunction &amp;MF) const</div><div class="ttdoc">Control the placement of special register scavenging spill slots when allocating a stack frame.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLoweringImpl_8cpp_source.html#l00133">TargetFrameLoweringImpl.cpp:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ae68d159179d37dc7969439d842e2644f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const LLVMTargetMachine &amp; getTarget() const</div><div class="ttdoc">getTarget - Return the target machine this machine code is compiled with</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00668">MachineFunction.h:668</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ab86af583f3ac779bb3f74071d36b5923"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ab86af583f3ac779bb3f74071d36b5923">llvm::MachineFrameInfo::isVariableSizedObjectIndex</a></div><div class="ttdeci">bool isVariableSizedObjectIndex(int ObjectIdx) const</div><div class="ttdoc">Returns true if the specified index corresponds to a variable sized object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00753">MachineFrameInfo.h:753</a></div></div>
<div class="ttc" id="aMachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac828d4f05c8f8b0a1d54c492f718e510"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac828d4f05c8f8b0a1d54c492f718e510">llvm::MachineFunction::getWinEHFuncInfo</a></div><div class="ttdeci">const WinEHFuncInfo * getWinEHFuncInfo() const</div><div class="ttdoc">getWinEHFuncInfo - Return information about how the current function uses Windows exception handling.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00716">MachineFunction.h:716</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_af88a8f2328543f94aea3ba85d954fafa"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#af88a8f2328543f94aea3ba85d954fafa">llvm::TargetFrameLowering::getFrameIndexReference</a></div><div class="ttdeci">virtual StackOffset getFrameIndexReference(const MachineFunction &amp;MF, int FI, Register &amp;FrameReg) const</div><div class="ttdoc">getFrameIndexReference - This method should return the base register and offset used to reference a f...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLoweringImpl_8cpp_source.html#l00049">TargetFrameLoweringImpl.cpp:49</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0a8843d86cb89f4fc7f81ea906ee936de5"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a8843d86cb89f4fc7f81ea906ee936de5">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::UsedGPR</a></div><div class="ttdeci">@ UsedGPR</div></div>
<div class="ttc" id="aDiagnosticInfo_8h_html"><div class="ttname"><a href="DiagnosticInfo_8h.html">DiagnosticInfo.h</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetFrameLowering_1_1SpillSlot_html_a8ce1bc3b3961fa413891667b1914a435"><div class="ttname"><a href="structllvm_1_1TargetFrameLowering_1_1SpillSlot.html#a8ce1bc3b3961fa413891667b1914a435">llvm::TargetFrameLowering::SpillSlot::Offset</a></div><div class="ttdeci">int Offset</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00053">TargetFrameLowering.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a7926734793677673e68d8cff410552ec"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a7926734793677673e68d8cff410552ec">llvm::DIExpression::isComplex</a></div><div class="ttdeci">bool isComplex() const</div><div class="ttdoc">Return whether the location is computed on the expression stack, meaning it cannot be a simple regist...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01428">DebugInfoMetadata.cpp:1428</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aaef0ea1effecfe203f257fa7bdee195f"><div class="ttname"><a href="namespacellvm.html#aaef0ea1effecfe203f257fa7bdee195f">llvm::initializePEIPass</a></div><div class="ttdeci">void initializePEIPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="anamespacellvm_1_1TargetStackID_html_a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85"><div class="ttname"><a href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5af2af9eb94ff1bc08308bc738d744ee85">llvm::TargetStackID::Default</a></div><div class="ttdeci">@ Default</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00028">TargetFrameLowering.h:28</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_abde55543f0bbb31306a6cd2af297fe9f"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#abde55543f0bbb31306a6cd2af297fe9f">assignCalleeSavedSpillSlots</a></div><div class="ttdeci">static void assignCalleeSavedSpillSlots(MachineFunction &amp;F, const BitVector &amp;SavedRegs, unsigned &amp;MinCSFrameIndex, unsigned &amp;MaxCSFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00425">PrologEpilogInserter.cpp:425</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_accf065359be98068cbbfb847f17adc68"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#accf065359be98068cbbfb847f17adc68">llvm::TargetFrameLowering::canSimplifyCallFramePseudos</a></div><div class="ttdeci">virtual bool canSimplifyCallFramePseudos(const MachineFunction &amp;MF) const</div><div class="ttdoc">canSimplifyCallFramePseudos - When possible, it's best to simplify the call frame pseudo ops before d...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00298">TargetFrameLowering.h:298</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetFrameLowering_1_1SpillSlot_html_a61869c498d78ea441c973525fbaf2af8"><div class="ttname"><a href="structllvm_1_1TargetFrameLowering_1_1SpillSlot.html#a61869c498d78ea441c973525fbaf2af8">llvm::TargetFrameLowering::SpillSlot::Reg</a></div><div class="ttdeci">unsigned Reg</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00052">TargetFrameLowering.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_ae0c5515e407c37a5d3f0b61811d7012f"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#ae0c5515e407c37a5d3f0b61811d7012f">llvm::TargetFrameLowering::targetHandlesStackFrameRounding</a></div><div class="ttdeci">virtual bool targetHandlesStackFrameRounding() const</div><div class="ttdoc">targetHandlesStackFrameRounding - Returns true if the target is responsible for rounding up the stack...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00184">TargetFrameLowering.h:184</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a91b0115deec3489d7e082a4a13f022ff"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a91b0115deec3489d7e082a4a13f022ff">llvm::MachineFrameInfo::isSpillSlotObjectIndex</a></div><div class="ttdeci">bool isSpillSlotObjectIndex(int ObjectIdx) const</div><div class="ttdoc">Returns true if the specified index corresponds to a spill slot.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00718">MachineFrameInfo.h:718</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a9941bbcdd7fadda44146fcc6f91af71f"><div class="ttname"><a href="classllvm_1_1BitVector.html#a9941bbcdd7fadda44146fcc6f91af71f">llvm::BitVector::find_next</a></div><div class="ttdeci">int find_next(unsigned Prev) const</div><div class="ttdoc">find_next - Returns the index of the next set bit following the &quot;Prev&quot; bit.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00301">BitVector.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a5109693c2cdda2a4118e7d588b51bfa6"><div class="ttname"><a href="classllvm_1_1BitVector.html#a5109693c2cdda2a4118e7d588b51bfa6">llvm::BitVector::reset</a></div><div class="ttdeci">BitVector &amp; reset()</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00385">BitVector.h:385</a></div></div>
<div class="ttc" id="aWinEHFuncInfo_8h_html"><div class="ttname"><a href="WinEHFuncInfo_8h.html">WinEHFuncInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0a10b3b11234c3484fd40d935810c976d9"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a10b3b11234c3484fd40d935810c976d9">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::UsedGPRArg</a></div><div class="ttdeci">@ UsedGPRArg</div></div>
<div class="ttc" id="aCodeGen_8h_html"><div class="ttname"><a href="CodeGen_8h.html">CodeGen.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a96e76d4f9381108bffdc265b4d666b16"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a96e76d4f9381108bffdc265b4d666b16">llvm::TargetRegisterInfo::hasStackRealignment</a></div><div class="ttdeci">bool hasStackRealignment(const MachineFunction &amp;MF) const</div><div class="ttdoc">True if stack realignment is required and still possible.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00975">TargetRegisterInfo.h:975</a></div></div>
<div class="ttc" id="aclassllvm_1_1HexagonInstrInfo_html_abd2d8a338da0066ab5a287c36dd7928d"><div class="ttname"><a href="classllvm_1_1HexagonInstrInfo.html#abd2d8a338da0066ab5a287c36dd7928d">llvm::HexagonInstrInfo::loadRegFromStackSlot</a></div><div class="ttdeci">void loadRegFromStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, Register DestReg, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI, Register VReg) const override</div><div class="ttdoc">Load the specified register of the given register class from the specified stack frame index.</div><div class="ttdef"><b>Definition:</b> <a href="HexagonInstrInfo_8cpp_source.html#l01004">HexagonInstrInfo.cpp:1004</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a3872756aa652373054074e7059a1b8f3"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a3872756aa652373054074e7059a1b8f3">llvm::MCRegisterInfo::superregs</a></div><div class="ttdeci">iterator_range&lt; mc_superreg_iterator &gt; superregs(MCRegister Reg) const</div><div class="ttdoc">Return an iterator range over all super-registers of Reg, excluding Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00322">MCRegisterInfo.h:322</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegUnitIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegUnitIterator.html">llvm::MCRegUnitIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00680">MCRegisterInfo.h:680</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00531">MachineInstrBuilder.h:531</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">The MachineFrameInfo class represents an abstract stack frame until prolog/epilog code is inserted.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00106">MachineFrameInfo.h:106</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_a04bc45ddbc56deb8b54dacaeea86df8f"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#a04bc45ddbc56deb8b54dacaeea86df8f">insertCSRRestores</a></div><div class="ttdeci">static void insertCSRRestores(MachineBasicBlock &amp;RestoreBlock, std::vector&lt; CalleeSavedInfo &gt; &amp;CSI)</div><div class="ttdoc">Insert restore code for the callee-saved registers used in the function.</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00619">PrologEpilogInserter.cpp:619</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17e04afcf0c5efeb0eb6a9a45287b5e4"><div class="ttname"><a href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, const MIMetadata &amp;MIMD, const MCInstrDesc &amp;MCID)</div><div class="ttdoc">Builder interface. Specify how to create the initial instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00357">MachineInstrBuilder.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a8f47136e199955eda121e3f5ae22d035"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a8f47136e199955eda121e3f5ae22d035">llvm::TargetRegisterInfo::requiresRegisterScavenging</a></div><div class="ttdeci">virtual bool requiresRegisterScavenging(const MachineFunction &amp;MF) const</div><div class="ttdoc">Returns true if the target requires (and can make use of) the register scavenger.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00922">TargetRegisterInfo.h:922</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_a61e27cf21f938d341d13395bb4e17493"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#a61e27cf21f938d341d13395bb4e17493">insertCSRSaves</a></div><div class="ttdeci">static void insertCSRSaves(MachineBasicBlock &amp;SaveBlock, ArrayRef&lt; CalleeSavedInfo &gt; CSI)</div><div class="ttdoc">Insert spill code for the callee-saved registers used in the function.</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00592">PrologEpilogInserter.cpp:592</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="aMachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a3df888d2d0447ad8ff7b616b080d9f13adec9480be1bffa4bb7a4ff2352b371f0"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a3df888d2d0447ad8ff7b616b080d9f13adec9480be1bffa4bb7a4ff2352b371f0">llvm::MachineFrameInfo::SSPLK_AddrOf</a></div><div class="ttdeci">@ SSPLK_AddrOf</div><div class="ttdoc">The address of this allocation is exposed and triggered protection.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00117">MachineFrameInfo.h:117</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a2da3bac3ad70ccb97150626385ebd6a7"><div class="ttname"><a href="classllvm_1_1BitVector.html#a2da3bac3ad70ccb97150626385ebd6a7">llvm::BitVector::find_first</a></div><div class="ttdeci">int find_first() const</div><div class="ttdoc">find_first - Returns the index of the first set bit, -1 if none of the bits are set.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00293">BitVector.h:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00074">PrologEpilogInserter.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a3df888d2d0447ad8ff7b616b080d9f13a647d449df7ecda0f9add6d04209380ed"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a3df888d2d0447ad8ff7b616b080d9f13a647d449df7ecda0f9add6d04209380ed">llvm::MachineFrameInfo::SSPLK_SmallArray</a></div><div class="ttdeci">@ SSPLK_SmallArray</div><div class="ttdoc">Array or nested array &lt; SSP-buffer-size.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00115">MachineFrameInfo.h:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetOptions_html_a3365678cbab08add568b0a7edb28fb09"><div class="ttname"><a href="classllvm_1_1TargetOptions.html#a3365678cbab08add568b0a7edb28fb09">llvm::TargetOptions::StackSymbolOrdering</a></div><div class="ttdeci">unsigned StackSymbolOrdering</div><div class="ttdoc">StackSymbolOrdering - When true, this will allow CodeGen to order the local stack symbols (for code s...</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00227">TargetOptions.h:227</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aMachineOperand_8h_html"><div class="ttname"><a href="MachineOperand_8h.html">MachineOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a453c74e2daac0745b53f8b31c11fc50cad1fc7c9d0bae5bf76a67d2d26ce99c1a"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a453c74e2daac0745b53f8b31c11fc50cad1fc7c9d0bae5bf76a67d2d26ce99c1a">llvm::TargetFrameLowering::StackGrowsDown</a></div><div class="ttdeci">@ StackGrowsDown</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00047">TargetFrameLowering.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html"><div class="ttname"><a href="classllvm_1_1StringSwitch.html">llvm::StringSwitch</a></div><div class="ttdoc">A switch()-like statement whose cases are string literals.</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00044">StringSwitch.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a5ee88eb786413b2cf541122aa749392c"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a5ee88eb786413b2cf541122aa749392c">llvm::MachineFrameInfo::getStackProtectorIndex</a></div><div class="ttdeci">int getStackProtectorIndex() const</div><div class="ttdoc">Return the index for the stack protector object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00358">MachineFrameInfo.h:358</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_af2cae7511277edd7755e6f4d4e179d6c"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#af2cae7511277edd7755e6f4d4e179d6c">llvm::TargetFrameLowering::emitPrologue</a></div><div class="ttdeci">virtual void emitPrologue(MachineFunction &amp;MF, MachineBasicBlock &amp;MBB) const =0</div><div class="ttdoc">emitProlog/emitEpilog - These methods insert prolog and epilog code into the function.</div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a2f26766f4dcfa6457ba405584a34d5c3"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a2f26766f4dcfa6457ba405584a34d5c3">llvm::TargetFrameLowering::determineCalleeSaves</a></div><div class="ttdeci">virtual void determineCalleeSaves(MachineFunction &amp;MF, BitVector &amp;SavedRegs, RegScavenger *RS=nullptr) const</div><div class="ttdoc">This method determines which of the registers reported by TargetRegisterInfo::getCalleeSavedRegs() sh...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLoweringImpl_8cpp_source.html#l00082">TargetFrameLoweringImpl.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a9dec926cf53d7a5f44cdd642b011bc59"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a9dec926cf53d7a5f44cdd642b011bc59">llvm::TargetFrameLowering::getFrameIndexReferencePreferSP</a></div><div class="ttdeci">virtual StackOffset getFrameIndexReferencePreferSP(const MachineFunction &amp;MF, int FI, Register &amp;FrameReg, bool IgnoreSPUpdates) const</div><div class="ttdoc">Same as getFrameIndexReference, except that the stack pointer (as opposed to the frame pointer) will ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00320">TargetFrameLowering.h:320</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a19e260b3bbf8fad8480d151e11919836"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a19e260b3bbf8fad8480d151e11919836">llvm::MachineFrameInfo::adjustsStack</a></div><div class="ttdeci">bool adjustsStack() const</div><div class="ttdoc">Return true if this function adjusts the stack  e.g., when calling another function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00609">MachineFrameInfo.h:609</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a17287afec9c4e572033dc4d1d6e11367"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a17287afec9c4e572033dc4d1d6e11367">llvm::TargetRegisterInfo::getMinimalPhysRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getMinimalPhysRegClass(MCRegister Reg, MVT VT=MVT::Other) const</div><div class="ttdoc">Returns the Register Class of a physical register of the given type, picking the most sub register cl...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00212">TargetRegisterInfo.cpp:212</a></div></div>
<div class="ttc" id="aRegisterScavenging_8h_html"><div class="ttname"><a href="RegisterScavenging_8h.html">RegisterScavenging.h</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdoc">DominatorTree Class - Concrete subclass of DominatorTreeBase that is used to compute a normal dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00051">MachineDominators.h:51</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a12d7286898851b396d8fb5fb78db2deb"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a12d7286898851b396d8fb5fb78db2deb">llvm::TargetFrameLowering::emitEpilogue</a></div><div class="ttdeci">virtual void emitEpilogue(MachineFunction &amp;MF, MachineBasicBlock &amp;MBB) const =0</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetFrameLowering_1_1SpillSlot_html"><div class="ttname"><a href="structllvm_1_1TargetFrameLowering_1_1SpillSlot.html">llvm::TargetFrameLowering::SpillSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00051">TargetFrameLowering.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_aa781dc3eb971ed5ccc75be17b3c2a9d1"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#aa781dc3eb971ed5ccc75be17b3c2a9d1">llvm::TargetRegisterInfo::hasReservedSpillSlot</a></div><div class="ttdeci">virtual bool hasReservedSpillSlot(const MachineFunction &amp;MF, Register Reg, int &amp;FrameIdx) const</div><div class="ttdoc">Return true if target has reserved a spill slot in the stack frame of the given function for the spec...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00957">TargetRegisterInfo.h:957</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="aPrologEpilogInserter_8cpp_html_a7a72b426a146f931681039777ba2bbc5"><div class="ttname"><a href="PrologEpilogInserter_8cpp.html#a7a72b426a146f931681039777ba2bbc5">AdjustStackOffset</a></div><div class="ttdeci">static void AdjustStackOffset(MachineFrameInfo &amp;MFI, int FrameIdx, bool StackGrowsDown, int64_t &amp;Offset, Align &amp;MaxAlign)</div><div class="ttdoc">AdjustStackOffset - Helper function used to adjust the stack frame offset.</div><div class="ttdef"><b>Definition:</b> <a href="PrologEpilogInserter_8cpp_source.html#l00693">PrologEpilogInserter.cpp:693</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ac6859ef2a1c57ce668658e21fe90bfad"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ac6859ef2a1c57ce668658e21fe90bfad">llvm::TargetRegisterInfo::prependOffsetExpression</a></div><div class="ttdeci">DIExpression * prependOffsetExpression(const DIExpression *Expr, unsigned PrependFlags, const StackOffset &amp;Offset) const</div><div class="ttdoc">Prepends a DWARF expression for Offset to DIExpression Expr.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00654">TargetRegisterInfo.cpp:654</a></div></div>
<div class="ttc" id="aclassllvm_1_1HexagonInstrInfo_html_a230837b86f36384876568b3bdb4fdafb"><div class="ttname"><a href="classllvm_1_1HexagonInstrInfo.html#a230837b86f36384876568b3bdb4fdafb">llvm::HexagonInstrInfo::storeRegToStackSlot</a></div><div class="ttdeci">void storeRegToStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, Register SrcReg, bool isKill, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI, Register VReg) const override</div><div class="ttdoc">Store the specified register of the given register class to the specified stack frame index.</div><div class="ttdef"><b>Definition:</b> <a href="HexagonInstrInfo_8cpp_source.html#l00956">HexagonInstrInfo.cpp:956</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aMachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegister_html"><div class="ttname"><a href="classllvm_1_1MCRegister.html">llvm::MCRegister</a></div><div class="ttdoc">Wrapper class representing physical registers. Should be passed by value.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegister_8h_source.html#l00024">MCRegister.h:24</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a8c7311bb1b923afbbca6558abdcaedca"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a8c7311bb1b923afbbca6558abdcaedca">llvm::TargetRegisterInfo::requiresFrameIndexReplacementScavenging</a></div><div class="ttdeci">virtual bool requiresFrameIndexReplacementScavenging(const MachineFunction &amp;MF) const</div><div class="ttdoc">Returns true if the target requires using the RegScavenger directly for frame elimination despite usi...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00940">TargetRegisterInfo.h:940</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a46d29699ee79b3a3d7359278f6bab01c"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a46d29699ee79b3a3d7359278f6bab01c">llvm::DIExpression::fragmentsOverlap</a></div><div class="ttdeci">static bool fragmentsOverlap(const FragmentInfo &amp;A, const FragmentInfo &amp;B)</div><div class="ttdoc">Check if fragments overlap between a pair of FragmentInfos.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02966">DebugInfoMetadata.h:2966</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:56:54 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
