<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Vectorize/VPRecipeBuilder.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_acb975f027bc8cf760392318543d920a.html">Vectorize</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">VPRecipeBuilder.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="VPRecipeBuilder_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- VPRecipeBuilder.h - Helper class to build recipes --------*- C++ -*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#ifndef LLVM_TRANSFORMS_VECTORIZE_VPRECIPEBUILDER_H</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#define LLVM_TRANSFORMS_VECTORIZE_VPRECIPEBUILDER_H</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopVectorizationPlanner_8h.html">LoopVectorizationPlanner.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VPlan_8h.html">VPlan.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PointerUnion_8h.html">llvm/ADT/PointerUnion.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">class </span>LoopVectorizationLegality;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">class </span>LoopVectorizationCostModel;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">class </span>TargetLibraryInfo;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="namespacellvm.html#abb1bf067b7fbd245170aa9c78e8ef8e9">   24</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1PointerUnion.html">VPRecipeOrVPValueTy</a> = <a class="code" href="classllvm_1_1PointerUnion.html">PointerUnion&lt;VPRecipeBase *, VPValue *&gt;</a>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/// Helper class to create VPRecipies from IR instructions.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="classllvm_1_1VPRecipeBuilder.html">   27</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1VPRecipeBuilder.html">VPRecipeBuilder</a> {<span class="comment"></span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">  /// The loop that we evaluate.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Loop.html">Loop</a> *OrigLoop;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">  /// Target Library Info.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">  /// The legality analysis.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1LoopVectorizationLegality.html">LoopVectorizationLegality</a> *Legal;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">  /// The profitablity analysis.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1LoopVectorizationCostModel.html">LoopVectorizationCostModel</a> &amp;CM;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html">PredicatedScalarEvolution</a> &amp;PSE;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="classllvm_1_1VPBuilder.html">VPBuilder</a> &amp;Builder;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">  /// When we if-convert we need to create edge masks. We have to cache values</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">  /// so that we don&#39;t end up with exponential recursion/IR. Note that</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">  /// if-conversion currently takes place during VPlan-construction, so these</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">  /// caches are only used at that stage.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span>  <span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">EdgeMaskCacheTy</a> =</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;std::pair&lt;BasicBlock *, BasicBlock *&gt;</a>, <a class="code" href="classllvm_1_1VPValue.html">VPValue</a> *&gt;;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">BlockMaskCacheTy</a> = <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, VPValue *&gt;</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">EdgeMaskCacheTy</a> EdgeMaskCache;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">BlockMaskCacheTy</a> BlockMaskCache;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="comment">// VPlan-VPlan transformations support: Hold a mapping from ingredients to</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="comment">// their recipe. To save on memory, only do so for selected ingredients,</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// marked by having a nullptr entry in this map.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, VPRecipeBase *&gt;</a> Ingredient2Recipe;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">  /// Cross-iteration reduction &amp; first-order recurrence phis for which we need</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">  /// to add the incoming value from the backedge after all recipes have been</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">  /// created.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;VPHeaderPHIRecipe *, 4&gt;</a> PhisToFix;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">  /// Check if \p I can be widened at the start of \p Range and possibly</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">  /// decrease the range such that the returned value holds for the entire \p</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">  /// Range. The function should not be called for memory instructions or calls.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> shouldWiden(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="structllvm_1_1VFRange.html">VFRange</a> &amp;Range) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">  /// Check if the load or store instruction \p I should widened for \p</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">  /// Range.Start and potentially masked. Such instructions are handled by a</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">  /// recipe that takes an additional VPInstruction for the mask.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPRecipeBase.html">VPRecipeBase</a> *tryToWidenMemory(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;VPValue *&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                 <a class="code" href="structllvm_1_1VFRange.html">VFRange</a> &amp;Range, <a class="code" href="namespacellvm.html#a783ee2076d6b2986b8c54287d871e5fe">VPlanPtr</a> &amp;Plan);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">  /// Check if an induction recipe should be constructed for \p Phi. If so build</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">  /// and return it. If not, return null.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPRecipeBase.html">VPRecipeBase</a> *tryToOptimizeInductionPHI(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                          <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;VPValue *&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                          <a class="code" href="classllvm_1_1VPlan.html">VPlan</a> &amp;Plan, <a class="code" href="structllvm_1_1VFRange.html">VFRange</a> &amp;Range);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">  /// Optimize the special case where the operand of \p I is a constant integer</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">  /// induction variable.</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPWidenIntOrFpInductionRecipe.html">VPWidenIntOrFpInductionRecipe</a> *</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  tryToOptimizeInductionTruncate(<a class="code" href="classllvm_1_1TruncInst.html">TruncInst</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;VPValue *&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                 <a class="code" href="structllvm_1_1VFRange.html">VFRange</a> &amp;Range, <a class="code" href="classllvm_1_1VPlan.html">VPlan</a> &amp;Plan);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">  /// Handle non-loop phi nodes. Return a VPValue, if all incoming values match</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">  /// or a new VPBlendRecipe otherwise. Currently all such phi nodes are turned</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">  /// into a sequence of select instructions as the vectorizer currently</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">  /// performs full if-conversion.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1PointerUnion.html">VPRecipeOrVPValueTy</a> tryToBlend(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;VPValue *&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                 <a class="code" href="namespacellvm.html#a783ee2076d6b2986b8c54287d871e5fe">VPlanPtr</a> &amp;Plan);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">  /// Handle call instructions. If \p CI can be widened for \p Range.Start,</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">  /// return a new VPWidenCallRecipe. Range.End may be decreased to ensure same</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">  /// decision from \p Range.Start to \p Range.End.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPWidenCallRecipe.html">VPWidenCallRecipe</a> *tryToWidenCall(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;VPValue *&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                    <a class="code" href="structllvm_1_1VFRange.html">VFRange</a> &amp;Range, <a class="code" href="namespacellvm.html#a783ee2076d6b2986b8c54287d871e5fe">VPlanPtr</a> &amp;Plan) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">  /// Check if \p I has an opcode that can be widened and return a VPWidenRecipe</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">  /// if it can. The function should only be called if the cost-model indicates</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">  /// that widening should be performed.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPRecipeBase.html">VPRecipeBase</a> *tryToWiden(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;VPValue *&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                           <a class="code" href="classllvm_1_1VPBasicBlock.html">VPBasicBlock</a> *VPBB, <a class="code" href="namespacellvm.html#a783ee2076d6b2986b8c54287d871e5fe">VPlanPtr</a> &amp;Plan);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">  /// Return a VPRecipeOrValueTy with VPRecipeBase * being set. This can be used to force the use as VPRecipeBase* for recipe sub-types that also inherit from VPValue.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1PointerUnion.html">VPRecipeOrVPValueTy</a> toVPRecipeResult(<a class="code" href="classllvm_1_1VPRecipeBase.html">VPRecipeBase</a> *R)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> R; }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classllvm_1_1VPRecipeBuilder.html#a22eb7858148763de9b740405a281e6d6">  110</a></span>&#160;  <a class="code" href="classllvm_1_1VPRecipeBuilder.html#a22eb7858148763de9b740405a281e6d6">VPRecipeBuilder</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *OrigLoop, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                  <a class="code" href="classllvm_1_1LoopVectorizationLegality.html">LoopVectorizationLegality</a> *Legal,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                  <a class="code" href="classllvm_1_1LoopVectorizationCostModel.html">LoopVectorizationCostModel</a> &amp;CM,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                  <a class="code" href="classllvm_1_1PredicatedScalarEvolution.html">PredicatedScalarEvolution</a> &amp;PSE, <a class="code" href="classllvm_1_1VPBuilder.html">VPBuilder</a> &amp;Builder)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      : OrigLoop(OrigLoop), TLI(TLI), <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">Legal</a>(<a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">Legal</a>), CM(CM), PSE(PSE),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">  /// Check if an existing VPValue can be used for \p Instr or a recipe can be</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">  /// create for \p I withing the given VF \p Range. If an existing VPValue can</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">  /// be used or if a recipe can be created, return it. Otherwise return a</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">  /// VPRecipeOrVPValueTy with nullptr.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1PointerUnion.html">VPRecipeOrVPValueTy</a> <a class="code" href="classllvm_1_1VPRecipeBuilder.html#af117cd3e7197868b568d922d2d504c04">tryToCreateWidenRecipe</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Instr,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                             <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;VPValue *&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                             <a class="code" href="structllvm_1_1VFRange.html">VFRange</a> &amp;Range, <a class="code" href="classllvm_1_1VPBasicBlock.html">VPBasicBlock</a> *VPBB,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                             <a class="code" href="namespacellvm.html#a783ee2076d6b2986b8c54287d871e5fe">VPlanPtr</a> &amp;Plan);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">  /// Set the recipe created for given ingredient. This operation is a no-op for</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">  /// ingredients that were not marked using a nullptr entry in the map.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classllvm_1_1VPRecipeBuilder.html#a919404e870cee5ce3eea6e0cfb4238d4">  128</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1VPRecipeBuilder.html#a919404e870cee5ce3eea6e0cfb4238d4">setRecipe</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1VPRecipeBase.html">VPRecipeBase</a> *R) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (!Ingredient2Recipe.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ingredient2Recipe[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;           <span class="stringliteral">&quot;Recipe already set for ingredient&quot;</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    Ingredient2Recipe[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = R;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">  /// A helper function that computes the predicate of the block BB, assuming</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">  /// that the header block of the loop is set to True. It returns the *entry*</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">  /// mask for the block BB.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPValue.html">VPValue</a> *<a class="code" href="classllvm_1_1VPRecipeBuilder.html#a449e86217b24e56f372ca02516dd70b8">createBlockInMask</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1VPlan.html">VPlan</a> &amp;Plan);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">  /// A helper function that computes the predicate of the edge between SRC</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">  /// and DST.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPValue.html">VPValue</a> *<a class="code" href="classllvm_1_1VPRecipeBuilder.html#a70641c67b5df6170d455a040508fc2f3">createEdgeMask</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Src, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Dst, <a class="code" href="classllvm_1_1VPlan.html">VPlan</a> &amp;Plan);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  /// Mark given ingredient for recording its recipe once one is created for</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  /// it.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="classllvm_1_1VPRecipeBuilder.html#a78b8bee84c8714cd38080a3a99da304b">  147</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1VPRecipeBuilder.html#a78b8bee84c8714cd38080a3a99da304b">recordRecipeOf</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!Ingredient2Recipe.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || Ingredient2Recipe[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == <span class="keyword">nullptr</span>) &amp;&amp;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;           <span class="stringliteral">&quot;Recipe already set for ingredient&quot;</span>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    Ingredient2Recipe[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">  /// Return the recipe created for given ingredient.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classllvm_1_1VPRecipeBuilder.html#a82aa4584d5a9e975821f677489de8dcd">  154</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPRecipeBase.html">VPRecipeBase</a> *<a class="code" href="classllvm_1_1VPRecipeBuilder.html#a82aa4584d5a9e975821f677489de8dcd">getRecipe</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ingredient2Recipe.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;           <span class="stringliteral">&quot;Recording this ingredients recipe was not requested&quot;</span>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ingredient2Recipe[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;           <span class="stringliteral">&quot;Ingredient doesn&#39;t have a recipe&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> Ingredient2Recipe[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">  /// Create a replicating region for \p PredRecipe.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPRegionBlock.html">VPRegionBlock</a> *<a class="code" href="classllvm_1_1VPRecipeBuilder.html#a04c3df2a7eefca27fc4a06e2dd47ba93">createReplicateRegion</a>(<a class="code" href="classllvm_1_1VPReplicateRecipe.html">VPReplicateRecipe</a> *PredRecipe,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                       <a class="code" href="classllvm_1_1VPlan.html">VPlan</a> &amp;Plan);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">  /// Build a VPReplicationRecipe for \p I and enclose it within a Region if it</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">  /// is predicated. \return \p VPBB augmented with this new recipe if \p I is</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">  /// not predicated, otherwise \return a new VPBasicBlock that succeeds the new</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">  /// Region. Update the packing decision of predicated instructions if they</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">  /// feed \p I. Range.End may be decreased to ensure same recipe behavior from</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">  /// \p Range.Start to \p Range.End.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1VPBasicBlock.html">VPBasicBlock</a> *<a class="code" href="classllvm_1_1VPRecipeBuilder.html#aee3b56a46e2674fc6f8c58beacca580e">handleReplication</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="structllvm_1_1VFRange.html">VFRange</a> &amp;Range,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                  <a class="code" href="classllvm_1_1VPBasicBlock.html">VPBasicBlock</a> *VPBB, <a class="code" href="classllvm_1_1VPlan.html">VPlan</a> &amp;Plan);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">  /// Add the incoming values from the backedge to reduction &amp; first-order</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">  /// recurrence cross-iteration phis.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1VPRecipeBuilder.html#a6d8fbabf45554d7d598dc8eb4eca41cf">fixHeaderPhis</a>();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;};</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#endif // LLVM_TRANSFORMS_VECTORIZE_VPRECIPEBUILDER_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPBasicBlock_html"><div class="ttname"><a href="classllvm_1_1VPBasicBlock.html">llvm::VPBasicBlock</a></div><div class="ttdoc">VPBasicBlock serves as the leaf of the Hierarchical Control-Flow Graph.</div><div class="ttdef"><b>Definition:</b> <a href="VPlan_8h_source.html#l01945">VPlan.h:1945</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_a22eb7858148763de9b740405a281e6d6"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#a22eb7858148763de9b740405a281e6d6">llvm::VPRecipeBuilder::VPRecipeBuilder</a></div><div class="ttdeci">VPRecipeBuilder(Loop *OrigLoop, const TargetLibraryInfo *TLI, LoopVectorizationLegality *Legal, LoopVectorizationCostModel &amp;CM, PredicatedScalarEvolution &amp;PSE, VPBuilder &amp;Builder)</div><div class="ttdef"><b>Definition:</b> <a href="VPRecipeBuilder_8h_source.html#l00110">VPRecipeBuilder.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html">llvm::PredicatedScalarEvolution</a></div><div class="ttdoc">An interface layer with SCEV used to manage how we see SCEV expressions for values in the context of ...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l02280">ScalarEvolution.h:2280</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html">llvm::LoopVectorizationLegality</a></div><div class="ttdoc">LoopVectorizationLegality checks if it is legal to vectorize a loop, and to what vectorization factor...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00241">LoopVectorizationLegality.h:241</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a783ee2076d6b2986b8c54287d871e5fe"><div class="ttname"><a href="namespacellvm.html#a783ee2076d6b2986b8c54287d871e5fe">llvm::VPlanPtr</a></div><div class="ttdeci">std::unique_ptr&lt; VPlan &gt; VPlanPtr</div><div class="ttdef"><b>Definition:</b> <a href="VPlan_8h_source.html#l00104">VPlan.h:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPWidenCallRecipe_html"><div class="ttname"><a href="classllvm_1_1VPWidenCallRecipe.html">llvm::VPWidenCallRecipe</a></div><div class="ttdoc">A recipe for widening Call instructions.</div><div class="ttdef"><b>Definition:</b> <a href="VPlan_8h_source.html#l00930">VPlan.h:930</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html">llvm::VPRecipeBuilder</a></div><div class="ttdoc">Helper class to create VPRecipies from IR instructions.</div><div class="ttdef"><b>Definition:</b> <a href="VPRecipeBuilder_8h_source.html#l00027">VPRecipeBuilder.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_a449e86217b24e56f372ca02516dd70b8"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#a449e86217b24e56f372ca02516dd70b8">llvm::VPRecipeBuilder::createBlockInMask</a></div><div class="ttdeci">VPValue * createBlockInMask(BasicBlock *BB, VPlan &amp;Plan)</div><div class="ttdoc">A helper function that computes the predicate of the block BB, assuming that the header block of the ...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorize_8cpp_source.html#l08122">LoopVectorize.cpp:8122</a></div></div>
<div class="ttc" id="astructllvm_1_1VFRange_html"><div class="ttname"><a href="structllvm_1_1VFRange.html">llvm::VFRange</a></div><div class="ttdoc">A range of powers-of-2 vectorization factors with fixed start and adjustable end.</div><div class="ttdef"><b>Definition:</b> <a href="VPlan_8h_source.html#l00084">VPlan.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationCostModel_html"><div class="ttname"><a href="classllvm_1_1LoopVectorizationCostModel.html">llvm::LoopVectorizationCostModel</a></div><div class="ttdoc">LoopVectorizationCostModel - estimates the expected speedups due to vectorization.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorize_8cpp_source.html#l01167">LoopVectorize.cpp:1167</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPReplicateRecipe_html"><div class="ttname"><a href="classllvm_1_1VPReplicateRecipe.html">llvm::VPReplicateRecipe</a></div><div class="ttdoc">VPReplicateRecipe replicates a given instruction producing multiple scalar copies of the original sca...</div><div class="ttdef"><b>Definition:</b> <a href="VPlan_8h_source.html#l01499">VPlan.h:1499</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPBuilder_html"><div class="ttname"><a href="classllvm_1_1VPBuilder.html">llvm::VPBuilder</a></div><div class="ttdoc">VPlan-based builder utility analogous to IRBuilder.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationPlanner_8h_source.html#l00043">LoopVectorizationPlanner.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_a78b8bee84c8714cd38080a3a99da304b"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#a78b8bee84c8714cd38080a3a99da304b">llvm::VPRecipeBuilder::recordRecipeOf</a></div><div class="ttdeci">void recordRecipeOf(Instruction *I)</div><div class="ttdoc">Mark given ingredient for recording its recipe once one is created for it.</div><div class="ttdef"><b>Definition:</b> <a href="VPRecipeBuilder_8h_source.html#l00147">VPRecipeBuilder.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_aee3b56a46e2674fc6f8c58beacca580e"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#aee3b56a46e2674fc6f8c58beacca580e">llvm::VPRecipeBuilder::handleReplication</a></div><div class="ttdeci">VPBasicBlock * handleReplication(Instruction *I, VFRange &amp;Range, VPBasicBlock *VPBB, VPlan &amp;Plan)</div><div class="ttdoc">Build a VPReplicationRecipe for I and enclose it within a Region if it is predicated.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorize_8cpp_source.html#l08543">LoopVectorize.cpp:8543</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_a70641c67b5df6170d455a040508fc2f3"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#a70641c67b5df6170d455a040508fc2f3">llvm::VPRecipeBuilder::createEdgeMask</a></div><div class="ttdeci">VPValue * createEdgeMask(BasicBlock *Src, BasicBlock *Dst, VPlan &amp;Plan)</div><div class="ttdoc">A helper function that computes the predicate of the edge between SRC and DST.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorize_8cpp_source.html#l08077">LoopVectorize.cpp:8077</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPValue_html"><div class="ttname"><a href="classllvm_1_1VPValue.html">llvm::VPValue</a></div><div class="ttdef"><b>Definition:</b> <a href="VPlanValue_8h_source.html#l00044">VPlanValue.h:44</a></div></div>
<div class="ttc" id="aVPlan_8h_html"><div class="ttname"><a href="VPlan_8h.html">VPlan.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRegionBlock_html"><div class="ttname"><a href="classllvm_1_1VPRegionBlock.html">llvm::VPRegionBlock</a></div><div class="ttdoc">VPRegionBlock represents a collection of VPBasicBlocks and VPRegionBlocks which form a Single-Entry-S...</div><div class="ttdef"><b>Definition:</b> <a href="VPlan_8h_source.html#l02069">VPlan.h:2069</a></div></div>
<div class="ttc" id="aMIRNamerPass_8cpp_html_a05e4be4ec3e2c3587dda0e376bb6822c"><div class="ttname"><a href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a></div><div class="ttdeci">mir Rename Register Operands</div><div class="ttdef"><b>Definition:</b> <a href="MIRNamerPass_8cpp_source.html#l00074">MIRNamerPass.cpp:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">llvm::IRSimilarity::Legal</a></div><div class="ttdeci">@ Legal</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1TruncInst_html"><div class="ttname"><a href="classllvm_1_1TruncInst.html">llvm::TruncInst</a></div><div class="ttdoc">This class represents a truncation of integer types.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04813">Instructions.h:4813</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; std::pair&lt; BasicBlock *, BasicBlock * &gt;, VPValue * &gt;</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aLoopVectorizationPlanner_8h_html"><div class="ttname"><a href="LoopVectorizationPlanner_8h.html">LoopVectorizationPlanner.h</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1VPWidenIntOrFpInductionRecipe_html"><div class="ttname"><a href="classllvm_1_1VPWidenIntOrFpInductionRecipe.html">llvm::VPWidenIntOrFpInductionRecipe</a></div><div class="ttdoc">A recipe for handling phi nodes of integer and floating-point inductions, producing their vector valu...</div><div class="ttdef"><b>Definition:</b> <a href="VPlan_8h_source.html#l01026">VPlan.h:1026</a></div></div>
<div class="ttc" id="aPointerUnion_8h_html"><div class="ttname"><a href="PointerUnion_8h.html">PointerUnion.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_a919404e870cee5ce3eea6e0cfb4238d4"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#a919404e870cee5ce3eea6e0cfb4238d4">llvm::VPRecipeBuilder::setRecipe</a></div><div class="ttdeci">void setRecipe(Instruction *I, VPRecipeBase *R)</div><div class="ttdoc">Set the recipe created for given ingredient.</div><div class="ttdef"><b>Definition:</b> <a href="VPRecipeBuilder_8h_source.html#l00128">VPRecipeBuilder.h:128</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_af117cd3e7197868b568d922d2d504c04"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#af117cd3e7197868b568d922d2d504c04">llvm::VPRecipeBuilder::tryToCreateWidenRecipe</a></div><div class="ttdeci">VPRecipeOrVPValueTy tryToCreateWidenRecipe(Instruction *Instr, ArrayRef&lt; VPValue * &gt; Operands, VFRange &amp;Range, VPBasicBlock *VPBB, VPlanPtr &amp;Plan)</div><div class="ttdoc">Check if an existing VPValue can be used for Instr or a recipe can be create for I withing the given ...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorize_8cpp_source.html#l08662">LoopVectorize.cpp:8662</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerUnion_html"><div class="ttname"><a href="classllvm_1_1PointerUnion.html">llvm::PointerUnion</a></div><div class="ttdoc">A discriminated union of two or more pointer types, with the discriminator in the low bit of the poin...</div><div class="ttdef"><b>Definition:</b> <a href="PointerUnion_8h_source.html#l00112">PointerUnion.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_a04c3df2a7eefca27fc4a06e2dd47ba93"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#a04c3df2a7eefca27fc4a06e2dd47ba93">llvm::VPRecipeBuilder::createReplicateRegion</a></div><div class="ttdeci">VPRegionBlock * createReplicateRegion(VPReplicateRecipe *PredRecipe, VPlan &amp;Plan)</div><div class="ttdoc">Create a replicating region for PredRecipe.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorize_8cpp_source.html#l08625">LoopVectorize.cpp:8625</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBase_html"><div class="ttname"><a href="classllvm_1_1VPRecipeBase.html">llvm::VPRecipeBase</a></div><div class="ttdoc">VPRecipeBase is a base class modeling a sequence of one or more output IR instructions.</div><div class="ttdef"><b>Definition:</b> <a href="VPlan_8h_source.html#l00664">VPlan.h:664</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_a82aa4584d5a9e975821f677489de8dcd"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#a82aa4584d5a9e975821f677489de8dcd">llvm::VPRecipeBuilder::getRecipe</a></div><div class="ttdeci">VPRecipeBase * getRecipe(Instruction *I)</div><div class="ttdoc">Return the recipe created for given ingredient.</div><div class="ttdef"><b>Definition:</b> <a href="VPRecipeBuilder_8h_source.html#l00154">VPRecipeBuilder.h:154</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPRecipeBuilder_html_a6d8fbabf45554d7d598dc8eb4eca41cf"><div class="ttname"><a href="classllvm_1_1VPRecipeBuilder.html#a6d8fbabf45554d7d598dc8eb4eca41cf">llvm::VPRecipeBuilder::fixHeaderPhis</a></div><div class="ttdeci">void fixHeaderPhis()</div><div class="ttdoc">Add the incoming values from the backedge to reduction &amp; first-order recurrence cross-iteration phis.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorize_8cpp_source.html#l08533">LoopVectorize.cpp:8533</a></div></div>
<div class="ttc" id="aclassllvm_1_1VPlan_html"><div class="ttname"><a href="classllvm_1_1VPlan.html">llvm::VPlan</a></div><div class="ttdoc">VPlan models a candidate for vectorization, encoding various decisions take to produce efficient outp...</div><div class="ttdef"><b>Definition:</b> <a href="VPlan_8h_source.html#l02166">VPlan.h:2166</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:40:37 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
