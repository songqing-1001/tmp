<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/RegisterPressure.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RegisterPressure.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="RegisterPressure_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- RegisterPressure.cpp - Dynamic Register Pressure -------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the RegisterPressure class which can be used to track</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// MachineInstr level register pressure.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterPressure_8h.html">llvm/CodeGen/RegisterPressure.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveInterval_8h.html">llvm/CodeGen/LiveInterval.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervals_8h.html">llvm/CodeGen/LiveIntervals.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBundle_8h.html">llvm/CodeGen/MachineInstrBundle.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOperand_8h.html">llvm/CodeGen/MachineOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterClassInfo_8h.html">llvm/CodeGen/RegisterClassInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SlotIndexes_8h.html">llvm/CodeGen/SlotIndexes.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LaneBitmask_8h.html">llvm/MC/LaneBitmask.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCRegisterInfo_8h.html">llvm/MC/MCRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/// Increase pressure for each pressure set provided by TargetRegisterInfo.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#a217ca2f956651626db2bf0fdf48bd82d">   50</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="RegisterPressure_8cpp.html#a217ca2f956651626db2bf0fdf48bd82d">increaseSetPressure</a>(std::vector&lt;unsigned&gt; &amp;CurrSetPressure,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> PrevMask, <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((PrevMask &amp; ~NewMask).<a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">none</a>() &amp;&amp; <span class="stringliteral">&quot;Must not remove bits&quot;</span>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">if</span> (PrevMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>() || NewMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>())</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="classllvm_1_1PSetIterator.html">PSetIterator</a> PSetI = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#acc1fe08378fadccbf77405721be835ae">getPressureSets</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordtype">unsigned</span> Weight = PSetI.<a class="code" href="classllvm_1_1PSetIterator.html#a7468f7aa9ad819d0d0294cc66da0c9e8">getWeight</a>();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">for</span> (; PSetI.<a class="code" href="classllvm_1_1PSetIterator.html#adca9aa81c4b0432673b64c7c42611df5">isValid</a>(); ++PSetI)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    CurrSetPressure[*PSetI] += Weight;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/// Decrease pressure for each pressure set provided by TargetRegisterInfo.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#a58eaab8d4f7a677b915d22694d73f286">   64</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="RegisterPressure_8cpp.html#a58eaab8d4f7a677b915d22694d73f286">decreaseSetPressure</a>(std::vector&lt;unsigned&gt; &amp;CurrSetPressure,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> PrevMask, <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">//assert((NewMask &amp; !PrevMask) == 0 &amp;&amp; &quot;Must not add bits&quot;);</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">if</span> (NewMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>() || PrevMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>())</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="classllvm_1_1PSetIterator.html">PSetIterator</a> PSetI = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#acc1fe08378fadccbf77405721be835ae">getPressureSets</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordtype">unsigned</span> Weight = PSetI.<a class="code" href="classllvm_1_1PSetIterator.html#a7468f7aa9ad819d0d0294cc66da0c9e8">getWeight</a>();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">for</span> (; PSetI.<a class="code" href="classllvm_1_1PSetIterator.html#adca9aa81c4b0432673b64c7c42611df5">isValid</a>(); ++PSetI) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurrSetPressure[*PSetI] &gt;= Weight &amp;&amp; <span class="stringliteral">&quot;register pressure underflow&quot;</span>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    CurrSetPressure[*PSetI] -= Weight;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="namespacellvm.html#adb6fca77863850136760be488d6ea345">   81</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#adb6fca77863850136760be488d6ea345">llvm::dumpRegSetPressure</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> SetPressure,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordtype">bool</span> Empty = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = SetPressure.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (SetPressure[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] != 0) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">getRegPressureSetName</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &lt;&lt; <span class="stringliteral">&quot;=&quot;</span> &lt;&lt; SetPressure[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      Empty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">if</span> (Empty)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structllvm_1_1RegisterPressure.html#aed5b5c7fd078ad82cea332031dd5099d">   95</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1RegisterPressure.html#aed5b5c7fd078ad82cea332031dd5099d">RegisterPressure::dump</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Max Pressure: &quot;</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="namespacellvm.html#adb6fca77863850136760be488d6ea345">dumpRegSetPressure</a>(<a class="code" href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">MaxSetPressure</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Live In: &quot;</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a788c5905de970028eb0efa2266bd10bf">printVRegOrUnit</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LaneMask.all())</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a3e30e18d6f7ebd943eaf8ebc3a2b2930">PrintLaneMask</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LaneMask);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Live Out: &quot;</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="structllvm_1_1RegisterPressure.html#af5f59be54525232bb3f236ee134b2d25">LiveOutRegs</a>) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a788c5905de970028eb0efa2266bd10bf">printVRegOrUnit</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LaneMask.all())</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a3e30e18d6f7ebd943eaf8ebc3a2b2930">PrintLaneMask</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LaneMask);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a56c8a8fa22cf5ab29fe7441b1fbeabff">  117</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a56c8a8fa22cf5ab29fe7441b1fbeabff">RegPressureTracker::dump</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1RegPressureTracker.html#aa04a52c4ce53301c9dfca990019c257f">isTopClosed</a>() || !<a class="code" href="classllvm_1_1RegPressureTracker.html#a6b2a46b62294d7923901959892016838">isBottomClosed</a>()) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Curr Pressure: &quot;</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="namespacellvm.html#adb6fca77863850136760be488d6ea345">dumpRegSetPressure</a>(CurrSetPressure, TRI);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  P.<a class="code" href="structllvm_1_1RegisterPressure.html#aed5b5c7fd078ad82cea332031dd5099d">dump</a>(TRI);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classllvm_1_1PressureDiff.html#a86962b61c920a437e06eda5dafd929d5">  126</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PressureDiff.html#a86962b61c920a437e06eda5dafd929d5">PressureDiff::dump</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *sep = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a> &amp;Change : *<span class="keyword">this</span>) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (!Change.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>())</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; sep &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">getRegPressureSetName</a>(Change.<a class="code" href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">getPSet</a>())</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; Change.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    sep = <span class="stringliteral">&quot;    &quot;</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classllvm_1_1PressureChange.html#a403007f54c31c2c26d7b0cd651d62e20">  139</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PressureChange.html#a403007f54c31c2c26d7b0cd651d62e20">PressureChange::dump</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1PressureChange.html#a2914e3c0dd7cb72d6d1eb4343a0bd6c9">getPSetOrMax</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structllvm_1_1RegPressureDelta.html#a85d20a585ffc9e9dd7bff5aa8ba38443">  143</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1RegPressureDelta.html#a85d20a585ffc9e9dd7bff5aa8ba38443">RegPressureDelta::dump</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;[Excess=&quot;</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a403007f54c31c2c26d7b0cd651d62e20">dump</a>();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, CriticalMax=&quot;</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a403007f54c31c2c26d7b0cd651d62e20">dump</a>();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, CurrentMax=&quot;</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a403007f54c31c2c26d7b0cd651d62e20">dump</a>();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">  155</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">RegPressureTracker::increaseRegPressure</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                             <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> PreviousMask,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                             <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">if</span> (PreviousMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>() || NewMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>())</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="classllvm_1_1PSetIterator.html">PSetIterator</a> PSetI = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#acc1fe08378fadccbf77405721be835ae">getPressureSets</a>(RegUnit);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">unsigned</span> Weight = PSetI.<a class="code" href="classllvm_1_1PSetIterator.html#a7468f7aa9ad819d0d0294cc66da0c9e8">getWeight</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">for</span> (; PSetI.<a class="code" href="classllvm_1_1PSetIterator.html#adca9aa81c4b0432673b64c7c42611df5">isValid</a>(); ++PSetI) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    CurrSetPressure[*PSetI] += Weight;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    P.<a class="code" href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">MaxSetPressure</a>[*PSetI] =</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(P.<a class="code" href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">MaxSetPressure</a>[*PSetI], CurrSetPressure[*PSetI]);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#aeb147ca865dee711c206a23c2fbda878">  170</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#aeb147ca865dee711c206a23c2fbda878">RegPressureTracker::decreaseRegPressure</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                             <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> PreviousMask,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                             <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="RegisterPressure_8cpp.html#a58eaab8d4f7a677b915d22694d73f286">decreaseSetPressure</a>(CurrSetPressure, *MRI, RegUnit, PreviousMask, NewMask);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">/// Clear the result so it can be used for another round of pressure tracking.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalPressure.html#a08225fe2adf56bf962e71483729fd99c">  177</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="structllvm_1_1IntervalPressure.html#a08225fe2adf56bf962e71483729fd99c">IntervalPressure::reset</a>() {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="structllvm_1_1IntervalPressure.html#abf1e1810feaee0a0a5b54040ad46d0d8">TopIdx</a> = <a class="code" href="structllvm_1_1IntervalPressure.html#a60f833a5cb8a08708e1a2d0aadc373c5">BottomIdx</a> = <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a>();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">MaxSetPressure</a>.clear();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>.clear();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#af5f59be54525232bb3f236ee134b2d25">LiveOutRegs</a>.clear();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/// Clear the result so it can be used for another round of pressure tracking.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="structllvm_1_1RegionPressure.html#aa7faa2156e15c1085990ef11a6d19ac5">  185</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="structllvm_1_1RegionPressure.html#aa7faa2156e15c1085990ef11a6d19ac5">RegionPressure::reset</a>() {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="structllvm_1_1RegionPressure.html#a7819525095c6fe30609b59058fc31427">TopPos</a> = <a class="code" href="structllvm_1_1RegionPressure.html#a95ad2a20b3dfb8ad87da59d86420597d">BottomPos</a> = <a class="code" href="classllvm_1_1MachineBasicBlock.html#a199a6e4bfdffc8f3379ef4f35004488f">MachineBasicBlock::const_iterator</a>();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">MaxSetPressure</a>.clear();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>.clear();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#af5f59be54525232bb3f236ee134b2d25">LiveOutRegs</a>.clear();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">/// If the current top is not less than or equal to the next index, open it.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">/// We happen to need the SlotIndex for the next top for pressure update.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalPressure.html#ad388da0eac059da0c6cf642204a6308a">  194</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="structllvm_1_1IntervalPressure.html#ad388da0eac059da0c6cf642204a6308a">IntervalPressure::openTop</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> NextTop) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1IntervalPressure.html#abf1e1810feaee0a0a5b54040ad46d0d8">TopIdx</a> &lt;= NextTop)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="structllvm_1_1IntervalPressure.html#abf1e1810feaee0a0a5b54040ad46d0d8">TopIdx</a> = <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a>();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>.clear();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/// If the current top is the previous instruction (before receding), open it.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structllvm_1_1RegionPressure.html#a9f41ba24a7e6d9e5a68764096c2e763c">  202</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="structllvm_1_1RegionPressure.html#a9f41ba24a7e6d9e5a68764096c2e763c">RegionPressure::openTop</a>(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_iterator</a> PrevTop) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1RegionPressure.html#a7819525095c6fe30609b59058fc31427">TopPos</a> != PrevTop)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="structllvm_1_1RegionPressure.html#a7819525095c6fe30609b59058fc31427">TopPos</a> = <a class="code" href="classllvm_1_1MachineBasicBlock.html#a199a6e4bfdffc8f3379ef4f35004488f">MachineBasicBlock::const_iterator</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>.clear();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/// If the current bottom is not greater than the previous index, open it.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalPressure.html#a0fb4cf12022684a5149e2fba6b65a522">  210</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="structllvm_1_1IntervalPressure.html#a0fb4cf12022684a5149e2fba6b65a522">IntervalPressure::openBottom</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> PrevBottom) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1IntervalPressure.html#a60f833a5cb8a08708e1a2d0aadc373c5">BottomIdx</a> &gt; PrevBottom)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="structllvm_1_1IntervalPressure.html#a60f833a5cb8a08708e1a2d0aadc373c5">BottomIdx</a> = <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a>();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>.clear();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">/// If the current bottom is the previous instr (before advancing), open it.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structllvm_1_1RegionPressure.html#ad620503b286436fe7252602b9451dfca">  218</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="structllvm_1_1RegionPressure.html#ad620503b286436fe7252602b9451dfca">RegionPressure::openBottom</a>(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_iterator</a> PrevBottom) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1RegionPressure.html#a95ad2a20b3dfb8ad87da59d86420597d">BottomPos</a> != PrevBottom)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="structllvm_1_1RegionPressure.html#a95ad2a20b3dfb8ad87da59d86420597d">BottomPos</a> = <a class="code" href="classllvm_1_1MachineBasicBlock.html#a199a6e4bfdffc8f3379ef4f35004488f">MachineBasicBlock::const_iterator</a>();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>.clear();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveRegSet.html#a550d4a10f48068094cb9e4dc85a7ac5a">  225</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveRegSet.html#a550d4a10f48068094cb9e4dc85a7ac5a">LiveRegSet::init</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aed4562ccf898feaf2eb6cf5555b5084d">getTargetRegisterInfo</a>();</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordtype">unsigned</span> NumRegUnits = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordtype">unsigned</span> NumVirtRegs = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">getNumVirtRegs</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  Regs.<a class="code" href="classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">setUniverse</a>(NumRegUnits + NumVirtRegs);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  this-&gt;NumRegUnits = NumRegUnits;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveRegSet.html#a13e44e271305fcb67ecfb55b1f9bb2c6">  233</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveRegSet.html#a13e44e271305fcb67ecfb55b1f9bb2c6">LiveRegSet::clear</a>() {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  Regs.<a class="code" href="classllvm_1_1SparseSet.html#aab146f4c3793a4a99649ce52b3badc15">clear</a>();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#a714adb7edca61b6453c861125fe76c93">  237</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> *<a class="code" href="RegisterPressure_8cpp.html#a714adb7edca61b6453c861125fe76c93">getLiveRange</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;LIS, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span> &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">return</span> LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#af68f45baf4510224cb6ecf00019a9987">getCachedRegUnit</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#ac9e57447ee6550f3ffcb4a432bd3dbab">  243</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#ac9e57447ee6550f3ffcb4a432bd3dbab">RegPressureTracker::reset</a>() {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  MBB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  LIS = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  CurrSetPressure.clear();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  LiveThruPressure.clear();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  P.<a class="code" href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">MaxSetPressure</a>.clear();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1IntervalPressure.html">IntervalPressure</a>&amp;<span class="keyword">&gt;</span>(P).<a class="code" href="classllvm_1_1RegPressureTracker.html#ac9e57447ee6550f3ffcb4a432bd3dbab">reset</a>();</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1RegionPressure.html">RegionPressure</a>&amp;<span class="keyword">&gt;</span>(P).<a class="code" href="classllvm_1_1RegPressureTracker.html#ac9e57447ee6550f3ffcb4a432bd3dbab">reset</a>();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a13e44e271305fcb67ecfb55b1f9bb2c6">clear</a>();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  UntiedDefs.clear();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">/// Setup the RegPressureTracker.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">/// TODO: Add support for pressure without LiveIntervals.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a5d044b599a2e3a1007e31a120105c9d7">  263</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a5d044b599a2e3a1007e31a120105c9d7">RegPressureTracker::init</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *mf,</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1RegisterClassInfo.html">RegisterClassInfo</a> *rci,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *lis,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *mbb,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                              <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_iterator</a> pos,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                              <span class="keywordtype">bool</span> TrackLaneMasks, <span class="keywordtype">bool</span> TrackUntiedDefs) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#ac9e57447ee6550f3ffcb4a432bd3dbab">reset</a>();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  MF = mf;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  TRI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  RCI = rci;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  MRI = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  MBB = mbb;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  this-&gt;TrackUntiedDefs = TrackUntiedDefs;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  this-&gt;TrackLaneMasks = TrackLaneMasks;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(lis &amp;&amp; <span class="stringliteral">&quot;IntervalPressure requires LiveIntervals&quot;</span>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    LIS = lis;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  CurrPos = pos;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  CurrSetPressure.assign(TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a0f68bd50142729a84434a02436bb7b46">getNumRegPressureSets</a>(), 0);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  P.<a class="code" href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">MaxSetPressure</a> = CurrSetPressure;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a550d4a10f48068094cb9e4dc85a7ac5a">init</a>(*MRI);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span> (TrackUntiedDefs)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    UntiedDefs.setUniverse(MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">getNumVirtRegs</a>());</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">/// Does this pressure result have a valid top position and live ins.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#aa04a52c4ce53301c9dfca990019c257f">  295</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#aa04a52c4ce53301c9dfca990019c257f">RegPressureTracker::isTopClosed</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1IntervalPressure.html">IntervalPressure</a>&amp;<span class="keyword">&gt;</span>(P).TopIdx.isValid();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">return</span> (<span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1RegionPressure.html">RegionPressure</a>&amp;<span class="keyword">&gt;</span>(P).<a class="code" href="structllvm_1_1RegionPressure.html#a7819525095c6fe30609b59058fc31427">TopPos</a> ==</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;          <a class="code" href="classllvm_1_1MachineBasicBlock.html#a199a6e4bfdffc8f3379ef4f35004488f">MachineBasicBlock::const_iterator</a>());</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">/// Does this pressure result have a valid bottom position and live outs.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a6b2a46b62294d7923901959892016838">  303</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a6b2a46b62294d7923901959892016838">RegPressureTracker::isBottomClosed</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1IntervalPressure.html">IntervalPressure</a>&amp;<span class="keyword">&gt;</span>(P).BottomIdx.isValid();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">return</span> (<span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1RegionPressure.html">RegionPressure</a>&amp;<span class="keyword">&gt;</span>(P).<a class="code" href="structllvm_1_1RegionPressure.html#a95ad2a20b3dfb8ad87da59d86420597d">BottomPos</a> ==</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;          <a class="code" href="classllvm_1_1MachineBasicBlock.html#a199a6e4bfdffc8f3379ef4f35004488f">MachineBasicBlock::const_iterator</a>());</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#acb935d3f3c59d7ad1049e01788c65f34">  310</a></span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="classllvm_1_1RegPressureTracker.html#acb935d3f3c59d7ad1049e01788c65f34">RegPressureTracker::getCurrSlot</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_iterator</a> IdxPos =</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="namespacellvm.html#a5bacbbd03e9261f7b30dc174f26d680c">skipDebugInstructionsForward</a>(CurrPos, MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">if</span> (IdxPos == MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(MBB);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keywordflow">return</span> LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*IdxPos).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">/// Set the boundary for the top of the region and summarize live ins.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a8759dfc94f9731598942bbbda6280dfe">  319</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a8759dfc94f9731598942bbbda6280dfe">RegPressureTracker::closeTop</a>() {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1IntervalPressure.html">IntervalPressure</a>&amp;<span class="keyword">&gt;</span>(P).TopIdx = <a class="code" href="classllvm_1_1RegPressureTracker.html#acb935d3f3c59d7ad1049e01788c65f34">getCurrSlot</a>();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1RegionPressure.html">RegionPressure</a>&amp;<span class="keyword">&gt;</span>(P).TopPos = CurrPos;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(P.<a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>.empty() &amp;&amp; <span class="stringliteral">&quot;inconsistent max pressure result&quot;</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  P.<a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>.reserve(LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a6f83802ec66fea6cc0b558436a0a18c5">size</a>());</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#ae993c9ed7e20b4d8a1cc51d162f0c159">appendTo</a>(P.<a class="code" href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">LiveInRegs</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">/// Set the boundary for the bottom of the region and summarize live outs.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a204b8f2de53bb48cc63b152400c3fdb6">  331</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a204b8f2de53bb48cc63b152400c3fdb6">RegPressureTracker::closeBottom</a>() {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1IntervalPressure.html">IntervalPressure</a>&amp;<span class="keyword">&gt;</span>(P).BottomIdx = <a class="code" href="classllvm_1_1RegPressureTracker.html#acb935d3f3c59d7ad1049e01788c65f34">getCurrSlot</a>();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1RegionPressure.html">RegionPressure</a>&amp;<span class="keyword">&gt;</span>(P).BottomPos = CurrPos;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(P.<a class="code" href="structllvm_1_1RegisterPressure.html#af5f59be54525232bb3f236ee134b2d25">LiveOutRegs</a>.empty() &amp;&amp; <span class="stringliteral">&quot;inconsistent max pressure result&quot;</span>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  P.<a class="code" href="structllvm_1_1RegisterPressure.html#af5f59be54525232bb3f236ee134b2d25">LiveOutRegs</a>.reserve(LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a6f83802ec66fea6cc0b558436a0a18c5">size</a>());</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#ae993c9ed7e20b4d8a1cc51d162f0c159">appendTo</a>(P.<a class="code" href="structllvm_1_1RegisterPressure.html#af5f59be54525232bb3f236ee134b2d25">LiveOutRegs</a>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">/// Finalize the region boundaries and record live ins and live outs.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a1844e0ed5cc8c90d7afaad0bea1e48d7">  343</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a1844e0ed5cc8c90d7afaad0bea1e48d7">RegPressureTracker::closeRegion</a>() {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1RegPressureTracker.html#aa04a52c4ce53301c9dfca990019c257f">isTopClosed</a>() &amp;&amp; !<a class="code" href="classllvm_1_1RegPressureTracker.html#a6b2a46b62294d7923901959892016838">isBottomClosed</a>()) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a6f83802ec66fea6cc0b558436a0a18c5">size</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;no region boundary&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1RegPressureTracker.html#a6b2a46b62294d7923901959892016838">isBottomClosed</a>())</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#a204b8f2de53bb48cc63b152400c3fdb6">closeBottom</a>();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1RegPressureTracker.html#aa04a52c4ce53301c9dfca990019c257f">isTopClosed</a>())</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#a8759dfc94f9731598942bbbda6280dfe">closeTop</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// If both top and bottom are closed, do nothing.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">/// The register tracker is unaware of global liveness so ignores normal</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/// live-thru ranges. However, two-address or coalesced chains can also lead</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">/// to live ranges with no holes. Count these to inform heuristics that we</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">/// can never drop below this pressure.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a474e65b5df97bf9cf404aa9b85eb6262">  359</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a474e65b5df97bf9cf404aa9b85eb6262">RegPressureTracker::initLiveThru</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1RegPressureTracker.html">RegPressureTracker</a> &amp;RPTracker) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  LiveThruPressure.assign(TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a0f68bd50142729a84434a02436bb7b46">getNumRegPressureSets</a>(), 0);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1RegPressureTracker.html#a6b2a46b62294d7923901959892016838">isBottomClosed</a>() &amp;&amp; <span class="stringliteral">&quot;need bottom-up tracking to intialize.&quot;</span>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;Pair : P.<a class="code" href="structllvm_1_1RegisterPressure.html#af5f59be54525232bb3f236ee134b2d25">LiveOutRegs</a>) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit = Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a5ff01f978a11787445ffc3963c4e3054">RegUnit</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (RegUnit.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp; !RPTracker.<a class="code" href="classllvm_1_1RegPressureTracker.html#a77304a98095575cf08c43d237137c77e">hasUntiedDef</a>(RegUnit))</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <a class="code" href="RegisterPressure_8cpp.html#a217ca2f956651626db2bf0fdf48bd82d">increaseSetPressure</a>(LiveThruPressure, *MRI, RegUnit,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                          <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>(), Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a1558934dafe16d86cbce953f240210ec">LaneMask</a>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#af3cbb39230a4abad465b4f9110e9c048">  370</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> <a class="code" href="RegisterPressure_8cpp.html#af3cbb39230a4abad465b4f9110e9c048">getRegLanes</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;RegisterMaskPair&gt;</a> RegUnits,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                               <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a>(RegUnits, [RegUnit](<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.RegUnit == RegUnit;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  });</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == RegUnits.<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>())</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#abde71593c255d98d31f68cb4dfbe1601">  380</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="RegisterPressure_8cpp.html#abde71593c255d98d31f68cb4dfbe1601">addRegLanes</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;RegisterMaskPair&gt;</a> &amp;RegUnits,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                        <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> Pair) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit = Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a5ff01f978a11787445ffc3963c4e3054">RegUnit</a>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a1558934dafe16d86cbce953f240210ec">LaneMask</a>.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>());</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a>(RegUnits, [RegUnit](<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.RegUnit == RegUnit;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  });</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == RegUnits.end()) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    RegUnits.push_back(Pair);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask |= Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a1558934dafe16d86cbce953f240210ec">LaneMask</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#ae84a2d10b323d478e73ee4b4684a1d51">  394</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="RegisterPressure_8cpp.html#ae84a2d10b323d478e73ee4b4684a1d51">setRegZero</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;RegisterMaskPair&gt;</a> &amp;RegUnits,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                       <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a>(RegUnits, [RegUnit](<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.RegUnit == RegUnit;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  });</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == RegUnits.end()) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    RegUnits.push_back(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(RegUnit, <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>()));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask = <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#a203c2f7ae6c362c967797502b74cf048">  406</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="RegisterPressure_8cpp.html#a203c2f7ae6c362c967797502b74cf048">removeRegLanes</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;RegisterMaskPair&gt;</a> &amp;RegUnits,</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                           <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> Pair) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit = Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a5ff01f978a11787445ffc3963c4e3054">RegUnit</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a1558934dafe16d86cbce953f240210ec">LaneMask</a>.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>());</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a>(RegUnits, [RegUnit](<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.RegUnit == RegUnit;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  });</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != RegUnits.end()) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask &amp;= ~Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a1558934dafe16d86cbce953f240210ec">LaneMask</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask.none())</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      RegUnits.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a></div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#af22048866afa263f60942281802899e5">  421</a></span>&#160;<a class="code" href="RegisterPressure_8cpp.html#af22048866afa263f60942281802899e5">getLanesWithProperty</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;LIS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                     <span class="keywordtype">bool</span> TrackLaneMasks, <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos,</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                     <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> SafeDefault,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                     <span class="keywordtype">bool</span> (*Property)(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos)) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">if</span> (RegUnit.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(RegUnit);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> Result;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (TrackLaneMasks &amp;&amp; LI.<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>()) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;SR : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>()) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;          <span class="keywordflow">if</span> (Property(SR, Pos))</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            Result |= SR.LaneMask;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Property(LI, Pos)) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      Result = TrackLaneMasks ? <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">getMaxLaneMaskForVReg</a>(RegUnit)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                              : <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> *LR = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#af68f45baf4510224cb6ecf00019a9987">getCachedRegUnit</a>(RegUnit);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// Be prepared for missing liveranges: We usually do not compute liveranges</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// for physical registers on targets with many registers (GPUs).</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (LR == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">return</span> SafeDefault;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">return</span> Property(*LR, Pos) ? <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>() : <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#a9a34eb3ae4410e27d2af2562436e6734">  449</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> <a class="code" href="RegisterPressure_8cpp.html#a9a34eb3ae4410e27d2af2562436e6734">getLiveLanesAt</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;LIS,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                  <span class="keywordtype">bool</span> TrackLaneMasks, <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="RegisterPressure_8cpp.html#af22048866afa263f60942281802899e5">getLanesWithProperty</a>(LIS, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrackLaneMasks, RegUnit, Pos,</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                              <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>(),</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                              [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                <span class="keywordflow">return</span> LR.<a class="code" href="classllvm_1_1LiveRange.html#a400c0b88110521ad1de258a7885d9038">liveAt</a>(Pos);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                              });</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">/// Collect this instruction&#39;s unique uses and defs into SmallVectors for</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">/// processing defs and uses in order.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">/// FIXME: always ignore tied opers</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"></span><span class="keyword">class </span>RegisterOperandsCollector {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classllvm_1_1RegisterOperands.html">llvm::RegisterOperands</a>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> &amp;RegOpers;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordtype">bool</span> IgnoreDead;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  RegisterOperandsCollector(<a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> &amp;RegOpers,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keywordtype">bool</span> IgnoreDead)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    : RegOpers(RegOpers), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>), IgnoreDead(IgnoreDead) {}</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordtype">void</span> collectInstr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ConstMIBundleOperands.html">ConstMIBundleOperands</a> OperI(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>); OperI.<a class="code" href="classllvm_1_1MIBundleOperandIteratorBase.html#a74c921d2258b6ce681a00ff5603ea43b">isValid</a>(); ++OperI)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      collectOperand(*OperI);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// Remove redundant physreg dead defs.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <a class="code" href="RegisterPressure_8cpp.html#a203c2f7ae6c362c967797502b74cf048">removeRegLanes</a>(RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordtype">void</span> collectInstrLanes(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ConstMIBundleOperands.html">ConstMIBundleOperands</a> OperI(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>); OperI.<a class="code" href="classllvm_1_1MIBundleOperandIteratorBase.html#a74c921d2258b6ce681a00ff5603ea43b">isValid</a>(); ++OperI)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      collectOperandLanes(*OperI);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// Remove redundant physreg dead defs.</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <a class="code" href="RegisterPressure_8cpp.html#a203c2f7ae6c362c967797502b74cf048">removeRegLanes</a>(RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">  /// Push this operand&#39;s register onto the correct vectors.</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> collectOperand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>()) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>() &amp;&amp; !MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad3008c73231cdb4922d197fe56525364">isInternalRead</a>())</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        pushReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>());</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="comment">// Subregister definitions may imply a register read.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a3be9857a09c82046b77a71918b5e214f">readsReg</a>())</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        pushReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#aaee820701392c55ad54235d3d7201206">isDead</a>()) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span> (!IgnoreDead)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;          pushReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        pushReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordtype">void</span> pushReg(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;               <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;RegisterMaskPair&gt;</a> &amp;RegUnits)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual()) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <a class="code" href="RegisterPressure_8cpp.html#abde71593c255d98d31f68cb4dfbe1601">addRegLanes</a>(RegUnits, <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>()));</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7f39116ef8979cff64ea1c666228e7d9">isAllocatable</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Units(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.asMCReg(), &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>); Units.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;           ++Units)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="RegisterPressure_8cpp.html#abde71593c255d98d31f68cb4dfbe1601">addRegLanes</a>(RegUnits, <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(*Units, <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>()));</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordtype">void</span> collectOperandLanes(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordtype">unsigned</span> SubRegIdx = MO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>()) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>() &amp;&amp; !MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad3008c73231cdb4922d197fe56525364">isInternalRead</a>())</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        pushRegLanes(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SubRegIdx, RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>());</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="comment">// Treat read-undef subreg defs as definitions of the whole register.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>())</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        SubRegIdx = 0;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#aaee820701392c55ad54235d3d7201206">isDead</a>()) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">if</span> (!IgnoreDead)</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;          pushRegLanes(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SubRegIdx, RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        pushRegLanes(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SubRegIdx, RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordtype">void</span> pushRegLanes(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keywordtype">unsigned</span> SubRegIdx,</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;RegisterMaskPair&gt;</a> &amp;RegUnits)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual()) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask = SubRegIdx != 0</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                             ? <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(SubRegIdx)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                             : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">getMaxLaneMaskForVReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <a class="code" href="RegisterPressure_8cpp.html#abde71593c255d98d31f68cb4dfbe1601">addRegLanes</a>(RegUnits, <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LaneMask));</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7f39116ef8979cff64ea1c666228e7d9">isAllocatable</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Units(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.asMCReg(), &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>); Units.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;           ++Units)</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="RegisterPressure_8cpp.html#abde71593c255d98d31f68cb4dfbe1601">addRegLanes</a>(RegUnits, <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(*Units, <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>()));</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;};</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="classllvm_1_1RegisterOperands.html#a74e0a918c9705f23a1e5b66f68cc97e9">  569</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegisterOperands.html#a74e0a918c9705f23a1e5b66f68cc97e9">RegisterOperands::collect</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                               <span class="keywordtype">bool</span> TrackLaneMasks, <span class="keywordtype">bool</span> IgnoreDead) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  RegisterOperandsCollector <a class="code" href="RegUsageInfoCollector_8cpp.html#a56152063c87e42d184c62fab1f3b0481">Collector</a>(*<span class="keyword">this</span>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, IgnoreDead);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">if</span> (TrackLaneMasks)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="RegUsageInfoCollector_8cpp.html#a56152063c87e42d184c62fab1f3b0481">Collector</a>.collectInstrLanes(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="RegUsageInfoCollector_8cpp.html#a56152063c87e42d184c62fab1f3b0481">Collector</a>.collectInstr(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="classllvm_1_1RegisterOperands.html#acee6dacd4d30da478f3ad67f7fc27142">  580</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegisterOperands.html#acee6dacd4d30da478f3ad67f7fc27142">RegisterOperands::detectDeadDefs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;LIS) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SlotIdx = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *RI = <a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>.begin(); RI != <a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>.end(); <span class="comment">/*empty*/</span>) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = RI-&gt;RegUnit;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> *LR = <a class="code" href="RegisterPressure_8cpp.html#a714adb7edca61b6453c861125fe76c93">getLiveRange</a>(LIS, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span> (LR != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <a class="code" href="classllvm_1_1LiveQueryResult.html">LiveQueryResult</a> LRQ = LR-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">Query</a>(SlotIdx);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">if</span> (LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#a149e4cda329019551bbb27fe3159eca6">isDeadDef</a>()) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="comment">// LiveIntervals knows this is a dead even though it&#39;s MachineOperand is</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="comment">// not flagged as such.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>.push_back(*RI);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        RI = <a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>.erase(RI);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    ++RI;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;}</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="classllvm_1_1RegisterOperands.html#a8affa4b2a934ff08aa04e63253a00126">  600</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegisterOperands.html#a8affa4b2a934ff08aa04e63253a00126">RegisterOperands::adjustLaneLiveness</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;LIS,</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                                          <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos,</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                                          <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *AddFlagsMI) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>.begin(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>.end();) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveAfter = <a class="code" href="RegisterPressure_8cpp.html#a9a34eb3ae4410e27d2af2562436e6734">getLiveLanesAt</a>(LIS, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keyword">true</span>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;RegUnit,</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                           Pos.<a class="code" href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">getDeadSlot</a>());</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// If the def is all that is live after the instruction, then in case</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// of a subregister def we need a read-undef flag.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;RegUnit;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">if</span> (RegUnit.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp; AddFlagsMI != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        (LiveAfter &amp; ~<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask).none())</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      AddFlagsMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a05427132a2cb380432ed752b5f2dea6b">setRegisterDefReadUndef</a>(RegUnit);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> ActualDef = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask &amp; LiveAfter;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (ActualDef.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>()) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask = ActualDef;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>.begin(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>.end();) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveBefore = <a class="code" href="RegisterPressure_8cpp.html#a9a34eb3ae4410e27d2af2562436e6734">getLiveLanesAt</a>(LIS, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keyword">true</span>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;RegUnit,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                            Pos.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>());</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask &amp; LiveBefore;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">if</span> (LaneMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>()) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask = LaneMask;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">if</span> (AddFlagsMI != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">if</span> (!RegUnit.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveAfter = <a class="code" href="RegisterPressure_8cpp.html#a9a34eb3ae4410e27d2af2562436e6734">getLiveLanesAt</a>(LIS, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keyword">true</span>, RegUnit,</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                                             Pos.<a class="code" href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">getDeadSlot</a>());</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="keywordflow">if</span> (LiveAfter.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>())</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        AddFlagsMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a05427132a2cb380432ed752b5f2dea6b">setRegisterDefReadUndef</a>(RegUnit);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">/// Initialize an array of N PressureDiffs.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="classllvm_1_1PressureDiffs.html#adc55f26c1bfbbe17074ded7275f3961c">  647</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PressureDiffs.html#adc55f26c1bfbbe17074ded7275f3961c">PressureDiffs::init</a>(<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  Size = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &lt;= Max) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    memset(PDiffArray, 0, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> * <span class="keyword">sizeof</span>(<a class="code" href="classllvm_1_1PressureDiff.html">PressureDiff</a>));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  Max = Size;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  free(PDiffArray);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  PDiffArray = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1PressureDiff.html">PressureDiff</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm.html#aeebd2665b5b9733b65cfa3b3567767c4">safe_calloc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keyword">sizeof</span>(<a class="code" href="classllvm_1_1PressureDiff.html">PressureDiff</a>)));</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;}</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="classllvm_1_1PressureDiffs.html#aa61bffce687c1adbbd0a96f292496128">  658</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PressureDiffs.html#aa61bffce687c1adbbd0a96f292496128">PressureDiffs::addInstruction</a>(<span class="keywordtype">unsigned</span> Idx,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> &amp;RegOpers,</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <a class="code" href="classllvm_1_1PressureDiff.html">PressureDiff</a> &amp;PDiff = (*this)[Idx];</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!PDiff.<a class="code" href="classllvm_1_1PressureDiff.html#ade51f35b5a03cbdcbaa15c8e715adfbe">begin</a>()-&gt;<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>() &amp;&amp; <span class="stringliteral">&quot;stale PDiff&quot;</span>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    PDiff.<a class="code" href="classllvm_1_1PressureDiff.html#aae6716327eea2325dc426c98cbcc74b4">addPressureChange</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit, <span class="keyword">true</span>, &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    PDiff.<a class="code" href="classllvm_1_1PressureDiff.html#aae6716327eea2325dc426c98cbcc74b4">addPressureChange</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit, <span class="keyword">false</span>, &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">/// Add a change in pressure to the pressure diff of a given instruction.</span></div>
<div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="classllvm_1_1PressureDiff.html#aae6716327eea2325dc426c98cbcc74b4">  671</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PressureDiff.html#aae6716327eea2325dc426c98cbcc74b4">PressureDiff::addPressureChange</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit, <span class="keywordtype">bool</span> IsDec,</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="classllvm_1_1PSetIterator.html">PSetIterator</a> PSetI = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#acc1fe08378fadccbf77405721be835ae">getPressureSets</a>(RegUnit);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordtype">int</span> Weight = IsDec ? -PSetI.<a class="code" href="classllvm_1_1PSetIterator.html#a7468f7aa9ad819d0d0294cc66da0c9e8">getWeight</a>() : PSetI.<a class="code" href="classllvm_1_1PSetIterator.html#a7468f7aa9ad819d0d0294cc66da0c9e8">getWeight</a>();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">for</span> (; PSetI.<a class="code" href="classllvm_1_1PSetIterator.html#adca9aa81c4b0432673b64c7c42611df5">isValid</a>(); ++PSetI) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// Find an existing entry in the pressure diff for this PSet.</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="classllvm_1_1PressureChange.html">PressureDiff::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = nonconst_begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = nonconst_end();</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isValid(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getPSet() &gt;= *PSetI)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="comment">// If all pressure sets are more constrained, skip the remaining PSets.</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="comment">// Insert this PressureChange.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isValid() || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getPSet() != *PSetI) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a> PTmp = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>(*PSetI);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PressureChange.html">PressureDiff::iterator</a> J = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>; J != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; PTmp.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>(); ++J)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(*J, PTmp);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="comment">// Update the units for this pressure set.</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordtype">unsigned</span> NewUnitInc = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getUnitInc() + Weight;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> (NewUnitInc != 0) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;setUnitInc(NewUnitInc);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="comment">// Remove entry</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <a class="code" href="classllvm_1_1PressureChange.html">PressureDiff::iterator</a> J;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="keywordflow">for</span> (J = std::next(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>); J != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; J-&gt;<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>(); ++J, ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = *J;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>();</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">/// Force liveness of registers.</span></div>
<div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#aeb7ed55cb8c1a11bf7f3b9a1a46a046f">  706</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#aeb7ed55cb8c1a11bf7f3b9a1a46a046f">RegPressureTracker::addLiveRegs</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;RegisterMaskPair&gt;</a> Regs) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : Regs) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> PrevMask = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#ac8a968a4b51aa0a42d20b98f02edf1c5">insert</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask = PrevMask | <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LaneMask;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">increaseRegPressure</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit, PrevMask, NewMask);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a5202a90dc218d72881c61fd206a5899d">  714</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a5202a90dc218d72881c61fd206a5899d">RegPressureTracker::discoverLiveInOrOut</a>(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> Pair,</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;RegisterMaskPair&gt;</a> &amp;LiveInOrOut) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a1558934dafe16d86cbce953f240210ec">LaneMask</a>.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>());</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit = Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a5ff01f978a11787445ffc3963c4e3054">RegUnit</a>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a>(LiveInOrOut, [RegUnit](<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.RegUnit == RegUnit;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  });</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> PrevMask;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == LiveInOrOut.end()) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    PrevMask = <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>();</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    NewMask = Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a1558934dafe16d86cbce953f240210ec">LaneMask</a>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    LiveInOrOut.push_back(Pair);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    PrevMask = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    NewMask = PrevMask | Pair.<a class="code" href="structllvm_1_1RegisterMaskPair.html#a1558934dafe16d86cbce953f240210ec">LaneMask</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask = NewMask;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="RegisterPressure_8cpp.html#a217ca2f956651626db2bf0fdf48bd82d">increaseSetPressure</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, RegUnit, PrevMask, NewMask);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a785aa4ccba22b01b9d0bfc0fb2736933">  736</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a785aa4ccba22b01b9d0bfc0fb2736933">RegPressureTracker::discoverLiveIn</a>(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> Pair) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#a5202a90dc218d72881c61fd206a5899d">discoverLiveInOrOut</a>(Pair, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LiveInRegs);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a5d876668f1ab1bf2bf527c3f4a96d655">  740</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a5d876668f1ab1bf2bf527c3f4a96d655">RegPressureTracker::discoverLiveOut</a>(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> Pair) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#a5202a90dc218d72881c61fd206a5899d">discoverLiveInOrOut</a>(Pair, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LiveOutRegs);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#abad534485e406bbb792708262aa2ab4e">  744</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#abad534485e406bbb792708262aa2ab4e">RegPressureTracker::bumpDeadDefs</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;RegisterMaskPair&gt;</a> <a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveMask = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a4a4757440aca7a508e30da6a766d7a8d">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> BumpedMask = LiveMask | <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LaneMask;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">increaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveMask, BumpedMask);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveMask = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a4a4757440aca7a508e30da6a766d7a8d">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> BumpedMask = LiveMask | <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LaneMask;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#aeb147ca865dee711c206a23c2fbda878">decreaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, BumpedMask, LiveMask);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">/// Recede across the previous instruction. If LiveUses is provided, record any</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">/// RegUnits that are made live by the current instruction&#39;s uses. This includes</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">/// registers that are both defined and used by the instruction.  If a pressure</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">/// difference pointer is provided record the changes is pressure caused by this</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">/// instruction independent of liveness.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a6810b4c8f54ad3f38ffda780a8442d31">  764</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a19bc5229b207b9de98ffbd0bbf4c84ab">RegPressureTracker::recede</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> &amp;RegOpers,</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                                <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;RegisterMaskPair&gt;</a> *LiveUses) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!CurrPos-&gt;isDebugOrPseudoInstr());</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// Boost pressure for all dead defs together.</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#abad534485e406bbb792708262aa2ab4e">bumpDeadDefs</a>(RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">// Kill liveness at live defs.</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="comment">// TODO: consider earlyclobbers?</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.RegUnit;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> PreviousMask = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#ad467fcf6fdb90425c2f49e6bf16fe827">erase</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask = PreviousMask &amp; ~<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.LaneMask;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveOut = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.LaneMask &amp; ~PreviousMask;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">if</span> (LiveOut.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>()) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <a class="code" href="classllvm_1_1RegPressureTracker.html#a5d876668f1ab1bf2bf527c3f4a96d655">discoverLiveOut</a>(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveOut));</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="comment">// Retroactively model effects on pressure of the live out lanes.</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <a class="code" href="RegisterPressure_8cpp.html#a217ca2f956651626db2bf0fdf48bd82d">increaseSetPressure</a>(CurrSetPressure, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>(),</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                          LiveOut);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      PreviousMask = LiveOut;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">if</span> (NewMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>()) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="comment">// Add a 0 entry to LiveUses as a marker that the complete vreg has become</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="comment">// dead.</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">if</span> (TrackLaneMasks &amp;&amp; LiveUses != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <a class="code" href="RegisterPressure_8cpp.html#ae84a2d10b323d478e73ee4b4684a1d51">setRegZero</a>(*LiveUses, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#aeb147ca865dee711c206a23c2fbda878">decreaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, PreviousMask, NewMask);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SlotIdx;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    SlotIdx = LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*CurrPos).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="comment">// Generate liveness for uses.</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="classllvm_1_1Use.html">Use</a>.RegUnit;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1Use.html">Use</a>.LaneMask.any());</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> PreviousMask = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#ac8a968a4b51aa0a42d20b98f02edf1c5">insert</a>(<a class="code" href="classllvm_1_1Use.html">Use</a>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask = PreviousMask | <a class="code" href="classllvm_1_1Use.html">Use</a>.LaneMask;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span> (NewMask == PreviousMask)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">// Did the register just become live?</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (PreviousMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>()) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="keywordflow">if</span> (LiveUses != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">if</span> (!TrackLaneMasks) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;          <a class="code" href="RegisterPressure_8cpp.html#abde71593c255d98d31f68cb4dfbe1601">addRegLanes</a>(*LiveUses, <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, NewMask));</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;          <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;              <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a>(*LiveUses, [<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>](<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.RegUnit == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;              });</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          <span class="keywordtype">bool</span> IsRedef = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != LiveUses-&gt;end();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          <span class="keywordflow">if</span> (IsRedef) {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            <span class="comment">// ignore re-defs here...</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask.none());</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <a class="code" href="RegisterPressure_8cpp.html#a203c2f7ae6c362c967797502b74cf048">removeRegLanes</a>(*LiveUses, <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, NewMask));</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <a class="code" href="RegisterPressure_8cpp.html#abde71593c255d98d31f68cb4dfbe1601">addRegLanes</a>(*LiveUses, <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, NewMask));</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;          }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="comment">// Discover live outs if this may be the first occurance of this register.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="keywordflow">if</span> (RequireIntervals) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveOut = <a class="code" href="classllvm_1_1RegPressureTracker.html#ad8b14ec0777ac642d3403470e0753533">getLiveThroughAt</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SlotIdx);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">if</span> (LiveOut.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>())</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;          <a class="code" href="classllvm_1_1RegPressureTracker.html#a5d876668f1ab1bf2bf527c3f4a96d655">discoverLiveOut</a>(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveOut));</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">increaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, PreviousMask, NewMask);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">if</span> (TrackUntiedDefs) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.RegUnit;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">if</span> (RegUnit.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;          (LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a4a4757440aca7a508e30da6a766d7a8d">contains</a>(RegUnit) &amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.LaneMask).none())</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        UntiedDefs.insert(RegUnit);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a354c230443b1586633f5697aec0bcd8e">  852</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a354c230443b1586633f5697aec0bcd8e">RegPressureTracker::recedeSkipDebugValues</a>() {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurrPos != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>());</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1RegPressureTracker.html#a6b2a46b62294d7923901959892016838">isBottomClosed</a>())</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#a204b8f2de53bb48cc63b152400c3fdb6">closeBottom</a>();</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="comment">// Open the top of the region using block iterators.</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">if</span> (!RequireIntervals &amp;&amp; <a class="code" href="classllvm_1_1RegPressureTracker.html#aa04a52c4ce53301c9dfca990019c257f">isTopClosed</a>())</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1RegionPressure.html">RegionPressure</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>).openTop(CurrPos);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="comment">// Find the previous instruction.</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  CurrPos = <a class="code" href="namespacellvm.html#ae74dcdb801fe44b3840dd93e6c395066">prev_nodbg</a>(CurrPos, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>());</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SlotIdx;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals &amp;&amp; !CurrPos-&gt;isDebugOrPseudoInstr())</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    SlotIdx = LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*CurrPos).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">// Open the top of the region using slot indexes.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals &amp;&amp; <a class="code" href="classllvm_1_1RegPressureTracker.html#aa04a52c4ce53301c9dfca990019c257f">isTopClosed</a>())</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1IntervalPressure.html">IntervalPressure</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>).openTop(SlotIdx);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a19bc5229b207b9de98ffbd0bbf4c84ab">  873</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a19bc5229b207b9de98ffbd0bbf4c84ab">RegPressureTracker::recede</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;RegisterMaskPair&gt;</a> *LiveUses) {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#a354c230443b1586633f5697aec0bcd8e">recedeSkipDebugValues</a>();</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">if</span> (CurrPos-&gt;isDebugInstr() || CurrPos-&gt;isPseudoProbe()) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// It&#39;s possible to only have debug_value and pseudo probe instructions and</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// hit the start of the block.</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurrPos == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>());</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *CurrPos;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> RegOpers;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#a74e0a918c9705f23a1e5b66f68cc97e9">collect</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrackLaneMasks, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keywordflow">if</span> (TrackLaneMasks) {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SlotIdx = LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*CurrPos).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#a8affa4b2a934ff08aa04e63253a00126">adjustLaneLiveness</a>(*LIS, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, SlotIdx);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RequireIntervals) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#acee6dacd4d30da478f3ad67f7fc27142">detectDeadDefs</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *LIS);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#a19bc5229b207b9de98ffbd0bbf4c84ab">recede</a>(RegOpers, LiveUses);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;}</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">/// Advance across the current instruction.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a147da0e049b6b53046afe6825447eeaa">  896</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a99487c5b550882cba98d817d47cc3fc0">RegPressureTracker::advance</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> &amp;RegOpers) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!TrackUntiedDefs &amp;&amp; <span class="stringliteral">&quot;unsupported mode&quot;</span>);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurrPos != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1RegPressureTracker.html#aa04a52c4ce53301c9dfca990019c257f">isTopClosed</a>())</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#a8759dfc94f9731598942bbbda6280dfe">closeTop</a>();</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SlotIdx;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    SlotIdx = <a class="code" href="classllvm_1_1RegPressureTracker.html#acb935d3f3c59d7ad1049e01788c65f34">getCurrSlot</a>();</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="comment">// Open the bottom of the region using slot indexes.</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1RegPressureTracker.html#a6b2a46b62294d7923901959892016838">isBottomClosed</a>()) {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1IntervalPressure.html">IntervalPressure</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>).openBottom(SlotIdx);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1RegionPressure.html">RegionPressure</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>).openBottom(CurrPos);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="classllvm_1_1Use.html">Use</a>.RegUnit;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveMask = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a4a4757440aca7a508e30da6a766d7a8d">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveIn = <a class="code" href="classllvm_1_1Use.html">Use</a>.LaneMask &amp; ~LiveMask;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">if</span> (LiveIn.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>()) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <a class="code" href="classllvm_1_1RegPressureTracker.html#a785aa4ccba22b01b9d0bfc0fb2736933">discoverLiveIn</a>(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveIn));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <a class="code" href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">increaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveMask, LiveMask | LiveIn);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#ac8a968a4b51aa0a42d20b98f02edf1c5">insert</a>(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveIn));</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="comment">// Kill liveness at last uses.</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (RequireIntervals) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LastUseMask = <a class="code" href="classllvm_1_1RegPressureTracker.html#acba0d5ed53c0ebfa11cc3310e6aef4b1">getLastUsedLanes</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SlotIdx);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="keywordflow">if</span> (LastUseMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>()) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#ad467fcf6fdb90425c2f49e6bf16fe827">erase</a>(<a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LastUseMask));</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <a class="code" href="classllvm_1_1RegPressureTracker.html#aeb147ca865dee711c206a23c2fbda878">decreaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveMask, LiveMask &amp; ~LastUseMask);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">// Generate liveness for defs.</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> PreviousMask = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#ac8a968a4b51aa0a42d20b98f02edf1c5">insert</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask = PreviousMask | <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.LaneMask;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">increaseRegPressure</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.RegUnit, PreviousMask, NewMask);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// Boost pressure for all dead defs together.</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#abad534485e406bbb792708262aa2ab4e">bumpDeadDefs</a>(RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// Find the next instruction.</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  CurrPos = <a class="code" href="namespacellvm.html#a0270bdca4aeb43f39bf91c900a398057">next_nodbg</a>(CurrPos, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;}</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a99487c5b550882cba98d817d47cc3fc0">  947</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a99487c5b550882cba98d817d47cc3fc0">RegPressureTracker::advance</a>() {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *CurrPos;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> RegOpers;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#a74e0a918c9705f23a1e5b66f68cc97e9">collect</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrackLaneMasks, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keywordflow">if</span> (TrackLaneMasks) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SlotIdx = <a class="code" href="classllvm_1_1RegPressureTracker.html#acb935d3f3c59d7ad1049e01788c65f34">getCurrSlot</a>();</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#a8affa4b2a934ff08aa04e63253a00126">adjustLaneLiveness</a>(*LIS, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, SlotIdx);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#a99487c5b550882cba98d817d47cc3fc0">advance</a>(RegOpers);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;}</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">/// Find the max change in excess pressure across all sets.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#a013f10c0323064cf28c1aed647c0b478">  959</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="RegisterPressure_8cpp.html#a013f10c0323064cf28c1aed647c0b478">computeExcessPressureDelta</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> OldPressureVec,</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                                       <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> NewPressureVec,</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                       <a class="code" href="structllvm_1_1RegPressureDelta.html">RegPressureDelta</a> &amp;Delta,</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1RegisterClassInfo.html">RegisterClassInfo</a> *RCI,</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                                       <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> LiveThruPressureVec) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>();</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = OldPressureVec.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordtype">unsigned</span> POld = OldPressureVec[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordtype">unsigned</span> PNew = NewPressureVec[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordtype">int</span> PDiff = (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)PNew - (<span class="keywordtype">int</span>)POld;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">if</span> (!PDiff) <span class="comment">// No change in this set in the common case.</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="comment">// Only consider change beyond the limit.</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordtype">unsigned</span> Limit = RCI-&gt;<a class="code" href="classllvm_1_1RegisterClassInfo.html#a745944b38e5f66edd43f8759c05cb017">getRegPressureSetLimit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">if</span> (!LiveThruPressureVec.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>())</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      Limit += LiveThruPressureVec[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span> (Limit &gt; POld) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="keywordflow">if</span> (Limit &gt; PNew)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        PDiff = 0;            <span class="comment">// Under the limit</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        PDiff = PNew - Limit; <span class="comment">// Just exceeded limit.</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Limit &gt; PNew)</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      PDiff = Limit - POld;   <span class="comment">// Just obeyed limit.</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">if</span> (PDiff) {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a4b74a0d0d1bc2e22fa7376eda3fdd85f">setUnitInc</a>(PDiff);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;}</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment">/// Find the max change in max pressure that either surpasses a critical PSet</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">/// limit or exceeds the current MaxPressureLimit.</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">/// FIXME: comparing each element of the old and new MaxPressure vectors here is</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">/// silly. It&#39;s done now to demonstrate the concept but will go away with a</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">/// RegPressureTracker API change to work with pressure differences.</span></div>
<div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#a822aec28298cd2dc8f346d4753a4154b">  998</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="RegisterPressure_8cpp.html#a822aec28298cd2dc8f346d4753a4154b">computeMaxPressureDelta</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> OldMaxPressureVec,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                                    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> NewMaxPressureVec,</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                                    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;PressureChange&gt;</a> CriticalPSets,</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                                    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> MaxPressureLimit,</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                                    <a class="code" href="structllvm_1_1RegPressureDelta.html">RegPressureDelta</a> &amp;Delta) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>();</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>();</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordtype">unsigned</span> CritIdx = 0, CritEnd = CriticalPSets.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>();</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = OldMaxPressureVec.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordtype">unsigned</span> POld = OldMaxPressureVec[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordtype">unsigned</span> PNew = NewMaxPressureVec[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">if</span> (PNew == POld) <span class="comment">// No change in this set in the common case.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">if</span> (!Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>()) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">while</span> (CritIdx != CritEnd &amp;&amp; CriticalPSets[CritIdx].getPSet() &lt; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        ++CritIdx;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="keywordflow">if</span> (CritIdx != CritEnd &amp;&amp; CriticalPSets[CritIdx].getPSet() == <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordtype">int</span> PDiff = (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)PNew - (<span class="keywordtype">int</span>)CriticalPSets[CritIdx].getUnitInc();</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordflow">if</span> (PDiff &gt; 0) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;          Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;          Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a4b74a0d0d1bc2e22fa7376eda3fdd85f">setUnitInc</a>(PDiff);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      }</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="comment">// Find the first increase above MaxPressureLimit.</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="comment">// (Ignores negative MDiff).</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">if</span> (!Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>() &amp;&amp; PNew &gt; MaxPressureLimit[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a4b74a0d0d1bc2e22fa7376eda3fdd85f">setUnitInc</a>(PNew - POld);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordflow">if</span> (CritIdx == CritEnd || Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>())</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;}</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">/// Record the upward impact of a single instruction on current register</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">/// pressure. Unlike the advance/recede pressure tracking interface, this does</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">/// not discover live in/outs.</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">/// This is intended for speculative queries. It leaves pressure inconsistent</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment">/// with the current position, so must be restored by the caller.</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#ab0885ecf357ddad3594c9a2a5a9527f2"> 1042</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#ab0885ecf357ddad3594c9a2a5a9527f2">RegPressureTracker::bumpUpwardPressure</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isDebugOrPseudoInstr() &amp;&amp; <span class="stringliteral">&quot;Expect a nondebug instruction.&quot;</span>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SlotIdx;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    SlotIdx = LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*MI).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="comment">// Account for register pressure similar to RegPressureTracker::recede().</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> RegOpers;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#a74e0a918c9705f23a1e5b66f68cc97e9">collect</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrackLaneMasks, <span class="comment">/*IgnoreDead=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>.size() == 0);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keywordflow">if</span> (TrackLaneMasks)</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#a8affa4b2a934ff08aa04e63253a00126">adjustLaneLiveness</a>(*LIS, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, SlotIdx);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#acee6dacd4d30da478f3ad67f7fc27142">detectDeadDefs</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *LIS);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="comment">// Boost max pressure for all dead defs together.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="comment">// Since CurrSetPressure and MaxSetPressure</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#abad534485e406bbb792708262aa2ab4e">bumpDeadDefs</a>(RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160; </div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="comment">// Kill liveness at live defs.</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveLanes = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a4a4757440aca7a508e30da6a766d7a8d">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> UseLanes = <a class="code" href="RegisterPressure_8cpp.html#af3cbb39230a4abad465b4f9110e9c048">getRegLanes</a>(RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> DefLanes = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LaneMask;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveAfter = (LiveLanes &amp; ~DefLanes) | UseLanes;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#aeb147ca865dee711c206a23c2fbda878">decreaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveLanes, LiveAfter);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="comment">// Generate liveness for uses.</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.RegUnit;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveLanes = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a4a4757440aca7a508e30da6a766d7a8d">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveAfter = LiveLanes | <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.LaneMask;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">increaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveLanes, LiveAfter);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  }</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">/// Consider the pressure increase caused by traversing this instruction</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">/// bottom-up. Find the pressure set with the most change beyond its pressure</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">/// limit based on the tracker&#39;s current pressure, and return the change in</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">/// number of register units of that pressure set introduced by this</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">/// instruction.</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment">/// This assumes that the current LiveOut set is sufficient.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="comment">/// This is expensive for an on-the-fly query because it calls</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment">/// bumpUpwardPressure to recompute the pressure sets based on current</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment">/// liveness. This mainly exists to verify correctness, e.g. with</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">/// -verify-misched. getUpwardPressureDelta is the fast version of this query</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">/// that uses the per-SUnit cache of the PressureDiff.</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a41a3118fb6bd46e397256b3c9794b61c">RegPressureTracker::</a></div>
<div class="line"><a name="l01094"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a41a3118fb6bd46e397256b3c9794b61c"> 1094</a></span>&#160;<a class="code" href="classllvm_1_1RegPressureTracker.html#a41a3118fb6bd46e397256b3c9794b61c">getMaxUpwardPressureDelta</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1PressureDiff.html">PressureDiff</a> *PDiff,</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                          <a class="code" href="structllvm_1_1RegPressureDelta.html">RegPressureDelta</a> &amp;Delta,</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                          <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;PressureChange&gt;</a> CriticalPSets,</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                          <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> MaxPressureLimit) {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="comment">// Snapshot Pressure.</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">// FIXME: The snapshot heap space should persist. But I&#39;m planning to</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">// summarize the pressure effect so we don&#39;t need to snapshot at all.</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  std::vector&lt;unsigned&gt; SavedPressure = CurrSetPressure;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  std::vector&lt;unsigned&gt; SavedMaxPressure = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#ab0885ecf357ddad3594c9a2a5a9527f2">bumpUpwardPressure</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <a class="code" href="RegisterPressure_8cpp.html#a013f10c0323064cf28c1aed647c0b478">computeExcessPressureDelta</a>(SavedPressure, CurrSetPressure, Delta, RCI,</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                             LiveThruPressure);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <a class="code" href="RegisterPressure_8cpp.html#a822aec28298cd2dc8f346d4753a4154b">computeMaxPressureDelta</a>(SavedMaxPressure, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure, CriticalPSets,</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                          MaxPressureLimit, Delta);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;         Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &gt;= 0 &amp;&amp; <span class="stringliteral">&quot;cannot decrease max pressure&quot;</span>);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="comment">// Restore the tracker&#39;s state.</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure.swap(SavedMaxPressure);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  CurrSetPressure.swap(SavedPressure);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">if</span> (!PDiff)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// Check if the alternate algorithm yields the same result.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <a class="code" href="structllvm_1_1RegPressureDelta.html">RegPressureDelta</a> Delta2;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#af7a0688faef62284ad684e70f342b3da">getUpwardPressureDelta</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *PDiff, Delta2, CriticalPSets, MaxPressureLimit);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">if</span> (Delta != Delta2) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;PDiff: &quot;</span>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    PDiff-&gt;<a class="code" href="classllvm_1_1PressureDiff.html#a86962b61c920a437e06eda5dafd929d5">dump</a>(*<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;DELTA: &quot;</span> &lt;&lt; *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">if</span> (Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>())</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Excess1 &quot;</span> &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">getRegPressureSetName</a>(Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">getPSet</a>())</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">if</span> (Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>())</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Critic1 &quot;</span> &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">getRegPressureSetName</a>(Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">getPSet</a>())</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>())</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;CurrMx1 &quot;</span> &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">getRegPressureSetName</a>(Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">getPSet</a>())</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">if</span> (Delta2.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>())</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Excess2 &quot;</span> &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">getRegPressureSetName</a>(Delta2.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">getPSet</a>())</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; Delta2.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">if</span> (Delta2.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>())</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Critic2 &quot;</span> &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">getRegPressureSetName</a>(Delta2.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">getPSet</a>())</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; Delta2.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">if</span> (Delta2.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>())</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;CurrMx2 &quot;</span> &lt;&lt; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">getRegPressureSetName</a>(Delta2.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">getPSet</a>())</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; Delta2.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;RegP Delta Mismatch&quot;</span>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;}</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment">/// This is the fast version of querying register pressure that does not</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">/// directly depend on current liveness.</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">/// @param Delta captures information needed for heuristics.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">/// @param CriticalPSets Are the pressure sets that are known to exceed some</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment">/// limit within the region, not necessarily at the current position.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment">/// @param MaxPressureLimit Is the max pressure within the region, not</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment">/// necessarily at the current position.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#af7a0688faef62284ad684e70f342b3da">RegPressureTracker::</a></div>
<div class="line"><a name="l01162"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#af7a0688faef62284ad684e70f342b3da"> 1162</a></span>&#160;<a class="code" href="classllvm_1_1RegPressureTracker.html#af7a0688faef62284ad684e70f342b3da">getUpwardPressureDelta</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="comment">/*const*/</span> <a class="code" href="classllvm_1_1PressureDiff.html">PressureDiff</a> &amp;PDiff,</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                       <a class="code" href="structllvm_1_1RegPressureDelta.html">RegPressureDelta</a> &amp;Delta,</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                       <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;PressureChange&gt;</a> CriticalPSets,</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                       <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> MaxPressureLimit)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordtype">unsigned</span> CritIdx = 0, CritEnd = CriticalPSets.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>();</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PressureChange.html">PressureDiff::const_iterator</a></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;         PDiffI = PDiff.<a class="code" href="classllvm_1_1PressureDiff.html#ade51f35b5a03cbdcbaa15c8e715adfbe">begin</a>(), PDiffE = PDiff.<a class="code" href="classllvm_1_1PressureDiff.html#aaeea35b94bc1d5d20885feab986421f6">end</a>();</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;       PDiffI != PDiffE &amp;&amp; PDiffI-&gt;<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>(); ++PDiffI) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordtype">unsigned</span> PSetID = PDiffI-&gt;getPSet();</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordtype">unsigned</span> Limit = RCI-&gt;<a class="code" href="classllvm_1_1RegisterClassInfo.html#a745944b38e5f66edd43f8759c05cb017">getRegPressureSetLimit</a>(PSetID);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">if</span> (!LiveThruPressure.empty())</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      Limit += LiveThruPressure[PSetID];</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordtype">unsigned</span> POld = CurrSetPressure[PSetID];</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordtype">unsigned</span> MOld = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure[PSetID];</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordtype">unsigned</span> MNew = MOld;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="comment">// Ignore DeadDefs here because they aren&#39;t captured by PressureChange.</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordtype">unsigned</span> PNew = POld + PDiffI-&gt;getUnitInc();</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((PDiffI-&gt;getUnitInc() &gt;= 0) == (PNew &gt;= POld)</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;           &amp;&amp; <span class="stringliteral">&quot;PSet overflow/underflow&quot;</span>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">if</span> (PNew &gt; MOld)</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      MNew = PNew;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="comment">// Check if current pressure has exceeded the limit.</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">if</span> (!Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>()) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      <span class="keywordtype">unsigned</span> ExcessInc = 0;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="keywordflow">if</span> (PNew &gt; Limit)</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        ExcessInc = POld &gt; Limit ? PNew - POld : PNew - Limit;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (POld &gt; Limit)</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        ExcessInc = Limit - POld;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <span class="keywordflow">if</span> (ExcessInc) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>(PSetID);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">Excess</a>.<a class="code" href="classllvm_1_1PressureChange.html#a4b74a0d0d1bc2e22fa7376eda3fdd85f">setUnitInc</a>(ExcessInc);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="comment">// Check if max pressure has exceeded a critical pressure set max.</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">if</span> (MNew == MOld)</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">if</span> (!Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>()) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <span class="keywordflow">while</span> (CritIdx != CritEnd &amp;&amp; CriticalPSets[CritIdx].getPSet() &lt; PSetID)</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        ++CritIdx;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <span class="keywordflow">if</span> (CritIdx != CritEnd &amp;&amp; CriticalPSets[CritIdx].getPSet() == PSetID) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="keywordtype">int</span> CritInc = (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)MNew - (<span class="keywordtype">int</span>)CriticalPSets[CritIdx].getUnitInc();</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="keywordflow">if</span> (CritInc &gt; 0 &amp;&amp; CritInc &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;int16_t&gt;::max</a>()) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;          Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>(PSetID);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;          Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a4b74a0d0d1bc2e22fa7376eda3fdd85f">setUnitInc</a>(CritInc);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="comment">// Check if max pressure has exceeded the current max.</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">if</span> (!Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">isValid</a>() &amp;&amp; MNew &gt; MaxPressureLimit[PSetID]) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a> = <a class="code" href="classllvm_1_1PressureChange.html">PressureChange</a>(PSetID);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a4b74a0d0d1bc2e22fa7376eda3fdd85f">setUnitInc</a>(MNew - MOld);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;}</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment">/// Helper to find a vreg use between two indices [PriorUseIdx, NextUseIdx).</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">/// The query starts with a lane bitmask which gets lanes/bits removed for every</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment">/// use we find.</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"><a class="line" href="RegisterPressure_8cpp.html#ac9883c9ec5baeee39d4215b9af8e0a70"> 1223</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> <a class="code" href="RegisterPressure_8cpp.html#ac9883c9ec5baeee39d4215b9af8e0a70">findUseBetween</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LastUseMask,</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                                  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> PriorUseIdx, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> NextUseIdx,</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *LIS) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aed4562ccf898feaf2eb6cf5555b5084d">getTargetRegisterInfo</a>();</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5a5871d5cc628499a6d8e56734873e01">use_nodbg_operands</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>())</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>();</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> InstSlot = LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*MI).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> (InstSlot &gt;= PriorUseIdx &amp;&amp; InstSlot &lt; NextUseIdx) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordtype">unsigned</span> SubRegIdx = MO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> UseMask = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(SubRegIdx);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      LastUseMask &amp;= ~UseMask;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      <span class="keywordflow">if</span> (LastUseMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>())</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>();</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="keywordflow">return</span> LastUseMask;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;}</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a9551d47c4a9bc95eec03d02f11dfef3b"> 1244</a></span>&#160;<a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> <a class="code" href="classllvm_1_1RegPressureTracker.html#a9551d47c4a9bc95eec03d02f11dfef3b">RegPressureTracker::getLiveLanesAt</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit,</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                                               <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RequireIntervals);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="RegisterPressure_8cpp.html#af22048866afa263f60942281802899e5">getLanesWithProperty</a>(*LIS, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrackLaneMasks, RegUnit, Pos,</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                              <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>(),</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos) {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="keywordflow">return</span> LR.<a class="code" href="classllvm_1_1LiveRange.html#a400c0b88110521ad1de258a7885d9038">liveAt</a>(Pos);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      });</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#acba0d5ed53c0ebfa11cc3310e6aef4b1"> 1254</a></span>&#160;<a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> <a class="code" href="classllvm_1_1RegPressureTracker.html#acba0d5ed53c0ebfa11cc3310e6aef4b1">RegPressureTracker::getLastUsedLanes</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit,</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                                                 <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RequireIntervals);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="RegisterPressure_8cpp.html#af22048866afa263f60942281802899e5">getLanesWithProperty</a>(*LIS, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrackLaneMasks, RegUnit,</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                              Pos.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>(), <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>(),</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        const LiveRange::Segment *S = LR.getSegmentContaining(Pos);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        return S != nullptr &amp;&amp; S-&gt;end == Pos.getRegSlot();</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      });</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;}</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#ad8b14ec0777ac642d3403470e0753533"> 1265</a></span>&#160;<a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> <a class="code" href="classllvm_1_1RegPressureTracker.html#ad8b14ec0777ac642d3403470e0753533">RegPressureTracker::getLiveThroughAt</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> RegUnit,</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                                                 <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RequireIntervals);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="RegisterPressure_8cpp.html#af22048866afa263f60942281802899e5">getLanesWithProperty</a>(*LIS, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrackLaneMasks, RegUnit, Pos,</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                              <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>(),</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="keyword">const</span> <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = LR.<a class="code" href="classllvm_1_1LiveRange.html#a43f03898b29d823b707f6b4883c929a4">getSegmentContaining</a>(Pos);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;start &lt; Pos.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(<span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;               <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;end != Pos.<a class="code" href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">getDeadSlot</a>();</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      });</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;}</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">/// Record the downward impact of a single instruction on current register</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">/// pressure. Unlike the advance/recede pressure tracking interface, this does</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">/// not discover live in/outs.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment">/// This is intended for speculative queries. It leaves pressure inconsistent</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">/// with the current position, so must be restored by the caller.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a2b8b6196a7458b6a84480f03e2f1355d"> 1283</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a2b8b6196a7458b6a84480f03e2f1355d">RegPressureTracker::bumpDownwardPressure</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isDebugOrPseudoInstr() &amp;&amp; <span class="stringliteral">&quot;Expect a nondebug instruction.&quot;</span>);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SlotIdx;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals)</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    SlotIdx = LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*MI).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="comment">// Account for register pressure similar to RegPressureTracker::recede().</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> RegOpers;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#a74e0a918c9705f23a1e5b66f68cc97e9">collect</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, TrackLaneMasks, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="keywordflow">if</span> (TrackLaneMasks)</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#a8affa4b2a934ff08aa04e63253a00126">adjustLaneLiveness</a>(*LIS, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, SlotIdx);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordflow">if</span> (RequireIntervals) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">Uses</a>) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="classllvm_1_1Use.html">Use</a>.RegUnit;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LastUseMask = <a class="code" href="classllvm_1_1RegPressureTracker.html#acba0d5ed53c0ebfa11cc3310e6aef4b1">getLastUsedLanes</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SlotIdx);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <span class="keywordflow">if</span> (LastUseMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>())</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <span class="comment">// The LastUseMask is queried from the liveness information of instruction</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="comment">// which may be further down the schedule. Some lanes may actually not be</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <span class="comment">// last uses for the current position.</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="comment">// FIXME: allow the caller to pass in the list of vreg uses that remain</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="comment">// to be bottom-scheduled to avoid searching uses at each query.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> CurrIdx = <a class="code" href="classllvm_1_1RegPressureTracker.html#acb935d3f3c59d7ad1049e01788c65f34">getCurrSlot</a>();</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      LastUseMask</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        = <a class="code" href="RegisterPressure_8cpp.html#ac9883c9ec5baeee39d4215b9af8e0a70">findUseBetween</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LastUseMask, CurrIdx, SlotIdx, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, LIS);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <span class="keywordflow">if</span> (LastUseMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>())</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveMask = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a4a4757440aca7a508e30da6a766d7a8d">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask = LiveMask &amp; ~LastUseMask;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <a class="code" href="classllvm_1_1RegPressureTracker.html#aeb147ca865dee711c206a23c2fbda878">decreaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveMask, NewMask);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    }</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="comment">// Generate liveness for defs.</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1RegisterMaskPair.html">RegisterMaskPair</a> &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> : RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">Defs</a>) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.RegUnit;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LiveMask = LiveRegs.<a class="code" href="classllvm_1_1LiveRegSet.html#a4a4757440aca7a508e30da6a766d7a8d">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> NewMask = LiveMask | <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.LaneMask;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">increaseRegPressure</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LiveMask, NewMask);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="comment">// Boost pressure for all dead defs together.</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#abad534485e406bbb792708262aa2ab4e">bumpDeadDefs</a>(RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">DeadDefs</a>);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;}</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="comment">/// Consider the pressure increase caused by traversing this instruction</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment">/// top-down. Find the register class with the most change in its pressure limit</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">/// based on the tracker&#39;s current pressure, and return the number of excess</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment">/// register units of that pressure set introduced by this instruction.</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment">/// This assumes that the current LiveIn set is sufficient.</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="comment">/// This is expensive for an on-the-fly query because it calls</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="comment">/// bumpDownwardPressure to recompute the pressure sets based on current</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="comment">/// liveness. We don&#39;t yet have a fast version of downward pressure tracking</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="comment">/// analogous to getUpwardPressureDelta.</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#a972fa38378a3d49a9bb48ca584621438">RegPressureTracker::</a></div>
<div class="line"><a name="l01343"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#a972fa38378a3d49a9bb48ca584621438"> 1343</a></span>&#160;<a class="code" href="classllvm_1_1RegPressureTracker.html#a972fa38378a3d49a9bb48ca584621438">getMaxDownwardPressureDelta</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="structllvm_1_1RegPressureDelta.html">RegPressureDelta</a> &amp;Delta,</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                            <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;PressureChange&gt;</a> CriticalPSets,</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                            <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> MaxPressureLimit) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="comment">// Snapshot Pressure.</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  std::vector&lt;unsigned&gt; SavedPressure = CurrSetPressure;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  std::vector&lt;unsigned&gt; SavedMaxPressure = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#a2b8b6196a7458b6a84480f03e2f1355d">bumpDownwardPressure</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <a class="code" href="RegisterPressure_8cpp.html#a013f10c0323064cf28c1aed647c0b478">computeExcessPressureDelta</a>(SavedPressure, CurrSetPressure, Delta, RCI,</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                             LiveThruPressure);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <a class="code" href="RegisterPressure_8cpp.html#a822aec28298cd2dc8f346d4753a4154b">computeMaxPressureDelta</a>(SavedMaxPressure, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure, CriticalPSets,</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                          MaxPressureLimit, Delta);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">CriticalMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;         Delta.<a class="code" href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">CurrentMax</a>.<a class="code" href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">getUnitInc</a>() &gt;= 0 &amp;&amp; <span class="stringliteral">&quot;cannot decrease max pressure&quot;</span>);</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="comment">// Restore the tracker&#39;s state.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure.swap(SavedMaxPressure);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  CurrSetPressure.swap(SavedPressure);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;}</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment">/// Get the pressure of each PSet after traversing this instruction bottom-up.</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#ad552b6e557acce957b3bd5a1960a53dd">RegPressureTracker::</a></div>
<div class="line"><a name="l01366"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#ad552b6e557acce957b3bd5a1960a53dd"> 1366</a></span>&#160;<a class="code" href="classllvm_1_1RegPressureTracker.html#ad552b6e557acce957b3bd5a1960a53dd">getUpwardPressure</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                  std::vector&lt;unsigned&gt; &amp;PressureResult,</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                  std::vector&lt;unsigned&gt; &amp;MaxPressureResult) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="comment">// Snapshot pressure.</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  PressureResult = CurrSetPressure;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  MaxPressureResult = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#ab0885ecf357ddad3594c9a2a5a9527f2">bumpUpwardPressure</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="comment">// Current pressure becomes the result. Restore current pressure.</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure.swap(MaxPressureResult);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  CurrSetPressure.swap(PressureResult);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;}</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">/// Get the pressure of each PSet after traversing this instruction top-down.</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegPressureTracker.html#ac1bfd03ca8fa96ab674c7f7b620dd8a6">RegPressureTracker::</a></div>
<div class="line"><a name="l01382"></a><span class="lineno"><a class="line" href="classllvm_1_1RegPressureTracker.html#ac1bfd03ca8fa96ab674c7f7b620dd8a6"> 1382</a></span>&#160;<a class="code" href="classllvm_1_1RegPressureTracker.html#ac1bfd03ca8fa96ab674c7f7b620dd8a6">getDownwardPressure</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                    std::vector&lt;unsigned&gt; &amp;PressureResult,</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                    std::vector&lt;unsigned&gt; &amp;MaxPressureResult) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="comment">// Snapshot pressure.</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  PressureResult = CurrSetPressure;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  MaxPressureResult = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <a class="code" href="classllvm_1_1RegPressureTracker.html#a2b8b6196a7458b6a84480f03e2f1355d">bumpDownwardPressure</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="comment">// Current pressure becomes the result. Restore current pressure.</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.MaxSetPressure.swap(MaxPressureResult);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  CurrSetPressure.swap(PressureResult);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a77304a98095575cf08c43d237137c77e"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a77304a98095575cf08c43d237137c77e">llvm::RegPressureTracker::hasUntiedDef</a></div><div class="ttdeci">bool hasUntiedDef(Register VirtReg) const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00534">RegisterPressure.h:534</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html">llvm::LaneBitmask</a></div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00040">LaneBitmask.h:40</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html_a2914e3c0dd7cb72d6d1eb4343a0bd6c9"><div class="ttname"><a href="classllvm_1_1PressureChange.html#a2914e3c0dd7cb72d6d1eb4343a0bd6c9">llvm::PressureChange::getPSetOrMax</a></div><div class="ttdeci">unsigned getPSetOrMax() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00120">RegisterPressure.h:120</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0270bdca4aeb43f39bf91c900a398057"><div class="ttname"><a href="namespacellvm.html#a0270bdca4aeb43f39bf91c900a398057">llvm::next_nodbg</a></div><div class="ttdeci">IterT next_nodbg(IterT It, IterT End, bool SkipPseudoOp=true)</div><div class="ttdoc">Increment It, then continue incrementing it while it points to a debug instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01323">MachineBasicBlock.h:1323</a></div></div>
<div class="ttc" id="astructllvm_1_1RegionPressure_html_aa7faa2156e15c1085990ef11a6d19ac5"><div class="ttname"><a href="structllvm_1_1RegionPressure.html#aa7faa2156e15c1085990ef11a6d19ac5">llvm::RegionPressure::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Clear the result so it can be used for another round of pressure tracking.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00185">RegisterPressure.cpp:185</a></div></div>
<div class="ttc" id="astructllvm_1_1RegionPressure_html_a95ad2a20b3dfb8ad87da59d86420597d"><div class="ttname"><a href="structllvm_1_1RegionPressure.html#a95ad2a20b3dfb8ad87da59d86420597d">llvm::RegionPressure::BottomPos</a></div><div class="ttdeci">MachineBasicBlock::const_iterator BottomPos</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00085">RegisterPressure.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_ad8b14ec0777ac642d3403470e0753533"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#ad8b14ec0777ac642d3403470e0753533">llvm::RegPressureTracker::getLiveThroughAt</a></div><div class="ttdeci">LaneBitmask getLiveThroughAt(Register RegUnit, SlotIndex Pos) const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01265">RegisterPressure.cpp:1265</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterOperands_html_acee6dacd4d30da478f3ad67f7fc27142"><div class="ttname"><a href="classllvm_1_1RegisterOperands.html#acee6dacd4d30da478f3ad67f7fc27142">llvm::RegisterOperands::detectDeadDefs</a></div><div class="ttdeci">void detectDeadDefs(const MachineInstr &amp;MI, const LiveIntervals &amp;LIS)</div><div class="ttdoc">Use liveness information to find dead defs not marked with a dead flag and move them to the DeadDefs ...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00580">RegisterPressure.cpp:580</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00492">Compiler.h:492</a></div></div>
<div class="ttc" id="aclassllvm_1_1PSetIterator_html_adca9aa81c4b0432673b64c7c42611df5"><div class="ttname"><a href="classllvm_1_1PSetIterator.html#adca9aa81c4b0432673b64c7c42611df5">llvm::PSetIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l01254">MachineRegisterInfo.h:1254</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a563ffc2ff61c499b3be2e00100cb72fa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">llvm::SmallVectorImpl::erase</a></div><div class="ttdeci">iterator erase(const_iterator CI)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00741">SmallVector.h:741</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_aeb7ed55cb8c1a11bf7f3b9a1a46a046f"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#aeb7ed55cb8c1a11bf7f3b9a1a46a046f">llvm::RegPressureTracker::addLiveRegs</a></div><div class="ttdeci">void addLiveRegs(ArrayRef&lt; RegisterMaskPair &gt; Regs)</div><div class="ttdoc">Force liveness of virtual registers or physical register units.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00706">RegisterPressure.cpp:706</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a5d044b599a2e3a1007e31a120105c9d7"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a5d044b599a2e3a1007e31a120105c9d7">llvm::RegPressureTracker::init</a></div><div class="ttdeci">void init(const MachineFunction *mf, const RegisterClassInfo *rci, const LiveIntervals *lis, const MachineBasicBlock *mbb, MachineBasicBlock::const_iterator pos, bool TrackLaneMasks, bool TrackUntiedDefs)</div><div class="ttdoc">Setup the RegPressureTracker.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00263">RegisterPressure.cpp:263</a></div></div>
<div class="ttc" id="anamespacellvm_html_a788c5905de970028eb0efa2266bd10bf"><div class="ttname"><a href="namespacellvm.html#a788c5905de970028eb0efa2266bd10bf">llvm::printVRegOrUnit</a></div><div class="ttdeci">Printable printVRegOrUnit(unsigned VRegOrUnit, const TargetRegisterInfo *TRI)</div><div class="ttdoc">Create Printable object to print virtual registers and physical registers on a raw_ostream.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00165">TargetRegisterInfo.cpp:165</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterOperands_html_aff67cb6e7389e1858b0120c7c4faf463"><div class="ttname"><a href="classllvm_1_1RegisterOperands.html#aff67cb6e7389e1858b0120c7c4faf463">llvm::RegisterOperands::Defs</a></div><div class="ttdeci">SmallVector&lt; RegisterMaskPair, 8 &gt; Defs</div><div class="ttdoc">List of virtual registers and register units defined by the instruction which are not dead.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00172">RegisterPressure.h:172</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_acb935d3f3c59d7ad1049e01788c65f34"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#acb935d3f3c59d7ad1049e01788c65f34">llvm::RegPressureTracker::getCurrSlot</a></div><div class="ttdeci">SlotIndex getCurrSlot() const</div><div class="ttdoc">Get the SlotIndex for the first nondebug instruction including or after the current position.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00310">RegisterPressure.cpp:310</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterOperands_html"><div class="ttname"><a href="classllvm_1_1RegisterOperands.html">llvm::RegisterOperands</a></div><div class="ttdoc">List of registers defined and used by a machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00166">RegisterPressure.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureDiff_html"><div class="ttname"><a href="classllvm_1_1PressureDiff.html">llvm::PressureDiff</a></div><div class="ttdoc">List of PressureChanges in order of increasing, unique PSetID.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00140">RegisterPressure.h:140</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_ad552b6e557acce957b3bd5a1960a53dd"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#ad552b6e557acce957b3bd5a1960a53dd">llvm::RegPressureTracker::getUpwardPressure</a></div><div class="ttdeci">void getUpwardPressure(const MachineInstr *MI, std::vector&lt; unsigned &gt; &amp;PressureResult, std::vector&lt; unsigned &gt; &amp;MaxPressureResult)</div><div class="ttdoc">Get the pressure of each PSet after traversing this instruction bottom-up.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01366">RegisterPressure.cpp:1366</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegSet_html_ad467fcf6fdb90425c2f49e6bf16fe827"><div class="ttname"><a href="classllvm_1_1LiveRegSet.html#ad467fcf6fdb90425c2f49e6bf16fe827">llvm::LiveRegSet::erase</a></div><div class="ttdeci">LaneBitmask erase(RegisterMaskPair Pair)</div><div class="ttdoc">Clears the Pair.LaneMask lanes of Pair.Reg (mark them as dead).</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00317">RegisterPressure.h:317</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_af946f316ed42f8b5eb99735a3b587ab5"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">llvm::MCRegisterInfo::getNumRegs</a></div><div class="ttdeci">unsigned getNumRegs() const</div><div class="ttdoc">Return the number of registers this target has (useful for sizing arrays holding per register informa...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00491">MCRegisterInfo.h:491</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aed4562ccf898feaf2eb6cf5555b5084d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aed4562ccf898feaf2eb6cf5555b5084d">llvm::MachineRegisterInfo::getTargetRegisterInfo</a></div><div class="ttdeci">const TargetRegisterInfo * getTargetRegisterInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00156">MachineRegisterInfo.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveQueryResult_html_a149e4cda329019551bbb27fe3159eca6"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html#a149e4cda329019551bbb27fe3159eca6">llvm::LiveQueryResult::isDeadDef</a></div><div class="ttdeci">bool isDeadDef() const</div><div class="ttdoc">Return true if this instruction has a dead def.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00117">LiveInterval.h:117</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveRange_1_1Segment_html"><div class="ttname"><a href="structllvm_1_1LiveRange_1_1Segment.html">llvm::LiveRange::Segment</a></div><div class="ttdoc">This represents a simple continuous liveness interval for a value.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00162">LiveInterval.h:162</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_a9a34eb3ae4410e27d2af2562436e6734"><div class="ttname"><a href="RegisterPressure_8cpp.html#a9a34eb3ae4410e27d2af2562436e6734">getLiveLanesAt</a></div><div class="ttdeci">static LaneBitmask getLiveLanesAt(const LiveIntervals &amp;LIS, const MachineRegisterInfo &amp;MRI, bool TrackLaneMasks, Register RegUnit, SlotIndex Pos)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00449">RegisterPressure.cpp:449</a></div></div>
<div class="ttc" id="aRegisterClassInfo_8h_html"><div class="ttname"><a href="RegisterClassInfo_8h.html">RegisterClassInfo.h</a></div></div>
<div class="ttc" id="astructllvm_1_1IntervalPressure_html"><div class="ttname"><a href="structllvm_1_1IntervalPressure.html">llvm::IntervalPressure</a></div><div class="ttdoc">RegisterPressure computed within a region of instructions delimited by TopIdx and BottomIdx.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00067">RegisterPressure.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_abad534485e406bbb792708262aa2ab4e"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#abad534485e406bbb792708262aa2ab4e">llvm::RegPressureTracker::bumpDeadDefs</a></div><div class="ttdeci">void bumpDeadDefs(ArrayRef&lt; RegisterMaskPair &gt; DeadDefs)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00744">RegisterPressure.cpp:744</a></div></div>
<div class="ttc" id="aMachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_af3cbb39230a4abad465b4f9110e9c048"><div class="ttname"><a href="RegisterPressure_8cpp.html#af3cbb39230a4abad465b4f9110e9c048">getRegLanes</a></div><div class="ttdeci">static LaneBitmask getRegLanes(ArrayRef&lt; RegisterMaskPair &gt; RegUnits, Register RegUnit)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00370">RegisterPressure.cpp:370</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a87849514193302b75f50a8092f94b98a"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">llvm::TargetSubtargetInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - If register information is available, return it.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00127">TargetSubtargetInfo.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_html_aeebd2665b5b9733b65cfa3b3567767c4"><div class="ttname"><a href="namespacellvm.html#aeebd2665b5b9733b65cfa3b3567767c4">llvm::safe_calloc</a></div><div class="ttdeci">LLVM_ATTRIBUTE_RETURNS_NONNULL void * safe_calloc(size_t Count, size_t Sz)</div><div class="ttdef"><b>Definition:</b> <a href="MemAlloc_8h_source.html#l00038">MemAlloc.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html">llvm::RegPressureTracker</a></div><div class="ttdoc">Track the current register pressure at some position in the instruction stream, and remember the high...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00357">RegisterPressure.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegSet_html_ac8a968a4b51aa0a42d20b98f02edf1c5"><div class="ttname"><a href="classllvm_1_1LiveRegSet.html#ac8a968a4b51aa0a42d20b98f02edf1c5">llvm::LiveRegSet::insert</a></div><div class="ttdeci">LaneBitmask insert(RegisterMaskPair Pair)</div><div class="ttdoc">Mark the Pair.LaneMask lanes of Pair.Reg as live.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00304">RegisterPressure.h:304</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterMaskPair_html"><div class="ttname"><a href="structllvm_1_1RegisterMaskPair.html">llvm::RegisterMaskPair</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00038">RegisterPressure.h:38</a></div></div>
<div class="ttc" id="astructllvm_1_1RegionPressure_html_a7819525095c6fe30609b59058fc31427"><div class="ttname"><a href="structllvm_1_1RegionPressure.html#a7819525095c6fe30609b59058fc31427">llvm::RegionPressure::TopPos</a></div><div class="ttdeci">MachineBasicBlock::const_iterator TopPos</div><div class="ttdoc">Record the boundary of the region being tracked.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00084">RegisterPressure.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ae73582bbbc71758dcac70cd8c56210e4"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">llvm::MachineRegisterInfo::getNumVirtRegs</a></div><div class="ttdeci">unsigned getNumVirtRegs() const</div><div class="ttdoc">getNumVirtRegs - Return the number of virtual registers created.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00784">MachineRegisterInfo.h:784</a></div></div>
<div class="ttc" id="astructllvm_1_1RegionPressure_html_ad620503b286436fe7252602b9451dfca"><div class="ttname"><a href="structllvm_1_1RegionPressure.html#ad620503b286436fe7252602b9451dfca">llvm::RegionPressure::openBottom</a></div><div class="ttdeci">void openBottom(MachineBasicBlock::const_iterator PrevBottom)</div><div class="ttdoc">If the current bottom is the previous instr (before advancing), open it.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00218">RegisterPressure.cpp:218</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a1844e0ed5cc8c90d7afaad0bea1e48d7"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a1844e0ed5cc8c90d7afaad0bea1e48d7">llvm::RegPressureTracker::closeRegion</a></div><div class="ttdeci">void closeRegion()</div><div class="ttdoc">Finalize the region boundaries and recored live ins and live outs.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00343">RegisterPressure.cpp:343</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterMaskPair_html_a5ff01f978a11787445ffc3963c4e3054"><div class="ttname"><a href="structllvm_1_1RegisterMaskPair.html#a5ff01f978a11787445ffc3963c4e3054">llvm::RegisterMaskPair::RegUnit</a></div><div class="ttdeci">Register RegUnit</div><div class="ttdoc">Virtual register or register unit.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00039">RegisterPressure.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveQueryResult_html"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html">llvm::LiveQueryResult</a></div><div class="ttdoc">Result of a LiveRange query.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00090">LiveInterval.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureDiffs_html_adc55f26c1bfbbe17074ded7275f3961c"><div class="ttname"><a href="classllvm_1_1PressureDiffs.html#adc55f26c1bfbbe17074ded7275f3961c">llvm::PressureDiffs::init</a></div><div class="ttdeci">void init(unsigned N)</div><div class="ttdoc">Initialize an array of N PressureDiffs.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00647">RegisterPressure.cpp:647</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ac835b8735b1b2faec0efdca236e37d94"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Check if the array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00158">ArrayRef.h:158</a></div></div>
<div class="ttc" id="aRegisterPressure_8h_html"><div class="ttname"><a href="RegisterPressure_8h.html">RegisterPressure.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a6f3043b29023d270fc4bc5062dff7cee"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">llvm::LiveIntervals::getInstructionIndex</a></div><div class="ttdeci">SlotIndex getInstructionIndex(const MachineInstr &amp;Instr) const</div><div class="ttdoc">Returns the base index of the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00220">LiveIntervals.h:220</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="aRegUsageInfoCollector_8cpp_html_a56152063c87e42d184c62fab1f3b0481"><div class="ttname"><a href="RegUsageInfoCollector_8cpp.html#a56152063c87e42d184c62fab1f3b0481">Collector</a></div><div class="ttdeci">Register Usage Information Collector</div><div class="ttdef"><b>Definition:</b> <a href="RegUsageInfoCollector_8cpp_source.html#l00073">RegUsageInfoCollector.cpp:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a199a6e4bfdffc8f3379ef4f35004488f"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a199a6e4bfdffc8f3379ef4f35004488f">llvm::MachineBasicBlock::const_iterator</a></div><div class="ttdeci">MachineInstrBundleIterator&lt; const MachineInstr &gt; const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00274">MachineBasicBlock.h:274</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_abde71593c255d98d31f68cb4dfbe1601"><div class="ttname"><a href="RegisterPressure_8cpp.html#abde71593c255d98d31f68cb4dfbe1601">addRegLanes</a></div><div class="ttdeci">static void addRegLanes(SmallVectorImpl&lt; RegisterMaskPair &gt; &amp;RegUnits, RegisterMaskPair Pair)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00380">RegisterPressure.cpp:380</a></div></div>
<div class="ttc" id="astructllvm_1_1RegPressureDelta_html_a85d20a585ffc9e9dd7bff5aa8ba38443"><div class="ttname"><a href="structllvm_1_1RegPressureDelta.html#a85d20a585ffc9e9dd7bff5aa8ba38443">llvm::RegPressureDelta::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00143">RegisterPressure.cpp:143</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterMaskPair_html_a1558934dafe16d86cbce953f240210ec"><div class="ttname"><a href="structllvm_1_1RegisterMaskPair.html#a1558934dafe16d86cbce953f240210ec">llvm::RegisterMaskPair::LaneMask</a></div><div class="ttdeci">LaneBitmask LaneMask</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00040">RegisterPressure.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureDiffs_html_aa61bffce687c1adbbd0a96f292496128"><div class="ttname"><a href="classllvm_1_1PressureDiffs.html#aa61bffce687c1adbbd0a96f292496128">llvm::PressureDiffs::addInstruction</a></div><div class="ttdeci">void addInstruction(unsigned Idx, const RegisterOperands &amp;RegOpers, const MachineRegisterInfo &amp;MRI)</div><div class="ttdoc">Record pressure difference induced by the given operand list to node with index Idx.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00658">RegisterPressure.cpp:658</a></div></div>
<div class="ttc" id="aclassllvm_1_1PSetIterator_html"><div class="ttname"><a href="classllvm_1_1PSetIterator.html">llvm::PSetIterator</a></div><div class="ttdoc">Iterate over the pressure sets affected by the given physical or virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l01233">MachineRegisterInfo.h:1233</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a6b2a46b62294d7923901959892016838"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a6b2a46b62294d7923901959892016838">llvm::RegPressureTracker::isBottomClosed</a></div><div class="ttdeci">bool isBottomClosed() const</div><div class="ttdoc">Does this pressure result have a valid bottom position and live outs.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00303">RegisterPressure.cpp:303</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5a5871d5cc628499a6d8e56734873e01"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5a5871d5cc628499a6d8e56734873e01">llvm::MachineRegisterInfo::use_nodbg_operands</a></div><div class="ttdeci">iterator_range&lt; use_nodbg_iterator &gt; use_nodbg_operands(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00548">MachineRegisterInfo.h:548</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a400c0b88110521ad1de258a7885d9038"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a400c0b88110521ad1de258a7885d9038">llvm::LiveRange::liveAt</a></div><div class="ttdeci">bool liveAt(SlotIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00401">LiveInterval.h:401</a></div></div>
<div class="ttc" id="astructllvm_1_1RegPressureDelta_html_a589e1a7e9a8a095d8d01ff8ba32b3d14"><div class="ttname"><a href="structllvm_1_1RegPressureDelta.html#a589e1a7e9a8a095d8d01ff8ba32b3d14">llvm::RegPressureDelta::CurrentMax</a></div><div class="ttdeci">PressureChange CurrentMax</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00241">RegisterPressure.h:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a7a23b6fb3b79b0c2bf4bf4f0cb042840"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">llvm::TargetRegisterInfo::getSubRegIndexLaneMask</a></div><div class="ttdeci">LaneBitmask getSubRegIndexLaneMask(unsigned SubIdx) const</div><div class="ttdoc">Return a bitmask representing the parts of a register that are covered by SubIdx.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00380">TargetRegisterInfo.h:380</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_af68f45baf4510224cb6ecf00019a9987"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#af68f45baf4510224cb6ecf00019a9987">llvm::LiveIntervals::getCachedRegUnit</a></div><div class="ttdeci">LiveRange * getCachedRegUnit(unsigned Unit)</div><div class="ttdoc">Return the live range for register unit Unit if it has already been computed, or nullptr if it hasn't...</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00400">LiveIntervals.h:400</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_af7a0688faef62284ad684e70f342b3da"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#af7a0688faef62284ad684e70f342b3da">llvm::RegPressureTracker::getUpwardPressureDelta</a></div><div class="ttdeci">void getUpwardPressureDelta(const MachineInstr *MI, PressureDiff &amp;PDiff, RegPressureDelta &amp;Delta, ArrayRef&lt; PressureChange &gt; CriticalPSets, ArrayRef&lt; unsigned &gt; MaxPressureLimit) const</div><div class="ttdoc">This is the fast version of querying register pressure that does not directly depend on current liven...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01162">RegisterPressure.cpp:1162</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_a203c2f7ae6c362c967797502b74cf048"><div class="ttname"><a href="RegisterPressure_8cpp.html#a203c2f7ae6c362c967797502b74cf048">removeRegLanes</a></div><div class="ttdeci">static void removeRegLanes(SmallVectorImpl&lt; RegisterMaskPair &gt; &amp;RegUnits, RegisterMaskPair Pair)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00406">RegisterPressure.cpp:406</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a69544ec8658eadeed98245dc37c3a541"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00379">MachineOperand.h:379</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureDiff_html_aaeea35b94bc1d5d20885feab986421f6"><div class="ttname"><a href="classllvm_1_1PressureDiff.html#aaeea35b94bc1d5d20885feab986421f6">llvm::PressureDiff::end</a></div><div class="ttdeci">const_iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00157">RegisterPressure.h:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_ac1bfd03ca8fa96ab674c7f7b620dd8a6"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#ac1bfd03ca8fa96ab674c7f7b620dd8a6">llvm::RegPressureTracker::getDownwardPressure</a></div><div class="ttdeci">void getDownwardPressure(const MachineInstr *MI, std::vector&lt; unsigned &gt; &amp;PressureResult, std::vector&lt; unsigned &gt; &amp;MaxPressureResult)</div><div class="ttdoc">Get the pressure of each PSet after traversing this instruction top-down.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01382">RegisterPressure.cpp:1382</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a9082b6aa4021114645045d9c5628eb26"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">llvm::LaneBitmask::getNone</a></div><div class="ttdeci">static constexpr LaneBitmask getNone()</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00081">LaneBitmask.h:81</a></div></div>
<div class="ttc" id="astructllvm_1_1IntervalPressure_html_abf1e1810feaee0a0a5b54040ad46d0d8"><div class="ttname"><a href="structllvm_1_1IntervalPressure.html#abf1e1810feaee0a0a5b54040ad46d0d8">llvm::IntervalPressure::TopIdx</a></div><div class="ttdeci">SlotIndex TopIdx</div><div class="ttdoc">Record the boundary of the region being tracked.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00069">RegisterPressure.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1PSetIterator_html_a7468f7aa9ad819d0d0294cc66da0c9e8"><div class="ttname"><a href="classllvm_1_1PSetIterator.html#a7468f7aa9ad819d0d0294cc66da0c9e8">llvm::PSetIterator::getWeight</a></div><div class="ttdeci">unsigned getWeight() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l01256">MachineRegisterInfo.h:1256</a></div></div>
<div class="ttc" id="aMachineInstrBundle_8h_html"><div class="ttname"><a href="MachineInstrBundle_8h.html">MachineInstrBundle.h</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterPressure_html_af5f59be54525232bb3f236ee134b2d25"><div class="ttname"><a href="structllvm_1_1RegisterPressure.html#af5f59be54525232bb3f236ee134b2d25">llvm::RegisterPressure::LiveOutRegs</a></div><div class="ttdeci">SmallVector&lt; RegisterMaskPair, 8 &gt; LiveOutRegs</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00053">RegisterPressure.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a474e65b5df97bf9cf404aa9b85eb6262"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a474e65b5df97bf9cf404aa9b85eb6262">llvm::RegPressureTracker::initLiveThru</a></div><div class="ttdeci">void initLiveThru(const RegPressureTracker &amp;RPTracker)</div><div class="ttdoc">Initialize the LiveThru pressure set based on the untied defs found in RPTracker.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00359">RegisterPressure.cpp:359</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3e30e18d6f7ebd943eaf8ebc3a2b2930"><div class="ttname"><a href="namespacellvm.html#a3e30e18d6f7ebd943eaf8ebc3a2b2930">llvm::PrintLaneMask</a></div><div class="ttdeci">Printable PrintLaneMask(LaneBitmask LaneMask)</div><div class="ttdoc">Create Printable object to print LaneBitmasks on a raw_ostream.</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00092">LaneBitmask.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a11bad3e34d11ffb7b0412de6bbd294b3"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">llvm::SlotIndex::getDeadSlot</a></div><div class="ttdeci">SlotIndex getDeadSlot() const</div><div class="ttdoc">Returns the dead def kill slot for the current instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00264">SlotIndexes.h:264</a></div></div>
<div class="ttc" id="astructllvm_1_1RegPressureDelta_html_aff9c3b403c6d4af795dd8be1c9612240"><div class="ttname"><a href="structllvm_1_1RegPressureDelta.html#aff9c3b403c6d4af795dd8be1c9612240">llvm::RegPressureDelta::Excess</a></div><div class="ttdeci">PressureChange Excess</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00239">RegisterPressure.h:239</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">none</a></div><div class="ttdeci">@ none</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00190">HWAddressSanitizer.cpp:190</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html"><div class="ttname"><a href="classllvm_1_1LiveInterval.html">llvm::LiveInterval</a></div><div class="ttdoc">LiveInterval - This class represents the liveness of a register, or stack slot.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00686">LiveInterval.h:686</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_a013f10c0323064cf28c1aed647c0b478"><div class="ttname"><a href="RegisterPressure_8cpp.html#a013f10c0323064cf28c1aed647c0b478">computeExcessPressureDelta</a></div><div class="ttdeci">static void computeExcessPressureDelta(ArrayRef&lt; unsigned &gt; OldPressureVec, ArrayRef&lt; unsigned &gt; NewPressureVec, RegPressureDelta &amp;Delta, const RegisterClassInfo *RCI, ArrayRef&lt; unsigned &gt; LiveThruPressureVec)</div><div class="ttdoc">Find the max change in excess pressure across all sets.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00959">RegisterPressure.cpp:959</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html"><div class="ttname"><a href="classllvm_1_1SlotIndex.html">llvm::SlotIndex</a></div><div class="ttdoc">SlotIndex - An opaque wrapper around machine indexes.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00082">SlotIndexes.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_acad8fe90886f92eabced0c2f9bd0e6f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">llvm::MachineOperand::getParent</a></div><div class="ttdeci">MachineInstr * getParent()</div><div class="ttdoc">getParent - Return the instruction that this operand belongs to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00243">MachineOperand.h:243</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_a822aec28298cd2dc8f346d4753a4154b"><div class="ttname"><a href="RegisterPressure_8cpp.html#a822aec28298cd2dc8f346d4753a4154b">computeMaxPressureDelta</a></div><div class="ttdeci">static void computeMaxPressureDelta(ArrayRef&lt; unsigned &gt; OldMaxPressureVec, ArrayRef&lt; unsigned &gt; NewMaxPressureVec, ArrayRef&lt; PressureChange &gt; CriticalPSets, ArrayRef&lt; unsigned &gt; MaxPressureLimit, RegPressureDelta &amp;Delta)</div><div class="ttdoc">Find the max change in max pressure that either surpasses a critical PSet limit or exceeds the curren...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00998">RegisterPressure.cpp:998</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a56c8a8fa22cf5ab29fe7441b1fbeabff"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a56c8a8fa22cf5ab29fe7441b1fbeabff">llvm::RegPressureTracker::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00117">RegisterPressure.cpp:117</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterOperands_html_a74e0a918c9705f23a1e5b66f68cc97e9"><div class="ttname"><a href="classllvm_1_1RegisterOperands.html#a74e0a918c9705f23a1e5b66f68cc97e9">llvm::RegisterOperands::collect</a></div><div class="ttdeci">void collect(const MachineInstr &amp;MI, const TargetRegisterInfo &amp;TRI, const MachineRegisterInfo &amp;MRI, bool TrackLaneMasks, bool IgnoreDead)</div><div class="ttdoc">Analyze the given instruction MI and fill in the Uses, Defs and DeadDefs list based on the MachineOpe...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00569">RegisterPressure.cpp:569</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_a58eaab8d4f7a677b915d22694d73f286"><div class="ttname"><a href="RegisterPressure_8cpp.html#a58eaab8d4f7a677b915d22694d73f286">decreaseSetPressure</a></div><div class="ttdeci">static void decreaseSetPressure(std::vector&lt; unsigned &gt; &amp;CurrSetPressure, const MachineRegisterInfo &amp;MRI, Register Reg, LaneBitmask PrevMask, LaneBitmask NewMask)</div><div class="ttdoc">Decrease pressure for each pressure set provided by TargetRegisterInfo.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00064">RegisterPressure.cpp:64</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_ae84a2d10b323d478e73ee4b4684a1d51"><div class="ttname"><a href="RegisterPressure_8cpp.html#ae84a2d10b323d478e73ee4b4684a1d51">setRegZero</a></div><div class="ttdeci">static void setRegZero(SmallVectorImpl&lt; RegisterMaskPair &gt; &amp;RegUnits, Register RegUnit)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00394">RegisterPressure.cpp:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_aebafd86dde59b5a05b22e8720e808a9d"><div class="ttname"><a href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">llvm::Register::isVirtual</a></div><div class="ttdeci">bool isVirtual() const</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00091">Register.h:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a354c230443b1586633f5697aec0bcd8e"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a354c230443b1586633f5697aec0bcd8e">llvm::RegPressureTracker::recedeSkipDebugValues</a></div><div class="ttdeci">void recedeSkipDebugValues()</div><div class="ttdoc">Recede until we find an instruction which is not a DebugValue.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00852">RegisterPressure.cpp:852</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_aa94e57689dd16c1c4de909511f1b2ea8"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">llvm::SlotIndex::getBaseIndex</a></div><div class="ttdeci">SlotIndex getBaseIndex() const</div><div class="ttdoc">Returns the base index for associated with this index.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00246">SlotIndexes.h:246</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterOperands_html_aa4b1b1163b44b46b447527ace4d519d8"><div class="ttname"><a href="classllvm_1_1RegisterOperands.html#aa4b1b1163b44b46b447527ace4d519d8">llvm::RegisterOperands::DeadDefs</a></div><div class="ttdeci">SmallVector&lt; RegisterMaskPair, 8 &gt; DeadDefs</div><div class="ttdoc">List of virtual registers and register units defined by the instruction but dead.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00175">RegisterPressure.h:175</a></div></div>
<div class="ttc" id="astructllvm_1_1RegionPressure_html_a9f41ba24a7e6d9e5a68764096c2e763c"><div class="ttname"><a href="structllvm_1_1RegionPressure.html#a9f41ba24a7e6d9e5a68764096c2e763c">llvm::RegionPressure::openTop</a></div><div class="ttdeci">void openTop(MachineBasicBlock::const_iterator PrevTop)</div><div class="ttdoc">If the current top is the previous instruction (before receding), open it.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00202">RegisterPressure.cpp:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a1255befbcd6e034394681b1bcd3529ff"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">llvm::MachineOperand::isUndef</a></div><div class="ttdeci">bool isUndef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00404">MachineOperand.h:404</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a204b8f2de53bb48cc63b152400c3fdb6"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a204b8f2de53bb48cc63b152400c3fdb6">llvm::RegPressureTracker::closeBottom</a></div><div class="ttdeci">void closeBottom()</div><div class="ttdoc">Set the boundary for the bottom of the region and summarize live outs.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00331">RegisterPressure.cpp:331</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseSet_html_aab146f4c3793a4a99649ce52b3badc15"><div class="ttname"><a href="classllvm_1_1SparseSet.html#aab146f4c3793a4a99649ce52b3badc15">llvm::SparseSet::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear - Clears the set.</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00194">SparseSet.h:194</a></div></div>
<div class="ttc" id="aLiveIntervals_8h_html"><div class="ttname"><a href="LiveIntervals_8h.html">LiveIntervals.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegSet_html_ae993c9ed7e20b4d8a1cc51d162f0c159"><div class="ttname"><a href="classllvm_1_1LiveRegSet.html#ae993c9ed7e20b4d8a1cc51d162f0c159">llvm::LiveRegSet::appendTo</a></div><div class="ttdeci">void appendTo(ContainerT &amp;To) const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00332">RegisterPressure.h:332</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html"><div class="ttname"><a href="classllvm_1_1LiveRange.html">llvm::LiveRange</a></div><div class="ttdoc">This class represents the liveness of a register, stack slot, etc.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00157">LiveInterval.h:157</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_a714adb7edca61b6453c861125fe76c93"><div class="ttname"><a href="RegisterPressure_8cpp.html#a714adb7edca61b6453c861125fe76c93">getLiveRange</a></div><div class="ttdeci">static const LiveRange * getLiveRange(const LiveIntervals &amp;LIS, unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00237">RegisterPressure.cpp:237</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a76163707e71807054d87648aa5e00dd7"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">llvm::LiveIntervals::getMBBEndIdx</a></div><div class="ttdeci">SlotIndex getMBBEndIdx(const MachineBasicBlock *mbb) const</div><div class="ttdoc">Return the last index in the given basic block.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00235">LiveIntervals.h:235</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_ac9e57447ee6550f3ffcb4a432bd3dbab"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#ac9e57447ee6550f3ffcb4a432bd3dbab">llvm::RegPressureTracker::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00243">RegisterPressure.cpp:243</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html_a488d33ac015981b0f8e2086fcbd49db2"><div class="ttname"><a href="classllvm_1_1PressureChange.html#a488d33ac015981b0f8e2086fcbd49db2">llvm::PressureChange::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00112">RegisterPressure.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_aaee820701392c55ad54235d3d7201206"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aaee820701392c55ad54235d3d7201206">llvm::MachineOperand::isDead</a></div><div class="ttdeci">bool isDead() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00394">MachineOperand.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a05427132a2cb380432ed752b5f2dea6b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a05427132a2cb380432ed752b5f2dea6b">llvm::MachineInstr::setRegisterDefReadUndef</a></div><div class="ttdeci">void setRegisterDefReadUndef(Register Reg, bool IsUndef=true)</div><div class="ttdoc">Mark all subregister defs of register Reg with the undef flag.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l02029">MachineInstr.cpp:2029</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html_a4b74a0d0d1bc2e22fa7376eda3fdd85f"><div class="ttname"><a href="classllvm_1_1PressureChange.html#a4b74a0d0d1bc2e22fa7376eda3fdd85f">llvm::PressureChange::setUnitInc</a></div><div class="ttdeci">void setUnitInc(int Inc)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00126">RegisterPressure.h:126</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a8759dfc94f9731598942bbbda6280dfe"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a8759dfc94f9731598942bbbda6280dfe">llvm::RegPressureTracker::closeTop</a></div><div class="ttdeci">void closeTop()</div><div class="ttdoc">Set the boundary for the top of the region and summarize live ins.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00319">RegisterPressure.cpp:319</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a0f68bd50142729a84434a02436bb7b46"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a0f68bd50142729a84434a02436bb7b46">llvm::TargetRegisterInfo::getNumRegPressureSets</a></div><div class="ttdeci">virtual unsigned getNumRegPressureSets() const =0</div><div class="ttdoc">Get the number of dimensions of register pressure.</div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a72988cca7ab2262ef68fdd0c5ae54940"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">llvm::LaneBitmask::any</a></div><div class="ttdeci">constexpr bool any() const</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00053">LaneBitmask.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a99487c5b550882cba98d817d47cc3fc0"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a99487c5b550882cba98d817d47cc3fc0">llvm::RegPressureTracker::advance</a></div><div class="ttdeci">void advance()</div><div class="ttdoc">Advance across the current instruction.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00947">RegisterPressure.cpp:947</a></div></div>
<div class="ttc" id="aMCRegisterInfo_8h_html"><div class="ttname"><a href="MCRegisterInfo_8h.html">MCRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html_a1eef24878593ee0080b20b96ce3eb4c4"><div class="ttname"><a href="classllvm_1_1PressureChange.html#a1eef24878593ee0080b20b96ce3eb4c4">llvm::PressureChange::getUnitInc</a></div><div class="ttdeci">int getUnitInc() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00124">RegisterPressure.h:124</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a6eb0e49d283729a5f8b99d4efa1be7c1"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">llvm::LiveRange::Query</a></div><div class="ttdeci">LiveQueryResult Query(SlotIndex Idx) const</div><div class="ttdoc">Query Liveness at Idx.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00541">LiveInterval.h:541</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae74dcdb801fe44b3840dd93e6c395066"><div class="ttname"><a href="namespacellvm.html#ae74dcdb801fe44b3840dd93e6c395066">llvm::prev_nodbg</a></div><div class="ttdeci">IterT prev_nodbg(IterT It, IterT Begin, bool SkipPseudoOp=true)</div><div class="ttdoc">Decrement It, then continue decrementing it while it points to a debug instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01330">MachineBasicBlock.h:1330</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseSet_html_ac5c4065b01268eb6764867041cd1d96c"><div class="ttname"><a href="classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">llvm::SparseSet::setUniverse</a></div><div class="ttdeci">void setUniverse(unsigned U)</div><div class="ttdoc">setUniverse - Set the universe size which determines the largest key the set can hold.</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00155">SparseSet.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_ab94ac0eb79655589fb116359f862886c"><div class="ttname"><a href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">llvm::Register::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00071">Register.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIBundleOperandIteratorBase_html_a74c921d2258b6ce681a00ff5603ea43b"><div class="ttname"><a href="classllvm_1_1MIBundleOperandIteratorBase.html#a74c921d2258b6ce681a00ff5603ea43b">llvm::MIBundleOperandIteratorBase::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">isValid - Returns true until all the operands have been visited.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8h_source.html#l00136">MachineInstrBundle.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a7f39116ef8979cff64ea1c666228e7d9"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a7f39116ef8979cff64ea1c666228e7d9">llvm::MachineRegisterInfo::isAllocatable</a></div><div class="ttdeci">bool isAllocatable(MCRegister PhysReg) const</div><div class="ttdoc">isAllocatable - Returns true when PhysReg belongs to an allocatable register class and it hasn't been...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00974">MachineRegisterInfo.h:974</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a3c2bb9e82e28af11ea7a7deaef40aea4"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a3c2bb9e82e28af11ea7a7deaef40aea4">llvm::TargetRegisterInfo::getRegPressureSetName</a></div><div class="ttdeci">virtual const char * getRegPressureSetName(unsigned Idx) const =0</div><div class="ttdoc">Get the name of this register unit pressure set.</div></div>
<div class="ttc" id="astructllvm_1_1RegPressureDelta_html_a277da5755f2b30ebcebdba51d0de1acf"><div class="ttname"><a href="structllvm_1_1RegPressureDelta.html#a277da5755f2b30ebcebdba51d0de1acf">llvm::RegPressureDelta::CriticalMax</a></div><div class="ttdeci">PressureChange CriticalMax</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00240">RegisterPressure.h:240</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterPressure_html_af444f3c79d12bb654d6477d629cbe7c0"><div class="ttname"><a href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">llvm::RegisterPressure::MaxSetPressure</a></div><div class="ttdeci">std::vector&lt; unsigned &gt; MaxSetPressure</div><div class="ttdoc">Map of max reg pressure indexed by pressure set ID, not class ID.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00049">RegisterPressure.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a972fa38378a3d49a9bb48ca584621438"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a972fa38378a3d49a9bb48ca584621438">llvm::RegPressureTracker::getMaxDownwardPressureDelta</a></div><div class="ttdeci">void getMaxDownwardPressureDelta(const MachineInstr *MI, RegPressureDelta &amp;Delta, ArrayRef&lt; PressureChange &gt; CriticalPSets, ArrayRef&lt; unsigned &gt; MaxPressureLimit)</div><div class="ttdoc">Consider the pressure increase caused by traversing this instruction top-down.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01343">RegisterPressure.cpp:1343</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="astructllvm_1_1RegisterPressure_html_aebd333786b81c9d709e0452813279d4c"><div class="ttname"><a href="structllvm_1_1RegisterPressure.html#aebd333786b81c9d709e0452813279d4c">llvm::RegisterPressure::LiveInRegs</a></div><div class="ttdeci">SmallVector&lt; RegisterMaskPair, 8 &gt; LiveInRegs</div><div class="ttdoc">List of live in virtual registers or physical register units.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00052">RegisterPressure.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterClassInfo_html"><div class="ttname"><a href="classllvm_1_1RegisterClassInfo.html">llvm::RegisterClassInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterClassInfo_8h_source.html#l00029">RegisterClassInfo.h:29</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegSet_html_a550d4a10f48068094cb9e4dc85a7ac5a"><div class="ttname"><a href="classllvm_1_1LiveRegSet.html#a550d4a10f48068094cb9e4dc85a7ac5a">llvm::LiveRegSet::init</a></div><div class="ttdeci">void init(const MachineRegisterInfo &amp;MRI)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00225">RegisterPressure.cpp:225</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_aeb147ca865dee711c206a23c2fbda878"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#aeb147ca865dee711c206a23c2fbda878">llvm::RegPressureTracker::decreaseRegPressure</a></div><div class="ttdeci">void decreaseRegPressure(Register RegUnit, LaneBitmask PreviousMask, LaneBitmask NewMask)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00170">RegisterPressure.cpp:170</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html_ad47247ae6eaa7104e4d4ef6e002840f9"><div class="ttname"><a href="classllvm_1_1PressureChange.html#ad47247ae6eaa7104e4d4ef6e002840f9">llvm::PressureChange::getPSet</a></div><div class="ttdeci">unsigned getPSet() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00114">RegisterPressure.h:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_ae3b98982e2036f3d26806de5ed5e02d0"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">llvm::SlotIndex::getRegSlot</a></div><div class="ttdeci">SlotIndex getRegSlot(bool EC=false) const</div><div class="ttdoc">Returns the register use/def slot in the current instruction for a normal or early-clobber def.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00259">SlotIndexes.h:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a25c117ac45bfbbcf69dc0b674db2d1ea"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">llvm::LiveIntervals::getInterval</a></div><div class="ttdeci">LiveInterval &amp; getInterval(Register Reg)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00112">LiveIntervals.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a41a3118fb6bd46e397256b3c9794b61c"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a41a3118fb6bd46e397256b3c9794b61c">llvm::RegPressureTracker::getMaxUpwardPressureDelta</a></div><div class="ttdeci">void getMaxUpwardPressureDelta(const MachineInstr *MI, PressureDiff *PDiff, RegPressureDelta &amp;Delta, ArrayRef&lt; PressureChange &gt; CriticalPSets, ArrayRef&lt; unsigned &gt; MaxPressureLimit)</div><div class="ttdoc">Consider the pressure increase caused by traversing this instruction bottom-up.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01094">RegisterPressure.cpp:1094</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="anamespacellvm_html_adb6fca77863850136760be488d6ea345"><div class="ttname"><a href="namespacellvm.html#adb6fca77863850136760be488d6ea345">llvm::dumpRegSetPressure</a></div><div class="ttdeci">void dumpRegSetPressure(ArrayRef&lt; unsigned &gt; SetPressure, const TargetRegisterInfo *TRI)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00081">RegisterPressure.cpp:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_aa04a52c4ce53301c9dfca990019c257f"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#aa04a52c4ce53301c9dfca990019c257f">llvm::RegPressureTracker::isTopClosed</a></div><div class="ttdeci">bool isTopClosed() const</div><div class="ttdoc">Does this pressure result have a valid top position and live ins.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00295">RegisterPressure.cpp:295</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5bacbbd03e9261f7b30dc174f26d680c"><div class="ttname"><a href="namespacellvm.html#a5bacbbd03e9261f7b30dc174f26d680c">llvm::skipDebugInstructionsForward</a></div><div class="ttdeci">IterT skipDebugInstructionsForward(IterT It, IterT End, bool SkipPseudoOp=true)</div><div class="ttdoc">Increment It until it points to a non-debug instruction or to End and return the resulting iterator.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01299">MachineBasicBlock.h:1299</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef&lt; unsigned &gt;</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a60907035da962ba7bea74ffb9af977bd"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">llvm::LaneBitmask::none</a></div><div class="ttdeci">constexpr bool none() const</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00052">LaneBitmask.h:52</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a75eb135014670ce946e78739cdc9b51b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00384">MachineOperand.h:384</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_1_1SubRange_html"><div class="ttname"><a href="classllvm_1_1LiveInterval_1_1SubRange.html">llvm::LiveInterval::SubRange</a></div><div class="ttdoc">A live range for subregisters.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00693">LiveInterval.h:693</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a028a8c5113d40d8c3f4427053bf36738"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">llvm::MachineOperand::getSubReg</a></div><div class="ttdeci">unsigned getSubReg() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00374">MachineOperand.h:374</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_a217ca2f956651626db2bf0fdf48bd82d"><div class="ttname"><a href="RegisterPressure_8cpp.html#a217ca2f956651626db2bf0fdf48bd82d">increaseSetPressure</a></div><div class="ttdeci">static void increaseSetPressure(std::vector&lt; unsigned &gt; &amp;CurrSetPressure, const MachineRegisterInfo &amp;MRI, unsigned Reg, LaneBitmask PrevMask, LaneBitmask NewMask)</div><div class="ttdoc">Increase pressure for each pressure set provided by TargetRegisterInfo.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00050">RegisterPressure.cpp:50</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac78c09ae232b2ce188ff590d51e3c268"><div class="ttname"><a href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a></div><div class="ttdeci">auto find_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::find_if which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01762">STLExtras.h:1762</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterClassInfo_html_a745944b38e5f66edd43f8759c05cb017"><div class="ttname"><a href="classllvm_1_1RegisterClassInfo.html#a745944b38e5f66edd43f8759c05cb017">llvm::RegisterClassInfo::getRegPressureSetLimit</a></div><div class="ttdeci">unsigned getRegPressureSetLimit(unsigned Idx) const</div><div class="ttdoc">Get the register unit limit for the given pressure set index.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterClassInfo_8h_source.html#l00142">RegisterClassInfo.h:142</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="astructllvm_1_1RegionPressure_html"><div class="ttname"><a href="structllvm_1_1RegionPressure.html">llvm::RegionPressure</a></div><div class="ttdoc">RegisterPressure computed within a region of instructions delimited by TopPos and BottomPos.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00082">RegisterPressure.h:82</a></div></div>
<div class="ttc" id="astructllvm_1_1RegPressureDelta_html"><div class="ttname"><a href="structllvm_1_1RegPressureDelta.html">llvm::RegPressureDelta</a></div><div class="ttdoc">Store the effects of a change in pressure on things that MI scheduler cares about.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00238">RegisterPressure.h:238</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ab7e720f69b70ef3973d672936a9fa0ec"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">llvm::MachineRegisterInfo::getMaxLaneMaskForVReg</a></div><div class="ttdeci">LaneBitmask getMaxLaneMaskForVReg(Register Reg) const</div><div class="ttdoc">Returns a mask covering all bits that can appear in lane masks of subregisters of the virtual registe...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00497">MachineRegisterInfo.cpp:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a9551d47c4a9bc95eec03d02f11dfef3b"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a9551d47c4a9bc95eec03d02f11dfef3b">llvm::RegPressureTracker::getLiveLanesAt</a></div><div class="ttdeci">LaneBitmask getLiveLanesAt(Register RegUnit, SlotIndex Pos) const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01244">RegisterPressure.cpp:1244</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a3be9857a09c82046b77a71918b5e214f"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a3be9857a09c82046b77a71918b5e214f">llvm::MachineOperand::readsReg</a></div><div class="ttdeci">bool readsReg() const</div><div class="ttdoc">readsReg - Returns true if this operand reads the previous value of its register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00467">MachineOperand.h:467</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstMIBundleOperands_html"><div class="ttname"><a href="classllvm_1_1ConstMIBundleOperands.html">llvm::ConstMIBundleOperands</a></div><div class="ttdoc">ConstMIBundleOperands - Iterate over all operands in a const bundle of machine instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8h_source.html#l00185">MachineInstrBundle.h:185</a></div></div>
<div class="ttc" id="astructllvm_1_1IntervalPressure_html_a0fb4cf12022684a5149e2fba6b65a522"><div class="ttname"><a href="structllvm_1_1IntervalPressure.html#a0fb4cf12022684a5149e2fba6b65a522">llvm::IntervalPressure::openBottom</a></div><div class="ttdeci">void openBottom(SlotIndex PrevBottom)</div><div class="ttdoc">If the current bottom is not greater than the previous index, open it.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00210">RegisterPressure.cpp:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a2b8b6196a7458b6a84480f03e2f1355d"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a2b8b6196a7458b6a84480f03e2f1355d">llvm::RegPressureTracker::bumpDownwardPressure</a></div><div class="ttdeci">void bumpDownwardPressure(const MachineInstr *MI)</div><div class="ttdoc">Record the downward impact of a single instruction on current register pressure.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01283">RegisterPressure.cpp:1283</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_af22048866afa263f60942281802899e5"><div class="ttname"><a href="RegisterPressure_8cpp.html#af22048866afa263f60942281802899e5">getLanesWithProperty</a></div><div class="ttdeci">static LaneBitmask getLanesWithProperty(const LiveIntervals &amp;LIS, const MachineRegisterInfo &amp;MRI, bool TrackLaneMasks, Register RegUnit, SlotIndex Pos, LaneBitmask SafeDefault, bool(*Property)(const LiveRange &amp;LR, SlotIndex Pos))</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00421">RegisterPressure.cpp:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html"><div class="ttname"><a href="classllvm_1_1PressureChange.html">llvm::PressureChange</a></div><div class="ttdoc">Capture a change in pressure for a single pressure set.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00102">RegisterPressure.h:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html">llvm::LiveIntervals</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00053">LiveIntervals.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a5202a90dc218d72881c61fd206a5899d"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a5202a90dc218d72881c61fd206a5899d">llvm::RegPressureTracker::discoverLiveInOrOut</a></div><div class="ttdeci">void discoverLiveInOrOut(RegisterMaskPair Pair, SmallVectorImpl&lt; RegisterMaskPair &gt; &amp;LiveInOrOut)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00714">RegisterPressure.cpp:714</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterOperands_html_a8affa4b2a934ff08aa04e63253a00126"><div class="ttname"><a href="classllvm_1_1RegisterOperands.html#a8affa4b2a934ff08aa04e63253a00126">llvm::RegisterOperands::adjustLaneLiveness</a></div><div class="ttdeci">void adjustLaneLiveness(const LiveIntervals &amp;LIS, const MachineRegisterInfo &amp;MRI, SlotIndex Pos, MachineInstr *AddFlagsMI=nullptr)</div><div class="ttdoc">Use liveness information to find out which uses/defs are partially undefined/dead and adjust the Regi...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00600">RegisterPressure.cpp:600</a></div></div>
<div class="ttc" id="aLiveInterval_8h_html"><div class="ttname"><a href="LiveInterval_8h.html">LiveInterval.h</a></div></div>
<div class="ttc" id="astructllvm_1_1IntervalPressure_html_ad388da0eac059da0c6cf642204a6308a"><div class="ttname"><a href="structllvm_1_1IntervalPressure.html#ad388da0eac059da0c6cf642204a6308a">llvm::IntervalPressure::openTop</a></div><div class="ttdeci">void openTop(SlotIndex NextTop)</div><div class="ttdoc">If the current top is not less than or equal to the next index, open it.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00194">RegisterPressure.cpp:194</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegUnitIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegUnitIterator.html">llvm::MCRegUnitIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00680">MCRegisterInfo.h:680</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a785aa4ccba22b01b9d0bfc0fb2736933"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a785aa4ccba22b01b9d0bfc0fb2736933">llvm::RegPressureTracker::discoverLiveIn</a></div><div class="ttdeci">void discoverLiveIn(RegisterMaskPair Pair)</div><div class="ttdoc">Add Reg to the live in set and increase max pressure.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00736">RegisterPressure.cpp:736</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_ab0885ecf357ddad3594c9a2a5a9527f2"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#ab0885ecf357ddad3594c9a2a5a9527f2">llvm::RegPressureTracker::bumpUpwardPressure</a></div><div class="ttdeci">void bumpUpwardPressure(const MachineInstr *MI)</div><div class="ttdoc">Record the upward impact of a single instruction on current register pressure.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01042">RegisterPressure.cpp:1042</a></div></div>
<div class="ttc" id="aRegisterPressure_8cpp_html_ac9883c9ec5baeee39d4215b9af8e0a70"><div class="ttname"><a href="RegisterPressure_8cpp.html#ac9883c9ec5baeee39d4215b9af8e0a70">findUseBetween</a></div><div class="ttdeci">static LaneBitmask findUseBetween(unsigned Reg, LaneBitmask LastUseMask, SlotIndex PriorUseIdx, SlotIndex NextUseIdx, const MachineRegisterInfo &amp;MRI, const LiveIntervals *LIS)</div><div class="ttdoc">Helper to find a vreg use between two indices [PriorUseIdx, NextUseIdx).</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01223">RegisterPressure.cpp:1223</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_1_1DiffListIterator_html_a82f1c2dcfab9e27af4497fb0e13c4c6f"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">llvm::MCRegisterInfo::DiffListIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">isValid - returns true if this iterator is not yet at the end.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00224">MCRegisterInfo.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterOperands_html_af93b1da9a838f4c845d1a521c3729ae2"><div class="ttname"><a href="classllvm_1_1RegisterOperands.html#af93b1da9a838f4c845d1a521c3729ae2">llvm::RegisterOperands::Uses</a></div><div class="ttdeci">SmallVector&lt; RegisterMaskPair, 8 &gt; Uses</div><div class="ttdoc">List of virtual registers and register units read by the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00169">RegisterPressure.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a43f03898b29d823b707f6b4883c929a4"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a43f03898b29d823b707f6b4883c929a4">llvm::LiveRange::getSegmentContaining</a></div><div class="ttdeci">const Segment * getSegmentContaining(SlotIndex Idx) const</div><div class="ttdoc">Return the segment that contains the specified index, or null if there is none.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00408">LiveInterval.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a1c198291d6ee66150b76633cda8a1749"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">llvm::LiveInterval::hasSubRanges</a></div><div class="ttdeci">bool hasSubRanges() const</div><div class="ttdoc">Returns true if subregister liveness information is available.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00803">LiveInterval.h:803</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureDiff_html_aae6716327eea2325dc426c98cbcc74b4"><div class="ttname"><a href="classllvm_1_1PressureDiff.html#aae6716327eea2325dc426c98cbcc74b4">llvm::PressureDiff::addPressureChange</a></div><div class="ttdeci">void addPressureChange(Register RegUnit, bool IsDec, const MachineRegisterInfo *MRI)</div><div class="ttdoc">Add a change in pressure to the pressure diff of a given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00671">RegisterPressure.cpp:671</a></div></div>
<div class="ttc" id="aLaneBitmask_8h_html"><div class="ttname"><a href="LaneBitmask_8h.html">LaneBitmask.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad3008c73231cdb4922d197fe56525364"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad3008c73231cdb4922d197fe56525364">llvm::MachineOperand::isInternalRead</a></div><div class="ttdeci">bool isInternalRead() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00440">MachineOperand.h:440</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterPressure_html_aed5b5c7fd078ad82cea332031dd5099d"><div class="ttname"><a href="structllvm_1_1RegisterPressure.html#aed5b5c7fd078ad82cea332031dd5099d">llvm::RegisterPressure::dump</a></div><div class="ttdeci">void dump(const TargetRegisterInfo *TRI) const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00095">RegisterPressure.cpp:95</a></div></div>
<div class="ttc" id="aMachineOperand_8h_html"><div class="ttname"><a href="MachineOperand_8h.html">MachineOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_acba0d5ed53c0ebfa11cc3310e6aef4b1"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#acba0d5ed53c0ebfa11cc3310e6aef4b1">llvm::RegPressureTracker::getLastUsedLanes</a></div><div class="ttdeci">LaneBitmask getLastUsedLanes(Register RegUnit, SlotIndex Pos) const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l01254">RegisterPressure.cpp:1254</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a5d876668f1ab1bf2bf527c3f4a96d655"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a5d876668f1ab1bf2bf527c3f4a96d655">llvm::RegPressureTracker::discoverLiveOut</a></div><div class="ttdeci">void discoverLiveOut(RegisterMaskPair Pair)</div><div class="ttdoc">Add Reg to the live out set and increase max pressure.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00740">RegisterPressure.cpp:740</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureDiff_html_a86962b61c920a437e06eda5dafd929d5"><div class="ttname"><a href="classllvm_1_1PressureDiff.html#a86962b61c920a437e06eda5dafd929d5">llvm::PressureDiff::dump</a></div><div class="ttdeci">void dump(const TargetRegisterInfo &amp;TRI) const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00126">RegisterPressure.cpp:126</a></div></div>
<div class="ttc" id="aSlotIndexes_8h_html"><div class="ttname"><a href="SlotIndexes_8h.html">SlotIndexes.h</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegSet_html_a13e44e271305fcb67ecfb55b1f9bb2c6"><div class="ttname"><a href="classllvm_1_1LiveRegSet.html#a13e44e271305fcb67ecfb55b1f9bb2c6">llvm::LiveRegSet::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00233">RegisterPressure.cpp:233</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_acc1fe08378fadccbf77405721be835ae"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#acc1fe08378fadccbf77405721be835ae">llvm::MachineRegisterInfo::getPressureSets</a></div><div class="ttdeci">PSetIterator getPressureSets(Register RegUnit) const</div><div class="ttdoc">Get an iterator over the pressure sets affected by the given physical or virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l01269">MachineRegisterInfo.h:1269</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; const MachineInstr &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_adef3cd5d80fc7eb1bf88f3c9586d6801"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#adef3cd5d80fc7eb1bf88f3c9586d6801">llvm::RegPressureTracker::increaseRegPressure</a></div><div class="ttdeci">void increaseRegPressure(Register RegUnit, LaneBitmask PreviousMask, LaneBitmask NewMask)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00155">RegisterPressure.cpp:155</a></div></div>
<div class="ttc" id="astructllvm_1_1IntervalPressure_html_a60f833a5cb8a08708e1a2d0aadc373c5"><div class="ttname"><a href="structllvm_1_1IntervalPressure.html#a60f833a5cb8a08708e1a2d0aadc373c5">llvm::IntervalPressure::BottomIdx</a></div><div class="ttdeci">SlotIndex BottomIdx</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00070">RegisterPressure.h:70</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a19bc5229b207b9de98ffbd0bbf4c84ab"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a19bc5229b207b9de98ffbd0bbf4c84ab">llvm::RegPressureTracker::recede</a></div><div class="ttdeci">void recede(SmallVectorImpl&lt; RegisterMaskPair &gt; *LiveUses=nullptr)</div><div class="ttdoc">Recede across the previous instruction.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00873">RegisterPressure.cpp:873</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureChange_html_a403007f54c31c2c26d7b0cd651d62e20"><div class="ttname"><a href="classllvm_1_1PressureChange.html#a403007f54c31c2c26d7b0cd651d62e20">llvm::PressureChange::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00139">RegisterPressure.cpp:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegSet_html_a4a4757440aca7a508e30da6a766d7a8d"><div class="ttname"><a href="classllvm_1_1LiveRegSet.html#a4a4757440aca7a508e30da6a766d7a8d">llvm::LiveRegSet::contains</a></div><div class="ttdeci">LaneBitmask contains(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00294">RegisterPressure.h:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a3714a639930eab71d7202da05ad82990"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">llvm::LaneBitmask::getAll</a></div><div class="ttdeci">static constexpr LaneBitmask getAll()</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00082">LaneBitmask.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a7ca5197533a9c1fb8a2bd30587fcec6b"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00152">ArrayRef.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1PressureDiff_html_ade51f35b5a03cbdcbaa15c8e715adfbe"><div class="ttname"><a href="classllvm_1_1PressureDiff.html#ade51f35b5a03cbdcbaa15c8e715adfbe">llvm::PressureDiff::begin</a></div><div class="ttdeci">const_iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00156">RegisterPressure.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRegSet_html_a6f83802ec66fea6cc0b558436a0a18c5"><div class="ttname"><a href="classllvm_1_1LiveRegSet.html#a6f83802ec66fea6cc0b558436a0a18c5">llvm::LiveRegSet::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00327">RegisterPressure.h:327</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="astructllvm_1_1IntervalPressure_html_a08225fe2adf56bf962e71483729fd99c"><div class="ttname"><a href="structllvm_1_1IntervalPressure.html#a08225fe2adf56bf962e71483729fd99c">llvm::IntervalPressure::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Clear the result so it can be used for another round of pressure tracking.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00177">RegisterPressure.cpp:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a97dfb31f0f752a171bfe5fe49244c9be"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">llvm::LiveInterval::subranges</a></div><div class="ttdeci">iterator_range&lt; subrange_iterator &gt; subranges()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00775">LiveInterval.h:775</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:57:19 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
