<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/SplitKit.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SplitKit.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SplitKit_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- SplitKit.cpp - Toolkit for splitting live ranges -------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file contains the SplitAnalysis class as well as mutator functions for</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// live range splitting.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SplitKit_8h.html">SplitKit.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveRangeEdit_8h.html">llvm/CodeGen/LiveRangeEdit.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBlockFrequencyInfo_8h.html">llvm/CodeGen/MachineBlockFrequencyInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineLoopInfo_8h.html">llvm/CodeGen/MachineLoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOperand_8h.html">llvm/CodeGen/MachineOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/CodeGen/TargetInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOpcodes_8h.html">llvm/CodeGen/TargetOpcodes.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VirtRegMap_8h.html">llvm/CodeGen/VirtRegMap.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Allocator_8h.html">llvm/Support/Allocator.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BlockFrequency_8h.html">llvm/Support/BlockFrequency.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="SplitKit_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   46</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;regalloc&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumFinished, <span class="stringliteral">&quot;Number of splits finished&quot;</span>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumSimple,   <span class="stringliteral">&quot;Number of splits that were simple&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCopies,   <span class="stringliteral">&quot;Number of copies inserted for splitting&quot;</span>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumRemats,   <span class="stringliteral">&quot;Number of rematerialized defs for splitting&quot;</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//                     Last Insert Point Analysis</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classllvm_1_1InsertPointAnalysis.html#a5bfcd687abf5df6bf77e6904f5a3d799">   57</a></span>&#160;<a class="code" href="classllvm_1_1InsertPointAnalysis.html#a5bfcd687abf5df6bf77e6904f5a3d799">InsertPointAnalysis::InsertPointAnalysis</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;lis,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                         <span class="keywordtype">unsigned</span> BBNum)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    : LIS(lis), LastInsertPoint(BBNum) {}</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;InsertPointAnalysis::computeLastInsertPoint(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;CurLI,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordtype">unsigned</span> Num = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  std::pair&lt;SlotIndex, SlotIndex&gt; &amp;LIP = LastInsertPoint[Num];</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> MBBEnd = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const MachineBasicBlock *, 1&gt;</a> ExceptionalSuccessors;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">bool</span> EHPadSuccessor = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SMBB : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">successors</a>()) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (SMBB-&gt;isEHPad()) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      ExceptionalSuccessors.push_back(SMBB);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      EHPadSuccessor = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SMBB-&gt;isInlineAsmBrIndirectTarget())</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      ExceptionalSuccessors.push_back(SMBB);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// Compute insert points on the first call. The pair is independent of the</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// current live interval.</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">if</span> (!LIP.first.isValid()) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_iterator</a> FirstTerm = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (FirstTerm == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      LIP.first = MBBEnd;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      LIP.first = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*FirstTerm);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// If there is a landing pad or inlineasm_br successor, also find the</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// instruction. If there is no such instruction, we don&#39;t need to do</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// anything special.  We assume there cannot be multiple instructions that</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// are Calls with EHPad successors or INLINEASM_BR in a block. Further, we</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// assume that if there are any, they will be after any other call</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// instructions in the block.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (ExceptionalSuccessors.empty())</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">return</span> LIP.first;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keywordflow">if</span> ((EHPadSuccessor &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall()) ||</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136">TargetOpcode::INLINEASM_BR</a>) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        LIP.second = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// If CurLI is live into a landing pad successor, move the last insert point</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// back to the call that may throw.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">if</span> (!LIP.second)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> LIP.first;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">none_of</a>(ExceptionalSuccessors, [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *EHPad) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span> LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#af47f5ea0e633ac96943c6937e724ae4a">isLiveInToMBB</a>(CurLI, EHPad);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      }))</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> LIP.first;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// Find the value leaving MBB.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = CurLI.<a class="code" href="classllvm_1_1LiveRange.html#a136fa159d07a92017f3206822f5847cd">getVNInfoBefore</a>(MBBEnd);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">if</span> (!VNI)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> LIP.first;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// The def of statepoint instruction is a gc relocation and it should be alive</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">// in landing pad. So we cannot split interval after statepoint instruction.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>, LIP.second))</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(LIP.second))</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == TargetOpcode::STATEPOINT)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">return</span> LIP.second;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">// If the value leaving MBB was defined after the call in MBB, it can&#39;t</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// really be live-in to the landing pad.  This can happen if the landing pad</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">// has a PHI, and this register is undef on the exceptional edge.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// &lt;rdar://problem/10664933&gt;</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>, LIP.second) &amp;&amp; VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> &lt; MBBEnd)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> LIP.first;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// Value is properly live-in to the landing pad.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Only allow inserts before the call.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> LIP.second;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classllvm_1_1InsertPointAnalysis.html#a149ef404487b5a333a2774a3944af25f">  139</a></span>&#160;<a class="code" href="classllvm_1_1InsertPointAnalysis.html#a149ef404487b5a333a2774a3944af25f">InsertPointAnalysis::getLastInsertPointIter</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;CurLI,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                            <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LIP = <a class="code" href="classllvm_1_1InsertPointAnalysis.html#a48abd91e36a601df7e66c397764165d2">getLastInsertPoint</a>(CurLI, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (LIP == LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>))</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">return</span> LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(LIP);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">//                                 Split Analysis</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitAnalysis.html#a027186766ff82f05b729d087baf9a25f">  151</a></span>&#160;<a class="code" href="classllvm_1_1SplitAnalysis.html#a027186766ff82f05b729d087baf9a25f">SplitAnalysis::SplitAnalysis</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a> &amp;vrm, <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;lis,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a> &amp;mli)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    : MF(vrm.getMachineFunction()), VRM(vrm), LIS(lis), <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>(mli),</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>(*MF.getSubtarget().getInstrInfo()), IPA(lis, MF.getNumBlockIDs()) {}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitAnalysis.html#ab21a191f8cdb8f76d22d0bae3089e1c5">  156</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitAnalysis.html#ab21a191f8cdb8f76d22d0bae3089e1c5">SplitAnalysis::clear</a>() {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  UseSlots.clear();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  UseBlocks.clear();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  ThroughBlocks.<a class="code" href="classllvm_1_1BitVector.html#a35bbc237e4a675c5332103ac6e7dcce1">clear</a>();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  CurLI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/// analyzeUses - Count instructions, basic blocks, and loops using CurLI.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SplitAnalysis::analyzeUses() {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UseSlots.empty() &amp;&amp; <span class="stringliteral">&quot;Call clear first&quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// First get all the defs from the interval values. This provides the correct</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// slots for early clobbers.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI : CurLI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">valnos</a>)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (!VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>() &amp;&amp; !VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>())</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      UseSlots.push_back(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// Get use slots form the use-def chain.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="classllvm_1_1SplitAnalysis.html#a192ed636858339b1ad1fbaa98d2f5d7d">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5a5871d5cc628499a6d8e56734873e01">use_nodbg_operands</a>(CurLI-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>()))</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (!MO.isUndef())</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      UseSlots.push_back(<a class="code" href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">LIS</a>.<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*MO.getParent()).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>());</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">array_pod_sort</a>(UseSlots.begin(), UseSlots.end());</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// Remove duplicates, keeping the smaller slot for each instruction.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">// That is what we want for early clobbers.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  UseSlots.erase(<a class="code" href="namespacellvm.html#a92be87f8a371f277f7260fb99592d5f4">std::unique</a>(UseSlots.begin(), UseSlots.end(),</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                             <a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>),</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                 UseSlots.end());</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// Compute per-live block info.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  calcLiveBlockInfo();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Analyze counted &quot;</span> &lt;&lt; UseSlots.size() &lt;&lt; <span class="stringliteral">&quot; instrs in &quot;</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    &lt;&lt; UseBlocks.size() &lt;&lt; <span class="stringliteral">&quot; blocks, through &quot;</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    &lt;&lt; NumThroughBlocks &lt;&lt; <span class="stringliteral">&quot; blocks.\n&quot;</span>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">/// calcLiveBlockInfo - Fill the LiveBlocks array with information about blocks</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">/// where CurLI is live.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SplitAnalysis::calcLiveBlockInfo() {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  ThroughBlocks.<a class="code" href="classllvm_1_1BitVector.html#a32859a24aa7a3be269855b989d92a4b4">resize</a>(<a class="code" href="classllvm_1_1SplitAnalysis.html#a192ed636858339b1ad1fbaa98d2f5d7d">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#aa22424ba23740b6a748e8d0c239b7e4c">getNumBlockIDs</a>());</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  NumThroughBlocks = NumGapBlocks = 0;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">if</span> (CurLI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">empty</a>())</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html#a3fc869c7f6d53c3fbb4e572b7821dd05">LiveInterval::const_iterator</a> LVI = CurLI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html#a3fc869c7f6d53c3fbb4e572b7821dd05">LiveInterval::const_iterator</a> LVE = CurLI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="classllvm_1_1SmallVectorImpl.html#a641b0782e0cc309372855bfc19fdfd97">SmallVectorImpl&lt;SlotIndex&gt;::const_iterator</a> UseI, UseE;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  UseI = UseSlots.begin();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  UseE = UseSlots.end();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// Loop over basic blocks where CurLI is live.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineFunction::iterator</a> MFI =</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <a class="code" href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">LIS</a>.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(LVI-&gt;start)-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    BlockInfo BI;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    BI.MBB = &amp;*MFI;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Start, Stop;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    std::tie(Start, Stop) = <a class="code" href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">LIS</a>.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>()-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a3e3d63f9de68891facf6a6b0124af4b0">getMBBRange</a>(BI.MBB);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// If the block contains no uses, the range must be live through. At one</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// point, RegisterCoalescer could create dangling ranges that ended</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// mid-block.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span> (UseI == UseE || *UseI &gt;= Stop) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      ++NumThroughBlocks;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      ThroughBlocks.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(BI.MBB-&gt;getNumber());</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="comment">// The range shouldn&#39;t end mid-block if there are no uses. This shouldn&#39;t</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="comment">// happen.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LVI-&gt;end &gt;= Stop &amp;&amp; <span class="stringliteral">&quot;range ends mid block with no uses&quot;</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="comment">// This block has uses. Find the first and last uses in the block.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      BI.FirstInstr = *UseI;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BI.FirstInstr &gt;= Start);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordflow">do</span> ++UseI;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">while</span> (UseI != UseE &amp;&amp; *UseI &lt; Stop);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      BI.LastInstr = UseI[-1];</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BI.LastInstr &lt; Stop);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="comment">// LVI is the first live segment overlapping MBB.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      BI.LiveIn = LVI-&gt;start &lt;= Start;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="comment">// When not live in, the first use should be a def.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">if</span> (!BI.LiveIn) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LVI-&gt;start == LVI-&gt;valno-&gt;def &amp;&amp; <span class="stringliteral">&quot;Dangling Segment start&quot;</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LVI-&gt;start == BI.FirstInstr &amp;&amp; <span class="stringliteral">&quot;First instr should be a def&quot;</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        BI.FirstDef = BI.FirstInstr;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="comment">// Look for gaps in the live range.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      BI.LiveOut = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">while</span> (LVI-&gt;end &lt; Stop) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LastStop = LVI-&gt;end;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">if</span> (++LVI == LVE || LVI-&gt;start &gt;= Stop) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          BI.LiveOut = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          BI.LastInstr = LastStop;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span> (LastStop &lt; LVI-&gt;start) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;          <span class="comment">// There is a gap in the live range. Create duplicate entries for the</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          <span class="comment">// live-in snippet and the live-out snippet.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;          ++NumGapBlocks;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;          <span class="comment">// Push the Live-in part.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;          BI.LiveOut = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;          UseBlocks.push_back(BI);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;          UseBlocks.back().LastInstr = LastStop;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          <span class="comment">// Set up BI for the live-out part.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          BI.LiveIn = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          BI.LiveOut = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          BI.FirstInstr = BI.FirstDef = LVI-&gt;start;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="comment">// A Segment that starts in the middle of the block must be a def.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LVI-&gt;start == LVI-&gt;valno-&gt;def &amp;&amp; <span class="stringliteral">&quot;Dangling Segment start&quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">if</span> (!BI.FirstDef)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;          BI.FirstDef = LVI-&gt;start;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      UseBlocks.push_back(BI);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="comment">// LVI is now at LVE or LVI-&gt;end &gt;= Stop.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">if</span> (LVI == LVE)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// Live segment ends exactly at Stop. Move to the next segment.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> (LVI-&gt;end == Stop &amp;&amp; ++LVI == LVE)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// Pick the next basic block.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> (LVI-&gt;start &lt; Stop)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      ++MFI;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      MFI = <a class="code" href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">LIS</a>.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(LVI-&gt;start)-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SplitAnalysis.html#ac8280ad8ed267ed1fe319addf617dbd8">getNumLiveBlocks</a>() == <a class="code" href="classllvm_1_1SplitAnalysis.html#a6b3f9616a4146e9a88336afcaf92835e">countLiveBlocks</a>(CurLI) &amp;&amp; <span class="stringliteral">&quot;Bad block count&quot;</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitAnalysis.html#a6b3f9616a4146e9a88336afcaf92835e">  300</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SplitAnalysis.html#a6b3f9616a4146e9a88336afcaf92835e">SplitAnalysis::countLiveBlocks</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *cli)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (cli-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">empty</a>())</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a>*<span class="keyword">&gt;</span>(cli);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveInterval::iterator</a> LVI = li-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>();</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveInterval::iterator</a> LVE = li-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordtype">unsigned</span> Count = 0;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// Loop over basic blocks where li is live.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineFunction::const_iterator</a> MFI =</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <a class="code" href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">LIS</a>.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(LVI-&gt;start)-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Stop = <a class="code" href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">LIS</a>.<a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(&amp;*MFI);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    ++Count;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    LVI = li-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a60203ad10397a7340f8a0e44ac25368d">advanceTo</a>(LVI, Stop);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (LVI == LVE)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">return</span> Count;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      ++MFI;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      Stop = <a class="code" href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">LIS</a>.<a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(&amp;*MFI);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    } <span class="keywordflow">while</span> (Stop &lt;= LVI-&gt;start);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitAnalysis.html#a6b388f6ec0c78d81a2d54efaac443691">  324</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SplitAnalysis.html#a6b388f6ec0c78d81a2d54efaac443691">SplitAnalysis::isOriginalEndpoint</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> OrigReg = <a class="code" href="classllvm_1_1SplitAnalysis.html#ae922fe27fed5647d4fe22789a6c61683">VRM</a>.<a class="code" href="classllvm_1_1VirtRegMap.html#a4d88862090bbf71af421aacae8f12866">getOriginal</a>(CurLI-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>());</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;Orig = <a class="code" href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">LIS</a>.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(OrigReg);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Orig.<a class="code" href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Splitting empty interval?&quot;</span>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html#a3fc869c7f6d53c3fbb4e572b7821dd05">LiveInterval::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Orig.<a class="code" href="classllvm_1_1LiveRange.html#afeb00b9049a2391c990df15692caef63">find</a>(Idx);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// Range containing Idx should begin at Idx.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Orig.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>() &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;start &lt;= Idx)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;start == Idx;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// Range does not contain Idx, previous must end at Idx.</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Orig.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>() &amp;&amp; (--<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a> == Idx;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitAnalysis.html#aa1e3d133ed73597d0c21e0a5d11fa31f">  338</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitAnalysis.html#aa1e3d133ed73597d0c21e0a5d11fa31f">SplitAnalysis::analyze</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="classllvm_1_1SplitAnalysis.html#ab21a191f8cdb8f76d22d0bae3089e1c5">clear</a>();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  CurLI = li;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  analyzeUses();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">//                               Split Editor</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">/// Create a new SplitEditor for editing the LiveInterval analyzed by SA.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a4a6b060244db6c0da73f9ba4ec523559">  349</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SplitEditor.html#a4a6b060244db6c0da73f9ba4ec523559">SplitEditor::SplitEditor</a>(<a class="code" href="classllvm_1_1SplitAnalysis.html">SplitAnalysis</a> &amp;SA, <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;LIS, <a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a> &amp;VRM,</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                         <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> &amp;MDT,</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                         <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> &amp;MBFI, <a class="code" href="classllvm_1_1VirtRegAuxInfo.html">VirtRegAuxInfo</a> &amp;VRAI)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    : SA(SA), LIS(LIS), VRM(VRM), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>(VRM.getMachineFunction().getRegInfo()),</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      MDT(MDT), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>(*VRM.getMachineFunction().getSubtarget().getInstrInfo()),</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>(*VRM.getMachineFunction().getSubtarget().getRegisterInfo()),</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      MBFI(MBFI), VRAI(VRAI), RegAssign(<a class="code" href="RegAllocBasic_8cpp.html#ad5d00e1d77644d95847b9bf8da12b759">Allocator</a>) {}</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a907ca723e22613a6cfa9845d69f3eda6">  357</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#a907ca723e22613a6cfa9845d69f3eda6">SplitEditor::reset</a>(<a class="code" href="classllvm_1_1LiveRangeEdit.html">LiveRangeEdit</a> &amp;LRE, <a class="code" href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7">ComplementSpillMode</a> SM) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  Edit = &amp;LRE;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  SpillMode = SM;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  OpenIdx = 0;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#aecbd7712a5e471d6821af772a8e55f85">clear</a>();</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  Values.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// Reset the LiveIntervalCalc instances needed for this spill mode.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  LICalc[0].<a class="code" href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">reset</a>(&amp;VRM.<a class="code" href="classllvm_1_1VirtRegMap.html#af2dbdd40f8a5b94098f14d9087527b79">getMachineFunction</a>(), LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>(), &amp;MDT,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                  &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">if</span> (SpillMode)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    LICalc[1].<a class="code" href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">reset</a>(&amp;VRM.<a class="code" href="classllvm_1_1VirtRegMap.html#af2dbdd40f8a5b94098f14d9087527b79">getMachineFunction</a>(), LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>(), &amp;MDT,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#aff06b5e0f98141b098d89db4e93f472b">anyRematerializable</a>();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#af56a81de61d43765dd1352743fd0bfc3">  375</a></span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#af56a81de61d43765dd1352743fd0bfc3">SplitEditor::dump</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">if</span> (RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#ac631b4af10a30255067fc77ab6c193d8">empty</a>()) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; empty\n&quot;</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1IntervalMap.html#ac220ce1c155db1ac44146c12d178056f">RegAssignMap::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a30a86f92a3d8d04852d53bfd89ce89c2">begin</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.valid(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.start() &lt;&lt; <span class="charliteral">&#39;;&#39;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.stop() &lt;&lt; <span class="stringliteral">&quot;):&quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.value();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">/// Find a subrange corresponding to the exact lane mask @p LM in the live</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">/// interval @p LI. The interval @p LI is assumed to contain such a subrange.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">/// This function is used to find corresponding subranges between the</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">/// original interval and the new intervals.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="SplitKit_8cpp.html#a759c16002f68b34d7411adfa35b92f48">  391</a></span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">auto</span> &amp;<a class="code" href="SplitKit_8cpp.html#a759c16002f68b34d7411adfa35b92f48">getSubrangeImpl</a>(<a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LM, <a class="code" href="classT.html">T</a> &amp;LI) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI.subranges())</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask == LM)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;SubRange for this mask not found&quot;</span>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="SplitKit_8cpp.html#a5710215255734932ba932a9086655a11">  398</a></span>&#160;<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="SplitKit_8cpp.html#a5710215255734932ba932a9086655a11">getSubRangeForMaskExact</a>(<a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LM,</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                                <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SplitKit_8cpp.html#a759c16002f68b34d7411adfa35b92f48">getSubrangeImpl</a>(LM, LI);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="SplitKit_8cpp.html#a39036df727df3554bf5bc78b6678a42a">  403</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="SplitKit_8cpp.html#a5710215255734932ba932a9086655a11">getSubRangeForMaskExact</a>(<a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LM,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SplitKit_8cpp.html#a759c16002f68b34d7411adfa35b92f48">getSubrangeImpl</a>(LM, LI);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">/// Find a subrange corresponding to the lane mask @p LM, or a superset of it,</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">/// in the live interval @p LI. The interval @p LI is assumed to contain such</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">/// a subrange.  This function is used to find corresponding subranges between</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">/// the original interval and the new intervals.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="SplitKit_8cpp.html#a1c39b7e5b290696e6ae9577dd17286f1">  412</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="SplitKit_8cpp.html#a1c39b7e5b290696e6ae9577dd17286f1">getSubRangeForMask</a>(<a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LM,</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>())</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask &amp; LM) == LM)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;SubRange for this mask not found&quot;</span>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="keywordtype">void</span> SplitEditor::addDeadDef(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI, <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI, <span class="keywordtype">bool</span> Original) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">if</span> (!LI.<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>()) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    LI.<a class="code" href="classllvm_1_1LiveRange.html#a4258d794235c7a408b3f52e5e4ef7159">createDeadDef</a>(VNI);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">if</span> (Original) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// If we are transferring a def from the original interval, make sure</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// to only update the subranges for which the original subranges had</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// a def at this location.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>()) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keyword">auto</span> &amp;PS = <a class="code" href="SplitKit_8cpp.html#a1c39b7e5b290696e6ae9577dd17286f1">getSubRangeForMask</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask, Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>());</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *PV = PS.getVNInfoAt(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">if</span> (PV != <span class="keyword">nullptr</span> &amp;&amp; PV-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.createDeadDef(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// This is a new def: either from rematerialization, or from an inserted</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// copy. Since rematerialization can regenerate a definition of a sub-</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// register, we need to check which subranges need to be updated.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LM;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;DefOp : <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aae3faf8229869864f829df28a14b79a2">defs</a>()) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = DefOp.getReg();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">if</span> (R != LI.<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>())</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> SR = DefOp.getSubReg())</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        LM |= TRI.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(SR);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        LM = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">getMaxLaneMaskForVReg</a>(R);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>())</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask &amp; LM).any())</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.createDeadDef(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *SplitEditor::defValue(<span class="keywordtype">unsigned</span> RegIdx,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                              <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                              <span class="keywordtype">bool</span> Original) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ParentVNI &amp;&amp; <span class="stringliteral">&quot;Mapping  NULL value&quot;</span>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx.<a class="code" href="classllvm_1_1SlotIndex.html#a5bcdd85778add4287db384472cde8acd">isValid</a>() &amp;&amp; <span class="stringliteral">&quot;Invalid SlotIndex&quot;</span>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(Idx) == ParentVNI &amp;&amp; <span class="stringliteral">&quot;Bad Parent VNI&quot;</span>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *LI = &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx));</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="comment">// Create a new value.</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a69331ac1fdc66eee11c977845f2e472b">getNextValue</a>(Idx, LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordtype">bool</span> Force = LI-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  ValueForcePair <a class="code" href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">FP</a>(Force ? <span class="keyword">nullptr</span> : VNI, Force);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">// Use insert for lookup, so we can add missing values with a second lookup.</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  std::pair&lt;ValueMap::iterator, bool&gt; InsP =</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    Values.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(std::make_pair(RegIdx, ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>), FP));</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">// This was the first time (RegIdx, ParentVNI) was mapped, and it is not</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">// forced. Keep it as a simple def without any liveness.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">if</span> (!Force &amp;&amp; InsP.second)</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> VNI;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// If the previous value was a simple mapping, add liveness for it now.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *OldVNI = InsP.first-&gt;second.getPointer()) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    addDeadDef(*LI, OldVNI, Original);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// No longer a simple mapping.  Switch to a complex mapping. If the</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">// interval has subranges, make it a forced mapping.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    InsP.first-&gt;second = ValueForcePair(<span class="keyword">nullptr</span>, Force);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// This is a complex mapping, add liveness for VNI</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  addDeadDef(*LI, VNI, Original);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">return</span> VNI;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="keywordtype">void</span> SplitEditor::forceRecompute(<span class="keywordtype">unsigned</span> RegIdx, <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> &amp;ParentVNI) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  ValueForcePair &amp;VFP = Values[std::make_pair(RegIdx, ParentVNI.<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>)];</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = VFP.getPointer();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">// ParentVNI was either unmapped or already complex mapped. Either way, just</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// set the force bit.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> (!VNI) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    VFP.setInt(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// This was previously a single mapping. Make sure the old def is represented</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// by a trivial live range.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  addDeadDef(LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx)), VNI, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// Mark as complex mapped, forced.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  VFP = ValueForcePair(<span class="keyword">nullptr</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SplitEditor::buildSingleSubRegCopy(<a class="code" href="classllvm_1_1Register.html">Register</a> FromReg, <a class="code" href="classllvm_1_1Register.html">Register</a> ToReg,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> InsertBefore,</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordtype">unsigned</span> SubIdx, <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;DestLI, <span class="keywordtype">bool</span> Late, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(TargetOpcode::COPY);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordtype">bool</span> FirstCopy = !<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.isValid();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CopyMI = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsertBefore, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), Desc)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ToReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(FirstCopy)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;              | <a class="code" href="namespacellvm.html#a814afdaff8cc41f929c618b9e09c4628">getInternalReadRegState</a>(!FirstCopy), SubIdx)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FromReg, 0, SubIdx);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a> &amp;Indexes = *LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>();</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordflow">if</span> (FirstCopy) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = Indexes.<a class="code" href="classllvm_1_1SlotIndexes.html#a10aea73adf903930a8ce4c133dfa5a1e">insertMachineInstrInMaps</a>(*CopyMI, Late).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    CopyMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0aad617bc1bdef5bda2689f7a9fd06f6">bundleWithPred</a>();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SplitEditor::buildCopy(<a class="code" href="classllvm_1_1Register.html">Register</a> FromReg, <a class="code" href="classllvm_1_1Register.html">Register</a> ToReg,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> InsertBefore, <span class="keywordtype">bool</span> Late, <span class="keywordtype">unsigned</span> RegIdx) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(TargetOpcode::COPY);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a> &amp;Indexes = *LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">if</span> (LaneMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a82565e0ea5a398255ac8a153b92aa5b6">all</a>() || LaneMask == <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">getMaxLaneMaskForVReg</a>(FromReg)) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// The full vreg is copied.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CopyMI =</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsertBefore, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), Desc, ToReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FromReg);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> Indexes.<a class="code" href="classllvm_1_1SlotIndexes.html#a10aea73adf903930a8ce4c133dfa5a1e">insertMachineInstrInMaps</a>(*CopyMI, Late).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="comment">// Only a subset of lanes needs to be copied. The following is a simple</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// heuristic to construct a sequence of COPYs. We could add a target</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// specific callback if this turns out to be suboptimal.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;DestLI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx));</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// First pass: Try to find a perfectly matching subregister index. If none</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// exists find the one covering the most lanemask bits.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(FromReg);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RC == <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(ToReg) &amp;&amp; <span class="stringliteral">&quot;Should have same reg class&quot;</span>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 8&gt;</a> SubIndexes;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="comment">// Abort if we cannot possibly implement the COPY with the given indexes.</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">if</span> (!TRI.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae4dba4561a0e0da2cc502cd690b9bc09">getCoveringSubRegIndexes</a>(MRI, RC, LaneMask, SubIndexes))</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Impossible to implement partial COPY&quot;</span>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BestIdx : SubIndexes) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = buildSingleSubRegCopy(FromReg, ToReg, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsertBefore, BestIdx,</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                DestLI, Late, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html">BumpPtrAllocator</a> &amp;Allocator = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  DestLI.<a class="code" href="classllvm_1_1LiveInterval.html#a967540f5e5799b56c6fbcee378d110eb">refineSubRanges</a>(</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      Allocator, LaneMask,</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      [<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, &amp;Allocator](<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;SR) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        SR.<a class="code" href="classllvm_1_1LiveRange.html#a4258d794235c7a408b3f52e5e4ef7159">createDeadDef</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, Allocator);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      },</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      Indexes, TRI);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *SplitEditor::defFromParent(<span class="keywordtype">unsigned</span> RegIdx, <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                                   <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> UseIdx, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                                   <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *LI = &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx));</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="comment">// We may be trying to avoid interference that ends at a deleted instruction,</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">// so always begin RegIdx 0 early and all others late.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordtype">bool</span> Late = RegIdx != 0;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="comment">// Attempt cheap-as-a-copy rematerialization.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Original = VRM.<a class="code" href="classllvm_1_1VirtRegMap.html#a4d88862090bbf71af421aacae8f12866">getOriginal</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx));</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;OrigLI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Original);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *OrigVNI = OrigLI.<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(UseIdx);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = LI-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>();</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordtype">bool</span> DidRemat = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">if</span> (OrigVNI) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="structllvm_1_1LiveRangeEdit_1_1Remat.html">LiveRangeEdit::Remat</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">RM</a>(ParentVNI);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">RM</a>.OrigMI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(OrigVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#af8377265a59783069f11e01edc8e3edc">canRematerializeAt</a>(<a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">RM</a>, OrigVNI, UseIdx, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a4c0813fee390b3c3679c15612684787d">rematerializeAt</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">RM</a>, TRI, Late);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      ++NumRemats;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      DidRemat = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">if</span> (!DidRemat) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (OrigLI.<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>()) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      LaneMask = <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>();</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : OrigLI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>()) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.liveAt(UseIdx))</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;          LaneMask |= <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      LaneMask = <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>();</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (LaneMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">none</a>()) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(TargetOpcode::IMPLICIT_DEF);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *ImplicitDef = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), Desc, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a> &amp;Indexes = *LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>();</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = Indexes.<a class="code" href="classllvm_1_1SlotIndexes.html#a10aea73adf903930a8ce4c133dfa5a1e">insertMachineInstrInMaps</a>(*ImplicitDef, Late).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      ++NumCopies;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = buildCopy(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#ac2d157d94da9ea6da55d19a1fa8d9247">getReg</a>(), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LaneMask, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Late, RegIdx);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// Define the value in Reg.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">return</span> defValue(RegIdx, ParentVNI, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">/// Create a new virtual register and live interval.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a45631ddcb7da79035271c3e491d6dc33">  635</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SplitEditor.html#a45631ddcb7da79035271c3e491d6dc33">SplitEditor::openIntv</a>() {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// Create the complement as index 0.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">if</span> (Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a1de6c78789e3f41a5721e581ec3e981b">empty</a>())</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a90769be4e8173a3db8de6165ca56841b">createEmptyInterval</a>();</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// Create the open interval.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  OpenIdx = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a2e56ee2f27a7c83b385e3c879fe4ee90">size</a>();</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a90769be4e8173a3db8de6165ca56841b">createEmptyInterval</a>();</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">return</span> OpenIdx;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">  646</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">SplitEditor::selectIntv</a>(<span class="keywordtype">unsigned</span> Idx) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx != 0 &amp;&amp; <span class="stringliteral">&quot;Cannot select the complement interval&quot;</span>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx &lt; Edit-&gt;<a class="code" href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">size</a>() &amp;&amp; <span class="stringliteral">&quot;Can only select previously opened interval&quot;</span>);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    selectIntv &quot;</span> &lt;&lt; OpenIdx &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; Idx &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  OpenIdx = Idx;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a88924909b2d83abe8eb4ba2ac84eec6c">  653</a></span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="classllvm_1_1SplitEditor.html#a88924909b2d83abe8eb4ba2ac84eec6c">SplitEditor::enterIntvBefore</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpenIdx &amp;&amp; <span class="stringliteral">&quot;openIntv not called before enterIntvBefore&quot;</span>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    enterIntvBefore &quot;</span> &lt;&lt; Idx);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  Idx = Idx.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(Idx);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordflow">if</span> (!ParentVNI) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: not live\n&quot;</span>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">return</span> Idx;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: valno &quot;</span> &lt;&lt; ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(Idx);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <span class="stringliteral">&quot;enterIntvBefore called with invalid index&quot;</span>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = defFromParent(OpenIdx, ParentVNI, Idx, *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">return</span> VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a8808112c59febd729a9964ac6509d7d4">  670</a></span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="classllvm_1_1SplitEditor.html#a8808112c59febd729a9964ac6509d7d4">SplitEditor::enterIntvAfter</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpenIdx &amp;&amp; <span class="stringliteral">&quot;openIntv not called before enterIntvAfter&quot;</span>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    enterIntvAfter &quot;</span> &lt;&lt; Idx);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  Idx = Idx.<a class="code" href="classllvm_1_1SlotIndex.html#a9ee9e2030e830feecf0a2c27c6f3c09f">getBoundaryIndex</a>();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(Idx);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">if</span> (!ParentVNI) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: not live\n&quot;</span>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> Idx;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: valno &quot;</span> &lt;&lt; ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(Idx);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <span class="stringliteral">&quot;enterIntvAfter called with invalid index&quot;</span>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = defFromParent(OpenIdx, ParentVNI, Idx, *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent(),</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                              std::next(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)));</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">return</span> VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a94fd41d857393a092523f88b19d1bef3">  688</a></span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="classllvm_1_1SplitEditor.html#a94fd41d857393a092523f88b19d1bef3">SplitEditor::enterIntvAtEnd</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpenIdx &amp;&amp; <span class="stringliteral">&quot;openIntv not called before enterIntvAtEnd&quot;</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> End = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a> = End.getPrevSlot();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    enterIntvAtEnd &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    &lt;&lt; <a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(<a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordflow">if</span> (!ParentVNI) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: not live\n&quot;</span>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">return</span> End;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LSP = SA.<a class="code" href="classllvm_1_1SplitAnalysis.html#a723a443c171be9909a0f101c7b84333e">getLastSplitPoint</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordflow">if</span> (LSP &lt; <a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// It could be that the use after LSP is a def, and thus the ParentVNI</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// just selected starts at that def.  For this case to exist, the def</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">// must be part of a tied def/use pair (as otherwise we&#39;d have split</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// distinct live ranges into individual live intervals), and thus we</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// can insert the def into the VNI of the use and the tied def/use</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="comment">// pair can live in the resulting interval.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a> = LSP;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(<a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">if</span> (!ParentVNI) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="comment">// undef use --&gt; undef tied def</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: tied use not live\n&quot;</span>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="keywordflow">return</span> End;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: valno &quot;</span> &lt;&lt; ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = defFromParent(OpenIdx, ParentVNI, <a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                              SA.<a class="code" href="classllvm_1_1SplitAnalysis.html#a2ed260204c6f152115206858258866b2">getLastSplitPointIter</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a377d82c7830c58e7034baf6a9cf38ba3">insert</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>, End, OpenIdx);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="classllvm_1_1SplitEditor.html#af56a81de61d43765dd1352743fd0bfc3">dump</a>());</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">return</span> VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/// useIntv - indicate that all instructions in MBB should use OpenLI.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">  725</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">SplitEditor::useIntv</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a17bd0f1ec8263f735f29dd8840b7188f">getMBBStartIdx</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>), LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;}</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#acd53356e2f1d5c95a058671c2daec939">  729</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">SplitEditor::useIntv</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Start, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> End) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpenIdx &amp;&amp; <span class="stringliteral">&quot;openIntv not called before useIntv&quot;</span>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    useIntv [&quot;</span> &lt;&lt; Start &lt;&lt; <span class="charliteral">&#39;;&#39;</span> &lt;&lt; End &lt;&lt; <span class="stringliteral">&quot;):&quot;</span>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a377d82c7830c58e7034baf6a9cf38ba3">insert</a>(Start, End, OpenIdx);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="classllvm_1_1SplitEditor.html#af56a81de61d43765dd1352743fd0bfc3">dump</a>());</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a8ab989120222d67308b4e03b2772fb6a">  736</a></span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="classllvm_1_1SplitEditor.html#a8ab989120222d67308b4e03b2772fb6a">SplitEditor::leaveIntvAfter</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpenIdx &amp;&amp; <span class="stringliteral">&quot;openIntv not called before leaveIntvAfter&quot;</span>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    leaveIntvAfter &quot;</span> &lt;&lt; Idx);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="comment">// The interval must be live beyond the instruction at Idx.</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Boundary = Idx.<a class="code" href="classllvm_1_1SlotIndex.html#a9ee9e2030e830feecf0a2c27c6f3c09f">getBoundaryIndex</a>();</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(Boundary);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keywordflow">if</span> (!ParentVNI) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: not live\n&quot;</span>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">return</span> Boundary.<a class="code" href="classllvm_1_1SlotIndex.html#ac3782d262b2a58da44d43c6d995aef9d">getNextSlot</a>();</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: valno &quot;</span> &lt;&lt; ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(Boundary);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <span class="stringliteral">&quot;No instruction at index&quot;</span>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// In spill mode, make live ranges as short as possible by inserting the copy</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="comment">// before MI.  This is only possible if that instruction doesn&#39;t redefine the</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="comment">// value.  The inserted COPY is not a kill, and we don&#39;t need to recompute</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="comment">// the source live range.  The spiller also won&#39;t try to hoist this copy.</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordflow">if</span> (SpillMode &amp;&amp; !<a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>, Idx) &amp;&amp;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;readsVirtualRegister(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#ac2d157d94da9ea6da55d19a1fa8d9247">getReg</a>())) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    forceRecompute(0, *ParentVNI);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    defFromParent(0, ParentVNI, Idx, *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">return</span> Idx;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = defFromParent(0, ParentVNI, Boundary, *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent(),</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                              std::next(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)));</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">return</span> VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;}</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a9899a3945a73e70c7bb2800ef3865017">  767</a></span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="classllvm_1_1SplitEditor.html#a9899a3945a73e70c7bb2800ef3865017">SplitEditor::leaveIntvBefore</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpenIdx &amp;&amp; <span class="stringliteral">&quot;openIntv not called before leaveIntvBefore&quot;</span>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    leaveIntvBefore &quot;</span> &lt;&lt; Idx);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">// The interval must be live into the instruction at Idx.</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  Idx = Idx.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(Idx);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">if</span> (!ParentVNI) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: not live\n&quot;</span>);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">return</span> Idx.<a class="code" href="classllvm_1_1SlotIndex.html#ac3782d262b2a58da44d43c6d995aef9d">getNextSlot</a>();</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: valno &quot;</span> &lt;&lt; ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(Idx);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <span class="stringliteral">&quot;No instruction at index&quot;</span>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = defFromParent(0, ParentVNI, Idx, *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keywordflow">return</span> VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;}</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a98785a9cb443380b8f700cb764a6fd84">  786</a></span>&#160;<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="classllvm_1_1SplitEditor.html#a98785a9cb443380b8f700cb764a6fd84">SplitEditor::leaveIntvAtTop</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpenIdx &amp;&amp; <span class="stringliteral">&quot;openIntv not called before leaveIntvAtTop&quot;</span>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Start = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a17bd0f1ec8263f735f29dd8840b7188f">getMBBStartIdx</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    leaveIntvAtTop &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    &lt;&lt; Start);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(Start);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordflow">if</span> (!ParentVNI) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: not live\n&quot;</span>);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">return</span> Start;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = defFromParent(0, ParentVNI, Start, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                              <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a0bcbe87140565048a95f70d5207b4a93">SkipPHIsLabelsAndDebug</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()));</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a377d82c7830c58e7034baf6a9cf38ba3">insert</a>(Start, VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>, OpenIdx);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="classllvm_1_1SplitEditor.html#af56a81de61d43765dd1352743fd0bfc3">dump</a>());</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">return</span> VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;}</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="SplitKit_8cpp.html#a5cf70104d9aee77d3e009f270354e7ad">  805</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SplitKit_8cpp.html#a5cf70104d9aee77d3e009f270354e7ad">hasTiedUseOf</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.defs(), [<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    return MO.isReg() &amp;&amp; MO.isTied() &amp;&amp; MO.getReg() == Reg;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  });</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;}</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a061a8d1b2719e16851521dddcd1a73cc">  811</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#a061a8d1b2719e16851521dddcd1a73cc">SplitEditor::overlapIntv</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Start, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> End) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpenIdx &amp;&amp; <span class="stringliteral">&quot;openIntv not called before overlapIntv&quot;</span>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(Start);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ParentVNI == Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#a136fa159d07a92017f3206822f5847cd">getVNInfoBefore</a>(End) &amp;&amp;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;         <span class="stringliteral">&quot;Parent changes value in extended range&quot;</span>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(Start) == LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(End) &amp;&amp;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;         <span class="stringliteral">&quot;Range cannot span basic blocks&quot;</span>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="comment">// The complement interval will be extended as needed by LICalc.extend().</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordflow">if</span> (ParentVNI)</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    forceRecompute(0, *ParentVNI);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// If the last use is tied to a def, we can&#39;t mark it as live for the</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// interval which includes only the use.  That would cause the tied pair</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// to end up in two different intervals.</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(End))</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SplitKit_8cpp.html#a5cf70104d9aee77d3e009f270354e7ad">hasTiedUseOf</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#ac2d157d94da9ea6da55d19a1fa8d9247">getReg</a>())) {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;skip overlap due to tied def at end\n&quot;</span>);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    overlapIntv [&quot;</span> &lt;&lt; Start &lt;&lt; <span class="charliteral">&#39;;&#39;</span> &lt;&lt; End &lt;&lt; <span class="stringliteral">&quot;):&quot;</span>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a377d82c7830c58e7034baf6a9cf38ba3">insert</a>(Start, End, OpenIdx);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="classllvm_1_1SplitEditor.html#af56a81de61d43765dd1352743fd0bfc3">dump</a>());</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">//                                  Spill modes</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="keywordtype">void</span> SplitEditor::removeBackCopies(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;VNInfo*&gt;</a> &amp;<a class="code" href="SILowerI1Copies_8cpp.html#a5cd9e4c7fe1a7ebe8b545eb891a2a949">Copies</a>) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *LI = &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(0));</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Removing &quot;</span> &lt;&lt; <a class="code" href="SILowerI1Copies_8cpp.html#a5cd9e4c7fe1a7ebe8b545eb891a2a949">Copies</a>.size() &lt;&lt; <span class="stringliteral">&quot; back-copies.\n&quot;</span>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="classllvm_1_1IntervalMap.html#a67171474c4da6cc8efe0c7fafefd2b2d">RegAssignMap::iterator</a> AssignI;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  AssignI.setMap(RegAssign);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : <a class="code" href="SILowerI1Copies_8cpp.html#a5cd9e4c7fe1a7ebe8b545eb891a2a949">Copies</a>) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;def;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <span class="stringliteral">&quot;No instruction for back-copy&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordtype">bool</span> AtBegin;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">do</span> AtBegin = <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">while</span> (!AtBegin &amp;&amp; (--<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>)-&gt;isDebugOrPseudoInstr());</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160; </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Removing &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ac332ca27d85adc8d21edd708be55dfe3">removeVRegDefAt</a>(*LI, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a73f605751be73f0a910a586bb1b5d869">RemoveMachineInstrFromMaps</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="comment">// Adjust RegAssign if a register assignment is killed at Def. We want to</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">// avoid calculating the live range of the source register if possible.</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    AssignI.find(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.getPrevSlot());</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span> (!AssignI.valid() || AssignI.start() &gt;= <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="comment">// If MI doesn&#39;t kill the assigned register, just leave it.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">if</span> (AssignI.stop() != <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordtype">unsigned</span> RegIdx = AssignI.value();</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">// We could hoist back-copy right after another back-copy. As a result</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// MMBI points to copy instruction which is actually dead now.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="comment">// We cannot set its stop to MBBI which will be the same as start and</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">// interval does not support that.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">Kill</a> =</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        AtBegin ? <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a>() : LIS.getInstructionIndex(*<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>).getRegSlot();</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (AtBegin || !<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>-&gt;readsVirtualRegister(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#ac2d157d94da9ea6da55d19a1fa8d9247">getReg</a>()) ||</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">Kill</a> &lt;= AssignI.start()) {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  cannot find simple kill of RegIdx &quot;</span> &lt;&lt; RegIdx</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                        &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      forceRecompute(RegIdx, *Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>));</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  move kill to &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">Kill</a> &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; *<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      AssignI.setStop(<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">Kill</a>);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>*</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;SplitEditor::findShallowDominator(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                                  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *DefMBB) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> == DefMBB)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MDT.<a class="code" href="classllvm_1_1MachineDominatorTree.html#a9b58c371c0cea5f9fc9722e253149f47">dominates</a>(DefMBB, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) &amp;&amp; <span class="stringliteral">&quot;MBB must be dominated by the def.&quot;</span>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a> &amp;<a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a> = SA.<a class="code" href="classllvm_1_1SplitAnalysis.html#ab4478598c0a88b09a259c89aead763c5">Loops</a>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a> *DefLoop = <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.getLoopFor(DefMBB);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <a class="code" href="classllvm_1_1DomTreeNodeBase.html">MachineDomTreeNode</a> *DefDomNode = MDT[DefMBB];</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="comment">// Best candidate so far.</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *BestMBB = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="keywordtype">unsigned</span> BestDepth = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;unsigned&gt;::max</a>();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a> *<a class="code" href="classllvm_1_1Loop.html">Loop</a> = <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.getLoopFor(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">// MBB isn&#39;t in a loop, it doesn&#39;t get any better.  All dominators have a</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// higher frequency by definition.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Loop.html">Loop</a>) {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Def in &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*DefMBB)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; dominates &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; at depth 0\n&quot;</span>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">// We&#39;ll never be able to exit the DefLoop.</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Loop.html">Loop</a> == DefLoop) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Def in &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*DefMBB)</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; dominates &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; in the same loop\n&quot;</span>);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="comment">// Least busy dominator seen so far.</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> = <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a57994482c17097d9f936acff3a6598ac">getLoopDepth</a>();</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &lt; BestDepth) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      BestMBB = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      BestDepth = <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Def in &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*DefMBB)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; dominates &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; at depth &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="comment">// Leave loop by going to the immediate dominator of the loop header.</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// This is a bigger stride than simply walking up the dominator tree.</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classllvm_1_1DomTreeNodeBase.html">MachineDomTreeNode</a> *IDom = MDT[<a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()]-&gt;getIDom();</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">// Too far up the dominator tree?</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">if</span> (!IDom || !MDT.<a class="code" href="classllvm_1_1MachineDominatorTree.html#a9b58c371c0cea5f9fc9722e253149f47">dominates</a>(DefDomNode, IDom))</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="keywordflow">return</span> BestMBB;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = IDom-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a6a15a030098342e06ea73e1241d614c9">getBlock</a>();</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;}</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="keywordtype">void</span> SplitEditor::computeRedundantBackCopies(</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> &amp;NotToHoistSet, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;VNInfo *&gt;</a> &amp;BackCopies) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *LI = &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(0));</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *Parent = &amp;Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>();</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SmallPtrSet&lt;VNInfo *, 8&gt;</a>, 8&gt; EqualVNs(Parent-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a93450063916ca1ab1f11bf3304a6ad03">getNumValNums</a>());</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;VNInfo *, 8&gt;</a> DominatedVNIs;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="comment">// Aggregate VNIs having the same value as ParentVNI.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI : LI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">valnos</a>) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>())</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    EqualVNs[ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>].insert(VNI);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="comment">// For VNI aggregation of each ParentVNI, collect dominated, i.e.,</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// redundant VNIs to BackCopies.</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Parent-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a93450063916ca1ab1f11bf3304a6ad03">getNumValNums</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Parent-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a699598a93a78f8b0376cfb49933cbce7">getValNumInfo</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">if</span> (!NotToHoistSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>))</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetIterator.html">SmallPtrSetIterator&lt;VNInfo *&gt;</a> It1 = EqualVNs[ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>].begin();</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetIterator.html">SmallPtrSetIterator&lt;VNInfo *&gt;</a> It2 = It1;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">for</span> (; It1 != EqualVNs[ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>].end(); ++It1) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      It2 = It1;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">for</span> (++It2; It2 != EqualVNs[ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>].end(); ++It2) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">if</span> (DominatedVNIs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(*It1) || DominatedVNIs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(*It2))</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB1 = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>((*It1)-&gt;def);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB2 = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>((*It2)-&gt;def);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="keywordflow">if</span> (MBB1 == MBB2) {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;          DominatedVNIs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>((*It1)-&gt;def &lt; (*It2)-&gt;def ? (*It2) : (*It1));</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MDT.<a class="code" href="classllvm_1_1MachineDominatorTree.html#a9b58c371c0cea5f9fc9722e253149f47">dominates</a>(MBB1, MBB2)) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          DominatedVNIs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(*It2);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MDT.<a class="code" href="classllvm_1_1MachineDominatorTree.html#a9b58c371c0cea5f9fc9722e253149f47">dominates</a>(MBB2, MBB1)) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;          DominatedVNIs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(*It1);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span> (!DominatedVNIs.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">empty</a>()) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      forceRecompute(0, *ParentVNI);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(BackCopies, DominatedVNIs);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      DominatedVNIs.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">clear</a>();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">/// For SM_Size mode, find a common dominator for all the back-copies for</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">/// the same ParentVNI and hoist the backcopies to the dominator BB.</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">/// For SM_Speed mode, if the common dominator is hot and it is not beneficial</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">/// to do the hoisting, simply remove the dominated backcopies for the same</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">/// ParentVNI.</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SplitEditor::hoistCopies() {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// Get the complement interval, always RegIdx 0.</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *LI = &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(0));</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *Parent = &amp;Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>();</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">// Track the nearest common dominator for all back-copies for each ParentVNI,</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="comment">// indexed by ParentVNI-&gt;id.</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keyword">using</span> DomPair = std::pair&lt;MachineBasicBlock *, SlotIndex&gt;;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DomPair, 8&gt;</a> NearestDom(Parent-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a93450063916ca1ab1f11bf3304a6ad03">getNumValNums</a>());</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="comment">// The total cost of all the back-copies for each ParentVNI.</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BlockFrequency, 8&gt;</a> Costs(Parent-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a93450063916ca1ab1f11bf3304a6ad03">getNumValNums</a>());</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// The ParentVNI-&gt;id set for which hoisting back-copies are not beneficial</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="comment">// for Speed.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> NotToHoistSet;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="comment">// Find the nearest common dominator for parent values with multiple</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="comment">// back-copies.  If a single back-copy dominates, put it in DomPair.second.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI : LI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">valnos</a>) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>())</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ParentVNI &amp;&amp; <span class="stringliteral">&quot;Parent not live at complement def&quot;</span>);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="comment">// Don&#39;t hoist remats.  The complement is probably going to disappear</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="comment">// completely anyway.</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">if</span> (Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#afa359a34c1dd19a35f80029e446e8052">didRematerialize</a>(ParentVNI))</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *ValMBB = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    DomPair &amp;Dom = NearestDom[ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>];</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">// Keep directly defined parent values.  This is either a PHI or an</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="comment">// instruction in the complement range.  All other copies of ParentVNI</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">// should be eliminated.</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> == ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Direct complement def at &quot;</span> &lt;&lt; VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      Dom = DomPair(ValMBB, VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="comment">// Skip the singly mapped values.  There is nothing to gain from hoisting a</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">// single back-copy.</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">if</span> (Values.<a class="code" href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">lookup</a>(std::make_pair(0, ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>)).<a class="code" href="classllvm_1_1PointerIntPair.html#ac8b55437ca130fe0c826e94e669e5d99">getPointer</a>()) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Single complement def at &quot;</span> &lt;&lt; VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">if</span> (!Dom.first) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <span class="comment">// First time we see ParentVNI.  VNI dominates itself.</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      Dom = DomPair(ValMBB, VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Dom.first == ValMBB) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="comment">// Two defs in the same block.  Pick the earlier def.</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordflow">if</span> (!Dom.second.isValid() || VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> &lt; Dom.second)</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        Dom.second = VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <span class="comment">// Different basic blocks. Check if one dominates.</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="namespacellvm_1_1codeview.html#aed2e29ac9478aebf676ae99db3744dd9aa535711d028372f87fdbce03cd43b25d">Near</a> =</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        MDT.<a class="code" href="classllvm_1_1MachineDominatorTree.html#a45fccd143379ba66e655fad378f17f51">findNearestCommonDominator</a>(Dom.first, ValMBB);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="keywordflow">if</span> (Near == ValMBB)</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="comment">// Def ValMBB dominates.</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        Dom = DomPair(ValMBB, VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Near != Dom.first)</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <span class="comment">// None dominate. Hoist to common dominator, need new def.</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        Dom = DomPair(Near, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a>());</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      Costs[ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>] += MBFI.<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html#a7dd7fa8c0a91118934b08b516b6e9d37">getBlockFreq</a>(ValMBB);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Multi-mapped complement &quot;</span> &lt;&lt; VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a> &lt;&lt; <span class="charliteral">&#39;@&#39;</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                      &lt;&lt; VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> &lt;&lt; <span class="stringliteral">&quot; for parent &quot;</span> &lt;&lt; ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a> &lt;&lt; <span class="charliteral">&#39;@&#39;</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                      &lt;&lt; ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> &lt;&lt; <span class="stringliteral">&quot; hoist to &quot;</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                      &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*Dom.first) &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; Dom.second</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                      &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">// Insert the hoisted copies.</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Parent-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a93450063916ca1ab1f11bf3304a6ad03">getNumValNums</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    DomPair &amp;Dom = NearestDom[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (!Dom.first || Dom.second.isValid())</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="comment">// This value needs a hoisted copy inserted at the end of Dom.first.</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Parent-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a699598a93a78f8b0376cfb49933cbce7">getValNumInfo</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *DefMBB = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="comment">// Get a less loopy dominator than Dom.first.</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    Dom.first = findShallowDominator(Dom.first, DefMBB);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> (SpillMode == <a class="code" href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7a7bfb05c8742572ff98fd4f226bb0aede">SM_Speed</a> &amp;&amp;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        MBFI.<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html#a7dd7fa8c0a91118934b08b516b6e9d37">getBlockFreq</a>(Dom.first) &gt; Costs[ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>]) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      NotToHoistSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LSP = SA.<a class="code" href="classllvm_1_1SplitAnalysis.html#a723a443c171be9909a0f101c7b84333e">getLastSplitPoint</a>(Dom.first);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">if</span> (LSP &lt;= ParentVNI-&gt;def) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      NotToHoistSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    Dom.second = defFromParent(0, ParentVNI, LSP, *Dom.first,</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                               SA.<a class="code" href="classllvm_1_1SplitAnalysis.html#a2ed260204c6f152115206858258866b2">getLastSplitPointIter</a>(Dom.first))-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="comment">// Remove redundant back-copies that are now known to be dominated by another</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">// def with the same value.</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;VNInfo*, 8&gt;</a> BackCopies;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI : LI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">valnos</a>) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>())</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keyword">const</span> DomPair &amp;Dom = NearestDom[ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>];</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">if</span> (!Dom.first || Dom.second == VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> ||</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        NotToHoistSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>))</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    BackCopies.push_back(VNI);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    forceRecompute(0, *ParentVNI);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="comment">// If it is not beneficial to hoist all the BackCopies, simply remove</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="comment">// redundant BackCopies in speed mode.</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">if</span> (SpillMode == <a class="code" href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7a7bfb05c8742572ff98fd4f226bb0aede">SM_Speed</a> &amp;&amp; !NotToHoistSet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a3c9d867ff6bde97841c2b7983f5c70">empty</a>())</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    computeRedundantBackCopies(NotToHoistSet, BackCopies);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  removeBackCopies(BackCopies);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;}</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">/// transferValues - Transfer all possible values to the new live ranges.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">/// Values that were rematerialized are left alone, they need LICalc.extend().</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> SplitEditor::transferValues() {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordtype">bool</span> Skipped = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <a class="code" href="classllvm_1_1IntervalMap.html#ac220ce1c155db1ac44146c12d178056f">RegAssignMap::const_iterator</a> AssignI = RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a30a86f92a3d8d04852d53bfd89ce89c2">begin</a>();</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>()) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  blit &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.valno;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="comment">// RegAssign has holes where RegIdx 0 should be used.</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Start = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.start;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    AssignI.advanceTo(Start);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordtype">unsigned</span> RegIdx;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> End = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.end;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">if</span> (!AssignI.valid()) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        RegIdx = 0;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AssignI.start() &lt;= Start) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        RegIdx = AssignI.value();</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">if</span> (AssignI.stop() &lt; End) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;          End = AssignI.stop();</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;          ++AssignI;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        RegIdx = 0;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        End = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(End, AssignI.start());</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="comment">// The interval [Start;End) is continuously mapped to RegIdx, ParentVNI.</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; Start &lt;&lt; <span class="charliteral">&#39;;&#39;</span> &lt;&lt; End &lt;&lt; <span class="stringliteral">&quot;)=&quot;</span> &lt;&lt; RegIdx &lt;&lt; <span class="charliteral">&#39;(&#39;</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                        &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx)) &lt;&lt; <span class="charliteral">&#39;)&#39;</span>);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx));</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="comment">// Check for a simply defined value that can be blitted directly.</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      ValueForcePair VFP = Values.<a class="code" href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">lookup</a>(std::make_pair(RegIdx, ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>));</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = VFP.getPointer()) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        LI.<a class="code" href="classllvm_1_1LiveRange.html#a0b73c8d5ae32ca13dd02ddde86ffd0a2">addSegment</a>(LiveInterval::Segment(Start, End, VNI));</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        Start = End;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      }</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="comment">// Skip values with forced recomputation.</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">if</span> (VFP.getInt()) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;(recalc)&quot;</span>);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        Skipped = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        Start = End;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <a class="code" href="classllvm_1_1LiveIntervalCalc.html">LiveIntervalCalc</a> &amp;LIC = getLICalc(RegIdx);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="comment">// This value has multiple defs in RegIdx, but it wasn&#39;t rematerialized,</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="comment">// so the live range is accurate. Add live-in blocks in [Start;End) to the</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <span class="comment">// LiveInBlocks.</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <a class="code" href="classllvm_1_1ilist__iterator.html">MachineFunction::iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(Start)-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> BlockStart, BlockEnd;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      std::tie(BlockStart, BlockEnd) = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>()-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a3e3d63f9de68891facf6a6b0124af4b0">getMBBRange</a>(&amp;*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="comment">// The first block may be live-in, or it may have its own def.</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="keywordflow">if</span> (Start != BlockStart) {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LI.<a class="code" href="classllvm_1_1LiveRange.html#a81f9d3d0b958e57c0c0f24982230885d">extendInBlock</a>(BlockStart, <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(BlockEnd, End));</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VNI &amp;&amp; <span class="stringliteral">&quot;Missing def for complex mapped value&quot;</span>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a> &lt;&lt; <span class="stringliteral">&quot;*&quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="comment">// MBB has its own def. Is it also live-out?</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="keywordflow">if</span> (BlockEnd &lt;= End)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;          LIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#ae8e6fcd2d2e7e04fb1aa8fab71910f68">setLiveOutValue</a>(&amp;*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, VNI);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="comment">// Skip to the next block for live-in.</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        ++<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        BlockStart = BlockEnd;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="comment">// Handle the live-in blocks covered by [Start;End).</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Start &lt;= BlockStart &amp;&amp; <span class="stringliteral">&quot;Expected live-in block&quot;</span>);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">while</span> (BlockStart &lt; End) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        BlockEnd = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(&amp;*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">if</span> (BlockStart == ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;          <span class="comment">// This block has the def of a parent PHI, so it isn&#39;t live-in.</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>() &amp;&amp; <span class="stringliteral">&quot;Non-phi defined at block start?&quot;</span>);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;          <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LI.<a class="code" href="classllvm_1_1LiveRange.html#a81f9d3d0b958e57c0c0f24982230885d">extendInBlock</a>(BlockStart, <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(BlockEnd, End));</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VNI &amp;&amp; <span class="stringliteral">&quot;Missing def for complex mapped parent PHI&quot;</span>);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;          <span class="keywordflow">if</span> (End &gt;= BlockEnd)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;            LIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#ae8e6fcd2d2e7e04fb1aa8fab71910f68">setLiveOutValue</a>(&amp;*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, VNI); <span class="comment">// Live-out as well.</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;          <span class="comment">// This block needs a live-in value.  The last block covered may not</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;          <span class="comment">// be live-out.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;          <span class="keywordflow">if</span> (End &lt; BlockEnd)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            LIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#a46981dd5d4bb3043b740ce285b7b4a95">addLiveInBlock</a>(LI, MDT[&amp;*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>], End);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;          <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            <span class="comment">// Live-through, and we don&#39;t know the value.</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            LIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#a46981dd5d4bb3043b740ce285b7b4a95">addLiveInBlock</a>(LI, MDT[&amp;*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>]);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            LIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#ae8e6fcd2d2e7e04fb1aa8fab71910f68">setLiveOutValue</a>(&amp;*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;          }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        BlockStart = BlockEnd;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        ++<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      Start = End;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    } <span class="keywordflow">while</span> (Start != <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.end);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  LICalc[0].<a class="code" href="classllvm_1_1LiveRangeCalc.html#ae5c960114840d1c6dddfbaa529ac633e">calculateValues</a>();</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="keywordflow">if</span> (SpillMode)</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    LICalc[1].<a class="code" href="classllvm_1_1LiveRangeCalc.html#ae5c960114840d1c6dddfbaa529ac633e">calculateValues</a>();</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keywordflow">return</span> Skipped;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;}</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"><a class="line" href="SplitKit_8cpp.html#a5d107951e5df0e107a1269647a484f2f"> 1231</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SplitKit_8cpp.html#a5d107951e5df0e107a1269647a484f2f">removeDeadSegment</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a> *Seg = LR.<a class="code" href="classllvm_1_1LiveRange.html#a43f03898b29d823b707f6b4883c929a4">getSegmentContaining</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="keywordflow">if</span> (Seg == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordflow">if</span> (Seg-&gt;<a class="code" href="structllvm_1_1LiveRange_1_1Segment.html#afe8e59ffc86cb1736116e4dc8b86e26f">end</a> != <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.getDeadSlot())</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="comment">// This is a dead PHI. Remove it.</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  LR.<a class="code" href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">removeSegment</a>(*Seg, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="keywordtype">void</span> SplitEditor::extendPHIRange(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="classllvm_1_1LiveIntervalCalc.html">LiveIntervalCalc</a> &amp;LIC,</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                                 <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LM,</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                                 <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SlotIndex&gt;</a> Undefs) {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.predecessors()) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> End = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LastUse = End.getPrevSlot();</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="comment">// The predecessor may not have a live-out value. That is OK, like an</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="comment">// undef PHI operand.</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;PLI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>();</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="comment">// Need the cast because the inputs to ?: would otherwise be deemed</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="comment">// &quot;incompatible&quot;: SubRange vs LiveInterval.</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;PSR = !LM.<a class="code" href="structllvm_1_1LaneBitmask.html#a82565e0ea5a398255ac8a153b92aa5b6">all</a>() ? <a class="code" href="SplitKit_8cpp.html#a5710215255734932ba932a9086655a11">getSubRangeForMaskExact</a>(LM, PLI)</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                                     : static_cast&lt;<a class="code" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;&gt;(PLI);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">if</span> (PSR.<a class="code" href="classllvm_1_1LiveRange.html#a400c0b88110521ad1de258a7885d9038">liveAt</a>(LastUse))</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      LIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#ad445a5028efdf094173a202811f003e3">extend</a>(LR, End, <span class="comment">/*PhysReg=*/</span>0, Undefs);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="keywordtype">void</span> SplitEditor::extendPHIKillRanges() {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="comment">// Extend live ranges to be live-out for successor PHI values.</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="comment">// Visit each PHI def slot in the parent live interval. If the def is dead,</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="comment">// remove it. Otherwise, extend the live interval to reach the end indexes</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="comment">// of all predecessor blocks.</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;ParentLI = Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>();</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *V : ParentLI.<a class="code" href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">valnos</a>) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>() || !V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>())</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordtype">unsigned</span> RegIdx = RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a3f416a0fa27beff86ce0f442161e3a3a">lookup</a>(V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx));</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="classllvm_1_1LiveIntervalCalc.html">LiveIntervalCalc</a> &amp;LIC = getLICalc(RegIdx);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = *LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SplitKit_8cpp.html#a5d107951e5df0e107a1269647a484f2f">removeDeadSegment</a>(V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>, LI))</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      extendPHIRange(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, LIC, LI, <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>(), <span class="comment">/*Undefs=*/</span>{});</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SlotIndex, 4&gt;</a> Undefs;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <a class="code" href="classllvm_1_1LiveIntervalCalc.html">LiveIntervalCalc</a> SubLIC;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;PS : ParentLI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>()) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *V : PS.valnos) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>() || !V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>())</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <span class="keywordtype">unsigned</span> RegIdx = RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a3f416a0fa27beff86ce0f442161e3a3a">lookup</a>(V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx));</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="SplitKit_8cpp.html#a5710215255734932ba932a9086655a11">getSubRangeForMaskExact</a>(PS.LaneMask, LI);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SplitKit_8cpp.html#a5d107951e5df0e107a1269647a484f2f">removeDeadSegment</a>(V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = *LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(V-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      SubLIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">reset</a>(&amp;VRM.<a class="code" href="classllvm_1_1VirtRegMap.html#af2dbdd40f8a5b94098f14d9087527b79">getMachineFunction</a>(), LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>(), &amp;MDT,</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                   &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      Undefs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      LI.<a class="code" href="classllvm_1_1LiveInterval.html#af4a07ae5c460ac08439a1a71d15e0166">computeSubRangeUndefs</a>(Undefs, PS.LaneMask, MRI, *LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>());</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      extendPHIRange(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, SubLIC, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, PS.LaneMask, Undefs);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;}</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">/// rewriteAssigned - Rewrite all uses of Edit-&gt;getReg().</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SplitEditor::rewriteAssigned(<span class="keywordtype">bool</span> ExtendRanges) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keyword">struct </span>ExtPoint {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    ExtPoint(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, <span class="keywordtype">unsigned</span> R, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      : MO(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>), RegIdx(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>), Next(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {}</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> MO;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordtype">unsigned</span> RegIdx;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Next;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  };</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ExtPoint,4&gt;</a> ExtPoints;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO :</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;       <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a29b23ea3c75302a35dd7307f6915db3f">reg_operands</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#ac2d157d94da9ea6da55d19a1fa8d9247">getReg</a>()))) {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = MO.getParent();</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="comment">// LiveDebugVariables should have handled all DBG_VALUE instructions.</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isDebugValue()) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Zapping &quot;</span> &lt;&lt; *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      MO.setReg(0);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="comment">// &lt;undef&gt; operands don&#39;t really read the register, so it doesn&#39;t matter</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="comment">// which register we choose.  When the use operand is tied to a def, we must</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="comment">// use the same register as the def, so just do that always.</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">if</span> (MO.isDef() || MO.isUndef())</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      Idx = Idx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(MO.isEarlyClobber());</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="comment">// Rewrite to the mapped register at Idx.</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordtype">unsigned</span> RegIdx = RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a3f416a0fa27beff86ce0f442161e3a3a">lookup</a>(Idx);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(RegIdx));</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    MO.setReg(LI.<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>());</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  rewr &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent())</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                      &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; Idx &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; RegIdx &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="comment">// Extend liveness to Idx if the instruction reads reg.</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span> (!ExtendRanges || MO.isUndef())</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// Skip instructions that don&#39;t read Reg.</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">if</span> (MO.isDef()) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="keywordflow">if</span> (!MO.getSubReg() &amp;&amp; !MO.isEarlyClobber())</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="comment">// We may want to extend a live range for a partial redef, or for a use</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="comment">// tied to an early clobber.</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <span class="keywordflow">if</span> (!Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">getParent</a>().<a class="code" href="classllvm_1_1LiveRange.html#a400c0b88110521ad1de258a7885d9038">liveAt</a>(Idx.<a class="code" href="classllvm_1_1SlotIndex.html#ac832da130f4d71a4533a69d98315fb19">getPrevSlot</a>()))</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MO.isUse());</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="keywordtype">bool</span> IsEarlyClobber = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <span class="keywordflow">if</span> (MO.isTied()) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <span class="comment">// We want to extend a live range into `e` slot rather than `r` slot if</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="comment">// tied-def is early clobber, because the `e` slot already contained</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <span class="comment">// in the live range of early-clobber tied-def operand, give an example</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="comment">// here:</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <span class="comment">//  0  %0 = ...</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="comment">// 16  early-clobber %0 = Op %0 (tied-def 0), ...</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="comment">// 32  ... = Op %0</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="comment">// Before extend:</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="comment">//   %0 = [0r, 0d) [16e, 32d)</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="comment">// The point we want to extend is 0d to 16e not 16r in this case, but if</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <span class="comment">// we use 16r here we will extend nothing because that already contained</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="comment">// in [16e, 32d).</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordtype">unsigned</span> OpIdx = MO.getOperandNo();</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keywordtype">unsigned</span> DefOpIdx = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;findTiedOperandIdx(OpIdx);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;DefOp = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(DefOpIdx);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        IsEarlyClobber = DefOp.<a class="code" href="classllvm_1_1MachineOperand.html#abd6aa9da048ef7a4faeaac6484d5c9a6">isEarlyClobber</a>();</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      Idx = Idx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(IsEarlyClobber);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Next = Idx;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">if</span> (LI.<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>()) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <span class="comment">// We have to delay extending subranges until we have seen all operands</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <span class="comment">// defining the register. This is because a &lt;def,read-undef&gt; operand</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <span class="comment">// will create an &quot;undef&quot; point, and we cannot extend any subranges</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="comment">// until all of them have been accounted for.</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordflow">if</span> (MO.isUse())</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        ExtPoints.push_back(ExtPoint(MO, RegIdx, Next));</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <a class="code" href="classllvm_1_1LiveIntervalCalc.html">LiveIntervalCalc</a> &amp;LIC = getLICalc(RegIdx);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      LIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#ad445a5028efdf094173a202811f003e3">extend</a>(LI, Next, 0, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SlotIndex&gt;</a>());</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="keywordflow">for</span> (ExtPoint &amp;EP : ExtPoints) {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Edit-&gt;<a class="code" href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">get</a>(EP.RegIdx));</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LI.<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>());</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <a class="code" href="classllvm_1_1LiveIntervalCalc.html">LiveIntervalCalc</a> SubLIC;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = EP.MO.getReg(), Sub = EP.MO.getSubReg();</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LM = Sub != 0 ? TRI.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(Sub)</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                              : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">getMaxLaneMaskForVReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>()) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask &amp; LM).none())</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="comment">// The problem here can be that the new register may have been created</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="comment">// for a partially defined original register. For example:</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <span class="comment">//   %0:subreg_hireg&lt;def,read-undef&gt; = ...</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="comment">//   ...</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="comment">//   %1 = COPY %0</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.empty())</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      SubLIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">reset</a>(&amp;VRM.<a class="code" href="classllvm_1_1VirtRegMap.html#af2dbdd40f8a5b94098f14d9087527b79">getMachineFunction</a>(), LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>(), &amp;MDT,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                   &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SlotIndex, 4&gt;</a> Undefs;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      LI.<a class="code" href="classllvm_1_1LiveInterval.html#af4a07ae5c460ac08439a1a71d15e0166">computeSubRangeUndefs</a>(Undefs, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask, MRI, *LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>());</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      SubLIC.<a class="code" href="classllvm_1_1LiveRangeCalc.html#ad445a5028efdf094173a202811f003e3">extend</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, EP.Next, 0, Undefs);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Register.html">Register</a> R : *Edit) {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(R);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span> (!LI.<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>())</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    LI.<a class="code" href="classllvm_1_1LiveRange.html#aa1555194b9f176612b04fbd38f49b40d">clear</a>();</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    LI.<a class="code" href="classllvm_1_1LiveInterval.html#a0aac3ef1eadaa206a70b767730ef3c5b">removeEmptySubRanges</a>();</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ac7a9ba0bac237cd374e2a88f9c21696f">constructMainRangeFromSubranges</a>(LI);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;}</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="keywordtype">void</span> SplitEditor::deleteRematVictims() {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr*, 8&gt;</a> <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">Dead</a>;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;R : *Edit) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *LI = &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(R);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a9c628b400be67b6adb4fa07e84a96a82">segments</a>) {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="comment">// Dead defs end at the dead slot.</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.end != <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.valno-&gt;def.getDeadSlot())</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.valno-&gt;isPHIDef())</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.valno-&gt;def);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <span class="stringliteral">&quot;Missing instruction for dead def&quot;</span>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;addRegisterDead(LI-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>(), &amp;TRI);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;allDefsAreDead())</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;All defs dead: &quot;</span> &lt;&lt; *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">Dead</a>.push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">Dead</a>.empty())</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  Edit-&gt;eliminateDeadDefs(<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">Dead</a>, std::nullopt);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;}</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="keywordtype">void</span> SplitEditor::forceRecomputeVNI(<span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> &amp;ParentVNI) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="comment">// Fast-path for common case.</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="keywordflow">if</span> (!ParentVNI.<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>()) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Edit-&gt;size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      forceRecompute(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ParentVNI);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="comment">// Trace value through phis.</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const VNInfo *, 8&gt;</a> Visited; <span class="comment">///&lt; whether VNI was/is in worklist.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const VNInfo *, 4&gt;</a> WorkList;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;ParentVNI);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  WorkList.push_back(&amp;ParentVNI);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;ParentLI = Edit-&gt;getParent();</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a> &amp;Indexes = *LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>();</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> &amp;VNI = *WorkList.back();</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    WorkList.pop_back();</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Edit-&gt;size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      forceRecompute(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, VNI);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">if</span> (!VNI.<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>())</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Indexes.<a class="code" href="classllvm_1_1SlotIndexes.html#afe3ca51f4160181b965b912e022c1d9d">getMBBFromIndex</a>(VNI.<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Pred : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">predecessors</a>()) {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> PredEnd = Indexes.<a class="code" href="classllvm_1_1SlotIndexes.html#a662867d9274595cdac0092afa45888be">getMBBEndIdx</a>(Pred);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *PredVNI = ParentLI.<a class="code" href="classllvm_1_1LiveRange.html#a136fa159d07a92017f3206822f5847cd">getVNInfoBefore</a>(PredEnd);</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PredVNI &amp;&amp; <span class="stringliteral">&quot;Value available in PhiVNI predecessor&quot;</span>);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(PredVNI).second)</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        WorkList.push_back(PredVNI);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  } <span class="keywordflow">while</span>(!WorkList.empty());</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;}</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a98fa413da7a0053bf635119e74970219"> 1490</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#a98fa413da7a0053bf635119e74970219">SplitEditor::finish</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> *LRMap) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  ++NumFinished;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="comment">// At this point, the live intervals in Edit contain VNInfos corresponding to</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">// the inserted copies.</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">// Add the original defs from the parent interval.</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ParentVNI : Edit-&gt;getParent().valnos) {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">if</span> (ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>())</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordtype">unsigned</span> RegIdx = RegAssign.<a class="code" href="classllvm_1_1IntervalMap.html#a3f416a0fa27beff86ce0f442161e3a3a">lookup</a>(ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    defValue(RegIdx, ParentVNI, ParentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="comment">// Force rematted values to be recomputed everywhere.</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="comment">// The new live ranges may be truncated.</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">if</span> (Edit-&gt;didRematerialize(ParentVNI))</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      forceRecomputeVNI(*ParentVNI);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">// Hoist back-copies to the complement interval when in spill mode.</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">switch</span> (SpillMode) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7a5cd5c6b9f5402366a8e7a28a55925720">SM_Partition</a>:</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="comment">// Leave all back-copies as is.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7ade36d2a249a7f767c968e8667190bc11">SM_Size</a>:</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7a7bfb05c8742572ff98fd4f226bb0aede">SM_Speed</a>:</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="comment">// hoistCopies will behave differently between size and speed.</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    hoistCopies();</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="comment">// Transfer the simply mapped values, check if any are skipped.</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordtype">bool</span> Skipped = transferValues();</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="comment">// Rewrite virtual registers, possibly extending ranges.</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  rewriteAssigned(Skipped);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160; </div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">if</span> (Skipped)</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    extendPHIKillRanges();</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    ++NumSimple;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// Delete defs that were rematted everywhere.</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">if</span> (Skipped)</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    deleteRematVictims();</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="comment">// Get rid of unused values and set phi-kill flags.</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> : *Edit) {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    LI.<a class="code" href="classllvm_1_1LiveInterval.html#a0aac3ef1eadaa206a70b767730ef3c5b">removeEmptySubRanges</a>();</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    LI.<a class="code" href="classllvm_1_1LiveRange.html#a687cab1756967efc8f0ce66105531755">RenumberValues</a>();</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160; </div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="comment">// Provide a reverse mapping from original indices to Edit ranges.</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">if</span> (LRMap) {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keyword">auto</span> Seq = llvm::seq&lt;unsigned&gt;(0, Edit-&gt;size());</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    LRMap-&gt;<a class="code" href="classllvm_1_1SmallVectorImpl.html#a38c50aa8e3e9588f4f968c2e03a0cee0">assign</a>(Seq.begin(), Seq.end());</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160; </div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="comment">// Now check if any registers were separated into multiple components.</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <a class="code" href="classllvm_1_1ConnectedVNInfoEqClasses.html">ConnectedVNInfoEqClasses</a> ConEQ(LIS);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Edit-&gt;size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="comment">// Don&#39;t use iterators, they are invalidated by create() below.</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> VReg = Edit-&gt;get(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(VReg);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LiveInterval*, 8&gt;</a> SplitLIs;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aeffc1bb4ebe64a8ad3478e1253683847">splitSeparateComponents</a>(LI, SplitLIs);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Original = VRM.<a class="code" href="classllvm_1_1VirtRegMap.html#a4d88862090bbf71af421aacae8f12866">getOriginal</a>(VReg);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *SplitLI : SplitLIs)</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      VRM.<a class="code" href="classllvm_1_1VirtRegMap.html#a37b7b231e8677fb4c83572d6f4bedaa1">setIsSplitFromReg</a>(SplitLI-&gt;reg(), Original);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="comment">// The new intervals all map back to i.</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">if</span> (LRMap)</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      LRMap-&gt;<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(Edit-&gt;size(), <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="comment">// Calculate spill weight and allocation hints for new intervals.</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  Edit-&gt;calculateRegClassAndHint(VRM.<a class="code" href="classllvm_1_1VirtRegMap.html#af2dbdd40f8a5b94098f14d9087527b79">getMachineFunction</a>(), VRAI);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!LRMap || LRMap-&gt;size() == Edit-&gt;size());</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;}</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">//                            Single Block Splitting</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitAnalysis.html#af3bf010ee796ca57e04c495963fd49b7"> 1575</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SplitAnalysis.html#af3bf010ee796ca57e04c495963fd49b7">SplitAnalysis::shouldSplitSingleBlock</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html">BlockInfo</a> &amp;BI,</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                                           <span class="keywordtype">bool</span> SingleInstrs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="comment">// Always split for multiple instructions.</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keywordflow">if</span> (!BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a5a04f02eff679552af69729e22e8f1a2">isOneInstr</a>())</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="comment">// Don&#39;t split for single instructions unless explicitly requested.</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <span class="keywordflow">if</span> (!SingleInstrs)</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <span class="comment">// Splitting a live-through range always makes progress.</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="keywordflow">if</span> (BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a4c7b9375634dd9b55f130ae4c428475c">LiveIn</a> &amp;&amp; BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a42e9b38c4f9bc0c0aca6f0c8c5cd1f80">LiveOut</a>)</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="comment">// No point in isolating a copy. It has no register class constraints.</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">LIS</a>.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a>)-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1f3c8255141a4f5b7ed15fcf60118eb1">isCopyLike</a>())</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="comment">// Finally, don&#39;t isolate an end point that was created by earlier splits.</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SplitAnalysis.html#a6b388f6ec0c78d81a2d54efaac443691">isOriginalEndpoint</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;}</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#ae5f72acf075c54b8f8ca8783a5683b63"> 1593</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#ae5f72acf075c54b8f8ca8783a5683b63">SplitEditor::splitSingleBlock</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html">SplitAnalysis::BlockInfo</a> &amp;BI) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a45631ddcb7da79035271c3e491d6dc33">openIntv</a>();</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LastSplitPoint = SA.<a class="code" href="classllvm_1_1SplitAnalysis.html#a723a443c171be9909a0f101c7b84333e">getLastSplitPoint</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a6d25ab70a5fda1310dad85ddb8ecaa22">MBB</a>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SegStart = <a class="code" href="classllvm_1_1SplitEditor.html#a88924909b2d83abe8eb4ba2ac84eec6c">enterIntvBefore</a>(<a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a>,</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    LastSplitPoint));</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="keywordflow">if</span> (!BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a42e9b38c4f9bc0c0aca6f0c8c5cd1f80">LiveOut</a> || BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a> &lt; LastSplitPoint) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(SegStart, <a class="code" href="classllvm_1_1SplitEditor.html#a8ab989120222d67308b4e03b2772fb6a">leaveIntvAfter</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a>));</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      <span class="comment">// The last use is after the last valid split point.</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SegStop = <a class="code" href="classllvm_1_1SplitEditor.html#a9899a3945a73e70c7bb2800ef3865017">leaveIntvBefore</a>(LastSplitPoint);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(SegStart, SegStop);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a061a8d1b2719e16851521dddcd1a73cc">overlapIntv</a>(SegStop, BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a>);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  }</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;}</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">//                    Global Live Range Splitting Support</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment">// These methods support a method of global live range splitting that uses a</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="comment">// global algorithm to decide intervals for CFG edges. They will insert split</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">// points and color intervals in basic blocks while avoiding interference.</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">// Note that splitSingleBlock is also useful for blocks where both CFG edges</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">// are on the stack.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01619"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#ab181eb57b4d30c914d782ad60b8d913f"> 1619</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#ab181eb57b4d30c914d782ad60b8d913f">SplitEditor::splitLiveThroughBlock</a>(<span class="keywordtype">unsigned</span> MBBNum,</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                                        <span class="keywordtype">unsigned</span> IntvIn, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LeaveBefore,</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                                        <span class="keywordtype">unsigned</span> IntvOut, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> EnterAfter){</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Start, Stop;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  std::tie(Start, Stop) = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>()-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a3e3d63f9de68891facf6a6b0124af4b0">getMBBRange</a>(MBBNum);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;%bb.&quot;</span> &lt;&lt; MBBNum &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; Start &lt;&lt; <span class="charliteral">&#39;;&#39;</span> &lt;&lt; Stop</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;) intf &quot;</span> &lt;&lt; LeaveBefore &lt;&lt; <span class="charliteral">&#39;-&#39;</span> &lt;&lt; EnterAfter</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, live-through &quot;</span> &lt;&lt; IntvIn &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; IntvOut);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((IntvIn || IntvOut) &amp;&amp; <span class="stringliteral">&quot;Use splitSingleBlock for isolated blocks&quot;</span>);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!LeaveBefore || LeaveBefore &lt; Stop) &amp;&amp; <span class="stringliteral">&quot;Interference after block&quot;</span>);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!IntvIn || !LeaveBefore || LeaveBefore &gt; Start) &amp;&amp; <span class="stringliteral">&quot;Impossible intf&quot;</span>);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!EnterAfter || EnterAfter &gt;= Start) &amp;&amp; <span class="stringliteral">&quot;Interference before block&quot;</span>);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = VRM.<a class="code" href="classllvm_1_1VirtRegMap.html#af2dbdd40f8a5b94098f14d9087527b79">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a7b7667b9c90e0755a98fa55e0b86bf5c">getBlockNumbered</a>(MBBNum);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">if</span> (!IntvOut) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, spill on entry.\n&quot;</span>);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="comment">//        &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;    Possible LeaveBefore interference.</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="comment">//    |-----------|    Live through.</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="comment">//    -____________    Spill on entry.</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvIn);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a98785a9cb443380b8f700cb764a6fd84">leaveIntvAtTop</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!LeaveBefore || Idx &lt;= LeaveBefore) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    (void)Idx;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  }</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="keywordflow">if</span> (!IntvIn) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, reload on exit.\n&quot;</span>);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="comment">//    &gt;&gt;&gt;&gt;&gt;&gt;&gt;          Possible EnterAfter interference.</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="comment">//    |-----------|    Live through.</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="comment">//    ___________--    Reload on exit.</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvOut);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a94fd41d857393a092523f88b19d1bef3">enterIntvAtEnd</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!EnterAfter || Idx &gt;= EnterAfter) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    (void)Idx;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordflow">if</span> (IntvIn == IntvOut &amp;&amp; !LeaveBefore &amp;&amp; !EnterAfter) {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, straight through.\n&quot;</span>);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="comment">//    |-----------|    Live through.</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="comment">//    -------------    Straight through, same intv, no interference.</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvOut);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Start, Stop);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="comment">// We cannot legally insert splits after LSP.</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LSP = SA.<a class="code" href="classllvm_1_1SplitAnalysis.html#a723a443c171be9909a0f101c7b84333e">getLastSplitPoint</a>(MBBNum);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!IntvOut || !EnterAfter || EnterAfter &lt; LSP) &amp;&amp; <span class="stringliteral">&quot;Impossible intf&quot;</span>);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordflow">if</span> (IntvIn != IntvOut &amp;&amp; (!LeaveBefore || !EnterAfter ||</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                  LeaveBefore.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>() &gt; EnterAfter.<a class="code" href="classllvm_1_1SlotIndex.html#a9ee9e2030e830feecf0a2c27c6f3c09f">getBoundaryIndex</a>())) {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, switch avoiding interference.\n&quot;</span>);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="comment">//    &gt;&gt;&gt;&gt;     &lt;&lt;&lt;&lt;    Non-overlapping EnterAfter/LeaveBefore interference.</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="comment">//    |-----------|    Live through.</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="comment">//    ------=======    Switch intervals between interference.</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvOut);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">if</span> (LeaveBefore &amp;&amp; LeaveBefore &lt; LSP) {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a88924909b2d83abe8eb4ba2ac84eec6c">enterIntvBefore</a>(LeaveBefore);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Idx, Stop);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a94fd41d857393a092523f88b19d1bef3">enterIntvAtEnd</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    }</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvIn);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Start, Idx);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!LeaveBefore || Idx &lt;= LeaveBefore) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!EnterAfter || Idx &gt;= EnterAfter) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160; </div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, create local intv for interference.\n&quot;</span>);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="comment">//    &gt;&gt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&lt;&lt;&lt;    Overlapping EnterAfter/LeaveBefore interference.</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <span class="comment">//    |-----------|    Live through.</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="comment">//    ==---------==    Switch intervals before/after interference.</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LeaveBefore &lt;= EnterAfter &amp;&amp; <span class="stringliteral">&quot;Missed case&quot;</span>);</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160; </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvOut);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a8808112c59febd729a9964ac6509d7d4">enterIntvAfter</a>(EnterAfter);</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Idx, Stop);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!EnterAfter || Idx &gt;= EnterAfter) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160; </div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvIn);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a9899a3945a73e70c7bb2800ef3865017">leaveIntvBefore</a>(LeaveBefore);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Start, Idx);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!LeaveBefore || Idx &lt;= LeaveBefore) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;}</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a9d2296ecca42f33ce641b7341fde67d9"> 1722</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#a9d2296ecca42f33ce641b7341fde67d9">SplitEditor::splitRegInBlock</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html">SplitAnalysis::BlockInfo</a> &amp;BI,</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                                  <span class="keywordtype">unsigned</span> IntvIn, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LeaveBefore) {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Start, Stop;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  std::tie(Start, Stop) = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>()-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a3e3d63f9de68891facf6a6b0124af4b0">getMBBRange</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a6d25ab70a5fda1310dad85ddb8ecaa22">MBB</a>);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a6d25ab70a5fda1310dad85ddb8ecaa22">MBB</a>) &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; Start &lt;&lt; <span class="charliteral">&#39;;&#39;</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                    &lt;&lt; Stop &lt;&lt; <span class="stringliteral">&quot;), uses &quot;</span> &lt;&lt; BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a> &lt;&lt; <span class="charliteral">&#39;-&#39;</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                    &lt;&lt; BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a> &lt;&lt; <span class="stringliteral">&quot;, reg-in &quot;</span> &lt;&lt; IntvIn</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, leave before &quot;</span> &lt;&lt; LeaveBefore</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                    &lt;&lt; (BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a42e9b38c4f9bc0c0aca6f0c8c5cd1f80">LiveOut</a> ? <span class="stringliteral">&quot;, stack-out&quot;</span> : <span class="stringliteral">&quot;, killed in block&quot;</span>));</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IntvIn &amp;&amp; <span class="stringliteral">&quot;Must have register in&quot;</span>);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a4c7b9375634dd9b55f130ae4c428475c">LiveIn</a> &amp;&amp; <span class="stringliteral">&quot;Must be live-in&quot;</span>);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!LeaveBefore || LeaveBefore &gt; Start) &amp;&amp; <span class="stringliteral">&quot;Bad interference&quot;</span>);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="keywordflow">if</span> (!BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a42e9b38c4f9bc0c0aca6f0c8c5cd1f80">LiveOut</a> &amp;&amp; (!LeaveBefore || LeaveBefore &gt;= BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a>)) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; before interference.\n&quot;</span>);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="comment">//               &lt;&lt;&lt;    Interference after kill.</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="comment">//     |---o---x   |    Killed in block.</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">//     =========        Use IntvIn everywhere.</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvIn);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Start, BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a>);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LSP = SA.<a class="code" href="classllvm_1_1SplitAnalysis.html#a723a443c171be9909a0f101c7b84333e">getLastSplitPoint</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a6d25ab70a5fda1310dad85ddb8ecaa22">MBB</a>);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160; </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <span class="keywordflow">if</span> (!LeaveBefore || LeaveBefore &gt; BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a>.<a class="code" href="classllvm_1_1SlotIndex.html#a9ee9e2030e830feecf0a2c27c6f3c09f">getBoundaryIndex</a>()) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="comment">//               &lt;&lt;&lt;    Possible interference after last use.</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="comment">//     |---o---o---|    Live-out on stack.</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="comment">//     =========____    Leave IntvIn after last use.</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="comment">//                 &lt;    Interference after last use.</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="comment">//     |---o---o--o|    Live-out on stack, late last use.</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="comment">//     ============     Copy to stack after LSP, overlap IntvIn.</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="comment">//            \_____    Stack interval is live-out.</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">if</span> (BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a> &lt; LSP) {</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, spill after last use before interference.\n&quot;</span>);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvIn);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a8ab989120222d67308b4e03b2772fb6a">leaveIntvAfter</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a>);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;      <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Start, Idx);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!LeaveBefore || Idx &lt;= LeaveBefore) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, spill before last split point.\n&quot;</span>);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvIn);</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a9899a3945a73e70c7bb2800ef3865017">leaveIntvBefore</a>(LSP);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      <a class="code" href="classllvm_1_1SplitEditor.html#a061a8d1b2719e16851521dddcd1a73cc">overlapIntv</a>(Idx, BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a>);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Start, Idx);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!LeaveBefore || Idx &lt;= LeaveBefore) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    }</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <span class="comment">// The interference is overlapping somewhere we wanted to use IntvIn. That</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="comment">// means we need to create a local interval that can be allocated a</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <span class="comment">// different register.</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordtype">unsigned</span> LocalIntv = <a class="code" href="classllvm_1_1SplitEditor.html#a45631ddcb7da79035271c3e491d6dc33">openIntv</a>();</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  (void)LocalIntv;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, creating local interval &quot;</span> &lt;&lt; LocalIntv &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="keywordflow">if</span> (!BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a42e9b38c4f9bc0c0aca6f0c8c5cd1f80">LiveOut</a> || BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a> &lt; LSP) {</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="comment">//           &lt;&lt;&lt;&lt;&lt;&lt;&lt;    Interference overlapping uses.</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="comment">//     |---o---o---|    Live-out on stack.</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="comment">//     =====----____    Leave IntvIn before interference, then spill.</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> To = <a class="code" href="classllvm_1_1SplitEditor.html#a8ab989120222d67308b4e03b2772fb6a">leaveIntvAfter</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a>);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> = <a class="code" href="classllvm_1_1SplitEditor.html#a88924909b2d83abe8eb4ba2ac84eec6c">enterIntvBefore</a>(LeaveBefore);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, To);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvIn);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Start, <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>);</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!LeaveBefore || <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> &lt;= LeaveBefore) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  }</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160; </div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <span class="comment">//           &lt;&lt;&lt;&lt;&lt;&lt;&lt;    Interference overlapping uses.</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="comment">//     |---o---o--o|    Live-out on stack, late last use.</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="comment">//     =====-------     Copy to stack before LSP, overlap LocalIntv.</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="comment">//            \_____    Stack interval is live-out.</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> To = <a class="code" href="classllvm_1_1SplitEditor.html#a9899a3945a73e70c7bb2800ef3865017">leaveIntvBefore</a>(LSP);</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a061a8d1b2719e16851521dddcd1a73cc">overlapIntv</a>(To, BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a>);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> = <a class="code" href="classllvm_1_1SplitEditor.html#a88924909b2d83abe8eb4ba2ac84eec6c">enterIntvBefore</a>(<a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(To, LeaveBefore));</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, To);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvIn);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Start, <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!LeaveBefore || <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> &lt;= LeaveBefore) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;}</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"><a class="line" href="classllvm_1_1SplitEditor.html#a8534c37f85077c1dd9fc3468f70d4618"> 1815</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SplitEditor.html#a8534c37f85077c1dd9fc3468f70d4618">SplitEditor::splitRegOutBlock</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html">SplitAnalysis::BlockInfo</a> &amp;BI,</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                                   <span class="keywordtype">unsigned</span> IntvOut, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> EnterAfter) {</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Start, Stop;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  std::tie(Start, Stop) = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>()-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a3e3d63f9de68891facf6a6b0124af4b0">getMBBRange</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a6d25ab70a5fda1310dad85ddb8ecaa22">MBB</a>);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a6d25ab70a5fda1310dad85ddb8ecaa22">MBB</a>) &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; Start &lt;&lt; <span class="charliteral">&#39;;&#39;</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                    &lt;&lt; Stop &lt;&lt; <span class="stringliteral">&quot;), uses &quot;</span> &lt;&lt; BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a> &lt;&lt; <span class="charliteral">&#39;-&#39;</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                    &lt;&lt; BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a> &lt;&lt; <span class="stringliteral">&quot;, reg-out &quot;</span> &lt;&lt; IntvOut</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, enter after &quot;</span> &lt;&lt; EnterAfter</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                    &lt;&lt; (BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a4c7b9375634dd9b55f130ae4c428475c">LiveIn</a> ? <span class="stringliteral">&quot;, stack-in&quot;</span> : <span class="stringliteral">&quot;, defined in block&quot;</span>));</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LSP = SA.<a class="code" href="classllvm_1_1SplitAnalysis.html#a723a443c171be9909a0f101c7b84333e">getLastSplitPoint</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a6d25ab70a5fda1310dad85ddb8ecaa22">MBB</a>);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IntvOut &amp;&amp; <span class="stringliteral">&quot;Must have register out&quot;</span>);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a42e9b38c4f9bc0c0aca6f0c8c5cd1f80">LiveOut</a> &amp;&amp; <span class="stringliteral">&quot;Must be live-out&quot;</span>);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!EnterAfter || EnterAfter &lt; LSP) &amp;&amp; <span class="stringliteral">&quot;Bad interference&quot;</span>);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160; </div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <span class="keywordflow">if</span> (!BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a4c7b9375634dd9b55f130ae4c428475c">LiveIn</a> &amp;&amp; (!EnterAfter || EnterAfter &lt;= BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a>)) {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; after interference.\n&quot;</span>);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="comment">//    &gt;&gt;&gt;&gt;             Interference before def.</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="comment">//    |   o---o---|    Defined in block.</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="comment">//        =========    Use IntvOut everywhere.</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvOut);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a>, Stop);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  }</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160; </div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="keywordflow">if</span> (!EnterAfter || EnterAfter &lt; BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a>.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>()) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, reload after interference.\n&quot;</span>);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <span class="comment">//    &gt;&gt;&gt;&gt;             Interference before def.</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="comment">//    |---o---o---|    Live-through, stack-in.</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="comment">//    ____=========    Enter IntvOut before first use.</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvOut);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a88924909b2d83abe8eb4ba2ac84eec6c">enterIntvBefore</a>(<a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(LSP, BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a>));</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Idx, Stop);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!EnterAfter || Idx &gt;= EnterAfter) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  }</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="comment">// The interference is overlapping somewhere we wanted to use IntvOut. That</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="comment">// means we need to create a local interval that can be allocated a</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="comment">// different register.</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, interference overlaps uses.\n&quot;</span>);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="comment">//    &gt;&gt;&gt;&gt;&gt;&gt;&gt;          Interference overlapping uses.</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="comment">//    |---o---o---|    Live-through, stack-in.</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="comment">//    ____---======    Create local interval for interference range.</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">selectIntv</a>(IntvOut);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = <a class="code" href="classllvm_1_1SplitEditor.html#a8808112c59febd729a9964ac6509d7d4">enterIntvAfter</a>(EnterAfter);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(Idx, Stop);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!EnterAfter || Idx &gt;= EnterAfter) &amp;&amp; <span class="stringliteral">&quot;Interference&quot;</span>);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160; </div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a45631ddcb7da79035271c3e491d6dc33">openIntv</a>();</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> = <a class="code" href="classllvm_1_1SplitEditor.html#a88924909b2d83abe8eb4ba2ac84eec6c">enterIntvBefore</a>(<a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Idx, BI.<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a>));</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <a class="code" href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">useIntv</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, Idx);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;}</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160; </div>
<div class="line"><a name="l01877"></a><span class="lineno"><a class="line" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#ab4bb4af61621d0136db231e398d23ff1"> 1877</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#ab4bb4af61621d0136db231e398d23ff1">SplitAnalysis::BlockInfo::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;{&quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a6d25ab70a5fda1310dad85ddb8ecaa22">MBB</a>) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;     &lt;&lt; <span class="stringliteral">&quot;uses &quot;</span> &lt;&lt; <a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">FirstInstr</a> &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">LastInstr</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;     &lt;&lt; <span class="stringliteral">&quot;1st def &quot;</span> &lt;&lt; <a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a2ef80e68e8ebc6f8e778d811cc48f67f">FirstDef</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;     &lt;&lt; (<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a4c7b9375634dd9b55f130ae4c428475c">LiveIn</a> ? <span class="stringliteral">&quot;live in&quot;</span> : <span class="stringliteral">&quot;dead in&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;     &lt;&lt; (<a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a42e9b38c4f9bc0c0aca6f0c8c5cd1f80">LiveOut</a> ? <span class="stringliteral">&quot;live out&quot;</span> : <span class="stringliteral">&quot;dead out&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;}</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"><a class="line" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#aca5dd3ea2419809d03649646c75d5ed4"> 1885</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#aca5dd3ea2419809d03649646c75d5ed4">SplitAnalysis::BlockInfo::dump</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <a class="code" href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_a45fccd143379ba66e655fad378f17f51"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#a45fccd143379ba66e655fad378f17f51">llvm::MachineDominatorTree::findNearestCommonDominator</a></div><div class="ttdeci">MachineBasicBlock * findNearestCommonDominator(MachineBasicBlock *A, MachineBasicBlock *B)</div><div class="ttdoc">findNearestCommonDominator - Find nearest common dominator basic block for basic block A and B.</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00160">MachineDominators.h:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_afeb00b9049a2391c990df15692caef63"><div class="ttname"><a href="classllvm_1_1LiveRange.html#afeb00b9049a2391c990df15692caef63">llvm::LiveRange::find</a></div><div class="ttdeci">iterator find(SlotIndex Pos)</div><div class="ttdoc">find - Return an iterator pointing to the first segment that ends after Pos, or end().</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00350">LiveInterval.cpp:350</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html">llvm::LaneBitmask</a></div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00040">LaneBitmask.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_ac8280ad8ed267ed1fe319addf617dbd8"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#ac8280ad8ed267ed1fe319addf617dbd8">llvm::SplitAnalysis::getNumLiveBlocks</a></div><div class="ttdeci">unsigned getNumLiveBlocks() const</div><div class="ttdoc">getNumLiveBlocks - Return the number of blocks where CurLI is live.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00208">SplitKit.h:208</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1InsertPointAnalysis_html_a5bfcd687abf5df6bf77e6904f5a3d799"><div class="ttname"><a href="classllvm_1_1InsertPointAnalysis.html#a5bfcd687abf5df6bf77e6904f5a3d799">llvm::InsertPointAnalysis::InsertPointAnalysis</a></div><div class="ttdeci">InsertPointAnalysis(const LiveIntervals &amp;lis, unsigned BBNum)</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00057">SplitKit.cpp:57</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveRangeEdit_1_1Remat_html"><div class="ttname"><a href="structllvm_1_1LiveRangeEdit_1_1Remat.html">llvm::LiveRangeEdit::Remat</a></div><div class="ttdoc">Remat - Information needed to rematerialize at a specific location.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00189">LiveRangeEdit.h:189</a></div></div>
<div class="ttc" id="anamespacellvm_html_add1eb5637dd671428b6f138ed3db6428"><div class="ttname"><a href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">llvm::array_pod_sort</a></div><div class="ttdeci">void array_pod_sort(IteratorTy Start, IteratorTy End)</div><div class="ttdoc">array_pod_sort - This sorts an array with the specified start and end extent.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01643">STLExtras.h:1643</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_af4a07ae5c460ac08439a1a71d15e0166"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#af4a07ae5c460ac08439a1a71d15e0166">llvm::LiveInterval::computeSubRangeUndefs</a></div><div class="ttdeci">void computeSubRangeUndefs(SmallVectorImpl&lt; SlotIndex &gt; &amp;Undefs, LaneBitmask LaneMask, const MachineRegisterInfo &amp;MRI, const SlotIndexes &amp;Indexes) const</div><div class="ttdoc">For a given lane mask LaneMask, compute indexes at which the lane is marked undefined by subregister ...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00962">LiveInterval.cpp:962</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_ae5f72acf075c54b8f8ca8783a5683b63"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#ae5f72acf075c54b8f8ca8783a5683b63">llvm::SplitEditor::splitSingleBlock</a></div><div class="ttdeci">void splitSingleBlock(const SplitAnalysis::BlockInfo &amp;BI)</div><div class="ttdoc">splitSingleBlock - Split CurLI into a separate live interval around the uses in a single block.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l01593">SplitKit.cpp:1593</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a3e3d63f9de68891facf6a6b0124af4b0"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a3e3d63f9de68891facf6a6b0124af4b0">llvm::SlotIndexes::getMBBRange</a></div><div class="ttdeci">const std::pair&lt; SlotIndex, SlotIndex &gt; &amp; getMBBRange(unsigned Num) const</div><div class="ttdoc">Return the (start,end) range of the given basic block number.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00460">SlotIndexes.h:460</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a94fd41d857393a092523f88b19d1bef3"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a94fd41d857393a092523f88b19d1bef3">llvm::SplitEditor::enterIntvAtEnd</a></div><div class="ttdeci">SlotIndex enterIntvAtEnd(MachineBasicBlock &amp;MBB)</div><div class="ttdoc">enterIntvAtEnd - Enter the open interval at the end of MBB.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00688">SplitKit.cpp:688</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html_a4c7b9375634dd9b55f130ae4c428475c"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a4c7b9375634dd9b55f130ae4c428475c">llvm::SplitAnalysis::BlockInfo::LiveIn</a></div><div class="ttdeci">bool LiveIn</div><div class="ttdoc">Current reg is live in.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00126">SplitKit.h:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_aecbd7712a5e471d6821af772a8e55f85"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#aecbd7712a5e471d6821af772a8e55f85">llvm::IntervalMap::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear - Remove all entries.</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01330">IntervalMap.h:1330</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00492">Compiler.h:492</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html_afc1d576ff2321f8f3a604808be1b6f5b"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#afc1d576ff2321f8f3a604808be1b6f5b">llvm::SplitAnalysis::BlockInfo::FirstInstr</a></div><div class="ttdeci">SlotIndex FirstInstr</div><div class="ttdoc">First instr accessing current reg.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00123">SplitKit.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_a377d82c7830c58e7034baf6a9cf38ba3"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a377d82c7830c58e7034baf6a9cf38ba3">llvm::IntervalMap::insert</a></div><div class="ttdeci">void insert(KeyT a, KeyT b, ValT y)</div><div class="ttdoc">insert - Add a mapping of [a;b] to y, coalesce with adjacent intervals.</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01129">IntervalMap.h:1129</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a66ff664a97cd3c30de7e873335a0c075"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">llvm::LiveRange::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00382">LiveInterval.h:382</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7dc3069afa2ce5ea62ac2eb183e51c00"><div class="ttname"><a href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">llvm::none_of</a></div><div class="ttdeci">bool none_of(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::none_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01749">STLExtras.h:1749</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a45631ddcb7da79035271c3e491d6dc33"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a45631ddcb7da79035271c3e491d6dc33">llvm::SplitEditor::openIntv</a></div><div class="ttdeci">unsigned openIntv()</div><div class="ttdoc">Create a new virtual register and live interval.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00635">SplitKit.cpp:635</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_aaedf1d3001470af7cdb616868c247ffe"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">llvm::LiveIntervals::getSlotIndexes</a></div><div class="ttdeci">SlotIndexes * getSlotIndexes() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00209">LiveIntervals.h:209</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_af47f5ea0e633ac96943c6937e724ae4a"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#af47f5ea0e633ac96943c6937e724ae4a">llvm::LiveIntervals::isLiveInToMBB</a></div><div class="ttdeci">bool isLiveInToMBB(const LiveRange &amp;LR, const MachineBasicBlock *mbb) const</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00239">LiveIntervals.h:239</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a5bcdd85778add4287db384472cde8acd"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a5bcdd85778add4287db384472cde8acd">llvm::SlotIndex::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Returns true if this is a valid index.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00152">SlotIndexes.h:152</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html_a5a04f02eff679552af69729e22e8f1a2"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a5a04f02eff679552af69729e22e8f1a2">llvm::SplitAnalysis::BlockInfo::isOneInstr</a></div><div class="ttdeci">bool isOneInstr() const</div><div class="ttdoc">isOneInstr - Returns true when this BlockInfo describes a single instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00131">SplitKit.h:131</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0b2ca98dc28c61793ff5c90d23e5f14e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">llvm::DenseMapBase::lookup</a></div><div class="ttdeci">ValueT lookup(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">lookup - Return the entry for the specified key, or a default constructed value if no such entry exis...</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00197">DenseMap.h:197</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b"><div class="ttname"><a href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">llvm::PseudoProbeReservedId::Last</a></div><div class="ttdeci">@ Last</div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a1964207fae81f04966b2a9dcfc21cf7b"><div class="ttname"><a href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">llvm::BitVector::set</a></div><div class="ttdeci">BitVector &amp; set()</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00344">BitVector.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_aff06b5e0f98141b098d89db4e93f472b"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#aff06b5e0f98141b098d89db4e93f472b">llvm::LiveRangeEdit::anyRematerializable</a></div><div class="ttdeci">bool anyRematerializable()</div><div class="ttdoc">anyRematerializable - Return true if any parent values may be rematerializable.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8cpp_source.html#l00098">LiveRangeEdit.cpp:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a35bbc237e4a675c5332103ac6e7dcce1"><div class="ttname"><a href="classllvm_1_1BitVector.html#a35bbc237e4a675c5332103ac6e7dcce1">llvm::BitVector::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear - Removes all bits from the bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00328">BitVector.h:328</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a9ee9e2030e830feecf0a2c27c6f3c09f"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a9ee9e2030e830feecf0a2c27c6f3c09f">llvm::SlotIndex::getBoundaryIndex</a></div><div class="ttdeci">SlotIndex getBoundaryIndex() const</div><div class="ttdoc">Returns the boundary index for associated with this index.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00253">SlotIndexes.h:253</a></div></div>
<div class="ttc" id="aHexagonHardwareLoops_8cpp_html_ada7c1594a393ede3ce32602d64d7ddb2"><div class="ttname"><a href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a></div><div class="ttdeci">Hexagon Hardware Loops</div><div class="ttdef"><b>Definition:</b> <a href="HexagonHardwareLoops_8cpp_source.html#l00374">HexagonHardwareLoops.cpp:374</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1VirtRegAuxInfo_html"><div class="ttname"><a href="classllvm_1_1VirtRegAuxInfo.html">llvm::VirtRegAuxInfo</a></div><div class="ttdoc">Calculate auxiliary information for a virtual register such as its spill weight and allocation hint.</div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8h_source.html#l00045">CalcSpillWeights.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a60203ad10397a7340f8a0e44ac25368d"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a60203ad10397a7340f8a0e44ac25368d">llvm::LiveRange::advanceTo</a></div><div class="ttdeci">iterator advanceTo(iterator I, SlotIndex Pos)</div><div class="ttdoc">advanceTo - Advance the specified iterator to point to the Segment containing the specified position,...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00271">LiveInterval.h:271</a></div></div>
<div class="ttc" id="anamespacellvm_html_af7881286e3ea4d7f1c4a63c87c132dac"><div class="ttname"><a href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">llvm::printMBBReference</a></div><div class="ttdeci">Printable printMBBReference(const MachineBasicBlock &amp;MBB)</div><div class="ttdoc">Prints a machine basic block reference.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00118">MachineBasicBlock.cpp:118</a></div></div>
<div class="ttc" id="aclassllvm_1_1VirtRegMap_html_a4d88862090bbf71af421aacae8f12866"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html#a4d88862090bbf71af421aacae8f12866">llvm::VirtRegMap::getOriginal</a></div><div class="ttdeci">Register getOriginal(Register VirtReg) const</div><div class="ttdoc">getOriginal - Return the original virtual register that VirtReg descends from through splitting.</div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00169">VirtRegMap.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ada0488ce8dde6e7677f28b8ddbafdcbd"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">llvm::LiveIntervals::getInstructionFromIndex</a></div><div class="ttdeci">MachineInstr * getInstructionFromIndex(SlotIndex index) const</div><div class="ttdoc">Returns the instruction associated with the given index.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00225">LiveIntervals.h:225</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1VirtRegMap_html"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html">llvm::VirtRegMap</a></div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00033">VirtRegMap.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeCalc_html_ad445a5028efdf094173a202811f003e3"><div class="ttname"><a href="classllvm_1_1LiveRangeCalc.html#ad445a5028efdf094173a202811f003e3">llvm::LiveRangeCalc::extend</a></div><div class="ttdeci">void extend(LiveRange &amp;LR, SlotIndex Use, unsigned PhysReg, ArrayRef&lt; SlotIndex &gt; Undefs)</div><div class="ttdoc">Extend the live range of LR to reach Use.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeCalc_8cpp_source.html#l00087">LiveRangeCalc.cpp:87</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aAllocator_8h_html"><div class="ttname"><a href="Allocator_8h.html">Allocator.h</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveRange_1_1Segment_html"><div class="ttname"><a href="structllvm_1_1LiveRange_1_1Segment.html">llvm::LiveRange::Segment</a></div><div class="ttdoc">This represents a simple continuous liveness interval for a value.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00162">LiveInterval.h:162</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0aad617bc1bdef5bda2689f7a9fd06f6"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0aad617bc1bdef5bda2689f7a9fd06f6">llvm::MachineInstr::bundleWithPred</a></div><div class="ttdeci">void bundleWithPred()</div><div class="ttdoc">Bundle this instruction with its predecessor.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00767">MachineInstr.cpp:767</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html_ae623a0f1ab59da851f2ebf1674d1fddb"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">llvm::VNInfo::def</a></div><div class="ttdeci">SlotIndex def</div><div class="ttdoc">The index of the defining instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00061">LiveInterval.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aae3faf8229869864f829df28a14b79a2"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aae3faf8229869864f829df28a14b79a2">llvm::MachineInstr::defs</a></div><div class="ttdeci">iterator_range&lt; mop_iterator &gt; defs()</div><div class="ttdoc">Returns a range over all explicit operands that are register definitions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00678">MachineInstr.h:678</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html">llvm::SplitAnalysis::BlockInfo</a></div><div class="ttdoc">Additional information about basic blocks where the current variable is live.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00121">SplitKit.h:121</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_aa22424ba23740b6a748e8d0c239b7e4c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aa22424ba23740b6a748e8d0c239b7e4c">llvm::MachineFunction::getNumBlockIDs</a></div><div class="ttdeci">unsigned getNumBlockIDs() const</div><div class="ttdoc">getNumBlockIDs - Return the number of MBB ID's allocated.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00815">MachineFunction.h:815</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">llvm::Depth</a></div><div class="ttdeci">@ Depth</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00036">SIMachineScheduler.h:36</a></div></div>
<div class="ttc" id="aBlockFrequency_8h_html"><div class="ttname"><a href="BlockFrequency_8h.html">BlockFrequency.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a32859a24aa7a3be269855b989d92a4b4"><div class="ttname"><a href="classllvm_1_1BitVector.html#a32859a24aa7a3be269855b989d92a4b4">llvm::BitVector::resize</a></div><div class="ttdeci">void resize(unsigned N, bool t=false)</div><div class="ttdoc">resize - Grow or shrink the bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00334">BitVector.h:334</a></div></div>
<div class="ttc" id="aTargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00235">Path.cpp:235</a></div></div>
<div class="ttc" id="aclassllvm_1_1VirtRegMap_html_af2dbdd40f8a5b94098f14d9087527b79"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html#af2dbdd40f8a5b94098f14d9087527b79">llvm::VirtRegMap::getMachineFunction</a></div><div class="ttdeci">MachineFunction &amp; getMachineFunction() const</div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00087">VirtRegMap.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetIterator_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetIterator.html">llvm::SmallPtrSetIterator</a></div><div class="ttdoc">SmallPtrSetIterator - This implements a const_iterator for SmallPtrSet.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00267">SmallPtrSet.h:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a88c7b413f0bb3edf821661f04cc6a5c7"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a88c7b413f0bb3edf821661f04cc6a5c7">llvm::SplitEditor::useIntv</a></div><div class="ttdeci">void useIntv(const MachineBasicBlock &amp;MBB)</div><div class="ttdoc">useIntv - indicate that all instructions in MBB should use OpenLI.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00725">SplitKit.cpp:725</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_a6b3f9616a4146e9a88336afcaf92835e"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#a6b3f9616a4146e9a88336afcaf92835e">llvm::SplitAnalysis::countLiveBlocks</a></div><div class="ttdeci">unsigned countLiveBlocks(const LiveInterval *li) const</div><div class="ttdoc">countLiveBlocks - Return the number of blocks where li is live.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00300">SplitKit.cpp:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_ac631b4af10a30255067fc77ab6c193d8"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#ac631b4af10a30255067fc77ab6c193d8">llvm::IntervalMap::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Return true when no intervals are mapped.</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01101">IntervalMap.h:1101</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a662867d9274595cdac0092afa45888be"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a662867d9274595cdac0092afa45888be">llvm::SlotIndexes::getMBBEndIdx</a></div><div class="ttdeci">SlotIndex getMBBEndIdx(unsigned Num) const</div><div class="ttdoc">Returns the last index in the given basic block number.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00481">SlotIndexes.h:481</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_a9b58c371c0cea5f9fc9722e253149f47"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#a9b58c371c0cea5f9fc9722e253149f47">llvm::MachineDominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const MachineDomTreeNode *A, const MachineDomTreeNode *B) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00114">MachineDominators.h:114</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a9d2296ecca42f33ce641b7341fde67d9"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a9d2296ecca42f33ce641b7341fde67d9">llvm::SplitEditor::splitRegInBlock</a></div><div class="ttdeci">void splitRegInBlock(const SplitAnalysis::BlockInfo &amp;BI, unsigned IntvIn, SlotIndex LeaveBefore)</div><div class="ttdoc">splitRegInBlock - Split CurLI in the given block such that it enters the block in IntvIn and leaves i...</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l01722">SplitKit.cpp:1722</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_ac2d157d94da9ea6da55d19a1fa8d9247"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#ac2d157d94da9ea6da55d19a1fa8d9247">llvm::LiveRangeEdit::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00146">LiveRangeEdit.h:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeCalc_html_ae5c960114840d1c6dddfbaa529ac633e"><div class="ttname"><a href="classllvm_1_1LiveRangeCalc.html#ae5c960114840d1c6dddfbaa529ac633e">llvm::LiveRangeCalc::calculateValues</a></div><div class="ttdeci">void calculateValues()</div><div class="ttdoc">calculateValues - Calculate the value that will be live-in to each block added with addLiveInBlock.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeCalc_8cpp_source.html#l00115">LiveRangeCalc.cpp:115</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html_a2ef80e68e8ebc6f8e778d811cc48f67f"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a2ef80e68e8ebc6f8e778d811cc48f67f">llvm::SplitAnalysis::BlockInfo::FirstDef</a></div><div class="ttdeci">SlotIndex FirstDef</div><div class="ttdoc">First non-phi valno-&gt;def, or SlotIndex().</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00125">SplitKit.h:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_afa359a34c1dd19a35f80029e446e8052"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#afa359a34c1dd19a35f80029e446e8052">llvm::LiveRangeEdit::didRematerialize</a></div><div class="ttdeci">bool didRematerialize(const VNInfo *ParentVNI) const</div><div class="ttdoc">didRematerialize - Return true if ParentVNI was rematerialized anywhere.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00226">LiveRangeEdit.h:226</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a5b83266ee091a07ac1702d0e8c4a1937"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">llvm::LiveIntervals::getMBBFromIndex</a></div><div class="ttdeci">MachineBasicBlock * getMBBFromIndex(SlotIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00249">LiveIntervals.h:249</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBlockFrequencyInfo_html_a7dd7fa8c0a91118934b08b516b6e9d37"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html#a7dd7fa8c0a91118934b08b516b6e9d37">llvm::MachineBlockFrequencyInfo::getBlockFreq</a></div><div class="ttdeci">BlockFrequency getBlockFreq(const MachineBasicBlock *MBB) const</div><div class="ttdoc">getblockFreq - Return block frequency.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8cpp_source.html#l00230">MachineBlockFrequencyInfo.cpp:230</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_a6b388f6ec0c78d81a2d54efaac443691"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#a6b388f6ec0c78d81a2d54efaac443691">llvm::SplitAnalysis::isOriginalEndpoint</a></div><div class="ttdeci">bool isOriginalEndpoint(SlotIndex Idx) const</div><div class="ttdoc">isOriginalEndpoint - Return true if the original live range was killed or (re-)defined at Idx.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00324">SplitKit.cpp:324</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a6f3043b29023d270fc4bc5062dff7cee"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">llvm::LiveIntervals::getInstructionIndex</a></div><div class="ttdeci">SlotIndex getInstructionIndex(const MachineInstr &amp;Instr) const</div><div class="ttdoc">Returns the base index of the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00220">LiveIntervals.h:220</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_af3bf010ee796ca57e04c495963fd49b7"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#af3bf010ee796ca57e04c495963fd49b7">llvm::SplitAnalysis::shouldSplitSingleBlock</a></div><div class="ttdeci">bool shouldSplitSingleBlock(const BlockInfo &amp;BI, bool SingleInstrs) const</div><div class="ttdoc">shouldSplitSingleBlock - Returns true if it would help to create a local live range for the instructi...</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l01575">SplitKit.cpp:1575</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00089">MachineLoopInfo.h:89</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3a1f79eb5e89f41ad5a3d8e9b2a367a"><div class="ttname"><a href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">llvm::getUndefRegState</a></div><div class="ttdeci">unsigned getUndefRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00537">MachineInstrBuilder.h:537</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a907ca723e22613a6cfa9845d69f3eda6"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a907ca723e22613a6cfa9845d69f3eda6">llvm::SplitEditor::reset</a></div><div class="ttdeci">void reset(LiveRangeEdit &amp;, ComplementSpillMode=SM_Partition)</div><div class="ttdoc">reset - Prepare for a new split.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00357">SplitKit.cpp:357</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a81f9d3d0b958e57c0c0f24982230885d"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a81f9d3d0b958e57c0c0f24982230885d">llvm::LiveRange::extendInBlock</a></div><div class="ttdeci">std::pair&lt; VNInfo *, bool &gt; extendInBlock(ArrayRef&lt; SlotIndex &gt; Undefs, SlotIndex StartIdx, SlotIndex Kill)</div><div class="ttdoc">Attempt to extend a value defined after StartIdx to include Use.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00549">LiveInterval.cpp:549</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_a027186766ff82f05b729d087baf9a25f"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#a027186766ff82f05b729d087baf9a25f">llvm::SplitAnalysis::SplitAnalysis</a></div><div class="ttdeci">SplitAnalysis(const VirtRegMap &amp;vrm, const LiveIntervals &amp;lis, const MachineLoopInfo &amp;mli)</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00151">SplitKit.cpp:151</a></div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_ad485b75a455867847a669a3f942cbcb7ade36d2a249a7f767c968e8667190bc11"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7ade36d2a249a7f767c968e8667190bc11">llvm::SplitEditor::SM_Size</a></div><div class="ttdeci">@ SM_Size</div><div class="ttdoc">SM_Size - Overlap intervals to minimize the number of inserted COPY instructions.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00287">SplitKit.h:287</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a4a6b060244db6c0da73f9ba4ec523559"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a4a6b060244db6c0da73f9ba4ec523559">llvm::SplitEditor::SplitEditor</a></div><div class="ttdeci">SplitEditor(SplitAnalysis &amp;SA, LiveIntervals &amp;LIS, VirtRegMap &amp;VRM, MachineDominatorTree &amp;MDT, MachineBlockFrequencyInfo &amp;MBFI, VirtRegAuxInfo &amp;VRAI)</div><div class="ttdoc">Create a new SplitEditor for editing the LiveInterval analyzed by SA.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00349">SplitKit.cpp:349</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_a8e4649f48b911935d6604bde06468788"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#a8e4649f48b911935d6604bde06468788">llvm::SplitAnalysis::LIS</a></div><div class="ttdeci">const LiveIntervals &amp; LIS</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00100">SplitKit.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5a5871d5cc628499a6d8e56734873e01"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5a5871d5cc628499a6d8e56734873e01">llvm::MachineRegisterInfo::use_nodbg_operands</a></div><div class="ttdeci">iterator_range&lt; use_nodbg_iterator &gt; use_nodbg_operands(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00548">MachineRegisterInfo.h:548</a></div></div>
<div class="ttc" id="aMachineLoopInfo_8h_html"><div class="ttname"><a href="MachineLoopInfo_8h.html">MachineLoopInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_ab4478598c0a88b09a259c89aead763c5"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#ab4478598c0a88b09a259c89aead763c5">llvm::SplitAnalysis::Loops</a></div><div class="ttdeci">const MachineLoopInfo &amp; Loops</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00101">SplitKit.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_a3456a41d2c4561bb42f944f3d22a9d2b"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#a3456a41d2c4561bb42f944f3d22a9d2b">llvm::LiveRangeEdit::get</a></div><div class="ttdeci">Register get(unsigned idx) const</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00154">LiveRangeEdit.h:154</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a400c0b88110521ad1de258a7885d9038"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a400c0b88110521ad1de258a7885d9038">llvm::LiveRange::liveAt</a></div><div class="ttdeci">bool liveAt(SlotIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00401">LiveInterval.h:401</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervalCalc_html"><div class="ttname"><a href="classllvm_1_1LiveIntervalCalc.html">llvm::LiveIntervalCalc</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalCalc_8h_source.html#l00028">LiveIntervalCalc.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBlockFrequencyInfo_html"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html">llvm::MachineBlockFrequencyInfo</a></div><div class="ttdoc">MachineBlockFrequencyInfo pass uses BlockFrequencyInfoImpl implementation to estimate machine basic b...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8h_source.html#l00033">MachineBlockFrequencyInfo.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a9a5e7c523f12f9f164b786769de1ca47"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">llvm::LiveRange::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00215">LiveInterval.h:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a7a23b6fb3b79b0c2bf4bf4f0cb042840"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">llvm::TargetRegisterInfo::getSubRegIndexLaneMask</a></div><div class="ttdeci">LaneBitmask getSubRegIndexLaneMask(unsigned SubIdx) const</div><div class="ttdoc">Return a bitmask representing the parts of a register that are covered by SubIdx.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00380">TargetRegisterInfo.h:380</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a17bd0f1ec8263f735f29dd8840b7188f"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a17bd0f1ec8263f735f29dd8840b7188f">llvm::LiveIntervals::getMBBStartIdx</a></div><div class="ttdeci">SlotIndex getMBBStartIdx(const MachineBasicBlock *mbb) const</div><div class="ttdoc">Return the first index in the given basic block.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00230">LiveIntervals.h:230</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a19695ead28a0fbdcea66c6253aebc44f"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">llvm::SlotIndex::isEarlierInstr</a></div><div class="ttdeci">static bool isEarlierInstr(SlotIndex A, SlotIndex B)</div><div class="ttdoc">isEarlierInstr - Return true if A refers to an instruction earlier than B.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00204">SlotIndexes.h:204</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_ad485b75a455867847a669a3f942cbcb7a5cd5c6b9f5402366a8e7a28a55925720"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7a5cd5c6b9f5402366a8e7a28a55925720">llvm::SplitEditor::SM_Partition</a></div><div class="ttdeci">@ SM_Partition</div><div class="ttdoc">SM_Partition(Default) - Try to create the complement interval so it doesn't overlap any other interva...</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00280">SplitKit.h:280</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a0b73c8d5ae32ca13dd02ddde86ffd0a2"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a0b73c8d5ae32ca13dd02ddde86ffd0a2">llvm::LiveRange::addSegment</a></div><div class="ttdeci">iterator addSegment(Segment S)</div><div class="ttdoc">Add the specified Segment to this range, merging segments as appropriate.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00533">LiveInterval.cpp:533</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a3fc869c7f6d53c3fbb4e572b7821dd05"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a3fc869c7f6d53c3fbb4e572b7821dd05">llvm::LiveRange::const_iterator</a></div><div class="ttdeci">Segments::const_iterator const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00213">LiveInterval.h:213</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a9082b6aa4021114645045d9c5628eb26"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">llvm::LaneBitmask::getNone</a></div><div class="ttdeci">static constexpr LaneBitmask getNone()</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00081">LaneBitmask.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00045">TargetRegisterInfo.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_a2ed260204c6f152115206858258866b2"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#a2ed260204c6f152115206858258866b2">llvm::SplitAnalysis::getLastSplitPointIter</a></div><div class="ttdeci">MachineBasicBlock::iterator getLastSplitPointIter(MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00237">SplitKit.h:237</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_ab181eb57b4d30c914d782ad60b8d913f"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#ab181eb57b4d30c914d782ad60b8d913f">llvm::SplitEditor::splitLiveThroughBlock</a></div><div class="ttdeci">void splitLiveThroughBlock(unsigned MBBNum, unsigned IntvIn, SlotIndex LeaveBefore, unsigned IntvOut, SlotIndex EnterAfter)</div><div class="ttdoc">splitLiveThroughBlock - Split CurLI in the given block such that it enters the block in IntvIn and le...</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l01619">SplitKit.cpp:1619</a></div></div>
<div class="ttc" id="aSplitKit_8h_html"><div class="ttname"><a href="SplitKit_8h.html">SplitKit.h</a></div></div>
<div class="ttc" id="aTargetOpcodes_8h_html"><div class="ttname"><a href="TargetOpcodes_8h.html">TargetOpcodes.h</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a9899a3945a73e70c7bb2800ef3865017"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a9899a3945a73e70c7bb2800ef3865017">llvm::SplitEditor::leaveIntvBefore</a></div><div class="ttdeci">SlotIndex leaveIntvBefore(SlotIndex Idx)</div><div class="ttdoc">leaveIntvBefore - Leave the open interval before the instruction at Idx.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00767">SplitKit.cpp:767</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdoc">Describe properties that are true of each instruction in the target description file.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00198">MCInstrDesc.h:198</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html">llvm::LiveRangeEdit</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00042">LiveRangeEdit.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a9eb4aa155c41e60dff42f4e741a0dcf0"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">llvm::LiveRange::valnos</a></div><div class="ttdeci">VNInfoList valnos</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00204">LiveInterval.h:204</a></div></div>
<div class="ttc" id="aSplitKit_8cpp_html_a759c16002f68b34d7411adfa35b92f48"><div class="ttname"><a href="SplitKit_8cpp.html#a759c16002f68b34d7411adfa35b92f48">getSubrangeImpl</a></div><div class="ttdeci">auto &amp; getSubrangeImpl(LaneBitmask LM, T &amp;LI)</div><div class="ttdoc">Find a subrange corresponding to the exact lane mask LM in the live interval LI.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00391">SplitKit.cpp:391</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ad0b3d8447f88377b62d9c019f3c4e118"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00642">SmallVector.h:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html">llvm::SlotIndexes</a></div><div class="ttdoc">SlotIndexes pass.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00319">SlotIndexes.h:319</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aSILowerI1Copies_8cpp_html_a5cd9e4c7fe1a7ebe8b545eb891a2a949"><div class="ttname"><a href="SILowerI1Copies_8cpp.html#a5cd9e4c7fe1a7ebe8b545eb891a2a949">Copies</a></div><div class="ttdeci">SI Lower i1 Copies</div><div class="ttdef"><b>Definition:</b> <a href="SILowerI1Copies_8cpp_source.html#l00397">SILowerI1Copies.cpp:397</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html"><div class="ttname"><a href="classllvm_1_1LiveInterval.html">llvm::LiveInterval</a></div><div class="ttdoc">LiveInterval - This class represents the liveness of a register, or stack slot.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00686">LiveInterval.h:686</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_a67171474c4da6cc8efe0c7fafefd2b2d"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a67171474c4da6cc8efe0c7fafefd2b2d">llvm::IntervalMap&lt; SlotIndex, unsigned &gt;::iterator</a></div><div class="ttdeci">friend class iterator</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01144">IntervalMap.h:1144</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a8534c37f85077c1dd9fc3468f70d4618"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a8534c37f85077c1dd9fc3468f70d4618">llvm::SplitEditor::splitRegOutBlock</a></div><div class="ttdeci">void splitRegOutBlock(const SplitAnalysis::BlockInfo &amp;BI, unsigned IntvOut, SlotIndex EnterAfter)</div><div class="ttdoc">splitRegOutBlock - Split CurLI in the given block such that it enters the block on the stack (or isn'...</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l01815">SplitKit.cpp:1815</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html"><div class="ttname"><a href="classllvm_1_1SlotIndex.html">llvm::SlotIndex</a></div><div class="ttdoc">SlotIndex - An opaque wrapper around machine indexes.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00082">SlotIndexes.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a88924909b2d83abe8eb4ba2ac84eec6c"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a88924909b2d83abe8eb4ba2ac84eec6c">llvm::SplitEditor::enterIntvBefore</a></div><div class="ttdeci">SlotIndex enterIntvBefore(SlotIndex Idx)</div><div class="ttdoc">enterIntvBefore - Enter the open interval before the instruction at Idx.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00653">SplitKit.cpp:653</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a10aea73adf903930a8ce4c133dfa5a1e"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a10aea73adf903930a8ce4c133dfa5a1e">llvm::SlotIndexes::insertMachineInstrInMaps</a></div><div class="ttdeci">SlotIndex insertMachineInstrInMaps(MachineInstr &amp;MI, bool Late=false)</div><div class="ttdoc">Insert the given machine instruction into the mapping.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00540">SlotIndexes.h:540</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aa363afffca4fc13a709673936b47fe33"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(Register Reg) const</div><div class="ttdoc">Return the register class of the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00661">MachineRegisterInfo.h:661</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html_aca5dd3ea2419809d03649646c75d5ed4"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#aca5dd3ea2419809d03649646c75d5ed4">llvm::SplitAnalysis::BlockInfo::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l01885">SplitKit.cpp:1885</a></div></div>
<div class="ttc" id="aclassllvm_1_1VirtRegMap_html_a37b7b231e8677fb4c83572d6f4bedaa1"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html#a37b7b231e8677fb4c83572d6f4bedaa1">llvm::VirtRegMap::setIsSplitFromReg</a></div><div class="ttdeci">void setIsSplitFromReg(Register virtReg, Register SReg)</div><div class="ttdoc">records virtReg is a split live interval from SReg.</div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00153">VirtRegMap.h:153</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerIntPair_html_ac8b55437ca130fe0c826e94e669e5d99"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html#ac8b55437ca130fe0c826e94e669e5d99">llvm::PointerIntPair::getPointer</a></div><div class="ttdeci">PointerTy getPointer() const</div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00060">PointerIntPair.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_af8a50544090e81ac83601aff8f4b0142"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">llvm::SmallPtrSetImplBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00092">SmallPtrSet.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; unsigned &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_aa94e57689dd16c1c4de909511f1b2ea8"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">llvm::SlotIndex::getBaseIndex</a></div><div class="ttdeci">SlotIndex getBaseIndex() const</div><div class="ttdoc">Returns the base index for associated with this index.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00246">SlotIndexes.h:246</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a061a8d1b2719e16851521dddcd1a73cc"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a061a8d1b2719e16851521dddcd1a73cc">llvm::SplitEditor::overlapIntv</a></div><div class="ttdeci">void overlapIntv(SlotIndex Start, SlotIndex End)</div><div class="ttdoc">overlapIntv - Indicate that all instructions in range should use the open interval if End does not ha...</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00811">SplitKit.cpp:811</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a687cab1756967efc8f0ce66105531755"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a687cab1756967efc8f0ce66105531755">llvm::LiveRange::RenumberValues</a></div><div class="ttdeci">void RenumberValues()</div><div class="ttdoc">RenumberValues - Renumber all values in order of appearance and remove unused values.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00516">LiveInterval.cpp:516</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoop_html"><div class="ttname"><a href="classllvm_1_1MachineLoop.html">llvm::MachineLoop</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00044">MachineLoopInfo.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a136fa159d07a92017f3206822f5847cd"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a136fa159d07a92017f3206822f5847cd">llvm::LiveRange::getVNInfoBefore</a></div><div class="ttdeci">VNInfo * getVNInfoBefore(SlotIndex Idx) const</div><div class="ttdoc">getVNInfoBefore - Return the VNInfo that is live up to but not necessarilly including Idx,...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00429">LiveInterval.h:429</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a0aac3ef1eadaa206a70b767730ef3c5b"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a0aac3ef1eadaa206a70b767730ef3c5b">llvm::LiveInterval::removeEmptySubRanges</a></div><div class="ttdeci">void removeEmptySubRanges()</div><div class="ttdoc">Removes all subranges without any segments (subranges without segments are not considered valid and s...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00839">LiveInterval.cpp:839</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a967540f5e5799b56c6fbcee378d110eb"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a967540f5e5799b56c6fbcee378d110eb">llvm::LiveInterval::refineSubRanges</a></div><div class="ttdeci">void refineSubRanges(BumpPtrAllocator &amp;Allocator, LaneBitmask LaneMask, std::function&lt; void(LiveInterval::SubRange &amp;)&gt; Apply, const SlotIndexes &amp;Indexes, const TargetRegisterInfo &amp;TRI, unsigned ComposeSubRegIdx=0)</div><div class="ttdoc">Refines the subranges to support LaneMask.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00916">LiveInterval.cpp:916</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html_abaae5e7f00635019260dd4d2506e2b58"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#abaae5e7f00635019260dd4d2506e2b58">llvm::SplitAnalysis::BlockInfo::LastInstr</a></div><div class="ttdeci">SlotIndex LastInstr</div><div class="ttdoc">Last instr accessing current reg.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00124">SplitKit.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adf4e7878fc0b3b8dcde545178564190d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">llvm::DenseMapBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00110">DenseMap.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeNodeBase_html_a6a15a030098342e06ea73e1241d614c9"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html#a6a15a030098342e06ea73e1241d614c9">llvm::DomTreeNodeBase::getBlock</a></div><div class="ttdeci">NodeT * getBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00089">GenericDomTree.h:89</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html_a42e9b38c4f9bc0c0aca6f0c8c5cd1f80"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a42e9b38c4f9bc0c0aca6f0c8c5cd1f80">llvm::SplitAnalysis::BlockInfo::LiveOut</a></div><div class="ttdeci">bool LiveOut</div><div class="ttdoc">Current reg is live out.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00127">SplitKit.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeCalc_html_a46981dd5d4bb3043b740ce285b7b4a95"><div class="ttname"><a href="classllvm_1_1LiveRangeCalc.html#a46981dd5d4bb3043b740ce285b7b4a95">llvm::LiveRangeCalc::addLiveInBlock</a></div><div class="ttdeci">void addLiveInBlock(LiveRange &amp;LR, MachineDomTreeNode *DomNode, SlotIndex Kill=SlotIndex())</div><div class="ttdoc">addLiveInBlock - Add a block with an unknown live-in value.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeCalc_8h_source.html#l00243">LiveRangeCalc.h:243</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html"><div class="ttname"><a href="classllvm_1_1LiveRange.html">llvm::LiveRange</a></div><div class="ttdoc">This class represents the liveness of a register, stack slot, etc.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00157">LiveInterval.h:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_ae922fe27fed5647d4fe22789a6c61683"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#ae922fe27fed5647d4fe22789a6c61683">llvm::SplitAnalysis::VRM</a></div><div class="ttdeci">const VirtRegMap &amp; VRM</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00099">SplitKit.h:99</a></div></div>
<div class="ttc" id="aAArch64PromoteConstant_8cpp_html_a90f8350fecae261c25be85d38b451bff"><div class="ttname"><a href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></div><div class="ttdeci">aarch64 promote const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64PromoteConstant_8cpp_source.html#l00232">AArch64PromoteConstant.cpp:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a76163707e71807054d87648aa5e00dd7"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">llvm::LiveIntervals::getMBBEndIdx</a></div><div class="ttdeci">SlotIndex getMBBEndIdx(const MachineBasicBlock *mbb) const</div><div class="ttdoc">Return the last index in the given basic block.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00235">LiveIntervals.h:235</a></div></div>
<div class="ttc" id="aVirtRegMap_8h_html"><div class="ttname"><a href="VirtRegMap_8h.html">VirtRegMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html_ad989a0c1b26066308798f4d11a0e69df"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">llvm::VNInfo::id</a></div><div class="ttdeci">unsigned id</div><div class="ttdoc">The ID number of this value.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00058">LiveInterval.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1BumpPtrAllocatorImpl_html"><div class="ttname"><a href="classllvm_1_1BumpPtrAllocatorImpl.html">llvm::BumpPtrAllocatorImpl</a></div><div class="ttdoc">Allocate memory in an ever growing pool, as if by bump-pointer.</div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00063">Allocator.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_af56a81de61d43765dd1352743fd0bfc3"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#af56a81de61d43765dd1352743fd0bfc3">llvm::SplitEditor::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdoc">dump - print the current interval mapping to dbgs().</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00375">SplitKit.cpp:375</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_a90769be4e8173a3db8de6165ca56841b"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#a90769be4e8173a3db8de6165ca56841b">llvm::LiveRangeEdit::createEmptyInterval</a></div><div class="ttdeci">LiveInterval &amp; createEmptyInterval()</div><div class="ttdoc">create - Create a new register with the same class and original slot as parent.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00173">LiveRangeEdit.h:173</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a93450063916ca1ab1f11bf3304a6ad03"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a93450063916ca1ab1f11bf3304a6ad03">llvm::LiveRange::getNumValNums</a></div><div class="ttdeci">unsigned getNumValNums() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00313">LiveInterval.h:313</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a9a3c9d867ff6bde97841c2b7983f5c70"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a3c9d867ff6bde97841c2b7983f5c70">llvm::detail::DenseSetImpl::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00080">DenseSet.h:80</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a0b73244049319d841fd11a238f35b5d1"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">llvm::SlotIndex::isSameInstr</a></div><div class="ttdeci">static bool isSameInstr(SlotIndex A, SlotIndex B)</div><div class="ttdoc">isSameInstr - Return true if A and B refer to the same instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00198">SlotIndexes.h:198</a></div></div>
<div class="ttc" id="aSplitKit_8cpp_html_a5cf70104d9aee77d3e009f270354e7ad"><div class="ttname"><a href="SplitKit_8cpp.html#a5cf70104d9aee77d3e009f270354e7ad">hasTiedUseOf</a></div><div class="ttdeci">static bool hasTiedUseOf(MachineInstr &amp;MI, unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00805">SplitKit.cpp:805</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a69331ac1fdc66eee11c977845f2e472b"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a69331ac1fdc66eee11c977845f2e472b">llvm::LiveRange::getNextValue</a></div><div class="ttdeci">VNInfo * getNextValue(SlotIndex def, VNInfo::Allocator &amp;VNInfoAllocator)</div><div class="ttdoc">getNextValue - Create a new value number and return it.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00331">LiveInterval.h:331</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_a3f416a0fa27beff86ce0f442161e3a3a"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a3f416a0fa27beff86ce0f442161e3a3a">llvm::IntervalMap::lookup</a></div><div class="ttdeci">ValT lookup(KeyT x, ValT NotFound=ValT()) const</div><div class="ttdoc">lookup - Return the mapped value at x or NotFound.</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01119">IntervalMap.h:1119</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a29b23ea3c75302a35dd7307f6915db3f"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a29b23ea3c75302a35dd7307f6915db3f">llvm::MachineRegisterInfo::reg_operands</a></div><div class="ttdeci">iterator_range&lt; reg_iterator &gt; reg_operands(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00308">MachineRegisterInfo.h:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_a4c0813fee390b3c3679c15612684787d"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#a4c0813fee390b3c3679c15612684787d">llvm::LiveRangeEdit::rematerializeAt</a></div><div class="ttdeci">SlotIndex rematerializeAt(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, unsigned DestReg, const Remat &amp;RM, const TargetRegisterInfo &amp;, bool Late=false, unsigned SubIdx=0, MachineInstr *ReplaceIndexMI=nullptr)</div><div class="ttdoc">rematerializeAt - Rematerialize RM.ParentVNI into DestReg by inserting an instruction into MBB before...</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8cpp_source.html#l00182">LiveRangeEdit.cpp:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a641b0782e0cc309372855bfc19fdfd97"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a641b0782e0cc309372855bfc19fdfd97">llvm::SmallVectorImpl::const_iterator</a></div><div class="ttdeci">typename SuperClass::const_iterator const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00582">SmallVector.h:582</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a57994482c17097d9f936acff3a6598ac"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a57994482c17097d9f936acff3a6598ac">llvm::LoopBase::getLoopDepth</a></div><div class="ttdeci">unsigned getLoopDepth() const</div><div class="ttdoc">Return the nesting level of this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00097">LoopInfo.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a8808112c59febd729a9964ac6509d7d4"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a8808112c59febd729a9964ac6509d7d4">llvm::SplitEditor::enterIntvAfter</a></div><div class="ttdeci">SlotIndex enterIntvAfter(SlotIndex Idx)</div><div class="ttdoc">enterIntvAfter - Enter the open interval after the instruction at Idx.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00670">SplitKit.cpp:670</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_abd6aa9da048ef7a4faeaac6484d5c9a6"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#abd6aa9da048ef7a4faeaac6484d5c9a6">llvm::MachineOperand::isEarlyClobber</a></div><div class="ttdeci">bool isEarlyClobber() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00445">MachineOperand.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1InsertPointAnalysis_html_a48abd91e36a601df7e66c397764165d2"><div class="ttname"><a href="classllvm_1_1InsertPointAnalysis.html#a48abd91e36a601df7e66c397764165d2">llvm::InsertPointAnalysis::getLastInsertPoint</a></div><div class="ttdeci">SlotIndex getLastInsertPoint(const LiveInterval &amp;CurLI, const MachineBasicBlock &amp;MBB)</div><div class="ttdoc">Return the base index of the last valid insert point for \pCurLI in \pMBB.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00067">SplitKit.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_afe3ca51f4160181b965b912e022c1d9d"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#afe3ca51f4160181b965b912e022c1d9d">llvm::SlotIndexes::getMBBFromIndex</a></div><div class="ttdeci">MachineBasicBlock * getMBBFromIndex(SlotIndex index) const</div><div class="ttdoc">Returns the basic block which the given index falls in.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00519">SlotIndexes.h:519</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_ad08ed580345a51c50d9477dec1e65818"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(Register RegNo, unsigned flags=0, unsigned SubReg=0) const</div><div class="ttdoc">Add a new virtual register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00097">MachineInstrBuilder.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_af8377265a59783069f11e01edc8e3edc"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#af8377265a59783069f11e01edc8e3edc">llvm::LiveRangeEdit::canRematerializeAt</a></div><div class="ttdeci">bool canRematerializeAt(Remat &amp;RM, VNInfo *OrigVNI, SlotIndex UseIdx, bool cheapAsAMove)</div><div class="ttdoc">canRematerializeAt - Determine if ParentVNI can be rematerialized at UseIdx.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8cpp_source.html#l00158">LiveRangeEdit.cpp:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_afd9b9b8655c008bf6cd6afb05d41b69e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">llvm::MachineBasicBlock::predecessors</a></div><div class="ttdeci">iterator_range&lt; pred_iterator &gt; predecessors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00390">MachineBasicBlock.h:390</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_a192ed636858339b1ad1fbaa98d2f5d7d"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#a192ed636858339b1ad1fbaa98d2f5d7d">llvm::SplitAnalysis::MF</a></div><div class="ttdeci">const MachineFunction &amp; MF</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00098">SplitKit.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_ae3b98982e2036f3d26806de5ed5e02d0"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">llvm::SlotIndex::getRegSlot</a></div><div class="ttdeci">SlotIndex getRegSlot(bool EC=false) const</div><div class="ttdoc">Returns the register use/def slot in the current instruction for a normal or early-clobber def.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00259">SlotIndexes.h:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a25c117ac45bfbbcf69dc0b674db2d1ea"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">llvm::LiveIntervals::getInterval</a></div><div class="ttdeci">LiveInterval &amp; getInterval(Register Reg)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00112">LiveIntervals.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="anamespacellvm_html_a67980a8ae101d2fda845eb750ffb1942"><div class="ttname"><a href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">llvm::print</a></div><div class="ttdeci">Printable print(const GCNRegPressure &amp;RP, const GCNSubtarget *ST=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="GCNRegPressure_8cpp_source.html#l00138">GCNRegPressure.cpp:138</a></div></div>
<div class="ttc" id="anamespacellvm_html_a10f3d955592ae2bc745f57e5b48ae115"><div class="ttname"><a href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">llvm::size</a></div><div class="ttdeci">auto size(R &amp;&amp;Range, std::enable_if_t&lt; std::is_base_of&lt; std::random_access_iterator_tag, typename std::iterator_traits&lt; decltype(Range.begin())&gt;::iterator_category &gt;::value, void &gt; *=nullptr)</div><div class="ttdoc">Get the size of a range.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01716">STLExtras.h:1716</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64_html_a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">llvm::AArch64::RM</a></div><div class="ttdeci">@ RM</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00499">AArch64ISelLowering.h:499</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a7f0521fa2de44271fd4b909ea7351ef3"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">llvm::MachineBasicBlock::getFirstTerminator</a></div><div class="ttdeci">iterator getFirstTerminator()</div><div class="ttdoc">Returns an iterator to the first terminator instruction of this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00240">MachineBasicBlock.cpp:240</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a4258d794235c7a408b3f52e5e4ef7159"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a4258d794235c7a408b3f52e5e4ef7159">llvm::LiveRange::createDeadDef</a></div><div class="ttdeci">VNInfo * createDeadDef(SlotIndex Def, VNInfo::Allocator &amp;VNIAlloc)</div><div class="ttdoc">createDeadDef - Make sure the range has a value defined at Def.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00355">LiveInterval.cpp:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_a16413f1a88d8baca228d0a1b4cc0bfc6"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">llvm::SmallPtrSetImplBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00095">SmallPtrSet.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3aa22d521bd6a7e6b9f35545dc7b0f1e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const</div><div class="ttdoc">MachineBasicBlocks are uniquely numbered at the function level, unless they're not in a MachineFuncti...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01143">MachineBasicBlock.h:1143</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4d2c96836214c1f13357ffb99125fb4a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">llvm::MachineBasicBlock::successors</a></div><div class="ttdeci">iterator_range&lt; succ_iterator &gt; successors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00396">MachineBasicBlock.h:396</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a60907035da962ba7bea74ffb9af977bd"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a60907035da962ba7bea74ffb9af977bd">llvm::LaneBitmask::none</a></div><div class="ttdeci">constexpr bool none() const</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00052">LaneBitmask.h:52</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad5f691fdc1a09aaf6df5fef958b35a3d"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator MBBI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00075">AArch64SLSHardening.cpp:75</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ae4dba4561a0e0da2cc502cd690b9bc09"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ae4dba4561a0e0da2cc502cd690b9bc09">llvm::TargetRegisterInfo::getCoveringSubRegIndexes</a></div><div class="ttdeci">bool getCoveringSubRegIndexes(const MachineRegisterInfo &amp;MRI, const TargetRegisterClass *RC, LaneBitmask LaneMask, SmallVectorImpl&lt; unsigned &gt; &amp;Indexes) const</div><div class="ttdoc">Try to find one or more subregister indexes to cover LaneMask.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00524">TargetRegisterInfo.cpp:524</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_ad485b75a455867847a669a3f942cbcb7a7bfb05c8742572ff98fd4f226bb0aede"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7a7bfb05c8742572ff98fd4f226bb0aede">llvm::SplitEditor::SM_Speed</a></div><div class="ttdeci">@ SM_Speed</div><div class="ttdoc">SM_Speed - Overlap intervals to minimize the expected execution frequency of the inserted copies.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00292">SplitKit.h:292</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_ac3782d262b2a58da44d43c6d995aef9d"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#ac3782d262b2a58da44d43c6d995aef9d">llvm::SlotIndex::getNextSlot</a></div><div class="ttdeci">SlotIndex getNextSlot() const</div><div class="ttdoc">Returns the next slot in the index list.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00274">SlotIndexes.h:274</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_ab21a191f8cdb8f76d22d0bae3089e1c5"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#ab21a191f8cdb8f76d22d0bae3089e1c5">llvm::SplitAnalysis::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear - clear all data structures so SplitAnalysis is ready to analyze a new interval.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00156">SplitKit.cpp:156</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html_a6d25ab70a5fda1310dad85ddb8ecaa22"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#a6d25ab70a5fda1310dad85ddb8ecaa22">llvm::SplitAnalysis::BlockInfo::MBB</a></div><div class="ttdeci">MachineBasicBlock * MBB</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00122">SplitKit.h:122</a></div></div>
<div class="ttc" id="anamespacellvm_html_a92be87f8a371f277f7260fb99592d5f4"><div class="ttname"><a href="namespacellvm.html#a92be87f8a371f277f7260fb99592d5f4">llvm::unique</a></div><div class="ttdeci">auto unique(Range &amp;&amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="GenericUniformityImpl_8h_source.html#l00056">GenericUniformityImpl.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_a1de6c78789e3f41a5721e581ec3e981b"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#a1de6c78789e3f41a5721e581ec3e981b">llvm::LiveRangeEdit::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00153">LiveRangeEdit.h:153</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeNodeBase_html"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html">llvm::DomTreeNodeBase</a></div><div class="ttdoc">Base class for the actual dominator tree node.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalCalc_8h_source.html#l00024">LiveIntervalCalc.h:24</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveRange_1_1Segment_html_afe8e59ffc86cb1736116e4dc8b86e26f"><div class="ttname"><a href="structllvm_1_1LiveRange_1_1Segment.html#afe8e59ffc86cb1736116e4dc8b86e26f">llvm::LiveRange::Segment::end</a></div><div class="ttdeci">SlotIndex end</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00164">LiveInterval.h:164</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a98fa413da7a0053bf635119e74970219"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a98fa413da7a0053bf635119e74970219">llvm::SplitEditor::finish</a></div><div class="ttdeci">void finish(SmallVectorImpl&lt; unsigned &gt; *LRMap=nullptr)</div><div class="ttdoc">finish - after all the new live ranges have been created, compute the remaining live range,...</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l01490">SplitKit.cpp:1490</a></div></div>
<div class="ttc" id="aSplitKit_8cpp_html_a5710215255734932ba932a9086655a11"><div class="ttname"><a href="SplitKit_8cpp.html#a5710215255734932ba932a9086655a11">getSubRangeForMaskExact</a></div><div class="ttdeci">LiveInterval::SubRange &amp; getSubRangeForMaskExact(LaneBitmask LM, LiveInterval &amp;LI)</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00398">SplitKit.cpp:398</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_1_1SubRange_html"><div class="ttname"><a href="classllvm_1_1LiveInterval_1_1SubRange.html">llvm::LiveInterval::SubRange</a></div><div class="ttdoc">A live range for subregisters.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00693">LiveInterval.h:693</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aLiveRangeEdit_8h_html"><div class="ttname"><a href="LiveRangeEdit_8h.html">LiveRangeEdit.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html_ae72fbcf51be7574c84817cde814df07e"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">llvm::VNInfo::isPHIDef</a></div><div class="ttdeci">bool isPHIDef() const</div><div class="ttdoc">Returns true if this value is defined by a PHI instruction (or was, PHI instructions may have been el...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00078">LiveInterval.h:78</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a98785a9cb443380b8f700cb764a6fd84"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a98785a9cb443380b8f700cb764a6fd84">llvm::SplitEditor::leaveIntvAtTop</a></div><div class="ttdeci">SlotIndex leaveIntvAtTop(MachineBasicBlock &amp;MBB)</div><div class="ttdoc">leaveIntvAtTop - Leave the interval at the top of MBB.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00786">SplitKit.cpp:786</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a7b7667b9c90e0755a98fa55e0b86bf5c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a7b7667b9c90e0755a98fa55e0b86bf5c">llvm::MachineFunction::getBlockNumbered</a></div><div class="ttdeci">MachineBasicBlock * getBlockNumbered(unsigned N) const</div><div class="ttdoc">getBlockNumbered - MachineBasicBlocks are automatically numbered when they are inserted into the mach...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00805">MachineFunction.h:805</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_a74435e70950c152062a08f3d706d77ff"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#a74435e70950c152062a08f3d706d77ff">llvm::LiveRangeEdit::getParent</a></div><div class="ttdeci">const LiveInterval &amp; getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00141">LiveRangeEdit.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a143c1fcb6066cb301f828ec4c18d79f4"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">llvm::LiveRange::iterator</a></div><div class="ttdeci">Segments::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00212">LiveInterval.h:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ab7e720f69b70ef3973d672936a9fa0ec"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">llvm::MachineRegisterInfo::getMaxLaneMaskForVReg</a></div><div class="ttdeci">LaneBitmask getMaxLaneMaskForVReg(Register Reg) const</div><div class="ttdoc">Returns a mask covering all bits that can appear in lane masks of subregisters of the virtual registe...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00497">MachineRegisterInfo.cpp:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_ad485b75a455867847a669a3f942cbcb7"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#ad485b75a455867847a669a3f942cbcb7">llvm::SplitEditor::ComplementSpillMode</a></div><div class="ttdeci">ComplementSpillMode</div><div class="ttdoc">ComplementSpillMode - Select how the complement live range should be created.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00275">SplitKit.h:275</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a1f3c8255141a4f5b7ed15fcf60118eb1"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1f3c8255141a4f5b7ed15fcf60118eb1">llvm::MachineInstr::isCopyLike</a></div><div class="ttdeci">bool isCopyLike() const</div><div class="ttdoc">Return true if the instruction behaves like a copy.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01358">MachineInstr.h:1358</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_aed2e29ac9478aebf676ae99db3744dd9aa535711d028372f87fdbce03cd43b25d"><div class="ttname"><a href="namespacellvm_1_1codeview.html#aed2e29ac9478aebf676ae99db3744dd9aa535711d028372f87fdbce03cd43b25d">llvm::codeview::LabelType::Near</a></div><div class="ttdeci">@ Near</div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a38c50aa8e3e9588f4f968c2e03a0cee0"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a38c50aa8e3e9588f4f968c2e03a0cee0">llvm::SmallVectorImpl::assign</a></div><div class="ttdeci">void assign(size_type NumElts, ValueParamT Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00708">SmallVector.h:708</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_ac832da130f4d71a4533a69d98315fb19"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#ac832da130f4d71a4533a69d98315fb19">llvm::SlotIndex::getPrevSlot</a></div><div class="ttdeci">SlotIndex getPrevSlot() const</div><div class="ttdoc">Returns the previous slot in the index list.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00294">SlotIndexes.h:294</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136">llvm::ISD::INLINEASM_BR</a></div><div class="ttdeci">@ INLINEASM_BR</div><div class="ttdoc">INLINEASM_BR - Branching version of inline asm. Used by asm-goto.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01027">ISDOpcodes.h:1027</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a82565e0ea5a398255ac8a153b92aa5b6"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a82565e0ea5a398255ac8a153b92aa5b6">llvm::LaneBitmask::all</a></div><div class="ttdeci">constexpr bool all() const</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00054">LaneBitmask.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a58c5b170ea68b41e94ebb0019523a68f"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00105">LoopInfo.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a699598a93a78f8b0376cfb49933cbce7"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a699598a93a78f8b0376cfb49933cbce7">llvm::LiveRange::getValNumInfo</a></div><div class="ttdeci">VNInfo * getValNumInfo(unsigned ValNo)</div><div class="ttdoc">getValNumInfo - Returns pointer to the specified val#.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00317">LiveInterval.h:317</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html">llvm::LiveIntervals</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00053">LiveIntervals.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html"><div class="ttname"><a href="classllvm_1_1VNInfo.html">llvm::VNInfo</a></div><div class="ttdoc">VNInfo - Value Number Information.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00053">LiveInterval.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_adf042897913dea01859fc1944f7e61cd"><div class="ttname"><a href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">llvm::LiveRange::getVNInfoAt</a></div><div class="ttdeci">VNInfo * getVNInfoAt(SlotIndex Idx) const</div><div class="ttdoc">getVNInfoAt - Return the VNInfo that is live at Idx, or NULL.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00421">LiveInterval.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aSplitKit_8cpp_html_a5d107951e5df0e107a1269647a484f2f"><div class="ttname"><a href="SplitKit_8cpp.html#a5d107951e5df0e107a1269647a484f2f">removeDeadSegment</a></div><div class="ttdeci">static bool removeDeadSegment(SlotIndex Def, LiveRange &amp;LR)</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l01231">SplitKit.cpp:1231</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_ae8bd4b098d55a431c12cfba2a11c94bb"><div class="ttname"><a href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">llvm::LiveRange::removeSegment</a></div><div class="ttdeci">void removeSegment(SlotIndex Start, SlotIndex End, bool RemoveDeadValNo=false)</div><div class="ttdoc">Remove the specified segment from this range.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00568">LiveInterval.cpp:568</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ac7a9ba0bac237cd374e2a88f9c21696f"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ac7a9ba0bac237cd374e2a88f9c21696f">llvm::LiveIntervals::constructMainRangeFromSubranges</a></div><div class="ttdeci">void constructMainRangeFromSubranges(LiveInterval &amp;LI)</div><div class="ttdoc">For live interval LI with correct SubRanges construct matching information for the main live range.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01751">LiveIntervals.cpp:1751</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_a8ab989120222d67308b4e03b2772fb6a"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#a8ab989120222d67308b4e03b2772fb6a">llvm::SplitEditor::leaveIntvAfter</a></div><div class="ttdeci">SlotIndex leaveIntvAfter(SlotIndex Idx)</div><div class="ttdoc">leaveIntvAfter - Leave the open interval after the instruction at Idx.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00736">SplitKit.cpp:736</a></div></div>
<div class="ttc" id="astructllvm_1_1SplitAnalysis_1_1BlockInfo_html_ab4bb4af61621d0136db231e398d23ff1"><div class="ttname"><a href="structllvm_1_1SplitAnalysis_1_1BlockInfo.html#ab4bb4af61621d0136db231e398d23ff1">llvm::SplitAnalysis::BlockInfo::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l01877">SplitKit.cpp:1877</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_aa1e3d133ed73597d0c21e0a5d11fa31f"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#aa1e3d133ed73597d0c21e0a5d11fa31f">llvm::SplitAnalysis::analyze</a></div><div class="ttdeci">void analyze(const LiveInterval *li)</div><div class="ttdoc">analyze - set CurLI to the specified interval, and analyze how it may be split.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00338">SplitKit.cpp:338</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdeci">@ Kill</div><div class="ttdoc">The last use of a register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00048">MachineInstrBuilder.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html_a723a443c171be9909a0f101c7b84333e"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html#a723a443c171be9909a0f101c7b84333e">llvm::SplitAnalysis::getLastSplitPoint</a></div><div class="ttdeci">SlotIndex getLastSplitPoint(unsigned Num)</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00229">SplitKit.h:229</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17e04afcf0c5efeb0eb6a9a45287b5e4"><div class="ttname"><a href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, const MIMetadata &amp;MIMD, const MCInstrDesc &amp;MCID)</div><div class="ttdoc">Builder interface. Specify how to create the initial instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00357">MachineInstrBuilder.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="aMachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="aRegAllocBasic_8cpp_html_ad5d00e1d77644d95847b9bf8da12b759"><div class="ttname"><a href="RegAllocBasic_8cpp.html#ad5d00e1d77644d95847b9bf8da12b759">Allocator</a></div><div class="ttdeci">Basic Register Allocator</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocBasic_8cpp_source.html#l00143">RegAllocBasic.cpp:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeEdit_html_a2e56ee2f27a7c83b385e3c879fe4ee90"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#a2e56ee2f27a7c83b385e3c879fe4ee90">llvm::LiveRangeEdit::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00152">LiveRangeEdit.h:152</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a73f605751be73f0a910a586bb1b5d869"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a73f605751be73f0a910a586bb1b5d869">llvm::LiveIntervals::RemoveMachineInstrFromMaps</a></div><div class="ttdeci">void RemoveMachineInstrFromMaps(MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00270">LiveIntervals.h:270</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_aeffc1bb4ebe64a8ad3478e1253683847"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#aeffc1bb4ebe64a8ad3478e1253683847">llvm::LiveIntervals::splitSeparateComponents</a></div><div class="ttdeci">void splitSeparateComponents(LiveInterval &amp;LI, SmallVectorImpl&lt; LiveInterval * &gt; &amp;SplitLIs)</div><div class="ttdoc">Split separate components in LiveInterval LI into separate intervals.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01735">LiveIntervals.cpp:1735</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_ad3ece0ac2421637044624c9b01c42466"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a></div><div class="ttdeci">MachineInstrBuilder MachineInstrBuilder &amp; DefMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00108">AArch64ExpandPseudoInsts.cpp:108</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_a30a86f92a3d8d04852d53bfd89ce89c2"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a30a86f92a3d8d04852d53bfd89ce89c2">llvm::IntervalMap::begin</a></div><div class="ttdeci">const_iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01146">IntervalMap.h:1146</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a9c628b400be67b6adb4fa07e84a96a82"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a9c628b400be67b6adb4fa07e84a96a82">llvm::LiveRange::segments</a></div><div class="ttdeci">Segments segments</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00203">LiveInterval.h:203</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a14d46e70db7e417c8ed5bc66fb295185"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">llvm::LiveInterval::reg</a></div><div class="ttdeci">Register reg() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00717">LiveInterval.h:717</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a43f03898b29d823b707f6b4883c929a4"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a43f03898b29d823b707f6b4883c929a4">llvm::LiveRange::getSegmentContaining</a></div><div class="ttdeci">const Segment * getSegmentContaining(SlotIndex Idx) const</div><div class="ttdoc">Return the segment that contains the specified index, or null if there is none.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00408">LiveInterval.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a1c198291d6ee66150b76633cda8a1749"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">llvm::LiveInterval::hasSubRanges</a></div><div class="ttdeci">bool hasSubRanges() const</div><div class="ttdoc">Returns true if subregister liveness information is available.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00803">LiveInterval.h:803</a></div></div>
<div class="ttc" id="aAArch64ISelDAGToDAG_8cpp_html_a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081"><div class="ttname"><a href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">SelectTypeKind::FP</a></div><div class="ttdeci">@ FP</div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_aa1555194b9f176612b04fbd38f49b40d"><div class="ttname"><a href="classllvm_1_1LiveRange.html#aa1555194b9f176612b04fbd38f49b40d">llvm::LiveRange::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00300">LiveInterval.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeCalc_html_a65f0beed94a7dbdf8c8d7e2b46a0afa0"><div class="ttname"><a href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">llvm::LiveRangeCalc::reset</a></div><div class="ttdeci">void reset(const MachineFunction *mf, SlotIndexes *SI, MachineDominatorTree *MDT, VNInfo::Allocator *VNIA)</div><div class="ttdoc">reset - Prepare caches for a new set of non-overlapping live ranges.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeCalc_8cpp_source.html#l00049">LiveRangeCalc.cpp:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntervalMap_html_ac220ce1c155db1ac44146c12d178056f"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#ac220ce1c155db1ac44146c12d178056f">llvm::IntervalMap&lt; SlotIndex, unsigned &gt;::const_iterator</a></div><div class="ttdeci">friend class const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01142">IntervalMap.h:1142</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; VNInfo * &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aMachineOperand_8h_html"><div class="ttname"><a href="MachineOperand_8h.html">MachineOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrInfo_html_a0587abbded61717d8a153b7e5bfdbfed"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">llvm::MCInstrInfo::get</a></div><div class="ttdeci">const MCInstrDesc &amp; get(unsigned Opcode) const</div><div class="ttdoc">Return the machine instruction descriptor that corresponds to the specified instruction opcode.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00063">MCInstrInfo.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html_ab72366fd538f240cbb53dac39368cdfc"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">llvm::VNInfo::isUnused</a></div><div class="ttdeci">bool isUnused() const</div><div class="ttdoc">Returns true if this value is unused.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00081">LiveInterval.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeCalc_html_ae8e6fcd2d2e7e04fb1aa8fab71910f68"><div class="ttname"><a href="classllvm_1_1LiveRangeCalc.html#ae8e6fcd2d2e7e04fb1aa8fab71910f68">llvm::LiveRangeCalc::setLiveOutValue</a></div><div class="ttdeci">void setLiveOutValue(MachineBasicBlock *MBB, VNInfo *VNI)</div><div class="ttdoc">setLiveOutValue - Indicate that VNI is live out from MBB.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeCalc_8h_source.html#l00229">LiveRangeCalc.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a0bcbe87140565048a95f70d5207b4a93"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a0bcbe87140565048a95f70d5207b4a93">llvm::MachineBasicBlock::SkipPHIsLabelsAndDebug</a></div><div class="ttdeci">iterator SkipPHIsLabelsAndDebug(iterator I, bool SkipPseudoOp=true)</div><div class="ttdoc">Return the first instruction in MBB after I that is not a PHI, label or debug.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00223">MachineBasicBlock.cpp:223</a></div></div>
<div class="ttc" id="aBlockVerifier_8cpp_html_ae45c7d73c0ff5d177b59153ffae77f84"><div class="ttname"><a href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a></div><div class="ttdeci">BlockVerifier::State From</div><div class="ttdef"><b>Definition:</b> <a href="BlockVerifier_8cpp_source.html#l00055">BlockVerifier.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a814afdaff8cc41f929c618b9e09c4628"><div class="ttname"><a href="namespacellvm.html#a814afdaff8cc41f929c618b9e09c4628">llvm::getInternalReadRegState</a></div><div class="ttdeci">unsigned getInternalReadRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00540">MachineInstrBuilder.h:540</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">llvm::RegState::Dead</a></div><div class="ttdeci">@ Dead</div><div class="ttdoc">Unused definition.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00050">MachineInstrBuilder.h:50</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdoc">DominatorTree Class - Concrete subclass of DominatorTreeBase that is used to compute a normal dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00051">MachineDominators.h:51</a></div></div>
<div class="ttc" id="anamespacellvm_html_af085ea923a328b9fa6a1975f1a4ff987"><div class="ttname"><a href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">llvm::printReg</a></div><div class="ttdeci">Printable printReg(Register Reg, const TargetRegisterInfo *TRI=nullptr, unsigned SubIdx=0, const MachineRegisterInfo *MRI=nullptr)</div><div class="ttdoc">Prints virtual and physical registers with or without a TRI instance.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00111">TargetRegisterInfo.cpp:111</a></div></div>
<div class="ttc" id="aSplitKit_8cpp_html_a1c39b7e5b290696e6ae9577dd17286f1"><div class="ttname"><a href="SplitKit_8cpp.html#a1c39b7e5b290696e6ae9577dd17286f1">getSubRangeForMask</a></div><div class="ttdeci">const LiveInterval::SubRange &amp; getSubRangeForMask(LaneBitmask LM, const LiveInterval &amp;LI)</div><div class="ttdoc">Find a subrange corresponding to the lane mask LM, or a superset of it, in the live interval LI.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00412">SplitKit.cpp:412</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; const MachineInstr &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConnectedVNInfoEqClasses_html"><div class="ttname"><a href="classllvm_1_1ConnectedVNInfoEqClasses.html">llvm::ConnectedVNInfoEqClasses</a></div><div class="ttdoc">ConnectedVNInfoEqClasses - Helper class that can divide VNInfos in a LiveInterval into equivalence cl...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00998">LiveInterval.h:998</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">llvm::RegState::Define</a></div><div class="ttdeci">@ Define</div><div class="ttdoc">Register definition.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00044">MachineInstrBuilder.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitEditor_html_ad6c3837b7fc8ef9d70ddea519de3e06b"><div class="ttname"><a href="classllvm_1_1SplitEditor.html#ad6c3837b7fc8ef9d70ddea519de3e06b">llvm::SplitEditor::selectIntv</a></div><div class="ttdeci">void selectIntv(unsigned Idx)</div><div class="ttdoc">selectIntv - Select a previously opened interval index.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00646">SplitKit.cpp:646</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ac332ca27d85adc8d21edd708be55dfe3"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ac332ca27d85adc8d21edd708be55dfe3">llvm::LiveIntervals::removeVRegDefAt</a></div><div class="ttdeci">void removeVRegDefAt(LiveInterval &amp;LI, SlotIndex Pos)</div><div class="ttdoc">Remove value number and related live segments of LI and its subranges that start at position Pos.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01717">LiveIntervals.cpp:1717</a></div></div>
<div class="ttc" id="aMachineBlockFrequencyInfo_8h_html"><div class="ttname"><a href="MachineBlockFrequencyInfo_8h.html">MachineBlockFrequencyInfo.h</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1InsertPointAnalysis_html_a149ef404487b5a333a2774a3944af25f"><div class="ttname"><a href="classllvm_1_1InsertPointAnalysis.html#a149ef404487b5a333a2774a3944af25f">llvm::InsertPointAnalysis::getLastInsertPointIter</a></div><div class="ttdeci">MachineBasicBlock::iterator getLastInsertPointIter(const LiveInterval &amp;CurLI, MachineBasicBlock &amp;MBB)</div><div class="ttdoc">Returns the last insert point as an iterator for \pCurLI in \pMBB.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8cpp_source.html#l00139">SplitKit.cpp:139</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SplitAnalysis_html"><div class="ttname"><a href="classllvm_1_1SplitAnalysis.html">llvm::SplitAnalysis</a></div><div class="ttdoc">SplitAnalysis - Analyze a LiveInterval, looking for live range splitting opportunities.</div><div class="ttdef"><b>Definition:</b> <a href="SplitKit_8h_source.html#l00096">SplitKit.h:96</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a3714a639930eab71d7202da05ad82990"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">llvm::LaneBitmask::getAll</a></div><div class="ttdeci">static constexpr LaneBitmask getAll()</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00082">LaneBitmask.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a11b78aceef1db7dddc7ca575c395ddaf"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">llvm::LiveIntervals::getVNInfoAllocator</a></div><div class="ttdeci">VNInfo::Allocator &amp; getVNInfoAllocator()</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00278">LiveIntervals.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a757fd6afba0f531db70e78e057d147c6"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">llvm::LiveRange::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00216">LiveInterval.h:216</a></div></div>
<div class="ttc" id="aMachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a97dfb31f0f752a171bfe5fe49244c9be"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">llvm::LiveInterval::subranges</a></div><div class="ttdeci">iterator_range&lt; subrange_iterator &gt; subranges()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00775">LiveInterval.h:775</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:01:25 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
