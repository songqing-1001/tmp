<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/ParallelCG.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ParallelCG.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ParallelCG_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- ParallelCG.cpp ----------------------------------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file defines functions that can be used for parallel code generation.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ParallelCG_8h.html">llvm/CodeGen/ParallelCG.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitcodeReader_8h.html">llvm/Bitcode/BitcodeReader.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitcodeWriter_8h.html">llvm/Bitcode/BitcodeWriter.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LegacyPassManager_8h.html">llvm/IR/LegacyPassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBufferRef_8h.html">llvm/Support/MemoryBufferRef.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ThreadPool_8h.html">llvm/Support/ThreadPool.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SplitModule_8h.html">llvm/Transforms/Utils/SplitModule.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="ParallelCG_8cpp.html#aa81024b5dcf9768365b5f3b4596750f8">   26</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ParallelCG_8cpp.html#aa81024b5dcf9768365b5f3b4596750f8">codegen</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *M, <a class="code" href="classllvm_1_1raw__pwrite__stream.html">llvm::raw_pwrite_stream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                    <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;std::unique_ptr&lt;TargetMachine&gt;()&gt; TMFactory,</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                    <a class="code" href="namespacellvm.html#a73b761f8d40500a5a28889569526b260">CodeGenFileType</a> <a class="code" href="namespacellvm_1_1MachO.html#a11849daa1b55a8c00390b349546112e7">FileType</a>) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  std::unique_ptr&lt;TargetMachine&gt; <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a> = TMFactory();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a> &amp;&amp; <span class="stringliteral">&quot;Failed to create target machine!&quot;</span>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <a class="code" href="classllvm_1_1legacy_1_1PassManager.html">legacy::PassManager</a> CodeGenPasses;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>-&gt;addPassesToEmitFile(CodeGenPasses, <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">nullptr</span>, <a class="code" href="namespacellvm_1_1MachO.html#a11849daa1b55a8c00390b349546112e7">FileType</a>))</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Failed to setup codegen&quot;</span>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  CodeGenPasses.<a class="code" href="classllvm_1_1legacy_1_1PassManager.html#a2bdbe49f025814f15cd9c82aa08a389b">run</a>(*<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9181c891db75d65fbde9a5d4d15d5c12">   38</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a9181c891db75d65fbde9a5d4d15d5c12">llvm::splitCodeGen</a>(</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;llvm::raw_pwrite_stream *&gt;</a> OSs,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;llvm::raw_pwrite_stream *&gt;</a> BCOSs,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">const</span> <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;std::unique_ptr&lt;TargetMachine&gt;()&gt; &amp;TMFactory,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="namespacellvm.html#a73b761f8d40500a5a28889569526b260">CodeGenFileType</a> <a class="code" href="namespacellvm_1_1MachO.html#a11849daa1b55a8c00390b349546112e7">FileType</a>, <span class="keywordtype">bool</span> PreserveLocals) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BCOSs.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>() || BCOSs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == OSs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>());</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">if</span> (OSs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 1) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span> (!BCOSs.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>())</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <a class="code" href="namespacellvm.html#a199eb3a521b35ac20b20b7460bf2dabb">WriteBitcodeToFile</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, *BCOSs[0]);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="ParallelCG_8cpp.html#aa81024b5dcf9768365b5f3b4596750f8">codegen</a>(&amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, *OSs[0], TMFactory, <a class="code" href="namespacellvm_1_1MachO.html#a11849daa1b55a8c00390b349546112e7">FileType</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="comment">// Create ThreadPool in nested scope so that threads will be joined</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="comment">// on destruction.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classllvm_1_1ThreadPool.html">ThreadPool</a> CodegenThreadPool(<a class="code" href="namespacellvm.html#a00440f10281348fd9f7be52e23c7c874">hardware_concurrency</a>(OSs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>()));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">int</span> ThreadCount = 0;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="namespacellvm.html#aca9c472be57d2f13a0bbb3532948a6cd">SplitModule</a>(</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, OSs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(),</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        [&amp;](std::unique_ptr&lt;Module&gt; MPart) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;          <span class="comment">// We want to clone the module in a new context to multi-thread the</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;          <span class="comment">// codegen. We do it by serializing partition modules to bitcode</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;          <span class="comment">// (while still on the main thread, in order to avoid data races) and</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;          <span class="comment">// spinning up new threads which deserialize the partitions into</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;          <span class="comment">// separate contexts.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;          <span class="comment">// FIXME: Provide a more direct way to do this in LLVM.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;          SmallString&lt;0&gt; BC;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;          raw_svector_ostream BCOS(BC);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          WriteBitcodeToFile(*MPart, BCOS);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;          if (!BCOSs.empty()) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            BCOSs[ThreadCount]-&gt;write(BC.begin(), BC.size());</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            BCOSs[ThreadCount]-&gt;flush();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;          }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;          <a class="code" href="classllvm_1_1raw__pwrite__stream.html">llvm::raw_pwrite_stream</a> *ThreadOS = OSs[ThreadCount++];</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;          <span class="comment">// Enqueue the task</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;          CodegenThreadPool.<a class="code" href="classllvm_1_1ThreadPool.html#ac439316d32bbc9928047d569f07def4b">async</a>(</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;              [TMFactory, <a class="code" href="namespacellvm_1_1MachO.html#a11849daa1b55a8c00390b349546112e7">FileType</a>, ThreadOS](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;0&gt;</a> &amp;BC) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                LLVMContext Ctx;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                Expected&lt;std::unique_ptr&lt;Module&gt;&gt; MOrErr = parseBitcodeFile(</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                    MemoryBufferRef(StringRef(BC.data(), BC.size()),</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                    <span class="stringliteral">&quot;&lt;split-module&gt;&quot;</span>),</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                    Ctx);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                if (!MOrErr)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                  report_fatal_error(<span class="stringliteral">&quot;Failed to read bitcode&quot;</span>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                std::unique_ptr&lt;Module&gt; MPartInCtx = std::move(MOrErr.get());</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                codegen(MPartInCtx.get(), *ThreadOS, TMFactory, FileType);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;              },</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;              <span class="comment">// Pass BC using std::move to ensure that it get moved rather than</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;              <span class="comment">// copied into the thread&#39;s context.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;              <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(BC));</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        },</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        PreserveLocals);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_html_a00440f10281348fd9f7be52e23c7c874"><div class="ttname"><a href="namespacellvm.html#a00440f10281348fd9f7be52e23c7c874">llvm::hardware_concurrency</a></div><div class="ttdeci">ThreadPoolStrategy hardware_concurrency(unsigned ThreadCount=0)</div><div class="ttdoc">Returns a default thread strategy where all available hardware resources are to be used,...</div><div class="ttdef"><b>Definition:</b> <a href="Threading_8h_source.html#l00185">Threading.h:185</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1ThreadPool_html"><div class="ttname"><a href="classllvm_1_1ThreadPool.html">llvm::ThreadPool</a></div><div class="ttdoc">A ThreadPool for asynchronous parallel execution on a defined number of threads.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPool_8h_source.html#l00052">ThreadPool.h:52</a></div></div>
<div class="ttc" id="aParallelCG_8cpp_html_aa81024b5dcf9768365b5f3b4596750f8"><div class="ttname"><a href="ParallelCG_8cpp.html#aa81024b5dcf9768365b5f3b4596750f8">codegen</a></div><div class="ttdeci">static void codegen(Module *M, llvm::raw_pwrite_stream &amp;OS, function_ref&lt; std::unique_ptr&lt; TargetMachine &gt;()&gt; TMFactory, CodeGenFileType FileType)</div><div class="ttdef"><b>Definition:</b> <a href="ParallelCG_8cpp_source.html#l00026">ParallelCG.cpp:26</a></div></div>
<div class="ttc" id="aMemoryBufferRef_8h_html"><div class="ttname"><a href="MemoryBufferRef_8h.html">MemoryBufferRef.h</a></div></div>
<div class="ttc" id="aParallelCG_8h_html"><div class="ttname"><a href="ParallelCG_8h.html">ParallelCG.h</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aLegacyPassManager_8h_html"><div class="ttname"><a href="LegacyPassManager_8h.html">LegacyPassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ac835b8735b1b2faec0efdca236e37d94"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Check if the array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00158">ArrayRef.h:158</a></div></div>
<div class="ttc" id="aTarget_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="aBitcodeWriter_8h_html"><div class="ttname"><a href="BitcodeWriter_8h.html">BitcodeWriter.h</a></div></div>
<div class="ttc" id="aSplitModule_8h_html"><div class="ttname"><a href="SplitModule_8h.html">SplitModule.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 0 &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a11849daa1b55a8c00390b349546112e7"><div class="ttname"><a href="namespacellvm_1_1MachO.html#a11849daa1b55a8c00390b349546112e7">llvm::MachO::FileType</a></div><div class="ttdeci">FileType</div><div class="ttdoc">Defines the file type this file represents.</div><div class="ttdef"><b>Definition:</b> <a href="InterfaceFile_8h_source.html#l00053">InterfaceFile.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aThreadPool_8h_html"><div class="ttname"><a href="ThreadPool_8h.html">ThreadPool.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__pwrite__stream_html"><div class="ttname"><a href="classllvm_1_1raw__pwrite__stream.html">llvm::raw_pwrite_stream</a></div><div class="ttdoc">An abstract base class for streams implementations that also support a pwrite operation.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00428">raw_ostream.h:428</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="anamespacellvm_html_a199eb3a521b35ac20b20b7460bf2dabb"><div class="ttname"><a href="namespacellvm.html#a199eb3a521b35ac20b20b7460bf2dabb">llvm::WriteBitcodeToFile</a></div><div class="ttdeci">void WriteBitcodeToFile(const Module &amp;M, raw_ostream &amp;Out, bool ShouldPreserveUseListOrder=false, const ModuleSummaryIndex *Index=nullptr, bool GenerateHash=false, ModuleHash *ModHash=nullptr)</div><div class="ttdoc">Write the specified module to the specified raw output stream.</div><div class="ttdef"><b>Definition:</b> <a href="BitcodeWriter_8cpp_source.html#l04880">BitcodeWriter.cpp:4880</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a73b761f8d40500a5a28889569526b260"><div class="ttname"><a href="namespacellvm.html#a73b761f8d40500a5a28889569526b260">llvm::CodeGenFileType</a></div><div class="ttdeci">CodeGenFileType</div><div class="ttdoc">These enums are meant to be passed into addPassesToEmitFile to indicate what type of file to emit,...</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00084">CodeGen.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1ThreadPool_html_ac439316d32bbc9928047d569f07def4b"><div class="ttname"><a href="classllvm_1_1ThreadPool.html#ac439316d32bbc9928047d569f07def4b">llvm::ThreadPool::async</a></div><div class="ttdeci">auto async(Function &amp;&amp;F, Args &amp;&amp;...ArgList)</div><div class="ttdoc">Asynchronous submission of a task to the pool.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPool_8h_source.html#l00066">ThreadPool.h:66</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1legacy_1_1PassManager_html"><div class="ttname"><a href="classllvm_1_1legacy_1_1PassManager.html">llvm::legacy::PassManager</a></div><div class="ttdoc">PassManager manages ModulePassManagers.</div><div class="ttdef"><b>Definition:</b> <a href="LegacyPassManager_8h_source.html#l00052">LegacyPassManager.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1legacy_1_1PassManager_html_a2bdbe49f025814f15cd9c82aa08a389b"><div class="ttname"><a href="classllvm_1_1legacy_1_1PassManager.html#a2bdbe49f025814f15cd9c82aa08a389b">llvm::legacy::PassManager::run</a></div><div class="ttdeci">bool run(Module &amp;M)</div><div class="ttdoc">run - Execute all of the passes scheduled for execution.</div><div class="ttdef"><b>Definition:</b> <a href="LegacyPassManager_8cpp_source.html#l01671">LegacyPassManager.cpp:1671</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aBitcodeReader_8h_html"><div class="ttname"><a href="BitcodeReader_8h.html">BitcodeReader.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aca9c472be57d2f13a0bbb3532948a6cd"><div class="ttname"><a href="namespacellvm.html#aca9c472be57d2f13a0bbb3532948a6cd">llvm::SplitModule</a></div><div class="ttdeci">void SplitModule(Module &amp;M, unsigned N, function_ref&lt; void(std::unique_ptr&lt; Module &gt; MPart)&gt; ModuleCallback, bool PreserveLocals=false)</div><div class="ttdoc">Splits the module M into N linkable partitions.</div><div class="ttdef"><b>Definition:</b> <a href="SplitModule_8cpp_source.html#l00251">SplitModule.cpp:251</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9181c891db75d65fbde9a5d4d15d5c12"><div class="ttname"><a href="namespacellvm.html#a9181c891db75d65fbde9a5d4d15d5c12">llvm::splitCodeGen</a></div><div class="ttdeci">void splitCodeGen(Module &amp;M, ArrayRef&lt; raw_pwrite_stream * &gt; OSs, ArrayRef&lt; llvm::raw_pwrite_stream * &gt; BCOSs, const std::function&lt; std::unique_ptr&lt; TargetMachine &gt;()&gt; &amp;TMFactory, CodeGenFileType FileType=CGFT_ObjectFile, bool PreserveLocals=false)</div><div class="ttdoc">Split M into OSs.size() partitions, and generate code for each.</div><div class="ttdef"><b>Definition:</b> <a href="ParallelCG_8cpp_source.html#l00038">ParallelCG.cpp:38</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:56:21 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
