<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/GlobalISel/LoadStoreOpt.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li><li class="navelem"><a class="el" href="dir_6a229f14c730f076cdd0d3393eea743d.html">GlobalISel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">LoadStoreOpt.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="LoadStoreOpt_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- LoadStoreOpt.cpp ----------- Generic memory optimizations -*- C++ -*-==//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span><span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// This file implements the LoadStoreOpt optimization pass.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoadStoreOpt_8h.html">llvm/CodeGen/GlobalISel/LoadStoreOpt.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryLocation_8h.html">llvm/Analysis/MemoryLocation.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GenericMachineInstrs_8h.html">llvm/CodeGen/GlobalISel/GenericMachineInstrs.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LegalizerInfo_8h.html">llvm/CodeGen/GlobalISel/LegalizerInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MIPatternMatch_8h.html">llvm/CodeGen/GlobalISel/MIPatternMatch.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeGen_2GlobalISel_2Utils_8h.html">llvm/CodeGen/GlobalISel/Utils.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LowLevelType_8h.html">llvm/CodeGen/LowLevelType.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOptimizationRemarkEmitter_8h.html">llvm/CodeGen/MachineOptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Register_8h.html">llvm/CodeGen/Register.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLowering_8h.html">llvm/CodeGen/TargetLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOpcodes_8h.html">llvm/CodeGen/TargetOpcodes.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AtomicOrdering_8h.html">llvm/Support/AtomicOrdering.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="LoadStoreOpt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   40</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;loadstore-opt&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">using namespace </span>MIPatternMatch;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumStoresMerged, <span class="stringliteral">&quot;Number of stores merged&quot;</span>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="LoadStoreOpt_8cpp.html#a46a02f90f5805236adeebe0b97b4bd08">   48</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="LoadStoreOpt_8cpp.html#a46a02f90f5805236adeebe0b97b4bd08">MaxStoreSizeToForm</a> = 128;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1LoadStoreOpt.html#a10b1fad0bdf2c2c087cf4d1667af5de7">LoadStoreOpt::ID</a> = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<a class="code" href="LoadStoreOpt_8cpp.html#afcd6d9c14dc4a5e4cf02a728f4bcb47b">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1LoadStoreOpt.html">LoadStoreOpt</a>, <a class="code" href="LoadStoreOpt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;Generic memory optimizations&quot;</span>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                      <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="LoadStoreOpt_8cpp.html#a0beb79573244bd1be016002fc55d7372">   53</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1LoadStoreOpt.html">LoadStoreOpt</a>, <a class="code" href="LoadStoreOpt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, &quot;Generic memory <a class="code" href="LoadStoreOpt_8cpp.html#a0beb79573244bd1be016002fc55d7372">optimizations</a>&quot;,</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="LoadStoreOpt_8cpp.html#ae51769213dd9e908a15d27d7e5800d9b">   54</a></span>&#160;                    <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classllvm_1_1LoadStoreOpt.html#a24597ce933b1850a13eee882d9335fc4">   56</a></span>&#160;<a class="code" href="classllvm_1_1LoadStoreOpt.html">LoadStoreOpt</a>::<a class="code" href="classllvm_1_1LoadStoreOpt.html">LoadStoreOpt</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a>&lt;<span class="keywordtype">bool</span>(<a class="code" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;)&gt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    : <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), DoNotRunPass(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classllvm_1_1LoadStoreOpt.html#a7ae5b3f0f09b54338a470c68e36e5322">   59</a></span>&#160;<a class="code" href="classllvm_1_1LoadStoreOpt.html#a7ae5b3f0f09b54338a470c68e36e5322">LoadStoreOpt::LoadStoreOpt</a>()</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    : <a class="code" href="classllvm_1_1LoadStoreOpt.html">LoadStoreOpt</a>([](<a class="code" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }) {}</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keywordtype">void</span> LoadStoreOpt::init(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  this-&gt;MF = &amp;MF;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  MRI = &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  AA = &amp;getAnalysis&lt;AAResultsWrapperPass&gt;().getAAResults();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  TLI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a129ede6f18326075504d4bd0439fd517">getTargetLowering</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  LI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a83542282781b52068dd4e4f22890a07c">getLegalizerInfo</a>();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  Builder.<a class="code" href="classllvm_1_1MachineIRBuilder.html#af0d9669bbadd4d5e1d75c3c833c8d5ac">setMF</a>(MF);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  IsPreLegalizer = !MF.<a class="code" href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">getProperties</a>().<a class="code" href="classllvm_1_1MachineFunctionProperties.html#aacef05f16d3e71703f08bb4677e1d7a2">hasProperty</a>(</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1aefa6e814420e5fc1dfad353869159a37">MachineFunctionProperties::Property::Legalized</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  InstsToErase.clear();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classllvm_1_1LoadStoreOpt.html#a2d9b6f1892dc9fc078273cf43fe05e0e">   74</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LoadStoreOpt.html#a2d9b6f1892dc9fc078273cf43fe05e0e">LoadStoreOpt::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="namespacellvm.html#aa353f9585311abf1b6f698049f5a29b7">getSelectionDAGFallbackAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">MachineFunctionPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="namespacellvm_1_1GISelAddressing.html#aca3c98c681ca19d313bad9784ff73852">   81</a></span>&#160;<a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html">BaseIndexOffset</a> <a class="code" href="namespacellvm_1_1GISelAddressing.html#aca3c98c681ca19d313bad9784ff73852">GISelAddressing::getPointerInfo</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                                <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html">BaseIndexOffset</a> <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> PtrAddRHS;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1MIPatternMatch.html#aa9bd186f4281a367fb872d17d0e7728b">mi_match</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="namespacellvm_1_1MIPatternMatch.html#abef0dedc73ed9227d3b97209d619ee72">m_GPtrAdd</a>(<a class="code" href="namespacellvm_1_1MIPatternMatch.html#a00b04b7613c62a52917e1d2467faeab0">m_Reg</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.BaseReg), <a class="code" href="namespacellvm_1_1MIPatternMatch.html#a00b04b7613c62a52917e1d2467faeab0">m_Reg</a>(PtrAddRHS)))) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.BaseReg = <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.IndexReg = <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.IsIndexSignExt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keyword">auto</span> RHSCst = <a class="code" href="namespacellvm.html#ac76eb82370e997f967454f441effbbff">getIConstantVRegValWithLookThrough</a>(PtrAddRHS, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (RHSCst)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Offset = RHSCst-&gt;Value.getSExtValue();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// Just recognize a simple case for now. In future we&#39;ll need to match</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// indexing patterns for base + index + constant.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.IndexReg = PtrAddRHS;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.IsIndexSignExt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="namespacellvm_1_1GISelAddressing.html#a140cb977d5598588fb9e0079cd1aabf9">  103</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1GISelAddressing.html#a140cb977d5598588fb9e0079cd1aabf9">GISelAddressing::aliasIsKnownForLoadStore</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MI1,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MI2,</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                               <span class="keywordtype">bool</span> &amp;IsAlias,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                               <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keyword">auto</span> *LdSt1 = dyn_cast&lt;GLoadStore&gt;(&amp;MI1);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keyword">auto</span> *LdSt2 = dyn_cast&lt;GLoadStore&gt;(&amp;MI2);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">if</span> (!LdSt1 || !LdSt2)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html">BaseIndexOffset</a> BasePtr0 = <a class="code" href="namespacellvm_1_1GISelAddressing.html#aca3c98c681ca19d313bad9784ff73852">getPointerInfo</a>(LdSt1-&gt;getPointerReg(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html">BaseIndexOffset</a> BasePtr1 = <a class="code" href="namespacellvm_1_1GISelAddressing.html#aca3c98c681ca19d313bad9784ff73852">getPointerInfo</a>(LdSt2-&gt;getPointerReg(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">if</span> (!BasePtr0.<a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#a3531613a27069d849bd4a70853101013">BaseReg</a>.<a class="code" href="classllvm_1_1Register.html#a4a6966b99e305bd6f01fb17c645ae3da">isValid</a>() || !BasePtr1.<a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#a3531613a27069d849bd4a70853101013">BaseReg</a>.<a class="code" href="classllvm_1_1Register.html#a4a6966b99e305bd6f01fb17c645ae3da">isValid</a>())</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  int64_t Size1 = LdSt1-&gt;getMemSize();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  int64_t Size2 = LdSt2-&gt;getMemSize();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  int64_t PtrDiff;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">if</span> (BasePtr0.<a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#a3531613a27069d849bd4a70853101013">BaseReg</a> == BasePtr1.<a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#a3531613a27069d849bd4a70853101013">BaseReg</a>) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    PtrDiff = BasePtr1.<a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#aaf5fc8996c29f10d8a14129343bafa0d">Offset</a> - BasePtr0.<a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#aaf5fc8996c29f10d8a14129343bafa0d">Offset</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// If the size of memory access is unknown, do not use it to do analysis.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// One example of unknown size memory access is to load/store scalable</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// vector objects on the stack.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// BasePtr1 is PtrDiff away from BasePtr0. They alias if none of the</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// following situations arise:</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (PtrDiff &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        Size1 != <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">MemoryLocation::UnknownSize</a>)) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="comment">// [----BasePtr0----]</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="comment">//                         [---BasePtr1--]</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="comment">// ========PtrDiff========&gt;</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      IsAlias = !(Size1 &lt;= PtrDiff);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (PtrDiff &lt; 0 &amp;&amp;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        Size2 != <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">MemoryLocation::UnknownSize</a>)) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="comment">//                     [----BasePtr0----]</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="comment">// [---BasePtr1--]</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="comment">// =====(-PtrDiff)====&gt;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      IsAlias = !((PtrDiff + Size2) &lt;= 0);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// If both BasePtr0 and BasePtr1 are FrameIndexes, we will not be</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// able to calculate their relative offset if at least one arises</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// from an alloca. However, these allocas cannot overlap and we</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// can infer there is no alias.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keyword">auto</span> *Base0Def = <a class="code" href="namespacellvm.html#a4b2430ab5e686b82f8cd6fd588d6de6f">getDefIgnoringCopies</a>(BasePtr0.<a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#a3531613a27069d849bd4a70853101013">BaseReg</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keyword">auto</span> *Base1Def = <a class="code" href="namespacellvm.html#a4b2430ab5e686b82f8cd6fd588d6de6f">getDefIgnoringCopies</a>(BasePtr1.<a class="code" href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#a3531613a27069d849bd4a70853101013">BaseReg</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (!Base0Def || !Base1Def)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Couldn&#39;t tell anything.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">if</span> (Base0Def-&gt;getOpcode() != Base1Def-&gt;getOpcode())</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">if</span> (Base0Def-&gt;getOpcode() == TargetOpcode::G_FRAME_INDEX) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = Base0Def-&gt;getMF()-&gt;getFrameInfo();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// If the bases have the same frame index but we couldn&#39;t find a</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// constant offset, (indices are different) be conservative.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (Base0Def != Base1Def &amp;&amp;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        (!MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae6e7e975f7a4e5d535be32068a7c67df">isFixedObjectIndex</a>(Base0Def-&gt;getOperand(1).getIndex()) ||</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;         !MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae6e7e975f7a4e5d535be32068a7c67df">isFixedObjectIndex</a>(Base1Def-&gt;getOperand(1).getIndex()))) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      IsAlias = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// This implementation is a lot more primitive than the SDAG one for now.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// FIXME: what about constant pools?</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span> (Base0Def-&gt;getOpcode() == TargetOpcode::G_GLOBAL_VALUE) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">auto</span> GV0 = Base0Def-&gt;getOperand(1).getGlobal();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">auto</span> GV1 = Base1Def-&gt;getOperand(1).getGlobal();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span> (GV0 != GV1) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      IsAlias = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// Can&#39;t tell anything about aliasing.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="namespacellvm_1_1GISelAddressing.html#ada859501cbde2153a4e7fd7a19a7f682">  188</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1GISelAddressing.html#ada859501cbde2153a4e7fd7a19a7f682">GISelAddressing::instMayAlias</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Other,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                   <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                   <a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> *AA) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keyword">struct </span>MemUseCharacteristics {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordtype">bool</span> IsVolatile;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">bool</span> IsAtomic;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> BasePtr;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NumBytes;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  };</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">auto</span> getCharacteristics =</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) -&gt; MemUseCharacteristics {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a> = dyn_cast&lt;GLoadStore&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> BaseReg;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="comment">// No pre/post-inc addressing modes are considered here, unlike in SDAG.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1MIPatternMatch.html#aa9bd186f4281a367fb872d17d0e7728b">mi_match</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;getPointerReg(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    <a class="code" href="namespacellvm_1_1MIPatternMatch.html#abef0dedc73ed9227d3b97209d619ee72">m_GPtrAdd</a>(<a class="code" href="namespacellvm_1_1MIPatternMatch.html#a00b04b7613c62a52917e1d2467faeab0">m_Reg</a>(BaseReg), <a class="code" href="namespacellvm_1_1MIPatternMatch.html#a316dd9aa25d9ec9d6d21b56e4296e824">m_ICst</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)))) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        BaseReg = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;getPointerReg();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size = <a class="code" href="classllvm_1_1MemoryLocation.html#ae9af76c20e2e99537d18a87df3b57bb9">MemoryLocation::getSizeOrUnknown</a>(</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;getMMO().getMemoryType().getSizeInBytes());</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordflow">return</span> {<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;isVolatile(),       <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;isAtomic(),          BaseReg,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;              <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> <span class="comment">/*base offset*/</span>, Size, &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;getMMO()};</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// FIXME: support recognizing lifetime instructions.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// Default.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> {<span class="keyword">false</span> <span class="comment">/*isvolatile*/</span>,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="comment">/*isAtomic*/</span> <span class="keyword">false</span>,          <a class="code" href="classllvm_1_1Register.html">Register</a>(),</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            (int64_t)0 <span class="comment">/*offset*/</span>,       0 <span class="comment">/*size*/</span>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            (<a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *)<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  };</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  MemUseCharacteristics MUC0 = getCharacteristics(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>),</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        MUC1 = getCharacteristics(&amp;<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// If they are to the same address, then they must be aliases.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">if</span> (MUC0.BasePtr.isValid() &amp;&amp; MUC0.BasePtr == MUC1.BasePtr &amp;&amp;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      MUC0.Offset == MUC1.Offset)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// If they are both volatile then they cannot be reordered.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">if</span> (MUC0.IsVolatile &amp;&amp; MUC1.IsVolatile)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// Be conservative about atomics for the moment</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">// TODO: This is way overconservative for unordered atomics (see D66309)</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">if</span> (MUC0.IsAtomic &amp;&amp; MUC1.IsAtomic)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// If one operation reads from invariant memory, and the other may store, they</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// cannot alias.</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (MUC0.MMO &amp;&amp; MUC1.MMO) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> ((MUC0.MMO-&gt;isInvariant() &amp;&amp; MUC1.MMO-&gt;isStore()) ||</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        (MUC1.MMO-&gt;isInvariant() &amp;&amp; MUC0.MMO-&gt;isStore()))</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// Try to prove that there is aliasing, or that there is no aliasing. Either</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// way, we can return now. If nothing can be proved, proceed with more tests.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordtype">bool</span> IsAlias;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GISelAddressing.html#a140cb977d5598588fb9e0079cd1aabf9">GISelAddressing::aliasIsKnownForLoadStore</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>, IsAlias, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>))</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> IsAlias;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// The following all rely on MMO0 and MMO1 being valid.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">if</span> (!MUC0.MMO || !MUC1.MMO)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// FIXME: port the alignment based alias analysis from SDAG&#39;s isAlias().</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  int64_t SrcValOffset0 = MUC0.MMO-&gt;getOffset();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  int64_t SrcValOffset1 = MUC1.MMO-&gt;getOffset();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size0 = MUC0.NumBytes;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size1 = MUC1.NumBytes;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (AA &amp;&amp; MUC0.MMO-&gt;getValue() &amp;&amp; MUC1.MMO-&gt;getValue() &amp;&amp;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      Size0 != <a class="code" href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">MemoryLocation::UnknownSize</a> &amp;&amp;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      Size1 != <a class="code" href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">MemoryLocation::UnknownSize</a>) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// Use alias analysis information.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    int64_t MinOffset = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(SrcValOffset0, SrcValOffset1);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    int64_t Overlap0 = Size0 + SrcValOffset0 - MinOffset;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    int64_t Overlap1 = Size1 + SrcValOffset1 - MinOffset;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (AA-&gt;<a class="code" href="classllvm_1_1AAResults.html#a9ebdc17e55980f1a8176d376d9e2a323">isNoAlias</a>(<a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a>(MUC0.MMO-&gt;getValue(), Overlap0,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                     MUC0.MMO-&gt;getAAInfo()),</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                      <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a>(MUC1.MMO-&gt;getValue(), Overlap1,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                     MUC1.MMO-&gt;getAAInfo())))</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// Otherwise we have to assume they alias.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">/// Returns true if the instruction creates an unavoidable hazard that</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">/// forces a boundary between store merge candidates.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="LoadStoreOpt_8cpp.html#aea277b91596b7659f1c1c102bd974f56">  285</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LoadStoreOpt_8cpp.html#aea277b91596b7659f1c1c102bd974f56">isInstHardMergeHazard</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasUnmodeledSideEffects() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasOrderedMemoryRef();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="keywordtype">bool</span> LoadStoreOpt::mergeStores(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;GStore *&gt;</a> &amp;StoresToMerge) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// Try to merge all the stores in the vector, splitting into separate segments</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// as necessary.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(StoresToMerge.size() &gt; 1 &amp;&amp; <span class="stringliteral">&quot;Expected multiple stores to merge&quot;</span>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="classllvm_1_1LLT.html">LLT</a> OrigTy = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5dc0a32516ce31f495b440d47287028b">getType</a>(StoresToMerge[0]-&gt;getValueReg());</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classllvm_1_1LLT.html">LLT</a> PtrTy = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5dc0a32516ce31f495b440d47287028b">getType</a>(StoresToMerge[0]-&gt;getPointerReg());</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordtype">unsigned</span> AS = PtrTy.<a class="code" href="classllvm_1_1LLT.html#ac33fa4c8cfeb9287f51f95404a459de8">getAddressSpace</a>();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// Ensure the legal store info is computed for this address space.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  initializeStoreMergeTargetInfo(AS);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;LegalSizes = LegalStoreSizes[AS];</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *StoreMI : StoresToMerge)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5dc0a32516ce31f495b440d47287028b">getType</a>(StoreMI-&gt;getValueReg()) == OrigTy);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">getDataLayout</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordtype">bool</span> AnyMerged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">unsigned</span> NumPow2 = <a class="code" href="namespacellvm.html#ae22967d11b695d268992470debfae4b2">llvm::bit_floor</a>(StoresToMerge.size());</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">unsigned</span> MaxSizeBits = NumPow2 * OrigTy.<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// Compute the biggest store we can generate to handle the number of stores.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordtype">unsigned</span> MergeSizeBits;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">for</span> (MergeSizeBits = MaxSizeBits; MergeSizeBits &gt; 1; MergeSizeBits /= 2) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <a class="code" href="classllvm_1_1LLT.html">LLT</a> StoreTy = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(MergeSizeBits);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> StoreEVT =</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;          <a class="code" href="namespacellvm.html#a153c598af168d0fdebb2942614ce4784">getApproximateEVTForLLT</a>(StoreTy, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">getContext</a>());</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">if</span> (LegalSizes.size() &gt; MergeSizeBits &amp;&amp; LegalSizes[MergeSizeBits] &amp;&amp;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          TLI-&gt;<a class="code" href="classllvm_1_1TargetLoweringBase.html#ab73c338b3ee33ebf508c7ce7c5ffdf31">canMergeStoresTo</a>(AS, StoreEVT, *MF) &amp;&amp;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;          (TLI-&gt;<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(StoreEVT)))</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// We can generate a MergeSize bits store.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span> (MergeSizeBits &lt;= OrigTy.<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>())</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">return</span> AnyMerged; <span class="comment">// No greater merge.</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">unsigned</span> NumStoresToMerge = MergeSizeBits / OrigTy.<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// Perform the actual merging.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;GStore *, 8&gt;</a> SingleMergeStores(</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        StoresToMerge.begin(), StoresToMerge.begin() + NumStoresToMerge);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    AnyMerged |= doSingleStoreMerge(SingleMergeStores);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    StoresToMerge.erase(StoresToMerge.begin(),</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                        StoresToMerge.begin() + NumStoresToMerge);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  } <span class="keywordflow">while</span> (StoresToMerge.size() &gt; 1);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">return</span> AnyMerged;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="keywordtype">bool</span> LoadStoreOpt::isLegalOrBeforeLegalizer(<span class="keyword">const</span> <a class="code" href="structllvm_1_1LegalityQuery.html">LegalityQuery</a> &amp;Query,</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                            <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keyword">auto</span> Action = LI-&gt;<a class="code" href="classllvm_1_1LegalizerInfo.html#af3687eafb2772c29aa67ce722c2081fd">getAction</a>(Query).<a class="code" href="structllvm_1_1LegalizeActionStep.html#a1ad3bef7dbfe7e650af077cede882b93">Action</a>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// If the instruction is unsupported, it can&#39;t be legalized at all.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">if</span> (Action == <a class="code" href="namespacellvm_1_1LegalizeActions.html#a834a0e3032e20fe88a0c931e8f246654a47383e4f532d33bd4f45d182896d7c17">LegalizeActions::Unsupported</a>)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">return</span> IsPreLegalizer || Action == <a class="code" href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">LegalizeAction::Legal</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="keywordtype">bool</span> LoadStoreOpt::doSingleStoreMerge(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;GStore *&gt;</a> &amp;Stores) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Stores.size() &gt; 1);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// We know that all the stores are consecutive and there are no aliasing</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// operations in the range. However, the values that are being stored may be</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// generated anywhere before each store. To ensure we have the values</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// available, we materialize the wide value and new store at the place of the</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// final store in the merge sequence.</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="classllvm_1_1GStore.html">GStore</a> *FirstStore = Stores[0];</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumStores = Stores.size();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="classllvm_1_1LLT.html">LLT</a> SmallTy = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5dc0a32516ce31f495b440d47287028b">getType</a>(FirstStore-&gt;<a class="code" href="classllvm_1_1GStore.html#ab80d0571fdf63877734e0f7bea4e886b">getValueReg</a>());</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="classllvm_1_1LLT.html">LLT</a> WideValueTy =</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(NumStores * SmallTy.<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>());</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// For each store, compute pairwise merged debug locs.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> MergedLoc = Stores.front()-&gt;getDebugLoc();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> : <a class="code" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">drop_begin</a>(Stores))</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    MergedLoc = <a class="code" href="classllvm_1_1DILocation.html#accc5dccb020fb7b324fcfb2d221c1a19">DILocation::getMergedLocation</a>(MergedLoc, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>-&gt;getDebugLoc());</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  Builder.<a class="code" href="classllvm_1_1MachineIRBuilder.html#a4cac2a17ab11d53dd0a49871b80f5c7a">setInstr</a>(*Stores.back());</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  Builder.<a class="code" href="classllvm_1_1MachineIRBuilder.html#ac444a61cbfb8a46d48688a530e5defe1">setDebugLoc</a>(MergedLoc);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">// If all of the store values are constants, then create a wide constant</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="comment">// directly. Otherwise, we need to generate some instructions to merge the</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// existing values together into a wider type.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;APInt, 8&gt;</a> ConstantVals;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> : Stores) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">auto</span> MaybeCst =</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="namespacellvm.html#ac76eb82370e997f967454f441effbbff">getIConstantVRegValWithLookThrough</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>-&gt;getValueReg(), *MRI);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (!MaybeCst) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      ConstantVals.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    ConstantVals.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(MaybeCst-&gt;Value);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> WideReg;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keyword">auto</span> *WideMMO =</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">getMachineMemOperand</a>(&amp;FirstStore-&gt;<a class="code" href="classllvm_1_1GLoadStore.html#a2aaf791aa3564d53adefabc2e145234c">getMMO</a>(), 0, WideValueTy);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">if</span> (ConstantVals.empty()) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// Mimic the SDAG behaviour here and don&#39;t try to do anything for unknown</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// values. In future, we should also support the cases of loads and</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// extracted vector elements.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ConstantVals.size() == NumStores);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// Check if our wide constant is legal.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (!isLegalOrBeforeLegalizer({TargetOpcode::G_CONSTANT, {WideValueTy}}, *MF))</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> WideConst(WideValueTy.<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>(), 0);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; ConstantVals.size(); ++Idx) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">// Insert the smaller constant into the corresponding position in the</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">// wider one.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    WideConst.insertBits(ConstantVals[Idx], Idx * SmallTy.<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>());</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  WideReg = Builder.<a class="code" href="classllvm_1_1MachineIRBuilder.html#af751c28a69e1d07e19dad11e4e26a70d">buildConstant</a>(WideValueTy, WideConst).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1c5fadb14ff1d77faad0cb58a43252ab">getReg</a>(0);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keyword">auto</span> NewStore =</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      Builder.<a class="code" href="classllvm_1_1MachineIRBuilder.html#a87a7405685118d45876c996318829ceb">buildStore</a>(WideReg, FirstStore-&gt;<a class="code" href="classllvm_1_1GLoadStore.html#a0a7fb170c5d3165c1a9f3cf5fee5b4ca">getPointerReg</a>(), *WideMMO);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  (void) NewStore;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Created merged store: &quot;</span> &lt;&lt; *NewStore);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  NumStoresMerged += Stores.size();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <a class="code" href="classllvm_1_1MachineOptimizationRemarkEmitter.html">MachineOptimizationRemarkEmitter</a> <a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>(*MF, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a>.emit([&amp;]() {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="classllvm_1_1MachineOptimizationRemark.html">MachineOptimizationRemark</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>(<a class="code" href="LoadStoreOpt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;MergedStore&quot;</span>,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                FirstStore-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(),</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                FirstStore-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>());</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> &lt;&lt; <span class="stringliteral">&quot;Merged &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;NumMerged&quot;</span>, Stores.size()) &lt;&lt; <span class="stringliteral">&quot; stores of &quot;</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;OrigWidth&quot;</span>, SmallTy.<a class="code" href="classllvm_1_1LLT.html#ae456a811703836ee5d9e32c3e51a15b6">getSizeInBytes</a>())</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; bytes into a single store of &quot;</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;NewWidth&quot;</span>, WideValueTy.<a class="code" href="classllvm_1_1LLT.html#ae456a811703836ee5d9e32c3e51a15b6">getSizeInBytes</a>()) &lt;&lt; <span class="stringliteral">&quot; bytes&quot;</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  });</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : Stores)</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    InstsToErase.insert(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="keywordtype">bool</span> LoadStoreOpt::processMergeCandidate(StoreMergeCandidate &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores.size() &lt; 2) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.reset();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Checking store merge candidate with &quot;</span> &lt;&lt; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores.size()</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; stores, starting with &quot;</span> &lt;&lt; *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores[0]);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// We know that the stores in the candidate are adjacent.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// Now we need to check if any potential aliasing instructions recorded</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// during the search alias with load/stores added to the candidate after.</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">// For example, if we have the candidate:</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">//   C.Stores = [ST1, ST2, ST3, ST4]</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// and after seeing ST2 we saw a load LD1, which did not alias with ST1 or</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// ST2, then we would have recorded it into the PotentialAliases structure</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// with the associated index value of &quot;1&quot;. Then we see ST3 and ST4 and add</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// them to the candidate group. We know that LD1 does not alias with ST1 or</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// ST2, since we already did that check. However we don&#39;t yet know if it</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// may alias ST3 and ST4, so we perform those checks now.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;GStore *&gt;</a> StoresToMerge;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">auto</span> DoesStoreAliasWithPotential = [&amp;](<span class="keywordtype">unsigned</span> Idx, <a class="code" href="classllvm_1_1GStore.html">GStore</a> &amp;CheckStore) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> AliasInfo : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.PotentialAliases)) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *PotentialAliasOp = AliasInfo.first;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordtype">unsigned</span> PreCheckedIdx = AliasInfo.second;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(Idx) &gt; PreCheckedIdx) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="comment">// Need to check this alias.</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GISelAddressing.html#ada859501cbde2153a4e7fd7a19a7f682">GISelAddressing::instMayAlias</a>(CheckStore, *PotentialAliasOp, *MRI,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                          AA)) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Potential alias &quot;</span> &lt;&lt; *PotentialAliasOp</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot; detected\n&quot;</span>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="comment">// Once our store index is lower than the index associated with the</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="comment">// potential alias, we know that we&#39;ve already checked for this alias</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="comment">// and all of the earlier potential aliases too.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  };</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="comment">// Start from the last store in the group, and check if it aliases with any</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="comment">// of the potential aliasing operations in the list.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> StoreIdx = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores.size() - 1; StoreIdx &gt;= 0; --StoreIdx) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keyword">auto</span> *CheckStore = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores[StoreIdx];</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span> (DoesStoreAliasWithPotential(StoreIdx, *CheckStore))</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    StoresToMerge.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(CheckStore);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; StoresToMerge.size()</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; stores remaining after alias checks. Merging...\n&quot;</span>);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// Now we&#39;ve checked for aliasing hazards, merge any stores left.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.reset();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">if</span> (StoresToMerge.size() &lt; 2)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">return</span> mergeStores(StoresToMerge);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="keywordtype">bool</span> LoadStoreOpt::operationAliasesWithCandidate(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                                                 StoreMergeCandidate &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores.empty())</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores, [&amp;](<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *OtherMI) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    return instMayAlias(MI, *OtherMI, *MRI, AA);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  });</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="keywordtype">void</span> LoadStoreOpt::StoreMergeCandidate::addPotentialAlias(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  PotentialAliases.emplace_back(std::make_pair(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Stores.size() - 1));</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="keywordtype">bool</span> LoadStoreOpt::addStoreToCandidate(<a class="code" href="classllvm_1_1GStore.html">GStore</a> &amp;StoreMI,</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                       StoreMergeCandidate &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// Check if the given store writes to an adjacent address, and other</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="comment">// requirements.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="classllvm_1_1LLT.html">LLT</a> ValueTy = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5dc0a32516ce31f495b440d47287028b">getType</a>(StoreMI.<a class="code" href="classllvm_1_1GStore.html#ab80d0571fdf63877734e0f7bea4e886b">getValueReg</a>());</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="classllvm_1_1LLT.html">LLT</a> PtrTy = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5dc0a32516ce31f495b440d47287028b">getType</a>(StoreMI.<a class="code" href="classllvm_1_1GLoadStore.html#a0a7fb170c5d3165c1a9f3cf5fee5b4ca">getPointerReg</a>());</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// Only handle scalars.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (!ValueTy.<a class="code" href="classllvm_1_1LLT.html#a3989251b1a714fc8296685f77eac6e87">isScalar</a>())</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// Don&#39;t allow truncating stores for now.</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">if</span> (StoreMI.<a class="code" href="classllvm_1_1GLoadStore.html#a7a93f7892da9c7831d18671d864d9404">getMemSizeInBits</a>() != ValueTy.<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>())</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// Avoid adding volatile or ordered stores to the candidate. We already have a</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// check for this in instMayAlias() but that only get&#39;s called later between</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// potential aliasing hazards.</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (!StoreMI.<a class="code" href="classllvm_1_1GLoadStore.html#a820024b66b03527e3ea6fd53d604c682">isSimple</a>())</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> StoreAddr = StoreMI.<a class="code" href="classllvm_1_1GLoadStore.html#a0a7fb170c5d3165c1a9f3cf5fee5b4ca">getPointerReg</a>();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keyword">auto</span> BIO = <a class="code" href="namespacellvm_1_1GISelAddressing.html#aca3c98c681ca19d313bad9784ff73852">getPointerInfo</a>(StoreAddr, *MRI);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> StoreBase = BIO.BaseReg;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> StoreOffCst = BIO.Offset;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores.empty()) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="comment">// This is the first store of the candidate.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// If the offset can&#39;t possibly allow for a lower addressed store with the</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// same base, don&#39;t bother adding it.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (StoreOffCst &lt; ValueTy.<a class="code" href="classllvm_1_1LLT.html#ae456a811703836ee5d9e32c3e51a15b6">getSizeInBytes</a>())</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.BasePtr = StoreBase;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.CurrentLowestOffset = StoreOffCst;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores.emplace_back(&amp;StoreMI);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Starting a new merge candidate group with: &quot;</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                      &lt;&lt; StoreMI);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// Check the store is the same size as the existing ones in the candidate.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">if</span> (MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5dc0a32516ce31f495b440d47287028b">getType</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores[0]-&gt;getValueReg()).<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>() !=</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      ValueTy.<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>())</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">if</span> (MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5dc0a32516ce31f495b440d47287028b">getType</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores[0]-&gt;getPointerReg()).<a class="code" href="classllvm_1_1LLT.html#ac33fa4c8cfeb9287f51f95404a459de8">getAddressSpace</a>() !=</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      PtrTy.<a class="code" href="classllvm_1_1LLT.html#ac33fa4c8cfeb9287f51f95404a459de8">getAddressSpace</a>())</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// There are other stores in the candidate. Check that the store address</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="comment">// writes to the next lowest adjacent address.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.BasePtr != StoreBase)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.CurrentLowestOffset - ValueTy.<a class="code" href="classllvm_1_1LLT.html#ae456a811703836ee5d9e32c3e51a15b6">getSizeInBytes</a>()) !=</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a><span class="keyword">&gt;</span>(StoreOffCst))</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// This writes to an adjacent address. Allow it.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.Stores.emplace_back(&amp;StoreMI);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.CurrentLowestOffset = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.CurrentLowestOffset - ValueTy.<a class="code" href="classllvm_1_1LLT.html#ae456a811703836ee5d9e32c3e51a15b6">getSizeInBytes</a>();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Candidate added store: &quot;</span> &lt;&lt; StoreMI);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="keywordtype">bool</span> LoadStoreOpt::mergeBlockStores(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// Walk through the block bottom-up, looking for merging candidates.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  StoreMergeCandidate Candidate;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (InstsToErase.contains(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *StoreMI = dyn_cast&lt;GStore&gt;(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="comment">// We have a G_STORE. Add it to the candidate if it writes to an adjacent</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="comment">// address.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">if</span> (!addStoreToCandidate(*StoreMI, Candidate)) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="comment">// Store wasn&#39;t eligible to be added. May need to record it as a</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="comment">// potential alias.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">if</span> (operationAliasesWithCandidate(*StoreMI, Candidate)) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;          Changed |= processMergeCandidate(Candidate);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        Candidate.addPotentialAlias(*StoreMI);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// If we don&#39;t have any stores yet, this instruction can&#39;t pose a problem.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> (Candidate.Stores.empty())</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// We&#39;re dealing with some other kind of instruction.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="LoadStoreOpt_8cpp.html#aea277b91596b7659f1c1c102bd974f56">isInstHardMergeHazard</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      Changed |= processMergeCandidate(Candidate);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      Candidate.Stores.clear();</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoadOrStore())</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (operationAliasesWithCandidate(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Candidate)) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="comment">// We have a potential alias, so process the current candidate if we can</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="comment">// and then continue looking for a new candidate.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      Changed |= processMergeCandidate(Candidate);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// Record this instruction as a potential alias for future stores that are</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// added to the candidate.</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    Candidate.addPotentialAlias(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// Process any candidate left after finishing searching the entire block.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  Changed |= processMergeCandidate(Candidate);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="comment">// Erase instructions now that we&#39;re no longer iterating over the block.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : InstsToErase)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  InstsToErase.clear();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="keywordtype">bool</span> LoadStoreOpt::mergeFunctionStores(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : MF) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    Changed |= mergeBlockStores(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="keywordtype">void</span> LoadStoreOpt::initializeStoreMergeTargetInfo(<span class="keywordtype">unsigned</span> AddrSpace) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="comment">// Query the legalizer info to record what store types are legal.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// We record this because we don&#39;t want to bother trying to merge stores into</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// illegal ones, which would just result in being split again.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span> (LegalStoreSizes.count(AddrSpace)) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LegalStoreSizes[AddrSpace].<a class="code" href="namespacellvm_1_1LegalityPredicates.html#a6fef38ab5d0c9c582fe6cae7d8badf5f">any</a>());</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">// Already cached sizes for this address space.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="comment">// Need to reserve at least MaxStoreSizeToForm + 1 bits.</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> LegalSizes(<a class="code" href="LoadStoreOpt_8cpp.html#a46a02f90f5805236adeebe0b97b4bd08">MaxStoreSizeToForm</a> * 2);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;LI = *MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a83542282781b52068dd4e4f22890a07c">getLegalizerInfo</a>();</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">getDataLayout</a>();</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IntPtrIRTy =</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getIntPtrType(MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">getContext</a>(), AddrSpace);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <a class="code" href="classllvm_1_1LLT.html">LLT</a> PtrTy = <a class="code" href="namespacellvm.html#afd34773dd33963769279868ab39d5fdc">getLLTForType</a>(*IntPtrIRTy-&gt;<a class="code" href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">getPointerTo</a>(AddrSpace), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="comment">// We assume that we&#39;re not going to be generating any stores wider than</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// MaxStoreSizeToForm bits for now.</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Size = 2; <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> &lt;= <a class="code" href="LoadStoreOpt_8cpp.html#a46a02f90f5805236adeebe0b97b4bd08">MaxStoreSizeToForm</a>; <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> *= 2) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="classllvm_1_1LLT.html">LLT</a> Ty = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(Size);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LegalityQuery::MemDesc, 2&gt;</a> MemDescrs(</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        {{Ty, Ty.<a class="code" href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">getSizeInBits</a>(), <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a56a57d29a3f9dda8671b4d6490a94b08">AtomicOrdering::NotAtomic</a>}});</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LLT&gt;</a> StoreTys({Ty, PtrTy});</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="structllvm_1_1LegalityQuery.html">LegalityQuery</a> Q(TargetOpcode::G_STORE, StoreTys, MemDescrs);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="structllvm_1_1LegalizeActionStep.html">LegalizeActionStep</a> ActionStep = LI.<a class="code" href="classllvm_1_1LegalizerInfo.html#af3687eafb2772c29aa67ce722c2081fd">getAction</a>(Q);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">if</span> (ActionStep.<a class="code" href="structllvm_1_1LegalizeActionStep.html#a1ad3bef7dbfe7e650af077cede882b93">Action</a> == <a class="code" href="namespacellvm_1_1LegalizeActions.html#a834a0e3032e20fe88a0c931e8f246654a167074ba3b742859ff5dbe464381e107">LegalizeActions::Legal</a>)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      LegalSizes.set(Size);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LegalSizes.any() &amp;&amp; <span class="stringliteral">&quot;Expected some store sizes to be legal!&quot;</span>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  LegalStoreSizes[AddrSpace] = LegalSizes;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="classllvm_1_1LoadStoreOpt.html#ae574eef8202ccd989fd0453675b956ca">  660</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoadStoreOpt.html#ae574eef8202ccd989fd0453675b956ca">LoadStoreOpt::runOnMachineFunction</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="comment">// If the ISel pipeline failed, do not bother running that pass.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">getProperties</a>().<a class="code" href="classllvm_1_1MachineFunctionProperties.html#aacef05f16d3e71703f08bb4677e1d7a2">hasProperty</a>(</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;          <a class="code" href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a8014afd87e04236365d1796e38bc15f5">MachineFunctionProperties::Property::FailedISel</a>))</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Begin memory optimizations for: &quot;</span> &lt;&lt; MF.<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>()</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  init(MF);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  Changed |= mergeFunctionStores(MF);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  LegalStoreSizes.clear();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructllvm_1_1GISelAddressing_1_1BaseIndexOffset_html"><div class="ttname"><a href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html">llvm::GISelAddressing::BaseIndexOffset</a></div><div class="ttdoc">Helper struct to store a base, index and offset that forms an address.</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8h_source.html#l00036">LoadStoreOpt.h:36</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="aMIPatternMatch_8h_html"><div class="ttname"><a href="MIPatternMatch_8h.html">MIPatternMatch.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineIRBuilder_html_af0d9669bbadd4d5e1d75c3c833c8d5ac"><div class="ttname"><a href="classllvm_1_1MachineIRBuilder.html#af0d9669bbadd4d5e1d75c3c833c8d5ac">llvm::MachineIRBuilder::setMF</a></div><div class="ttdeci">void setMF(MachineFunction &amp;MF)</div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8cpp_source.html#l00024">MachineIRBuilder.cpp:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_aacef05f16d3e71703f08bb4677e1d7a2"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#aacef05f16d3e71703f08bb4677e1d7a2">llvm::MachineFunctionProperties::hasProperty</a></div><div class="ttdeci">bool hasProperty(Property P) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00193">MachineFunction.h:193</a></div></div>
<div class="ttc" id="aLowLevelType_8h_html"><div class="ttname"><a href="LowLevelType_8h.html">LowLevelType.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4b2430ab5e686b82f8cd6fd588d6de6f"><div class="ttname"><a href="namespacellvm.html#a4b2430ab5e686b82f8cd6fd588d6de6f">llvm::getDefIgnoringCopies</a></div><div class="ttdeci">MachineInstr * getDefIgnoringCopies(Register Reg, const MachineRegisterInfo &amp;MRI)</div><div class="ttdoc">Find the def instruction for Reg, folding away any trivial copies.</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2GlobalISel_2Utils_8cpp_source.html#l00461">Utils.cpp:461</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineIRBuilder_html_ac444a61cbfb8a46d48688a530e5defe1"><div class="ttname"><a href="classllvm_1_1MachineIRBuilder.html#ac444a61cbfb8a46d48688a530e5defe1">llvm::MachineIRBuilder::setDebugLoc</a></div><div class="ttdeci">void setDebugLoc(const DebugLoc &amp;DL)</div><div class="ttdoc">Set the debug location to DL for all the next build instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8h_source.html#l00367">MachineIRBuilder.h:367</a></div></div>
<div class="ttc" id="anamespacellvm_html_a02981de53fb6ffd384d39addc4d25f37"><div class="ttname"><a href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a></div><div class="ttdeci">auto drop_begin(T &amp;&amp;RangeOrContainer, size_t N=1)</div><div class="ttdoc">Return a range covering RangeOrContainer with the first N elements excluded.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00386">STLExtras.h:386</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocation_html_accc5dccb020fb7b324fcfb2d221c1a19"><div class="ttname"><a href="classllvm_1_1DILocation.html#accc5dccb020fb7b324fcfb2d221c1a19">llvm::DILocation::getMergedLocation</a></div><div class="ttdeci">static const DILocation * getMergedLocation(const DILocation *LocA, const DILocation *LocB)</div><div class="ttdoc">When two instructions are combined into a single instruction we also need to combine the original loc...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l00108">DebugInfoMetadata.cpp:108</a></div></div>
<div class="ttc" id="aAtomicOrdering_8h_html"><div class="ttname"><a href="AtomicOrdering_8h.html">AtomicOrdering.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MIPatternMatch_html_a00b04b7613c62a52917e1d2467faeab0"><div class="ttname"><a href="namespacellvm_1_1MIPatternMatch.html#a00b04b7613c62a52917e1d2467faeab0">llvm::MIPatternMatch::m_Reg</a></div><div class="ttdeci">operand_type_match m_Reg()</div><div class="ttdef"><b>Definition:</b> <a href="MIPatternMatch_8h_source.html#l00270">MIPatternMatch.h:270</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="astructllvm_1_1LegalizeActionStep_html_a1ad3bef7dbfe7e650af077cede882b93"><div class="ttname"><a href="structllvm_1_1LegalizeActionStep.html#a1ad3bef7dbfe7e650af077cede882b93">llvm::LegalizeActionStep::Action</a></div><div class="ttdeci">LegalizeAction Action</div><div class="ttdoc">The action to take or the final answer.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00144">LegalizerInfo.h:144</a></div></div>
<div class="ttc" id="aLoadStoreOpt_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="LoadStoreOpt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00040">LoadStoreOpt.cpp:40</a></div></div>
<div class="ttc" id="astructllvm_1_1LegalizeActionStep_html"><div class="ttname"><a href="structllvm_1_1LegalizeActionStep.html">llvm::LegalizeActionStep</a></div><div class="ttdoc">The result of a query.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00142">LegalizerInfo.h:142</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac76eb82370e997f967454f441effbbff"><div class="ttname"><a href="namespacellvm.html#ac76eb82370e997f967454f441effbbff">llvm::getIConstantVRegValWithLookThrough</a></div><div class="ttdeci">std::optional&lt; ValueAndVReg &gt; getIConstantVRegValWithLookThrough(Register VReg, const MachineRegisterInfo &amp;MRI, bool LookThroughInstrs=true)</div><div class="ttdoc">If VReg is defined by a statically evaluable chain of instructions rooted on a G_CONSTANT returns its...</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2GlobalISel_2Utils_8cpp_source.html#l00409">Utils.cpp:409</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a0d496cc15e312863869a384532968143"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">llvm::MachineFunction::getMachineMemOperand</a></div><div class="ttdeci">MachineMemOperand * getMachineMemOperand(MachinePointerInfo PtrInfo, MachineMemOperand::Flags f, uint64_t s, Align base_alignment, const AAMDNodes &amp;AAInfo=AAMDNodes(), const MDNode *Ranges=nullptr, SyncScope::ID SSID=SyncScope::System, AtomicOrdering Ordering=AtomicOrdering::NotAtomic, AtomicOrdering FailureOrdering=AtomicOrdering::NotAtomic)</div><div class="ttdoc">getMachineMemOperand - Allocate a new MachineMemOperand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00469">MachineFunction.cpp:469</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GStore_html_ab80d0571fdf63877734e0f7bea4e886b"><div class="ttname"><a href="classllvm_1_1GStore.html#ab80d0571fdf63877734e0f7bea4e886b">llvm::GStore::getValueReg</a></div><div class="ttdeci">Register getValueReg() const</div><div class="ttdoc">Get the stored value register.</div><div class="ttdef"><b>Definition:</b> <a href="GenericMachineInstrs_8h_source.html#l00133">GenericMachineInstrs.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html_a9ebdc17e55980f1a8176d376d9e2a323"><div class="ttname"><a href="classllvm_1_1AAResults.html#a9ebdc17e55980f1a8176d376d9e2a323">llvm::AAResults::isNoAlias</a></div><div class="ttdeci">bool isNoAlias(const MemoryLocation &amp;LocA, const MemoryLocation &amp;LocB)</div><div class="ttdoc">A trivial helper function to check to see if the specified pointers are no-alias.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00348">AliasAnalysis.h:348</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemarkEmitter.html">llvm::MachineOptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00152">MachineOptimizationRemarkEmitter.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html_a67021459c7ef8f9a634b4eac7ffd0f96"><div class="ttname"><a href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">llvm::LLT::scalar</a></div><div class="ttdeci">static constexpr LLT scalar(unsigned SizeInBits)</div><div class="ttdoc">Get a low-level scalar or aggregate &quot;bag of bits&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00042">LowLevelTypeImpl.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html">llvm::MachineFunctionPass</a></div><div class="ttdoc">MachineFunctionPass - This class adapts the FunctionPass interface to allow convenient creation of pa...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8h_source.html#l00030">MachineFunctionPass.h:30</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="aMachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GISelAddressing_html_aca3c98c681ca19d313bad9784ff73852"><div class="ttname"><a href="namespacellvm_1_1GISelAddressing.html#aca3c98c681ca19d313bad9784ff73852">llvm::GISelAddressing::getPointerInfo</a></div><div class="ttdeci">BaseIndexOffset getPointerInfo(Register Ptr, MachineRegisterInfo &amp;MRI)</div><div class="ttdoc">Returns a BaseIndexOffset which describes the pointer in Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00081">LoadStoreOpt.cpp:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a9fffac2512fe651f0d5e37e27f5bd51c"><div class="ttname"><a href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">getContext - Return a reference to the LLVMContext associated with this function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00315">Function.cpp:315</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1GLoadStore_html_a7a93f7892da9c7831d18671d864d9404"><div class="ttname"><a href="classllvm_1_1GLoadStore.html#a7a93f7892da9c7831d18671d864d9404">llvm::GLoadStore::getMemSizeInBits</a></div><div class="ttdeci">uint64_t getMemSizeInBits() const</div><div class="ttdoc">Returns the size in bits of the memory access.</div><div class="ttdef"><b>Definition:</b> <a href="GenericMachineInstrs_8h_source.html#l00063">GenericMachineInstrs.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdoc">A description of a memory reference used in the backend.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00127">MachineMemOperand.h:127</a></div></div>
<div class="ttc" id="aGenericMachineInstrs_8h_html"><div class="ttname"><a href="GenericMachineInstrs_8h.html">GenericMachineInstrs.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a8f5533240c6722d987a2443cba42019d"><div class="ttname"><a href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">llvm::ore::NV</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::Argument NV</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00136">OptimizationRemarkEmitter.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa353f9585311abf1b6f698049f5a29b7"><div class="ttname"><a href="namespacellvm.html#aa353f9585311abf1b6f698049f5a29b7">llvm::getSelectionDAGFallbackAnalysisUsage</a></div><div class="ttdeci">void getSelectionDAGFallbackAnalysisUsage(AnalysisUsage &amp;AU)</div><div class="ttdoc">Modify analysis usage so it preserves passes required for the SelectionDAG fallback.</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2GlobalISel_2Utils_8cpp_source.html#l00895">Utils.cpp:895</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineIRBuilder_html_a4cac2a17ab11d53dd0a49871b80f5c7a"><div class="ttname"><a href="classllvm_1_1MachineIRBuilder.html#a4cac2a17ab11d53dd0a49871b80f5c7a">llvm::MachineIRBuilder::setInstr</a></div><div class="ttdeci">void setInstr(MachineInstr &amp;MI)</div><div class="ttdoc">Set the insertion point to before MI.</div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8h_source.html#l00344">MachineIRBuilder.h:344</a></div></div>
<div class="ttc" id="aLegalizerInfo_8h_html"><div class="ttname"><a href="LegalizerInfo_8h.html">LegalizerInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_ab73c338b3ee33ebf508c7ce7c5ffdf31"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ab73c338b3ee33ebf508c7ce7c5ffdf31">llvm::TargetLoweringBase::canMergeStoresTo</a></div><div class="ttdeci">virtual bool canMergeStoresTo(unsigned AS, EVT MemVT, const MachineFunction &amp;MF) const</div><div class="ttdoc">Returns if it's reasonable to merge stores to MemVT size.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00621">TargetLowering.h:621</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_ae9af76c20e2e99537d18a87df3b57bb9"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#ae9af76c20e2e99537d18a87df3b57bb9">llvm::MemoryLocation::getSizeOrUnknown</a></div><div class="ttdeci">static uint64_t getSizeOrUnknown(const TypeSize &amp;T)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00285">MemoryLocation.h:285</a></div></div>
<div class="ttc" id="anamespacellvm_1_1LegalityPredicates_html_a6fef38ab5d0c9c582fe6cae7d8badf5f"><div class="ttname"><a href="namespacellvm_1_1LegalityPredicates.html#a6fef38ab5d0c9c582fe6cae7d8badf5f">llvm::LegalityPredicates::any</a></div><div class="ttdeci">Predicate any(Predicate P0, Predicate P1)</div><div class="ttdoc">True iff P0 or P1 are true.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00241">LegalizerInfo.h:241</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MIPatternMatch_html_abef0dedc73ed9227d3b97209d619ee72"><div class="ttname"><a href="namespacellvm_1_1MIPatternMatch.html#abef0dedc73ed9227d3b97209d619ee72">llvm::MIPatternMatch::m_GPtrAdd</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, TargetOpcode::G_PTR_ADD, false &gt; m_GPtrAdd(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="MIPatternMatch_8h_source.html#l00470">MIPatternMatch.h:470</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html_a864fd57b4304ef933b3281d0ef85a88e"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00167">MachineFunctionPass.cpp:167</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineIRBuilder_html_af751c28a69e1d07e19dad11e4e26a70d"><div class="ttname"><a href="classllvm_1_1MachineIRBuilder.html#af751c28a69e1d07e19dad11e4e26a70d">llvm::MachineIRBuilder::buildConstant</a></div><div class="ttdeci">virtual MachineInstrBuilder buildConstant(const DstOp &amp;Res, const ConstantInt &amp;Val)</div><div class="ttdoc">Build and insert Res = G_CONSTANT Val.</div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8cpp_source.html#l00302">MachineIRBuilder.cpp:302</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="aLoadStoreOpt_8cpp_html_afcd6d9c14dc4a5e4cf02a728f4bcb47b"><div class="ttname"><a href="LoadStoreOpt_8cpp.html#afcd6d9c14dc4a5e4cf02a728f4bcb47b">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(LoadStoreOpt, DEBUG_TYPE, &quot;Generic memory optimizations&quot;, false, false) INITIALIZE_PASS_END(LoadStoreOpt</div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_afd34773dd33963769279868ab39d5fdc"><div class="ttname"><a href="namespacellvm.html#afd34773dd33963769279868ab39d5fdc">llvm::getLLTForType</a></div><div class="ttdeci">LLT getLLTForType(Type &amp;Ty, const DataLayout &amp;DL)</div><div class="ttdoc">Construct a low-level type based on an LLVM type.</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2LowLevelType_8cpp_source.html#l00020">LowLevelType.cpp:20</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOptimizationRemark_html"><div class="ttname"><a href="classllvm_1_1MachineOptimizationRemark.html">llvm::MachineOptimizationRemark</a></div><div class="ttdoc">Diagnostic information for applied optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOptimizationRemarkEmitter_8h_source.html#l00058">MachineOptimizationRemarkEmitter.h:58</a></div></div>
<div class="ttc" id="aTargetLowering_8h_html"><div class="ttname"><a href="TargetLowering_8h.html">TargetLowering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00294">AliasAnalysis.h:294</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdoc">Extended Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00034">ValueTypes.h:34</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aCodeGen_2GlobalISel_2Utils_8h_html"><div class="ttname"><a href="CodeGen_2GlobalISel_2Utils_8h.html">Utils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_acc5e979e3fa3c222553de9b741c3e12b"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#acc5e979e3fa3c222553de9b741c3e12b">llvm::MachineFunction::getProperties</a></div><div class="ttdeci">const MachineFunctionProperties &amp; getProperties() const</div><div class="ttdoc">Get the function properties.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00763">MachineFunction.h:763</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdeci">@ Store</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00033">SparcInstrInfo.h:33</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1GLoadStore_html_a820024b66b03527e3ea6fd53d604c682"><div class="ttname"><a href="classllvm_1_1GLoadStore.html#a820024b66b03527e3ea6fd53d604c682">llvm::GLoadStore::isSimple</a></div><div class="ttdeci">bool isSimple() const</div><div class="ttdoc">Returns true if the memory operation is neither atomic or volatile.</div><div class="ttdef"><b>Definition:</b> <a href="GenericMachineInstrs_8h_source.html#l00054">GenericMachineInstrs.h:54</a></div></div>
<div class="ttc" id="aTargetOpcodes_8h_html"><div class="ttname"><a href="TargetOpcodes_8h.html">TargetOpcodes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html_a3989251b1a714fc8296685f77eac6e87"><div class="ttname"><a href="classllvm_1_1LLT.html#a3989251b1a714fc8296685f77eac6e87">llvm::LLT::isScalar</a></div><div class="ttdeci">constexpr bool isScalar() const</div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00123">LowLevelTypeImpl.h:123</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadStoreOpt_html"><div class="ttname"><a href="classllvm_1_1LoadStoreOpt.html">llvm::LoadStoreOpt</a></div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8h_source.html#l00062">LoadStoreOpt.h:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00075">BitVector.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_ae6e7e975f7a4e5d535be32068a7c67df"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ae6e7e975f7a4e5d535be32068a7c67df">llvm::MachineFrameInfo::isFixedObjectIndex</a></div><div class="ttdeci">bool isFixedObjectIndex(int ObjectIdx) const</div><div class="ttdoc">Returns true if the specified index corresponds to a fixed stack object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00688">MachineFrameInfo.h:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1GLoadStore_html_a0a7fb170c5d3165c1a9f3cf5fee5b4ca"><div class="ttname"><a href="classllvm_1_1GLoadStore.html#a0a7fb170c5d3165c1a9f3cf5fee5b4ca">llvm::GLoadStore::getPointerReg</a></div><div class="ttdeci">Register getPointerReg() const</div><div class="ttdoc">Get the source register of the pointer value.</div><div class="ttdef"><b>Definition:</b> <a href="GenericMachineInstrs_8h_source.html#l00044">GenericMachineInstrs.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1LegalizeActions_html_a834a0e3032e20fe88a0c931e8f246654a167074ba3b742859ff5dbe464381e107"><div class="ttname"><a href="namespacellvm_1_1LegalizeActions.html#a834a0e3032e20fe88a0c931e8f246654a167074ba3b742859ff5dbe464381e107">llvm::LegalizeActions::Legal</a></div><div class="ttdeci">@ Legal</div><div class="ttdoc">The operation is expected to be selectable directly by the target, and no transformation is necessary...</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00046">LegalizerInfo.h:46</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a1c5fadb14ff1d77faad0cb58a43252ab"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a1c5fadb14ff1d77faad0cb58a43252ab">llvm::MachineInstrBuilder::getReg</a></div><div class="ttdeci">Register getReg(unsigned Idx) const</div><div class="ttdoc">Get the register for the operand index.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00094">MachineInstrBuilder.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html_a956ffd0de93798f523683b447646dd92"><div class="ttname"><a href="classllvm_1_1LLT.html#a956ffd0de93798f523683b447646dd92">llvm::LLT::getSizeInBits</a></div><div class="ttdeci">constexpr TypeSize getSizeInBits() const</div><div class="ttdoc">Returns the total size of the type. Must only be called on sized types.</div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00159">LowLevelTypeImpl.h:159</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aMachineOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="MachineOptimizationRemarkEmitter_8h.html">MachineOptimizationRemarkEmitter.h</a></div><div class="ttdoc">===- MachineOptimizationRemarkEmitter.h - Opt Diagnostics -*- C++ -*-—===//</div></div>
<div class="ttc" id="astructllvm_1_1GISelAddressing_1_1BaseIndexOffset_html_a3531613a27069d849bd4a70853101013"><div class="ttname"><a href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#a3531613a27069d849bd4a70853101013">llvm::GISelAddressing::BaseIndexOffset::BaseReg</a></div><div class="ttdeci">Register BaseReg</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8h_source.html#l00037">LoadStoreOpt.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1GStore_html"><div class="ttname"><a href="classllvm_1_1GStore.html">llvm::GStore</a></div><div class="ttdoc">Represents a G_STORE.</div><div class="ttdef"><b>Definition:</b> <a href="GenericMachineInstrs_8h_source.html#l00130">GenericMachineInstrs.h:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ae8ff2acea4fe63e48e8fc6cf0620ff78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">llvm::MachineInstr::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Returns the debug location id of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00445">MachineInstr.h:445</a></div></div>
<div class="ttc" id="aLoadStoreOpt_8cpp_html_a0beb79573244bd1be016002fc55d7372"><div class="ttname"><a href="LoadStoreOpt_8cpp.html#a0beb79573244bd1be016002fc55d7372">optimizations</a></div><div class="ttdeci">Generic memory optimizations</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00053">LoadStoreOpt.cpp:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IRSimilarity_html_af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d"><div class="ttname"><a href="namespacellvm_1_1IRSimilarity.html#af46430106334db52bfa7a4107e53a0bda8f7357506e00d8cd0694f948f909865d">llvm::IRSimilarity::Legal</a></div><div class="ttdeci">@ Legal</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00077">IRSimilarityIdentifier.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a80b305b278aa0e04f80312e15b2b6d54"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">llvm::TargetLoweringBase::isTypeLegal</a></div><div class="ttdeci">bool isTypeLegal(EVT VT) const</div><div class="ttdoc">Return true if the target has native support for the specified value type.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00942">TargetLowering.h:942</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00652">GlobalValue.h:652</a></div></div>
<div class="ttc" id="aAArch64PromoteConstant_8cpp_html_a90f8350fecae261c25be85d38b451bff"><div class="ttname"><a href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></div><div class="ttdeci">aarch64 promote const</div><div class="ttdef"><b>Definition:</b> <a href="AArch64PromoteConstant_8cpp_source.html#l00232">AArch64PromoteConstant.cpp:232</a></div></div>
<div class="ttc" id="aLoadStoreOpt_8h_html"><div class="ttname"><a href="LoadStoreOpt_8h.html">LoadStoreOpt.h</a></div></div>
<div class="ttc" id="aMemoryLocation_8h_html"><div class="ttname"><a href="MemoryLocation_8h.html">MemoryLocation.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a33880aaca0ad05e5f1557f079305bde5"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">llvm::details::FixedOrScalableQuantity::getFixedValue</a></div><div class="ttdeci">constexpr ScalarTy getFixedValue() const</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00182">TypeSize.h:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a3d142c9e7c066059e15232c56dec9e2e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">llvm::MachineFunction::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">getName - Return the name of the corresponding LLVM function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00582">MachineFunction.cpp:582</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aLoadStoreOpt_8cpp_html_aea277b91596b7659f1c1c102bd974f56"><div class="ttname"><a href="LoadStoreOpt_8cpp.html#aea277b91596b7659f1c1c102bd974f56">isInstHardMergeHazard</a></div><div class="ttdeci">static bool isInstHardMergeHazard(MachineInstr &amp;MI)</div><div class="ttdoc">Returns true if the instruction creates an unavoidable hazard that forces a boundary between store me...</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00285">LoadStoreOpt.cpp:285</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizerInfo_html_af3687eafb2772c29aa67ce722c2081fd"><div class="ttname"><a href="classllvm_1_1LegalizerInfo.html#af3687eafb2772c29aa67ce722c2081fd">llvm::LegalizerInfo::getAction</a></div><div class="ttdeci">LegalizeActionStep getAction(const LegalityQuery &amp;Query) const</div><div class="ttdoc">Determine what action should be taken to legalize the described instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8cpp_source.html#l00319">LegalizerInfo.cpp:319</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="astructllvm_1_1LegalityQuery_html"><div class="ttname"><a href="structllvm_1_1LegalityQuery.html">llvm::LegalityQuery</a></div><div class="ttdoc">The LegalityQuery object bundles together all the information that's needed to decide whether a given...</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00108">LegalizerInfo.h:108</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadStoreOpt_html_a10b1fad0bdf2c2c087cf4d1667af5de7"><div class="ttname"><a href="classllvm_1_1LoadStoreOpt.html#a10b1fad0bdf2c2c087cf4d1667af5de7">llvm::LoadStoreOpt::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8h_source.html#l00064">LoadStoreOpt.h:64</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="anamespacellvm_html_a153c598af168d0fdebb2942614ce4784"><div class="ttname"><a href="namespacellvm.html#a153c598af168d0fdebb2942614ce4784">llvm::getApproximateEVTForLLT</a></div><div class="ttdeci">EVT getApproximateEVTForLLT(LLT Ty, const DataLayout &amp;DL, LLVMContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2LowLevelType_8cpp_source.html#l00054">LowLevelType.cpp:54</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GISelAddressing_html_ada859501cbde2153a4e7fd7a19a7f682"><div class="ttname"><a href="namespacellvm_1_1GISelAddressing.html#ada859501cbde2153a4e7fd7a19a7f682">llvm::GISelAddressing::instMayAlias</a></div><div class="ttdeci">bool instMayAlias(const MachineInstr &amp;MI, const MachineInstr &amp;Other, MachineRegisterInfo &amp;MRI, AliasAnalysis *AA)</div><div class="ttdoc">Returns true if the instruction MI may alias Other.</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00188">LoadStoreOpt.cpp:188</a></div></div>
<div class="ttc" id="aregcomp_8c_html_ace441594c4bd8da94fd64b1c612ca948"><div class="ttname"><a href="regcomp_8c.html#ace441594c4bd8da94fd64b1c612ca948">MORE</a></div><div class="ttdeci">#define MORE()</div><div class="ttdef"><b>Definition:</b> <a href="regcomp_8c_source.html#l00252">regcomp.c:252</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadStoreOpt_html_a7ae5b3f0f09b54338a470c68e36e5322"><div class="ttname"><a href="classllvm_1_1LoadStoreOpt.html#a7ae5b3f0f09b54338a470c68e36e5322">llvm::LoadStoreOpt::LoadStoreOpt</a></div><div class="ttdeci">LoadStoreOpt()</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00059">LoadStoreOpt.cpp:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadStoreOpt_html_ae574eef8202ccd989fd0453675b956ca"><div class="ttname"><a href="classllvm_1_1LoadStoreOpt.html#ae574eef8202ccd989fd0453675b956ca">llvm::LoadStoreOpt::runOnMachineFunction</a></div><div class="ttdeci">bool runOnMachineFunction(MachineFunction &amp;MF) override</div><div class="ttdoc">runOnMachineFunction - This method must be overloaded to perform the desired machine code transformat...</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00660">LoadStoreOpt.cpp:660</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a83542282781b52068dd4e4f22890a07c"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a83542282781b52068dd4e4f22890a07c">llvm::TargetSubtargetInfo::getLegalizerInfo</a></div><div class="ttdeci">virtual const LegalizerInfo * getLegalizerInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00123">TargetSubtargetInfo.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_ad85237c6c667e4713efe8921e9c32ac1a8014afd87e04236365d1796e38bc15f5"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a8014afd87e04236365d1796e38bc15f5">llvm::MachineFunctionProperties::Property::FailedISel</a></div><div class="ttdeci">@ FailedISel</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MIPatternMatch_html_a316dd9aa25d9ec9d6d21b56e4296e824"><div class="ttname"><a href="namespacellvm_1_1MIPatternMatch.html#a316dd9aa25d9ec9d6d21b56e4296e824">llvm::MIPatternMatch::m_ICst</a></div><div class="ttdeci">ConstantMatch&lt; APInt &gt; m_ICst(APInt &amp;Cst)</div><div class="ttdef"><b>Definition:</b> <a href="MIPatternMatch_8h_source.html#l00093">MIPatternMatch.h:93</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdoc">Set by analyses that do not transform their input at all.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00130">PassAnalysisSupport.h:130</a></div></div>
<div class="ttc" id="aMachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="astructllvm_1_1GISelAddressing_1_1BaseIndexOffset_html_aaf5fc8996c29f10d8a14129343bafa0d"><div class="ttname"><a href="structllvm_1_1GISelAddressing_1_1BaseIndexOffset.html#aaf5fc8996c29f10d8a14129343bafa0d">llvm::GISelAddressing::BaseIndexOffset::Offset</a></div><div class="ttdeci">int64_t Offset</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8h_source.html#l00039">LoadStoreOpt.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae22967d11b695d268992470debfae4b2"><div class="ttname"><a href="namespacellvm.html#ae22967d11b695d268992470debfae4b2">llvm::bit_floor</a></div><div class="ttdeci">T bit_floor(T Value)</div><div class="ttdoc">Returns the largest integral power of two no greater than Value if Value is nonzero.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00291">bit.h:291</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">llvm::AArch64CC::LS</a></div><div class="ttdeci">@ LS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00264">AArch64BaseInfo.h:264</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_adc01a7457de85fc52a3bb860d7e1c6a4"><div class="ttname"><a href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">llvm::Type::getPointerTo</a></div><div class="ttdeci">PointerType * getPointerTo(unsigned AddrSpace=0) const</div><div class="ttdoc">Return a pointer to the current type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00776">Type.cpp:776</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GISelAddressing_html_a140cb977d5598588fb9e0079cd1aabf9"><div class="ttname"><a href="namespacellvm_1_1GISelAddressing.html#a140cb977d5598588fb9e0079cd1aabf9">llvm::GISelAddressing::aliasIsKnownForLoadStore</a></div><div class="ttdeci">bool aliasIsKnownForLoadStore(const MachineInstr &amp;MI1, const MachineInstr &amp;MI2, bool &amp;IsAlias, MachineRegisterInfo &amp;MRI)</div><div class="ttdoc">Compute whether or not a memory access at MI1 aliases with an access at MI2.</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00103">LoadStoreOpt.cpp:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html_ac33fa4c8cfeb9287f51f95404a459de8"><div class="ttname"><a href="classllvm_1_1LLT.html#ac33fa4c8cfeb9287f51f95404a459de8">llvm::LLT::getAddressSpace</a></div><div class="ttdeci">constexpr unsigned getAddressSpace() const</div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00247">LowLevelTypeImpl.h:247</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aLoadStoreOpt_8cpp_html_a46a02f90f5805236adeebe0b97b4bd08"><div class="ttname"><a href="LoadStoreOpt_8cpp.html#a46a02f90f5805236adeebe0b97b4bd08">MaxStoreSizeToForm</a></div><div class="ttdeci">const unsigned MaxStoreSizeToForm</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00048">LoadStoreOpt.cpp:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">The MachineFrameInfo class represents an abstract stack frame until prolog/epilog code is inserted.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00106">MachineFrameInfo.h:106</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a129ede6f18326075504d4bd0439fd517"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a129ede6f18326075504d4bd0439fd517">llvm::TargetSubtargetInfo::getTargetLowering</a></div><div class="ttdeci">virtual const TargetLowering * getTargetLowering() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00099">TargetSubtargetInfo.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5dc0a32516ce31f495b440d47287028b"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5dc0a32516ce31f495b440d47287028b">llvm::MachineRegisterInfo::getType</a></div><div class="ttdeci">LLT getType(Register Reg) const</div><div class="ttdoc">Get the low-level type of Reg or LLT{} if Reg is not a generic (target independent) virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00759">MachineRegisterInfo.h:759</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a4a6966b99e305bd6f01fb17c645ae3da"><div class="ttname"><a href="classllvm_1_1Register.html#a4a6966b99e305bd6f01fb17c645ae3da">llvm::Register::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00126">Register.h:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResultsWrapperPass_html"><div class="ttname"><a href="classllvm_1_1AAResultsWrapperPass.html">llvm::AAResultsWrapperPass</a></div><div class="ttdoc">A wrapper pass to provide the legacy pass manager access to a suitably prepared AAResults object.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00933">AliasAnalysis.h:933</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html_ae456a811703836ee5d9e32c3e51a15b6"><div class="ttname"><a href="classllvm_1_1LLT.html#ae456a811703836ee5d9e32c3e51a15b6">llvm::LLT::getSizeInBytes</a></div><div class="ttdeci">constexpr TypeSize getSizeInBytes() const</div><div class="ttdoc">Returns the total size of the type in bytes, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00169">LowLevelTypeImpl.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1GLoadStore_html_a2aaf791aa3564d53adefabc2e145234c"><div class="ttname"><a href="classllvm_1_1GLoadStore.html#a2aaf791aa3564d53adefabc2e145234c">llvm::GLoadStore::getMMO</a></div><div class="ttdeci">MachineMemOperand &amp; getMMO() const</div><div class="ttdoc">Get the MachineMemOperand on this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="GenericMachineInstrs_8h_source.html#l00047">GenericMachineInstrs.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadStoreOpt_html_a2d9b6f1892dc9fc078273cf43fe05e0e"><div class="ttname"><a href="classllvm_1_1LoadStoreOpt.html#a2d9b6f1892dc9fc078273cf43fe05e0e">llvm::LoadStoreOpt::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - This function should be overriden by passes that need analysis information to do t...</div><div class="ttdef"><b>Definition:</b> <a href="LoadStoreOpt_8cpp_source.html#l00074">LoadStoreOpt.cpp:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1LegalizeActions_html_a834a0e3032e20fe88a0c931e8f246654a47383e4f532d33bd4f45d182896d7c17"><div class="ttname"><a href="namespacellvm_1_1LegalizeActions.html#a834a0e3032e20fe88a0c931e8f246654a47383e4f532d33bd4f45d182896d7c17">llvm::LegalizeActions::Unsupported</a></div><div class="ttdeci">@ Unsupported</div><div class="ttdoc">This operation is completely unsupported on the target.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00090">LegalizerInfo.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a6d883605206368bc536cc9ded97209b8"><div class="ttname"><a href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">llvm::Module::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdoc">Get the data layout for the module's target platform.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00398">Module.cpp:398</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aRegister_8h_html"><div class="ttname"><a href="Register_8h.html">Register.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MIPatternMatch_html_aa9bd186f4281a367fb872d17d0e7728b"><div class="ttname"><a href="namespacellvm_1_1MIPatternMatch.html#aa9bd186f4281a367fb872d17d0e7728b">llvm::MIPatternMatch::mi_match</a></div><div class="ttdeci">bool mi_match(Reg R, const MachineRegisterInfo &amp;MRI, Pattern &amp;&amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="MIPatternMatch_8h_source.html#l00025">MIPatternMatch.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineIRBuilder_html_a87a7405685118d45876c996318829ceb"><div class="ttname"><a href="classllvm_1_1MachineIRBuilder.html#a87a7405685118d45876c996318829ceb">llvm::MachineIRBuilder::buildStore</a></div><div class="ttdeci">MachineInstrBuilder buildStore(const SrcOp &amp;Val, const SrcOp &amp;Addr, MachineMemOperand &amp;MMO)</div><div class="ttdoc">Build and insert G_STORE Val, Addr, MMO.</div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8cpp_source.html#l00434">MachineIRBuilder.cpp:434</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#acbc7b47726e2b8ac2f0851d839c24da9a33f7f25590a5334874e8a114e6f5e55f">llvm::MemoryLocation::UnknownSize</a></div><div class="ttdeci">@ UnknownSize</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00216">MemoryLocation.h:216</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7a56a57d29a3f9dda8671b4d6490a94b08"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a56a57d29a3f9dda8671b4d6490a94b08">llvm::AtomicOrdering::NotAtomic</a></div><div class="ttdeci">@ NotAtomic</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html">llvm::MemoryLocation</a></div><div class="ttdoc">Representation for a specific memory location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00211">MemoryLocation.h:211</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a396fcfee6914c76974b73c3d203da6a5"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">llvm::SmallVectorImpl::emplace_back</a></div><div class="ttdeci">reference emplace_back(ArgTypes &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00941">SmallVector.h:941</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionProperties_html_ad85237c6c667e4713efe8921e9c32ac1aefa6e814420e5fc1dfad353869159a37"><div class="ttname"><a href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1aefa6e814420e5fc1dfad353869159a37">llvm::MachineFunctionProperties::Property::Legalized</a></div><div class="ttdeci">@ Legalized</div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html"><div class="ttname"><a href="classllvm_1_1LLT.html">llvm::LLT</a></div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00039">LowLevelTypeImpl.h:39</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:52:39 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
