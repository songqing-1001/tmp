<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Instrumentation/DataFlowSanitizer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_f844fca3b2393802daa002d01dc8623e.html">Instrumentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DataFlowSanitizer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="DataFlowSanitizer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- DataFlowSanitizer.cpp - dynamic data flow analysis -----------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// This file is a part of DataFlowSanitizer, a generalised dynamic data flow</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// analysis.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/// Unlike other Sanitizer tools, this tool is not designed to detect a specific</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/// class of bugs on its own.  Instead, it provides a generic dynamic data flow</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/// analysis framework to be used by clients to help detect application-specific</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/// issues within their own code.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// The analysis is based on automatic propagation of data flow labels (also</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/// known as taint labels) through a program as it performs computation.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/// Argument and return value labels are passed through TLS variables</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/// __dfsan_arg_tls and __dfsan_retval_tls.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/// Each byte of application memory is backed by a shadow memory byte. The</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/// shadow byte can represent up to 8 labels. On Linux/x86_64, memory is then</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/// laid out as follows:</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/// +--------------------+ 0x800000000000 (top of memory)</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// |    application 3   |</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/// +--------------------+ 0x700000000000</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/// |      invalid       |</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/// +--------------------+ 0x610000000000</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/// |      origin 1      |</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/// +--------------------+ 0x600000000000</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/// |    application 2   |</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/// +--------------------+ 0x510000000000</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/// |      shadow 1      |</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/// +--------------------+ 0x500000000000</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/// |      invalid       |</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/// +--------------------+ 0x400000000000</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/// |      origin 3      |</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/// +--------------------+ 0x300000000000</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/// |      shadow 3      |</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/// +--------------------+ 0x200000000000</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/// |      origin 2      |</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/// +--------------------+ 0x110000000000</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/// |      invalid       |</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/// +--------------------+ 0x100000000000</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/// |      shadow 2      |</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/// +--------------------+ 0x010000000000</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/// |    application 1   |</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">/// +--------------------+ 0x000000000000</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/// MEM_TO_SHADOW(mem) = mem ^ 0x500000000000</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/// SHADOW_TO_ORIGIN(shadow) = shadow + 0x100000000000</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/// For more information, please refer to the design document:</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/// http://clang.llvm.org/docs/DataFlowSanitizerDesign.html</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataFlowSanitizer_8h.html">llvm/Transforms/Instrumentation/DataFlowSanitizer.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DepthFirstIterator_8h.html">llvm/ADT/DepthFirstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringSet_8h.html">llvm/ADT/StringSet.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="iterator_8h.html">llvm/ADT/iterator.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalsModRef_8h.html">llvm/Analysis/GlobalsModRef.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Argument_8h.html">llvm/IR/Argument.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalValue_8h.html">llvm/IR/GlobalValue.h</a>&quot;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstVisitor_8h.html">llvm/IR/InstVisitor.h</a>&quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MDBuilder_8h.html">llvm/IR/MDBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Alignment_8h.html">llvm/Support/Alignment.h</a>&quot;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SpecialCaseList_8h.html">llvm/Support/SpecialCaseList.h</a>&quot;</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VirtualFileSystem_8h.html">llvm/Support/VirtualFileSystem.h</a>&quot;</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Triple_8h.html">llvm/TargetParser/Triple.h</a>&quot;</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instrumentation_8h.html">llvm/Transforms/Instrumentation.h</a>&quot;</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">// This must be consistent with ShadowWidthBits.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#a759b4bcc28d4cadef20a7b40af3cebce">  123</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a759b4bcc28d4cadef20a7b40af3cebce">ShadowTLSAlignment</a> = <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(2);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#a3d392a14b38e5ca75d7cb0390bd7fc43">  125</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a3d392a14b38e5ca75d7cb0390bd7fc43">MinOriginAlignment</a> = <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">// The size of TLS variables. These constants must be kept in sync with the ones</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">// in dfsan.cpp.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#ad30c696cca6f4b772507385a14bbfdfe">  129</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="DataFlowSanitizer_8cpp.html#ad30c696cca6f4b772507385a14bbfdfe">ArgTLSSize</a> = 800;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#ae113878cee8d330c91e109f381fe6d2b">  130</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="DataFlowSanitizer_8cpp.html#ae113878cee8d330c91e109f381fe6d2b">RetvalTLSSize</a> = 800;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">// The -dfsan-preserve-alignment flag controls whether this pass assumes that</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">// alignment requirements provided by the input IR are correct.  For example,</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">// if the input IR contains a load with alignment 8, this flag will cause</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">// the shadow load to have alignment 16.  This flag is disabled by default as</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">// we have unfortunately encountered too much code (including Clang itself;</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">// see PR14291) which performs misaligned access.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a9fba3ba3792fba1de1c0143064224336">ClPreserveAlignment</a>(</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="stringliteral">&quot;dfsan-preserve-alignment&quot;</span>,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;respect alignment requirements provided by input IR&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">// The ABI list files control how shadow parameters are passed. The pass treats</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">// every function labelled &quot;uninstrumented&quot; in the ABI list file as conforming</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// to the &quot;native&quot; (i.e. unsanitized) ABI.  Unless the ABI list contains</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// additional annotations for those functions, a call to one of those functions</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// will produce a warning message, as the labelling behaviour of the function is</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// unknown. The other supported annotations for uninstrumented functions are</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">// &quot;functional&quot; and &quot;discard&quot;, which are described below under</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">// DataFlowSanitizer::WrapperKind.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">// Functions will often be labelled with both &quot;uninstrumented&quot; and one of</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">// &quot;functional&quot; or &quot;discard&quot;. This will leave the function unchanged by this</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">// pass, and create a wrapper function that will call the original.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">// Instrumented functions can also be annotated as &quot;force_zero_labels&quot;, which</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">// will make all shadow and return values set zero labels.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">// Functions should never be labelled with both &quot;force_zero_labels&quot; and</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">// &quot;uninstrumented&quot; or any of the unistrumented wrapper kinds.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1list.html">cl::list&lt;std::string&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#acd6b5c06e9f9c7a0d2866ce2552ac1f5">ClABIListFiles</a>(</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="stringliteral">&quot;dfsan-abilist&quot;</span>,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;File listing native ABI functions and how the pass treats them&quot;</span>),</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">// Controls whether the pass includes or ignores the labels of pointers in load</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">// instructions.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#ab99441651669debbd9522db67c8228d7">ClCombinePointerLabelsOnLoad</a>(</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="stringliteral">&quot;dfsan-combine-pointer-labels-on-load&quot;</span>,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Combine the label of the pointer with the label of the data when &quot;</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;             <span class="stringliteral">&quot;loading from memory.&quot;</span>),</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">// Controls whether the pass includes or ignores the labels of pointers in</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">// stores instructions.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a8212d89e2d2123229f71bef6ea3db783">ClCombinePointerLabelsOnStore</a>(</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="stringliteral">&quot;dfsan-combine-pointer-labels-on-store&quot;</span>,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Combine the label of the pointer with the label of the data when &quot;</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;             <span class="stringliteral">&quot;storing in memory.&quot;</span>),</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">// Controls whether the pass propagates labels of offsets in GEP instructions.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#aeb4ce089858cf608852548f178254c90">ClCombineOffsetLabelsOnGEP</a>(</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="stringliteral">&quot;dfsan-combine-offset-labels-on-gep&quot;</span>,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="stringliteral">&quot;Combine the label of the offset with the label of the pointer when &quot;</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="stringliteral">&quot;doing pointer arithmetic.&quot;</span>),</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1list.html">cl::list&lt;std::string&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a0d10b74b1e24775d8e69e424b6c9dd49">ClCombineTaintLookupTables</a>(</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="stringliteral">&quot;dfsan-combine-taint-lookup-table&quot;</span>,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="stringliteral">&quot;When dfsan-combine-offset-labels-on-gep and/or &quot;</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="stringliteral">&quot;dfsan-combine-pointer-labels-on-load are false, this flag can &quot;</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="stringliteral">&quot;be used to re-enable combining offset and/or pointer taint when &quot;</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="stringliteral">&quot;loading specific constant global variables (i.e. lookup tables).&quot;</span>),</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a69644a7eea491dc2e57182f69d045126">ClDebugNonzeroLabels</a>(</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="stringliteral">&quot;dfsan-debug-nonzero-labels&quot;</span>,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Insert calls to __dfsan_nonzero_label on observing a parameter, &quot;</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;             <span class="stringliteral">&quot;load or return with a nonzero label&quot;</span>),</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">// Experimental feature that inserts callbacks for certain data events.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">// Currently callbacks are only inserted for loads, stores, memory transfers</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">// (i.e. memcpy and memmove), and comparisons.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">// If this flag is set to true, the user must provide definitions for the</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">// following callback functions:</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">//   void __dfsan_load_callback(dfsan_label Label, void* addr);</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">//   void __dfsan_store_callback(dfsan_label Label, void* addr);</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">//   void __dfsan_mem_transfer_callback(dfsan_label *Start, size_t Len);</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">//   void __dfsan_cmp_callback(dfsan_label CombinedLabel);</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#aaa66c8024e3a858cfbddba0226a6521b">ClEventCallbacks</a>(</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="stringliteral">&quot;dfsan-event-callbacks&quot;</span>,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Insert calls to __dfsan_*_callback functions on data events.&quot;</span>),</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">// Experimental feature that inserts callbacks for conditionals, including:</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">// conditional branch, switch, select.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">// This must be true for dfsan_set_conditional_callback() to have effect.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#aebf1fb9cbd5daf4f6037d02667505c79">ClConditionalCallbacks</a>(</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="stringliteral">&quot;dfsan-conditional-callbacks&quot;</span>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Insert calls to callback functions on conditionals.&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">// Experimental feature that inserts callbacks for data reaching a function,</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">// either via function arguments and loads.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">// This must be true for dfsan_set_reaches_function_callback() to have effect.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#af29b5662580048d22b33ad5a169ae57e">ClReachesFunctionCallbacks</a>(</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="stringliteral">&quot;dfsan-reaches-function-callbacks&quot;</span>,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Insert calls to callback functions on data reaching a function.&quot;</span>),</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">// Controls whether the pass tracks the control flow of select instructions.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a5d090682633d3a23499d4477d103fff3">ClTrackSelectControlFlow</a>(</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="stringliteral">&quot;dfsan-track-select-control-flow&quot;</span>,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Propagate labels from condition values of select instructions &quot;</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;             <span class="stringliteral">&quot;to results.&quot;</span>),</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">// TODO: This default value follows MSan. DFSan may use a different value.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#afe2a9a7d41ee8ed52440de90abd14aaf">ClInstrumentWithCallThreshold</a>(</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="stringliteral">&quot;dfsan-instrument-with-call-threshold&quot;</span>,</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;If the function being instrumented requires more than &quot;</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;             <span class="stringliteral">&quot;this number of origin stores, use callbacks instead of &quot;</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;             <span class="stringliteral">&quot;inline checks (-1 means never use callbacks).&quot;</span>),</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(3500));</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">// Controls how to track origins.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// * 0: do not track origins.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// * 1: track origins at memory store operations.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">// * 2: track origins at memory load and store operations.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">//      TODO: track callsites.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a5b7bd5454a3884ed4ca707e9a238774e">ClTrackOrigins</a>(<span class="stringliteral">&quot;dfsan-track-origins&quot;</span>,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                   <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Track origins of labels&quot;</span>),</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                   <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(0));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a41cc1665f91164935c2373e033440acc">ClIgnorePersonalityRoutine</a>(</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="stringliteral">&quot;dfsan-ignore-personality-routine&quot;</span>,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;If a personality routine is marked uninstrumented from the ABI &quot;</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;             <span class="stringliteral">&quot;list, do not create a wrapper for it.&quot;</span>),</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#aafbb4f3753798fa39d502a598631ac9e">  264</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="DataFlowSanitizer_8cpp.html#aafbb4f3753798fa39d502a598631ac9e">getGlobalTypeString</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// Types of GlobalVariables are always pointer types.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *GType = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getValueType();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// For now we support excluding struct types only.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *SGType = dyn_cast&lt;StructType&gt;(GType)) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (!SGType-&gt;isLiteral())</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">return</span> SGType-&gt;getName();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;unknown type&gt;&quot;</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">// Memory map parameters used in application-to-shadow address calculation.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">// Offset = (Addr &amp; ~AndMask) ^ XorMask</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">// Shadow = ShadowBase + Offset</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">// Origin = (OriginBase + Offset) &amp; ~3ULL</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keyword">struct </span>MemoryMapParams {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AndMask;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> XorMask;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShadowBase;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> OriginBase;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;};</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">// NOLINTBEGIN(readability-identifier-naming)</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">// aarch64 Linux</span></div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#a917f7b6819b115f7783119d89d6ef0bc">  292</a></span>&#160;<span class="keyword">const</span> MemoryMapParams <a class="code" href="DataFlowSanitizer_8cpp.html#a917f7b6819b115f7783119d89d6ef0bc">Linux_AArch64_MemoryMapParams</a> = {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    0,               <span class="comment">// AndMask (not used)</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    0x0B00000000000, <span class="comment">// XorMask</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    0,               <span class="comment">// ShadowBase (not used)</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    0x0200000000000, <span class="comment">// OriginBase</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;};</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">// x86_64 Linux</span></div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#a086e31f131abbdc6591adafb6f984c6d">  300</a></span>&#160;<span class="keyword">const</span> MemoryMapParams <a class="code" href="DataFlowSanitizer_8cpp.html#a086e31f131abbdc6591adafb6f984c6d">Linux_X86_64_MemoryMapParams</a> = {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    0,              <span class="comment">// AndMask (not used)</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    0x500000000000, <span class="comment">// XorMask</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    0,              <span class="comment">// ShadowBase (not used)</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    0x100000000000, <span class="comment">// OriginBase</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;};</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">// NOLINTEND(readability-identifier-naming)</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keyword">class </span>DFSanABIList {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  std::unique_ptr&lt;SpecialCaseList&gt; SCL;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  DFSanABIList() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a9a315d042512705500b545a6c6acb2bd">set</a>(std::unique_ptr&lt;SpecialCaseList&gt; List) { SCL = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(List); }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">  /// Returns whether either this function or its source file are listed in the</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">  /// given category.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isIn(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Category)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">return</span> isIn(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent(), Category) ||</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;           SCL-&gt;inSection(<span class="stringliteral">&quot;dataflow&quot;</span>, <span class="stringliteral">&quot;fun&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName(), Category);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">  /// Returns whether this global alias is listed in the given category.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">  /// If GA aliases a function, the alias&#39;s name is matched as a function name</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">  /// would be.  Similarly, aliases of globals are matched like globals.</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isIn(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> &amp;GA, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Category)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (isIn(*GA.<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>(), Category))</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (isa&lt;FunctionType&gt;(GA.<a class="code" href="classllvm_1_1GlobalValue.html#a29e0b1c558b350347e2652b35b26fea8">getValueType</a>()))</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">return</span> SCL-&gt;inSection(<span class="stringliteral">&quot;dataflow&quot;</span>, <span class="stringliteral">&quot;fun&quot;</span>, GA.<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>(), Category);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">return</span> SCL-&gt;inSection(<span class="stringliteral">&quot;dataflow&quot;</span>, <span class="stringliteral">&quot;global&quot;</span>, GA.<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>(), Category) ||</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;           SCL-&gt;inSection(<span class="stringliteral">&quot;dataflow&quot;</span>, <span class="stringliteral">&quot;type&quot;</span>, <a class="code" href="DataFlowSanitizer_8cpp.html#aafbb4f3753798fa39d502a598631ac9e">getGlobalTypeString</a>(GA),</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                          Category);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">  /// Returns whether this module is listed in the given category.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isIn(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Category)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">return</span> SCL-&gt;inSection(<span class="stringliteral">&quot;dataflow&quot;</span>, <span class="stringliteral">&quot;src&quot;</span>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleIdentifier(), Category);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;};</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">/// TransformedFunction is used to express the result of transforming one</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">/// function type into another.  This struct is immutable.  It holds metadata</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">/// useful for updating calls of the old function to the new type.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"></span><span class="keyword">struct </span>TransformedFunction {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  TransformedFunction(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *OriginalType, <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *TransformedType,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                      std::vector&lt;unsigned&gt; ArgumentIndexMapping)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      : OriginalType(OriginalType), TransformedType(TransformedType),</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        ArgumentIndexMapping(ArgumentIndexMapping) {}</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// Disallow copies.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  TransformedFunction(<span class="keyword">const</span> TransformedFunction &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  TransformedFunction &amp;operator=(<span class="keyword">const</span> TransformedFunction &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// Allow moves.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  TransformedFunction(TransformedFunction &amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  TransformedFunction &amp;operator=(TransformedFunction &amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">  /// Type of the function before the transformation.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *OriginalType;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">  /// Type of the function after the transformation.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *TransformedType;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">  /// Transforming a function may change the position of arguments.  This</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">  /// member records the mapping from each argument&#39;s old position to its new</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">  /// position.  Argument positions are zero-indexed.  If the transformation</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">  /// from F to F&#39; made the first argument of F into the third argument of F&#39;,</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">  /// then ArgumentIndexMapping[0] will equal 2.</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"></span>  std::vector&lt;unsigned&gt; ArgumentIndexMapping;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;};</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">/// Given function attributes from a call site for the original function,</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">/// return function attributes appropriate for a call to the transformed</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">/// function.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;transformFunctionAttributes(<span class="keyword">const</span> TransformedFunction &amp;TransformedFunction,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                            <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx, <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> CallSiteAttrs) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="comment">// Construct a vector of AttributeSet for each function argument.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  std::vector&lt;llvm::AttributeSet&gt; ArgumentAttributes(</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      TransformedFunction.TransformedType-&gt;getNumParams());</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// Copy attributes from the parameter of the original function to the</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// transformed version.  &#39;ArgumentIndexMapping&#39; holds the mapping from</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// old argument position to new.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = TransformedFunction.ArgumentIndexMapping.size();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">unsigned</span> TransformedIndex = TransformedFunction.ArgumentIndexMapping[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    ArgumentAttributes[TransformedIndex] = CallSiteAttrs.<a class="code" href="classllvm_1_1AttributeList.html#ada7a173c40ca7ac048a4b7099ceb71c0">getParamAttrs</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// Copy annotations on varargs arguments.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = TransformedFunction.OriginalType-&gt;getNumParams(),</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = CallSiteAttrs.<a class="code" href="classllvm_1_1AttributeList.html#a7b3e5b33beb7828efdd751c208bfbee9">getNumAttrSets</a>();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    ArgumentAttributes.push_back(CallSiteAttrs.<a class="code" href="classllvm_1_1AttributeList.html#ada7a173c40ca7ac048a4b7099ceb71c0">getParamAttrs</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AttributeList.html#a5cc6492c8f2e06a8bae9dc0d121fab9f">AttributeList::get</a>(Ctx, CallSiteAttrs.<a class="code" href="classllvm_1_1AttributeList.html#a1cf553641e8527095ae4c8ec88a2cd92">getFnAttrs</a>(),</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                            CallSiteAttrs.<a class="code" href="classllvm_1_1AttributeList.html#a5604157867b3d226260f6388b987e49a">getRetAttrs</a>(),</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                            <a class="code" href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a>(ArgumentAttributes));</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="keyword">class </span>DataFlowSanitizer {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keyword">friend</span> <span class="keyword">struct </span>DFSanFunction;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span>DFSanVisitor;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keyword">enum</span> { ShadowWidthBits = 8, ShadowWidthBytes = ShadowWidthBits / 8 };</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keyword">enum</span> { OriginWidthBits = 32, OriginWidthBytes = OriginWidthBits / 8 };</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">  /// How should calls to uninstrumented functions be handled?</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"></span>  <span class="keyword">enum</span> WrapperKind {<span class="comment"></span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">    /// This function is present in an uninstrumented form but we don&#39;t know</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">    /// how it should be handled.  Print a warning and call the function anyway.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">    /// Don&#39;t label the return value.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"></span>    WK_Warning,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">    /// This function does not write to (user-accessible) memory, and its return</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">    /// value is unlabelled.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"></span>    WK_Discard,</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">    /// This function does not write to (user-accessible) memory, and the label</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">    /// of its return value is the union of the label of its arguments.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment"></span>    WK_Functional,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">    /// Instead of calling the function, a custom wrapper __dfsw_F is called,</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">    /// where F is the name of the function.  This function may wrap the</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">    /// original function or provide its own implementation. WK_Custom uses an</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">    /// extra pointer argument to return the shadow.  This allows the wrapped</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">    /// form of the function type to be expressed in C.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"></span>    WK_Custom</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  };</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> *Ctx;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8Ptr;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *OriginTy;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *OriginPtrTy;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ZeroOrigin;<span class="comment"></span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">  /// The shadow type for all primitive types and vector types.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *PrimitiveShadowTy;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PrimitiveShadowPtrTy;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *IntptrTy;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ZeroPrimitiveShadow;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ArgTLS;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *ArgOriginTLSTy;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ArgOriginTLS;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RetvalTLS;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RetvalOriginTLS;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanUnionLoadFnTy;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanLoadLabelAndOriginFnTy;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanUnimplementedFnTy;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanWrapperExternWeakNullFnTy;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanSetLabelFnTy;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanNonzeroLabelFnTy;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanVarargWrapperFnTy;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanConditionalCallbackFnTy;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanConditionalCallbackOriginFnTy;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanReachesFunctionCallbackFnTy;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanReachesFunctionCallbackOriginFnTy;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanCmpCallbackFnTy;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanLoadStoreCallbackFnTy;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanMemTransferCallbackFnTy;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanChainOriginFnTy;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanChainOriginIfTaintedFnTy;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanMemOriginTransferFnTy;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanMemShadowOriginTransferFnTy;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanMemShadowOriginConditionalExchangeFnTy;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanMaybeStoreOriginFnTy;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanUnionLoadFn;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanLoadLabelAndOriginFn;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanUnimplementedFn;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanWrapperExternWeakNullFn;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanSetLabelFn;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanNonzeroLabelFn;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanVarargWrapperFn;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanLoadCallbackFn;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanStoreCallbackFn;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanMemTransferCallbackFn;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanConditionalCallbackFn;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanConditionalCallbackOriginFn;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanReachesFunctionCallbackFn;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanReachesFunctionCallbackOriginFn;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanCmpCallbackFn;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanChainOriginFn;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanChainOriginIfTaintedFn;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanMemOriginTransferFn;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanMemShadowOriginTransferFn;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanMemShadowOriginConditionalExchangeFn;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> DFSanMaybeStoreOriginFn;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Value *, 16&gt;</a> DFSanRuntimeFunctions;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ColdCallWeights;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *OriginStoreWeights;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  DFSanABIList ABIList;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Function *&gt;</a> UnwrappedFnMap;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="classllvm_1_1AttributeMask.html">AttributeMask</a> ReadOnlyNoneAttrs;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="classllvm_1_1StringSet.html">StringSet&lt;&gt;</a> CombineTaintLookupTableNames;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">  /// Memory map parameters used in calculation mapping application addresses</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">  /// to shadow addresses and origin addresses.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> MemoryMapParams *MapParams;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getShadowOffset(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getShadowAddress(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getShadowAddress(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos, <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowOffset);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  std::pair&lt;Value *, Value *&gt;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  getShadowOriginAddress(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordtype">bool</span> isInstrumented(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordtype">bool</span> isInstrumented(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordtype">bool</span> isForceZeroLabels(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  TransformedFunction getCustomFunctionType(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *<a class="code" href="classT.html">T</a>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  WrapperKind getWrapperKind(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordtype">void</span> addGlobalNameSuffix(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordtype">void</span> buildExternWeakCheckIfNeeded(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *buildWrapperFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NewFName,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                 <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> NewFLink,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                 <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFT);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordtype">void</span> initializeCallbackFunctions(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordtype">void</span> initializeRuntimeFunctions(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordtype">bool</span> initializeModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">  /// Advances \p OriginAddr to point to the next 32-bit origin and then loads</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">  /// from it. Returns the origin&#39;s loaded value.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *loadNextOrigin(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos, <a class="code" href="structllvm_1_1Align.html">Align</a> OriginAlign,</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                        <a class="code" href="classllvm_1_1Value.html">Value</a> **OriginAddr);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">  /// Returns whether the given load byte size is amenable to inlined</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">  /// optimization patterns.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> hasLoadSizeForFastPath(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">  /// Returns whether the pass tracks origins. Supports only TLS ABI mode.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> shouldTrackOrigins();</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">  /// Returns a zero constant with the shadow type of OrigTy.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">  /// getZeroShadow({T1,T2,...}) = {getZeroShadow(T1),getZeroShadow(T2,...}</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">  /// getZeroShadow([n x T]) = [n x getZeroShadow(T)]</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">  /// getZeroShadow(other type) = i16(0)</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *getZeroShadow(<a class="code" href="classllvm_1_1Type.html">Type</a> *OrigTy);<span class="comment"></span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">  /// Returns a zero constant with the shadow type of V&#39;s type.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *getZeroShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">  /// Checks if V is a zero shadow.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isZeroShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">  /// Returns the shadow type of OrigTy.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">  /// getShadowTy({T1,T2,...}) = {getShadowTy(T1),getShadowTy(T2),...}</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">  /// getShadowTy([n x T]) = [n x getShadowTy(T)]</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">  /// getShadowTy(other type) = i16</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Type.html">Type</a> *getShadowTy(<a class="code" href="classllvm_1_1Type.html">Type</a> *OrigTy);<span class="comment"></span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">  /// Returns the shadow type of of V&#39;s type.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Type.html">Type</a> *getShadowTy(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NumOfElementsInArgOrgTLS = <a class="code" href="DataFlowSanitizer_8cpp.html#ad30c696cca6f4b772507385a14bbfdfe">ArgTLSSize</a> / OriginWidthBytes;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  DataFlowSanitizer(<span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;ABIListFiles);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="ExpandLargeDivRem_8cpp.html#ae64f9cd0977a8b47570154312540d7d2">runImpl</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;               <a class="code" href="classllvm_1_1function__ref.html">llvm::function_ref</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; GetTLI);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;};</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="keyword">struct </span>DFSanFunction {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  DataFlowSanitizer &amp;DFS;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> DT;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordtype">bool</span> IsNativeABI;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordtype">bool</span> IsForceZeroLabels;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *LabelReturnAlloca = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *OriginReturnAlloca = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Value *&gt;</a> ValShadowMap;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Value *&gt;</a> ValOriginMap;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;AllocaInst *, AllocaInst *&gt;</a> AllocaShadowMap;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;AllocaInst *, AllocaInst *&gt;</a> AllocaOriginMap;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keyword">struct </span>PHIFixupElement {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *ShadowPhi;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *OriginPhi;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  };</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  std::vector&lt;PHIFixupElement&gt; PHIFixups;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;Instruction *&gt;</a> SkipInsts;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  std::vector&lt;Value *&gt; NonZeroChecks;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keyword">struct </span>CachedShadow {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a>; <span class="comment">// The block where Shadow is defined.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  };<span class="comment"></span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">  /// Maps a value to its latest shadow value in terms of domination tree.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;std::pair&lt;Value *, Value *&gt;</a>, CachedShadow&gt; CachedShadows;<span class="comment"></span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">  /// Maps a value to its latest collapsed shadow value it was converted to in</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">  /// terms of domination tree. When ClDebugNonzeroLabels is on, this cache is</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">  /// used at a post process where CFG blocks are split. So it does not cache</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">  /// BasicBlock like CachedShadows, but uses domination between values.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Value *&gt;</a> CachedCollapsedShadows;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, std::set&lt;Value *&gt;</a>&gt; ShadowElements;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  DFSanFunction(DataFlowSanitizer &amp;DFS, <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keywordtype">bool</span> IsNativeABI,</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <span class="keywordtype">bool</span> IsForceZeroLabels, <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      : DFS(DFS), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>), IsNativeABI(IsNativeABI),</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        IsForceZeroLabels(IsForceZeroLabels), TLI(TLI) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    DT.<a class="code" href="classllvm_1_1DominatorTreeBase.html#aa0641ae965656ff9988d67a35140e4d9">recalculate</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">  /// Computes the shadow address for a given function argument.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">  /// Shadow = ArgTLS+ArgOffset.</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *getArgTLS(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a>, <span class="keywordtype">unsigned</span> ArgOffset, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">  /// Computes the shadow address for a return value.</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *getRetvalTLS(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a>, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">  /// Computes the origin address for a given function argument.</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">  /// Origin = ArgOriginTLS[ArgNo].</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *getArgOriginTLS(<span class="keywordtype">unsigned</span> ArgNo, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">  /// Computes the origin address for a return value.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *getRetvalOriginTLS();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getOrigin(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordtype">void</span> setOrigin(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin);<span class="comment"></span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">  /// Generates IR to compute the origin of the last operand with a taint label.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *combineOperandOrigins(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst);<span class="comment"></span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">  /// Before the instruction Pos, generates IR to compute the last origin with a</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">  /// taint label. Labels and origins are from vectors Shadows and Origins</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">  /// correspondingly. The generated IR is like</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">  ///   Sn-1 != Zero ? On-1: ... S2 != Zero ? O2: S1 != Zero ? O1: O0</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">  /// When Zero is nullptr, it uses ZeroPrimitiveShadow. Otherwise it can be</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">  /// zeros with other bitwidths.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *combineOrigins(<span class="keyword">const</span> std::vector&lt;Value *&gt; &amp;Shadows,</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                        <span class="keyword">const</span> std::vector&lt;Value *&gt; &amp;Origins, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos,</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                        <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Zero = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordtype">void</span> setShadow(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow);<span class="comment"></span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">  /// Generates IR to compute the union of the two given shadows, inserting it</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">  /// before Pos. The combined value is with primitive type.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *combineShadows(<a class="code" href="classllvm_1_1Value.html">Value</a> *V1, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);<span class="comment"></span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">  /// Combines the shadow values of V1 and V2, then converts the combined value</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">  /// with primitive type into a shadow value with the original type T.</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *combineShadowsThenConvert(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *V1, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>,</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                   <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *combineOperandShadows(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">  /// Generates IR to load shadow and origin corresponding to bytes [\p</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">  /// Addr, \p Addr + \p Size), where addr has alignment \p</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">  /// InstAlignment, and take the union of each of those shadows. The returned</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">  /// shadow always has primitive type.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">  /// When tracking loads is enabled, the returned origin is a chain at the</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">  /// current stack if the returned shadow is tainted.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"></span>  std::pair&lt;Value *, Value *&gt; loadShadowOrigin(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size,</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                                               <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment,</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                                               <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordtype">void</span> storePrimitiveShadowOrigin(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                                  <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment, <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                                  <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);<span class="comment"></span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">  /// Applies PrimitiveShadow to all primitive subtypes of T, returning</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">  /// the expanded shadow value.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">  /// EFP({T1,T2, ...}, PS) = {EFP(T1,PS),EFP(T2,PS),...}</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">  /// EFP([n x T], PS) = [n x EFP(T,PS)]</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">  /// EFP(other types, PS) = PS</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *expandFromPrimitiveShadow(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow,</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                                   <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);<span class="comment"></span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">  /// Collapses Shadow into a single primitive shadow value, unioning all</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">  /// primitive shadow values in the process. Returns the final primitive</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">  /// shadow value.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">  /// CTP({V1,V2, ...}) = UNION(CFP(V1,PS),CFP(V2,PS),...)</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">  /// CTP([V1,V2,...]) = UNION(CFP(V1,PS),CFP(V2,PS),...)</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">  /// CTP(other types, PS) = PS</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *collapseToPrimitiveShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordtype">void</span> storeZeroPrimitiveShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size, <a class="code" href="structllvm_1_1Align.html">Align</a> ShadowAlign,</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                                <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> getShadowAlign(<a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// If ClConditionalCallbacks is enabled, insert a callback after a given</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="comment">// branch instruction using the given conditional expression.</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordtype">void</span> addConditionalCallbacksIfEnabled(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Condition);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// If ClReachesFunctionCallbacks is enabled, insert a callback for each</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// argument and load instruction.</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordtype">void</span> addReachesFunctionCallbacksIfEnabled(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                                            <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordtype">bool</span> isLookupTableConstant(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">  /// Collapses the shadow with aggregate type into a single primitive shadow</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">  /// value.</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">class</span> AggregateType&gt;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *collapseAggregateShadow(AggregateType *AT, <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow,</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                                 <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *collapseToPrimitiveShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">  /// Returns the shadow value of an argument A.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *getShadowForTLSArgument(<a class="code" href="classllvm_1_1Argument.html">Argument</a> *A);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">  /// The fast path of loading shadows.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment"></span>  std::pair&lt;Value *, Value *&gt;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  loadShadowFast(<a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr, <a class="code" href="classllvm_1_1Value.html">Value</a> *OriginAddr, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size,</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                 <a class="code" href="structllvm_1_1Align.html">Align</a> ShadowAlign, <a class="code" href="structllvm_1_1Align.html">Align</a> OriginAlign, <a class="code" href="classllvm_1_1Value.html">Value</a> *FirstOrigin,</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                 <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> getOriginAlign(<a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">  /// Because 4 contiguous bytes share one 4-byte origin, the most accurate load</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">  /// is __dfsan_load_label_and_origin. This function returns the union of all</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">  /// labels and the origin of the first taint label. However this is an</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">  /// additional call with many instructions. To ensure common cases are fast,</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">  /// checks if it is possible to load labels and origins without using the</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">  /// callback function.</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">  /// When enabling tracking load instructions, we always use</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">  /// __dfsan_load_label_and_origin to reduce code size.</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> useCallbackLoadLabelAndOrigin(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size, <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">  /// Returns a chain at the current stack with previous origin V.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *updateOrigin(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">  /// Returns a chain at the current stack with previous origin V if Shadow is</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">  /// tainted.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *updateOriginIfTainted(<a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">  /// Creates an Intptr = Origin | Origin &lt;&lt; 32 if Intptr&#39;s size is 64. Returns</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">  /// Origin otherwise.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *originToIntptr(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">  /// Stores Origin into the address range [StoreOriginAddr, StoreOriginAddr +</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">  /// Size).</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> paintOrigin(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin, <a class="code" href="classllvm_1_1Value.html">Value</a> *StoreOriginAddr,</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                   <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> StoreOriginSize, <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">  /// Stores Origin in terms of its Shadow value.</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">  /// * Do not write origins for zero shadows because we do not trace origins</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">  ///   for untainted sinks.</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">  /// * Use __dfsan_maybe_store_origin if there are too many origin store</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">  ///   instrumentations.</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> storeOrigin(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size, <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow,</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                   <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin, <a class="code" href="classllvm_1_1Value.html">Value</a> *StoreOriginAddr, <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">  /// Convert a scalar value to an i1 by comparing with 0.</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *convertToBool(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;Name = <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordtype">bool</span> shouldInstrumentWithCall();</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">  /// Generates IR to load shadow and origin corresponding to bytes [\p</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">  /// Addr, \p Addr + \p Size), where addr has alignment \p</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">  /// InstAlignment, and take the union of each of those shadows. The returned</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">  /// shadow always has primitive type.</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment"></span>  std::pair&lt;Value *, Value *&gt;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  loadShadowOriginSansLoadTracking(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size,</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                   <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordtype">int</span> NumOriginStores = 0;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;};</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="keyword">class </span>DFSanVisitor : <span class="keyword">public</span> <a class="code" href="classllvm_1_1InstVisitor.html">InstVisitor</a>&lt;DFSanVisitor&gt; {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  DFSanFunction &amp;DFSF;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  DFSanVisitor(DFSanFunction &amp;DFSF) : DFSF(DFSF) {}</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;getDataLayout()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">return</span> DFSF.F-&gt;getParent()-&gt;getDataLayout();</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// Combines shadow values and origins for all of I&#39;s operands.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordtype">void</span> visitInstOperands(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordtype">void</span> visitUnaryOperator(<a class="code" href="classllvm_1_1UnaryOperator.html">UnaryOperator</a> &amp;UO);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordtype">void</span> visitBinaryOperator(<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> &amp;BO);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordtype">void</span> visitBitCastInst(<a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a> &amp;BCI);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordtype">void</span> visitCastInst(<a class="code" href="classllvm_1_1CastInst.html">CastInst</a> &amp;CI);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keywordtype">void</span> visitCmpInst(<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> &amp;CI);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordtype">void</span> visitLandingPadInst(<a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> &amp;LPI);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordtype">void</span> visitGetElementPtrInst(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> &amp;GEPI);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordtype">void</span> visitLoadInst(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;LI);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordtype">void</span> visitStoreInst(<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="keywordtype">void</span> visitAtomicRMWInst(<a class="code" href="classllvm_1_1AtomicRMWInst.html">AtomicRMWInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordtype">void</span> visitAtomicCmpXchgInst(<a class="code" href="classllvm_1_1AtomicCmpXchgInst.html">AtomicCmpXchgInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordtype">void</span> visitReturnInst(<a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> &amp;RI);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordtype">void</span> visitLibAtomicLoad(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="keywordtype">void</span> visitLibAtomicStore(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordtype">void</span> visitLibAtomicExchange(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keywordtype">void</span> visitLibAtomicCompareExchange(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordtype">void</span> visitCallBase(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordtype">void</span> visitPHINode(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;PN);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keywordtype">void</span> visitExtractElementInst(<a class="code" href="classllvm_1_1ExtractElementInst.html">ExtractElementInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordtype">void</span> visitInsertElementInst(<a class="code" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordtype">void</span> visitShuffleVectorInst(<a class="code" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordtype">void</span> visitExtractValueInst(<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordtype">void</span> visitInsertValueInst(<a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordtype">void</span> visitAllocaInst(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordtype">void</span> visitSelectInst(<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordtype">void</span> visitMemSetInst(<a class="code" href="classllvm_1_1MemSetInst.html">MemSetInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordtype">void</span> visitMemTransferInst(<a class="code" href="classllvm_1_1MemTransferInst.html">MemTransferInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordtype">void</span> visitBranchInst(<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df">BR</a>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordtype">void</span> visitSwitchInst(<a class="code" href="classllvm_1_1SwitchInst.html">SwitchInst</a> &amp;SW);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordtype">void</span> visitCASOrRMW(<a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="comment">// Returns false when this is an invoke of a custom function.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordtype">bool</span> visitWrappedCallBase(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="comment">// Combines origins for all of I&#39;s operands.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordtype">void</span> visitInstOperandOrigins(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keywordtype">void</span> addShadowArguments(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB, std::vector&lt;Value *&gt; &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                          <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordtype">void</span> addOriginArguments(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB, std::vector&lt;Value *&gt; &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                          <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *makeAddAcquireOrderingTable(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *makeAddReleaseOrderingTable(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;};</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="keywordtype">bool</span> LibAtomicFunction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// This is a bit of a hack because TargetLibraryInfo is a function pass.</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// The DFSan pass would need to be refactored to be function pass oriented</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// (like MSan is) in order to fit together nicely with TargetLibraryInfo.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// We need this check to prevent them from being instrumented, or wrapped.</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// Match on name and number of arguments.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasName() || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isVarArg())</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.arg_size()) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() == <span class="stringliteral">&quot;__atomic_load&quot;</span> || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() == <span class="stringliteral">&quot;__atomic_store&quot;</span>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() == <span class="stringliteral">&quot;__atomic_exchange&quot;</span>;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() == <span class="stringliteral">&quot;__atomic_compare_exchange&quot;</span>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;}</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;DataFlowSanitizer::DataFlowSanitizer(</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;ABIListFiles) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  std::vector&lt;std::string&gt; AllABIListFiles(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ABIListFiles));</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(AllABIListFiles, <a class="code" href="DataFlowSanitizer_8cpp.html#acd6b5c06e9f9c7a0d2866ce2552ac1f5">ClABIListFiles</a>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="comment">// FIXME: should we propagate vfs::FileSystem to this constructor?</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  ABIList.set(</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <a class="code" href="classllvm_1_1SpecialCaseList.html#a6c0343ae2b29d3a9882c0cfc4bee8c03">SpecialCaseList::createOrDie</a>(AllABIListFiles, *<a class="code" href="namespacellvm_1_1vfs.html#a9878c6a5a53d24e17c7c1002be31364c">vfs::getRealFileSystem</a>()));</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> v : <a class="code" href="DataFlowSanitizer_8cpp.html#a0d10b74b1e24775d8e69e424b6c9dd49">ClCombineTaintLookupTables</a>)</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    CombineTaintLookupTableNames.<a class="code" href="classllvm_1_1StringSet.html#a31714563344c51d7d917d1206efa48cf">insert</a>(v);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;}</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;TransformedFunction DataFlowSanitizer::getCustomFunctionType(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *<a class="code" href="classT.html">T</a>) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type *, 4&gt;</a> ArgTypes;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="comment">// Some parameters of the custom function being constructed are</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="comment">// parameters of T.  Record the mapping from parameters of T to</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="comment">// parameters of the custom function, so that parameter attributes</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="comment">// at call sites can be updated.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  std::vector&lt;unsigned&gt; ArgumentIndexMapping;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="classT.html">T</a>-&gt;getNumParams(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ParamType = <a class="code" href="classT.html">T</a>-&gt;getParamType(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    ArgumentIndexMapping.push_back(ArgTypes.size());</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    ArgTypes.push_back(ParamType);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="classT.html">T</a>-&gt;getNumParams(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    ArgTypes.push_back(PrimitiveShadowTy);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>-&gt;isVarArg())</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    ArgTypes.push_back(PrimitiveShadowPtrTy);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RetType = <a class="code" href="classT.html">T</a>-&gt;getReturnType();</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="keywordflow">if</span> (!RetType-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>())</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    ArgTypes.push_back(PrimitiveShadowPtrTy);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordflow">if</span> (shouldTrackOrigins()) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="classT.html">T</a>-&gt;getNumParams(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      ArgTypes.push_back(OriginTy);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>-&gt;isVarArg())</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      ArgTypes.push_back(OriginPtrTy);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">if</span> (!RetType-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>())</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      ArgTypes.push_back(OriginPtrTy);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">return</span> TransformedFunction(</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <a class="code" href="classT.html">T</a>, <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classT.html">T</a>-&gt;getReturnType(), ArgTypes, <a class="code" href="classT.html">T</a>-&gt;isVarArg()),</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      ArgumentIndexMapping);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::isZeroShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a> = V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ArrayType&gt;(<a class="code" href="classT.html">T</a>) &amp;&amp; !isa&lt;StructType&gt;(<a class="code" href="classT.html">T</a>)) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(V))</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="keywordflow">return</span> CI-&gt;isZero();</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">return</span> isa&lt;ConstantAggregateZero&gt;(V);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::hasLoadSizeForFastPath(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShadowSize = <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> * ShadowWidthBytes;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordflow">return</span> ShadowSize % 8 == 0 || ShadowSize == 4;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;}</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::shouldTrackOrigins() {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> ShouldTrackOrigins = <a class="code" href="DataFlowSanitizer_8cpp.html#a5b7bd5454a3884ed4ca707e9a238774e">ClTrackOrigins</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">return</span> ShouldTrackOrigins;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<a class="code" href="classllvm_1_1Constant.html">Constant</a> *DataFlowSanitizer::getZeroShadow(<a class="code" href="classllvm_1_1Type.html">Type</a> *OrigTy) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ArrayType&gt;(OrigTy) &amp;&amp; !isa&lt;StructType&gt;(OrigTy))</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">return</span> ZeroPrimitiveShadow;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ShadowTy = getShadowTy(OrigTy);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantAggregateZero.html#abfa1cf8b4348407b167f93bc7c01055f">ConstantAggregateZero::get</a>(ShadowTy);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<a class="code" href="classllvm_1_1Constant.html">Constant</a> *DataFlowSanitizer::getZeroShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keywordflow">return</span> getZeroShadow(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;}</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#ab977d84c8a73cb6f4fb7c0b4270eda52">  936</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="DataFlowSanitizer_8cpp.html#ab977d84c8a73cb6f4fb7c0b4270eda52">expandFromPrimitiveShadowRecursive</a>(</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> &amp;Indices, <a class="code" href="classllvm_1_1Type.html">Type</a> *SubShadowTy,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ArrayType&gt;(SubShadowTy) &amp;&amp; !isa&lt;StructType&gt;(SubShadowTy))</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a10531decc5032413dba40ebf5589ef81">CreateInsertValue</a>(Shadow, PrimitiveShadow, Indices);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *AT = dyn_cast&lt;ArrayType&gt;(SubShadowTy)) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; AT-&gt;getNumElements(); Idx++) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      Indices.push_back(Idx);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      Shadow = <a class="code" href="DataFlowSanitizer_8cpp.html#ab977d84c8a73cb6f4fb7c0b4270eda52">expandFromPrimitiveShadowRecursive</a>(</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;          Shadow, Indices, AT-&gt;getElementType(), PrimitiveShadow, IRB);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      Indices.pop_back();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">return</span> Shadow;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = dyn_cast&lt;StructType&gt;(SubShadowTy)) {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getNumElements(); Idx++) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      Indices.push_back(Idx);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      Shadow = <a class="code" href="DataFlowSanitizer_8cpp.html#ab977d84c8a73cb6f4fb7c0b4270eda52">expandFromPrimitiveShadowRecursive</a>(</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;          Shadow, Indices, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getElementType(Idx), PrimitiveShadow, IRB);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      Indices.pop_back();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">return</span> Shadow;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected shadow type&quot;</span>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;}</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="keywordtype">bool</span> DFSanFunction::shouldInstrumentWithCall() {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="DataFlowSanitizer_8cpp.html#afe2a9a7d41ee8ed52440de90abd14aaf">ClInstrumentWithCallThreshold</a> &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;         NumOriginStores &gt;= <a class="code" href="DataFlowSanitizer_8cpp.html#afe2a9a7d41ee8ed52440de90abd14aaf">ClInstrumentWithCallThreshold</a>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::expandFromPrimitiveShadow(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow,</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                                                <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ShadowTy = DFS.getShadowTy(<a class="code" href="classT.html">T</a>);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ArrayType&gt;(ShadowTy) &amp;&amp; !isa&lt;StructType&gt;(ShadowTy))</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">return</span> PrimitiveShadow;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">if</span> (DFS.isZeroShadow(PrimitiveShadow))</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">return</span> DFS.getZeroShadow(ShadowTy);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> Indices;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow = <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(ShadowTy);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  Shadow = <a class="code" href="DataFlowSanitizer_8cpp.html#ab977d84c8a73cb6f4fb7c0b4270eda52">expandFromPrimitiveShadowRecursive</a>(Shadow, Indices, ShadowTy,</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                                              PrimitiveShadow, IRB);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="comment">// Caches the primitive shadow value that built the shadow value.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  CachedCollapsedShadows[Shadow] = PrimitiveShadow;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">return</span> Shadow;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;}</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> AggregateType&gt;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::collapseAggregateShadow(AggregateType *AT, <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow,</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                              <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">if</span> (!AT-&gt;getNumElements())</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">return</span> DFS.ZeroPrimitiveShadow;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FirstItem = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6895b4fdb208e8a5ff15c573c71657b0">CreateExtractValue</a>(Shadow, 0);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Aggregator = collapseToPrimitiveShadow(FirstItem, IRB);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 1; Idx &lt; AT-&gt;getNumElements(); Idx++) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowItem = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6895b4fdb208e8a5ff15c573c71657b0">CreateExtractValue</a>(Shadow, Idx);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowInner = collapseToPrimitiveShadow(ShadowItem, IRB);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    Aggregator = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(Aggregator, ShadowInner);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordflow">return</span> Aggregator;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;}</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::collapseToPrimitiveShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow,</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                                                <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ShadowTy = Shadow-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ArrayType&gt;(ShadowTy) &amp;&amp; !isa&lt;StructType&gt;(ShadowTy))</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">return</span> Shadow;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *AT = dyn_cast&lt;ArrayType&gt;(ShadowTy))</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">return</span> collapseAggregateShadow&lt;&gt;(AT, Shadow, IRB);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = dyn_cast&lt;StructType&gt;(ShadowTy))</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">return</span> collapseAggregateShadow&lt;&gt;(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>, Shadow, IRB);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected shadow type&quot;</span>);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;}</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::collapseToPrimitiveShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow,</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                                                <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ShadowTy = Shadow-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ArrayType&gt;(ShadowTy) &amp;&amp; !isa&lt;StructType&gt;(ShadowTy))</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">return</span> Shadow;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="comment">// Checks if the cached collapsed shadow value dominates Pos.</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;CS = CachedCollapsedShadows[Shadow];</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="keywordflow">if</span> (CS &amp;&amp; DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(CS, Pos))</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">return</span> CS;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow = collapseToPrimitiveShadow(Shadow, IRB);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="comment">// Caches the converted primitive shadow value.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  CS = PrimitiveShadow;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">return</span> PrimitiveShadow;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="keywordtype">void</span> DFSanFunction::addConditionalCallbacksIfEnabled(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                                                     <a class="code" href="classllvm_1_1Value.html">Value</a> *Condition) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="DataFlowSanitizer_8cpp.html#aebf1fb9cbd5daf4f6037d02667505c79">ClConditionalCallbacks</a>) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CondShadow = getShadow(Condition);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keywordflow">if</span> (DFS.shouldTrackOrigins()) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *CondOrigin = getOrigin(Condition);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    CI = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFS.DFSanConditionalCallbackOriginFn,</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                        {CondShadow, CondOrigin});</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    CI = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFS.DFSanConditionalCallbackFn, {CondShadow});</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae5d05ec2b9a60806746addff3f2a71a9">addParamAttr</a>(0, Attribute::ZExt);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="keywordtype">void</span> DFSanFunction::addReachesFunctionCallbacksIfEnabled(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB,</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                                                         <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                                                         <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="DataFlowSanitizer_8cpp.html#af29b5662580048d22b33ad5a169ae57e">ClReachesFunctionCallbacks</a>) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;dbgloc = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDebugLoc();</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DataShadow = collapseToPrimitiveShadow(getShadow(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>), IRB);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CILine;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <a class="code" href="classllvm_1_1Value.html">llvm::Value</a> *FilePathPtr;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">if</span> (dbgloc.<a class="code" href="classllvm_1_1DebugLoc.html#a4ff1bb484be62f8dac94fc087f72f524">get</a>() == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    CILine = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getContext(), <a class="code" href="classllvm_1_1APInt.html">llvm::APInt</a>(32, 0));</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    FilePathPtr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#abd2f5469db2235e00ac6df61fe766c85">CreateGlobalStringPtr</a>(</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getFunction()-&gt;getParent()-&gt;getSourceFileName());</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    CILine = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getContext(),</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                                    <a class="code" href="classllvm_1_1APInt.html">llvm::APInt</a>(32, dbgloc.<a class="code" href="classllvm_1_1DebugLoc.html#a427c256af834975c7869ad28fac00563">getLine</a>()));</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    FilePathPtr =</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#abd2f5469db2235e00ac6df61fe766c85">CreateGlobalStringPtr</a>(dbgloc-&gt;getFilename());</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="classllvm_1_1Value.html">llvm::Value</a> *FunctionNamePtr =</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#abd2f5469db2235e00ac6df61fe766c85">CreateGlobalStringPtr</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getFunction()-&gt;getName());</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CB;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  std::vector&lt;Value *&gt; <a class="code" href="NVPTXLowerArgs_8cpp.html#a4d6da696b3c753c5e5fbcc4d21d4cb71">args</a>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="keywordflow">if</span> (DFS.shouldTrackOrigins()) {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *DataOrigin = getOrigin(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="NVPTXLowerArgs_8cpp.html#a4d6da696b3c753c5e5fbcc4d21d4cb71">args</a> = { DataShadow, DataOrigin, FilePathPtr, CILine, FunctionNamePtr };</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    CB = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFS.DFSanReachesFunctionCallbackOriginFn, <a class="code" href="NVPTXLowerArgs_8cpp.html#a4d6da696b3c753c5e5fbcc4d21d4cb71">args</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="NVPTXLowerArgs_8cpp.html#a4d6da696b3c753c5e5fbcc4d21d4cb71">args</a> = { DataShadow, FilePathPtr, CILine, FunctionNamePtr };</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    CB = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFS.DFSanReachesFunctionCallbackFn, <a class="code" href="NVPTXLowerArgs_8cpp.html#a4d6da696b3c753c5e5fbcc4d21d4cb71">args</a>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae5d05ec2b9a60806746addff3f2a71a9">addParamAttr</a>(0, Attribute::ZExt);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  CB-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">setDebugLoc</a>(dbgloc);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;}</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<a class="code" href="classllvm_1_1Type.html">Type</a> *DataFlowSanitizer::getShadowTy(<a class="code" href="classllvm_1_1Type.html">Type</a> *OrigTy) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordflow">if</span> (!OrigTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">isSized</a>())</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">return</span> PrimitiveShadowTy;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">if</span> (isa&lt;IntegerType&gt;(OrigTy))</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">return</span> PrimitiveShadowTy;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordflow">if</span> (isa&lt;VectorType&gt;(OrigTy))</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">return</span> PrimitiveShadowTy;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *AT = dyn_cast&lt;ArrayType&gt;(OrigTy))</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(getShadowTy(AT-&gt;getElementType()),</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                          AT-&gt;getNumElements());</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = dyn_cast&lt;StructType&gt;(OrigTy)) {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type *, 4&gt;</a> <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9aaa56a2e65d8106aef3c61e4f6bf94fdb">Elements</a>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getNumElements(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9aaa56a2e65d8106aef3c61e4f6bf94fdb">Elements</a>.push_back(getShadowTy(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getElementType(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)));</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">StructType::get</a>(*Ctx, Elements);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keywordflow">return</span> PrimitiveShadowTy;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;}</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<a class="code" href="classllvm_1_1Type.html">Type</a> *DataFlowSanitizer::getShadowTy(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">return</span> getShadowTy(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;}</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::initializeModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <a class="code" href="classllvm_1_1Triple.html">Triple</a> TargetTriple(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getTargetTriple());</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout();</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordflow">if</span> (TargetTriple.getOS() != <a class="code" href="classllvm_1_1Triple.html#a3cfefc755ab656000934f91193afb1cda76d4dd8dc67e3a11d975743f6d63a9df">Triple::Linux</a>)</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;unsupported operating system&quot;</span>);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">switch</span> (TargetTriple.getArch()) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">Triple::aarch64</a>:</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    MapParams = &amp;<a class="code" href="DataFlowSanitizer_8cpp.html#a917f7b6819b115f7783119d89d6ef0bc">Linux_AArch64_MemoryMapParams</a>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>:</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    MapParams = &amp;<a class="code" href="DataFlowSanitizer_8cpp.html#a086e31f131abbdc6591adafb6f984c6d">Linux_X86_64_MemoryMapParams</a>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;unsupported architecture&quot;</span>);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  }</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a> = &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  Ctx = &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext();</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  Int8Ptr = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*Ctx);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  OriginTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(*Ctx, OriginWidthBits);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  OriginPtrTy = <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(OriginTy);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  PrimitiveShadowTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(*Ctx, ShadowWidthBits);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  PrimitiveShadowPtrTy = <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(PrimitiveShadowTy);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  IntptrTy = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getIntPtrType(*Ctx);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  ZeroPrimitiveShadow = <a class="code" href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">ConstantInt::getSigned</a>(PrimitiveShadowTy, 0);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  ZeroOrigin = <a class="code" href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">ConstantInt::getSigned</a>(OriginTy, 0);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanUnionLoadArgs[2] = {PrimitiveShadowPtrTy, IntptrTy};</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  DFSanUnionLoadFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(PrimitiveShadowTy, DFSanUnionLoadArgs,</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                                         <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanLoadLabelAndOriginArgs[2] = {Int8Ptr, IntptrTy};</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  DFSanLoadLabelAndOriginFnTy =</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(*Ctx, 64), DFSanLoadLabelAndOriginArgs,</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                        <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  DFSanUnimplementedFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*Ctx), <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanWrapperExternWeakNullArgs[2] = {Int8Ptr, Int8Ptr};</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  DFSanWrapperExternWeakNullFnTy =</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanWrapperExternWeakNullArgs,</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                        <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanSetLabelArgs[4] = {PrimitiveShadowTy, OriginTy,</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                                <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*Ctx), IntptrTy};</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  DFSanSetLabelFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx),</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                                        DFSanSetLabelArgs, <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  DFSanNonzeroLabelFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), std::nullopt,</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                                            <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  DFSanVarargWrapperFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*Ctx), <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  DFSanConditionalCallbackFnTy =</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), PrimitiveShadowTy,</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                        <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanConditionalCallbackOriginArgs[2] = {PrimitiveShadowTy, OriginTy};</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  DFSanConditionalCallbackOriginFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanConditionalCallbackOriginArgs,</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanReachesFunctionCallbackArgs[4] = {PrimitiveShadowTy, Int8Ptr,</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                                               OriginTy, Int8Ptr};</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  DFSanReachesFunctionCallbackFnTy =</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanReachesFunctionCallbackArgs,</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                        <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanReachesFunctionCallbackOriginArgs[5] = {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      PrimitiveShadowTy, OriginTy, Int8Ptr, OriginTy, Int8Ptr};</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  DFSanReachesFunctionCallbackOriginFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanReachesFunctionCallbackOriginArgs,</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  DFSanCmpCallbackFnTy =</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), PrimitiveShadowTy,</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                        <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  DFSanChainOriginFnTy =</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(OriginTy, OriginTy, <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanChainOriginIfTaintedArgs[2] = {PrimitiveShadowTy, OriginTy};</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  DFSanChainOriginIfTaintedFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      OriginTy, DFSanChainOriginIfTaintedArgs, <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanMaybeStoreOriginArgs[4] = {<a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(*Ctx, ShadowWidthBits),</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                                        Int8Ptr, IntptrTy, OriginTy};</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  DFSanMaybeStoreOriginFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanMaybeStoreOriginArgs, <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanMemOriginTransferArgs[3] = {Int8Ptr, Int8Ptr, IntptrTy};</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  DFSanMemOriginTransferFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanMemOriginTransferArgs, <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanMemShadowOriginTransferArgs[3] = {Int8Ptr, Int8Ptr, IntptrTy};</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  DFSanMemShadowOriginTransferFnTy =</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanMemShadowOriginTransferArgs,</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                        <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanMemShadowOriginConditionalExchangeArgs[5] = {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(*Ctx, 8), Int8Ptr, Int8Ptr, Int8Ptr, IntptrTy};</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  DFSanMemShadowOriginConditionalExchangeFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanMemShadowOriginConditionalExchangeArgs,</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanLoadStoreCallbackArgs[2] = {PrimitiveShadowTy, Int8Ptr};</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  DFSanLoadStoreCallbackFnTy =</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanLoadStoreCallbackArgs,</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                        <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanMemTransferCallbackArgs[2] = {PrimitiveShadowPtrTy, IntptrTy};</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  DFSanMemTransferCallbackFnTy =</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), DFSanMemTransferCallbackArgs,</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                        <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  ColdCallWeights = <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(*Ctx).<a class="code" href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">createBranchWeights</a>(1, 1000);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  OriginStoreWeights = <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(*Ctx).<a class="code" href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">createBranchWeights</a>(1, 1000);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;}</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::isInstrumented(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordflow">return</span> !ABIList.isIn(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="stringliteral">&quot;uninstrumented&quot;</span>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;}</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::isInstrumented(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keywordflow">return</span> !ABIList.isIn(*GA, <span class="stringliteral">&quot;uninstrumented&quot;</span>);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;}</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::isForceZeroLabels(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="keywordflow">return</span> ABIList.isIn(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="stringliteral">&quot;force_zero_labels&quot;</span>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;}</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;DataFlowSanitizer::WrapperKind DataFlowSanitizer::getWrapperKind(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordflow">if</span> (ABIList.isIn(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="stringliteral">&quot;functional&quot;</span>))</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">return</span> WK_Functional;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">if</span> (ABIList.isIn(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="stringliteral">&quot;discard&quot;</span>))</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">return</span> WK_Discard;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="keywordflow">if</span> (ABIList.isIn(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="stringliteral">&quot;custom&quot;</span>))</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">return</span> WK_Custom;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="keywordflow">return</span> WK_Warning;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;}</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="keywordtype">void</span> DataFlowSanitizer::addGlobalNameSuffix(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  std::string GVName = std::string(GV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()), Suffix = <span class="stringliteral">&quot;.dfsan&quot;</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  GV-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(GVName + Suffix);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="comment">// Try to change the name of the function in module inline asm.  We only do</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="comment">// this for specific asm directives, currently only &quot;.symver&quot;, to try to avoid</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="comment">// corrupting asm which happens to contain the symbol name as a substring.</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="comment">// Note that the substitution for .symver assumes that the versioned symbol</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="comment">// also has an instrumented name.</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  std::string <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a> = GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a7f4c30e0bd68d5b7b9b00301326ac7f7">getModuleInlineAsm</a>();</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  std::string SearchStr = <span class="stringliteral">&quot;.symver &quot;</span> + GVName + <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="keywordtype">size_t</span> Pos = <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>.find(SearchStr);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">if</span> (Pos != std::string::npos) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>.replace(Pos, SearchStr.size(), <span class="stringliteral">&quot;.symver &quot;</span> + GVName + Suffix + <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    Pos = <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>.find(<span class="stringliteral">&quot;@&quot;</span>);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordflow">if</span> (Pos == std::string::npos)</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;unsupported .symver: &quot;</span>, <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>));</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>.replace(Pos, 1, Suffix + <span class="stringliteral">&quot;@&quot;</span>);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a168c2c073b44c41dc521120bda0b1047">setModuleInlineAsm</a>(<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;}</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="keywordtype">void</span> DataFlowSanitizer::buildExternWeakCheckIfNeeded(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB,</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                                                     <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="comment">// If the function we are wrapping was ExternWeak, it may be null.</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="comment">// The original code before calling this wrapper may have checked for null,</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="comment">// but replacing with a known-to-not-be-null wrapper can break this check.</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="comment">// When replacing uses of the extern weak function with the wrapper we try</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="comment">// to avoid replacing uses in conditionals, but this is not perfect.</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="comment">// In the case where we fail, and accidentally optimize out a null check</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="comment">// for a extern weak function, add a check here to help identify the issue.</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html#a25e8e3490a28e9178b302b76ae643443">GlobalValue::isExternalWeakLinkage</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getLinkage())) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    std::vector&lt;Value *&gt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>()));</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#abd2f5469db2235e00ac6df61fe766c85">CreateGlobalStringPtr</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName()));</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFSanWrapperExternWeakNullFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;}</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<a class="code" href="classllvm_1_1Function.html">Function</a> *</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;DataFlowSanitizer::buildWrapperFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NewFName,</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                                        <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> NewFLink,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                                        <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFT) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType();</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *NewF = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(NewFT, NewFLink, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAddressSpace(),</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                                    NewFName, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent());</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  NewF-&gt;<a class="code" href="classllvm_1_1Function.html#afd7894f118b1d1636cff1b8de5f424e5">copyAttributesFrom</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  NewF-&gt;<a class="code" href="classllvm_1_1Function.html#acb3914db988819782f3a6317d2e2b925">removeRetAttrs</a>(</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <a class="code" href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">AttributeFuncs::typeIncompatible</a>(NewFT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>()));</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">BasicBlock::Create</a>(*Ctx, <span class="stringliteral">&quot;entry&quot;</span>, NewF);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isVarArg()) {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a8baad1df39d45576fe7a642b49f0e6dc">removeFnAttr</a>(<span class="stringliteral">&quot;split-stack&quot;</span>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(DFSanVarargWrapperFn,</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                     <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>).CreateGlobalStringPtr(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName()), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                     <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keyword">new</span> <a class="code" href="classllvm_1_1UnreachableInst.html">UnreachableInst</a>(*Ctx, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keyword">auto</span> ArgIt = <a class="code" href="classllvm_1_1pointer__iterator.html">pointer_iterator&lt;Argument *&gt;</a>(NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>());</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    std::vector&lt;Value *&gt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(ArgIt, ArgIt + FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>());</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>())</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <a class="code" href="classllvm_1_1ReturnInst.html#a8c4c3b7c7daea37c75c50563654bf934">ReturnInst::Create</a>(*Ctx, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <a class="code" href="classllvm_1_1ReturnInst.html#a8c4c3b7c7daea37c75c50563654bf934">ReturnInst::Create</a>(*Ctx, CI, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">return</span> NewF;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;}</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment">// Initialize DataFlowSanitizer runtime functions and declare them in the module</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="keywordtype">void</span> DataFlowSanitizer::initializeRuntimeFunctions(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext();</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addFnAttribute(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Attribute::NoUnwind);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addFnAttribute(</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1Attribute.html#adaf42001b3cc4c8c631902cbb48106d5">Attribute::getWithMemoryEffects</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1MemoryEffects.html#a26ba285498c9551466c8abafe16d6541">MemoryEffects::readOnly</a>()));</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addRetAttribute(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Attribute::ZExt);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    DFSanUnionLoadFn =</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_union_load&quot;</span>, DFSanUnionLoadFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  }</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addFnAttribute(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Attribute::NoUnwind);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addFnAttribute(</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1Attribute.html#adaf42001b3cc4c8c631902cbb48106d5">Attribute::getWithMemoryEffects</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1MemoryEffects.html#a26ba285498c9551466c8abafe16d6541">MemoryEffects::readOnly</a>()));</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addRetAttribute(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Attribute::ZExt);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    DFSanLoadLabelAndOriginFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <span class="stringliteral">&quot;__dfsan_load_label_and_origin&quot;</span>, DFSanLoadLabelAndOriginFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  DFSanUnimplementedFn =</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_unimplemented&quot;</span>, DFSanUnimplementedFnTy);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  DFSanWrapperExternWeakNullFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="stringliteral">&quot;__dfsan_wrapper_extern_weak_null&quot;</span>, DFSanWrapperExternWeakNullFnTy);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 1, Attribute::ZExt);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    DFSanSetLabelFn =</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_set_label&quot;</span>, DFSanSetLabelFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  DFSanNonzeroLabelFn =</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_nonzero_label&quot;</span>, DFSanNonzeroLabelFnTy);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  DFSanVarargWrapperFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_vararg_wrapper&quot;</span>,</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                                                  DFSanVarargWrapperFnTy);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addRetAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), Attribute::ZExt);</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    DFSanChainOriginFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_chain_origin&quot;</span>,</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                                                  DFSanChainOriginFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 1, Attribute::ZExt);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addRetAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), Attribute::ZExt);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    DFSanChainOriginIfTaintedFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="stringliteral">&quot;__dfsan_chain_origin_if_tainted&quot;</span>, DFSanChainOriginIfTaintedFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  DFSanMemOriginTransferFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="stringliteral">&quot;__dfsan_mem_origin_transfer&quot;</span>, DFSanMemOriginTransferFnTy);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  DFSanMemShadowOriginTransferFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="stringliteral">&quot;__dfsan_mem_shadow_origin_transfer&quot;</span>, DFSanMemShadowOriginTransferFnTy);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  DFSanMemShadowOriginConditionalExchangeFn =</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_mem_shadow_origin_conditional_exchange&quot;</span>,</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                               DFSanMemShadowOriginConditionalExchangeFnTy);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 3, Attribute::ZExt);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    DFSanMaybeStoreOriginFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <span class="stringliteral">&quot;__dfsan_maybe_store_origin&quot;</span>, DFSanMaybeStoreOriginFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      DFSanUnionLoadFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      DFSanLoadLabelAndOriginFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      DFSanUnimplementedFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      DFSanWrapperExternWeakNullFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      DFSanSetLabelFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      DFSanNonzeroLabelFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      DFSanVarargWrapperFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      DFSanLoadCallbackFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      DFSanStoreCallbackFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      DFSanMemTransferCallbackFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      DFSanConditionalCallbackFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      DFSanConditionalCallbackOriginFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      DFSanReachesFunctionCallbackFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      DFSanReachesFunctionCallbackOriginFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      DFSanCmpCallbackFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      DFSanChainOriginFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      DFSanChainOriginIfTaintedFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      DFSanMemOriginTransferFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      DFSanMemShadowOriginTransferFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      DFSanMemShadowOriginConditionalExchangeFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;          -&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      DFSanMaybeStoreOriginFn.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;}</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="comment">// Initializes event callback functions and declare them in the module</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="keywordtype">void</span> DataFlowSanitizer::initializeCallbackFunctions(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    DFSanLoadCallbackFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="stringliteral">&quot;__dfsan_load_callback&quot;</span>, DFSanLoadStoreCallbackFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  }</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    DFSanStoreCallbackFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        <span class="stringliteral">&quot;__dfsan_store_callback&quot;</span>, DFSanLoadStoreCallbackFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  DFSanMemTransferCallbackFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="stringliteral">&quot;__dfsan_mem_transfer_callback&quot;</span>, DFSanMemTransferCallbackFnTy);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    DFSanCmpCallbackFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_cmp_callback&quot;</span>,</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                                                  DFSanCmpCallbackFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    DFSanConditionalCallbackFn = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="stringliteral">&quot;__dfsan_conditional_callback&quot;</span>, DFSanConditionalCallbackFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    DFSanConditionalCallbackOriginFn =</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_conditional_callback_origin&quot;</span>,</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                                 DFSanConditionalCallbackOriginFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    DFSanReachesFunctionCallbackFn =</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_reaches_function_callback&quot;</span>,</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                                 DFSanReachesFunctionCallbackFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  }</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  {</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>.addParamAttribute(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0, Attribute::ZExt);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    DFSanReachesFunctionCallbackOriginFn =</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_reaches_function_callback_origin&quot;</span>,</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                                 DFSanReachesFunctionCallbackOriginFnTy, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;}</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160; </div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="ExpandLargeDivRem_8cpp.html#ae64f9cd0977a8b47570154312540d7d2">DataFlowSanitizer::runImpl</a>(</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1function__ref.html">llvm::function_ref</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; GetTLI) {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  initializeModule(M);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordflow">if</span> (ABIList.isIn(M, <span class="stringliteral">&quot;skip&quot;</span>))</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> InitialGlobalSize = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.global_size();</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> InitialModuleSize = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.size();</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keyword">auto</span> GetOrInsertGlobal = [<span class="keyword">this</span>, &amp;Changed](<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>,</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                                            <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) -&gt; <a class="code" href="classllvm_1_1Constant.html">Constant</a> * {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abd8f7242df6ecb10f429c4d39403c334">getOrInsertGlobal</a>(Name, Ty);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a> = dyn_cast&lt;GlobalVariable&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      Changed |= <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>-&gt;getThreadLocalMode() != <a class="code" href="classllvm_1_1GlobalValue.html#a05c6b3b9372b56d130e005db4837da62a92e26a4a1218d351f5a91e7385a3a320">GlobalVariable::InitialExecTLSModel</a>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>-&gt;setThreadLocalMode(<a class="code" href="classllvm_1_1GlobalValue.html#a05c6b3b9372b56d130e005db4837da62a92e26a4a1218d351f5a91e7385a3a320">GlobalVariable::InitialExecTLSModel</a>);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  };</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">// These globals must be kept in sync with the ones in dfsan.cpp.</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  ArgTLS =</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      GetOrInsertGlobal(<span class="stringliteral">&quot;__dfsan_arg_tls&quot;</span>,</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                        <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(<a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(*Ctx), <a class="code" href="DataFlowSanitizer_8cpp.html#ad30c696cca6f4b772507385a14bbfdfe">ArgTLSSize</a> / 8));</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  RetvalTLS = GetOrInsertGlobal(</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      <span class="stringliteral">&quot;__dfsan_retval_tls&quot;</span>,</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(<a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(*Ctx), <a class="code" href="DataFlowSanitizer_8cpp.html#ae113878cee8d330c91e109f381fe6d2b">RetvalTLSSize</a> / 8));</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  ArgOriginTLSTy = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(OriginTy, NumOfElementsInArgOrgTLS);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  ArgOriginTLS = GetOrInsertGlobal(<span class="stringliteral">&quot;__dfsan_arg_origin_tls&quot;</span>, ArgOriginTLSTy);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  RetvalOriginTLS = GetOrInsertGlobal(<span class="stringliteral">&quot;__dfsan_retval_origin_tls&quot;</span>, OriginTy);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  (void)<a class="code" href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a>-&gt;<a class="code" href="classllvm_1_1Module.html#abd8f7242df6ecb10f429c4d39403c334">getOrInsertGlobal</a>(<span class="stringliteral">&quot;__dfsan_track_origins&quot;</span>, OriginTy, [&amp;] {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        M, OriginTy, <span class="keyword">true</span>, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca696bb1c9b0b0e76bb70c61f68866452a">GlobalValue::WeakODRLinkage</a>,</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">ConstantInt::getSigned</a>(OriginTy,</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                               shouldTrackOrigins() ? <a class="code" href="DataFlowSanitizer_8cpp.html#a5b7bd5454a3884ed4ca707e9a238774e">ClTrackOrigins</a> : 0),</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <span class="stringliteral">&quot;__dfsan_track_origins&quot;</span>);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  });</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  initializeCallbackFunctions(M);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  initializeRuntimeFunctions(M);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  std::vector&lt;Function *&gt; FnsToInstrument;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Function *, 2&gt;</a> FnsWithNativeABI;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Function *, 2&gt;</a> FnsWithForceZeroLabel;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Constant *, 1&gt;</a> PersonalityFns;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : M)</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isIntrinsic() &amp;&amp; !DFSanRuntimeFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) &amp;&amp;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        !LibAtomicFunction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      FnsToInstrument.push_back(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasPersonalityFn())</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        PersonalityFns.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getPersonalityFn()-&gt;stripPointerCasts());</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a41cc1665f91164935c2373e033440acc">ClIgnorePersonalityRoutine</a>) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : PersonalityFns) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;Function&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) &amp;&amp; <span class="stringliteral">&quot;Personality routine is not a function!&quot;</span>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = cast&lt;Function&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keywordflow">if</span> (!isInstrumented(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <a class="code" href="namespacellvm.html#aa82bb12b2879425012b3742487e10964">llvm::erase_value</a>(FnsToInstrument, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="comment">// Give function aliases prefixes when necessary, and build wrappers where the</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="comment">// instrumentedness is inconsistent.</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> &amp;GA : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.aliases())) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="comment">// Don&#39;t stop on weak.  We assume people aren&#39;t playing games with the</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="comment">// instrumentedness of overridden weak aliases.</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(GA.<a class="code" href="classllvm_1_1GlobalAlias.html#a311a097af4f0f77da22ac7acddc496f5">getAliaseeObject</a>());</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordtype">bool</span> GAInst = isInstrumented(&amp;GA), FInst = isInstrumented(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <span class="keywordflow">if</span> (GAInst &amp;&amp; FInst) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      addGlobalNameSuffix(&amp;GA);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GAInst != FInst) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      <span class="comment">// Non-instrumented alias of an instrumented function, or vice versa.</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <span class="comment">// Replace the alias with a native-ABI wrapper of the aliasee.  The pass</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      <span class="comment">// below will take care of instrumenting it.</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *NewF =</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;          buildWrapperFunction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="stringliteral">&quot;&quot;</span>, GA.<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType());</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      GA.<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(NewF, GA.<a class="code" href="classllvm_1_1GlobalValue.html#a92041fc7f781ba4fe708eec99139b72f">getType</a>()));</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      NewF-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(&amp;GA);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      GA.<a class="code" href="classllvm_1_1GlobalAlias.html#a09b07d472515f1d307c0e8229f6856fb">eraseFromParent</a>();</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      FnsToInstrument.push_back(NewF);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="comment">// TODO: This could be more precise.</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  ReadOnlyNoneAttrs.<a class="code" href="classllvm_1_1AttributeMask.html#a24c5ca4a1cb56d8279b5ac37dbb8e969">addAttribute</a>(Attribute::Memory);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160; </div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="comment">// First, change the ABI of every function in the module.  ABI-listed</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="comment">// functions keep their original ABI and get a wrapper function.</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keywordflow">for</span> (std::vector&lt;Function *&gt;::iterator FI = FnsToInstrument.begin(),</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                                         FE = FnsToInstrument.end();</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;       FI != FE; ++FI) {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = **FI;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFunctionType();</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordtype">bool</span> IsZeroArgsVoidRet = (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>() == 0 &amp;&amp; !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>() &amp;&amp;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                              FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>());</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160; </div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">if</span> (isInstrumented(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <span class="keywordflow">if</span> (isForceZeroLabels(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        FnsWithForceZeroLabel.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="comment">// Instrumented functions get a &#39;.dfsan&#39; suffix.  This allows us to more</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="comment">// easily identify cases of mismatching ABIs. This naming scheme is</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <span class="comment">// mangling-compatible (see Itanium ABI), using a vendor-specific suffix.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      addGlobalNameSuffix(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!IsZeroArgsVoidRet || getWrapperKind(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) == WK_Custom) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      <span class="comment">// Build a wrapper function for F.  The wrapper simply calls F, and is</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      <span class="comment">// added to FnsToInstrument so that any instrumentation according to its</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      <span class="comment">// WrapperKind is done in the second pass below.</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160; </div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      <span class="comment">// If the function being wrapped has local linkage, then preserve the</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      <span class="comment">// function&#39;s linkage in the wrapper function.</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> WrapperLinkage =</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasLocalLinkage() ? <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getLinkage()</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                              : <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">GlobalValue::LinkOnceODRLinkage</a>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *NewF = buildWrapperFunction(</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;          &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;          (shouldTrackOrigins() ? std::string(<span class="stringliteral">&quot;dfso$&quot;</span>) : std::string(<span class="stringliteral">&quot;dfsw$&quot;</span>)) +</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;              std::string(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName()),</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;          WrapperLinkage, FT);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a6875de46fcb2a74ca95bce67edd215a0">removeFnAttrs</a>(ReadOnlyNoneAttrs);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *WrappedFnCst =</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;          <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(NewF, <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(FT));</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <span class="comment">// Extern weak functions can sometimes be null at execution time.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      <span class="comment">// Code will sometimes check if an extern weak function is null.</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <span class="comment">// This could look something like:</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      <span class="comment">//   declare extern_weak i8 @my_func(i8)</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <span class="comment">//   br i1 icmp ne (i8 (i8)* @my_func, i8 (i8)* null), label %use_my_func,</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      <span class="comment">//   label %avoid_my_func</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      <span class="comment">// The @&quot;dfsw$my_func&quot; wrapper is never null, so if we replace this use</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;      <span class="comment">// in the comparison, the icmp will simplify to false and we have</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      <span class="comment">// accidentally optimized away a null check that is necessary.</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      <span class="comment">// This can lead to a crash when the null extern_weak my_func is called.</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="comment">// To prevent (the most common pattern of) this problem,</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <span class="comment">// do not replace uses in comparisons with the wrapper.</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <span class="comment">// We definitely want to replace uses in call instructions.</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      <span class="comment">// Other uses (e.g. store the function address somewhere) might be</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      <span class="comment">// called or compared or both - this case may not be handled correctly.</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      <span class="comment">// We will default to replacing with wrapper in cases we are unsure.</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <span class="keyword">auto</span> IsNotCmpUse = [](<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <a class="code" href="classllvm_1_1User.html">User</a> *Usr = U.getUser();</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(Usr)) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;          <span class="comment">// This is the most common case for icmp ne null</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1WinEH.html#a1c8d8103d6b914c2ade85873cb97f6d9a7a86131338bf955e0a56311f264aa6aa">CE</a>-&gt;getOpcode() == Instruction::ICmp) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;          }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        }</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(Usr)) {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == Instruction::ICmp) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;          }</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        }</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      };</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.replaceUsesWithIf(WrappedFnCst, IsNotCmpUse);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      UnwrappedFnMap[WrappedFnCst] = &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      *FI = NewF;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration()) {</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        <span class="comment">// This function is probably defining an interposition of an</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <span class="comment">// uninstrumented function and hence needs to keep the original ABI.</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        <span class="comment">// But any functions it may call need to use the instrumented ABI, so</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        <span class="comment">// we instrument it in a mode which preserves the original ABI.</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        FnsWithNativeABI.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        <span class="comment">// This code needs to rebuild the iterators, as they may be invalidated</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="comment">// by the push_back, taking care that the new range does not include</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <span class="comment">// any functions added by this code.</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = FI - FnsToInstrument.begin(),</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;               Count = FE - FnsToInstrument.begin();</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        FnsToInstrument.push_back(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        FI = FnsToInstrument.begin() + <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        FE = FnsToInstrument.begin() + Count;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <span class="comment">// Hopefully, nobody will try to indirectly call a vararg</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <span class="comment">// function... yet.</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>()) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      UnwrappedFnMap[&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>] = &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      *FI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160; </div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : FnsToInstrument) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration())</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <a class="code" href="namespacellvm.html#aec88b7682025edff7984c3b6c8da8ac9">removeUnreachableBlocks</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    DFSanFunction DFSF(*<span class="keyword">this</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, FnsWithNativeABI.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                       FnsWithForceZeroLabel.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>), GetTLI(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#af29b5662580048d22b33ad5a169ae57e">ClReachesFunctionCallbacks</a>) {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      <span class="comment">// Add callback for arguments reaching this function.</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;FArg : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;args()) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Next = &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getEntryBlock().front();</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *FArgShadow = DFSF.getShadow(&amp;FArg);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keywordflow">if</span> (isZeroShadow(FArgShadow))</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *FArgShadowInst = dyn_cast&lt;Instruction&gt;(FArgShadow)) {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;          Next = FArgShadowInst-&gt;<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>();</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="keywordflow">if</span> (shouldTrackOrigins()) {</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Origin =</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                  dyn_cast&lt;Instruction&gt;(DFSF.getOrigin(&amp;FArg))) {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            <span class="comment">// Ensure IRB insertion point is after loads for shadow and origin.</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OriginNext = Origin-&gt;<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>();</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            <span class="keywordflow">if</span> (Next-&gt;<a class="code" href="classllvm_1_1Instruction.html#a784097fca76abad9e815cf1692de79c4">comesBefore</a>(OriginNext)) {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;              Next = OriginNext;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;          }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        }</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Next);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        DFSF.addReachesFunctionCallbacksIfEnabled(IRB, *Next, &amp;FArg);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      }</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    }</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="comment">// DFSanVisitor may create new basic blocks, which confuses df_iterator.</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="comment">// Build a copy of the list before iterating over it.</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 4&gt;</a> BBList(<a class="code" href="namespacellvm.html#add49d9f7abebe402adf1a57c762abeef">depth_first</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getEntryBlock()));</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160; </div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : BBList) {</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;front();</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <span class="comment">// DFSanVisitor may split the current basic block, changing the current</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <span class="comment">// instruction&#39;s next pointer and moving the next instruction to the</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        <span class="comment">// tail block from which we should continue.</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Next = Inst-&gt;<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>();</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <span class="comment">// DFSanVisitor may delete Inst, so keep track of whether it was a</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <span class="comment">// terminator.</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="keywordtype">bool</span> IsTerminator = Inst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a7653277511df1034148a37520a585bb5">isTerminator</a>();</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordflow">if</span> (!DFSF.SkipInsts.count(Inst))</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;          DFSanVisitor(DFSF).visit(Inst);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">if</span> (IsTerminator)</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        Inst = Next;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      }</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    }</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160; </div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="comment">// We will not necessarily be able to compute the shadow for every phi node</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="comment">// until we have visited every block.  Therefore, the code that handles phi</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="comment">// nodes adds them to the PHIFixups list so that they can be properly</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="comment">// handled here.</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordflow">for</span> (DFSanFunction::PHIFixupElement &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : DFSF.PHIFixups) {</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Val = 0, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Phi-&gt;getNumIncomingValues(); Val != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;           ++Val) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.ShadowPhi-&gt;setIncomingValue(</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            Val, DFSF.getShadow(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Phi-&gt;getIncomingValue(Val)));</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.OriginPhi)</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;          <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.OriginPhi-&gt;setIncomingValue(</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;              Val, DFSF.getOrigin(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Phi-&gt;getIncomingValue(Val)));</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      }</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="comment">// -dfsan-debug-nonzero-labels will split the CFG in all kinds of crazy</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="comment">// places (i.e. instructions in basic blocks we haven&#39;t even begun visiting</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="comment">// yet).  To make our life easier, do this work in a pass after the main</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="comment">// instrumentation.</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a69644a7eea491dc2e57182f69d045126">ClDebugNonzeroLabels</a>) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : DFSF.NonZeroChecks) {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V))</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;          Pos = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNextNode();</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;          Pos = &amp;DFSF.F-&gt;getEntryBlock().front();</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        <span class="keywordflow">while</span> (isa&lt;PHINode&gt;(Pos) || isa&lt;AllocaInst&gt;(Pos))</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;          Pos = Pos-&gt;<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>();</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow = DFSF.collapseToPrimitiveShadow(V, Pos);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Ne =</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;            IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a10939072861a38a7a84ab097703cb034">CreateICmpNE</a>(PrimitiveShadow, DFSF.DFS.ZeroPrimitiveShadow);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = cast&lt;BranchInst&gt;(<a class="code" href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">SplitBlockAndInsertIfThen</a>(</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            Ne, Pos, <span class="comment">/*Unreachable=*/</span><span class="keyword">false</span>, ColdCallWeights));</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> ThenIRB(BI);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        ThenIRB.CreateCall(DFSF.DFS.DFSanNonzeroLabelFn, {});</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      }</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    }</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keywordflow">return</span> Changed || !FnsToInstrument.empty() ||</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;         <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.global_size() != InitialGlobalSize || <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.size() != InitialModuleSize;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;}</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160; </div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getArgTLS(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a>, <span class="keywordtype">unsigned</span> ArgOffset, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(DFS.ArgTLS, DFS.IntptrTy);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="keywordflow">if</span> (ArgOffset)</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">CreateAdd</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(DFS.IntptrTy, ArgOffset));</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">PointerType::get</a>(DFS.getShadowTy(<a class="code" href="classT.html">T</a>), 0),</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                            <span class="stringliteral">&quot;_dfsarg&quot;</span>);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;}</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getRetvalTLS(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a>, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      DFS.RetvalTLS, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">PointerType::get</a>(DFS.getShadowTy(<a class="code" href="classT.html">T</a>), 0), <span class="stringliteral">&quot;_dfsret&quot;</span>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;}</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getRetvalOriginTLS() { <span class="keywordflow">return</span> DFS.RetvalOriginTLS; }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160; </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getArgOriginTLS(<span class="keywordtype">unsigned</span> ArgNo, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a5994f2e29f570cc5bfa97c8872b6615d">CreateConstGEP2_64</a>(DFS.ArgOriginTLSTy, DFS.ArgOriginTLS, 0, ArgNo,</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                                <span class="stringliteral">&quot;_dfsarg_o&quot;</span>);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;}</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getOrigin(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DFS.shouldTrackOrigins());</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;Argument&gt;(V) &amp;&amp; !isa&lt;Instruction&gt;(V))</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">return</span> DFS.ZeroOrigin;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Origin = ValOriginMap[V];</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="keywordflow">if</span> (!Origin) {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = dyn_cast&lt;Argument&gt;(V)) {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      <span class="keywordflow">if</span> (IsNativeABI)</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        <span class="keywordflow">return</span> DFS.ZeroOrigin;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;getArgNo() &lt; DFS.NumOfElementsInArgOrgTLS) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *ArgOriginTLSPos = &amp;*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getEntryBlock().begin();</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(ArgOriginTLSPos);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *ArgOriginPtr = getArgOriginTLS(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;getArgNo(), IRB);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        Origin = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(DFS.OriginTy, ArgOriginPtr);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="comment">// Overflow</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        Origin = DFS.ZeroOrigin;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      }</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      Origin = DFS.ZeroOrigin;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  }</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <span class="keywordflow">return</span> Origin;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;}</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="keywordtype">void</span> DFSanFunction::setOrigin(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin) {</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keywordflow">if</span> (!DFS.shouldTrackOrigins())</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ValOriginMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Origin-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == DFS.OriginTy);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  ValOriginMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = Origin;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;}</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getShadowForTLSArgument(<a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <span class="keywordtype">unsigned</span> ArgOffset = 0;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent()-&gt;getDataLayout();</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;FArg : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;args()) {</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">if</span> (!FArg.getType()-&gt;isSized()) {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> == &amp;FArg)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    }</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(DFS.getShadowTy(&amp;FArg));</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> != &amp;FArg) {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      ArgOffset += <a class="code" href="AArch64LoadStoreOptimizer_8cpp.html#a96bc92416c8a38a3c4a275b9e6c0beca">alignTo</a>(<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, <a class="code" href="DataFlowSanitizer_8cpp.html#a759b4bcc28d4cadef20a7b40af3cebce">ShadowTLSAlignment</a>);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      <span class="keywordflow">if</span> (ArgOffset &gt; <a class="code" href="DataFlowSanitizer_8cpp.html#ad30c696cca6f4b772507385a14bbfdfe">ArgTLSSize</a>)</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// ArgTLS overflows, uses a zero shadow.</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    }</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160; </div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">if</span> (ArgOffset + <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> &gt; <a class="code" href="DataFlowSanitizer_8cpp.html#ad30c696cca6f4b772507385a14bbfdfe">ArgTLSSize</a>)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      <span class="keywordflow">break</span>; <span class="comment">// ArgTLS overflows, uses a zero shadow.</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160; </div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *ArgTLSPos = &amp;*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getEntryBlock().begin();</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(ArgTLSPos);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ArgShadowPtr = getArgTLS(FArg.getType(), ArgOffset, IRB);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a1e0fea1b88c314ecffb18922c6be5e70">CreateAlignedLoad</a>(DFS.getShadowTy(&amp;FArg), ArgShadowPtr,</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                                 <a class="code" href="DataFlowSanitizer_8cpp.html#a759b4bcc28d4cadef20a7b40af3cebce">ShadowTLSAlignment</a>);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  }</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160; </div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keywordflow">return</span> DFS.getZeroShadow(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;}</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160; </div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;Argument&gt;(V) &amp;&amp; !isa&lt;Instruction&gt;(V))</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="keywordflow">return</span> DFS.getZeroShadow(V);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">if</span> (IsForceZeroLabels)</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordflow">return</span> DFS.getZeroShadow(V);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Shadow = ValShadowMap[V];</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="keywordflow">if</span> (!Shadow) {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = dyn_cast&lt;Argument&gt;(V)) {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="keywordflow">if</span> (IsNativeABI)</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <span class="keywordflow">return</span> DFS.getZeroShadow(V);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      Shadow = getShadowForTLSArgument(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      NonZeroChecks.push_back(Shadow);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      Shadow = DFS.getZeroShadow(V);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    }</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="keywordflow">return</span> Shadow;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;}</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160; </div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="keywordtype">void</span> DFSanFunction::setShadow(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow) {</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ValShadowMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  ValShadowMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = Shadow;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;}</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="comment">/// Compute the integer shadow offset that corresponds to a given</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">/// application address.</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="comment">/// Offset = (Addr &amp; ~AndMask) ^ XorMask</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Value.html">Value</a> *DataFlowSanitizer::getShadowOffset(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> != RetvalTLS &amp;&amp; <span class="stringliteral">&quot;Reinstrumenting?&quot;</span>);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *OffsetLong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, IntptrTy);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160; </div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AndMask = MapParams-&gt;AndMask;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="keywordflow">if</span> (AndMask)</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    OffsetLong =</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">CreateAnd</a>(OffsetLong, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(IntptrTy, ~AndMask));</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> XorMask = MapParams-&gt;XorMask;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <span class="keywordflow">if</span> (XorMask)</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    OffsetLong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a84652ca512637318e6729c659cf4541d">CreateXor</a>(OffsetLong, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(IntptrTy, XorMask));</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keywordflow">return</span> OffsetLong;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;}</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160; </div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;std::pair&lt;Value *, Value *&gt;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;DataFlowSanitizer::getShadowOriginAddress(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment,</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                                          <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="comment">// Returns ((Addr &amp; shadow_mask) + origin_base - shadow_base) &amp; ~4UL</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowOffset = getShadowOffset(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, IRB);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowLong = ShadowOffset;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShadowBase = MapParams-&gt;ShadowBase;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="keywordflow">if</span> (ShadowBase != 0) {</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    ShadowLong =</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">CreateAdd</a>(ShadowLong, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(IntptrTy, ShadowBase));</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  }</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ShadowTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">IntegerType::get</a>(*Ctx, ShadowWidthBits);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowPtr =</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(ShadowLong, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">PointerType::get</a>(ShadowTy, 0));</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *OriginPtr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="keywordflow">if</span> (shouldTrackOrigins()) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *OriginLong = ShadowOffset;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> OriginBase = MapParams-&gt;OriginBase;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordflow">if</span> (OriginBase != 0)</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      OriginLong =</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;          IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">CreateAdd</a>(OriginLong, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(IntptrTy, OriginBase));</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="namespacellvm.html#ad4b2e7a84faf3d7b6ffb84b541358e00">llvm::assumeAligned</a>(InstAlignment.<a class="code" href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">value</a>());</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="comment">// When alignment is &gt;= 4, Addr must be aligned to 4, otherwise it is UB.</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="comment">// So Mask is unnecessary.</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">if</span> (Alignment &lt; <a class="code" href="DataFlowSanitizer_8cpp.html#a3d392a14b38e5ca75d7cb0390bd7fc43">MinOriginAlignment</a>) {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="DataFlowSanitizer_8cpp.html#a3d392a14b38e5ca75d7cb0390bd7fc43">MinOriginAlignment</a>.<a class="code" href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">value</a>() - 1;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;      OriginLong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">CreateAnd</a>(OriginLong, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(IntptrTy, ~<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>));</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    }</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    OriginPtr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(OriginLong, OriginPtrTy);</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <span class="keywordflow">return</span> std::make_pair(ShadowPtr, OriginPtr);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;}</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160; </div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DataFlowSanitizer::getShadowAddress(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos,</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                                           <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowOffset) {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(ShadowOffset, PrimitiveShadowPtrTy);</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;}</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DataFlowSanitizer::getShadowAddress(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowOffset = getShadowOffset(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, IRB);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="keywordflow">return</span> getShadowAddress(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, Pos, ShadowOffset);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;}</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160; </div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::combineShadowsThenConvert(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *V1, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>,</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                                                <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveValue = combineShadows(V1, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, Pos);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="keywordflow">return</span> expandFromPrimitiveShadow(<a class="code" href="classT.html">T</a>, PrimitiveValue, Pos);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;}</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="comment">// Generates IR to compute the union of the two given shadows, inserting it</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="comment">// before Pos. The combined value is with primitive type.</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::combineShadows(<a class="code" href="classllvm_1_1Value.html">Value</a> *V1, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="keywordflow">if</span> (DFS.isZeroShadow(V1))</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">return</span> collapseToPrimitiveShadow(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, Pos);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="keywordflow">if</span> (DFS.isZeroShadow(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>))</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">return</span> collapseToPrimitiveShadow(V1, Pos);</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="keywordflow">if</span> (V1 == <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>)</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <span class="keywordflow">return</span> collapseToPrimitiveShadow(V1, Pos);</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160; </div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keyword">auto</span> V1Elems = ShadowElements.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(V1);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="keyword">auto</span> V2Elems = ShadowElements.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>);</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordflow">if</span> (V1Elems != ShadowElements.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp; V2Elems != ShadowElements.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <span class="keywordflow">if</span> (std::includes(V1Elems-&gt;second.begin(), V1Elems-&gt;second.end(),</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                      V2Elems-&gt;second.begin(), V2Elems-&gt;second.end())) {</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      <span class="keywordflow">return</span> collapseToPrimitiveShadow(V1, Pos);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    }</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">if</span> (std::includes(V2Elems-&gt;second.begin(), V2Elems-&gt;second.end(),</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                      V1Elems-&gt;second.begin(), V1Elems-&gt;second.end())) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;      <span class="keywordflow">return</span> collapseToPrimitiveShadow(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, Pos);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    }</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (V1Elems != ShadowElements.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">if</span> (V1Elems-&gt;second.count(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>))</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;      <span class="keywordflow">return</span> collapseToPrimitiveShadow(V1, Pos);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (V2Elems != ShadowElements.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <span class="keywordflow">if</span> (V2Elems-&gt;second.count(V1))</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;      <span class="keywordflow">return</span> collapseToPrimitiveShadow(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, Pos);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  }</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160; </div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> = std::make_pair(V1, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  <span class="keywordflow">if</span> (V1 &gt; <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>)</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>.first, <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>.second);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  CachedShadow &amp;CCS = CachedShadows[<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>];</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="keywordflow">if</span> (CCS.Block &amp;&amp; DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(CCS.Block, Pos-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()))</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">return</span> CCS.Shadow;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160; </div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <span class="comment">// Converts inputs shadows to shadows with primitive types.</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PV1 = collapseToPrimitiveShadow(V1, Pos);</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PV2 = collapseToPrimitiveShadow(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, Pos);</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  CCS.Block = Pos-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  CCS.Shadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(PV1, PV2);</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160; </div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  std::set&lt;Value *&gt; UnionElems;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <span class="keywordflow">if</span> (V1Elems != ShadowElements.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    UnionElems = V1Elems-&gt;second;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    UnionElems.insert(V1);</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  }</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="keywordflow">if</span> (V2Elems != ShadowElements.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    UnionElems.insert(V2Elems-&gt;second.begin(), V2Elems-&gt;second.end());</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    UnionElems.insert(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  }</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  ShadowElements[CCS.Shadow] = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(UnionElems);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160; </div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keywordflow">return</span> CCS.Shadow;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;}</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160; </div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;<span class="comment">// A convenience function which folds the shadows of each of the operands</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="comment">// of the provided instruction Inst, inserting the IR before Inst.  Returns</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="comment">// the computed union Value.</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::combineOperandShadows(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="keywordflow">if</span> (Inst-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() == 0)</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="keywordflow">return</span> DFS.getZeroShadow(Inst);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow = getShadow(Inst-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = Inst-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    Shadow = combineShadows(Shadow, getShadow(Inst-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), Inst);</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160; </div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="keywordflow">return</span> expandFromPrimitiveShadow(Inst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), Shadow, Inst);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;}</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160; </div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitInstOperands(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CombinedShadow = DFSF.combineOperandShadows(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  DFSF.setShadow(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, CombinedShadow);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  visitInstOperandOrigins(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;}</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160; </div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::combineOrigins(<span class="keyword">const</span> std::vector&lt;Value *&gt; &amp;Shadows,</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                                     <span class="keyword">const</span> std::vector&lt;Value *&gt; &amp;Origins,</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                                     <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos, <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Zero) {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Shadows.size() == Origins.size());</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = Origins.size();</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == 0)</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">return</span> DFS.ZeroOrigin;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="keywordflow">if</span> (!Zero)</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = DFS.ZeroPrimitiveShadow;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *OpOrigin = Origins[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ConstOpOrigin = dyn_cast&lt;Constant&gt;(OpOrigin);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keywordflow">if</span> (ConstOpOrigin &amp;&amp; ConstOpOrigin-&gt;<a class="code" href="classllvm_1_1Constant.html#ae4b6abe77abf42fb02081a6cc41a0132">isNullValue</a>())</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">if</span> (!Origin) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      Origin = OpOrigin;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    }</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *OpShadow = Shadows[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow = collapseToPrimitiveShadow(OpShadow, Pos);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a10939072861a38a7a84ab097703cb034">CreateICmpNE</a>(PrimitiveShadow, Zero);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    Origin = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a49b228f797f9b3563256da446100c3ac">CreateSelect</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, OpOrigin, Origin);</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  }</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="keywordflow">return</span> Origin ? Origin : DFS.ZeroOrigin;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;}</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::combineOperandOrigins(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = Inst-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>();</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  std::vector&lt;Value *&gt; Shadows(<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>);</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  std::vector&lt;Value *&gt; Origins(<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>);</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    Shadows[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = getShadow(Inst-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    Origins[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = getOrigin(Inst-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  }</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="keywordflow">return</span> combineOrigins(Shadows, Origins, Inst);</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;}</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitInstOperandOrigins(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="keywordflow">if</span> (!DFSF.DFS.shouldTrackOrigins())</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CombinedOrigin = DFSF.combineOperandOrigins(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  DFSF.setOrigin(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, CombinedOrigin);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;}</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160; </div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;<a class="code" href="structllvm_1_1Align.html">Align</a> DFSanFunction::getShadowAlign(<a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment) {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="DataFlowSanitizer_8cpp.html#a9fba3ba3792fba1de1c0143064224336">ClPreserveAlignment</a> ? InstAlignment : <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(Alignment.<a class="code" href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">value</a>() * DFS.ShadowWidthBytes);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;}</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<a class="code" href="structllvm_1_1Align.html">Align</a> DFSanFunction::getOriginAlign(<a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment) {</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="namespacellvm.html#ad4b2e7a84faf3d7b6ffb84b541358e00">llvm::assumeAligned</a>(InstAlignment.<a class="code" href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">value</a>());</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(<a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="DataFlowSanitizer_8cpp.html#a3d392a14b38e5ca75d7cb0390bd7fc43">MinOriginAlignment</a>, Alignment));</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;}</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="keywordtype">bool</span> DFSanFunction::isLookupTableConstant(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = dyn_cast&lt;GlobalVariable&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;stripPointerCasts()))</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">if</span> (GV-&gt;isConstant() &amp;&amp; GV-&gt;<a class="code" href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">hasName</a>())</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="keywordflow">return</span> DFS.CombineTaintLookupTableNames.count(GV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160; </div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;}</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160; </div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="keywordtype">bool</span> DFSanFunction::useCallbackLoadLabelAndOrigin(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>,</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;                                                  <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment) {</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <span class="comment">// When enabling tracking load instructions, we always use</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  <span class="comment">// __dfsan_load_label_and_origin to reduce code size.</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a5b7bd5454a3884ed4ca707e9a238774e">ClTrackOrigins</a> == 2)</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160; </div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> != 0);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="comment">// * if Size == 1, it is sufficient to load its origin aligned at 4.</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="comment">// * if Size == 2, we assume most cases Addr % 2 == 0, so it is sufficient to</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <span class="comment">//   load its origin aligned at 4. If not, although origins may be lost, it</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <span class="comment">//   should not happen very often.</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="comment">// * if align &gt;= 4, Addr must be aligned to 4, otherwise it is UB. When</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="comment">//   Size % 4 == 0, it is more efficient to load origins without callbacks.</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="comment">// * Otherwise we use __dfsan_load_label_and_origin.</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <span class="comment">// This should ensure that common cases run efficiently.</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> &lt;= 2)</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160; </div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="namespacellvm.html#ad4b2e7a84faf3d7b6ffb84b541358e00">llvm::assumeAligned</a>(InstAlignment.<a class="code" href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">value</a>());</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="keywordflow">return</span> Alignment &lt; <a class="code" href="DataFlowSanitizer_8cpp.html#a3d392a14b38e5ca75d7cb0390bd7fc43">MinOriginAlignment</a> || !DFS.hasLoadSizeForFastPath(<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>);</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;}</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160; </div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DataFlowSanitizer::loadNextOrigin(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos, <a class="code" href="structllvm_1_1Align.html">Align</a> OriginAlign,</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                                         <a class="code" href="classllvm_1_1Value.html">Value</a> **OriginAddr) {</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  *OriginAddr =</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afb5c46a140e1b7f08de54d9c035a8adc">CreateGEP</a>(OriginTy, *OriginAddr, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(IntptrTy, 1));</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a1e0fea1b88c314ecffb18922c6be5e70">CreateAlignedLoad</a>(OriginTy, *OriginAddr, OriginAlign);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;}</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160; </div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;std::pair&lt;Value *, Value *&gt; DFSanFunction::loadShadowFast(</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr, <a class="code" href="classllvm_1_1Value.html">Value</a> *OriginAddr, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, <a class="code" href="structllvm_1_1Align.html">Align</a> ShadowAlign,</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> OriginAlign, <a class="code" href="classllvm_1_1Value.html">Value</a> *FirstOrigin, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> ShouldTrackOrigins = DFS.shouldTrackOrigins();</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShadowSize = <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> * DFS.ShadowWidthBytes;</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160; </div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> &gt;= 4 &amp;&amp; <span class="stringliteral">&quot;Not large enough load size for fast path!&quot;</span>);</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="comment">// Used for origin tracking.</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  std::vector&lt;Value *&gt; Shadows;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  std::vector&lt;Value *&gt; Origins;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160; </div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  <span class="comment">// Load instructions in LLVM can have arbitrary byte sizes (e.g., 3, 12, 20)</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <span class="comment">// but this function is only used in a subset of cases that make it possible</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="comment">// to optimize the instrumentation.</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  <span class="comment">// Specifically, when the shadow size in bytes (i.e., loaded bytes x shadow</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="comment">// per byte) is either:</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="comment">// - a multiple of 8  (common)</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="comment">// - equal to 4       (only for load32)</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <span class="comment">// For the second case, we can fit the wide shadow in a 32-bit integer. In all</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="comment">// other cases, we use a 64-bit integer to hold the wide shadow.</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *WideShadowTy =</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      ShadowSize == 4 ? Type::getInt32Ty(*DFS.Ctx) : <a class="code" href="classllvm_1_1Type.html">Type</a>::getInt64Ty(*DFS.Ctx);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160; </div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *WideAddr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(ShadowAddr, WideShadowTy-&gt;<a class="code" href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">getPointerTo</a>());</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CombinedWideShadow =</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a1e0fea1b88c314ecffb18922c6be5e70">CreateAlignedLoad</a>(WideShadowTy, WideAddr, ShadowAlign);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <span class="keywordtype">unsigned</span> WideShadowBitWidth = WideShadowTy-&gt;<a class="code" href="classllvm_1_1Type.html#a13e877ef779ba7a0688081079f4f9b03">getIntegerBitWidth</a>();</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BytesPerWideShadow = WideShadowBitWidth / DFS.ShadowWidthBits;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keyword">auto</span> AppendWideShadowAndOrigin = [&amp;](<a class="code" href="classllvm_1_1Value.html">Value</a> *WideShadow, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin) {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">if</span> (BytesPerWideShadow &gt; 4) {</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BytesPerWideShadow == 8);</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      <span class="comment">// The wide shadow relates to two origin pointers: one for the first four</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;      <span class="comment">// application bytes, and one for the latest four. We use a left shift to</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      <span class="comment">// get just the shadow bytes that correspond to the first origin pointer,</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      <span class="comment">// and then the entire shadow for the second origin pointer (which will be</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;      <span class="comment">// chosen by combineOrigins() iff the least-significant half of the wide</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      <span class="comment">// shadow was empty but the other half was not).</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *WideShadowLo = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae69ee83570f05c1d5fb5026c11145d6b">CreateShl</a>(</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;          WideShadow, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(WideShadowTy, WideShadowBitWidth / 2));</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;      Shadows.push_back(WideShadow);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      Origins.push_back(DFS.loadNextOrigin(Pos, OriginAlign, &amp;OriginAddr));</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160; </div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;      Shadows.push_back(WideShadowLo);</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      Origins.push_back(Origin);</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;      Shadows.push_back(WideShadow);</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      Origins.push_back(Origin);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  };</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160; </div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  <span class="keywordflow">if</span> (ShouldTrackOrigins)</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    AppendWideShadowAndOrigin(CombinedWideShadow, FirstOrigin);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  <span class="comment">// First OR all the WideShadows (i.e., 64bit or 32bit shadow chunks) linearly;</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  <span class="comment">// then OR individual shadows within the combined WideShadow by binary ORing.</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="comment">// This is fewer instructions than ORing shadows individually, since it</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="comment">// needs logN shift/or instructions (N being the bytes of the combined wide</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="comment">// shadow).</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ByteOfs = BytesPerWideShadow; ByteOfs &lt; <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;       ByteOfs += BytesPerWideShadow) {</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    WideAddr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afb5c46a140e1b7f08de54d9c035a8adc">CreateGEP</a>(WideShadowTy, WideAddr,</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                             <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(DFS.IntptrTy, 1));</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NextWideShadow =</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a1e0fea1b88c314ecffb18922c6be5e70">CreateAlignedLoad</a>(WideShadowTy, WideAddr, ShadowAlign);</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    CombinedWideShadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(CombinedWideShadow, NextWideShadow);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NextOrigin = DFS.loadNextOrigin(Pos, OriginAlign, &amp;OriginAddr);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      AppendWideShadowAndOrigin(NextWideShadow, NextOrigin);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    }</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  }</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = WideShadowBitWidth / 2; <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> &gt;= DFS.ShadowWidthBits;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;       <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> &gt;&gt;= 1) {</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShrShadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae7f65cf79c9900a2b0504fbc25db1428">CreateLShr</a>(CombinedWideShadow, <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    CombinedWideShadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(CombinedWideShadow, ShrShadow);</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  <span class="keywordflow">return</span> {IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a08230b6650e11747ef33144f1e463064">CreateTrunc</a>(CombinedWideShadow, DFS.PrimitiveShadowTy),</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;          ShouldTrackOrigins</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;              ? combineOrigins(Shadows, Origins, Pos,</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                               ConstantInt::getSigned(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a2e32c414382ed5fd53a770026361ed19">getInt64Ty</a>(), 0))</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;              : DFS.ZeroOrigin};</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;}</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;std::pair&lt;Value *, Value *&gt; DFSanFunction::loadShadowOriginSansLoadTracking(</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> ShouldTrackOrigins = DFS.shouldTrackOrigins();</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="comment">// Non-escaped loads.</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = dyn_cast&lt;AllocaInst&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = AllocaShadowMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(AI);</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> != AllocaShadowMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowLI = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(DFS.PrimitiveShadowTy, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;second);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> OI = AllocaOriginMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(AI);</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ShouldTrackOrigins || OI != AllocaOriginMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>());</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      <span class="keywordflow">return</span> {ShadowLI, ShouldTrackOrigins</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;                            ? IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(DFS.OriginTy, OI-&gt;second)</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;                            : <span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    }</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  }</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160; </div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="comment">// Load from constant addresses.</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 2&gt;</a> Objs;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <a class="code" href="MachinePipeliner_8cpp.html#a1c6ca3bca5d47b669bf974f527f05c8c">getUnderlyingObjects</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, Objs);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <span class="keywordtype">bool</span> AllConstants = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Obj : Objs) {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Function&gt;(Obj) || isa&lt;BlockAddress&gt;(Obj))</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <span class="keywordflow">if</span> (isa&lt;GlobalVariable&gt;(Obj) &amp;&amp; cast&lt;GlobalVariable&gt;(Obj)-&gt;<a class="code" href="AMDGPUInstructionSelector_8cpp.html#a6dee2d9e1e2a288de903228075ac71de">isConstant</a>())</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160; </div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    AllConstants = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  }</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="keywordflow">if</span> (AllConstants)</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <span class="keywordflow">return</span> {DFS.ZeroPrimitiveShadow,</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            ShouldTrackOrigins ? DFS.ZeroOrigin : <span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160; </div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == 0)</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keywordflow">return</span> {DFS.ZeroPrimitiveShadow,</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;            ShouldTrackOrigins ? DFS.ZeroOrigin : <span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160; </div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <span class="comment">// Use callback to load if this is not an optimizable case for origin</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="comment">// tracking.</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="keywordflow">if</span> (ShouldTrackOrigins &amp;&amp;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;      useCallbackLoadLabelAndOrigin(<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, InstAlignment)) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a> =</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFS.DFSanLoadLabelAndOriginFn,</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;                       {IRB.CreatePointerCast(Addr, IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;                        ConstantInt::get(DFS.IntptrTy, Size)});</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;addRetAttr(Attribute::ZExt);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="keywordflow">return</span> {IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a08230b6650e11747ef33144f1e463064">CreateTrunc</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae7f65cf79c9900a2b0504fbc25db1428">CreateLShr</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>, DFS.OriginWidthBits),</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;                            DFS.PrimitiveShadowTy),</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;            IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a08230b6650e11747ef33144f1e463064">CreateTrunc</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>, DFS.OriginTy)};</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160; </div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  <span class="comment">// Other cases that support loading shadows or origins in a fast way.</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr, *OriginAddr;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  std::tie(ShadowAddr, OriginAddr) =</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;      DFS.getShadowOriginAddress(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, InstAlignment, Pos);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160; </div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> ShadowAlign = getShadowAlign(InstAlignment);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> OriginAlign = getOriginAlign(InstAlignment);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    Origin = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a1e0fea1b88c314ecffb18922c6be5e70">CreateAlignedLoad</a>(DFS.OriginTy, OriginAddr, OriginAlign);</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160; </div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <span class="comment">// When the byte size is small enough, we can load the shadow directly with</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  <span class="comment">// just a few instructions.</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>) {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="keywordflow">case</span> 1: {</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = <span class="keyword">new</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a>(DFS.PrimitiveShadowTy, ShadowAddr, <span class="stringliteral">&quot;&quot;</span>, Pos);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#a2b1268b642e9bf4373b6fb31c482c9ca">setAlignment</a>(ShadowAlign);</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordflow">return</span> {LI, Origin};</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  }</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="keywordflow">case</span> 2: {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr1 = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afb5c46a140e1b7f08de54d9c035a8adc">CreateGEP</a>(DFS.PrimitiveShadowTy, ShadowAddr,</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                                       <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(DFS.IntptrTy, 1));</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> =</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a1e0fea1b88c314ecffb18922c6be5e70">CreateAlignedLoad</a>(DFS.PrimitiveShadowTy, ShadowAddr, ShadowAlign);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Load1 =</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a1e0fea1b88c314ecffb18922c6be5e70">CreateAlignedLoad</a>(DFS.PrimitiveShadowTy, ShadowAddr1, ShadowAlign);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    <span class="keywordflow">return</span> {combineShadows(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, Load1, Pos), Origin};</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  }</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  }</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <span class="keywordtype">bool</span> HasSizeForFastPath = DFS.hasLoadSizeForFastPath(<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>);</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160; </div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <span class="keywordflow">if</span> (HasSizeForFastPath)</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keywordflow">return</span> loadShadowFast(ShadowAddr, OriginAddr, <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, ShadowAlign,</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;                          OriginAlign, Origin, Pos);</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160; </div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *FallbackCall = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      DFS.DFSanUnionLoadFn, {ShadowAddr, ConstantInt::get(DFS.IntptrTy, Size)});</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  FallbackCall-&gt;<a class="code" href="classllvm_1_1CallBase.html#aa94f59b6921a7cd3567439b3302a5357">addRetAttr</a>(Attribute::ZExt);</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <span class="keywordflow">return</span> {FallbackCall, Origin};</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;}</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160; </div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;std::pair&lt;Value *, Value *&gt; DFSanFunction::loadShadowOrigin(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;                                                            <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>,</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;                                                            <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment,</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;                                                            <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow, *Origin;</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  std::tie(PrimitiveShadow, Origin) =</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      loadShadowOriginSansLoadTracking(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, InstAlignment, Pos);</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <span class="keywordflow">if</span> (DFS.shouldTrackOrigins()) {</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a5b7bd5454a3884ed4ca707e9a238774e">ClTrackOrigins</a> == 2) {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      <span class="keyword">auto</span> *ConstantShadow = dyn_cast&lt;Constant&gt;(PrimitiveShadow);</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      <span class="keywordflow">if</span> (!ConstantShadow || !ConstantShadow-&gt;isZeroValue())</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        Origin = updateOriginIfTainted(PrimitiveShadow, Origin, IRB);</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    }</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  }</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="keywordflow">return</span> {PrimitiveShadow, Origin};</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;}</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160; </div>
<div class="line"><a name="l02337"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#a7af616ba2a31f5971eb4c842955aafa8"> 2337</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a7af616ba2a31f5971eb4c842955aafa8">addAcquireOrdering</a>(<a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> AO) {</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">switch</span> (AO) {</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::NotAtomic:</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="keywordflow">return</span> AtomicOrdering::NotAtomic;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README__P9_8txt.html#a0afe4617fad145d6ced5a18fd739cf06">AtomicOrdering::Unordered</a>:</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::Monotonic:</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::Acquire:</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    <span class="keywordflow">return</span> AtomicOrdering::Acquire;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::Release:</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::AcquireRelease:</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="keywordflow">return</span> AtomicOrdering::AcquireRelease;</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::SequentiallyConsistent:</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="keywordflow">return</span> AtomicOrdering::SequentiallyConsistent;</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  }</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown ordering&quot;</span>);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;}</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#affce0ded6e3bb84401db39444b68d8aa"> 2354</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="DataFlowSanitizer_8cpp.html#affce0ded6e3bb84401db39444b68d8aa">StripPointerGEPsAndCasts</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  <span class="keywordflow">if</span> (!V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160; </div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="comment">// DFSan pass should be running on valid IR, but we&#39;ll</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="comment">// keep a seen set to ensure there are no issues.</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const Value *, 4&gt;</a> Visited;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(V);</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GEPOperator&gt;(V)) {</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;      V = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand();</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="VPlanSLP_8cpp.html#af04704e906a9654777e92a4612c58c13">Operator::getOpcode</a>(V) == Instruction::BitCast) {</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;      V = cast&lt;Operator&gt;(V)-&gt;getOperand(0);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      <span class="keywordflow">if</span> (!V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;GlobalAlias&gt;(V)) {</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;      V = cast&lt;GlobalAlias&gt;(V)-&gt;getAliasee();</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    }</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  } <span class="keywordflow">while</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(V).second);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160; </div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;}</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160; </div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitLoadInst(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;LI) {</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = LI.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">getDataLayout</a>();</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeStoreSize(LI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == 0) {</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    DFSF.setShadow(&amp;LI, DFSF.DFS.getZeroShadow(&amp;LI));</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    DFSF.setOrigin(&amp;LI, DFSF.DFS.ZeroOrigin);</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  }</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160; </div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="comment">// When an application load is atomic, increase atomic ordering between</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="comment">// atomic application loads and stores to ensure happen-before order; load</span></div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  <span class="comment">// shadow data after application data; store zero shadow data before</span></div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="comment">// application data. This ensure shadow loads return either labels of the</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  <span class="comment">// initial application data or zeros.</span></div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <span class="keywordflow">if</span> (LI.<a class="code" href="classllvm_1_1Instruction.html#a57efb022f2ee2e19e4cdf582f4d27f2d">isAtomic</a>())</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    LI.<a class="code" href="classllvm_1_1LoadInst.html#a46adba111f7580ebfbb869a008de1818">setOrdering</a>(<a class="code" href="DataFlowSanitizer_8cpp.html#a7af616ba2a31f5971eb4c842955aafa8">addAcquireOrdering</a>(LI.<a class="code" href="classllvm_1_1LoadInst.html#a93603fe0d4168b92a901f06015ecb2e7">getOrdering</a>()));</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160; </div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *AfterLi = LI.<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>();</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos = LI.<a class="code" href="classllvm_1_1Instruction.html#a57efb022f2ee2e19e4cdf582f4d27f2d">isAtomic</a>() ? LI.<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>() : &amp;LI;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  std::vector&lt;Value *&gt; Shadows;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  std::vector&lt;Value *&gt; Origins;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow, *Origin;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  std::tie(PrimitiveShadow, Origin) =</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;      DFSF.loadShadowOrigin(LI.<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>(), <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, LI.<a class="code" href="classllvm_1_1LoadInst.html#af51c113a039c82f6870df5dc9666b5e3">getAlign</a>(), Pos);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> ShouldTrackOrigins = DFSF.DFS.shouldTrackOrigins();</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    Shadows.push_back(PrimitiveShadow);</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    Origins.push_back(Origin);</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  }</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#ab99441651669debbd9522db67c8228d7">ClCombinePointerLabelsOnLoad</a> ||</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;      DFSF.isLookupTableConstant(</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;          <a class="code" href="DataFlowSanitizer_8cpp.html#affce0ded6e3bb84401db39444b68d8aa">StripPointerGEPsAndCasts</a>(LI.<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>()))) {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrShadow = DFSF.getShadow(LI.<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>());</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    PrimitiveShadow = DFSF.combineShadows(PrimitiveShadow, PtrShadow, Pos);</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      Shadows.push_back(PtrShadow);</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      Origins.push_back(DFSF.getOrigin(LI.<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>()));</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    }</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  }</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="keywordflow">if</span> (!DFSF.DFS.isZeroShadow(PrimitiveShadow))</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    DFSF.NonZeroChecks.push_back(PrimitiveShadow);</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow =</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      DFSF.expandFromPrimitiveShadow(LI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), PrimitiveShadow, Pos);</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  DFSF.setShadow(&amp;LI, Shadow);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160; </div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    DFSF.setOrigin(&amp;LI, DFSF.combineOrigins(Shadows, Origins, Pos));</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  }</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160; </div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#aaa66c8024e3a858cfbddba0226a6521b">ClEventCallbacks</a>) {</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Addr8 = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(LI.<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>(), DFSF.DFS.Int8Ptr);</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI =</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFSF.DFS.DFSanLoadCallbackFn, {PrimitiveShadow, Addr8});</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae5d05ec2b9a60806746addff3f2a71a9">addParamAttr</a>(0, Attribute::ZExt);</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  }</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160; </div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(AfterLi);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  DFSF.addReachesFunctionCallbacksIfEnabled(IRB, LI, &amp;LI);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;}</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160; </div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::updateOriginIfTainted(<a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin,</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;                                            <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DFS.shouldTrackOrigins());</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFS.DFSanChainOriginIfTaintedFn, {Shadow, Origin});</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;}</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160; </div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::updateOrigin(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <span class="keywordflow">if</span> (!DFS.shouldTrackOrigins())</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFS.DFSanChainOriginFn, V);</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;}</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160; </div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::originToIntptr(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin) {</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> OriginSize = DataFlowSanitizer::OriginWidthBytes;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent()-&gt;getDataLayout();</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <span class="keywordtype">unsigned</span> IntptrSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeStoreSize(DFS.IntptrTy);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <span class="keywordflow">if</span> (IntptrSize == OriginSize)</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">return</span> Origin;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IntptrSize == OriginSize * 2);</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  Origin = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">CreateIntCast</a>(Origin, DFS.IntptrTy, <span class="comment">/* isSigned */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">CreateOr</a>(Origin, IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae69ee83570f05c1d5fb5026c11145d6b">CreateShl</a>(Origin, OriginSize * 8));</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;}</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160; </div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;<span class="keywordtype">void</span> DFSanFunction::paintOrigin(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin,</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                                <a class="code" href="classllvm_1_1Value.html">Value</a> *StoreOriginAddr,</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                                <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> StoreOriginSize, <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment) {</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> OriginSize = DataFlowSanitizer::OriginWidthBytes;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent()-&gt;getDataLayout();</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> IntptrAlignment = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getABITypeAlign(DFS.IntptrTy);</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="keywordtype">unsigned</span> IntptrSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeStoreSize(DFS.IntptrTy);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IntptrAlignment &gt;= <a class="code" href="DataFlowSanitizer_8cpp.html#a3d392a14b38e5ca75d7cb0390bd7fc43">MinOriginAlignment</a>);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IntptrSize &gt;= OriginSize);</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160; </div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  <span class="keywordtype">unsigned</span> Ofs = 0;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> CurrentAlignment = Alignment;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <span class="keywordflow">if</span> (Alignment &gt;= IntptrAlignment &amp;&amp; IntptrSize &gt; OriginSize) {</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *IntptrOrigin = originToIntptr(IRB, Origin);</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *IntptrStoreOriginPtr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        StoreOriginAddr, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">PointerType::get</a>(DFS.IntptrTy, 0));</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; StoreOriginSize / IntptrSize; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> =</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;          <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> ? IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a519198bac66aaa7c7dcee3dece00eac9">CreateConstGEP1_32</a>(DFS.IntptrTy, IntptrStoreOriginPtr, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;            : IntptrStoreOriginPtr;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#aa49ebc2d87162ef011b1648bca33bbeb">CreateAlignedStore</a>(IntptrOrigin, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, CurrentAlignment);</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      Ofs += IntptrSize / OriginSize;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      CurrentAlignment = IntptrAlignment;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    }</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  }</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160; </div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Ofs; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; (StoreOriginSize + OriginSize - 1) / OriginSize;</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;       ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> ? IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a519198bac66aaa7c7dcee3dece00eac9">CreateConstGEP1_32</a>(DFS.OriginTy, StoreOriginAddr, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                   : StoreOriginAddr;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#aa49ebc2d87162ef011b1648bca33bbeb">CreateAlignedStore</a>(Origin, <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, CurrentAlignment);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    CurrentAlignment = <a class="code" href="DataFlowSanitizer_8cpp.html#a3d392a14b38e5ca75d7cb0390bd7fc43">MinOriginAlignment</a>;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  }</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;}</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160; </div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::convertToBool(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB,</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *VTy = V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VTy-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>());</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="keywordflow">if</span> (VTy-&gt;<a class="code" href="classllvm_1_1Type.html#a13e877ef779ba7a0688081079f4f9b03">getIntegerBitWidth</a>() == 1)</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="comment">// Just converting a bool to a bool, so do nothing.</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a10939072861a38a7a84ab097703cb034">CreateICmpNE</a>(V, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(VTy, 0), <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>);</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;}</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160; </div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="keywordtype">void</span> DFSanFunction::storeOrigin(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>,</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                                <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin,</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;                                <a class="code" href="classllvm_1_1Value.html">Value</a> *StoreOriginAddr, <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment) {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  <span class="comment">// Do not write origins for zero shadows because we do not trace origins for</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  <span class="comment">// untainted sinks.</span></div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> OriginAlignment = getOriginAlign(InstAlignment);</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CollapsedShadow = collapseToPrimitiveShadow(Shadow, Pos);</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ConstantShadow = dyn_cast&lt;Constant&gt;(CollapsedShadow)) {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <span class="keywordflow">if</span> (!ConstantShadow-&gt;isZeroValue())</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      paintOrigin(IRB, updateOrigin(Origin, IRB), StoreOriginAddr, <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>,</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                  OriginAlignment);</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  }</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160; </div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="keywordflow">if</span> (shouldInstrumentWithCall()) {</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFS.DFSanMaybeStoreOriginFn,</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                   {CollapsedShadow,</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                    IRB.CreatePointerCast(Addr, IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                    ConstantInt::get(DFS.IntptrTy, Size), Origin});</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a> = convertToBool(CollapsedShadow, IRB, <span class="stringliteral">&quot;_dfscmp&quot;</span>);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CheckTerm = <a class="code" href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">SplitBlockAndInsertIfThen</a>(</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;        Cmp, &amp;*IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a4e5c1b91bf5e2860398e3fa35c96b5af">GetInsertPoint</a>(), <span class="keyword">false</span>, DFS.OriginStoreWeights, &amp;DT);</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRBNew(CheckTerm);</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    paintOrigin(IRBNew, updateOrigin(Origin, IRBNew), StoreOriginAddr, <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>,</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;                OriginAlignment);</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    ++NumOriginStores;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  }</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;}</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160; </div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;<span class="keywordtype">void</span> DFSanFunction::storeZeroPrimitiveShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>,</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                                             <a class="code" href="structllvm_1_1Align.html">Align</a> ShadowAlign,</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                                             <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ShadowTy =</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">IntegerType::get</a>(*DFS.Ctx, <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> * DFS.ShadowWidthBits);</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ExtZeroShadow = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(ShadowTy, 0);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr = DFS.getShadowAddress(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, Pos);</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ExtShadowAddr =</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(ShadowAddr, PointerType::getUnqual(ShadowTy));</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#aa49ebc2d87162ef011b1648bca33bbeb">CreateAlignedStore</a>(ExtZeroShadow, ExtShadowAddr, ShadowAlign);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="comment">// Do not write origins for 0 shadows because we do not trace origins for</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <span class="comment">// untainted sinks.</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;}</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160; </div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;<span class="keywordtype">void</span> DFSanFunction::storePrimitiveShadowOrigin(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>,</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;                                               <a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment,</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;                                               <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow,</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;                                               <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin,</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;                                               <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> ShouldTrackOrigins = DFS.shouldTrackOrigins() &amp;&amp; Origin;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160; </div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = dyn_cast&lt;AllocaInst&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = AllocaShadowMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(AI);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> != AllocaShadowMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(PrimitiveShadow, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;second);</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160; </div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      <span class="comment">// Do not write origins for 0 shadows because we do not trace origins for</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      <span class="comment">// untainted sinks.</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;      <span class="keywordflow">if</span> (ShouldTrackOrigins &amp;&amp; !DFS.isZeroShadow(PrimitiveShadow)) {</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> OI = AllocaOriginMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(AI);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OI != AllocaOriginMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp; Origin);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(Origin, OI-&gt;second);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;      }</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    }</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  }</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160; </div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> ShadowAlign = getShadowAlign(InstAlignment);</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <span class="keywordflow">if</span> (DFS.isZeroShadow(PrimitiveShadow)) {</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    storeZeroPrimitiveShadow(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, ShadowAlign, Pos);</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  }</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160; </div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr, *OriginAddr;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  std::tie(ShadowAddr, OriginAddr) =</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;      DFS.getShadowOriginAddress(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, InstAlignment, Pos);</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; </div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> ShadowVecSize = 8;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ShadowVecSize * DFS.ShadowWidthBits &lt;= 128 &amp;&amp;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;         <span class="stringliteral">&quot;Shadow vector is too large!&quot;</span>);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160; </div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = 0;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> LeftSize = <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="keywordflow">if</span> (LeftSize &gt;= ShadowVecSize) {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    <span class="keyword">auto</span> *ShadowVecTy =</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(DFS.PrimitiveShadowTy, ShadowVecSize);</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowVec = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">PoisonValue::get</a>(ShadowVecTy);</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != ShadowVecSize; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;      ShadowVec = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a39b5a72b70df94211893c7fc6bbfe1f5">CreateInsertElement</a>(</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;          ShadowVec, PrimitiveShadow,</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;          <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Type::getInt32Ty(*DFS.Ctx), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowVecAddr =</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(ShadowAddr, PointerType::getUnqual(ShadowVecTy));</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *CurShadowVecAddr =</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;          IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a519198bac66aaa7c7dcee3dece00eac9">CreateConstGEP1_32</a>(ShadowVecTy, ShadowVecAddr, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>);</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#aa49ebc2d87162ef011b1648bca33bbeb">CreateAlignedStore</a>(ShadowVec, CurShadowVecAddr, ShadowAlign);</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;      LeftSize -= ShadowVecSize;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      ++<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>;</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    } <span class="keywordflow">while</span> (LeftSize &gt;= ShadowVecSize);</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> *= ShadowVecSize;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  }</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  <span class="keywordflow">while</span> (LeftSize &gt; 0) {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *CurShadowAddr =</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a519198bac66aaa7c7dcee3dece00eac9">CreateConstGEP1_32</a>(DFS.PrimitiveShadowTy, ShadowAddr, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>);</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#aa49ebc2d87162ef011b1648bca33bbeb">CreateAlignedStore</a>(PrimitiveShadow, CurShadowAddr, ShadowAlign);</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    --LeftSize;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    ++<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  }</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160; </div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    storeOrigin(Pos, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, PrimitiveShadow, Origin, OriginAddr,</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;                InstAlignment);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  }</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;}</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160; </div>
<div class="line"><a name="l02628"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#a7886b01e9761c33d2235cda57744417d"> 2628</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a7886b01e9761c33d2235cda57744417d">addReleaseOrdering</a>(<a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> AO) {</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  <span class="keywordflow">switch</span> (AO) {</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::NotAtomic:</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="keywordflow">return</span> AtomicOrdering::NotAtomic;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README__P9_8txt.html#a0afe4617fad145d6ced5a18fd739cf06">AtomicOrdering::Unordered</a>:</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::Monotonic:</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::Release:</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">return</span> AtomicOrdering::Release;</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::Acquire:</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::AcquireRelease:</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="keywordflow">return</span> AtomicOrdering::AcquireRelease;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <span class="keywordflow">case</span> AtomicOrdering::SequentiallyConsistent:</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <span class="keywordflow">return</span> AtomicOrdering::SequentiallyConsistent;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  }</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown ordering&quot;</span>);</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;}</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160; </div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitStoreInst(<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>) {</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Val = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getValueOperand();</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeStoreSize(Val-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == 0)</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160; </div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  <span class="comment">// When an application store is atomic, increase atomic ordering between</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <span class="comment">// atomic application loads and stores to ensure happen-before order; load</span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  <span class="comment">// shadow data after application data; store zero shadow data before</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="comment">// application data. This ensure shadow loads return either labels of the</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  <span class="comment">// initial application data or zeros.</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.isAtomic())</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.setOrdering(<a class="code" href="DataFlowSanitizer_8cpp.html#a7886b01e9761c33d2235cda57744417d">addReleaseOrdering</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getOrdering()));</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160; </div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> ShouldTrackOrigins =</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;      DFSF.DFS.shouldTrackOrigins() &amp;&amp; !<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.isAtomic();</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  std::vector&lt;Value *&gt; Shadows;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  std::vector&lt;Value *&gt; Origins;</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160; </div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow =</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.isAtomic() ? DFSF.DFS.getZeroShadow(Val) : DFSF.getShadow(Val);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160; </div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    Shadows.push_back(Shadow);</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    Origins.push_back(DFSF.getOrigin(Val));</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  }</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160; </div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PrimitiveShadow;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a8212d89e2d2123229f71bef6ea3db783">ClCombinePointerLabelsOnStore</a>) {</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrShadow = DFSF.getShadow(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getPointerOperand());</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      Shadows.push_back(PtrShadow);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      Origins.push_back(DFSF.getOrigin(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getPointerOperand()));</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    }</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    PrimitiveShadow = DFSF.combineShadows(Shadow, PtrShadow, &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    PrimitiveShadow = DFSF.collapseToPrimitiveShadow(Shadow, &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  }</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Origin = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <span class="keywordflow">if</span> (ShouldTrackOrigins)</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    Origin = DFSF.combineOrigins(Shadows, Origins, &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  DFSF.storePrimitiveShadowOrigin(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getPointerOperand(), <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getAlign(),</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                                  PrimitiveShadow, Origin, &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#aaa66c8024e3a858cfbddba0226a6521b">ClEventCallbacks</a>) {</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Addr8 = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>.getPointerOperand(), DFSF.DFS.Int8Ptr);</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI =</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFSF.DFS.DFSanStoreCallbackFn, {PrimitiveShadow, Addr8});</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae5d05ec2b9a60806746addff3f2a71a9">addParamAttr</a>(0, Attribute::ZExt);</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  }</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;}</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160; </div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitCASOrRMW(<a class="code" href="structllvm_1_1Align.html">Align</a> InstAlignment, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;AtomicRMWInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;AtomicCmpXchgInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160; </div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Val = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1);</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeStoreSize(Val-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == 0)</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160; </div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  <span class="comment">// Conservatively set data at stored addresses and return with zero shadow to</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  <span class="comment">// prevent shadow data races.</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> ShadowAlign = DFSF.getShadowAlign(InstAlignment);</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;  DFSF.storeZeroPrimitiveShadow(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, ShadowAlign, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  DFSF.setShadow(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DFSF.DFS.getZeroShadow(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  DFSF.setOrigin(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DFSF.DFS.ZeroOrigin);</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;}</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160; </div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitAtomicRMWInst(<a class="code" href="classllvm_1_1AtomicRMWInst.html">AtomicRMWInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  visitCASOrRMW(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAlign(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  <span class="comment">// TODO: The ordering change follows MSan. It is possible not to change</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;  <span class="comment">// ordering because we always set and use 0 shadows.</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.setOrdering(<a class="code" href="DataFlowSanitizer_8cpp.html#a7886b01e9761c33d2235cda57744417d">addReleaseOrdering</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOrdering()));</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;}</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160; </div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitAtomicCmpXchgInst(<a class="code" href="classllvm_1_1AtomicCmpXchgInst.html">AtomicCmpXchgInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  visitCASOrRMW(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAlign(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;  <span class="comment">// TODO: The ordering change follows MSan. It is possible not to change</span></div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;  <span class="comment">// ordering because we always set and use 0 shadows.</span></div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.setSuccessOrdering(<a class="code" href="DataFlowSanitizer_8cpp.html#a7886b01e9761c33d2235cda57744417d">addReleaseOrdering</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessOrdering()));</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;}</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160; </div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitUnaryOperator(<a class="code" href="classllvm_1_1UnaryOperator.html">UnaryOperator</a> &amp;UO) {</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  visitInstOperands(UO);</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;}</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160; </div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitBinaryOperator(<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> &amp;BO) {</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;  visitInstOperands(BO);</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;}</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160; </div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitBitCastInst(<a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a> &amp;BCI) {</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  <span class="comment">// Special case: if this is the bitcast (there is exactly 1 allowed) between</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="comment">// a musttail call and a ret, don&#39;t instrument. New instructions are not</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="comment">// allowed after a musttail call.</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(BCI.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)))</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ad3c897ba734b78e973db4622dff7bdcb">isMustTailCall</a>())</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;  visitInstOperands(BCI);</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;}</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160; </div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitCastInst(<a class="code" href="classllvm_1_1CastInst.html">CastInst</a> &amp;CI) { visitInstOperands(CI); }</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160; </div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitCmpInst(<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> &amp;CI) {</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  visitInstOperands(CI);</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#aaa66c8024e3a858cfbddba0226a6521b">ClEventCallbacks</a>) {</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;CI);</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *CombinedShadow = DFSF.getShadow(&amp;CI);</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CallI =</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFSF.DFS.DFSanCmpCallbackFn, CombinedShadow);</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    CallI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae5d05ec2b9a60806746addff3f2a71a9">addParamAttr</a>(0, Attribute::ZExt);</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  }</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;}</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160; </div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitLandingPadInst(<a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> &amp;LPI) {</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;  <span class="comment">// We do not need to track data through LandingPadInst.</span></div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;  <span class="comment">// For the C++ exceptions, if a value is thrown, this value will be stored</span></div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  <span class="comment">// in a memory location provided by __cxa_allocate_exception(...) (on the</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <span class="comment">// throw side) or  __cxa_begin_catch(...) (on the catch side).</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  <span class="comment">// This memory will have a shadow, so with the loads and stores we will be</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  <span class="comment">// able to propagate labels on data thrown through exceptions, without any</span></div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <span class="comment">// special handling of the LandingPadInst.</span></div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="comment">// The second element in the pair result of the LandingPadInst is a</span></div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  <span class="comment">// register value, but it is for a type ID and should never be tainted.</span></div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  DFSF.setShadow(&amp;LPI, DFSF.DFS.getZeroShadow(&amp;LPI));</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  DFSF.setOrigin(&amp;LPI, DFSF.DFS.ZeroOrigin);</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;}</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160; </div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitGetElementPtrInst(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> &amp;GEPI) {</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#aeb4ce089858cf608852548f178254c90">ClCombineOffsetLabelsOnGEP</a> ||</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;      DFSF.isLookupTableConstant(</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;          <a class="code" href="DataFlowSanitizer_8cpp.html#affce0ded6e3bb84401db39444b68d8aa">StripPointerGEPsAndCasts</a>(GEPI.<a class="code" href="classllvm_1_1GetElementPtrInst.html#ad200825f26189cd43f3b80728649c4a9">getPointerOperand</a>()))) {</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    visitInstOperands(GEPI);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  }</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160; </div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  <span class="comment">// Only propagate shadow/origin of base pointer value but ignore those of</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  <span class="comment">// offset operands.</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *BasePointer = GEPI.<a class="code" href="classllvm_1_1GetElementPtrInst.html#ad200825f26189cd43f3b80728649c4a9">getPointerOperand</a>();</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;  DFSF.setShadow(&amp;GEPI, DFSF.getShadow(BasePointer));</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <span class="keywordflow">if</span> (DFSF.DFS.shouldTrackOrigins())</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    DFSF.setOrigin(&amp;GEPI, DFSF.getOrigin(BasePointer));</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;}</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160; </div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitExtractElementInst(<a class="code" href="classllvm_1_1ExtractElementInst.html">ExtractElementInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  visitInstOperands(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;}</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160; </div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitInsertElementInst(<a class="code" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  visitInstOperands(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;}</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160; </div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitShuffleVectorInst(<a class="code" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;  visitInstOperands(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;}</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160; </div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitExtractValueInst(<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Agg = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAggregateOperand();</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *AggShadow = DFSF.getShadow(Agg);</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ResShadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6895b4fdb208e8a5ff15c573c71657b0">CreateExtractValue</a>(AggShadow, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getIndices());</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  DFSF.setShadow(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ResShadow);</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;  visitInstOperandOrigins(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;}</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160; </div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitInsertValueInst(<a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *AggShadow = DFSF.getShadow(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAggregateOperand());</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *InsShadow = DFSF.getShadow(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getInsertedValueOperand());</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a10531decc5032413dba40ebf5589ef81">CreateInsertValue</a>(AggShadow, InsShadow, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getIndices());</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  DFSF.setShadow(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  visitInstOperandOrigins(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;}</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160; </div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitAllocaInst(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <span class="keywordtype">bool</span> AllLoadsStores = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.users()) {</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    <span class="keywordflow">if</span> (isa&lt;LoadInst&gt;(U))</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160; </div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(U)) {</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getPointerOperand() == &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    }</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160; </div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    AllLoadsStores = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  }</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  <span class="keywordflow">if</span> (AllLoadsStores) {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    DFSF.AllocaShadowMap[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afbe24f9e57cab99bd5bf3960c76bcc94">CreateAlloca</a>(DFSF.DFS.PrimitiveShadowTy);</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <span class="keywordflow">if</span> (DFSF.DFS.shouldTrackOrigins()) {</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;      DFSF.AllocaOriginMap[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] =</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;          IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afbe24f9e57cab99bd5bf3960c76bcc94">CreateAlloca</a>(DFSF.DFS.OriginTy, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;_dfsa&quot;</span>);</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    }</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;  }</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  DFSF.setShadow(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DFSF.DFS.ZeroPrimitiveShadow);</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  DFSF.setOrigin(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DFSF.DFS.ZeroOrigin);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;}</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160; </div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitSelectInst(<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CondShadow = DFSF.getShadow(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCondition());</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TrueShadow = DFSF.getShadow(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getTrueValue());</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FalseShadow = DFSF.getShadow(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getFalseValue());</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowSel = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> ShouldTrackOrigins = DFSF.DFS.shouldTrackOrigins();</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  std::vector&lt;Value *&gt; Shadows;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;  std::vector&lt;Value *&gt; Origins;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TrueOrigin =</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      ShouldTrackOrigins ? DFSF.getOrigin(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getTrueValue()) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FalseOrigin =</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;      ShouldTrackOrigins ? DFSF.getOrigin(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getFalseValue()) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160; </div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;  DFSF.addConditionalCallbacksIfEnabled(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCondition());</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160; </div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  <span class="keywordflow">if</span> (isa&lt;VectorType&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCondition()-&gt;getType())) {</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    ShadowSel = DFSF.combineShadowsThenConvert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(), TrueShadow,</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                                               FalseShadow, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;      Shadows.push_back(TrueShadow);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;      Shadows.push_back(FalseShadow);</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;      Origins.push_back(TrueOrigin);</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;      Origins.push_back(FalseOrigin);</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    }</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    <span class="keywordflow">if</span> (TrueShadow == FalseShadow) {</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;      ShadowSel = TrueShadow;</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;      <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;        Shadows.push_back(TrueShadow);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        Origins.push_back(TrueOrigin);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      }</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;      ShadowSel =</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;          SelectInst::Create(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCondition(), TrueShadow, FalseShadow, <span class="stringliteral">&quot;&quot;</span>, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;      <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        Shadows.push_back(ShadowSel);</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;        Origins.push_back(SelectInst::Create(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCondition(), TrueOrigin,</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;                                             FalseOrigin, <span class="stringliteral">&quot;&quot;</span>, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      }</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    }</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  }</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  DFSF.setShadow(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="DataFlowSanitizer_8cpp.html#a5d090682633d3a23499d4477d103fff3">ClTrackSelectControlFlow</a></div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;                         ? DFSF.combineShadowsThenConvert(</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;                               <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(), CondShadow, ShadowSel, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;                         : ShadowSel);</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a5d090682633d3a23499d4477d103fff3">ClTrackSelectControlFlow</a>) {</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;      Shadows.push_back(CondShadow);</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;      Origins.push_back(DFSF.getOrigin(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCondition()));</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    }</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    DFSF.setOrigin(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DFSF.combineOrigins(Shadows, Origins, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  }</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;}</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160; </div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitMemSetInst(<a class="code" href="classllvm_1_1MemSetInst.html">MemSetInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ValShadow = DFSF.getShadow(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getValue());</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ValOrigin = DFSF.DFS.shouldTrackOrigins()</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;                         ? DFSF.getOrigin(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getValue())</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;                         : DFSF.DFS.ZeroOrigin;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;      DFSF.DFS.DFSanSetLabelFn,</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;      {ValShadow, ValOrigin,</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;       IRB.CreateBitCast(I.getDest(), Type::getInt8PtrTy(*DFSF.DFS.Ctx)),</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;       IRB.CreateZExtOrTrunc(I.getLength(), DFSF.DFS.IntptrTy)});</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;}</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160; </div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitMemTransferInst(<a class="code" href="classllvm_1_1MemTransferInst.html">MemTransferInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160; </div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  <span class="comment">// CopyOrMoveOrigin transfers origins by refering to their shadows. So we</span></div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <span class="comment">// need to move origins before moving shadows.</span></div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  <span class="keywordflow">if</span> (DFSF.DFS.shouldTrackOrigins()) {</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;        DFSF.DFS.DFSanMemOriginTransferFn,</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;        {IRB.CreatePointerCast(I.getArgOperand(0), IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;         IRB.CreatePointerCast(I.getArgOperand(1), IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;         IRB.CreateIntCast(I.getArgOperand(2), DFSF.DFS.IntptrTy, false)});</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  }</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160; </div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *RawDestShadow = DFSF.DFS.getShadowAddress(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDest(), &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcShadow = DFSF.DFS.getShadowAddress(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSource(), &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LenShadow =</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a4d748f0a6d8a5086dbf568d39c03b674">CreateMul</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getLength(), <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getLength()-&gt;getType(),</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                                                    DFSF.DFS.ShadowWidthBytes));</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8Ptr = Type::getInt8PtrTy(*DFSF.DFS.Ctx);</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DestShadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(RawDestShadow, Int8Ptr);</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  SrcShadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">CreateBitCast</a>(SrcShadow, Int8Ptr);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keyword">auto</span> *MTI = cast&lt;MemTransferInst&gt;(</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getFunctionType(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCalledOperand(),</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                     {DestShadow, SrcShadow, LenShadow, I.getVolatileCst()}));</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;  MTI-&gt;setDestAlignment(DFSF.getShadowAlign(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDestAlign().valueOrOne()));</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  MTI-&gt;setSourceAlignment(DFSF.getShadowAlign(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSourceAlign().valueOrOne()));</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#aaa66c8024e3a858cfbddba0226a6521b">ClEventCallbacks</a>) {</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFSF.DFS.DFSanMemTransferCallbackFn,</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;                   {RawDestShadow,</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;                    IRB.CreateZExtOrTrunc(I.getLength(), DFSF.DFS.IntptrTy)});</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  }</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;}</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160; </div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitBranchInst(<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df">BR</a>) {</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df">BR</a>.isConditional())</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160; </div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  DFSF.addConditionalCallbacksIfEnabled(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df">BR</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df">BR</a>.getCondition());</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;}</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160; </div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitSwitchInst(<a class="code" href="classllvm_1_1SwitchInst.html">SwitchInst</a> &amp;SW) {</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  DFSF.addConditionalCallbacksIfEnabled(SW, SW.<a class="code" href="classllvm_1_1SwitchInst.html#a5c78d56b1d126d91799cf8177da657b4">getCondition</a>());</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;}</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160; </div>
<div class="line"><a name="l02961"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#ae444dc007eb469ddb172d5780f447f07"> 2961</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="DataFlowSanitizer_8cpp.html#ae444dc007eb469ddb172d5780f447f07">isAMustTailRetVal</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *RetVal) {</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="comment">// Tail call may have a bitcast between return.</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;BitCastInst&gt;(RetVal)) {</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    RetVal = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  }</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;CallInst&gt;(RetVal)) {</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isMustTailCall();</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  }</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;}</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160; </div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitReturnInst(<a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> &amp;RI) {</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <span class="keywordflow">if</span> (!DFSF.IsNativeABI &amp;&amp; RI.<a class="code" href="classllvm_1_1ReturnInst.html#a87e923648048258a6e8376d6cf4ce565">getReturnValue</a>()) {</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    <span class="comment">// Don&#39;t emit the instrumentation for musttail call returns.</span></div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#ae444dc007eb469ddb172d5780f447f07">isAMustTailRetVal</a>(RI.<a class="code" href="classllvm_1_1ReturnInst.html#a87e923648048258a6e8376d6cf4ce565">getReturnValue</a>()))</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160; </div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = DFSF.getShadow(RI.<a class="code" href="classllvm_1_1ReturnInst.html#a87e923648048258a6e8376d6cf4ce565">getReturnValue</a>());</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;RI);</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *RT = DFSF.F-&gt;getFunctionType()-&gt;getReturnType();</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = getDataLayout().getTypeAllocSize(DFSF.DFS.getShadowTy(RT));</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> &lt;= <a class="code" href="DataFlowSanitizer_8cpp.html#ae113878cee8d330c91e109f381fe6d2b">RetvalTLSSize</a>) {</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;      <span class="comment">// If the size overflows, stores nothing. At callsite, oversized return</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;      <span class="comment">// shadows are set to zero.</span></div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#aa49ebc2d87162ef011b1648bca33bbeb">CreateAlignedStore</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, DFSF.getRetvalTLS(RT, IRB), <a class="code" href="DataFlowSanitizer_8cpp.html#a759b4bcc28d4cadef20a7b40af3cebce">ShadowTLSAlignment</a>);</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    }</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    <span class="keywordflow">if</span> (DFSF.DFS.shouldTrackOrigins()) {</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = DFSF.getOrigin(RI.<a class="code" href="classllvm_1_1ReturnInst.html#a87e923648048258a6e8376d6cf4ce565">getReturnValue</a>());</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, DFSF.getRetvalOriginTLS());</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    }</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  }</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;}</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160; </div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::addShadowArguments(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB,</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                                      std::vector&lt;Value *&gt; &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;                                      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFunctionType();</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160; </div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#a4fb513d744ca72275932b2c7003f16f6">arg_begin</a>();</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160; </div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;  <span class="comment">// Adds non-variable argument shadows.</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(); <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> != 0; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, --<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(DFSF.collapseToPrimitiveShadow(DFSF.getShadow(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), &amp;CB));</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160; </div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  <span class="comment">// Adds variable argument shadows.</span></div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>()) {</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    <span class="keyword">auto</span> *LabelVATy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ArrayType::get</a>(DFSF.DFS.PrimitiveShadowTy,</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;                                     CB.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() - FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>());</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    <span class="keyword">auto</span> *LabelVAAlloca =</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;        <span class="keyword">new</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a>(LabelVATy, getDataLayout().getAllocaAddrSpace(),</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                       <span class="stringliteral">&quot;labelva&quot;</span>, &amp;DFSF.F-&gt;getEntryBlock().front());</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160; </div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != CB.<a class="code" href="classllvm_1_1CallBase.html#ac0f11b96f81b2769dd23d028e3189075">arg_end</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ++<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      <span class="keyword">auto</span> *LabelVAPtr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afef76233e8877797902c325bb078e381">CreateStructGEP</a>(LabelVATy, LabelVAAlloca, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(DFSF.collapseToPrimitiveShadow(DFSF.getShadow(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), &amp;CB),</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;                      LabelVAPtr);</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    }</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160; </div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afef76233e8877797902c325bb078e381">CreateStructGEP</a>(LabelVATy, LabelVAAlloca, 0));</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  }</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160; </div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;  <span class="comment">// Adds the return value shadow.</span></div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;  <span class="keywordflow">if</span> (!FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>()) {</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="keywordflow">if</span> (!DFSF.LabelReturnAlloca) {</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;      DFSF.LabelReturnAlloca = <span class="keyword">new</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a>(</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;          DFSF.DFS.PrimitiveShadowTy, getDataLayout().getAllocaAddrSpace(),</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;          <span class="stringliteral">&quot;labelreturn&quot;</span>, &amp;DFSF.F-&gt;getEntryBlock().front());</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    }</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(DFSF.LabelReturnAlloca);</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;  }</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;}</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160; </div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::addOriginArguments(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB,</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                                      std::vector&lt;Value *&gt; &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                                      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFunctionType();</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160; </div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#a4fb513d744ca72275932b2c7003f16f6">arg_begin</a>();</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160; </div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;  <span class="comment">// Add non-variable argument origins.</span></div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(); <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> != 0; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, --<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(DFSF.getOrigin(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160; </div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  <span class="comment">// Add variable argument origins.</span></div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;  <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>()) {</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <span class="keyword">auto</span> *OriginVATy =</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;        <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ArrayType::get</a>(DFSF.DFS.OriginTy, CB.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() - FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>());</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    <span class="keyword">auto</span> *OriginVAAlloca =</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;        <span class="keyword">new</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a>(OriginVATy, getDataLayout().getAllocaAddrSpace(),</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;                       <span class="stringliteral">&quot;originva&quot;</span>, &amp;DFSF.F-&gt;getEntryBlock().front());</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160; </div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != CB.<a class="code" href="classllvm_1_1CallBase.html#ac0f11b96f81b2769dd23d028e3189075">arg_end</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ++<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;      <span class="keyword">auto</span> *OriginVAPtr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afef76233e8877797902c325bb078e381">CreateStructGEP</a>(OriginVATy, OriginVAAlloca, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(DFSF.getOrigin(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), OriginVAPtr);</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    }</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160; </div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afef76233e8877797902c325bb078e381">CreateStructGEP</a>(OriginVATy, OriginVAAlloca, 0));</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  }</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160; </div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;  <span class="comment">// Add the return value origin.</span></div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;  <span class="keywordflow">if</span> (!FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>()) {</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordflow">if</span> (!DFSF.OriginReturnAlloca) {</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      DFSF.OriginReturnAlloca = <span class="keyword">new</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a>(</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;          DFSF.DFS.OriginTy, getDataLayout().getAllocaAddrSpace(),</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;          <span class="stringliteral">&quot;originreturn&quot;</span>, &amp;DFSF.F-&gt;getEntryBlock().front());</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    }</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(DFSF.OriginReturnAlloca);</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;  }</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;}</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160; </div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;<span class="keywordtype">bool</span> DFSanVisitor::visitWrappedCallBase(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB) {</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;CB);</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  <span class="keywordflow">switch</span> (DFSF.DFS.getWrapperKind(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  <span class="keywordflow">case</span> DataFlowSanitizer::WK_Warning:</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    CB.<a class="code" href="classllvm_1_1CallBase.html#aee56a5257c4899bf97c5957d87a732e3">setCalledFunction</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFSF.DFS.DFSanUnimplementedFn,</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;                   IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#abd2f5469db2235e00ac6df61fe766c85">CreateGlobalStringPtr</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName()));</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    DFSF.DFS.buildExternWeakCheckIfNeeded(IRB, &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    DFSF.setShadow(&amp;CB, DFSF.DFS.getZeroShadow(&amp;CB));</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    DFSF.setOrigin(&amp;CB, DFSF.DFS.ZeroOrigin);</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;  <span class="keywordflow">case</span> DataFlowSanitizer::WK_Discard:</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    CB.<a class="code" href="classllvm_1_1CallBase.html#aee56a5257c4899bf97c5957d87a732e3">setCalledFunction</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    DFSF.DFS.buildExternWeakCheckIfNeeded(IRB, &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    DFSF.setShadow(&amp;CB, DFSF.DFS.getZeroShadow(&amp;CB));</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    DFSF.setOrigin(&amp;CB, DFSF.DFS.ZeroOrigin);</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;  <span class="keywordflow">case</span> DataFlowSanitizer::WK_Functional:</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    CB.<a class="code" href="classllvm_1_1CallBase.html#aee56a5257c4899bf97c5957d87a732e3">setCalledFunction</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    DFSF.DFS.buildExternWeakCheckIfNeeded(IRB, &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    visitInstOperands(CB);</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="keywordflow">case</span> DataFlowSanitizer::WK_Custom:</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <span class="comment">// Don&#39;t try to handle invokes of custom functions, it&#39;s too complicated.</span></div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <span class="comment">// Instead, invoke the dfsw$ wrapper, which will in turn call the __dfsw_</span></div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    <span class="comment">// wrapper.</span></div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(&amp;CB);</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    <span class="keywordflow">if</span> (!CI)</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160; </div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> ShouldTrackOrigins = DFSF.DFS.shouldTrackOrigins();</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFunctionType();</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    TransformedFunction CustomFn = DFSF.DFS.getCustomFunctionType(FT);</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    std::string CustomFName = ShouldTrackOrigins ? <span class="stringliteral">&quot;__dfso_&quot;</span> : <span class="stringliteral">&quot;__dfsw_&quot;</span>;</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    CustomFName += <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName();</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> CustomF = DFSF.DFS.Mod-&gt;getOrInsertFunction(</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;        CustomFName, CustomFn.TransformedType);</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *CustomFn = dyn_cast&lt;Function&gt;(CustomF.<a class="code" href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">getCallee</a>())) {</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;      CustomFn-&gt;copyAttributesFrom(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160; </div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;      <span class="comment">// Custom functions returning non-void will write to the return label.</span></div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;      <span class="keywordflow">if</span> (!FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>()) {</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;        CustomFn-&gt;removeFnAttrs(DFSF.DFS.ReadOnlyNoneAttrs);</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;      }</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    }</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160; </div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    std::vector&lt;Value *&gt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160; </div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="comment">// Adds non-variable arguments.</span></div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#a4fb513d744ca72275932b2c7003f16f6">arg_begin</a>();</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(); <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> != 0; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, --<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    }</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160; </div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="comment">// Adds shadow arguments.</span></div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> ShadowArgStart = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size();</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    addShadowArguments(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, CB, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, IRB);</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160; </div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="comment">// Adds origin arguments.</span></div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> OriginArgStart = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size();</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    <span class="keywordflow">if</span> (ShouldTrackOrigins)</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;      addOriginArguments(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, CB, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, IRB);</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160; </div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <span class="comment">// Adds variable arguments.</span></div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, <a class="code" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">drop_begin</a>(CB.<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>(), FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>()));</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160; </div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CustomCI = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(CustomF, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    CustomCI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a0851b4de29686e9c3918449b054cfada">setCallingConv</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a3ff92cec76009e859cb0c419d6e8ba5f">getCallingConv</a>());</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    CustomCI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">setAttributes</a>(transformFunctionAttributes(</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;        CustomFn, CI-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae0c55761fce39dd71617690b04385193">getAttributes</a>()));</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160; </div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    <span class="comment">// Update the parameter attributes of the custom call instruction to</span></div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <span class="comment">// zero extend the shadow parameters. This is required for targets</span></div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    <span class="comment">// which consider PrimitiveShadowTy an illegal type.</span></div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = 0; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &lt; FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(); <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>++) {</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> ArgNo = ShadowArgStart + <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;      <span class="keywordflow">if</span> (CustomCI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(ArgNo)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() ==</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;          DFSF.DFS.PrimitiveShadowTy)</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;        CustomCI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae5d05ec2b9a60806746addff3f2a71a9">addParamAttr</a>(ArgNo, Attribute::ZExt);</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;      <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> OriginArgNo = OriginArgStart + <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;        <span class="keywordflow">if</span> (CustomCI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(OriginArgNo)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() ==</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;            DFSF.DFS.OriginTy)</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;          CustomCI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae5d05ec2b9a60806746addff3f2a71a9">addParamAttr</a>(OriginArgNo, Attribute::ZExt);</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;      }</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    }</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160; </div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    <span class="comment">// Loads the return value shadow and origin.</span></div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    <span class="keywordflow">if</span> (!FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>()) {</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;      <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LabelLoad =</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;          IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(DFSF.DFS.PrimitiveShadowTy, DFSF.LabelReturnAlloca);</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;      DFSF.setShadow(CustomCI, DFSF.expandFromPrimitiveShadow(</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;                                   FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>(), LabelLoad, &amp;CB));</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;      <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;        <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *OriginLoad =</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;            IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(DFSF.DFS.OriginTy, DFSF.OriginReturnAlloca);</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;        DFSF.setOrigin(CustomCI, OriginLoad);</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;      }</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    }</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160; </div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(CustomCI);</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  }</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;}</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160; </div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanVisitor::makeAddAcquireOrderingTable(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;  constexpr <span class="keywordtype">int</span> NumOrderings = (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::seq_cst + 1;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> OrderingTable[NumOrderings] = {};</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160; </div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;  OrderingTable[(<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::relaxed] =</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      OrderingTable[(<span class="keywordtype">int</span>)AtomicOrderingCABI::acquire] =</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;          OrderingTable[(<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)<a class="code" href="X86Disassembler_8cpp.html#a5f02c7d98f9ea50a2abb5c2741c54f23">AtomicOrderingCABI::consume</a>] =</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;              (<span class="keywordtype">int</span>)AtomicOrderingCABI::acquire;</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;  OrderingTable[(<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::release] =</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;      OrderingTable[(<span class="keywordtype">int</span>)AtomicOrderingCABI::acq_rel] =</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;          (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::acq_rel;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;  OrderingTable[(<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::seq_cst] =</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;      (<span class="keywordtype">int</span>)AtomicOrderingCABI::seq_cst;</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160; </div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantDataVector::get</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a688b78f3578991bc31187aad61b8145b">getContext</a>(),</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;                                 <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef</a>(OrderingTable, NumOrderings));</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;}</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160; </div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitLibAtomicLoad(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB) {</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;  <span class="comment">// Since we use getNextNode here, we can&#39;t have CB terminate the BB.</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;CallInst&gt;(CB));</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160; </div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;CB);</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DstPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Ordering = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3);</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <span class="comment">// Convert the call to have at least Acquire ordering to make sure</span></div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;  <span class="comment">// the shadow operations aren&#39;t reordered before it.</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NewOrdering =</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a5c728ddd7890c015533b42cdd7307b0c">CreateExtractElement</a>(makeAddAcquireOrderingTable(IRB), Ordering);</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;  CB.<a class="code" href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">setArgOperand</a>(3, NewOrdering);</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160; </div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> NextIRB(CB.<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>());</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;  NextIRB.SetCurrentDebugLocation(CB.<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>());</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160; </div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;  <span class="comment">// TODO: Support ClCombinePointerLabelsOnLoad</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;  <span class="comment">// TODO: Support ClEventCallbacks</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160; </div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  NextIRB.CreateCall(DFSF.DFS.DFSanMemShadowOriginTransferFn,</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                     {NextIRB.CreatePointerCast(DstPtr, NextIRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;                      NextIRB.CreatePointerCast(SrcPtr, NextIRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;                      NextIRB.CreateIntCast(Size, DFSF.DFS.IntptrTy, false)});</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;}</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160; </div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanVisitor::makeAddReleaseOrderingTable(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;  constexpr <span class="keywordtype">int</span> NumOrderings = (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::seq_cst + 1;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> OrderingTable[NumOrderings] = {};</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160; </div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;  OrderingTable[(<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::relaxed] =</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;      OrderingTable[(<span class="keywordtype">int</span>)AtomicOrderingCABI::release] =</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;          (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::release;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;  OrderingTable[(<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)<a class="code" href="X86Disassembler_8cpp.html#a5f02c7d98f9ea50a2abb5c2741c54f23">AtomicOrderingCABI::consume</a>] =</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      OrderingTable[(<span class="keywordtype">int</span>)AtomicOrderingCABI::acquire] =</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;          OrderingTable[(<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::acq_rel] =</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;              (<span class="keywordtype">int</span>)AtomicOrderingCABI::acq_rel;</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;  OrderingTable[(<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)AtomicOrderingCABI::seq_cst] =</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;      (<span class="keywordtype">int</span>)AtomicOrderingCABI::seq_cst;</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160; </div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantDataVector::get</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a688b78f3578991bc31187aad61b8145b">getContext</a>(),</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;                                 <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef</a>(OrderingTable, NumOrderings));</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;}</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160; </div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitLibAtomicStore(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB) {</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;CB);</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DstPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Ordering = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3);</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;  <span class="comment">// Convert the call to have at least Release ordering to make sure</span></div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  <span class="comment">// the shadow operations aren&#39;t reordered after it.</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NewOrdering =</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a5c728ddd7890c015533b42cdd7307b0c">CreateExtractElement</a>(makeAddReleaseOrderingTable(IRB), Ordering);</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;  CB.<a class="code" href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">setArgOperand</a>(3, NewOrdering);</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160; </div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;  <span class="comment">// TODO: Support ClCombinePointerLabelsOnStore</span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;  <span class="comment">// TODO: Support ClEventCallbacks</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160; </div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFSF.DFS.DFSanMemShadowOriginTransferFn,</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;                 {IRB.CreatePointerCast(DstPtr, IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;                  IRB.CreatePointerCast(SrcPtr, IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;                  IRB.CreateIntCast(Size, DFSF.DFS.IntptrTy, false)});</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;}</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160; </div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitLibAtomicExchange(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB) {</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;  <span class="comment">// void __atomic_exchange(size_t size, void *ptr, void *val, void *ret, int</span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;  <span class="comment">// ordering)</span></div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;CB);</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TargetPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DstPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3);</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160; </div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;  <span class="comment">// This operation is not atomic for the shadow and origin memory.</span></div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;  <span class="comment">// This could result in DFSan false positives or false negatives.</span></div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;  <span class="comment">// For now we will assume these operations are rare, and</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  <span class="comment">// the additional complexity to address this is not warrented.</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160; </div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  <span class="comment">// Current Target to Dest</span></div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFSF.DFS.DFSanMemShadowOriginTransferFn,</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;                 {IRB.CreatePointerCast(DstPtr, IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;                  IRB.CreatePointerCast(TargetPtr, IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                  IRB.CreateIntCast(Size, DFSF.DFS.IntptrTy, false)});</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160; </div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;  <span class="comment">// Current Src to Target (overriding)</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(DFSF.DFS.DFSanMemShadowOriginTransferFn,</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;                 {IRB.CreatePointerCast(TargetPtr, IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;                  IRB.CreatePointerCast(SrcPtr, IRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;                  IRB.CreateIntCast(Size, DFSF.DFS.IntptrTy, false)});</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;}</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160; </div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitLibAtomicCompareExchange(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB) {</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  <span class="comment">// bool __atomic_compare_exchange(size_t size, void *ptr, void *expected, void</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;  <span class="comment">// *desired, int success_order, int failure_order)</span></div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TargetPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ExpectedPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DesiredPtr = CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160; </div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;  <span class="comment">// This operation is not atomic for the shadow and origin memory.</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;  <span class="comment">// This could result in DFSan false positives or false negatives.</span></div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;  <span class="comment">// For now we will assume these operations are rare, and</span></div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;  <span class="comment">// the additional complexity to address this is not warrented.</span></div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160; </div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> NextIRB(CB.<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>());</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;  NextIRB.SetCurrentDebugLocation(CB.<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>());</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160; </div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;  DFSF.setShadow(&amp;CB, DFSF.DFS.getZeroShadow(&amp;CB));</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160; </div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;  <span class="comment">// If original call returned true, copy Desired to Target.</span></div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;  <span class="comment">// If original call returned false, copy Target to Expected.</span></div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;  NextIRB.CreateCall(</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;      DFSF.DFS.DFSanMemShadowOriginConditionalExchangeFn,</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;      {NextIRB.CreateIntCast(&amp;CB, NextIRB.getInt8Ty(), false),</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;       NextIRB.CreatePointerCast(TargetPtr, NextIRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;       NextIRB.CreatePointerCast(ExpectedPtr, NextIRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;       NextIRB.CreatePointerCast(DesiredPtr, NextIRB.getInt8PtrTy()),</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;       NextIRB.CreateIntCast(Size, DFSF.DFS.IntptrTy, false)});</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;}</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160; </div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitCallBase(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB) {</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>();</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isIntrinsic()) || CB.<a class="code" href="classllvm_1_1CallBase.html#a018f0394a375233d538109968b76a05a">isInlineAsm</a>()) {</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;    visitInstOperands(CB);</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;  }</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160; </div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;  <span class="comment">// Calls to this function are synthesized in wrappers, and we shouldn&#39;t</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;  <span class="comment">// instrument them.</span></div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> == DFSF.DFS.DFSanVarargWrapperFn.getCallee()-&gt;stripPointerCasts())</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160; </div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;  <a class="code" href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">LibFunc</a> LF;</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  <span class="keywordflow">if</span> (DFSF.TLI.getLibFunc(CB, LF)) {</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <span class="comment">// libatomic.a functions need to have special handling because there isn&#39;t</span></div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    <span class="comment">// a good way to intercept them or compile the library with</span></div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    <span class="comment">// instrumentation.</span></div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    <span class="keywordflow">switch</span> (LF) {</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <span class="keywordflow">case</span> LibFunc_atomic_load:</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;CallInst&gt;(CB)) {</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;        <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a>() &lt;&lt; <span class="stringliteral">&quot;DFSAN -- cannot instrument invoke of libatomic load. &quot;</span></div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                        <span class="stringliteral">&quot;Ignoring!\n&quot;</span>;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;      }</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;      visitLibAtomicLoad(CB);</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    <span class="keywordflow">case</span> LibFunc_atomic_store:</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;      visitLibAtomicStore(CB);</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    }</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;  }</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160; </div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <span class="comment">// TODO: These are not supported by TLI? They are not in the enum.</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasName() &amp;&amp; !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isVarArg()) {</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() == <span class="stringliteral">&quot;__atomic_exchange&quot;</span>) {</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;      visitLibAtomicExchange(CB);</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    }</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() == <span class="stringliteral">&quot;__atomic_compare_exchange&quot;</span>) {</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;      visitLibAtomicCompareExchange(CB);</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    }</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;  }</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160; </div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Function *&gt;::iterator</a> UnwrappedFnIt =</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;      DFSF.DFS.UnwrappedFnMap.find(CB.<a class="code" href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">getCalledOperand</a>());</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <span class="keywordflow">if</span> (UnwrappedFnIt != DFSF.DFS.UnwrappedFnMap.end())</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    <span class="keywordflow">if</span> (visitWrappedCallBase(*UnwrappedFnIt-&gt;second, CB))</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160; </div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;CB);</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160; </div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> ShouldTrackOrigins = DFSF.DFS.shouldTrackOrigins();</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = CB.<a class="code" href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">getFunctionType</a>();</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = getDataLayout();</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160; </div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;  <span class="comment">// Stores argument shadows.</span></div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;  <span class="keywordtype">unsigned</span> ArgOffset = 0;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">getNumParams</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;      <span class="comment">// Ignore overflowed origins</span></div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *ArgShadow = DFSF.getShadow(CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; DFSF.DFS.NumOfElementsInArgOrgTLS &amp;&amp;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;          !DFSF.DFS.isZeroShadow(ArgShadow))</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(DFSF.getOrigin(CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)),</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;                        DFSF.getArgOriginTLS(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, IRB));</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;    }</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160; </div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> =</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;        <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(DFSF.DFS.getShadowTy(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">getParamType</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)));</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <span class="comment">// Stop storing if arguments&#39; size overflows. Inside a function, arguments</span></div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    <span class="comment">// after overflow have zero shadow values.</span></div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    <span class="keywordflow">if</span> (ArgOffset + <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> &gt; <a class="code" href="DataFlowSanitizer_8cpp.html#ad30c696cca6f4b772507385a14bbfdfe">ArgTLSSize</a>)</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#aa49ebc2d87162ef011b1648bca33bbeb">CreateAlignedStore</a>(DFSF.getShadow(CB.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)),</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                           DFSF.getArgTLS(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">getParamType</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), ArgOffset, IRB),</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                           <a class="code" href="DataFlowSanitizer_8cpp.html#a759b4bcc28d4cadef20a7b40af3cebce">ShadowTLSAlignment</a>);</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;    ArgOffset += <a class="code" href="AArch64LoadStoreOptimizer_8cpp.html#a96bc92416c8a38a3c4a275b9e6c0beca">alignTo</a>(<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>, <a class="code" href="DataFlowSanitizer_8cpp.html#a759b4bcc28d4cadef20a7b40af3cebce">ShadowTLSAlignment</a>);</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;  }</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160; </div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Next = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;  <span class="keywordflow">if</span> (!CB.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>()) {</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(&amp;CB)) {</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;      <span class="keywordflow">if</span> (II-&gt;getNormalDest()-&gt;getSinglePredecessor()) {</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;        Next = &amp;II-&gt;getNormalDest()-&gt;front();</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *NewBB =</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;            <a class="code" href="namespacellvm.html#adf83581f514774264d616eef5706cf6e">SplitEdge</a>(II-&gt;getParent(), II-&gt;getNormalDest(), &amp;DFSF.DT);</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;        Next = &amp;NewBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ab706e7ebb1969c5e34f28bfcf2ff719e">front</a>();</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;      }</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CB.<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>() != CB.<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">end</a>());</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;      Next = CB.<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>();</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    }</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160; </div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    <span class="comment">// Don&#39;t emit the epilogue for musttail call returns.</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    <span class="keywordflow">if</span> (isa&lt;CallInst&gt;(CB) &amp;&amp; cast&lt;CallInst&gt;(CB).<a class="code" href="InstructionCombining_8cpp.html#a42ac274c4dac68dda60e1d52a572b734">isMustTailCall</a>())</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160; </div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    <span class="comment">// Loads the return value shadow.</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> NextIRB(Next);</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(DFSF.DFS.getShadowTy(&amp;CB));</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> &gt; <a class="code" href="DataFlowSanitizer_8cpp.html#ae113878cee8d330c91e109f381fe6d2b">RetvalTLSSize</a>) {</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;      <span class="comment">// Set overflowed return shadow to be zero.</span></div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;      DFSF.setShadow(&amp;CB, DFSF.DFS.getZeroShadow(&amp;CB));</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;      <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = NextIRB.CreateAlignedLoad(</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;          DFSF.DFS.getShadowTy(&amp;CB), DFSF.getRetvalTLS(CB.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), NextIRB),</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;          <a class="code" href="DataFlowSanitizer_8cpp.html#a759b4bcc28d4cadef20a7b40af3cebce">ShadowTLSAlignment</a>, <span class="stringliteral">&quot;_dfsret&quot;</span>);</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;      DFSF.SkipInsts.insert(LI);</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;      DFSF.setShadow(&amp;CB, LI);</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;      DFSF.NonZeroChecks.push_back(LI);</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    }</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160; </div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="keywordflow">if</span> (ShouldTrackOrigins) {</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;      <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = NextIRB.CreateLoad(DFSF.DFS.OriginTy,</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;                                        DFSF.getRetvalOriginTLS(), <span class="stringliteral">&quot;_dfsret_o&quot;</span>);</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;      DFSF.SkipInsts.insert(LI);</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;      DFSF.setOrigin(&amp;CB, LI);</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    }</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160; </div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    DFSF.addReachesFunctionCallbacksIfEnabled(NextIRB, CB, &amp;CB);</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  }</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;}</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160; </div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitPHINode(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;PN) {</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ShadowTy = DFSF.DFS.getShadowTy(&amp;PN);</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *ShadowPN =</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;      PHINode::Create(ShadowTy, PN.<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(), <span class="stringliteral">&quot;&quot;</span>, &amp;PN);</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160; </div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  <span class="comment">// Give the shadow phi node valid predecessors to fool SplitEdge into working.</span></div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *UndefShadow = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">UndefValue::get</a>(ShadowTy);</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : PN.<a class="code" href="classllvm_1_1PHINode.html#a88c1c3dd33d232dc889a5d29c75b75f3">blocks</a>())</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    ShadowPN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(UndefShadow, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160; </div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;  DFSF.setShadow(&amp;PN, ShadowPN);</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160; </div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *OriginPN = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;  <span class="keywordflow">if</span> (DFSF.DFS.shouldTrackOrigins()) {</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    OriginPN =</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;        PHINode::Create(DFSF.DFS.OriginTy, PN.<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(), <span class="stringliteral">&quot;&quot;</span>, &amp;PN);</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *UndefOrigin = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">UndefValue::get</a>(DFSF.DFS.OriginTy);</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : PN.<a class="code" href="classllvm_1_1PHINode.html#a88c1c3dd33d232dc889a5d29c75b75f3">blocks</a>())</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;      OriginPN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(UndefOrigin, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    DFSF.setOrigin(&amp;PN, OriginPN);</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  }</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160; </div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  DFSF.PHIFixups.push_back({&amp;PN, ShadowPN, OriginPN});</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;}</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160; </div>
<div class="line"><a name="l03470"></a><span class="lineno"><a class="line" href="classllvm_1_1DataFlowSanitizerPass.html#a763709e61e42f6df707528b509adf8de"> 3470</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">DataFlowSanitizerPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>,</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;                                             <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  <span class="keyword">auto</span> GetTLI = [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp; {</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a> =</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;        AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1InnerAnalysisManagerProxy.html">FunctionAnalysisManagerModuleProxy</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>).getManager();</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryAnalysis.html">TargetLibraryAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;  };</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  <span class="keywordflow">if</span> (!DataFlowSanitizer(ABIListFiles).runImpl(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, GetTLI))</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160; </div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> PA = <a class="code" href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>();</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  <span class="comment">// GlobalsAA is considered stateless and does not get invalidated unless</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  <span class="comment">// explicitly invalidated; PreservedAnalyses::none() is not enough. Sanitizers</span></div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  <span class="comment">// make changes that require GlobalsAA to be invalidated.</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ac8a842a601c470fa22db443ac34d0a67">abandon</a>&lt;<a class="code" href="classllvm_1_1GlobalsAA.html">GlobalsAA</a>&gt;();</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalsAA_html"><div class="ttname"><a href="classllvm_1_1GlobalsAA.html">llvm::GlobalsAA</a></div><div class="ttdoc">Analysis pass providing a never-invalidated alias analysis result.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalsModRef_8h_source.html#l00127">GlobalsModRef.h:127</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_acd6b5c06e9f9c7a0d2866ce2552ac1f5"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#acd6b5c06e9f9c7a0d2866ce2552ac1f5">ClABIListFiles</a></div><div class="ttdeci">static cl::list&lt; std::string &gt; ClABIListFiles(&quot;dfsan-abilist&quot;, cl::desc(&quot;File listing native ABI functions and how the pass treats them&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aAArch64LoadStoreOptimizer_8cpp_html_a96bc92416c8a38a3c4a275b9e6c0beca"><div class="ttname"><a href="AArch64LoadStoreOptimizer_8cpp.html#a96bc92416c8a38a3c4a275b9e6c0beca">alignTo</a></div><div class="ttdeci">static int alignTo(int Num, int PowOf2)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64LoadStoreOptimizer_8cpp_source.html#l01204">AArch64LoadStoreOptimizer.cpp:1204</a></div></div>
<div class="ttc" id="aInstrumentation_8h_html"><div class="ttname"><a href="Instrumentation_8h.html">Instrumentation.h</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a9a315d042512705500b545a6c6acb2bd"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a9a315d042512705500b545a6c6acb2bd">set</a></div><div class="ttdeci">We currently generate a but we really shouldn eax ecx xorl edx divl ecx eax divl ecx movl eax ret A similar code sequence works for division We currently compile i32 v2 eax eax jo LBB1_2 atomic and others It is also currently not done for read modify write instructions It is also current not done if the OF or CF flags are needed The shift operators have the complication that when the shift count is EFLAGS is not set</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l01277">README.txt:1277</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a7653277511df1034148a37520a585bb5"><div class="ttname"><a href="classllvm_1_1Instruction.html#a7653277511df1034148a37520a585bb5">llvm::Instruction::isTerminator</a></div><div class="ttdeci">bool isTerminator() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00171">Instruction.h:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">This class represents an incoming formal argument to a Function.</div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00028">Argument.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ad145436b2347d82ff976a0d86a0ae149"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">llvm::IRBuilderBase::CreateIntCast</a></div><div class="ttdeci">Value * CreateIntCast(Value *V, Type *DestTy, bool isSigned, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02077">IRBuilder.h:2077</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a0b4e7bee9b8575cc7db73329f1a561bd"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">llvm::BasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00316">BasicBlock.h:316</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a8ad67a33bae235fe3cca1c3e5a91ed2d"><div class="ttname"><a href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">llvm::Type::isSized</a></div><div class="ttdeci">bool isSized(SmallPtrSetImpl&lt; Type * &gt; *Visited=nullptr) const</div><div class="ttdoc">Return true if it makes sense to take the size of this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00295">Type.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7d1a18dc150da601587ccc716e0e4b41"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">llvm::IRBuilderBase::CreateStore</a></div><div class="ttdeci">StoreInst * CreateStore(Value *Val, Value *Ptr, bool isVolatile=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01718">IRBuilder.h:1718</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4ba3a5be6c0e9b9e8a525de055836733"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">llvm::Instruction::getModule</a></div><div class="ttdeci">const Module * getModule() const</div><div class="ttdoc">Return the module owning the function this instruction belongs to or nullptr it the function does not...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00070">Instruction.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">llvm::AArch64CC::AL</a></div><div class="ttdeci">@ AL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00269">AArch64BaseInfo.h:269</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a2e32c414382ed5fd53a770026361ed19"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a2e32c414382ed5fd53a770026361ed19">llvm::IRBuilderBase::getInt64Ty</a></div><div class="ttdeci">IntegerType * getInt64Ty()</div><div class="ttdoc">Fetch the type representing a 64-bit integer.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00517">IRBuilder.h:517</a></div></div>
<div class="ttc" id="anamespacellvm_html_a02981de53fb6ffd384d39addc4d25f37"><div class="ttname"><a href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a></div><div class="ttdeci">auto drop_begin(T &amp;&amp;RangeOrContainer, size_t N=1)</div><div class="ttdoc">Return a range covering RangeOrContainer with the first N elements excluded.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00386">STLExtras.h:386</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReturnInst_html"><div class="ttname"><a href="classllvm_1_1ReturnInst.html">llvm::ReturnInst</a></div><div class="ttdoc">Return a value (possibly void), from a function.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03057">Instructions.h:3057</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_aa49ebc2d87162ef011b1648bca33bbeb"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#aa49ebc2d87162ef011b1648bca33bbeb">llvm::IRBuilderBase::CreateAlignedStore</a></div><div class="ttdeci">StoreInst * CreateAlignedStore(Value *Val, Value *Ptr, MaybeAlign Align, bool isVolatile=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01741">IRBuilder.h:1741</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html_a18fc4545474c6ebb6f7c547f64f4fb31"><div class="ttname"><a href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">llvm::StructType::get</a></div><div class="ttdeci">static StructType * get(LLVMContext &amp;Context, ArrayRef&lt; Type * &gt; Elements, bool isPacked=false)</div><div class="ttdoc">This static method is the primary way to create a literal StructType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00408">Type.cpp:408</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_ae113878cee8d330c91e109f381fe6d2b"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#ae113878cee8d330c91e109f381fe6d2b">RetvalTLSSize</a></div><div class="ttdeci">static const unsigned RetvalTLSSize</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l00130">DataFlowSanitizer.cpp:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a6895b4fdb208e8a5ff15c573c71657b0"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a6895b4fdb208e8a5ff15c573c71657b0">llvm::IRBuilderBase::CreateExtractValue</a></div><div class="ttdeci">Value * CreateExtractValue(Value *Agg, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02397">IRBuilder.h:2397</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_aebf1fb9cbd5daf4f6037d02667505c79"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#aebf1fb9cbd5daf4f6037d02667505c79">ClConditionalCallbacks</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClConditionalCallbacks(&quot;dfsan-conditional-callbacks&quot;, cl::desc(&quot;Insert calls to callback functions on conditionals.&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00293">Type.cpp:293</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a3b996fbf8458aafffc86cb98a68d0a47"><div class="ttname"><a href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const</div><div class="ttdoc">True if this is an instance of PointerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00249">Type.h:249</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a3547d58a060ee2e4a29cbea85bef91af"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">llvm::GlobalValue::getLinkage</a></div><div class="ttdeci">LinkageTypes getLinkage() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00541">GlobalValue.h:541</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6875de46fcb2a74ca95bce67edd215a0"><div class="ttname"><a href="classllvm_1_1Function.html#a6875de46fcb2a74ca95bce67edd215a0">llvm::Function::removeFnAttrs</a></div><div class="ttdeci">void removeFnAttrs(const AttributeMask &amp;Attrs)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00606">Function.cpp:606</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1ExtractElementInst_html"><div class="ttname"><a href="classllvm_1_1ExtractElementInst.html">llvm::ExtractElementInst</a></div><div class="ttdoc">This instruction extracts a single (scalar) element from a VectorType value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01881">Instructions.h:1881</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemTransferInst_html"><div class="ttname"><a href="classllvm_1_1MemTransferInst.html">llvm::MemTransferInst</a></div><div class="ttdoc">This class wraps the llvm.memcpy/memmove intrinsics.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01113">IntrinsicInst.h:1113</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_aee56a5257c4899bf97c5957d87a732e3"><div class="ttname"><a href="classllvm_1_1CallBase.html#aee56a5257c4899bf97c5957d87a732e3">llvm::CallBase::setCalledFunction</a></div><div class="ttdeci">void setCalledFunction(Function *Fn)</div><div class="ttdoc">Sets the function called, including updating the function type.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01445">InstrTypes.h:1445</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitCastInst_html"><div class="ttname"><a href="classllvm_1_1BitCastInst.html">llvm::BitCastInst</a></div><div class="ttdoc">This class represents a no-op cast from one type to another.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l05258">Instructions.h:5258</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a84652ca512637318e6729c659cf4541d"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a84652ca512637318e6729c659cf4541d">llvm::IRBuilderBase::CreateXor</a></div><div class="ttdeci">Value * CreateXor(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01434">IRBuilder.h:1434</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReturnInst_html_a87e923648048258a6e8376d6cf4ce565"><div class="ttname"><a href="classllvm_1_1ReturnInst.html#a87e923648048258a6e8376d6cf4ce565">llvm::ReturnInst::getReturnValue</a></div><div class="ttdeci">Value * getReturnValue() const</div><div class="ttdoc">Convenience accessor. Returns null if there is no return value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03102">Instructions.h:3102</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__with__parent_html_a26708685cc8b94fe3d7092ee080dbb34"><div class="ttname"><a href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">llvm::ilist_node_with_parent::getNextNode</a></div><div class="ttdeci">NodeTy * getNextNode()</div><div class="ttdoc">Get the next node, or nullptr for the list tail.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00289">ilist_node.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1LandingPadInst_html"><div class="ttname"><a href="classllvm_1_1LandingPadInst.html">llvm::LandingPadInst</a></div><div class="ttdoc">The landingpad instruction holds all of the information necessary to generate correct exception handl...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02956">Instructions.h:2956</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a018f0394a375233d538109968b76a05a"><div class="ttname"><a href="classllvm_1_1CallBase.html#a018f0394a375233d538109968b76a05a">llvm::CallBase::isInlineAsm</a></div><div class="ttdeci">bool isInlineAsm() const</div><div class="ttdoc">Check if this call is an inline asm statement.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01474">InstrTypes.h:1474</a></div></div>
<div class="ttc" id="aNVPTXLowerArgs_8cpp_html_a4d6da696b3c753c5e5fbcc4d21d4cb71"><div class="ttname"><a href="NVPTXLowerArgs_8cpp.html#a4d6da696b3c753c5e5fbcc4d21d4cb71">args</a></div><div class="ttdeci">nvptx lower args</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXLowerArgs_8cpp_source.html#l00146">NVPTXLowerArgs.cpp:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ad9d88ae321b98d8a3b7f394977ae6d7f"><div class="ttname"><a href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">llvm::Value::hasName</a></div><div class="ttdeci">bool hasName() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00261">Value.h:261</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_afef76233e8877797902c325bb078e381"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#afef76233e8877797902c325bb078e381">llvm::IRBuilderBase::CreateStructGEP</a></div><div class="ttdeci">Value * CreateStructGEP(Type *Ty, Value *Ptr, unsigned Idx, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01888">IRBuilder.h:1888</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae79d05dd3d0b05e080e08f8c5c33f880"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02229">Constants.cpp:2229</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00028">GlobalAlias.h:28</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a5cc6492c8f2e06a8bae9dc0d121fab9f"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a5cc6492c8f2e06a8bae9dc0d121fab9f">llvm::AttributeList::get</a></div><div class="ttdeci">static AttributeList get(LLVMContext &amp;C, ArrayRef&lt; std::pair&lt; unsigned, Attribute &gt;&gt; Attrs)</div><div class="ttdoc">Create an AttributeList with the specified parameters in it.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01132">Attributes.cpp:1132</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ad31917a381a26d6857d63e9f4bf4e1fa"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ad31917a381a26d6857d63e9f4bf4e1fa">llvm::IRBuilderBase::CreateOr</a></div><div class="ttdeci">Value * CreateOr(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01412">IRBuilder.h:1412</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a7f4c30e0bd68d5b7b9b00301326ac7f7"><div class="ttname"><a href="classllvm_1_1Module.html#a7f4c30e0bd68d5b7b9b00301326ac7f7">llvm::Module::getModuleInlineAsm</a></div><div class="ttdeci">const std::string &amp; getModuleInlineAsm() const</div><div class="ttdoc">Get any module-scope inline assembly blocks.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00266">Module.h:266</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_ac8a842a601c470fa22db443ac34d0a67"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#ac8a842a601c470fa22db443ac34d0a67">llvm::PreservedAnalyses::abandon</a></div><div class="ttdeci">void abandon()</div><div class="ttdoc">Mark an analysis as abandoned.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00206">PassManager.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a83c7e5ca51099e4efa895791a02fb0ed"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a></div><div class="ttdeci">FunctionAnalysisManager FAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00059">PassBuilderBindings.cpp:59</a></div></div>
<div class="ttc" id="aGlobalsModRef_8h_html"><div class="ttname"><a href="GlobalsModRef_8h.html">GlobalsModRef.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a03797a73044a81cbc6a3409d6c72ee8f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">llvm::PreservedAnalyses::none</a></div><div class="ttdeci">static PreservedAnalyses none()</div><div class="ttdoc">Convenience factory function for the empty preserved set.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00155">PassManager.h:155</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a086e31f131abbdc6591adafb6f984c6d"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a086e31f131abbdc6591adafb6f984c6d">Linux_X86_64_MemoryMapParams</a></div><div class="ttdeci">const MemoryMapParams Linux_X86_64_MemoryMapParams</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l00300">DataFlowSanitizer.cpp:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aec88b7682025edff7984c3b6c8da8ac9"><div class="ttname"><a href="namespacellvm.html#aec88b7682025edff7984c3b6c8da8ac9">llvm::removeUnreachableBlocks</a></div><div class="ttdeci">bool removeUnreachableBlocks(Function &amp;F, DomTreeUpdater *DTU=nullptr, MemorySSAUpdater *MSSAU=nullptr)</div><div class="ttdoc">Remove all blocks that can not be reached from the function's entry.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02614">Local.cpp:2614</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">llvm::Triple::x86_64</a></div><div class="ttdeci">@ x86_64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00086">Triple.h:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html"><div class="ttname"><a href="classllvm_1_1AttributeList.html">llvm::AttributeList</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00432">Attributes.h:432</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeMask_html"><div class="ttname"><a href="classllvm_1_1AttributeMask.html">llvm::AttributeMask</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00979">Attributes.h:979</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ae0c55761fce39dd71617690b04385193"><div class="ttname"><a href="classllvm_1_1CallBase.html#ae0c55761fce39dd71617690b04385193">llvm::CallBase::getAttributes</a></div><div class="ttdeci">AttributeList getAttributes() const</div><div class="ttdoc">Return the parameter attributes for this call.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01484">InstrTypes.h:1484</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a5e4a09f80c7cd5283dbbc7256d122d12"><div class="ttname"><a href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">llvm::CallBase::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01264">InstrTypes.h:1264</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a784097fca76abad9e815cf1692de79c4"><div class="ttname"><a href="classllvm_1_1Instruction.html#a784097fca76abad9e815cf1692de79c4">llvm::Instruction::comesBefore</a></div><div class="ttdeci">bool comesBefore(const Instruction *Other) const</div><div class="ttdoc">Given an instruction Other in the same basic block as this instruction, return true if this instructi...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00122">Instruction.cpp:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a1cf553641e8527095ae4c8ec88a2cd92"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a1cf553641e8527095ae4c8ec88a2cd92">llvm::AttributeList::getFnAttrs</a></div><div class="ttdeci">AttributeSet getFnAttrs() const</div><div class="ttdoc">The function attributes are returned.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01462">Attributes.cpp:1462</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a7af616ba2a31f5971eb4c842955aafa8"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a7af616ba2a31f5971eb4c842955aafa8">addAcquireOrdering</a></div><div class="ttdeci">static AtomicOrdering addAcquireOrdering(AtomicOrdering AO)</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l02337">DataFlowSanitizer.cpp:2337</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a250e66aa31a03567cc345ca1bc463b8c"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a></div><div class="ttdeci">uint64_t Offset</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00080">ELFObjHandler.cpp:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_abb107e4edbf05eae92936cba6801c2d9"><div class="ttname"><a href="classllvm_1_1Module.html#abb107e4edbf05eae92936cba6801c2d9">llvm::Module::getOrInsertFunction</a></div><div class="ttdeci">FunctionCallee getOrInsertFunction(StringRef Name, FunctionType *T, AttributeList AttributeList)</div><div class="ttdoc">Look up the specified function in the module symbol table.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00144">Module.cpp:144</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet&lt; Value *, 16 &gt;</a></div></div>
<div class="ttc" id="aInstructionCombining_8cpp_html_a42ac274c4dac68dda60e1d52a572b734"><div class="ttname"><a href="InstructionCombining_8cpp.html#a42ac274c4dac68dda60e1d52a572b734">isMustTailCall</a></div><div class="ttdeci">static bool isMustTailCall(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionCombining_8cpp_source.html#l03092">InstructionCombining.cpp:3092</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a39b5a72b70df94211893c7fc6bbfe1f5"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a39b5a72b70df94211893c7fc6bbfe1f5">llvm::IRBuilderBase::CreateInsertElement</a></div><div class="ttdeci">Value * CreateInsertElement(Type *VecTy, Value *NewElt, Value *Idx, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02353">IRBuilder.h:2353</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSet_html_a31714563344c51d7d917d1206efa48cf"><div class="ttname"><a href="classllvm_1_1StringSet.html#a31714563344c51d7d917d1206efa48cf">llvm::StringSet::insert</a></div><div class="ttdeci">std::pair&lt; typename Base::iterator, bool &gt; insert(StringRef key)</div><div class="ttdef"><b>Definition:</b> <a href="StringSet_8h_source.html#l00034">StringSet.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a104d6154321899b53e40455e71d8e83a"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a104d6154321899b53e40455e71d8e83a">llvm::FunctionType::getNumParams</a></div><div class="ttdeci">unsigned getNumParams() const</div><div class="ttdoc">Return the number of fixed parameters this function type requires.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00139">DerivedTypes.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a4fb513d744ca72275932b2c7003f16f6"><div class="ttname"><a href="classllvm_1_1CallBase.html#a4fb513d744ca72275932b2c7003f16f6">llvm::CallBase::arg_begin</a></div><div class="ttdeci">User::op_iterator arg_begin()</div><div class="ttdoc">Return the iterator pointing to the beginning of the argument list.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01326">InstrTypes.h:1326</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a7886b01e9761c33d2235cda57744417d"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a7886b01e9761c33d2235cda57744417d">addReleaseOrdering</a></div><div class="ttdeci">static AtomicOrdering addReleaseOrdering(AtomicOrdering AO)</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l02628">DataFlowSanitizer.cpp:2628</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">llvm::GlobalValue::LinkageTypes</a></div><div class="ttdeci">LinkageTypes</div><div class="ttdoc">An enumeration for the kinds of linkage for global values.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00047">GlobalValue.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdoc">Class to represent array types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00357">DerivedTypes.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_ad47eefa1d094f60494b6b927061ca001"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">llvm::LoadInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00264">Instructions.h:264</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a1e0fea1b88c314ecffb18922c6be5e70"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a1e0fea1b88c314ecffb18922c6be5e70">llvm::IRBuilderBase::CreateAlignedLoad</a></div><div class="ttdeci">LoadInst * CreateAlignedLoad(Type *Ty, Value *Ptr, MaybeAlign Align, const char *Name)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01722">IRBuilder.h:1722</a></div></div>
<div class="ttc" id="aclassllvm_1_1UnaryOperator_html"><div class="ttname"><a href="classllvm_1_1UnaryOperator.html">llvm::UnaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00100">InstrTypes.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_abd2f5469db2235e00ac6df61fe766c85"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#abd2f5469db2235e00ac6df61fe766c85">llvm::IRBuilderBase::CreateGlobalStringPtr</a></div><div class="ttdeci">Constant * CreateGlobalStringPtr(StringRef Str, const Twine &amp;Name=&quot;&quot;, unsigned AddressSpace=0, Module *M=nullptr)</div><div class="ttdoc">Same as CreateGlobalString, but return a pointer with &quot;i8*&quot; type instead of a pointer to array of i8.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01898">IRBuilder.h:1898</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ae5d05ec2b9a60806746addff3f2a71a9"><div class="ttname"><a href="classllvm_1_1CallBase.html#ae5d05ec2b9a60806746addff3f2a71a9">llvm::CallBase::addParamAttr</a></div><div class="ttdeci">void addParamAttr(unsigned ArgNo, Attribute::AttrKind Kind)</div><div class="ttdoc">Adds the attribute to the indicated argument.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01536">InstrTypes.h:1536</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_af51c113a039c82f6870df5dc9666b5e3"><div class="ttname"><a href="classllvm_1_1LoadInst.html#af51c113a039c82f6870df5dc9666b5e3">llvm::LoadInst::getAlign</a></div><div class="ttdeci">Align getAlign() const</div><div class="ttdoc">Return the alignment of the access that is being performed.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00220">Instructions.h:220</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8h_html"><div class="ttname"><a href="DataFlowSanitizer_8h.html">DataFlowSanitizer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_afbe24f9e57cab99bd5bf3960c76bcc94"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#afbe24f9e57cab99bd5bf3960c76bcc94">llvm::IRBuilderBase::CreateAlloca</a></div><div class="ttdeci">AllocaInst * CreateAlloca(Type *Ty, unsigned AddrSpace, Value *ArraySize=nullptr, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01688">IRBuilder.h:1688</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_aafbb4f3753798fa39d502a598631ac9e"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#aafbb4f3753798fa39d502a598631ac9e">getGlobalTypeString</a></div><div class="ttdeci">static StringRef getGlobalTypeString(const GlobalValue &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l00264">DataFlowSanitizer.cpp:264</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d"><div class="ttname"><a href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">llvm::Data</a></div><div class="ttdeci">@ Data</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00055">SIMachineScheduler.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a963a6e215fa44c77d92b3c02faf58228"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">llvm::IRBuilderBase::CreateIntToPtr</a></div><div class="ttdeci">Value * CreateIntToPtr(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02003">IRBuilder.h:2003</a></div></div>
<div class="ttc" id="aDepthFirstIterator_8h_html"><div class="ttname"><a href="DepthFirstIterator_8h.html">DepthFirstIterator.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a88c1c3dd33d232dc889a5d29c75b75f3"><div class="ttname"><a href="classllvm_1_1PHINode.html#a88c1c3dd33d232dc889a5d29c75b75f3">llvm::PHINode::blocks</a></div><div class="ttdeci">iterator_range&lt; const_block_iterator &gt; blocks() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02780">Instructions.h:2780</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_aa9d770048c7ab9e08222a50b7bc1be1c"><div class="ttname"><a href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">llvm::FunctionType::isVarArg</a></div><div class="ttdeci">bool isVarArg() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00123">DerivedTypes.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a5c69311e8d44898dac36a155c3d8691d"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const BasicBlock *BB, const Use &amp;U) const</div><div class="ttdoc">Return true if the (end of the) basic block BB dominates the use U.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00122">Dominators.cpp:122</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a10531decc5032413dba40ebf5589ef81"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a10531decc5032413dba40ebf5589ef81">llvm::IRBuilderBase::CreateInsertValue</a></div><div class="ttdeci">Value * CreateInsertValue(Value *Agg, Value *Val, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02404">IRBuilder.h:2404</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_af29b5662580048d22b33ad5a169ae57e"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#af29b5662580048d22b33ad5a169ae57e">ClReachesFunctionCallbacks</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClReachesFunctionCallbacks(&quot;dfsan-reaches-function-callbacks&quot;, cl::desc(&quot;Insert calls to callback functions on data reaching a function.&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_aaa66c8024e3a858cfbddba0226a6521b"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#aaa66c8024e3a858cfbddba0226a6521b">ClEventCallbacks</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClEventCallbacks(&quot;dfsan-event-callbacks&quot;, cl::desc(&quot;Insert calls to __dfsan_*_callback functions on data events.&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a4d748f0a6d8a5086dbf568d39c03b674"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a4d748f0a6d8a5086dbf568d39c03b674">llvm::IRBuilderBase::CreateMul</a></div><div class="ttdeci">Value * CreateMul(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01276">IRBuilder.h:1276</a></div></div>
<div class="ttc" id="aGlobalValue_8h_html"><div class="ttname"><a href="GlobalValue_8h.html">GlobalValue.h</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_ae4b6abe77abf42fb02081a6cc41a0132"><div class="ttname"><a href="classllvm_1_1Constant.html#ae4b6abe77abf42fb02081a6cc41a0132">llvm::Constant::isNullValue</a></div><div class="ttdeci">bool isNullValue() const</div><div class="ttdoc">Return true if this is the value that would be returned by getNullValue.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00076">Constants.cpp:76</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_afb5c46a140e1b7f08de54d9c035a8adc"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#afb5c46a140e1b7f08de54d9c035a8adc">llvm::IRBuilderBase::CreateGEP</a></div><div class="ttdeci">Value * CreateGEP(Type *Ty, Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;Name=&quot;&quot;, bool IsInBounds=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01781">IRBuilder.h:1781</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26a5e408fc09c5664d2bbb2d7fae154e"><div class="ttname"><a href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">llvm::LibFunc</a></div><div class="ttdeci">LibFunc</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00036">TargetLibraryInfo.h:36</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a57efb022f2ee2e19e4cdf582f4d27f2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a57efb022f2ee2e19e4cdf582f4d27f2d">llvm::Instruction::isAtomic</a></div><div class="ttdeci">bool isAtomic() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction has an AtomicOrdering of unordered or higher.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00666">Instruction.cpp:666</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a9da3b29e8e71b9be4645874e1721207a"><div class="ttname"><a href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">llvm::CallBase::setAttributes</a></div><div class="ttdeci">void setAttributes(AttributeList A)</div><div class="ttdoc">Set the parameter attributes for this call.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01488">InstrTypes.h:1488</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a132a883efbc512ce6325d5f751bb3672"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">llvm::IRBuilderBase::CreateLoad</a></div><div class="ttdeci">LoadInst * CreateLoad(Type *Ty, Value *Ptr, const char *Name)</div><div class="ttdoc">Provided to resolve 'CreateLoad(Ty, Ptr, &quot;...&quot;)' correctly, instead of converting the string to 'bool...</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01705">IRBuilder.h:1705</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html_ad910125a9cfd76aaad7f69469df22f66"><div class="ttname"><a href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">llvm::MDBuilder::createBranchWeights</a></div><div class="ttdeci">MDNode * createBranchWeights(uint32_t TrueWeight, uint32_t FalseWeight)</div><div class="ttdoc">Return metadata containing two branch weights.</div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8cpp_source.html#l00037">MDBuilder.cpp:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_adaf42001b3cc4c8c631902cbb48106d5"><div class="ttname"><a href="classllvm_1_1Attribute.html#adaf42001b3cc4c8c631902cbb48106d5">llvm::Attribute::getWithMemoryEffects</a></div><div class="ttdeci">static Attribute getWithMemoryEffects(LLVMContext &amp;Context, MemoryEffects ME)</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00214">Attributes.cpp:214</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_a850d8262cd900958b3153c4aa080b2bb"><div class="ttname"><a href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">llvm::CallInst::Create</a></div><div class="ttdeci">static CallInst * Create(FunctionType *Ty, Value *F, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01528">Instructions.h:1528</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a3d392a14b38e5ca75d7cb0390bd7fc43"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a3d392a14b38e5ca75d7cb0390bd7fc43">MinOriginAlignment</a></div><div class="ttdeci">static const Align MinOriginAlignment</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l00125">DataFlowSanitizer.cpp:125</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00486">AMDGPUMetadata.h:486</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_acb3914db988819782f3a6317d2e2b925"><div class="ttname"><a href="classllvm_1_1Function.html#acb3914db988819782f3a6317d2e2b925">llvm::Function::removeRetAttrs</a></div><div class="ttdeci">void removeRetAttrs(const AttributeMask &amp;Attrs)</div><div class="ttdoc">removes the attributes from the return value list of attributes.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00618">Function.cpp:618</a></div></div>
<div class="ttc" id="aclassllvm_1_1InsertElementInst_html"><div class="ttname"><a href="classllvm_1_1InsertElementInst.html">llvm::InsertElementInst</a></div><div class="ttdoc">This instruction inserts a single (scalar) element into a VectorType value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01945">Instructions.h:1945</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Class to represent integer types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00040">DerivedTypes.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aMDBuilder_8h_html"><div class="ttname"><a href="MDBuilder_8h.html">MDBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a688b78f3578991bc31187aad61b8145b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a688b78f3578991bc31187aad61b8145b">llvm::IRBuilderBase::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00176">IRBuilder.h:176</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_afd7894f118b1d1636cff1b8de5f424e5"><div class="ttname"><a href="classllvm_1_1Function.html#afd7894f118b1d1636cff1b8de5f424e5">llvm::Function::copyAttributesFrom</a></div><div class="ttdeci">void copyAttributesFrom(const Function *Src)</div><div class="ttdoc">copyAttributesFrom - copy all additional attributes (those not needed to create a Function) from the ...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00739">Function.cpp:739</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdoc">Change the name of the value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00375">Value.cpp:375</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_abd8f7242df6ecb10f429c4d39403c334"><div class="ttname"><a href="classllvm_1_1Module.html#abd8f7242df6ecb10f429c4d39403c334">llvm::Module::getOrInsertGlobal</a></div><div class="ttdeci">Constant * getOrInsertGlobal(StringRef Name, Type *Ty, function_ref&lt; GlobalVariable *()&gt; CreateGlobalCallback)</div><div class="ttdoc">Look up the specified global in the module symbol table.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00205">Module.cpp:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'undef' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01740">Constants.cpp:1740</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a168c2c073b44c41dc521120bda0b1047"><div class="ttname"><a href="classllvm_1_1Module.html#a168c2c073b44c41dc521120bda0b1047">llvm::Module::setModuleInlineAsm</a></div><div class="ttdeci">void setModuleInlineAsm(StringRef Asm)</div><div class="ttdoc">Set the module-scope inline assembly blocks.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00305">Module.h:305</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_afe2a9a7d41ee8ed52440de90abd14aaf"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#afe2a9a7d41ee8ed52440de90abd14aaf">ClInstrumentWithCallThreshold</a></div><div class="ttdeci">static cl::opt&lt; int &gt; ClInstrumentWithCallThreshold(&quot;dfsan-instrument-with-call-threshold&quot;, cl::desc(&quot;If the function being instrumented requires more than &quot; &quot;this number of origin stores, use callbacks instead of &quot; &quot;inline checks (-1 means never use callbacks).&quot;), cl::Hidden, cl::init(3500))</div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a3ff92cec76009e859cb0c419d6e8ba5f"><div class="ttname"><a href="classllvm_1_1CallBase.html#a3ff92cec76009e859cb0c419d6e8ba5f">llvm::CallBase::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01465">InstrTypes.h:1465</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aef51af4b490af6b3bf2dfbc8737a8f9f"><div class="ttname"><a href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const</div><div class="ttdoc">Return the number of incoming edges.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02790">Instructions.h:2790</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a13e877ef779ba7a0688081079f4f9b03"><div class="ttname"><a href="classllvm_1_1Type.html#a13e877ef779ba7a0688081079f4f9b03">llvm::Type::getIntegerBitWidth</a></div><div class="ttdeci">unsigned getIntegerBitWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00097">DerivedTypes.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_a26ba285498c9551466c8abafe16d6541"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#a26ba285498c9551466c8abafe16d6541">llvm::MemoryEffects::readOnly</a></div><div class="ttdeci">static MemoryEffects readOnly()</div><div class="ttdoc">Create MemoryEffects that can read any memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00123">ModRef.h:123</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa82bb12b2879425012b3742487e10964"><div class="ttname"><a href="namespacellvm.html#aa82bb12b2879425012b3742487e10964">llvm::erase_value</a></div><div class="ttdeci">void erase_value(Container &amp;C, ValueType V)</div><div class="ttdoc">Wrapper function to remove a value from a container:</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02006">STLExtras.h:2006</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_af5a702ee0c9fcfdb2f18c91eb0499bf2"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">llvm::IRBuilderBase::CreateAnd</a></div><div class="ttdeci">Value * CreateAnd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01390">IRBuilder.h:1390</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSetInst_html"><div class="ttname"><a href="classllvm_1_1MemSetInst.html">llvm::MemSetInst</a></div><div class="ttdoc">This class wraps the llvm.memset and llvm.memset.inline intrinsics.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01080">IntrinsicInst.h:1080</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a8da622ab5a22792ab0396142382e903e"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">llvm::IRBuilderBase::CreatePointerCast</a></div><div class="ttdeci">Value * CreatePointerCast(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02054">IRBuilder.h:2054</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dxil_1_1PointerTypeAnalysis_html_ae574a4c1d84b9e67bc94489f356805b4"><div class="ttname"><a href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">llvm::dxil::PointerTypeAnalysis::run</a></div><div class="ttdeci">PointerTypeMap run(const Module &amp;M)</div><div class="ttdoc">Compute the PointerTypeMap for the module M.</div><div class="ttdef"><b>Definition:</b> <a href="PointerTypeAnalysis_8cpp_source.html#l00189">PointerTypeAnalysis.cpp:189</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1InvokeInst_html"><div class="ttname"><a href="classllvm_1_1InvokeInst.html">llvm::InvokeInst</a></div><div class="ttdoc">Invoke instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03814">Instructions.h:3814</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdeci">@ IE</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00027">ARMBaseInfo.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">This class is the base class for the comparison instructions.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00708">InstrTypes.h:708</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aRDFGraph_8cpp_html_af153ca0eadca8bc464492b7aba7feb00"><div class="ttname"><a href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a></div><div class="ttdeci">const DataFlowGraph &amp; G</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8cpp_source.html#l00200">RDFGraph.cpp:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; Instruction * &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1pointer__iterator_html"><div class="ttname"><a href="classllvm_1_1pointer__iterator.html">llvm::pointer_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="iterator_8h_source.html#l00344">iterator.h:344</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7">llvm::AtomicOrdering</a></div><div class="ttdeci">AtomicOrdering</div><div class="ttdoc">Atomic ordering for LLVM's memory model.</div><div class="ttdef"><b>Definition:</b> <a href="AtomicOrdering_8h_source.html#l00056">AtomicOrdering.h:56</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a917f7b6819b115f7783119d89d6ef0bc"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a917f7b6819b115f7783119d89d6ef0bc">Linux_AArch64_MemoryMapParams</a></div><div class="ttdeci">const MemoryMapParams Linux_AArch64_MemoryMapParams</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l00292">DataFlowSanitizer.cpp:292</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a06d64f226fabd94d694d6abd82e3c7b3"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a06d64f226fabd94d694d6abd82e3c7b3">llvm::IRBuilderBase::CreateBitCast</a></div><div class="ttdeci">Value * CreateBitCast(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02008">IRBuilder.h:2008</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a5604157867b3d226260f6388b987e49a"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a5604157867b3d226260f6388b987e49a">llvm::AttributeList::getRetAttrs</a></div><div class="ttdeci">AttributeSet getRetAttrs() const</div><div class="ttdoc">The attributes for the ret value are returned.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01458">Attributes.cpp:1458</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a4e5c1b91bf5e2860398e3fa35c96b5af"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a4e5c1b91bf5e2860398e3fa35c96b5af">llvm::IRBuilderBase::GetInsertPoint</a></div><div class="ttdeci">BasicBlock::iterator GetInsertPoint() const</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00175">IRBuilder.h:175</a></div></div>
<div class="ttc" id="anamespacellvm_1_1vfs_html_a9878c6a5a53d24e17c7c1002be31364c"><div class="ttname"><a href="namespacellvm_1_1vfs.html#a9878c6a5a53d24e17c7c1002be31364c">llvm::vfs::getRealFileSystem</a></div><div class="ttdeci">IntrusiveRefCntPtr&lt; FileSystem &gt; getRealFileSystem()</div><div class="ttdoc">Gets an vfs::FileSystem for the 'real' file system, as seen by the operating system.</div><div class="ttdef"><b>Definition:</b> <a href="VirtualFileSystem_8cpp_source.html#l00375">VirtualFileSystem.cpp:375</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00082">Instruction.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a8db49fd5069f21d514e7bb0fd11f0902"><div class="ttname"><a href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a></div><div class="ttdeci">static PointerType * getUnqual(Type *ElementType)</div><div class="ttdoc">This constructs a pointer to an object of the specified type in the default address space (address sp...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00651">DerivedTypes.h:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00652">GlobalValue.h:652</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_a46adba111f7580ebfbb869a008de1818"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a46adba111f7580ebfbb869a008de1818">llvm::LoadInst::setOrdering</a></div><div class="ttdeci">void setOrdering(AtomicOrdering Ordering)</div><div class="ttdoc">Sets the ordering constraint of this load instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00234">Instructions.h:234</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a089cccb6f231efee72abc76d0f9c695f"><div class="ttname"><a href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">llvm::PHINode::addIncoming</a></div><div class="ttdeci">void addIncoming(Value *V, BasicBlock *BB)</div><div class="ttdoc">Add an incoming value to the end of the PHI list.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02854">Instructions.h:2854</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="aAMDGPUInstructionSelector_8cpp_html_a6dee2d9e1e2a288de903228075ac71de"><div class="ttname"><a href="AMDGPUInstructionSelector_8cpp.html#a6dee2d9e1e2a288de903228075ac71de">isConstant</a></div><div class="ttdeci">static bool isConstant(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUInstructionSelector_8cpp_source.html#l02605">AMDGPUInstructionSelector.cpp:2605</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad4b2e7a84faf3d7b6ffb84b541358e00"><div class="ttname"><a href="namespacellvm.html#ad4b2e7a84faf3d7b6ffb84b541358e00">llvm::assumeAligned</a></div><div class="ttdeci">Align assumeAligned(uint64_t Value)</div><div class="ttdoc">Treats the value 0 as a 1, so Align is always at least 1.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00111">Alignment.h:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a8d87e69e124542d3338b631934cdbea9aaa56a2e65d8106aef3c61e4f6bf94fdb"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9aaa56a2e65d8106aef3c61e4f6bf94fdb">llvm::logicalview::LVPrintKind::Elements</a></div><div class="ttdeci">@ Elements</div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a3cfefc755ab656000934f91193afb1cda76d4dd8dc67e3a11d975743f6d63a9df"><div class="ttname"><a href="classllvm_1_1Triple.html#a3cfefc755ab656000934f91193afb1cda76d4dd8dc67e3a11d975743f6d63a9df">llvm::Triple::Linux</a></div><div class="ttdeci">@ Linux</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00196">Triple.h:196</a></div></div>
<div class="ttc" id="aiterator_8h_html"><div class="ttname"><a href="iterator_8h.html">iterator.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html_a4ff1bb484be62f8dac94fc087f72f524"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#a4ff1bb484be62f8dac94fc087f72f524">llvm::DebugLoc::get</a></div><div class="ttdeci">DILocation * get() const</div><div class="ttdoc">Get the underlying DILocation.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8cpp_source.html#l00020">DebugLoc.cpp:20</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a20cdc3911828248e70dbeae018106b76"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">llvm::FunctionType::getParamType</a></div><div class="ttdeci">Type * getParamType(unsigned i) const</div><div class="ttdoc">Parameter type accessors.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00135">DerivedTypes.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7badbb741cd23e73ad063428c9cd5fea"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">llvm::IRBuilderBase::getInt8PtrTy</a></div><div class="ttdeci">PointerType * getInt8PtrTy(unsigned AddrSpace=0)</div><div class="ttdoc">Fetch the type representing a pointer to an 8-bit integer value.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00560">IRBuilder.h:560</a></div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdoc">an instruction for type-safe pointer arithmetic to access elements of arrays and structs</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00940">Instructions.h:940</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_a2b1268b642e9bf4373b6fb31c482c9ca"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a2b1268b642e9bf4373b6fb31c482c9ca">llvm::LoadInst::setAlignment</a></div><div class="ttdeci">void setAlignment(Align Align)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00224">Instructions.h:224</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a49b228f797f9b3563256da446100c3ac"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a49b228f797f9b3563256da446100c3ac">llvm::IRBuilderBase::CreateSelect</a></div><div class="ttdeci">Value * CreateSelect(Value *C, Value *True, Value *False, const Twine &amp;Name=&quot;&quot;, Instruction *MDFrom=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8cpp_source.html#l01126">IRBuilder.cpp:1126</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdoc">Class to represent pointers.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00632">DerivedTypes.h:632</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_aa94f59b6921a7cd3567439b3302a5357"><div class="ttname"><a href="classllvm_1_1CallBase.html#aa94f59b6921a7cd3567439b3302a5357">llvm::CallBase::addRetAttr</a></div><div class="ttdeci">void addRetAttr(Attribute::AttrKind Kind)</div><div class="ttdoc">Adds the attribute to the return value.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01526">InstrTypes.h:1526</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae8f5bf5cc06f696b52c709677df00fbf"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">llvm::Instruction::setDebugLoc</a></div><div class="ttdeci">void setDebugLoc(DebugLoc Loc)</div><div class="ttdoc">Set the debug location information for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00355">Instruction.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a928603739e0e70713566011d44052a4f"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">llvm::IRBuilderBase::CreateAdd</a></div><div class="ttdeci">Value * CreateAdd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01242">IRBuilder.h:1242</a></div></div>
<div class="ttc" id="aclassllvm_1_1SpecialCaseList_html_a6c0343ae2b29d3a9882c0cfc4bee8c03"><div class="ttname"><a href="classllvm_1_1SpecialCaseList.html#a6c0343ae2b29d3a9882c0cfc4bee8c03">llvm::SpecialCaseList::createOrDie</a></div><div class="ttdeci">static std::unique_ptr&lt; SpecialCaseList &gt; createOrDie(const std::vector&lt; std::string &gt; &amp;Paths, llvm::vfs::FileSystem &amp;FS)</div><div class="ttdoc">Parses the special case list entries from files.</div><div class="ttdef"><b>Definition:</b> <a href="SpecialCaseList_8cpp_source.html#l00090">SpecialCaseList.cpp:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6adbed68009f582caa84cdfd2adf36f1"><div class="ttname"><a href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, unsigned AddrSpace, const Twine &amp;N=&quot;&quot;, Module *M=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00136">Function.h:136</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a5c728ddd7890c015533b42cdd7307b0c"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a5c728ddd7890c015533b42cdd7307b0c">llvm::IRBuilderBase::CreateExtractElement</a></div><div class="ttdeci">Value * CreateExtractElement(Value *Vec, Value *Idx, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02341">IRBuilder.h:2341</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectInst_html"><div class="ttname"><a href="classllvm_1_1SelectInst.html">llvm::SelectInst</a></div><div class="ttdoc">This class represents the LLVM 'select' instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01746">Instructions.h:1746</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ae8eaa0b4eeac52a2b2282cb1bfd981ae"><div class="ttname"><a href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const</div><div class="ttdoc">Return true if this is 'void'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwitchInst_html_a5c78d56b1d126d91799cf8177da657b4"><div class="ttname"><a href="classllvm_1_1SwitchInst.html#a5c78d56b1d126d91799cf8177da657b4">llvm::SwitchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03487">Instructions.h:3487</a></div></div>
<div class="ttc" id="anamespacellvm_1_1WinEH_html_a1c8d8103d6b914c2ade85873cb97f6d9a7a86131338bf955e0a56311f264aa6aa"><div class="ttname"><a href="namespacellvm_1_1WinEH.html#a1c8d8103d6b914c2ade85873cb97f6d9a7a86131338bf955e0a56311f264aa6aa">llvm::WinEH::EncodingType::CE</a></div><div class="ttdeci">@ CE</div><div class="ttdoc">Windows NT (Windows on ARM)</div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html_adf411edc4f135b570ab218079474ce77"><div class="ttname"><a href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">llvm::ArrayType::get</a></div><div class="ttdeci">static ArrayType * get(Type *ElementType, uint64_t NumElements)</div><div class="ttdoc">This static method is the primary way to construct an ArrayType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00640">Type.cpp:640</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a69644a7eea491dc2e57182f69d045126"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a69644a7eea491dc2e57182f69d045126">ClDebugNonzeroLabels</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClDebugNonzeroLabels(&quot;dfsan-debug-nonzero-labels&quot;, cl::desc(&quot;Insert calls to __dfsan_nonzero_label on observing a parameter, &quot; &quot;load or return with a nonzero label&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aVPlanSLP_8cpp_html_af04704e906a9654777e92a4612c58c13"><div class="ttname"><a href="VPlanSLP_8cpp.html#af04704e906a9654777e92a4612c58c13">getOpcode</a></div><div class="ttdeci">static std::optional&lt; unsigned &gt; getOpcode(ArrayRef&lt; VPValue * &gt; Values)</div><div class="ttdoc">Returns the opcode of Values or ~0 if they do not all agree.</div><div class="ttdef"><b>Definition:</b> <a href="VPlanSLP_8cpp_source.html#l00191">VPlanSLP.cpp:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ac0f11b96f81b2769dd23d028e3189075"><div class="ttname"><a href="classllvm_1_1CallBase.html#ac0f11b96f81b2769dd23d028e3189075">llvm::CallBase::arg_end</a></div><div class="ttdeci">User::op_iterator arg_end()</div><div class="ttdoc">Return the iterator pointing to the end of the argument list.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01332">InstrTypes.h:1332</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aTriple_8h_html"><div class="ttname"><a href="Triple_8h.html">Triple.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_aa0641ae965656ff9988d67a35140e4d9"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#aa0641ae965656ff9988d67a35140e4d9">llvm::DominatorTreeBase::recalculate</a></div><div class="ttdeci">void recalculate(ParentType &amp;Func)</div><div class="ttdoc">recalculate - compute a dominator tree for the given function</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00795">GenericDomTree.h:795</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSet_html"><div class="ttname"><a href="classllvm_1_1StringSet.html">llvm::StringSet</a></div><div class="ttdoc">StringSet - A wrapper for StringMap that provides set-like functionality.</div><div class="ttdef"><b>Definition:</b> <a href="StringSet_8h_source.html#l00023">StringSet.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00187">InstrTypes.h:187</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdoc">Class to represent struct types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00213">DerivedTypes.h:213</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a9fba3ba3792fba1de1c0143064224336"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a9fba3ba3792fba1de1c0143064224336">ClPreserveAlignment</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClPreserveAlignment(&quot;dfsan-preserve-alignment&quot;, cl::desc(&quot;respect alignment requirements provided by input IR&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aInstVisitor_8h_html"><div class="ttname"><a href="InstVisitor_8h.html">InstVisitor.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">llvm::logicalview::LVAttributeKind::Zero</a></div><div class="ttdeci">@ Zero</div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca696bb1c9b0b0e76bb70c61f68866452a"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca696bb1c9b0b0e76bb70c61f68866452a">llvm::GlobalValue::WeakODRLinkage</a></div><div class="ttdeci">@ WeakODRLinkage</div><div class="ttdoc">Same, but only replaced by something equivalent.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00053">GlobalValue.h:53</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_ab99441651669debbd9522db67c8228d7"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#ab99441651669debbd9522db67c8228d7">ClCombinePointerLabelsOnLoad</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClCombinePointerLabelsOnLoad(&quot;dfsan-combine-pointer-labels-on-load&quot;, cl::desc(&quot;Combine the label of the pointer with the label of the data when &quot; &quot;loading from memory.&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a015846b6188ce15e08cd94c74a9df1a3"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a></div><div class="ttdeci">* A</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00089">README_ALTIVEC.txt:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ace940beeee97c222f836fe0ac70f6cf5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">llvm::BasicBlock::Create</a></div><div class="ttdeci">static BasicBlock * Create(LLVMContext &amp;Context, const Twine &amp;Name=&quot;&quot;, Function *Parent=nullptr, BasicBlock *InsertBefore=nullptr)</div><div class="ttdoc">Creates a new BasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00105">BasicBlock.h:105</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_ad30c696cca6f4b772507385a14bbfdfe"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#ad30c696cca6f4b772507385a14bbfdfe">ArgTLSSize</a></div><div class="ttdeci">static const unsigned ArgTLSSize</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l00129">DataFlowSanitizer.cpp:129</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstVisitor_html"><div class="ttname"><a href="classllvm_1_1InstVisitor.html">llvm::InstVisitor</a></div><div class="ttdoc">Base class for instruction visitors.</div><div class="ttdef"><b>Definition:</b> <a href="InstVisitor_8h_source.html#l00078">InstVisitor.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html"><div class="ttname"><a href="classllvm_1_1CastInst.html">llvm::CastInst</a></div><div class="ttdoc">This is the base class for all instructions that perform data casts.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00428">InstrTypes.h:428</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_ad3c897ba734b78e973db4622dff7bdcb"><div class="ttname"><a href="classllvm_1_1CallInst.html#ad3c897ba734b78e973db4622dff7bdcb">llvm::CallInst::isMustTailCall</a></div><div class="ttdeci">bool isMustTailCall() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01682">Instructions.h:1682</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_a93603fe0d4168b92a901f06015ecb2e7"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a93603fe0d4168b92a901f06015ecb2e7">llvm::LoadInst::getOrdering</a></div><div class="ttdeci">AtomicOrdering getOrdering() const</div><div class="ttdoc">Returns the ordering constraint of this load instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00229">Instructions.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aVirtualFileSystem_8h_html"><div class="ttname"><a href="VirtualFileSystem_8h.html">VirtualFileSystem.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_abc10b887caad109288ffceb230493a85"><div class="ttname"><a href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">llvm::CallBase::setArgOperand</a></div><div class="ttdeci">void setArgOperand(unsigned i, Value *v)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01356">InstrTypes.h:1356</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a519198bac66aaa7c7dcee3dece00eac9"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a519198bac66aaa7c7dcee3dece00eac9">llvm::IRBuilderBase::CreateConstGEP1_32</a></div><div class="ttdeci">Value * CreateConstGEP1_32(Type *Ty, Value *Ptr, unsigned Idx0, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01796">IRBuilder.h:1796</a></div></div>
<div class="ttc" id="aclassllvm_1_1AtomicRMWInst_html"><div class="ttname"><a href="classllvm_1_1AtomicRMWInst.html">llvm::AtomicRMWInst</a></div><div class="ttdoc">an instruction that atomically reads a memory location, combines it with another value,...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00718">Instructions.h:718</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a966eb231e7d4e572874d2cb49b18faea"><div class="ttname"><a href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">const Value * stripPointerCasts() const</div><div class="ttdoc">Strip off pointer casts, all-zero GEPs and address space casts.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00685">Value.cpp:685</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a08230b6650e11747ef33144f1e463064"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a08230b6650e11747ef33144f1e463064">llvm::IRBuilderBase::CreateTrunc</a></div><div class="ttdeci">Value * CreateTrunc(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01912">IRBuilder.h:1912</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionCallee_html_a0055cd5464b935f571b36979a86bd7fc"><div class="ttname"><a href="classllvm_1_1FunctionCallee.html#a0055cd5464b935f571b36979a86bd7fc">llvm::FunctionCallee::getCallee</a></div><div class="ttdeci">Value * getCallee()</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00184">DerivedTypes.h:184</a></div></div>
<div class="ttc" id="aArgument_8h_html"><div class="ttname"><a href="Argument_8h.html">Argument.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ab706e7ebb1969c5e34f28bfcf2ff719e"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ab706e7ebb1969c5e34f28bfcf2ff719e">llvm::BasicBlock::front</a></div><div class="ttdeci">const Instruction &amp; front() const</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00326">BasicBlock.h:326</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a41cc1665f91164935c2373e033440acc"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a41cc1665f91164935c2373e033440acc">ClIgnorePersonalityRoutine</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClIgnorePersonalityRoutine(&quot;dfsan-ignore-personality-routine&quot;, cl::desc(&quot;If a personality routine is marked uninstrumented from the ABI &quot; &quot;list, do not create a wrapper for it.&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="anamespacellvm_html_add49d9f7abebe402adf1a57c762abeef"><div class="ttname"><a href="namespacellvm.html#add49d9f7abebe402adf1a57c762abeef">llvm::depth_first</a></div><div class="ttdeci">iterator_range&lt; df_iterator&lt; T &gt; &gt; depth_first(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00229">DepthFirstIterator.h:229</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a5d090682633d3a23499d4477d103fff3"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a5d090682633d3a23499d4477d103fff3">ClTrackSelectControlFlow</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClTrackSelectControlFlow(&quot;dfsan-track-select-control-flow&quot;, cl::desc(&quot;Propagate labels from condition values of select instructions &quot; &quot;to results.&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aStringSet_8h_html"><div class="ttname"><a href="StringSet_8h.html">StringSet.h</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a5b7bd5454a3884ed4ca707e9a238774e"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a5b7bd5454a3884ed4ca707e9a238774e">ClTrackOrigins</a></div><div class="ttdeci">static cl::opt&lt; int &gt; ClTrackOrigins(&quot;dfsan-track-origins&quot;, cl::desc(&quot;Track origins of labels&quot;), cl::Hidden, cl::init(0))</div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">llvm::NVPTX::PTXLdStInstCode::V2</a></div><div class="ttdeci">@ V2</div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00124">NVPTX.h:124</a></div></div>
<div class="ttc" id="anamespacellvm_html_adf83581f514774264d616eef5706cf6e"><div class="ttname"><a href="namespacellvm.html#adf83581f514774264d616eef5706cf6e">llvm::SplitEdge</a></div><div class="ttdeci">BasicBlock * SplitEdge(BasicBlock *From, BasicBlock *To, DominatorTree *DT=nullptr, LoopInfo *LI=nullptr, MemorySSAUpdater *MSSAU=nullptr, const Twine &amp;BBName=&quot;&quot;)</div><div class="ttdoc">Split the edge connecting the specified blocks, and return the newly created basic block between From...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00615">BasicBlockUtils.cpp:615</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="aAlignment_8h_html"><div class="ttname"><a href="Alignment_8h.html">Alignment.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html">llvm::ConstantExpr</a></div><div class="ttdoc">A constant value that is initialized with an expression using other constant values.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00998">Constants.h:998</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_aa91241c8c54738377749dc47ee489e0d"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">get</a></div><div class="ttdeci">Should compile to something r4 addze r3 instead we get</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2PowerPC_2README_8txt_source.html#l00024">README.txt:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df">llvm::ISD::BR</a></div><div class="ttdeci">@ BR</div><div class="ttdoc">Control flow instructions. These all have token chains.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00981">ISDOpcodes.h:981</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86_html_a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e"><div class="ttname"><a href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">llvm::X86::FirstMacroFusionInstKind::Cmp</a></div><div class="ttdeci">@ Cmp</div></div>
<div class="ttc" id="astructllvm_1_1Align_html_a80735739b49cf97a491922c8f9af2cc1"><div class="ttname"><a href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">llvm::Align::value</a></div><div class="ttdeci">uint64_t value() const</div><div class="ttdoc">This is a hole in the type system and should not be abused.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00085">Alignment.h:85</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_ae444dc007eb469ddb172d5780f447f07"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#ae444dc007eb469ddb172d5780f447f07">isAMustTailRetVal</a></div><div class="ttdeci">static bool isAMustTailRetVal(Value *RetVal)</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l02961">DataFlowSanitizer.cpp:2961</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_adde2ea00dd2613ee41bfe91908e4e68e"><div class="ttname"><a href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">llvm::CallBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01349">InstrTypes.h:1349</a></div></div>
<div class="ttc" id="aGlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ExtractValueInst_html"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html">llvm::ExtractValueInst</a></div><div class="ttdoc">This instruction extracts a struct member or array element value from an aggregate value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02455">Instructions.h:2455</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_ad736fb9b585509388546c12617def38f"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">llvm::ConstantInt::getSigned</a></div><div class="ttdeci">static ConstantInt * getSigned(IntegerType *Ty, int64_t V)</div><div class="ttdoc">Return a ConstantInt with the specified value for the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00901">Constants.cpp:901</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a759b4bcc28d4cadef20a7b40af3cebce"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a759b4bcc28d4cadef20a7b40af3cebce">ShadowTLSAlignment</a></div><div class="ttdeci">static const Align ShadowTLSAlignment</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l00123">DataFlowSanitizer.cpp:123</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_adc01a7457de85fc52a3bb860d7e1c6a4"><div class="ttname"><a href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">llvm::Type::getPointerTo</a></div><div class="ttdeci">PointerType * getPointerTo(unsigned AddrSpace=0) const</div><div class="ttdoc">Return a pointer to the current type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00776">Type.cpp:776</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReturnInst_html_a8c4c3b7c7daea37c75c50563654bf934"><div class="ttname"><a href="classllvm_1_1ReturnInst.html#a8c4c3b7c7daea37c75c50563654bf934">llvm::ReturnInst::Create</a></div><div class="ttdeci">static ReturnInst * Create(LLVMContext &amp;C, Value *retVal=nullptr, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03084">Instructions.h:3084</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a7b3e5b33beb7828efdd751c208bfbee9"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a7b3e5b33beb7828efdd751c208bfbee9">llvm::AttributeList::getNumAttrSets</a></div><div class="ttdeci">unsigned getNumAttrSets() const</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01606">Attributes.cpp:1606</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AttributeFuncs_html_ae48bd752d74f193a0651b89931b28025"><div class="ttname"><a href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">llvm::AttributeFuncs::typeIncompatible</a></div><div class="ttdeci">AttributeMask typeIncompatible(Type *Ty, AttributeSafetyKind ASK=ASK_ALL)</div><div class="ttdoc">Which attributes cannot be applied to a type.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01889">Attributes.cpp:1889</a></div></div>
<div class="ttc" id="aSpecialCaseList_8h_html"><div class="ttname"><a href="SpecialCaseList_8h.html">SpecialCaseList.h</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_a0afe4617fad145d6ced5a18fd739cf06"><div class="ttname"><a href="README__P9_8txt.html#a0afe4617fad145d6ced5a18fd739cf06">Unordered</a></div><div class="ttdeci">QP Compare Ordered Unordered</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00299">README_P9.txt:299</a></div></div>
<div class="ttc" id="aExpandLargeDivRem_8cpp_html_ae64f9cd0977a8b47570154312540d7d2"><div class="ttname"><a href="ExpandLargeDivRem_8cpp.html#ae64f9cd0977a8b47570154312540d7d2">runImpl</a></div><div class="ttdeci">static bool runImpl(Function &amp;F, const TargetLowering &amp;TLI)</div><div class="ttdef"><b>Definition:</b> <a href="ExpandLargeDivRem_8cpp_source.html#l00056">ExpandLargeDivRem.cpp:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a7ac9329ef7292ee640d87f45ce7ae05c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">llvm::CallBase::getCalledOperand</a></div><div class="ttdeci">Value * getCalledOperand() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01399">InstrTypes.h:1399</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a8bf193a781a92cae52d7f9216d0824f8"><div class="ttname"><a href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">llvm::Function::arg_begin</a></div><div class="ttdeci">arg_iterator arg_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00766">Function.h:766</a></div></div>
<div class="ttc" id="aGlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6467ebe1e09a75203dd5f14bdfe21d11"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">llvm::AMDGPU::Hwreg::Width</a></div><div class="ttdeci">Width</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00449">SIDefines.h:449</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a0d10b74b1e24775d8e69e424b6c9dd49"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a0d10b74b1e24775d8e69e424b6c9dd49">ClCombineTaintLookupTables</a></div><div class="ttdeci">static cl::list&lt; std::string &gt; ClCombineTaintLookupTables(&quot;dfsan-combine-taint-lookup-table&quot;, cl::desc(&quot;When dfsan-combine-offset-labels-on-gep and/or &quot; &quot;dfsan-combine-pointer-labels-on-load are false, this flag can &quot; &quot;be used to re-enable combining offset and/or pointer taint when &quot; &quot;loading specific constant global variables (i.e. lookup tables).&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html"><div class="ttname"><a href="classllvm_1_1MDBuilder.html">llvm::MDBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8h_source.html#l00036">MDBuilder.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html_a427c256af834975c7869ad28fac00563"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#a427c256af834975c7869ad28fac00563">llvm::DebugLoc::getLine</a></div><div class="ttdeci">unsigned getLine() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8cpp_source.html#l00024">DebugLoc.cpp:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00224">Type.cpp:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1ShuffleVectorInst_html"><div class="ttname"><a href="classllvm_1_1ShuffleVectorInst.html">llvm::ShuffleVectorInst</a></div><div class="ttdoc">This instruction constructs a fixed permutation of two input vectors.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02017">Instructions.h:2017</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_aeb4ce089858cf608852548f178254c90"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#aeb4ce089858cf608852548f178254c90">ClCombineOffsetLabelsOnGEP</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClCombineOffsetLabelsOnGEP(&quot;dfsan-combine-offset-labels-on-gep&quot;, cl::desc(&quot;Combine the label of the offset with the label of the pointer when &quot; &quot;doing pointer arithmetic.&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1User_html_addec638786f763d967811b45cb662f1f"><div class="ttname"><a href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00191">User.h:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html_a311a097af4f0f77da22ac7acddc496f5"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html#a311a097af4f0f77da22ac7acddc496f5">llvm::GlobalAlias::getAliaseeObject</a></div><div class="ttdeci">const GlobalObject * getAliaseeObject() const</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00562">Globals.cpp:562</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4f3bf98b5054831b608852e33427814"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">llvm::Instruction::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Return the debug location for this node as a DebugLoc.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00358">Instruction.h:358</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_affce0ded6e3bb84401db39444b68d8aa"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#affce0ded6e3bb84401db39444b68d8aa">StripPointerGEPsAndCasts</a></div><div class="ttdeci">Value * StripPointerGEPsAndCasts(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l02354">DataFlowSanitizer.cpp:2354</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a31c5c58143c6e9da9c544a7afcba2710"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">llvm::IRBuilderBase::CreateCall</a></div><div class="ttdeci">CallInst * CreateCall(FunctionType *FTy, Value *Callee, ArrayRef&lt; Value * &gt; Args=std::nullopt, const Twine &amp;Name=&quot;&quot;, MDNode *FPMathTag=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02293">IRBuilder.h:2293</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae7f65cf79c9900a2b0504fbc25db1428"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae7f65cf79c9900a2b0504fbc25db1428">llvm::IRBuilderBase::CreateLShr</a></div><div class="ttdeci">Value * CreateLShr(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool isExact=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01352">IRBuilder.h:1352</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ab2caa29167597390ab2fc3cf30d70389"><div class="ttname"><a href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">llvm::CallBase::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01351">InstrTypes.h:1351</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae69ee83570f05c1d5fb5026c11145d6b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae69ee83570f05c1d5fb5026c11145d6b">llvm::IRBuilderBase::CreateShl</a></div><div class="ttdeci">Value * CreateShl(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01331">IRBuilder.h:1331</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a8baad1df39d45576fe7a642b49f0e6dc"><div class="ttname"><a href="classllvm_1_1Function.html#a8baad1df39d45576fe7a642b49f0e6dc">llvm::Function::removeFnAttr</a></div><div class="ttdeci">void removeFnAttr(Attribute::AttrKind Kind)</div><div class="ttdoc">Remove function attributes from this function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00598">Function.cpp:598</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionCallee_html"><div class="ttname"><a href="classllvm_1_1FunctionCallee.html">llvm::FunctionCallee</a></div><div class="ttdoc">A handy container for a FunctionType+Callee-pointer pair, which can be passed around as a single enti...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00165">DerivedTypes.h:165</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a92041fc7f781ba4fe708eec99139b72f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a92041fc7f781ba4fe708eec99139b72f">llvm::GlobalValue::getType</a></div><div class="ttdeci">PointerType * getType() const</div><div class="ttdoc">Global values are always pointers.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00290">GlobalValue.h:290</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a6d883605206368bc536cc9ded97209b8"><div class="ttname"><a href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">llvm::Module::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdoc">Get the data layout for the module's target platform.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00398">Module.cpp:398</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aX86Disassembler_8cpp_html_a5f02c7d98f9ea50a2abb5c2741c54f23"><div class="ttname"><a href="X86Disassembler_8cpp.html#a5f02c7d98f9ea50a2abb5c2741c54f23">consume</a></div><div class="ttdeci">static bool consume(InternalInstruction *insn, T &amp;ptr)</div><div class="ttdef"><b>Definition:</b> <a href="X86Disassembler_8cpp_source.html#l00192">X86Disassembler.cpp:192</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a5994f2e29f570cc5bfa97c8872b6615d"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a5994f2e29f570cc5bfa97c8872b6615d">llvm::IRBuilderBase::CreateConstGEP2_64</a></div><div class="ttdeci">Value * CreateConstGEP2_64(Type *Ty, Value *Ptr, uint64_t Idx0, uint64_t Idx1, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01862">IRBuilder.h:1862</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HexStyle_html_a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9"><div class="ttname"><a href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">llvm::HexStyle::Asm</a></div><div class="ttdeci">@ Asm</div><div class="ttdoc">0ffh</div><div class="ttdef"><b>Definition:</b> <a href="MCInstPrinter_8h_source.html#l00035">MCInstPrinter.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a29e0b1c558b350347e2652b35b26fea8"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a29e0b1c558b350347e2652b35b26fea8">llvm::GlobalValue::getValueType</a></div><div class="ttdeci">Type * getValueType() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00292">GlobalValue.h:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1InnerAnalysisManagerProxy_html"><div class="ttname"><a href="classllvm_1_1InnerAnalysisManagerProxy.html">llvm::InnerAnalysisManagerProxy</a></div><div class="ttdoc">An analysis over an &quot;outer&quot; IR unit that provides access to an analysis manager over an &quot;inner&quot; IR un...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00931">PassManager.h:931</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html_a14f7b4f1aed38192fb6b7772eb506bdb"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">llvm::IntegerType::get</a></div><div class="ttdeci">static IntegerType * get(LLVMContext &amp;C, unsigned NumBits)</div><div class="ttdoc">This static method is the primary way of constructing an IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00313">Type.cpp:313</a></div></div>
<div class="ttc" id="aMachinePipeliner_8cpp_html_a1c6ca3bca5d47b669bf974f527f05c8c"><div class="ttname"><a href="MachinePipeliner_8cpp.html#a1c6ca3bca5d47b669bf974f527f05c8c">getUnderlyingObjects</a></div><div class="ttdeci">static void getUnderlyingObjects(const MachineInstr *MI, SmallVectorImpl&lt; const Value * &gt; &amp;Objs)</div><div class="ttdoc">Return the underlying objects for the memory references of an instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8cpp_source.html#l00739">MachinePipeliner.cpp:739</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1UnreachableInst_html"><div class="ttname"><a href="classllvm_1_1UnreachableInst.html">llvm::UnreachableInst</a></div><div class="ttdoc">This function has undefined behavior.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04773">Instructions.h:4773</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a10939072861a38a7a84ab097703cb034"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a10939072861a38a7a84ab097703cb034">llvm::IRBuilderBase::CreateICmpNE</a></div><div class="ttdeci">Value * CreateICmpNE(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02126">IRBuilder.h:2126</a></div></div>
<div class="ttc" id="aInlineOrder_8cpp_html_a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719"><div class="ttname"><a href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">InlinePriorityMode::Size</a></div><div class="ttdeci">@ Size</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html_a09b07d472515f1d307c0e8229f6856fb"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html#a09b07d472515f1d307c0e8229f6856fb">llvm::GlobalAlias::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">eraseFromParent - This method unlinks 'this' from the containing module and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00552">Globals.cpp:552</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwitchInst_html"><div class="ttname"><a href="classllvm_1_1SwitchInst.html">llvm::SwitchInst</a></div><div class="ttdoc">Multiway switch.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03283">Instructions.h:3283</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ae855357b6c5e6e7ed1869272708a3a84"><div class="ttname"><a href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">llvm::Value::takeName</a></div><div class="ttdeci">void takeName(Value *V)</div><div class="ttdoc">Transfer the name from V to this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00381">Value.cpp:381</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae2aea60aed775d05692317bf4855c291"><div class="ttname"><a href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">llvm::SplitBlockAndInsertIfThen</a></div><div class="ttdeci">Instruction * SplitBlockAndInsertIfThen(Value *Cond, Instruction *SplitBefore, bool Unreachable, MDNode *BranchWeights, DominatorTree *DT, LoopInfo *LI=nullptr, BasicBlock *ThenBlock=nullptr)</div><div class="ttdoc">Split the containing block at the specified instruction - everything before SplitBefore stays in the ...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l01542">BasicBlockUtils.cpp:1542</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdoc">an instruction to allocate memory on the stack</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a76adb4549f349676de0a703a497ca5a5"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a76adb4549f349676de0a703a497ca5a5">Mod</a></div><div class="ttdeci">Module * Mod</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00054">PassBuilderBindings.cpp:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeMask_html_a24c5ca4a1cb56d8279b5ac37dbb8e969"><div class="ttname"><a href="classllvm_1_1AttributeMask.html#a24c5ca4a1cb56d8279b5ac37dbb8e969">llvm::AttributeMask::addAttribute</a></div><div class="ttdeci">AttributeMask &amp; addAttribute(Attribute::AttrKind Val)</div><div class="ttdoc">Add an attribute to the mask.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00994">Attributes.h:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdoc">Conditional or Unconditional Branch instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03139">Instructions.h:3139</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a05c6b3b9372b56d130e005db4837da62a92e26a4a1218d351f5a91e7385a3a320"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a05c6b3b9372b56d130e005db4837da62a92e26a4a1218d351f5a91e7385a3a320">llvm::GlobalValue::InitialExecTLSModel</a></div><div class="ttdeci">@ InitialExecTLSModel</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00195">GlobalValue.h:195</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_af74676a3c7447be34bd2c1da76ec0c48"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">llvm::SmallPtrSetImpl::contains</a></div><div class="ttdeci">bool contains(ConstPtrType Ptr) const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00389">SmallPtrSet.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAggregateZero_html_abfa1cf8b4348407b167f93bc7c01055f"><div class="ttname"><a href="classllvm_1_1ConstantAggregateZero.html#abfa1cf8b4348407b167f93bc7c01055f">llvm::ConstantAggregateZero::get</a></div><div class="ttdeci">static ConstantAggregateZero * get(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01595">Constants.cpp:1595</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_ada7a173c40ca7ac048a4b7099ceb71c0"><div class="ttname"><a href="classllvm_1_1AttributeList.html#ada7a173c40ca7ac048a4b7099ceb71c0">llvm::AttributeList::getParamAttrs</a></div><div class="ttdeci">AttributeSet getParamAttrs(unsigned ArgNo) const</div><div class="ttdoc">The attributes for the argument or parameter at the given index are returned.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01454">Attributes.cpp:1454</a></div></div>
<div class="ttc" id="aclassllvm_1_1InsertValueInst_html"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html">llvm::InsertValueInst</a></div><div class="ttdoc">This instruction inserts a struct field of array element value into an aggregate value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02566">Instructions.h:2566</a></div></div>
<div class="ttc" id="aBasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">llvm::GlobalValue::LinkOnceODRLinkage</a></div><div class="ttdeci">@ LinkOnceODRLinkage</div><div class="ttdoc">Same, but only replaced by something equivalent.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00051">GlobalValue.h:51</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">llvm::pdb::PDB_SymType::Block</a></div><div class="ttdeci">@ Block</div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html_ad200825f26189cd43f3b80728649c4a9"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#ad200825f26189cd43f3b80728649c4a9">llvm::GetElementPtrInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01063">Instructions.h:1063</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_ac453ad79a3d50950bac79bc9dff85918"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00124">DerivedTypes.h:124</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_ab977d84c8a73cb6f4fb7c0b4270eda52"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#ab977d84c8a73cb6f4fb7c0b4270eda52">expandFromPrimitiveShadowRecursive</a></div><div class="ttdeci">static Value * expandFromPrimitiveShadowRecursive(Value *Shadow, SmallVector&lt; unsigned, 4 &gt; &amp;Indices, Type *SubShadowTy, Value *PrimitiveShadow, IRBuilder&lt;&gt; &amp;IRB)</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l00936">DataFlowSanitizer.cpp:936</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1AtomicCmpXchgInst_html"><div class="ttname"><a href="classllvm_1_1AtomicCmpXchgInst.html">llvm::AtomicCmpXchgInst</a></div><div class="ttdoc">An instruction that atomically checks whether a specified value is in a memory location,...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00513">Instructions.h:513</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a25e8e3490a28e9178b302b76ae643443"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a25e8e3490a28e9178b302b76ae643443">llvm::GlobalValue::isExternalWeakLinkage</a></div><div class="ttdeci">static bool isExternalWeakLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00407">GlobalValue.h:407</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryAnalysis_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryAnalysis.html">llvm::TargetLibraryAnalysis</a></div><div class="ttdoc">Analysis pass providing the TargetLibraryInfo.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00540">TargetLibraryInfo.h:540</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">llvm::Triple::aarch64</a></div><div class="ttdeci">@ aarch64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00051">Triple.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ac63dbb4994494c46f025715272cdb81e"><div class="ttname"><a href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">llvm::CallBase::args</a></div><div class="ttdeci">iterator_range&lt; User::op_iterator &gt; args()</div><div class="ttdoc">Iteration adapter for range-for loops.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01342">InstrTypes.h:1342</a></div></div>
<div class="ttc" id="aDataFlowSanitizer_8cpp_html_a8212d89e2d2123229f71bef6ea3db783"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a8212d89e2d2123229f71bef6ea3db783">ClCombinePointerLabelsOnStore</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClCombinePointerLabelsOnStore(&quot;dfsan-combine-pointer-labels-on-store&quot;, cl::desc(&quot;Combine the label of the pointer with the label of the data when &quot; &quot;storing in memory.&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a0851b4de29686e9c3918449b054cfada"><div class="ttname"><a href="classllvm_1_1CallBase.html#a0851b4de29686e9c3918449b054cfada">llvm::CallBase::setCallingConv</a></div><div class="ttdeci">void setCallingConv(CallingConv::ID CC)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01469">InstrTypes.h:1469</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdoc">Class to represent function types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00103">DerivedTypes.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1list_html"><div class="ttname"><a href="classllvm_1_1cl_1_1list.html">llvm::cl::list</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01646">CommandLine.h:1646</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:24:40 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
