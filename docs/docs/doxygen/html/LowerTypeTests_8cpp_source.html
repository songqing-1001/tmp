<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/IPO/LowerTypeTests.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_13abb262e9c52ddea8d07639819afd6c.html">IPO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">LowerTypeTests.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="LowerTypeTests_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- LowerTypeTests.cpp - type metadata lowering pass -------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This pass lowers type metadata and calls to the llvm.type.test intrinsic.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// It also ensures that globals are properly laid out for the</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// llvm.icall.branch.funnel intrinsic.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// See http://llvm.org/docs/TypeMetadata.html for more information.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LowerTypeTests_8h.html">llvm/Transforms/IPO/LowerTypeTests.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APInt_8h.html">llvm/ADT/APInt.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EquivalenceClasses_8h.html">llvm/ADT/EquivalenceClasses.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PointerUnion_8h.html">llvm/ADT/PointerUnion.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TinyPtrVector_8h.html">llvm/ADT/TinyPtrVector.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TypeMetadataUtils_8h.html">llvm/Analysis/TypeMetadataUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalObject_8h.html">llvm/IR/GlobalObject.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalValue_8h.html">llvm/IR/GlobalValue.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineAsm_8h.html">llvm/IR/InlineAsm.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleSummaryIndex_8h.html">llvm/IR/ModuleSummaryIndex.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleSummaryIndexYAML_8h.html">llvm/IR/ModuleSummaryIndexYAML.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Use_8h.html">llvm/IR/Use.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Allocator_8h.html">llvm/Support/Allocator.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2Error_8h.html">llvm/Support/Error.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FileSystem_8h.html">llvm/Support/FileSystem.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuffer_8h.html">llvm/Support/MemoryBuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TrailingObjects_8h.html">llvm/Support/TrailingObjects.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="YAMLTraits_8h.html">llvm/Support/YAMLTraits.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Triple_8h.html">llvm/TargetParser/Triple.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2IPO_8h.html">llvm/Transforms/IPO.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleUtils_8h.html">llvm/Transforms/Utils/ModuleUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &lt;system_error&gt;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">using namespace </span>lowertypetests;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   88</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;lowertypetests&quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(ByteArraySizeBits, <span class="stringliteral">&quot;Byte array size in bits&quot;</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(ByteArraySizeBytes, <span class="stringliteral">&quot;Byte array size in bytes&quot;</span>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumByteArraysCreated, <span class="stringliteral">&quot;Number of byte arrays created&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumTypeTestCallsLowered, <span class="stringliteral">&quot;Number of type test calls lowered&quot;</span>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumTypeIdDisjointSets, <span class="stringliteral">&quot;Number of disjoint sets of type identifiers&quot;</span>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="LowerTypeTests_8cpp.html#a7c76013588a6a90e552030310757d8b2">AvoidReuse</a>(</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="stringliteral">&quot;lowertypetests-avoid-reuse&quot;</span>,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Try to avoid reuse of byte array addresses using aliases&quot;</span>),</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;PassSummaryAction&gt;</a> <a class="code" href="LowerTypeTests_8cpp.html#a8a3cff2affdcf97cdb1111c7f03aa2c7">ClSummaryAction</a>(</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="stringliteral">&quot;lowertypetests-summary-action&quot;</span>,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;What to do with the summary when running this pass&quot;</span>),</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">cl::values</a>(<a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea6adf97f83acf6453d4a6a4b1070f3754">PassSummaryAction::None</a>, <span class="stringliteral">&quot;none&quot;</span>, <span class="stringliteral">&quot;Do nothing&quot;</span>),</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;               <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea72d6d7a1885885bb55a565fd1070581a">PassSummaryAction::Import</a>, <span class="stringliteral">&quot;import&quot;</span>,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                          <span class="stringliteral">&quot;Import typeid resolutions from summary and globals&quot;</span>),</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;               <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea0095a9fa74d1713e43e370a7d7846224">PassSummaryAction::Export</a>, <span class="stringliteral">&quot;export&quot;</span>,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                          <span class="stringliteral">&quot;Export typeid resolutions to summary and globals&quot;</span>)),</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a> <a class="code" href="LowerTypeTests_8cpp.html#a241ee8946388bbae296f61bfe884f5e5">ClReadSummary</a>(</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="stringliteral">&quot;lowertypetests-read-summary&quot;</span>,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Read summary from given YAML file before running pass&quot;</span>),</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a> <a class="code" href="LowerTypeTests_8cpp.html#a313a37b081417cd4f6d4462d431a9a3c">ClWriteSummary</a>(</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="stringliteral">&quot;lowertypetests-write-summary&quot;</span>,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Write summary to given YAML file after running pass&quot;</span>),</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="LowerTypeTests_8cpp.html#afc04614275d7675c9f2ec7d52949616f">ClDropTypeTests</a>(<span class="stringliteral">&quot;lowertypetests-drop-type-tests&quot;</span>,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Simply drop type test assume sequences&quot;</span>),</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a0986e6682520b5119e7aeea9e9bf908f">  126</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a0986e6682520b5119e7aeea9e9bf908f">BitSetInfo::containsGlobalOffset</a>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Offset)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (Offset &lt; <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a8f37c08c8a876745f75707df1462d463">ByteOffset</a>)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span> ((Offset - <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a8f37c08c8a876745f75707df1462d463">ByteOffset</a>) % (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(1) &lt;&lt; <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a6ecb18819ffce351312accf16feea3b6">AlignLog2</a>) != 0)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BitOffset = (Offset - <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a8f37c08c8a876745f75707df1462d463">ByteOffset</a>) &gt;&gt; <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a6ecb18819ffce351312accf16feea3b6">AlignLog2</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">if</span> (BitOffset &gt;= <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#aa7c30a369762ee2247cebe8c310e52ef">BitSize</a>)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a9056d542f9c590c71d90c5b5d4c1ef06">Bits</a>.count(BitOffset);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a2ea6be22983452a3ada83dd719caf787">  140</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a2ea6be22983452a3ada83dd719caf787">BitSetInfo::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;offset &quot;</span> &lt;&lt; <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a8f37c08c8a876745f75707df1462d463">ByteOffset</a> &lt;&lt; <span class="stringliteral">&quot; size &quot;</span> &lt;&lt; <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#aa7c30a369762ee2247cebe8c310e52ef">BitSize</a> &lt;&lt; <span class="stringliteral">&quot; align &quot;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;     &lt;&lt; (1 &lt;&lt; <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a6ecb18819ffce351312accf16feea3b6">AlignLog2</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#ad415eb27cc01864ba9d7cf3673cd9096">isAllOnes</a>()) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; all-ones\n&quot;</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; { &quot;</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a9056d542f9c590c71d90c5b5d4c1ef06">Bits</a>)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#aa21d510ab0919fcc10fbbb02ead13dab">  155</a></span>&#160;<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html">BitSetInfo</a> <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#aa21d510ab0919fcc10fbbb02ead13dab">BitSetBuilder::build</a>() {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#a6f2b5f065ed39ff90702de1daf561925">Min</a> &gt; <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#a2797f502ab1870901acca55c03049bca">Max</a>)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#a6f2b5f065ed39ff90702de1daf561925">Min</a> = 0;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Normalize each offset against the minimum observed offset, and compute</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// the bitwise OR of each of the offsets. The number of trailing zeros</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// in the mask gives us the log2 of the alignment of all offsets, which</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// allows us to compress the bitset by only storing one bit per aligned</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// address.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = 0;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;Offset : <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#aa74e4e2e9b72748cd2b65915711b006c">Offsets</a>) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    Offset -= <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#a6f2b5f065ed39ff90702de1daf561925">Min</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> |= Offset;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html">BitSetInfo</a> BSI;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a8f37c08c8a876745f75707df1462d463">ByteOffset</a> = <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#a6f2b5f065ed39ff90702de1daf561925">Min</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a6ecb18819ffce351312accf16feea3b6">AlignLog2</a> = 0;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> != 0)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a6ecb18819ffce351312accf16feea3b6">AlignLog2</a> = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">// Build the compressed bitset while normalizing the offsets against the</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// computed alignment.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#aa7c30a369762ee2247cebe8c310e52ef">BitSize</a> = ((<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#a2797f502ab1870901acca55c03049bca">Max</a> - <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#a6f2b5f065ed39ff90702de1daf561925">Min</a>) &gt;&gt; BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a6ecb18819ffce351312accf16feea3b6">AlignLog2</a>) + 1;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Offset : <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#aa74e4e2e9b72748cd2b65915711b006c">Offsets</a>) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    Offset &gt;&gt;= BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a6ecb18819ffce351312accf16feea3b6">AlignLog2</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a9056d542f9c590c71d90c5b5d4c1ef06">Bits</a>.insert(Offset);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">return</span> BSI;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#abc53ed9289ca61898a56ea65b8a457db">  188</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#abc53ed9289ca61898a56ea65b8a457db">GlobalLayoutBuilder::addFragment</a>(<span class="keyword">const</span> std::set&lt;uint64_t&gt; &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// Create a new fragment to hold the layout for F.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#a5d2e54b342691d69ccfc9e799d404668">Fragments</a>.emplace_back();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  std::vector&lt;uint64_t&gt; &amp;Fragment = <a class="code" href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#a5d2e54b342691d69ccfc9e799d404668">Fragments</a>.back();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FragmentIndex = <a class="code" href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#a5d2e54b342691d69ccfc9e799d404668">Fragments</a>.size() - 1;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> ObjIndex : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> OldFragmentIndex = <a class="code" href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#ad3e6889c1625ade2687b7fee501f64be">FragmentMap</a>[ObjIndex];</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (OldFragmentIndex == 0) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="comment">// We haven&#39;t seen this object index before, so just add it to the current</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="comment">// fragment.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      Fragment.push_back(ObjIndex);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="comment">// This index belongs to an existing fragment. Copy the elements of the</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="comment">// old fragment into this one and clear the old fragment. We don&#39;t update</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="comment">// the fragment map just yet, this ensures that any further references to</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="comment">// indices from the old fragment in this fragment do not insert any more</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="comment">// indices.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      std::vector&lt;uint64_t&gt; &amp;OldFragment = <a class="code" href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#a5d2e54b342691d69ccfc9e799d404668">Fragments</a>[OldFragmentIndex];</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(Fragment, OldFragment);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      OldFragment.clear();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// Update the fragment map to point our object indices to this fragment.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ObjIndex : Fragment)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#ad3e6889c1625ade2687b7fee501f64be">FragmentMap</a>[ObjIndex] = FragmentIndex;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#aefcc42b423b9473d155867e579682a9e">  217</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#aefcc42b423b9473d155867e579682a9e">ByteArrayBuilder::allocate</a>(<span class="keyword">const</span> std::set&lt;uint64_t&gt; &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BitSize, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;AllocByteOffset,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                uint8_t &amp;AllocMask) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// Find the smallest current allocation.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a> = 0;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#aaf7542208c90aecd92031b4f00cd9949a961b1f972e23c16ecc4ddffe1ddfbdca">BitsPerByte</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] &lt; <a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>])</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  AllocByteOffset = <a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>];</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// Add our size to it.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordtype">unsigned</span> ReqSize = AllocByteOffset + BitSize;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>] = ReqSize;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#ab9bf25f047271def1203635a5725eeff">Bytes</a>.size() &lt; ReqSize)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#ab9bf25f047271def1203635a5725eeff">Bytes</a>.resize(ReqSize);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// Set our bits.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  AllocMask = 1 &lt;&lt; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#ab9bf25f047271def1203635a5725eeff">Bytes</a>[AllocByteOffset + <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>] |= AllocMask;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">  240</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">lowertypetests::isJumpTableCanonical</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclarationForLinker())</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keyword">auto</span> *CI = mdconst::extract_or_null&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent()-&gt;getModuleFlag(<span class="stringliteral">&quot;CFI Canonical Jump Tables&quot;</span>));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">if</span> (!CI || CI-&gt;getZExtValue() != 0)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasFnAttribute(<span class="stringliteral">&quot;cfi-canonical-jump-table&quot;</span>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keyword">struct </span>ByteArrayInfo {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  std::set&lt;uint64_t&gt; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BitSize;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *ByteArray;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *MaskGlobal;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  uint8_t *MaskPtr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;};</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">/// A POD-like structure that we use to store a global reference together with</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">/// its metadata types. In this pass we frequently need to query the set of</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">/// metadata types referenced by a global, which at the IR level is an expensive</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">/// operation involving a map lookup; this data structure helps to reduce the</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">/// number of times we need to do this lookup.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"></span><span class="keyword">class </span>GlobalTypeMember final : <a class="code" href="classllvm_1_1TrailingObjects.html">TrailingObjects</a>&lt;GlobalTypeMember, MDNode *&gt; {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keyword">friend</span> <a class="code" href="classllvm_1_1TrailingObjects.html">TrailingObjects</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> *GO;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordtype">size_t</span> NTypes;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// For functions: true if the jump table is canonical. This essentially means</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// whether the canonical address (i.e. the symbol table entry) of the function</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// is provided by the local jump table. This is normally the same as whether</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// the function is defined locally, but if canonical jump tables are disabled</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// by the user then the jump table never provides a canonical definition.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordtype">bool</span> IsJumpTableCanonical;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// For functions: true if this function is either defined or used in a thinlto</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// module and its jumptable entry needs to be exported to thinlto backends.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordtype">bool</span> IsExported;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordtype">size_t</span> numTrailingObjects(OverloadToken&lt;MDNode *&gt;)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> NTypes; }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keyword">static</span> GlobalTypeMember *create(<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html">BumpPtrAllocator</a> &amp;Alloc, <a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> *GO,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                  <span class="keywordtype">bool</span> IsJumpTableCanonical, <span class="keywordtype">bool</span> IsExported,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                                  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MDNode *&gt;</a> Types) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">auto</span> *GTM = <span class="keyword">static_cast&lt;</span>GlobalTypeMember *<span class="keyword">&gt;</span>(Alloc.<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html#af050e9702e6ff2b745dc4d2afd0963cf">Allocate</a>(</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        totalSizeToAlloc&lt;MDNode *&gt;(<a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>.size()), <span class="keyword">alignof</span>(GlobalTypeMember)));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    GTM-&gt;GO = GO;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    GTM-&gt;NTypes = <a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>.size();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    GTM-&gt;IsJumpTableCanonical = IsJumpTableCanonical;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    GTM-&gt;IsExported = IsExported;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    std::uninitialized_copy(<a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>.begin(), <a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>.end(),</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                            GTM-&gt;getTrailingObjects&lt;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *&gt;());</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> GTM;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> *getGlobal()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span> GO;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">isJumpTableCanonical</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> IsJumpTableCanonical;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordtype">bool</span> isExported()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span> IsExported;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MDNode *&gt;</a> types()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(getTrailingObjects&lt;MDNode *&gt;(), NTypes);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;};</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="keyword">struct </span>ICallBranchFunnel final</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    : <a class="code" href="classllvm_1_1TrailingObjects.html">TrailingObjects</a>&lt;ICallBranchFunnel, GlobalTypeMember *&gt; {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keyword">static</span> ICallBranchFunnel *create(<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html">BumpPtrAllocator</a> &amp;Alloc, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI,</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                   <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Targets,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                   <span class="keywordtype">unsigned</span> UniqueId) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a> = <span class="keyword">static_cast&lt;</span>ICallBranchFunnel *<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        Alloc.<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html#af050e9702e6ff2b745dc4d2afd0963cf">Allocate</a>(totalSizeToAlloc&lt;GlobalTypeMember *&gt;(Targets.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>()),</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                       <span class="keyword">alignof</span>(ICallBranchFunnel)));</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;CI = CI;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;UniqueId = UniqueId;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;NTargets = Targets.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    std::uninitialized_copy(Targets.<a class="code" href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">begin</a>(), Targets.<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>(),</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                            <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getTrailingObjects&lt;GlobalTypeMember *&gt;());</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a04f7235e9b275db7f5f4dc933e52aac1">targets</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(getTrailingObjects&lt;GlobalTypeMember *&gt;(), NTargets);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordtype">unsigned</span> UniqueId;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordtype">size_t</span> NTargets;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;};</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="keyword">struct </span>ScopedSaveAliaseesAndUsed {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;GlobalValue *, 4&gt;</a> <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a019d1ca7d50cc54b995f60d456435e87">Used</a>, CompilerUsed;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  std::vector&lt;std::pair&lt;GlobalAlias *, Function *&gt;&gt; FunctionAliases;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  std::vector&lt;std::pair&lt;GlobalIFunc *, Function *&gt;&gt; ResolverIFuncs;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  ScopedSaveAliaseesAndUsed(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">// The users of this class want to replace all function references except</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// for aliases and llvm.used/llvm.compiler.used with references to a jump</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// table. We avoid replacing aliases in order to avoid introducing a double</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">// indirection (or an alias pointing to a declaration in ThinLTO mode), and</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// we avoid replacing llvm.used/llvm.compiler.used because these global</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// variables describe properties of the global, not the jump table (besides,</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">// offseted references to the jump table in llvm.used are invalid).</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// Unfortunately, LLVM doesn&#39;t have a &quot;RAUW except for these (possibly</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// indirect) users&quot;, so what we do is save the list of globals referenced by</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// llvm.used/llvm.compiler.used and aliases, erase the used lists, let RAUW</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">// replace the aliasees and then set them back to their original values at</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// the end.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = <a class="code" href="namespacellvm.html#afd1cdae0d7a12aa1861ac142c059f5d2">collectUsedGlobalVariables</a>(M, Used, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      GV-&gt;eraseFromParent();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = <a class="code" href="namespacellvm.html#afd1cdae0d7a12aa1861ac142c059f5d2">collectUsedGlobalVariables</a>(M, CompilerUsed, <span class="keyword">true</span>))</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      GV-&gt;eraseFromParent();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;GA : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.aliases()) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="comment">// FIXME: This should look past all aliases not just interposable ones,</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="comment">// see discussion on D65118.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(GA.getAliasee()-&gt;stripPointerCasts()))</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        FunctionAliases.push_back({&amp;GA, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>});</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;GI : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.ifuncs())</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(GI.getResolver()-&gt;stripPointerCasts()))</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        ResolverIFuncs.push_back({&amp;GI, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>});</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  ~ScopedSaveAliaseesAndUsed() {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="namespacellvm.html#ae879dd14ccc28696f3d8c7b484df3c9a">appendToUsed</a>(M, Used);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="namespacellvm.html#aab730f72aa213d5ecc7d1101efda8811">appendToCompilerUsed</a>(M, CompilerUsed);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : FunctionAliases)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first-&gt;setAliasee(</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;          <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first-&gt;getType()));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : ResolverIFuncs) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="comment">// This does not preserve pointer casts that may have been stripped by the</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="comment">// constructor, but the resolver&#39;s type is different from that of the</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="comment">// ifunc anyway.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first-&gt;setResolver(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;};</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="keyword">class </span>LowerTypeTestsModule {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ImportSummary;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// Set when the client has invoked this to simply drop all type test assume</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// sequences.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordtype">bool</span> DropTypeTests;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154">Triple::ArchType</a> Arch;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <a class="code" href="classllvm_1_1Triple.html#a3cfefc755ab656000934f91193afb1cd">Triple::OSType</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="classllvm_1_1Triple.html#a83e907e55fa50e093caa96a0aff96201">Triple::ObjectFormatType</a> ObjectFormat;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *Int1Ty = <a class="code" href="classllvm_1_1Type.html#aa75984a442f2379de0c66018201fa628">Type::getInt1Ty</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *Int8Ty = <a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *Int8PtrTy = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *Int8Arr0Ty = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(<a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()), 0);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a> = <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *Int32PtrTy = <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *Int64Ty = <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *IntPtrTy = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getIntPtrType(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// Indirect function call index assignment counter for WebAssembly</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> IndirectIndex = 1;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// Mapping from type identifiers to the call sites that test them, as well as</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// whether the type identifier needs to be exported to ThinLTO backends as</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// part of the regular LTO phase of the ThinLTO pipeline (see exportTypeId).</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keyword">struct </span>TypeIdUserInfo {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    std::vector&lt;CallInst *&gt; CallSites;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordtype">bool</span> IsExported = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  };</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Metadata *, TypeIdUserInfo&gt;</a> TypeIdUsers;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">  /// This structure describes how to lower type tests for a particular type</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">  /// identifier. It is either built directly from the global analysis (during</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">  /// regular LTO or the regular LTO phase of ThinLTO), or indirectly using type</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">  /// identifier summaries and external symbol references (in ThinLTO backends).</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>TypeIdLowering {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bed">TypeTestResolution::Kind</a> TheKind = <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca">TypeTestResolution::Unsat</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">    /// All except Unsat: the start address within the combined global.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *OffsetedGlobal;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">    /// ByteArray, Inline, AllOnes: log2 of the required global alignment</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">    /// relative to the start address.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *AlignLog2;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">    /// ByteArray, Inline, AllOnes: one less than the size of the memory region</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">    /// covering members of this type identifier as a multiple of 2^AlignLog2.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *SizeM1;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">    /// ByteArray: the byte array to test the address against.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *TheByteArray;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">    /// ByteArray: the bit mask to apply to bytes loaded from the byte array.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *BitMask;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">    /// Inline: the bit mask to test the address against.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *InlineBits;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  };</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  std::vector&lt;ByteArrayInfo&gt; ByteArrayInfos;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *WeakInitializerFn = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordtype">bool</span> shouldExportConstantsAsAbsoluteSymbols();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  uint8_t *exportTypeId(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeId, <span class="keyword">const</span> TypeIdLowering &amp;TIL);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  TypeIdLowering importTypeId(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeId);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordtype">void</span> importTypeTest(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordtype">void</span> importFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">isJumpTableCanonical</a>,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                      std::vector&lt;GlobalAlias *&gt; &amp;AliasesToErase);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html">BitSetInfo</a></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  buildBitSet(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalTypeMember *, uint64_t&gt;</a> &amp;GlobalLayout);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  ByteArrayInfo *createByteArray(<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html">BitSetInfo</a> &amp;BSI);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordtype">void</span> allocateByteArrays();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *createBitSetTest(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <span class="keyword">const</span> TypeIdLowering &amp;TIL,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                          <a class="code" href="classllvm_1_1Value.html">Value</a> *BitOffset);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordtype">void</span> lowerTypeTestCalls(</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CombinedGlobalAddr,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalTypeMember *, uint64_t&gt;</a> &amp;GlobalLayout);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *lowerTypeTestCall(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                           <span class="keyword">const</span> TypeIdLowering &amp;TIL);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordtype">void</span> buildBitSetsFromGlobalVariables(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds,</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                       <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Globals);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordtype">unsigned</span> getJumpTableEntrySize();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *getJumpTableEntryType();</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordtype">void</span> createJumpTableEntry(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;AsmOS, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;ConstraintOS,</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                            <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154">Triple::ArchType</a> JumpTableArch,</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value *&gt;</a> &amp;AsmArgs, <a class="code" href="classllvm_1_1Function.html">Function</a> *Dest);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordtype">void</span> verifyTypeMDNode(<a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> *GO, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Type.html">Type</a>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordtype">void</span> buildBitSetsFromFunctions(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                 <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Functions);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordtype">void</span> buildBitSetsFromFunctionsNative(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                       <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Functions);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordtype">void</span> buildBitSetsFromFunctionsWASM(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                     <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Functions);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  buildBitSetsFromDisjointSet(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds,</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                              <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Globals,</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                              <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;ICallBranchFunnel *&gt;</a> ICallBranchFunnels);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordtype">void</span> replaceWeakDeclarationWithJumpTablePtr(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>,</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                                              <span class="keywordtype">bool</span> IsJumpTableCanonical);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordtype">void</span> moveInitializerToModuleConstructor(<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordtype">void</span> findGlobalVariableUsersOf(<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                 <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;GlobalVariable *, 8&gt;</a> &amp;Out);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordtype">void</span> createJumpTable(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Functions);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">  /// replaceCfiUses - Go through the uses list for this definition</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">  /// and make each use point to &quot;V&quot; instead of &quot;this&quot; when the use is outside</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">  /// the block. &#39;This&#39;s use list is expected to have at least one element.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">  /// Unlike replaceAllUsesWith this function skips blockaddr and direct call</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">  /// uses.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> replaceCfiUses(<a class="code" href="classllvm_1_1Function.html">Function</a> *Old, <a class="code" href="classllvm_1_1Value.html">Value</a> *New, <span class="keywordtype">bool</span> IsJumpTableCanonical);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">  /// replaceDirectCalls - Go through the uses list for this definition and</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">  /// replace each use, which is a direct function call.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> replaceDirectCalls(<a class="code" href="classllvm_1_1Value.html">Value</a> *Old, <a class="code" href="classllvm_1_1Value.html">Value</a> *New);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  LowerTypeTestsModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary,</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ImportSummary,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                       <span class="keywordtype">bool</span> DropTypeTests);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordtype">bool</span> lower();</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// Lower the module using the action and summary passed as command line</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">// arguments. For testing purposes only.</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> runForTesting(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;};</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">/// Build a bit set for TypeId using the object layouts in</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">/// GlobalLayout.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"></span><a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html">BitSetInfo</a> LowerTypeTestsModule::buildBitSet(</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalTypeMember *, uint64_t&gt;</a> &amp;GlobalLayout) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html">BitSetBuilder</a> BSB;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">// Compute the byte offset of each address associated with this type</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// identifier.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;GlobalAndOffset : GlobalLayout) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Type.html">Type</a> : GlobalAndOffset.first-&gt;types()) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getOperand(1) != TypeId)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">Offset</a> =</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;          cast&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;              cast&lt;ConstantAsMetadata&gt;(<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getOperand(0))-&gt;getValue())</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;              -&gt;getZExtValue();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      BSB.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#ae9eac0aef016a4ee87e0260b8bda8319">addOffset</a>(GlobalAndOffset.second + Offset);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">return</span> BSB.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#aa21d510ab0919fcc10fbbb02ead13dab">build</a>();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">/// Build a test that bit BitOffset mod sizeof(Bits)*8 is set in</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">/// Bits. This pattern matches to the bt instruction on x86.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#a66186c9c661db652ceac407e675c7856">  559</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="LowerTypeTests_8cpp.html#a66186c9c661db652ceac407e675c7856">createMaskedBitTest</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>,</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                                  <a class="code" href="classllvm_1_1Value.html">Value</a> *BitOffset) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keyword">auto</span> BitsType = cast&lt;IntegerType&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>-&gt;getType());</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = BitsType-&gt;getBitWidth();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  BitOffset = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateZExtOrTrunc(BitOffset, BitsType);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *BitIndex =</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateAnd(BitOffset, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(BitsType, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - 1));</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *BitMask = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateShl(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(BitsType, 1), BitIndex);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *MaskedBits = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateAnd(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, BitMask);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateICmpNE(MaskedBits, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(BitsType, 0));</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;}</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;ByteArrayInfo *LowerTypeTestsModule::createByteArray(<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html">BitSetInfo</a> &amp;BSI) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// Create globals to stand in for byte arrays and masks. These never actually</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// get initialized, we RAUW and erase them later in allocateByteArrays() once</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// we know the offset and mask to use.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keyword">auto</span> ByteArrayGlobal = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      M, Int8Ty, <span class="comment">/*isConstant=*/</span><span class="keyword">true</span>, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keyword">auto</span> MaskGlobal = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, Int8Ty, <span class="comment">/*isConstant=*/</span><span class="keyword">true</span>,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                       <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  ByteArrayInfos.emplace_back();</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  ByteArrayInfo *BAI = &amp;ByteArrayInfos.back();</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  BAI-&gt;Bits = BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a9056d542f9c590c71d90c5b5d4c1ef06">Bits</a>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  BAI-&gt;BitSize = BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#aa7c30a369762ee2247cebe8c310e52ef">BitSize</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  BAI-&gt;ByteArray = ByteArrayGlobal;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  BAI-&gt;MaskGlobal = MaskGlobal;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">return</span> BAI;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::allocateByteArrays() {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <a class="code" href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a>(ByteArrayInfos,</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    [](<span class="keyword">const</span> ByteArrayInfo &amp;BAI1, <span class="keyword">const</span> ByteArrayInfo &amp;BAI2) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                      <span class="keywordflow">return</span> BAI1.BitSize &gt; BAI2.BitSize;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    });</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  std::vector&lt;uint64_t&gt; ByteArrayOffsets(ByteArrayInfos.size());</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html">ByteArrayBuilder</a> BAB;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != ByteArrayInfos.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    ByteArrayInfo *BAI = &amp;ByteArrayInfos[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    uint8_t <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#aefcc42b423b9473d155867e579682a9e">allocate</a>(BAI-&gt;Bits, BAI-&gt;BitSize, ByteArrayOffsets[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>], <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    BAI-&gt;MaskGlobal-&gt;replaceAllUsesWith(</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int8Ty, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>), Int8PtrTy));</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    BAI-&gt;MaskGlobal-&gt;eraseFromParent();</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (BAI-&gt;MaskPtr)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      *BAI-&gt;MaskPtr = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ByteArrayConst = <a class="code" href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">ConstantDataArray::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#ab9bf25f047271def1203635a5725eeff">Bytes</a>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keyword">auto</span> ByteArray =</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, ByteArrayConst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <span class="comment">/*isConstant=*/</span><span class="keyword">true</span>,</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                         <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>, ByteArrayConst);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != ByteArrayInfos.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    ByteArrayInfo *BAI = &amp;ByteArrayInfos[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Idxs[] = {<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, 0),</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                        <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, ByteArrayOffsets[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>])};</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a5fb870e87103d4942f5b405e7b8d9d4e">ConstantExpr::getInBoundsGetElementPtr</a>(</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        ByteArrayConst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), ByteArray, Idxs);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="comment">// Create an alias instead of RAUW&#39;ing the gep directly. On x86 this ensures</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">// that the pc-relative displacement is folded into the lea instead of the</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// test instruction getting another displacement.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *Alias = <a class="code" href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">GlobalAlias::create</a>(</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        Int8Ty, 0, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>, <span class="stringliteral">&quot;bits&quot;</span>, <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, &amp;M);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    BAI-&gt;ByteArray-&gt;replaceAllUsesWith(Alias);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    BAI-&gt;ByteArray-&gt;eraseFromParent();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  ByteArraySizeBits = BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[0] + BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[1] + BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[2] +</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                      BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[3] + BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[4] + BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[5] +</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                      BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[6] + BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">BitAllocs</a>[7];</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  ByteArraySizeBytes = BAB.<a class="code" href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#ab9bf25f047271def1203635a5725eeff">Bytes</a>.size();</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">/// Build a test that bit BitOffset is set in the type identifier that was</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">/// lowered to TIL, which must be either an Inline or a ByteArray.</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Value.html">Value</a> *LowerTypeTestsModule::createBitSetTest(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>,</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                                              <span class="keyword">const</span> TypeIdLowering &amp;TIL,</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                                              <a class="code" href="classllvm_1_1Value.html">Value</a> *BitOffset) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2f70fb5ef215b0969f3b319bab4b03c6">TypeTestResolution::Inline</a>) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">// If the bit set is sufficiently small, we can avoid a load by bit testing</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// a constant.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a66186c9c661db652ceac407e675c7856">createMaskedBitTest</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, TIL.InlineBits, BitOffset);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ByteArray = TIL.TheByteArray;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="LowerTypeTests_8cpp.html#a7c76013588a6a90e552030310757d8b2">AvoidReuse</a> &amp;&amp; !ImportSummary) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="comment">// Each use of the byte array uses a different alias. This makes the</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="comment">// backend less likely to reuse previously computed byte array addresses,</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">// improving the security of the CFI mechanism based on this pass.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="comment">// This won&#39;t work when importing because TheByteArray is external.</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      ByteArray = <a class="code" href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">GlobalAlias::create</a>(Int8Ty, 0, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                                      <span class="stringliteral">&quot;bits_use&quot;</span>, ByteArray, &amp;M);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ByteAddr = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateGEP(Int8Ty, ByteArray, BitOffset);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1codeview.html#a9cf141c9194799e2fa2d92de4c6e8ff0aa245c3230debe5c956484ecc6fa93877">Byte</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateLoad(Int8Ty, ByteAddr);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ByteAndMask =</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateAnd(Byte, <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(TIL.BitMask, Int8Ty));</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateICmpNE(ByteAndMask, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int8Ty, 0));</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#a24010a1eb5e99f1a4ace051c293a401f">  670</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LowerTypeTests_8cpp.html#a24010a1eb5e99f1a4ace051c293a401f">isKnownTypeIdMember</a>(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> COffset) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> GV = dyn_cast&lt;GlobalObject&gt;(V)) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 2&gt;</a> Types;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    GV-&gt;getMetadata(LLVMContext::MD_type, Types);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Type.html">Type</a> : Types) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getOperand(1) != TypeId)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Offset =</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;          cast&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;              cast&lt;ConstantAsMetadata&gt;(<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getOperand(0))-&gt;getValue())</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;              -&gt;getZExtValue();</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">if</span> (COffset == Offset)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GEPOperator&gt;(V)) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> APOffset(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getPointerSizeInBits(0), 0);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordtype">bool</span> Result = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;accumulateConstantOffset(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, APOffset);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (!Result)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    COffset += APOffset.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a24010a1eb5e99f1a4ace051c293a401f">isKnownTypeIdMember</a>(TypeId, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand(), COffset);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = dyn_cast&lt;Operator&gt;(V)) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOpcode() == Instruction::BitCast)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a24010a1eb5e99f1a4ace051c293a401f">isKnownTypeIdMember</a>(TypeId, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0), COffset);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOpcode() == <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a24010a1eb5e99f1a4ace051c293a401f">isKnownTypeIdMember</a>(TypeId, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1), COffset) &amp;&amp;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;             <a class="code" href="LowerTypeTests_8cpp.html#a24010a1eb5e99f1a4ace051c293a401f">isKnownTypeIdMember</a>(TypeId, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(2), COffset);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">/// Lower a llvm.type.test call to its implementation. Returns the value to</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">/// replace the call with.</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Value.html">Value</a> *LowerTypeTestsModule::lowerTypeTestCall(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                                               <span class="keyword">const</span> TypeIdLowering &amp;TIL) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="comment">// Delay lowering if the resolution is currently unknown.</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda1893cdb6dc7d73055db02b7e1f46a276">TypeTestResolution::Unknown</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca">TypeTestResolution::Unsat</a>)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="LowerTypeTests_8cpp.html#a24010a1eb5e99f1a4ace051c293a401f">isKnownTypeIdMember</a>(TypeId, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, 0))</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *InitialBB = CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>(CI);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrAsInt = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreatePtrToInt(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, IntPtrTy);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *OffsetedGlobalAsInt =</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(TIL.OffsetedGlobal, IntPtrTy);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2c2da6acce4cf440ed9351dfe34899f0">TypeTestResolution::Single</a>)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateICmpEQ(PtrAsInt, OffsetedGlobalAsInt);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrOffset = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateSub(PtrAsInt, OffsetedGlobalAsInt);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">// We need to check that the offset both falls within our range and is</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="comment">// suitably aligned. We can check both properties at the same time by</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="comment">// performing a right rotate by log2(alignment) followed by an integer</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="comment">// comparison against the bitset size. The rotate will move the lower</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">// order bits that need to be zero into the higher order bits of the</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="comment">// result, causing the comparison to fail if they are nonzero. The rotate</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// also conveniently gives us a bit offset to use during the load from</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="comment">// the bitset.</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *OffsetSHR =</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateLShr(PtrOffset, <a class="code" href="classllvm_1_1ConstantExpr.html#a58d6359cee16e5da66861058836dcca9">ConstantExpr::getZExt</a>(TIL.AlignLog2, IntPtrTy));</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *OffsetSHL = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateShl(</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      PtrOffset, <a class="code" href="classllvm_1_1ConstantExpr.html#a58d6359cee16e5da66861058836dcca9">ConstantExpr::getZExt</a>(</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                     <a class="code" href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">ConstantExpr::getSub</a>(</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                         <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int8Ty, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getPointerSizeInBits(0)),</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                         TIL.AlignLog2),</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                     IntPtrTy));</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *BitOffset = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateOr(OffsetSHR, OffsetSHL);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *OffsetInRange = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateICmpULE(BitOffset, TIL.SizeM1);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">// If the bit set is all ones, testing against it is unnecessary.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedacbf788f41139e3717dfde370ec59c0aa">TypeTestResolution::AllOnes</a>)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">return</span> OffsetInRange;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="comment">// See if the intrinsic is used in the following common pattern:</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="comment">//   br(llvm.type.test(...), thenbb, elsebb)</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">// where nothing happens between the type test and the br.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// If so, create slightly simpler IR.</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>())</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Br = dyn_cast&lt;BranchInst&gt;(*CI-&gt;<a class="code" href="classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">user_begin</a>()))</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">getNextNode</a>() == Br) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a0a3f5b60adefd865c58eacd375747316">Then</a> = InitialBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a52c990590792c91dd20b6d45acebe359">splitBasicBlock</a>(CI-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>());</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5af9f9662bb78e64d7db00b19d61e41655">Else</a> = Br-&gt;getSuccessor(1);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *NewBr = <a class="code" href="classllvm_1_1BranchInst.html#a38df51256d4b415b6a817b5e1c6d4d36">BranchInst::Create</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a0a3f5b60adefd865c58eacd375747316">Then</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5af9f9662bb78e64d7db00b19d61e41655">Else</a>, OffsetInRange);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        NewBr-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_prof,</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                           Br-&gt;getMetadata(LLVMContext::MD_prof));</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="namespacellvm.html#a016a85f7487f995fe80141e102a7a5ae">ReplaceInstWithInst</a>(InitialBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>(), NewBr);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="comment">// Update phis in Else resulting from InitialBB being split</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Phi : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5af9f9662bb78e64d7db00b19d61e41655">Else</a>-&gt;phis())</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;          Phi.addIncoming(Phi.getIncomingValueForBlock(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a0a3f5b60adefd865c58eacd375747316">Then</a>), InitialBB);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> ThenB(CI);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">return</span> createBitSetTest(ThenB, TIL, BitOffset);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> ThenB(<a class="code" href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">SplitBlockAndInsertIfThen</a>(OffsetInRange, CI, <span class="keyword">false</span>));</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// Now that we know that the offset is in range and aligned, load the</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// appropriate bit from the bitset.</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a> = createBitSetTest(ThenB, TIL, BitOffset);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// The value we want is 0 if we came directly from the initial block</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="comment">// (having failed the range or alignment checks), or the loaded bit if</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="comment">// we came from the block in which we loaded it.</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.SetInsertPoint(CI);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreatePHI(Int1Ty, 2);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;addIncoming(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int1Ty, 0), InitialBB);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;addIncoming(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>, ThenB.GetInsertBlock());</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">/// Given a disjoint set of type identifiers and globals, lay out the globals,</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">/// build the bit sets and lower the llvm.type.test calls.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> LowerTypeTestsModule::buildBitSetsFromGlobalVariables(</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Globals) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="comment">// Build a new global with the combined contents of the referenced globals.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="comment">// This global is a struct whose even-indexed elements contain the original</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="comment">// contents of the referenced globals and whose odd-indexed elements contain</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="comment">// any padding required to align the next element to the next power of 2 plus</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">// any additional padding required to meet its alignment requirements.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  std::vector&lt;Constant *&gt; GlobalInits;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout();</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalTypeMember *, uint64_t&gt;</a> GlobalLayout;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> MaxAlign;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> CurOffset = 0;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DesiredPadding = 0;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordflow">for</span> (GlobalTypeMember *<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a> : Globals) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keyword">auto</span> *GV = cast&lt;GlobalVariable&gt;(<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>-&gt;getGlobal());</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment =</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getValueOrABITypeAlignment(GV-&gt;getAlign(), GV-&gt;getValueType());</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    MaxAlign = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(MaxAlign, Alignment);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> GVOffset = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(CurOffset + DesiredPadding, Alignment);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    GlobalLayout[<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>] = GVOffset;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (GVOffset != 0) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caa10443964156b9e87c95e74c8f9baf15">Padding</a> = GVOffset - CurOffset;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      GlobalInits.push_back(</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;          <a class="code" href="classllvm_1_1ConstantAggregateZero.html#abfa1cf8b4348407b167f93bc7c01055f">ConstantAggregateZero::get</a>(<a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(Int8Ty, Padding)));</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    GlobalInits.push_back(GV-&gt;getInitializer());</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> InitSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(GV-&gt;getValueType());</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    CurOffset = GVOffset + InitSize;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="comment">// Compute the amount of padding that we&#39;d like for the next element.</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    DesiredPadding = <a class="code" href="namespacellvm.html#afb65eef479f0473d0fe1666b80155237">NextPowerOf2</a>(InitSize - 1) - InitSize;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// Experiments of different caps with Chromium on both x64 and ARM64</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">// have shown that the 32-byte cap generates the smallest binary on</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="comment">// both platforms while different caps yield similar performance.</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="comment">// (see https://lists.llvm.org/pipermail/llvm-dev/2018-July/124694.html)</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">if</span> (DesiredPadding &gt; 32)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      DesiredPadding = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(InitSize, 32) - InitSize;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NewInit = <a class="code" href="classllvm_1_1ConstantStruct.html#a801ba6ad994f4c40b17055d228312be7">ConstantStruct::getAnon</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), GlobalInits);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keyword">auto</span> *CombinedGlobal =</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, NewInit-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <span class="comment">/*isConstant=*/</span><span class="keyword">true</span>,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                         <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>, NewInit);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  CombinedGlobal-&gt;setAlignment(MaxAlign);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <a class="code" href="classllvm_1_1StructType.html">StructType</a> *NewTy = cast&lt;StructType&gt;(NewInit-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  lowerTypeTestCalls(TypeIds, CombinedGlobal, GlobalLayout);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">// Build aliases pointing to offsets into the combined global for each</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">// global from which we built the combined global, and replace references</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="comment">// to the original globals with references to the aliases.</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Globals.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = cast&lt;GlobalVariable&gt;(Globals[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;getGlobal());</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// Multiply by 2 to account for padding elements.</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CombinedGlobalIdxs[] = {<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, 0),</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                      <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> * 2)};</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CombinedGlobalElemPtr = <a class="code" href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">ConstantExpr::getGetElementPtr</a>(</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        NewInit-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), CombinedGlobal, CombinedGlobalIdxs);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a92041fc7f781ba4fe708eec99139b72f">getType</a>()-&gt;<a class="code" href="classllvm_1_1PointerType.html#af8aeced5e71d2589fa3e9791043af5cb">getAddressSpace</a>() == 0);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GAlias =</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <a class="code" href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">GlobalAlias::create</a>(NewTy-&gt;<a class="code" href="classllvm_1_1StructType.html#a6cb66137274f95e4bf6b324b8af9ab56">getElementType</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> * 2), 0, GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>(),</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                            <span class="stringliteral">&quot;&quot;</span>, CombinedGlobalElemPtr, &amp;M);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    GAlias-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a28b9561d9ef3d237ef894023187fa26c">getVisibility</a>());</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    GAlias-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(GV);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    GV-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(GAlias);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#ae0cf03d5de37330b1eb69dd22a1d5057">eraseFromParent</a>();</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="keywordtype">bool</span> LowerTypeTestsModule::shouldExportConstantsAsAbsoluteSymbols() {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">return</span> (Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648">Triple::x86</a> || Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>) &amp;&amp;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;         ObjectFormat == <a class="code" href="classllvm_1_1Triple.html#a83e907e55fa50e093caa96a0aff96201a456b64e26b8bcdbd8294689615d8a055">Triple::ELF</a>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">/// Export the given type identifier so that ThinLTO backends may import it.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">/// Type identifiers are exported by adding coarse-grained information about how</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">/// to test the type identifier to the summary, and creating symbols in the</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">/// object file (aliases and absolute symbols) containing fine-grained</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">/// information about the type identifier.</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">/// Returns a pointer to the location in which to store the bitmask, if</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">/// applicable.</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment"></span>uint8_t *LowerTypeTestsModule::exportTypeId(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeId,</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                                            <span class="keyword">const</span> TypeIdLowering &amp;TIL) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <a class="code" href="structllvm_1_1TypeTestResolution.html">TypeTestResolution</a> &amp;TTRes =</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      ExportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#ac03feadb343c2d3e1f9dc4b78ee19d62">getOrInsertTypeIdSummary</a>(TypeId).<a class="code" href="structllvm_1_1TypeIdSummary.html#a80bc0b8f2041f3a3839f393f1a6aae33">TTRes</a>;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a66ff82a2443a6f422cd95843084564f6">TheKind</a> = TIL.TheKind;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keyword">auto</span> ExportGlobal = [&amp;](<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA =</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <a class="code" href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">GlobalAlias::create</a>(Int8Ty, 0, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>,</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                            <span class="stringliteral">&quot;__typeid_&quot;</span> + TypeId + <span class="stringliteral">&quot;_&quot;</span> + Name, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, &amp;M);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    GA-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  };</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keyword">auto</span> ExportConstant = [&amp;](<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;Storage, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">if</span> (shouldExportConstantsAsAbsoluteSymbols())</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      ExportGlobal(Name, <a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Int8PtrTy));</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      Storage = cast&lt;ConstantInt&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)-&gt;getZExtValue();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  };</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind != <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca">TypeTestResolution::Unsat</a>)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    ExportGlobal(<span class="stringliteral">&quot;global_addr&quot;</span>, TIL.OffsetedGlobal);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedad6fc792b7da30012ba5aa2e942383f1f">TypeTestResolution::ByteArray</a> ||</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2f70fb5ef215b0969f3b319bab4b03c6">TypeTestResolution::Inline</a> ||</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedacbf788f41139e3717dfde370ec59c0aa">TypeTestResolution::AllOnes</a>) {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    ExportConstant(<span class="stringliteral">&quot;align&quot;</span>, TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#ad43ecb12669b6fda67694c153847ebdd">AlignLog2</a>, TIL.AlignLog2);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    ExportConstant(<span class="stringliteral">&quot;size_m1&quot;</span>, TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a4f7d657b28994fc8695b080cb20b1c97">SizeM1</a>, TIL.SizeM1);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BitSize = cast&lt;ConstantInt&gt;(TIL.SizeM1)-&gt;<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>() + 1;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2f70fb5ef215b0969f3b319bab4b03c6">TypeTestResolution::Inline</a>)</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a453599f2782c97d48d8bcedf6f75122d">SizeM1BitWidth</a> = (BitSize &lt;= 32) ? 5 : 6;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a453599f2782c97d48d8bcedf6f75122d">SizeM1BitWidth</a> = (BitSize &lt;= 128) ? 7 : 32;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedad6fc792b7da30012ba5aa2e942383f1f">TypeTestResolution::ByteArray</a>) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    ExportGlobal(<span class="stringliteral">&quot;byte_array&quot;</span>, TIL.TheByteArray);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (shouldExportConstantsAsAbsoluteSymbols())</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      ExportGlobal(<span class="stringliteral">&quot;bit_mask&quot;</span>, TIL.BitMask);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">return</span> &amp;TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a742493488e02c32e595b0052a4c247d5">BitMask</a>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2f70fb5ef215b0969f3b319bab4b03c6">TypeTestResolution::Inline</a>)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    ExportConstant(<span class="stringliteral">&quot;inline_bits&quot;</span>, TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#ad940f79d8b859f1b9bdbc4df5b9bda75">InlineBits</a>, TIL.InlineBits);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;}</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;LowerTypeTestsModule::TypeIdLowering</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;LowerTypeTestsModule::importTypeId(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TypeId) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1TypeIdSummary.html">TypeIdSummary</a> *TidSummary = ImportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a93625f7cbb3fd8673797e565a453c0ec">getTypeIdSummary</a>(TypeId);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">if</span> (!TidSummary)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">return</span> {}; <span class="comment">// Unsat: no globals match this type id.</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1TypeTestResolution.html">TypeTestResolution</a> &amp;TTRes = TidSummary-&gt;<a class="code" href="structllvm_1_1TypeIdSummary.html#a80bc0b8f2041f3a3839f393f1a6aae33">TTRes</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  TypeIdLowering TIL;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  TIL.TheKind = TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a66ff82a2443a6f422cd95843084564f6">TheKind</a>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keyword">auto</span> ImportGlobal = [&amp;](<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">// Give the global a type of length 0 so that it is not assumed not to alias</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="comment">// with any other global.</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertGlobal((<span class="stringliteral">&quot;__typeid_&quot;</span> + TypeId + <span class="stringliteral">&quot;_&quot;</span> + Name).str(),</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                                      Int8Arr0Ty);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GV = dyn_cast&lt;GlobalVariable&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Int8PtrTy);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  };</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keyword">auto</span> ImportConstant = [&amp;](<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1codeview.html#acf5c2920c8a10eeb1d8c5d3a9c2adfb6a79ceee9f8e3c1f0cc74223e05d2448bf">Const</a>, <span class="keywordtype">unsigned</span> AbsWidth,</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                            <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (!shouldExportConstantsAsAbsoluteSymbols()) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> =</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;          <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(isa&lt;IntegerType&gt;(Ty) ? Ty : Int64Ty, Const);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;IntegerType&gt;(Ty))</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Ty);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = ImportGlobal(Name);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keyword">auto</span> *GV = cast&lt;GlobalVariable&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;stripPointerCasts());</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">if</span> (isa&lt;IntegerType&gt;(Ty))</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Ty);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">if</span> (GV-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#a61a186a60c64a2a5225db9944eaf7df8">getMetadata</a>(LLVMContext::MD_absolute_symbol))</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keyword">auto</span> SetAbsRange = [&amp;](<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Min, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1pdb.html#a81a0fae24e6bdfe240da4249a8da5978a6a061313d22e51e0f25b7cd4dc065233">Max</a>) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="keyword">auto</span> *MinC = <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, Min));</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="keyword">auto</span> *MaxC = <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, Max));</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      GV-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#a338590123630c357df6340c38d066572">setMetadata</a>(LLVMContext::MD_absolute_symbol,</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                      <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), {MinC, MaxC}));</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    };</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">if</span> (AbsWidth == IntPtrTy-&gt;<a class="code" href="classllvm_1_1IntegerType.html#a90b790ccb1af4ea5ccd69db4b8cd2d81">getBitWidth</a>())</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      SetAbsRange(~0ull, ~0ull); <span class="comment">// Full set.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      SetAbsRange(0, 1ull &lt;&lt; AbsWidth);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  };</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind != <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca">TypeTestResolution::Unsat</a>)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    TIL.OffsetedGlobal = ImportGlobal(<span class="stringliteral">&quot;global_addr&quot;</span>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedad6fc792b7da30012ba5aa2e942383f1f">TypeTestResolution::ByteArray</a> ||</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2f70fb5ef215b0969f3b319bab4b03c6">TypeTestResolution::Inline</a> ||</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedacbf788f41139e3717dfde370ec59c0aa">TypeTestResolution::AllOnes</a>) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    TIL.AlignLog2 = ImportConstant(<span class="stringliteral">&quot;align&quot;</span>, TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#ad43ecb12669b6fda67694c153847ebdd">AlignLog2</a>, 8, Int8Ty);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    TIL.SizeM1 =</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        ImportConstant(<span class="stringliteral">&quot;size_m1&quot;</span>, TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a4f7d657b28994fc8695b080cb20b1c97">SizeM1</a>, TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a453599f2782c97d48d8bcedf6f75122d">SizeM1BitWidth</a>, IntPtrTy);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedad6fc792b7da30012ba5aa2e942383f1f">TypeTestResolution::ByteArray</a>) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    TIL.TheByteArray = ImportGlobal(<span class="stringliteral">&quot;byte_array&quot;</span>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    TIL.BitMask = ImportConstant(<span class="stringliteral">&quot;bit_mask&quot;</span>, TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a742493488e02c32e595b0052a4c247d5">BitMask</a>, 8, Int8PtrTy);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">if</span> (TIL.TheKind == <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2f70fb5ef215b0969f3b319bab4b03c6">TypeTestResolution::Inline</a>)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    TIL.InlineBits = ImportConstant(</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="stringliteral">&quot;inline_bits&quot;</span>, TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#ad940f79d8b859f1b9bdbc4df5b9bda75">InlineBits</a>, 1 &lt;&lt; TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a453599f2782c97d48d8bcedf6f75122d">SizeM1BitWidth</a>,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        TTRes.<a class="code" href="structllvm_1_1TypeTestResolution.html#a453599f2782c97d48d8bcedf6f75122d">SizeM1BitWidth</a> &lt;= 5 ? <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a> : Int64Ty);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordflow">return</span> TIL;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;}</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::importTypeTest(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keyword">auto</span> TypeIdMDVal = dyn_cast&lt;MetadataAsValue&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">if</span> (!TypeIdMDVal)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Second argument of llvm.type.test must be metadata&quot;</span>);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keyword">auto</span> TypeIdStr = dyn_cast&lt;MDString&gt;(TypeIdMDVal-&gt;getMetadata());</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// If this is a local unpromoted type, which doesn&#39;t have a metadata string,</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="comment">// treat as Unknown and delay lowering, so that we can still utilize it for</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="comment">// later optimizations.</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keywordflow">if</span> (!TypeIdStr)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  TypeIdLowering TIL = importTypeId(TypeIdStr-&gt;getString());</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Lowered = lowerTypeTestCall(TypeIdStr, CI, TIL);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keywordflow">if</span> (Lowered) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Lowered);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;}</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">// ThinLTO backend: the function F has a jump table entry; update this module</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">// accordingly. isJumpTableCanonical describes the type of the jump table entry.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::importFunction(</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">isJumpTableCanonical</a>,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    std::vector&lt;GlobalAlias *&gt; &amp;AliasesToErase) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getType()-&gt;getAddressSpace() == 0);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a> Visibility = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getVisibility();</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  std::string <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = std::string(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName());</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclarationForLinker() &amp;&amp; <a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">isJumpTableCanonical</a>) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// Non-dso_local functions may be overriden at run time,</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">// don&#39;t short curcuit them</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDSOLocal()) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *RealF = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType(),</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                                         <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                                         <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAddressSpace(),</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                                         Name + <span class="stringliteral">&quot;.cfi&quot;</span>, &amp;M);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      RealF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalVariable::HiddenVisibility</a>);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      replaceDirectCalls(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, RealF);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *FDecl;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">isJumpTableCanonical</a>) {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">// Either a declaration of an external function or a reference to a locally</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">// defined jump table.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    FDecl = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType(), <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>,</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                             <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAddressSpace(), Name + <span class="stringliteral">&quot;.cfi_jt&quot;</span>, &amp;M);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    FDecl-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setName(Name + <span class="stringliteral">&quot;.cfi&quot;</span>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setLinkage(<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    FDecl = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType(), <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>,</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                             <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAddressSpace(), Name, &amp;M);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    FDecl-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(Visibility);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    Visibility = <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="comment">// Delete aliases pointing to this function, they&#39;ll be re-created in the</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="comment">// merged output. Don&#39;t do it yet though because ScopedSaveAliaseesAndUsed</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="comment">// will want to reset the aliasees first.</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;U : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;uses()) {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *A = dyn_cast&lt;GlobalAlias&gt;(U.getUser())) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *AliasDecl = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType(), <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAddressSpace(), <span class="stringliteral">&quot;&quot;</span>, &amp;M);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        AliasDecl-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(A);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;replaceAllUsesWith(AliasDecl);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        AliasesToErase.push_back(A);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      }</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExternalWeakLinkage())</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    replaceWeakDeclarationWithJumpTablePtr(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, FDecl, <a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">isJumpTableCanonical</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    replaceCfiUses(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, FDecl, <a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">isJumpTableCanonical</a>);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">// Set visibility late because it&#39;s used in replaceCfiUses() to determine</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="comment">// whether uses need to to be replaced.</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setVisibility(Visibility);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;}</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::lowerTypeTestCalls(</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CombinedGlobalAddr,</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalTypeMember *, uint64_t&gt;</a> &amp;GlobalLayout) {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  CombinedGlobalAddr = <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(CombinedGlobalAddr, Int8PtrTy);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">// For each type identifier in this disjoint set...</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId : TypeIds) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// Build the bitset.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html">BitSetInfo</a> BSI = buildBitSet(TypeId, GlobalLayout);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> MDS = dyn_cast&lt;MDString&gt;(TypeId))</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; MDS-&gt;getString() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;&lt;unnamed&gt;: &quot;</span>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a2ea6be22983452a3ada83dd719caf787">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    });</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    ByteArrayInfo *BAI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    TypeIdLowering TIL;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    TIL.OffsetedGlobal = <a class="code" href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">ConstantExpr::getGetElementPtr</a>(</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        Int8Ty, CombinedGlobalAddr, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a8f37c08c8a876745f75707df1462d463">ByteOffset</a>)),</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    TIL.AlignLog2 = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int8Ty, BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a6ecb18819ffce351312accf16feea3b6">AlignLog2</a>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    TIL.SizeM1 = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#aa7c30a369762ee2247cebe8c310e52ef">BitSize</a> - 1);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">if</span> (BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#ad415eb27cc01864ba9d7cf3673cd9096">isAllOnes</a>()) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      TIL.TheKind = (BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#aa7c30a369762ee2247cebe8c310e52ef">BitSize</a> == 1) ? <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2c2da6acce4cf440ed9351dfe34899f0">TypeTestResolution::Single</a></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                                       : <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedacbf788f41139e3717dfde370ec59c0aa">TypeTestResolution::AllOnes</a>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#aa7c30a369762ee2247cebe8c310e52ef">BitSize</a> &lt;= 64) {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      TIL.TheKind = <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2f70fb5ef215b0969f3b319bab4b03c6">TypeTestResolution::Inline</a>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> InlineBits = 0;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a> : BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a9056d542f9c590c71d90c5b5d4c1ef06">Bits</a>)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        InlineBits |= <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>(1) &lt;&lt; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="keywordflow">if</span> (InlineBits == 0)</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        TIL.TheKind = <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca">TypeTestResolution::Unsat</a>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        TIL.InlineBits = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            (BSI.<a class="code" href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#aa7c30a369762ee2247cebe8c310e52ef">BitSize</a> &lt;= 32) ? <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a> : Int64Ty, InlineBits);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      TIL.TheKind = <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedad6fc792b7da30012ba5aa2e942383f1f">TypeTestResolution::ByteArray</a>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      ++NumByteArraysCreated;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      BAI = createByteArray(BSI);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      TIL.TheByteArray = BAI-&gt;ByteArray;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      TIL.BitMask = BAI-&gt;MaskGlobal;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    TypeIdUserInfo &amp;TIUI = TypeIdUsers[TypeId];</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (TIUI.IsExported) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      uint8_t *MaskPtr = exportTypeId(cast&lt;MDString&gt;(TypeId)-&gt;getString(), TIL);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">if</span> (BAI)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        BAI-&gt;MaskPtr = MaskPtr;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="comment">// Lower each call to llvm.type.test for this type identifier.</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI : TIUI.CallSites) {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      ++NumTypeTestCallsLowered;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Lowered = lowerTypeTestCall(TypeId, CI, TIL);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">if</span> (Lowered) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Lowered);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::verifyTypeMDNode(<a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> *GO, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Type.html">Type</a>) {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getNumOperands() != 2)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;All operands of type metadata must have 2 elements&quot;</span>);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="keywordflow">if</span> (GO-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a239427c2c3a01e23bd15b29633696536">isThreadLocal</a>())</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Bit set element may not be thread-local&quot;</span>);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keywordflow">if</span> (isa&lt;GlobalVariable&gt;(GO) &amp;&amp; GO-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#ade7dc7510e950cd1c1181138b390f965">hasSection</a>())</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <span class="stringliteral">&quot;A member of a type identifier may not have an explicit section&quot;</span>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// FIXME: We previously checked that global var member of a type identifier</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// must be a definition, but the IR linker may leave type metadata on</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">// declarations. We should restore this check after fixing PR31759.</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keyword">auto</span> OffsetConstMD = dyn_cast&lt;ConstantAsMetadata&gt;(<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="keywordflow">if</span> (!OffsetConstMD)</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Type offset must be a constant&quot;</span>);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keyword">auto</span> OffsetInt = dyn_cast&lt;ConstantInt&gt;(OffsetConstMD-&gt;getValue());</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">if</span> (!OffsetInt)</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Type offset must be an integer constant&quot;</span>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;}</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#a5d58f15eb50f32db4ffe6c16195dc99d"> 1181</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="LowerTypeTests_8cpp.html#a5d58f15eb50f32db4ffe6c16195dc99d">kX86JumpTableEntrySize</a> = 8;</div>
<div class="line"><a name="l01182"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#a3999c3eae363ca1a480dd12c5d5e2264"> 1182</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="LowerTypeTests_8cpp.html#a3999c3eae363ca1a480dd12c5d5e2264">kX86IBTJumpTableEntrySize</a> = 16;</div>
<div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#a1b755fabd0ed8cb5a43a9bba2f5e5e40"> 1183</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="LowerTypeTests_8cpp.html#a1b755fabd0ed8cb5a43a9bba2f5e5e40">kARMJumpTableEntrySize</a> = 4;</div>
<div class="line"><a name="l01184"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#a9417d470d85e29ce38a9dc87cd9fe901"> 1184</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="LowerTypeTests_8cpp.html#a9417d470d85e29ce38a9dc87cd9fe901">kARMBTIJumpTableEntrySize</a> = 8;</div>
<div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#a454d72c46436ca392ac67b4f4cafeaf2"> 1185</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="LowerTypeTests_8cpp.html#a454d72c46436ca392ac67b4f4cafeaf2">kRISCVJumpTableEntrySize</a> = 8;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="keywordtype">unsigned</span> LowerTypeTestsModule::getJumpTableEntrySize() {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keywordflow">switch</span> (Arch) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648">Triple::x86</a>:</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>:</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = mdconst::extract_or_null&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleFlag(<span class="stringliteral">&quot;cf-protection-branch&quot;</span>)))</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keywordflow">if</span> (MD-&gt;getZExtValue())</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a3999c3eae363ca1a480dd12c5d5e2264">kX86IBTJumpTableEntrySize</a>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a5d58f15eb50f32db4ffe6c16195dc99d">kX86JumpTableEntrySize</a>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a8b312a985e2504366d24a2200faf37ff">Triple::arm</a>:</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ab456eadbc2378864e9aa9e2a545a1e65">Triple::thumb</a>:</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a1b755fabd0ed8cb5a43a9bba2f5e5e40">kARMJumpTableEntrySize</a>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">Triple::aarch64</a>:</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *BTE = mdconst::extract_or_null&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleFlag(<span class="stringliteral">&quot;branch-target-enforcement&quot;</span>)))</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordflow">if</span> (BTE-&gt;getZExtValue())</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a9417d470d85e29ce38a9dc87cd9fe901">kARMBTIJumpTableEntrySize</a>;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a1b755fabd0ed8cb5a43a9bba2f5e5e40">kARMJumpTableEntrySize</a>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae84559483d0c0f2bddc802ce6f76dd8b">Triple::riscv32</a>:</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae4763cb7c05a2a59ce27d51040bf4b08">Triple::riscv64</a>:</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LowerTypeTests_8cpp.html#a454d72c46436ca392ac67b4f4cafeaf2">kRISCVJumpTableEntrySize</a>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unsupported architecture for jump tables&quot;</span>);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;}</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="comment">// Create a jump table entry for the target. This consists of an instruction</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment">// sequence containing a relative branch to Dest. Appends inline asm text,</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment">// constraints and arguments to AsmOS, ConstraintOS and AsmArgs.</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::createJumpTableEntry(</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;AsmOS, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;ConstraintOS,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154">Triple::ArchType</a> JumpTableArch, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value *&gt;</a> &amp;AsmArgs,</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *Dest) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordtype">unsigned</span> ArgIndex = AsmArgs.size();</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648">Triple::x86</a> || JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordtype">bool</span> Endbr = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = mdconst::extract_or_null&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;          Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#afe43fb9222955bdceb316e851056f516">getModuleFlag</a>(<span class="stringliteral">&quot;cf-protection-branch&quot;</span>)))</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      Endbr = MD-&gt;getZExtValue() != 0;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">if</span> (Endbr)</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      AsmOS &lt;&lt; (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648">Triple::x86</a> ? <span class="stringliteral">&quot;endbr32\n&quot;</span> : <span class="stringliteral">&quot;endbr64\n&quot;</span>);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    AsmOS &lt;&lt; <span class="stringliteral">&quot;jmp ${&quot;</span> &lt;&lt; ArgIndex &lt;&lt; <span class="stringliteral">&quot;:c}@plt\n&quot;</span>;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">if</span> (Endbr)</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      AsmOS &lt;&lt; <span class="stringliteral">&quot;.balign 16, 0xcc\n&quot;</span>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      AsmOS &lt;&lt; <span class="stringliteral">&quot;int3\nint3\nint3\n&quot;</span>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a8b312a985e2504366d24a2200faf37ff">Triple::arm</a>) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    AsmOS &lt;&lt; <span class="stringliteral">&quot;b $&quot;</span> &lt;&lt; ArgIndex &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">Triple::aarch64</a>) {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *BTE = mdconst::extract_or_null&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;          Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#afe43fb9222955bdceb316e851056f516">getModuleFlag</a>(<span class="stringliteral">&quot;branch-target-enforcement&quot;</span>)))</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="keywordflow">if</span> (BTE-&gt;getZExtValue())</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        AsmOS &lt;&lt; <span class="stringliteral">&quot;bti c\n&quot;</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    AsmOS &lt;&lt; <span class="stringliteral">&quot;b $&quot;</span> &lt;&lt; ArgIndex &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ab456eadbc2378864e9aa9e2a545a1e65">Triple::thumb</a>) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    AsmOS &lt;&lt; <span class="stringliteral">&quot;b.w $&quot;</span> &lt;&lt; ArgIndex &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae84559483d0c0f2bddc802ce6f76dd8b">Triple::riscv32</a> ||</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;             JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae4763cb7c05a2a59ce27d51040bf4b08">Triple::riscv64</a>) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    AsmOS &lt;&lt; <span class="stringliteral">&quot;tail $&quot;</span> &lt;&lt; ArgIndex &lt;&lt; <span class="stringliteral">&quot;@plt\n&quot;</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unsupported architecture for jump tables&quot;</span>);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  }</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  ConstraintOS &lt;&lt; (ArgIndex &gt; 0 ? <span class="stringliteral">&quot;,s&quot;</span> : <span class="stringliteral">&quot;s&quot;</span>);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  AsmArgs.push_back(Dest);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<a class="code" href="classllvm_1_1Type.html">Type</a> *LowerTypeTestsModule::getJumpTableEntryType() {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(Int8Ty, getJumpTableEntrySize());</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;}</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">/// Given a disjoint set of type identifiers and functions, build the bit sets</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">/// and lower the llvm.type.test calls, architecture dependently.</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> LowerTypeTestsModule::buildBitSetsFromFunctions(</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Functions) {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="keywordflow">if</span> (Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648">Triple::x86</a> || Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a> || Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a8b312a985e2504366d24a2200faf37ff">Triple::arm</a> ||</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ab456eadbc2378864e9aa9e2a545a1e65">Triple::thumb</a> || Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">Triple::aarch64</a> ||</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae84559483d0c0f2bddc802ce6f76dd8b">Triple::riscv32</a> || Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae4763cb7c05a2a59ce27d51040bf4b08">Triple::riscv64</a>)</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    buildBitSetsFromFunctionsNative(TypeIds, Functions);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ac0478f40eaacc5f340e93827756e7a33">Triple::wasm32</a> || Arch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ad6b7ed7027706d2960e771c6374025b1">Triple::wasm64</a>)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    buildBitSetsFromFunctionsWASM(TypeIds, Functions);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unsupported architecture for jump tables&quot;</span>);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;}</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::moveInitializerToModuleConstructor(</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">if</span> (WeakInitializerFn == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    WeakInitializerFn = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()),</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                          <span class="comment">/* IsVarArg */</span> <span class="keyword">false</span>),</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">GlobalValue::InternalLinkage</a>,</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getProgramAddressSpace(),</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="stringliteral">&quot;__cfi_global_var_init&quot;</span>, &amp;M);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> =</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">BasicBlock::Create</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <span class="stringliteral">&quot;entry&quot;</span>, WeakInitializerFn);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <a class="code" href="classllvm_1_1ReturnInst.html#a8c4c3b7c7daea37c75c50563654bf934">ReturnInst::Create</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    WeakInitializerFn-&gt;setSection(</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        ObjectFormat == <a class="code" href="classllvm_1_1Triple.html#a83e907e55fa50e093caa96a0aff96201a2ed78f59e2d35011e1d1ed0ad96cf411">Triple::MachO</a></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            ? <span class="stringliteral">&quot;__TEXT,__StaticInit,regular,pure_instructions&quot;</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            : <span class="stringliteral">&quot;.text.startup&quot;</span>);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="comment">// This code is equivalent to relocation application, and should run at the</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">// earliest possible time (i.e. with the highest priority).</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <a class="code" href="namespacellvm.html#ac030f6d03b674c2d132fd54fb60c9f26">appendToGlobalCtors</a>(M, WeakInitializerFn, <span class="comment">/* Priority */</span> 0);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(WeakInitializerFn-&gt;getEntryBlock().getTerminator());</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a40ae67d31da67ca17ed016839faf3390">setConstant</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  IRB.CreateAlignedStore(GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a0e5946885029c1bce1350d34f2539b1b">getInitializer</a>(), GV, GV-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#a115ac0121663aa8365e095d095d0c633">getAlign</a>());</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a095f8f031d99ce3c0b25478713293dea">setInitializer</a>(<a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a29e0b1c558b350347e2652b35b26fea8">getValueType</a>()));</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;}</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::findGlobalVariableUsersOf(</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;GlobalVariable *, 8&gt;</a> &amp;Out) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *U : <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;users()){</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GV = dyn_cast&lt;GlobalVariable&gt;(U))</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      Out.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(GV);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *C2 = dyn_cast&lt;Constant&gt;(U))</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      findGlobalVariableUsersOf(C2, Out);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">// Replace all uses of F with (F ? JT : 0).</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::replaceWeakDeclarationWithJumpTablePtr(</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>, <span class="keywordtype">bool</span> IsJumpTableCanonical) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <span class="comment">// The target expression can not appear in a constant initializer on most</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="comment">// (all?) targets. Switch to a runtime initializer.</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;GlobalVariable *, 8&gt;</a> GlobalVarUsers;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  findGlobalVariableUsersOf(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, GlobalVarUsers);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *GV : GlobalVarUsers)</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    moveInitializerToModuleConstructor(GV);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="comment">// Can not RAUW F with an expression that uses F. Replace with a temporary</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="comment">// placeholder first.</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *PlaceholderFn =</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(cast&lt;FunctionType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getValueType()),</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                       <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa81fc8db28ac4af45766fbab2e79d466">GlobalValue::ExternalWeakLinkage</a>,</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                       <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAddressSpace(), <span class="stringliteral">&quot;&quot;</span>, &amp;M);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  replaceCfiUses(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, PlaceholderFn, IsJumpTableCanonical);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="classllvm_1_1Target.html">Target</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a8683922a4b3d122c3b0d7d53b1cde2ad">ConstantExpr::getSelect</a>(</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <a class="code" href="classllvm_1_1ConstantExpr.html#a68fce0638c5ec7b96b8572cad9c20488">ConstantExpr::getICmp</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                            <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getType())),</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>, <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getType()));</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  PlaceholderFn-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1Target.html">Target</a>);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  PlaceholderFn-&gt;<a class="code" href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">eraseFromParent</a>();</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;}</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#a5af65e382f22a93146221fa34dbd91eb"> 1336</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LowerTypeTests_8cpp.html#a5af65e382f22a93146221fa34dbd91eb">isThumbFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154">Triple::ArchType</a> ModuleArch) {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <a class="code" href="classllvm_1_1Attribute.html">Attribute</a> TFAttr = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFnAttribute(<span class="stringliteral">&quot;target-features&quot;</span>);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keywordflow">if</span> (TFAttr.<a class="code" href="classllvm_1_1Attribute.html#adf4d22686e85732b2fef71e3c45531c6">isValid</a>()) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 6&gt;</a> Features;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    TFAttr.<a class="code" href="classllvm_1_1Attribute.html#a968930aea9d9efa8d46dd890fce75643">getValueAsString</a>().<a class="code" href="classllvm_1_1StringRef.html#a6414735714bdbd5c8790f32a0fe99bd2">split</a>(Features, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Feature : Features) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">if</span> (Feature == <span class="stringliteral">&quot;-thumb-mode&quot;</span>)</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Feature == <span class="stringliteral">&quot;+thumb-mode&quot;</span>)</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordflow">return</span> ModuleArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ab456eadbc2378864e9aa9e2a545a1e65">Triple::thumb</a>;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;}</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;<span class="comment">// Each jump table must be either ARM or Thumb as a whole for the bit-test math</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="comment">// to work. Pick one that matches the majority of members to minimize interop</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="comment">// veneers inserted by the linker.</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154">Triple::ArchType</a></div>
<div class="line"><a name="l01356"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#afde445cbc1cfd5ed18aa94b4e3005c28"> 1356</a></span>&#160;<a class="code" href="LowerTypeTests_8cpp.html#afde445cbc1cfd5ed18aa94b4e3005c28">selectJumpTableArmEncoding</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Functions,</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                           <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154">Triple::ArchType</a> ModuleArch) {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="keywordflow">if</span> (ModuleArch != <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a8b312a985e2504366d24a2200faf37ff">Triple::arm</a> &amp;&amp; ModuleArch != <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ab456eadbc2378864e9aa9e2a545a1e65">Triple::thumb</a>)</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">return</span> ModuleArch;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordtype">unsigned</span> ArmCount = 0, ThumbCount = 0;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> GTM : Functions) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">if</span> (!GTM-&gt;isJumpTableCanonical()) {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="comment">// PLT stubs are always ARM.</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="comment">// FIXME: This is the wrong heuristic for non-canonical jump tables.</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      ++ArmCount;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = cast&lt;Function&gt;(GTM-&gt;getGlobal());</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    ++(<a class="code" href="LowerTypeTests_8cpp.html#a5af65e382f22a93146221fa34dbd91eb">isThumbFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, ModuleArch) ? ThumbCount : ArmCount);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="keywordflow">return</span> ArmCount &gt; ThumbCount ? <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a8b312a985e2504366d24a2200faf37ff">Triple::arm</a> : <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ab456eadbc2378864e9aa9e2a545a1e65">Triple::thumb</a>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;}</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::createJumpTable(</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Functions) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  std::string AsmStr, ConstraintStr;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> AsmOS(AsmStr), ConstraintOS(ConstraintStr);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 16&gt;</a> AsmArgs;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  AsmArgs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(Functions.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() * 2);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154">Triple::ArchType</a> JumpTableArch = <a class="code" href="LowerTypeTests_8cpp.html#afde445cbc1cfd5ed18aa94b4e3005c28">selectJumpTableArmEncoding</a>(Functions, Arch);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160; </div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="keywordflow">for</span> (GlobalTypeMember *GTM : Functions)</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    createJumpTableEntry(AsmOS, ConstraintOS, JumpTableArch, AsmArgs,</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                         cast&lt;Function&gt;(GTM-&gt;getGlobal()));</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="comment">// Align the whole table by entry size.</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setAlignment(<a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(getJumpTableEntrySize()));</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="comment">// Skip prologue.</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="comment">// Disabled on win32 due to https://llvm.org/bugs/show_bug.cgi?id=28641#c3.</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">// Luckily, this function does not get any prologue even without the</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="comment">// attribute.</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> != <a class="code" href="classllvm_1_1Triple.html#a3cfefc755ab656000934f91193afb1cdafd0c0a465dca43ad44f79806a226a1ae">Triple::Win32</a>)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(Attribute::Naked);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a8b312a985e2504366d24a2200faf37ff">Triple::arm</a>)</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(<span class="stringliteral">&quot;target-features&quot;</span>, <span class="stringliteral">&quot;-thumb-mode&quot;</span>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ab456eadbc2378864e9aa9e2a545a1e65">Triple::thumb</a>) {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(<span class="stringliteral">&quot;target-features&quot;</span>, <span class="stringliteral">&quot;+thumb-mode&quot;</span>);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="comment">// Thumb jump table assembly needs Thumb2. The following attribute is added</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="comment">// by Clang for -march=armv7.</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(<span class="stringliteral">&quot;target-cpu&quot;</span>, <span class="stringliteral">&quot;cortex-a8&quot;</span>);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="comment">// When -mbranch-protection= is used, the inline asm adds a BTI. Suppress BTI</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="comment">// for the function to avoid double BTI. This is a no-op without</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="comment">// -mbranch-protection=.</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">Triple::aarch64</a>) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(<span class="stringliteral">&quot;branch-target-enforcement&quot;</span>, <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(<span class="stringliteral">&quot;sign-return-address&quot;</span>, <span class="stringliteral">&quot;none&quot;</span>);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae84559483d0c0f2bddc802ce6f76dd8b">Triple::riscv32</a> || JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae4763cb7c05a2a59ce27d51040bf4b08">Triple::riscv64</a>) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="comment">// Make sure the jump table assembly is not modified by the assembler or</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="comment">// the linker.</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(<span class="stringliteral">&quot;target-features&quot;</span>, <span class="stringliteral">&quot;-c,-relax&quot;</span>);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="comment">// When -fcf-protection= is used, the inline asm adds an ENDBR. Suppress ENDBR</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="comment">// for the function to avoid double ENDBR. This is a no-op without</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="comment">// -fcf-protection=.</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="keywordflow">if</span> (JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648">Triple::x86</a> || JumpTableArch == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>)</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(Attribute::NoCfCheck);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="comment">// Make sure we don&#39;t emit .eh_frame for this function.</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addFnAttr(Attribute::NoUnwind);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">BasicBlock::Create</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <span class="stringliteral">&quot;entry&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type *, 16&gt;</a> ArgTypes;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  ArgTypes.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(AsmArgs.size());</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : AsmArgs)</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    ArgTypes.push_back(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>-&gt;getType());</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <a class="code" href="classllvm_1_1InlineAsm.html">InlineAsm</a> *JumpTableAsm =</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <a class="code" href="classllvm_1_1InlineAsm.html#a44dec91bb943f56f8bba3e9171a76947">InlineAsm::get</a>(<a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(IRB.getVoidTy(), ArgTypes, <span class="keyword">false</span>),</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                     AsmOS.str(), ConstraintOS.str(),</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                     <span class="comment">/*hasSideEffects=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  IRB.CreateCall(JumpTableAsm, AsmArgs);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  IRB.CreateUnreachable();</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;}</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="comment">/// Given a disjoint set of type identifiers and functions, build a jump table</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="comment">/// for the functions, build the bit sets and lower the llvm.type.test calls.</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> LowerTypeTestsModule::buildBitSetsFromFunctionsNative(</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Functions) {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <span class="comment">// Unlike the global bitset builder, the function bitset builder cannot</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="comment">// re-arrange functions in a particular order and base its calculations on the</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="comment">// layout of the functions&#39; entry points, as we have no idea how large a</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="comment">// particular function will end up being (the size could even depend on what</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// this pass does!) Instead, we build a jump table, which is a block of code</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// consisting of one branch instruction for each of the functions in the bit</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="comment">// set that branches to the target function, and redirect any taken function</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="comment">// addresses to the corresponding jump table entry. In the object file&#39;s</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="comment">// symbol table, the symbols for the target functions also refer to the jump</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="comment">// table entries, so that addresses taken outside the module will pass any</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="comment">// verification done inside the module.</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="comment">// In more concrete terms, suppose we have three functions f, g, h which are</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// of the same type, and a function foo that returns their addresses:</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="comment">// f:</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="comment">// mov 0, %eax</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="comment">// ret</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="comment">// g:</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="comment">// mov 1, %eax</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="comment">// ret</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="comment">// h:</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="comment">// mov 2, %eax</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="comment">// ret</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="comment">// foo:</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="comment">// mov f, %eax</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">// mov g, %edx</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="comment">// mov h, %ecx</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="comment">// ret</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="comment">// We output the jump table as module-level inline asm string. The end result</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="comment">// will (conceptually) look like this:</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="comment">// f = .cfi.jumptable</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="comment">// g = .cfi.jumptable + 4</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="comment">// h = .cfi.jumptable + 8</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="comment">// .cfi.jumptable:</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="comment">// jmp f.cfi  ; 5 bytes</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="comment">// int3       ; 1 byte</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="comment">// int3       ; 1 byte</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">// int3       ; 1 byte</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="comment">// jmp g.cfi  ; 5 bytes</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="comment">// int3       ; 1 byte</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="comment">// int3       ; 1 byte</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="comment">// int3       ; 1 byte</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">// jmp h.cfi  ; 5 bytes</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="comment">// int3       ; 1 byte</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">// int3       ; 1 byte</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="comment">// int3       ; 1 byte</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="comment">// f.cfi:</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="comment">// mov 0, %eax</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="comment">// ret</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="comment">// g.cfi:</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">// mov 1, %eax</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">// ret</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// h.cfi:</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="comment">// mov 2, %eax</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">// ret</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">// foo:</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="comment">// mov f, %eax</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="comment">// mov g, %edx</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">// mov h, %ecx</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="comment">// ret</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="comment">// Because the addresses of f, g, h are evenly spaced at a power of 2, in the</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="comment">// normal case the check can be carried out using the same kind of simple</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="comment">// arithmetic that we normally use for globals.</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// FIXME: find a better way to represent the jumptable in the IR.</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Functions.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>());</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="comment">// Build a simple layout based on the regular layout of jump tables.</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalTypeMember *, uint64_t&gt;</a> GlobalLayout;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordtype">unsigned</span> EntrySize = getJumpTableEntrySize();</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Functions.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    GlobalLayout[Functions[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]] = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> * EntrySize;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *JumpTableFn =</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(<a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()),</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                                         <span class="comment">/* IsVarArg */</span> <span class="keyword">false</span>),</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                       <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>,</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                       <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getProgramAddressSpace(),</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                       <span class="stringliteral">&quot;.cfi.jumptable&quot;</span>, &amp;M);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5c">JumpTableType</a> =</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(getJumpTableEntryType(), Functions.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>());</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keyword">auto</span> <a class="code" href="Relocation_8txt.html#a1be10f7c91239ede3800a93ecb136a94">JumpTable</a> =</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <a class="code" href="classllvm_1_1ConstantExpr.html#a1f469b1f703519ae25ce564c8704310f">ConstantExpr::getPointerCast</a>(JumpTableFn, <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5c">JumpTableType</a>-&gt;getPointerTo(0));</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  lowerTypeTestCalls(TypeIds, <a class="code" href="Relocation_8txt.html#a1be10f7c91239ede3800a93ecb136a94">JumpTable</a>, GlobalLayout);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    ScopedSaveAliaseesAndUsed <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>(M);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="comment">// Build aliases pointing to offsets into the jump table, and replace</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="comment">// references to the original functions with references to the aliases.</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Functions.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = cast&lt;Function&gt;(Functions[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;getGlobal());</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="keywordtype">bool</span> IsJumpTableCanonical = Functions[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;isJumpTableCanonical();</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160; </div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CombinedGlobalElemPtr = <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;          <a class="code" href="classllvm_1_1ConstantExpr.html#a5fb870e87103d4942f5b405e7b8d9d4e">ConstantExpr::getInBoundsGetElementPtr</a>(</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;              <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5c">JumpTableType</a>, <a class="code" href="Relocation_8txt.html#a1be10f7c91239ede3800a93ecb136a94">JumpTable</a>,</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;              <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Constant *&gt;</a>{<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, 0),</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                                   <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)}),</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getType());</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160; </div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> IsExported = Functions[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;isExported();</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      <span class="keywordflow">if</span> (!IsJumpTableCanonical) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a">LT</a> = IsExported</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                           ? <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                                           : <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">GlobalValue::InternalLinkage</a>;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *JtAlias = <a class="code" href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">GlobalAlias::create</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getValueType(), 0, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a">LT</a>,</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                                                   <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() + <span class="stringliteral">&quot;.cfi_jt&quot;</span>,</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                                                   CombinedGlobalElemPtr, &amp;M);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <span class="keywordflow">if</span> (IsExported)</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;          JtAlias-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;          <a class="code" href="namespacellvm.html#ae879dd14ccc28696f3d8c7b484df3c9a">appendToUsed</a>(M, {JtAlias});</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <span class="keywordflow">if</span> (IsExported) {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <span class="keywordflow">if</span> (IsJumpTableCanonical)</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;          ExportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a305e214b4045b261a3a9b3ca39ff5acb">cfiFunctionDefs</a>().insert(std::string(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName()));</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;          ExportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#aa4d726e91e8c89006e4c14581e7a463c">cfiFunctionDecls</a>().insert(std::string(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName()));</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <span class="keywordflow">if</span> (!IsJumpTableCanonical) {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExternalWeakLinkage())</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;          replaceWeakDeclarationWithJumpTablePtr(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, CombinedGlobalElemPtr,</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                                                 IsJumpTableCanonical);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;          replaceCfiUses(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, CombinedGlobalElemPtr, IsJumpTableCanonical);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getType()-&gt;getAddressSpace() == 0);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *FAlias =</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <a class="code" href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">GlobalAlias::create</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getValueType(), 0, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getLinkage(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                                CombinedGlobalElemPtr, &amp;M);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        FAlias-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getVisibility());</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        FAlias-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="keywordflow">if</span> (FAlias-&gt;<a class="code" href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">hasName</a>())</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setName(FAlias-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.cfi&quot;</span>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        replaceCfiUses(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, FAlias, IsJumpTableCanonical);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasLocalLinkage())</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setVisibility(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalVariable::HiddenVisibility</a>);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  createJumpTable(JumpTableFn, Functions);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;}</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment">/// Assign a dummy layout using an incrementing counter, tag each function</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="comment">/// with its index represented as metadata, and lower each type test to an</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment">/// integer range comparison. During generation of the indirect function call</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">/// table in the backend, it will assign the given indexes.</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment">/// Note: Dynamic linking is not supported, as the WebAssembly ABI has not yet</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment">/// been finalized.</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> LowerTypeTestsModule::buildBitSetsFromFunctionsWASM(</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Functions) {</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Functions.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>());</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="comment">// Build consecutive monotonic integer ranges for each call target set</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalTypeMember *, uint64_t&gt;</a> GlobalLayout;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="keywordflow">for</span> (GlobalTypeMember *GTM : Functions) {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = cast&lt;Function&gt;(GTM-&gt;getGlobal());</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="comment">// Skip functions that are not address taken, to avoid bloating the table</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasAddressTaken())</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="comment">// Store metadata with the index for each function</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getContext(),</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                             <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a>(<a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                                 <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int64Ty, IndirectIndex))));</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setMetadata(<span class="stringliteral">&quot;wasm.index&quot;</span>, MD);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160; </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="comment">// Assign the counter value</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    GlobalLayout[GTM] = IndirectIndex++;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <span class="comment">// The indirect function table index space starts at zero, so pass a NULL</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="comment">// pointer as the subtracted &quot;jump table&quot; offset.</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  lowerTypeTestCalls(TypeIds, <a class="code" href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">ConstantPointerNull::get</a>(Int32PtrTy),</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                     GlobalLayout);</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;}</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::buildBitSetsFromDisjointSet(</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> TypeIds, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;GlobalTypeMember *&gt;</a> Globals,</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;ICallBranchFunnel *&gt;</a> ICallBranchFunnels) {</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Metadata *, uint64_t&gt;</a> TypeIdIndices;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != TypeIds.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    TypeIdIndices[TypeIds[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]] = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">// For each type identifier, build a set of indices that refer to members of</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="comment">// the type identifier.</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  std::vector&lt;std::set&lt;uint64_t&gt;&gt; TypeMembers(TypeIds.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>());</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keywordtype">unsigned</span> GlobalIndex = 0;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalTypeMember *, uint64_t&gt;</a> GlobalIndices;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">for</span> (GlobalTypeMember *GTM : Globals) {</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Type.html">Type</a> : GTM-&gt;types()) {</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <span class="comment">// Type = { offset, type identifier }</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = TypeIdIndices.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != TypeIdIndices.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        TypeMembers[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second].insert(GlobalIndex);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    }</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    GlobalIndices[GTM] = GlobalIndex;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    GlobalIndex++;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordflow">for</span> (ICallBranchFunnel *<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a> : ICallBranchFunnels) {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    TypeMembers.emplace_back();</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    std::set&lt;uint64_t&gt; &amp;TMSet = TypeMembers.back();</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordflow">for</span> (GlobalTypeMember *<a class="code" href="classT.html">T</a> : <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>-&gt;targets())</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      TMSet.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(GlobalIndices[<a class="code" href="classT.html">T</a>]);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  }</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="comment">// Order the sets of indices by size. The GlobalLayoutBuilder works best</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="comment">// when given small index sets first.</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <a class="code" href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a>(TypeMembers, [](<span class="keyword">const</span> std::set&lt;uint64_t&gt; &amp;O1,</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                                    <span class="keyword">const</span> std::set&lt;uint64_t&gt; &amp;O2) {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">return</span> O1.size() &lt; O2.size();</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  });</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="comment">// Create a GlobalLayoutBuilder and provide it with index sets as layout</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="comment">// fragments. The GlobalLayoutBuilder tries to lay out members of fragments as</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <span class="comment">// close together as possible.</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <a class="code" href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html">GlobalLayoutBuilder</a> GLB(Globals.size());</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;MemSet : TypeMembers)</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    GLB.addFragment(MemSet);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160; </div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <span class="comment">// Build a vector of globals with the computed layout.</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordtype">bool</span> IsGlobalSet =</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      Globals.empty() || isa&lt;GlobalVariable&gt;(Globals[0]-&gt;getGlobal());</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  std::vector&lt;GlobalTypeMember *&gt; OrderedGTMs(Globals.size());</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keyword">auto</span> OGTMI = OrderedGTMs.begin();</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : GLB.Fragments) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;Offset : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="keywordflow">if</span> (IsGlobalSet != isa&lt;GlobalVariable&gt;(Globals[Offset]-&gt;getGlobal()))</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Type identifier may not contain both global &quot;</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                           <span class="stringliteral">&quot;variables and functions&quot;</span>);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      *OGTMI++ = Globals[<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">Offset</a>];</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="comment">// Build the bitsets from this disjoint set.</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <span class="keywordflow">if</span> (IsGlobalSet)</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    buildBitSetsFromGlobalVariables(TypeIds, OrderedGTMs);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    buildBitSetsFromFunctions(TypeIds, OrderedGTMs);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;}</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="comment">/// Lower all type tests in this module.</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="comment"></span>LowerTypeTestsModule::LowerTypeTestsModule(</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary,</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ImportSummary, <span class="keywordtype">bool</span> DropTypeTests)</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>), ExportSummary(ExportSummary), ImportSummary(ImportSummary),</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      DropTypeTests(DropTypeTests || <a class="code" href="LowerTypeTests_8cpp.html#afc04614275d7675c9f2ec7d52949616f">ClDropTypeTests</a>) {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(ExportSummary &amp;&amp; ImportSummary));</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <a class="code" href="classllvm_1_1Triple.html">Triple</a> TargetTriple(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getTargetTriple());</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  Arch = TargetTriple.getArch();</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> = TargetTriple.getOS();</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  ObjectFormat = TargetTriple.getObjectFormat();</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;}</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160; </div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="keywordtype">bool</span> LowerTypeTestsModule::runForTesting(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>(<span class="comment">/*HaveGVs=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="comment">// Handle the command-line summary arguments. This code is for testing</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <span class="comment">// purposes only, so we handle errors directly.</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="LowerTypeTests_8cpp.html#a241ee8946388bbae296f61bfe884f5e5">ClReadSummary</a>.empty()) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <a class="code" href="classllvm_1_1ExitOnError.html">ExitOnError</a> ExitOnErr(<span class="stringliteral">&quot;-lowertypetests-read-summary: &quot;</span> + <a class="code" href="LowerTypeTests_8cpp.html#a241ee8946388bbae296f61bfe884f5e5">ClReadSummary</a> +</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                          <span class="stringliteral">&quot;: &quot;</span>);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keyword">auto</span> ReadSummaryFile =</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        ExitOnErr(<a class="code" href="namespacellvm.html#a2c35a79774d2952408b854ec6fef10f3">errorOrToExpected</a>(MemoryBuffer::getFile(<a class="code" href="LowerTypeTests_8cpp.html#a241ee8946388bbae296f61bfe884f5e5">ClReadSummary</a>)));</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160; </div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    yaml::Input <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>(ReadSummaryFile-&gt;getBuffer());</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a> &gt;&gt; <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    ExitOnErr(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.error()));</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  }</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  <span class="keywordtype">bool</span> Changed =</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      LowerTypeTestsModule(</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="LowerTypeTests_8cpp.html#a8a3cff2affdcf97cdb1111c7f03aa2c7">ClSummaryAction</a> == PassSummaryAction::Export ? &amp;Summary : <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;          <a class="code" href="LowerTypeTests_8cpp.html#a8a3cff2affdcf97cdb1111c7f03aa2c7">ClSummaryAction</a> == PassSummaryAction::Import ? &amp;Summary : <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;          <span class="comment">/*DropTypeTests*/</span> <span class="keyword">false</span>)</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;          .lower();</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="LowerTypeTests_8cpp.html#a313a37b081417cd4f6d4462d431a9a3c">ClWriteSummary</a>.empty()) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="classllvm_1_1ExitOnError.html">ExitOnError</a> ExitOnErr(<span class="stringliteral">&quot;-lowertypetests-write-summary: &quot;</span> + <a class="code" href="LowerTypeTests_8cpp.html#a313a37b081417cd4f6d4462d431a9a3c">ClWriteSummary</a> +</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                          <span class="stringliteral">&quot;: &quot;</span>);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    std::error_code <a class="code" href="namespacellvm_1_1codeview.html#a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b">EC</a>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <a class="code" href="classllvm_1_1raw__fd__ostream.html">raw_fd_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>(<a class="code" href="LowerTypeTests_8cpp.html#a313a37b081417cd4f6d4462d431a9a3c">ClWriteSummary</a>, EC, <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695ab505c2c79499fbe180989bffbf108a50">sys::fs::OF_TextWithCRLF</a>);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    ExitOnErr(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(EC));</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    yaml::Output Out(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    Out &lt;&lt; <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;}</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#acc6db68a2780c037468a25fd3f493b9a"> 1757</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LowerTypeTests_8cpp.html#acc6db68a2780c037468a25fd3f493b9a">isDirectCall</a>(<a class="code" href="classllvm_1_1Use.html">Use</a>&amp; U) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="keyword">auto</span> *Usr = dyn_cast&lt;CallInst&gt;(U.<a class="code" href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">getUser</a>());</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="keywordflow">if</span> (Usr) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(Usr);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">if</span> (CB &amp;&amp; CB-&gt;isCallee(&amp;U))</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  }</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;}</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::replaceCfiUses(<a class="code" href="classllvm_1_1Function.html">Function</a> *Old, <a class="code" href="classllvm_1_1Value.html">Value</a> *New,</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                                          <span class="keywordtype">bool</span> IsJumpTableCanonical) {</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Constant *, 4&gt;</a> <a class="code" href="namespacellvm_1_1dwarf.html#ab4fde659cfd2ad21ef1920dca7f22255">Constants</a>;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(Old-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>())) {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="comment">// Skip block addresses and no_cfi values, which refer to the function</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="comment">// body instead of the jump table.</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">if</span> (isa&lt;BlockAddress, NoCFIValue&gt;(U.getUser()))</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="comment">// Skip direct calls to externally defined or non-dso_local functions</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="LowerTypeTests_8cpp.html#acc6db68a2780c037468a25fd3f493b9a">isDirectCall</a>(U) &amp;&amp; (Old-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a19db81b6f3d3ab342972dce7756fb077">isDSOLocal</a>() || !IsJumpTableCanonical))</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="comment">// Must handle Constants specially, we cannot call replaceUsesOfWith on a</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="comment">// constant because they are uniqued.</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(U.getUser())) {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;GlobalValue&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="comment">// Save unique users to avoid processing operand replacement</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <span class="comment">// more than once.</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <a class="code" href="namespacellvm_1_1dwarf.html#ab4fde659cfd2ad21ef1920dca7f22255">Constants</a>.insert(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      }</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    }</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    U.set(New);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="comment">// Process operand replacement of saved constants.</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : <a class="code" href="namespacellvm_1_1dwarf.html#ab4fde659cfd2ad21ef1920dca7f22255">Constants</a>)</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;handleOperandChange(Old, New);</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;}</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160; </div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="keywordtype">void</span> LowerTypeTestsModule::replaceDirectCalls(<a class="code" href="classllvm_1_1Value.html">Value</a> *Old, <a class="code" href="classllvm_1_1Value.html">Value</a> *New) {</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  Old-&gt;<a class="code" href="classllvm_1_1Value.html#a7e8dad1701aa6445be4a29f654b0473c">replaceUsesWithIf</a>(New, <a class="code" href="LowerTypeTests_8cpp.html#acc6db68a2780c037468a25fd3f493b9a">isDirectCall</a>);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;}</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160; </div>
<div class="line"><a name="l01803"></a><span class="lineno"><a class="line" href="LowerTypeTests_8cpp.html#a8de09bb8988d2414b617ed428bde4514"> 1803</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="LowerTypeTests_8cpp.html#a8de09bb8988d2414b617ed428bde4514">dropTypeTests</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;TypeTestFunc) {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(TypeTestFunc.<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>())) {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="keyword">auto</span> *CI = cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="comment">// Find and erase llvm.assume intrinsics for this llvm.type.test call.</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;CIU : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()))</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Assume = dyn_cast&lt;AssumeInst&gt;(CIU.getUser()))</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        Assume-&gt;eraseFromParent();</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="comment">// If the assume was merged with another assume, we might have a use on a</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="comment">// phi (which will feed the assume). Simply replace the use on the phi</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="comment">// with &quot;true&quot; and leave the merged assume.</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>()) {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;          <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>(), [](<a class="code" href="classllvm_1_1User.html">User</a> *U) -&gt; <span class="keywordtype">bool</span> { return isa&lt;PHINode&gt;(U); }));</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">ConstantInt::getTrue</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()));</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    }</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  }</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;}</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="keywordtype">bool</span> LowerTypeTestsModule::lower() {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *TypeTestFunc =</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">Intrinsic::getName</a>(Intrinsic::type_test));</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="keywordflow">if</span> (DropTypeTests) {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">if</span> (TypeTestFunc)</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <a class="code" href="LowerTypeTests_8cpp.html#a8de09bb8988d2414b617ed428bde4514">dropTypeTests</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, *TypeTestFunc);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="comment">// Normally we&#39;d have already removed all @llvm.public.type.test calls,</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="comment">// except for in the case where we originally were performing ThinLTO but</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="comment">// decided not to in the backend.</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *PublicTypeTestFunc =</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">Intrinsic::getName</a>(Intrinsic::public_type_test));</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">if</span> (PublicTypeTestFunc)</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <a class="code" href="LowerTypeTests_8cpp.html#a8de09bb8988d2414b617ed428bde4514">dropTypeTests</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, *PublicTypeTestFunc);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="keywordflow">if</span> (TypeTestFunc || PublicTypeTestFunc) {</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <span class="comment">// We have deleted the type intrinsics, so we no longer have enough</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      <span class="comment">// information to reason about the liveness of virtual function pointers</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      <span class="comment">// in GlobalDCE.</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> &amp;GV : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals())</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        GV.<a class="code" href="classllvm_1_1GlobalObject.html#a9d88e21e9caa53945e903fd8c8700b4f">eraseMetadata</a>(LLVMContext::MD_vcall_visibility);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  }</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="comment">// If only some of the modules were split, we cannot correctly perform</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="comment">// this transformation. We already checked for the presense of type tests</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="comment">// with partially split modules during the thin link, and would have emitted</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="comment">// an error if any were found, so here we can simply return.</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordflow">if</span> ((ExportSummary &amp;&amp; ExportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a789cb293a347a50218bd41a96ae4c914">partiallySplitLTOUnits</a>()) ||</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      (ImportSummary &amp;&amp; ImportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a789cb293a347a50218bd41a96ae4c914">partiallySplitLTOUnits</a>()))</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160; </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *ICallBranchFunnelFunc =</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">Intrinsic::getName</a>(Intrinsic::icall_branch_funnel));</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="keywordflow">if</span> ((!TypeTestFunc || TypeTestFunc-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>()) &amp;&amp;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      (!ICallBranchFunnelFunc || ICallBranchFunnelFunc-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>()) &amp;&amp;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      !ExportSummary &amp;&amp; !ImportSummary)</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160; </div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="keywordflow">if</span> (ImportSummary) {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">if</span> (TypeTestFunc)</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(TypeTestFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()))</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        importTypeTest(cast&lt;CallInst&gt;(U.getUser()));</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160; </div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">if</span> (ICallBranchFunnelFunc &amp;&amp; !ICallBranchFunnelFunc-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>())</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;          <span class="stringliteral">&quot;unexpected call to llvm.icall.branch.funnel during import phase&quot;</span>);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Function *, 8&gt;</a> Defs;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Function *, 8&gt;</a> Decls;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="comment">// CFI functions are either external, or promoted. A local function may</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="comment">// have the same name, but it&#39;s not the one we are looking for.</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasLocalLinkage())</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      <span class="keywordflow">if</span> (ImportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a305e214b4045b261a3a9b3ca39ff5acb">cfiFunctionDefs</a>().count(std::string(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName())))</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        Defs.push_back(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ImportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#aa4d726e91e8c89006e4c14581e7a463c">cfiFunctionDecls</a>().count(</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                   std::string(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName())))</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        Decls.push_back(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    }</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    std::vector&lt;GlobalAlias *&gt; AliasesToErase;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      ScopedSaveAliaseesAndUsed <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : Defs)</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        importFunction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="comment">/*isJumpTableCanonical*/</span> <span class="keyword">true</span>, AliasesToErase);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : Decls)</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        importFunction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="comment">/*isJumpTableCanonical*/</span> <span class="keyword">false</span>, AliasesToErase);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    }</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA : AliasesToErase)</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      GA-&gt;<a class="code" href="classllvm_1_1GlobalAlias.html#a09b07d472515f1d307c0e8229f6856fb">eraseFromParent</a>();</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160; </div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  }</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="comment">// Equivalence class set containing type identifiers and the globals that</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <span class="comment">// reference them. This is used to partition the set of type identifiers in</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <span class="comment">// the module into disjoint sets.</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keyword">using</span> GlobalClassesTy = <a class="code" href="classllvm_1_1EquivalenceClasses.html">EquivalenceClasses</a>&lt;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <a class="code" href="classllvm_1_1PointerUnion.html">PointerUnion&lt;GlobalTypeMember *, Metadata *, ICallBranchFunnel *&gt;</a>&gt;;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  GlobalClassesTy GlobalClasses;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; </div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <span class="comment">// Verify the type metadata and build a few data structures to let us</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="comment">// efficiently enumerate the type identifiers associated with a global:</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="comment">// a list of GlobalTypeMembers (a GlobalObject stored alongside a vector</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <span class="comment">// of associated type metadata) and a mapping from type identifiers to their</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <span class="comment">// list of GlobalTypeMembers and last observed index in the list of globals.</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="comment">// The indices will be used later to deterministically order the list of type</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <span class="comment">// identifiers.</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html">BumpPtrAllocator</a> Alloc;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keyword">struct </span>TIInfo {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordtype">unsigned</span> UniqueId;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    std::vector&lt;GlobalTypeMember *&gt; RefGlobals;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  };</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Metadata *, TIInfo&gt;</a> TypeIdInfo;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  <span class="keywordtype">unsigned</span> CurUniqueId = 0;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 2&gt;</a> <a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160; </div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="comment">// Cross-DSO CFI emits jumptable entries for exported functions as well as</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="comment">// address taken functions in case they are address taken in other modules.</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> CrossDsoCfi = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleFlag(<span class="stringliteral">&quot;Cross-DSO CFI&quot;</span>) != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keyword">struct </span>ExportedFunctionInfo {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6">CfiFunctionLinkage</a> <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a>;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *FuncMD; <span class="comment">// {name, linkage, type[, type...]}</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  };</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;StringRef, ExportedFunctionInfo&gt;</a> ExportedFunctions;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="keywordflow">if</span> (ExportSummary) {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="comment">// A set of all functions that are address taken by a live global object.</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> AddressTaken;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *ExportSummary)</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;GVS : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.SummaryList)</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        <span class="keywordflow">if</span> (GVS-&gt;isLive())</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ref : GVS-&gt;refs())</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            AddressTaken.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>.getGUID());</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *CfiFunctionsMD = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;cfi.functions&quot;</span>);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <span class="keywordflow">if</span> (CfiFunctionsMD) {</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *FuncMD : CfiFunctionsMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acfe76fbea7879969fb26502ea5ffba97">operands</a>()) {</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FuncMD-&gt;getNumOperands() &gt;= 2);</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FunctionName =</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;            cast&lt;MDString&gt;(FuncMD-&gt;getOperand(0))-&gt;getString();</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6">CfiFunctionLinkage</a> <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6">CfiFunctionLinkage</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;            cast&lt;ConstantAsMetadata&gt;(FuncMD-&gt;getOperand(1))</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                -&gt;getValue()</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                -&gt;getUniqueInteger()</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                .getZExtValue());</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a> GUID = GlobalValue::getGUID(</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                GlobalValue::dropLLVMManglingEscape(FunctionName));</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        <span class="comment">// Do not emit jumptable entries for functions that are not-live and</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        <span class="comment">// have no live references (and are not exported with cross-DSO CFI.)</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        <span class="keywordflow">if</span> (!ExportSummary-&gt;isGUIDLive(GUID))</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        <span class="keywordflow">if</span> (!AddressTaken.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(GUID)) {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;          <span class="keywordflow">if</span> (!CrossDsoCfi || <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a> != <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1">CFL_Definition</a>)</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160; </div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;          <span class="keywordtype">bool</span> Exported = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> = ExportSummary-&gt;getValueInfo(GUID))</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;GVS : <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>.getSummaryList())</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;              <span class="keywordflow">if</span> (GVS-&gt;isLive() &amp;&amp; !GlobalValue::isLocalLinkage(GVS-&gt;linkage()))</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                Exported = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160; </div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;          <span class="keywordflow">if</span> (!Exported)</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        }</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        <span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = ExportedFunctions.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({FunctionName, {<a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a>, FuncMD}});</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second &amp;&amp; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first-&gt;second.Linkage != <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1">CFL_Definition</a>)</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;          <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first-&gt;second = {<a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a>, FuncMD};</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      }</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : ExportedFunctions) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FunctionName = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6">CfiFunctionLinkage</a> <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.Linkage;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *FuncMD = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.FuncMD;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(FunctionName);</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasLocalLinkage()) {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;          <span class="comment">// Locally defined function that happens to have the same name as a</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;          <span class="comment">// function defined in a ThinLTO module. Rename it to move it out of</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;          <span class="comment">// the way of the external reference that we&#39;re about to create.</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;          <span class="comment">// Note that setName will find a unique name for the function, so even</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;          <span class="comment">// if there is an existing function with the suffix there won&#39;t be a</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;          <span class="comment">// name collision.</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setName(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() + <span class="stringliteral">&quot;.1&quot;</span>);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160; </div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = Function::Create(</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;              <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FunctionType::get</a>(Type::getVoidTy(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()), <span class="keyword">false</span>),</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;              GlobalVariable::ExternalLinkage,</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;              <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getProgramAddressSpace(), FunctionName, &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        <span class="comment">// If the function is available_externally, remove its definition so</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        <span class="comment">// that it is handled the same way as a declaration. Later we will try</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        <span class="comment">// to create an alias using this function&#39;s linkage, which will fail if</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        <span class="comment">// the linkage is available_externally. This will also result in us</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <span class="comment">// following the code path below to replace the type metadata.</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasAvailableExternallyLinkage()) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setLinkage(GlobalValue::ExternalLinkage);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;deleteBody();</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setComdat(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;clearMetadata();</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        }</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160; </div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        <span class="comment">// Update the linkage for extern_weak declarations when a definition</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <span class="comment">// exists.</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a> == <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1">CFL_Definition</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExternalWeakLinkage())</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setLinkage(GlobalValue::ExternalLinkage);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160; </div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        <span class="comment">// If the function in the full LTO module is a declaration, replace its</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        <span class="comment">// type metadata with the type metadata we found in cfi.functions. That</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        <span class="comment">// metadata is presumed to be more accurate than the metadata attached</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <span class="comment">// to the declaration.</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration()) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a> == <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a2c774a7021d843a45dccfa54a21fa83b">CFL_WeakDeclaration</a>)</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;            <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setLinkage(GlobalValue::ExternalWeakLinkage);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160; </div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;eraseMetadata(LLVMContext::MD_type);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 2; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; FuncMD-&gt;<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;            <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addMetadata(LLVMContext::MD_type,</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                           *cast&lt;MDNode&gt;(FuncMD-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).<a class="code" href="classllvm_1_1MDOperand.html#a6cc775e9d3dc3b6ea29c37e42f71d907">get</a>()));</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        }</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      }</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    }</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  }</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160; </div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalObject *, GlobalTypeMember *&gt;</a> GlobalTypeMembers;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> &amp;GO : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.global_objects()) {</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordflow">if</span> (isa&lt;GlobalVariable&gt;(GO) &amp;&amp; GO.<a class="code" href="classllvm_1_1GlobalValue.html#a6b66f492cbea5f4b4f434d7178477116">isDeclarationForLinker</a>())</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160; </div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>.clear();</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    GO.<a class="code" href="classllvm_1_1GlobalObject.html#a61a186a60c64a2a5225db9944eaf7df8">getMetadata</a>(LLVMContext::MD_type, Types);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160; </div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="keywordtype">bool</span> IsJumpTableCanonical = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="keywordtype">bool</span> IsExported = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(&amp;GO)) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      IsJumpTableCanonical = <a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">isJumpTableCanonical</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="keywordflow">if</span> (ExportedFunctions.count(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName())) {</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        IsJumpTableCanonical |=</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            ExportedFunctions[<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName()].Linkage == <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1">CFL_Definition</a>;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        IsExported = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="comment">// TODO: The logic here checks only that the function is address taken,</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <span class="comment">// not that the address takers are live. This can be updated to check</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      <span class="comment">// their liveness and emit fewer jumptable entries once monolithic LTO</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <span class="comment">// builds also emit summaries.</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasAddressTaken()) {</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        <span class="keywordflow">if</span> (!CrossDsoCfi || !IsJumpTableCanonical || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasLocalLinkage())</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      }</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    }</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160; </div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keyword">auto</span> *GTM = GlobalTypeMember::create(Alloc, &amp;GO, IsJumpTableCanonical,</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                                         IsExported, Types);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    GlobalTypeMembers[&amp;GO] = GTM;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Type.html">Type</a> : Types) {</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      verifyTypeMDNode(&amp;GO, <a class="code" href="classllvm_1_1Type.html">Type</a>);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      <span class="keyword">auto</span> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = TypeIdInfo[<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getOperand(1)];</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.UniqueId = ++CurUniqueId;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.RefGlobals.push_back(GTM);</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    }</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  }</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="keyword">auto</span> AddTypeIdUse = [&amp;](<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId) -&gt; TypeIdUserInfo &amp; {</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="comment">// Add the call site to the list of call sites for this type identifier. We</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="comment">// also use TypeIdUsers to keep track of whether we have seen this type</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="comment">// identifier before. If we have, we don&#39;t need to re-add the referenced</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="comment">// globals to the equivalence class.</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a> = TypeIdUsers.insert({TypeId, {}});</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a>.second) {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      <span class="comment">// Add the type identifier to the equivalence class.</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      GlobalClassesTy::iterator GCI = GlobalClasses.insert(TypeId);</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      GlobalClassesTy::member_iterator CurSet = GlobalClasses.findLeader(GCI);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <span class="comment">// Add the referenced globals to the type identifier&#39;s equivalence class.</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <span class="keywordflow">for</span> (GlobalTypeMember *GTM : TypeIdInfo[TypeId].RefGlobals)</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        CurSet = GlobalClasses.unionSets(</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;            CurSet, GlobalClasses.findLeader(GlobalClasses.insert(GTM)));</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160; </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a>.first-&gt;second;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  };</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="keywordflow">if</span> (TypeTestFunc) {</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : TypeTestFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      <span class="keyword">auto</span> CI = cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;      <span class="comment">// If this type test is only used by llvm.assume instructions, it</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      <span class="comment">// was used for whole program devirtualization, and is being kept</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;      <span class="comment">// for use by other optimization passes. We do not need or want to</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      <span class="comment">// lower it here. We also don&#39;t want to rewrite any associated globals</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      <span class="comment">// unnecessarily. These will be removed by a subsequent LTT invocation</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="comment">// with the DropTypeTests flag set.</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;      <span class="keywordtype">bool</span> OnlyAssumeUses = !CI-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>();</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;CIU : CI-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        <span class="keywordflow">if</span> (isa&lt;AssumeInst&gt;(CIU.getUser()))</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        OnlyAssumeUses = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;      }</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      <span class="keywordflow">if</span> (OnlyAssumeUses)</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160; </div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      <span class="keyword">auto</span> TypeIdMDVal = dyn_cast&lt;MetadataAsValue&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;      <span class="keywordflow">if</span> (!TypeIdMDVal)</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Second argument of llvm.type.test must be metadata&quot;</span>);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;      <span class="keyword">auto</span> TypeId = TypeIdMDVal-&gt;getMetadata();</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      AddTypeIdUse(TypeId).CallSites.push_back(CI);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    }</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160; </div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="keywordflow">if</span> (ICallBranchFunnelFunc) {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : ICallBranchFunnelFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      <span class="keywordflow">if</span> (Arch != Triple::x86_64)</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;            <span class="stringliteral">&quot;llvm.icall.branch.funnel not supported on this target&quot;</span>);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160; </div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      <span class="keyword">auto</span> CI = cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      std::vector&lt;GlobalTypeMember *&gt; Targets;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() % 2 != 1)</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;number of arguments should be odd&quot;</span>);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;      GlobalClassesTy::member_iterator CurSet;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> += 2) {</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        int64_t <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = dyn_cast&lt;GlobalObject&gt;(<a class="code" href="namespacellvm.html#afc6337ef6e00f6bebd44d81b685d655f">GetPointerBaseWithConstantOffset</a>(</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;            CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout()));</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>)</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;          <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;              <span class="stringliteral">&quot;Expected branch funnel operand to be global value&quot;</span>);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        GlobalTypeMember *GTM = GlobalTypeMembers[<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>];</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        Targets.push_back(GTM);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        GlobalClassesTy::member_iterator NewSet =</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;            GlobalClasses.findLeader(GlobalClasses.insert(GTM));</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == 1)</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;          CurSet = NewSet;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;          CurSet = GlobalClasses.unionSets(CurSet, NewSet);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      }</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160; </div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      GlobalClasses.unionSets(</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;          CurSet, GlobalClasses.findLeader(</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                      GlobalClasses.insert(ICallBranchFunnel::create(</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                          Alloc, CI, Targets, ++CurUniqueId))));</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  }</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <span class="keywordflow">if</span> (ExportSummary) {</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalValue::GUID, TinyPtrVector&lt;Metadata *&gt;</a>&gt; MetadataByGUID;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : TypeIdInfo) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *TypeId = dyn_cast&lt;MDString&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first))</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;        MetadataByGUID[GlobalValue::getGUID(TypeId-&gt;getString())].push_back(</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;            TypeId);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    }</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : *ExportSummary) {</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.SummaryList) {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        <span class="keywordflow">if</span> (!ExportSummary-&gt;isGlobalValueLive(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.get()))</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> = dyn_cast&lt;FunctionSummary&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getBaseObject()))</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalValue.html#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a> <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a> : <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;type_tests())</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD : MetadataByGUID[<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>])</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;              AddTypeIdUse(MD).IsExported = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      }</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  }</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160; </div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="keywordflow">if</span> (GlobalClasses.empty())</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160; </div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <span class="comment">// Build a list of disjoint sets ordered by their maximum global index for</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="comment">// determinism.</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  std::vector&lt;std::pair&lt;GlobalClassesTy::iterator, unsigned&gt;&gt; Sets;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="keywordflow">for</span> (GlobalClassesTy::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = GlobalClasses.begin(),</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                                 <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = GlobalClasses.end();</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isLeader())</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    ++NumTypeIdDisjointSets;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordtype">unsigned</span> MaxUniqueId = 0;</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <span class="keywordflow">for</span> (GlobalClassesTy::member_iterator <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = GlobalClasses.member_begin(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;         <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> != GlobalClasses.member_end(); ++<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MD = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;dyn_cast&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;())</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        MaxUniqueId = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(MaxUniqueId, TypeIdInfo[MD].UniqueId);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;dyn_cast&lt;ICallBranchFunnel *&gt;())</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        MaxUniqueId = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(MaxUniqueId, BF-&gt;UniqueId);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    }</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    Sets.emplace_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, MaxUniqueId);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  }</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Sets, <a class="code" href="structllvm_1_1less__second.html">llvm::less_second</a>());</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160; </div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <span class="comment">// For each disjoint set we found...</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : Sets) {</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="comment">// Build the list of type identifiers in this disjoint set.</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    std::vector&lt;Metadata *&gt; TypeIds;</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    std::vector&lt;GlobalTypeMember *&gt; Globals;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    std::vector&lt;ICallBranchFunnel *&gt; ICallBranchFunnels;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <span class="keywordflow">for</span> (GlobalClassesTy::member_iterator <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> =</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;             GlobalClasses.member_begin(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;         <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> != GlobalClasses.member_end(); ++<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;is&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;())</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        TypeIds.push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;get&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;());</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;is&lt;GlobalTypeMember *&gt;())</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        Globals.push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;get&lt;GlobalTypeMember *&gt;());</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        ICallBranchFunnels.push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;get&lt;ICallBranchFunnel *&gt;());</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    }</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160; </div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="comment">// Order type identifiers by unique ID for determinism. This ordering is</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="comment">// stable as there is a one-to-one mapping between metadata and unique IDs.</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(TypeIds, [&amp;](<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code" href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">M1</a>, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *M2) {</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;      <span class="keywordflow">return</span> TypeIdInfo[<a class="code" href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">M1</a>].UniqueId &lt; TypeIdInfo[M2].UniqueId;</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    });</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160; </div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="comment">// Same for the branch funnels.</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(ICallBranchFunnels,</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;               [&amp;](ICallBranchFunnel *F1, ICallBranchFunnel *F2) {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                 <span class="keywordflow">return</span> F1-&gt;UniqueId &lt; F2-&gt;UniqueId;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;               });</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160; </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="comment">// Build bitsets for this disjoint set.</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    buildBitSetsFromDisjointSet(TypeIds, Globals, ICallBranchFunnels);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  }</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160; </div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  allocateByteArrays();</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160; </div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="comment">// Parse alias data to replace stand-in function declarations for aliases</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="comment">// with an alias to the intended target.</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordflow">if</span> (ExportSummary) {</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *AliasesMD = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;aliases&quot;</span>)) {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *AliasMD : AliasesMD-&gt;operands()) {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AliasMD-&gt;getNumOperands() &gt;= 4);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> AliasName =</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;            cast&lt;MDString&gt;(AliasMD-&gt;getOperand(0))-&gt;getString();</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Aliasee = cast&lt;MDString&gt;(AliasMD-&gt;getOperand(1))-&gt;getString();</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160; </div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <span class="keywordflow">if</span> (!ExportedFunctions.count(Aliasee) ||</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            ExportedFunctions[Aliasee].Linkage != <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1">CFL_Definition</a> ||</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;            !<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedAlias(Aliasee))</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160; </div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a> Visibility =</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                cast&lt;ConstantAsMetadata&gt;(AliasMD-&gt;getOperand(2))</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                    -&gt;getValue()</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                    -&gt;getUniqueInteger()</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                    .getZExtValue());</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55fa7324e3727807d95037eb19d304fd91ec">Weak</a> =</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(cast&lt;ConstantAsMetadata&gt;(AliasMD-&gt;getOperand(3))</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                                  -&gt;getValue()</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                                  -&gt;getUniqueInteger()</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                                  .getZExtValue());</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160; </div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        <span class="keyword">auto</span> *Alias = GlobalAlias::create(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedAlias(Aliasee));</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        Alias-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(Visibility);</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        <span class="keywordflow">if</span> (Weak)</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;          Alias-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">setLinkage</a>(GlobalValue::WeakAnyLinkage);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160; </div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(AliasName)) {</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;          Alias-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;replaceAllUsesWith(Alias);</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;          Alias-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(AliasName);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        }</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    }</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  }</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160; </div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="comment">// Emit .symver directives for exported functions, if they exist.</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordflow">if</span> (ExportSummary) {</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *SymversMD = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;symvers&quot;</span>)) {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Symver : SymversMD-&gt;operands()) {</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Symver-&gt;getNumOperands() &gt;= 2);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#af0b71165db16633df4a356825edea094">SymbolName</a> =</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            cast&lt;MDString&gt;(Symver-&gt;getOperand(0))-&gt;getString();</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Alias = cast&lt;MDString&gt;(Symver-&gt;getOperand(1))-&gt;getString();</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        <span class="keywordflow">if</span> (!ExportedFunctions.count(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#af0b71165db16633df4a356825edea094">SymbolName</a>))</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160; </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.appendModuleInlineAsm(</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;            (<a class="code" href="classllvm_1_1Twine.html">llvm::Twine</a>(<span class="stringliteral">&quot;.symver &quot;</span>) + <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#af0b71165db16633df4a356825edea094">SymbolName</a> + <span class="stringliteral">&quot;, &quot;</span> + Alias).str());</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;      }</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    }</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  }</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160; </div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;}</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160; </div>
<div class="line"><a name="l02297"></a><span class="lineno"><a class="line" href="classllvm_1_1LowerTypeTestsPass.html#af14b972caecee35ee8e3a66b85ea3842"> 2297</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">LowerTypeTestsPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>,</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                                          <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="keywordtype">bool</span> Changed;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <span class="keywordflow">if</span> (UseCommandLine)</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    Changed = LowerTypeTestsModule::runForTesting(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    Changed =</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        LowerTypeTestsModule(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, ExportSummary, ImportSummary, DropTypeTests)</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;            .lower();</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <span class="keywordflow">if</span> (!Changed)</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>();</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aLowerTypeTests_8cpp_html_a7c76013588a6a90e552030310757d8b2"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a7c76013588a6a90e552030310757d8b2">AvoidReuse</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; AvoidReuse(&quot;lowertypetests-avoid-reuse&quot;, cl::desc(&quot;Try to avoid reuse of byte array addresses using aliases&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a3af0428ec6e48cb2f05c199b7b9f7e07"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3af0428ec6e48cb2f05c199b7b9f7e07">llvm::GlobalValue::GUID</a></div><div class="ttdeci">uint64_t GUID</div><div class="ttdoc">Declare a type to represent a global unique identifier for a global value.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00583">GlobalValue.h:583</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a9cf141c9194799e2fa2d92de4c6e8ff0aa245c3230debe5c956484ecc6fa93877"><div class="ttname"><a href="namespacellvm_1_1codeview.html#a9cf141c9194799e2fa2d92de4c6e8ff0aa245c3230debe5c956484ecc6fa93877">llvm::codeview::SimpleTypeKind::Byte</a></div><div class="ttdeci">@ Byte</div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aMemoryBuffer_8h_html"><div class="ttname"><a href="MemoryBuffer_8h.html">MemoryBuffer.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab102f0f12dd38aeea5906b1d80c792ff"><div class="ttname"><a href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">llvm::alignTo</a></div><div class="ttdeci">uint64_t alignTo(uint64_t Size, Align A)</div><div class="ttdoc">Returns a multiple of A needed to store Size bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00155">Alignment.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154ae4763cb7c05a2a59ce27d51040bf4b08"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae4763cb7c05a2a59ce27d51040bf4b08">llvm::Triple::riscv64</a></div><div class="ttdeci">@ riscv64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00076">Triple.h:76</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_abc8aecb5b627f6a91fc2fb09762d2a41"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a></div><div class="ttdeci">IntegerType * Int32Ty</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00067">NVVMIntrRange.cpp:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_ae0cf03d5de37330b1eb69dd22a1d5057"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#ae0cf03d5de37330b1eb69dd22a1d5057">llvm::GlobalVariable::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">eraseFromParent - This method unlinks 'this' from the containing module and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00468">Globals.cpp:468</a></div></div>
<div class="ttc" id="aTrailingObjects_8h_html"><div class="ttname"><a href="TrailingObjects_8h.html">TrailingObjects.h</a></div></div>
<div class="ttc" id="astructllvm_1_1less__second_html"><div class="ttname"><a href="structllvm_1_1less__second.html">llvm::less_second</a></div><div class="ttdoc">Function object to check whether the second component of a std::pair compares less than the second co...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01485">STLExtras.h:1485</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a04f7235e9b275db7f5f4dc933e52aac1"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a04f7235e9b275db7f5f4dc933e52aac1">targets</a></div><div class="ttdeci">should just be implemented with a CLZ instruction Since there are other targets</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00709">README.txt:709</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a241ee8946388bbae296f61bfe884f5e5"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a241ee8946388bbae296f61bfe884f5e5">ClReadSummary</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; ClReadSummary(&quot;lowertypetests-read-summary&quot;, cl::desc(&quot;Read summary from given YAML file before running pass&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aProvenanceAnalysisEvaluator_8cpp_html_a2ee79648e8bce3ddbb26358ff10e3e82"><div class="ttname"><a href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">getName</a></div><div class="ttdeci">static StringRef getName(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ProvenanceAnalysisEvaluator_8cpp_source.html#l00020">ProvenanceAnalysisEvaluator.cpp:20</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_adf4d22686e85732b2fef71e3c45531c6"><div class="ttname"><a href="classllvm_1_1Attribute.html#adf4d22686e85732b2fef71e3c45531c6">llvm::Attribute::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Return true if the attribute is any kind of attribute.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00185">Attributes.h:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_aa75984a442f2379de0c66018201fa628"><div class="ttname"><a href="classllvm_1_1Type.html#aa75984a442f2379de0c66018201fa628">llvm::Type::getInt1Ty</a></div><div class="ttdeci">static IntegerType * getInt1Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00238">Type.cpp:238</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_ab4fde659cfd2ad21ef1920dca7f22255"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#ab4fde659cfd2ad21ef1920dca7f22255">llvm::dwarf::Constants</a></div><div class="ttdeci">Constants</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00510">Dwarf.h:510</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html">llvm::NamedMDNode</a></div><div class="ttdoc">A tuple of MDNodes.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01587">Metadata.h:1587</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a8de09bb8988d2414b617ed428bde4514"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a8de09bb8988d2414b617ed428bde4514">dropTypeTests</a></div><div class="ttdeci">static void dropTypeTests(Module &amp;M, Function &amp;TypeTestFunc)</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l01803">LowerTypeTests.cpp:1803</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="aFileSystem_8h_html"><div class="ttname"><a href="FileSystem_8h.html">FileSystem.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3a402430a1bbe70a9282dcb0e0b6a2cd"><div class="ttname"><a href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">llvm::Value::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const</div><div class="ttdoc">Return true if there is exactly one use of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00434">Value.h:434</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetInfo_html_a0986e6682520b5119e7aeea9e9bf908f"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a0986e6682520b5119e7aeea9e9bf908f">llvm::lowertypetests::BitSetInfo::containsGlobalOffset</a></div><div class="ttdeci">bool containsGlobalOffset(uint64_t Offset) const</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l00126">LowerTypeTests.cpp:126</a></div></div>
<div class="ttc" id="anamespacellvm_html_a016a85f7487f995fe80141e102a7a5ae"><div class="ttname"><a href="namespacellvm.html#a016a85f7487f995fe80141e102a7a5ae">llvm::ReplaceInstWithInst</a></div><div class="ttdeci">void ReplaceInstWithInst(BasicBlock *BB, BasicBlock::iterator &amp;BI, Instruction *I)</div><div class="ttdoc">Replace the instruction specified by BI with the instruction specified by I.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00576">BasicBlockUtils.cpp:576</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00293">Type.cpp:293</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_a40ae67d31da67ca17ed016839faf3390"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a40ae67d31da67ca17ed016839faf3390">llvm::GlobalVariable::setConstant</a></div><div class="ttdeci">void setConstant(bool Val)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00153">GlobalVariable.h:153</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154ac0478f40eaacc5f340e93827756e7a33"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ac0478f40eaacc5f340e93827756e7a33">llvm::Triple::wasm32</a></div><div class="ttdeci">@ wasm32</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00104">Triple.h:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a58d6359cee16e5da66861058836dcca9"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a58d6359cee16e5da66861058836dcca9">llvm::ConstantExpr::getZExt</a></div><div class="ttdeci">static Constant * getZExt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02119">Constants.cpp:2119</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a3547d58a060ee2e4a29cbea85bef91af"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">llvm::GlobalValue::getLinkage</a></div><div class="ttdeci">LinkageTypes getLinkage() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00541">GlobalValue.h:541</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HexagonISD_html_ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e"><div class="ttname"><a href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">llvm::HexagonISD::JT</a></div><div class="ttdeci">@ JT</div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelLowering_8h_source.html#l00052">HexagonISelLowering.h:52</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1GlobalLayoutBuilder_html_ad3e6889c1625ade2687b7fee501f64be"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#ad3e6889c1625ade2687b7fee501f64be">llvm::lowertypetests::GlobalLayoutBuilder::FragmentMap</a></div><div class="ttdeci">std::vector&lt; uint64_t &gt; FragmentMap</div><div class="ttdoc">Mapping from object index to fragment index.</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00132">LowerTypeTests.h:132</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">llvm::GlobalValue::HiddenVisibility</a></div><div class="ttdeci">@ HiddenVisibility</div><div class="ttdoc">The GV is hidden.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00064">GlobalValue.h:64</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a3a09256c2858f8b38ce2b9481c528bed"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bed">llvm::TypeTestResolution::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdoc">Specifies which kind of type check we should emit for this byte array.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01082">ModuleSummaryIndex.h:1082</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html"><div class="ttname"><a href="classllvm_1_1Attribute.html">llvm::Attribute</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00067">Attributes.h:67</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648">llvm::Triple::x86</a></div><div class="ttdeci">@ x86</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00085">Triple.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00642">raw_ostream.h:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdoc">Target - Wrapper for Target specific information.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00149">TargetRegistry.h:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a8969dec86d24dd579f8ecc963e1dc8b4"><div class="ttname"><a href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">llvm::Function::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">eraseFromParent - This method unlinks 'this' from the containing module and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00362">Function.cpp:362</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__with__parent_html_a26708685cc8b94fe3d7092ee080dbb34"><div class="ttname"><a href="classllvm_1_1ilist__node__with__parent.html#a26708685cc8b94fe3d7092ee080dbb34">llvm::ilist_node_with_parent::getNextNode</a></div><div class="ttdeci">NodeTy * getNextNode()</div><div class="ttdoc">Get the next node, or nullptr for the list tail.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00289">ilist_node.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a115ac0121663aa8365e095d095d0c633"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a115ac0121663aa8365e095d095d0c633">llvm::GlobalObject::getAlign</a></div><div class="ttdeci">MaybeAlign getAlign() const</div><div class="ttdoc">Returns the alignment of the given variable or function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00079">GlobalObject.h:79</a></div></div>
<div class="ttc" id="aInlineAsm_8h_html"><div class="ttname"><a href="InlineAsm_8h.html">InlineAsm.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a68fce0638c5ec7b96b8572cad9c20488"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a68fce0638c5ec7b96b8572cad9c20488">llvm::ConstantExpr::getICmp</a></div><div class="ttdeci">static Constant * getICmp(unsigned short pred, Constant *LHS, Constant *RHS, bool OnlyIfReduced=false)</div><div class="ttdoc">get* - Return some common constants without having to specify the full Instruction::OPCODE identifier...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02523">Constants.cpp:2523</a></div></div>
<div class="ttc" id="aclassllvm_1_1EquivalenceClasses_html"><div class="ttname"><a href="classllvm_1_1EquivalenceClasses.html">llvm::EquivalenceClasses</a></div><div class="ttdoc">EquivalenceClasses - This represents a collection of equivalence classes and supports three efficient...</div><div class="ttdef"><b>Definition:</b> <a href="EquivalenceClasses_8h_source.html#l00060">EquivalenceClasses.h:60</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_ad940f79d8b859f1b9bdbc4df5b9bda75"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#ad940f79d8b859f1b9bdbc4df5b9bda75">llvm::TypeTestResolution::InlineBits</a></div><div class="ttdeci">uint64_t InlineBits</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01105">ModuleSummaryIndex.h:1105</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1ByteArrayBuilder_html"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html">llvm::lowertypetests::ByteArrayBuilder</a></div><div class="ttdoc">This class is used to build a byte array containing overlapping bit sets.</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00174">LowerTypeTests.h:174</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ad9d88ae321b98d8a3b7f394977ae6d7f"><div class="ttname"><a href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">llvm::Value::hasName</a></div><div class="ttdeci">bool hasName() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00261">Value.h:261</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca">llvm::TypeTestResolution::Unsat</a></div><div class="ttdeci">@ Unsat</div><div class="ttdoc">Unsatisfiable type (i.e. no global has this type metadata)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01083">ModuleSummaryIndex.h:1083</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_abae3f750ce4d2edcea30f08fe9e29721"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">llvm::ConstantExpr::getGetElementPtr</a></div><div class="ttdeci">static Constant * getGetElementPtr(Type *Ty, Constant *C, ArrayRef&lt; Constant * &gt; IdxList, bool InBounds=false, std::optional&lt; unsigned &gt; InRangeIndex=std::nullopt, Type *OnlyIfReducedTy=nullptr)</div><div class="ttdoc">Getelementptr form.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l01245">Constants.h:1245</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aAllocator_8h_html"><div class="ttname"><a href="Allocator_8h.html">Allocator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_af8aeced5e71d2589fa3e9791043af5cb"><div class="ttname"><a href="classllvm_1_1PointerType.html#af8aeced5e71d2589fa3e9791043af5cb">llvm::PointerType::getAddressSpace</a></div><div class="ttdeci">unsigned getAddressSpace() const</div><div class="ttdoc">Return the address space of the Pointer type.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00682">DerivedTypes.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a61a186a60c64a2a5225db9944eaf7df8"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a61a186a60c64a2a5225db9944eaf7df8">llvm::GlobalObject::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(unsigned KindID) const</div><div class="ttdoc">Get the current metadata attachments for the given kind, if any.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01288">Metadata.cpp:1288</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdeci">@ ICMP_NE</div><div class="ttdoc">not equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00740">InstrTypes.h:740</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae79d05dd3d0b05e080e08f8c5c33f880"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02229">Constants.cpp:2229</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_ac03feadb343c2d3e1f9dc4b78ee19d62"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#ac03feadb343c2d3e1f9dc4b78ee19d62">llvm::ModuleSummaryIndex::getOrInsertTypeIdSummary</a></div><div class="ttdeci">TypeIdSummary &amp; getOrInsertTypeIdSummary(StringRef TypeId)</div><div class="ttdoc">Return an existing or new TypeIdSummary entry for TypeId.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01664">ModuleSummaryIndex.h:1664</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00028">GlobalAlias.h:28</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aSupport_2Error_8h_html"><div class="ttname"><a href="Support_2Error_8h.html">Error.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a8683922a4b3d122c3b0d7d53b1cde2ad"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a8683922a4b3d122c3b0d7d53b1cde2ad">llvm::ConstantExpr::getSelect</a></div><div class="ttdeci">static Constant * getSelect(Constant *C, Constant *V1, Constant *V2, Type *OnlyIfReducedTy=nullptr)</div><div class="ttdoc">Select constant expr.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02441">Constants.cpp:2441</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a3a09256c2858f8b38ce2b9481c528bedacbf788f41139e3717dfde370ec59c0aa"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedacbf788f41139e3717dfde370ec59c0aa">llvm::TypeTestResolution::AllOnes</a></div><div class="ttdeci">@ AllOnes</div><div class="ttdoc">All-ones bit vector (&quot;Eliminating Bit Vector Checks for            All-Ones Bit Vectors&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01087">ModuleSummaryIndex.h:1087</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1"><div class="ttname"><a href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1">llvm::CFL_Definition</a></div><div class="ttdeci">@ CFL_Definition</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8h_source.html#l00032">TypeMetadataUtils.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_afe43fb9222955bdceb316e851056f516"><div class="ttname"><a href="classllvm_1_1Module.html#afe43fb9222955bdceb316e851056f516">llvm::Module::getModuleFlag</a></div><div class="ttdeci">Metadata * getModuleFlag(StringRef Key) const</div><div class="ttdoc">Return the corresponding value if Key appears in module flags, otherwise return null.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00322">Module.cpp:322</a></div></div>
<div class="ttc" id="aAPInt_8h_html"><div class="ttname"><a href="APInt_8h.html">APInt.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a03797a73044a81cbc6a3409d6c72ee8f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">llvm::PreservedAnalyses::none</a></div><div class="ttdeci">static PreservedAnalyses none()</div><div class="ttdoc">Convenience factory function for the empty preserved set.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00155">PassManager.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0a019d1ca7d50cc54b995f60d456435e87"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a019d1ca7d50cc54b995f60d456435e87">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::Used</a></div><div class="ttdeci">@ Used</div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">llvm::Triple::x86_64</a></div><div class="ttdeci">@ x86_64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00086">Triple.h:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">llvm::tgtok::Bits</a></div><div class="ttdeci">@ Bits</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1GlobalLayoutBuilder_html"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html">llvm::lowertypetests::GlobalLayoutBuilder</a></div><div class="ttdoc">This class implements a layout algorithm for globals referenced by bit sets that tries to keep member...</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00126">LowerTypeTests.h:126</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_html_abee99c9c75d23a0304e5e58e3128a55fa7324e3727807d95037eb19d304fd91ec"><div class="ttname"><a href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55fa7324e3727807d95037eb19d304fd91ec">llvm::jitlink::Linkage::Weak</a></div><div class="ttdeci">@ Weak</div></div>
<div class="ttc" id="aclassllvm_1_1ExitOnError_html"><div class="ttname"><a href="classllvm_1_1ExitOnError.html">llvm::ExitOnError</a></div><div class="ttdoc">Helper for check-and-exit error handling.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01355">Error.h:1355</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a52c990590792c91dd20b6d45acebe359"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a52c990590792c91dd20b6d45acebe359">llvm::BasicBlock::splitBasicBlock</a></div><div class="ttdeci">BasicBlock * splitBasicBlock(iterator I, const Twine &amp;BBName=&quot;&quot;, bool Before=false)</div><div class="ttdoc">Split the basic block into two basic blocks at the specified instruction.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00401">BasicBlock.cpp:401</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAsMetadata_html_a703ab6c3e14ff7565866468d731f537a"><div class="ttname"><a href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">llvm::ConstantAsMetadata::get</a></div><div class="ttdeci">static ConstantAsMetadata * get(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00419">Metadata.h:419</a></div></div>
<div class="ttc" id="aGlobalObject_8h_html"><div class="ttname"><a href="GlobalObject_8h.html">GlobalObject.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a93625f7cbb3fd8673797e565a453c0ec"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a93625f7cbb3fd8673797e565a453c0ec">llvm::ModuleSummaryIndex::getTypeIdSummary</a></div><div class="ttdeci">const TypeIdSummary * getTypeIdSummary(StringRef TypeId) const</div><div class="ttdoc">This returns either a pointer to the type id summary (if present in the summary map) or null (if not ...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01676">ModuleSummaryIndex.h:1676</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a250e66aa31a03567cc345ca1bc463b8c"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a></div><div class="ttdeci">uint64_t Offset</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00080">ELFObjHandler.cpp:80</a></div></div>
<div class="ttc" id="aOperator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a158da2b6d3d938aaa15b6acd00150e2c"><div class="ttname"><a href="classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">llvm::Value::user_begin</a></div><div class="ttdeci">user_iterator user_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00397">Value.h:397</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a5fb870e87103d4942f5b405e7b8d9d4e"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a5fb870e87103d4942f5b405e7b8d9d4e">llvm::ConstantExpr::getInBoundsGetElementPtr</a></div><div class="ttdeci">static Constant * getInBoundsGetElementPtr(Type *Ty, Constant *C, ArrayRef&lt; Constant * &gt; IdxList)</div><div class="ttdoc">Create an &quot;inbounds&quot; getelementptr.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l01271">Constants.h:1271</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1GlobalLayoutBuilder_html_a5d2e54b342691d69ccfc9e799d404668"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#a5d2e54b342691d69ccfc9e799d404668">llvm::lowertypetests::GlobalLayoutBuilder::Fragments</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; uint64_t &gt; &gt; Fragments</div><div class="ttdoc">The computed layout.</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00129">LowerTypeTests.h:129</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">llvm::GlobalValue::LinkageTypes</a></div><div class="ttdeci">LinkageTypes</div><div class="ttdoc">An enumeration for the kinds of linkage for global values.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00047">GlobalValue.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdoc">Class to represent array types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00357">DerivedTypes.h:357</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5af9f9662bb78e64d7db00b19d61e41655"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5af9f9662bb78e64d7db00b19d61e41655">llvm::tgtok::Else</a></div><div class="ttdeci">@ Else</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00076">TGLexer.h:76</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a3999c3eae363ca1a480dd12c5d5e2264"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a3999c3eae363ca1a480dd12c5d5e2264">kX86IBTJumpTableEntrySize</a></div><div class="ttdeci">static const unsigned kX86IBTJumpTableEntrySize</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l01182">LowerTypeTests.cpp:1182</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7ba5de75f50bb4a4ba920698edf39b28"><div class="ttname"><a href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">llvm::Type::getInt8Ty</a></div><div class="ttdeci">static IntegerType * getInt8Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00239">Type.cpp:239</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetInfo_html_aa7c30a369762ee2247cebe8c310e52ef"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#aa7c30a369762ee2247cebe8c310e52ef">llvm::lowertypetests::BitSetInfo::BitSize</a></div><div class="ttdeci">uint64_t BitSize</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00041">LowerTypeTests.h:41</a></div></div>
<div class="ttc" id="aUse_8h_html"><div class="ttname"><a href="Use_8h.html">Use.h</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetBuilder_html"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html">llvm::lowertypetests::BitSetBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00061">LowerTypeTests.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38a0bdae7fb49d99f161aa6de0379d7ea0095a9fa74d1713e43e370a7d7846224"><div class="ttname"><a href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea0095a9fa74d1713e43e370a7d7846224">llvm::PassSummaryAction::Export</a></div><div class="ttdeci">@ Export</div><div class="ttdoc">Export information to summary.</div></div>
<div class="ttc" id="aModuleSummaryIndex_8h_html"><div class="ttname"><a href="ModuleSummaryIndex_8h.html">ModuleSummaryIndex.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ac835b8735b1b2faec0efdca236e37d94"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Check if the array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00158">ArrayRef.h:158</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_afd1cdae0d7a12aa1861ac142c059f5d2"><div class="ttname"><a href="namespacellvm.html#afd1cdae0d7a12aa1861ac142c059f5d2">llvm::collectUsedGlobalVariables</a></div><div class="ttdeci">GlobalVariable * collectUsedGlobalVariables(const Module &amp;M, SmallVectorImpl&lt; GlobalValue * &gt; &amp;Vec, bool CompilerUsed)</div><div class="ttdoc">Given &quot;llvm.used&quot; or &quot;llvm.compiler.used&quot; as a global name, collect the initializer elements of that ...</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00807">Module.cpp:807</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9247a212ea89acc9573fa7e7f557eaba"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">llvm::Instruction::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set the metadata of the specified kind to the specified node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01455">Metadata.cpp:1455</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a1f469b1f703519ae25ce564c8704310f"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a1f469b1f703519ae25ce564c8704310f">llvm::ConstantExpr::getPointerCast</a></div><div class="ttdeci">static Constant * getPointerCast(Constant *C, Type *Ty)</div><div class="ttdoc">Create a BitCast, AddrSpaceCast, or a PtrToInt cast constant expression.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02041">Constants.cpp:2041</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aa4068e37ec583962685e3567dc102ae5"><div class="ttname"><a href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">llvm::MDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return number of MDNode operands.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01297">Metadata.h:1297</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a968f33165430f95099556df970a6336a">llvm::AArch64CC::LT</a></div><div class="ttdeci">@ LT</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00266">AArch64BaseInfo.h:266</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a554ab77949b0a16670a83ec3307501eb"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">llvm::ConstantExpr::getSub</a></div><div class="ttdeci">static Constant * getSub(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02664">Constants.cpp:2664</a></div></div>
<div class="ttc" id="anamespacellvm_1_1JumpTable_html_ae69658c09df17591f8b1c3e95b879b5c"><div class="ttname"><a href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5c">llvm::JumpTable::JumpTableType</a></div><div class="ttdeci">JumpTableType</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00044">TargetOptions.h:44</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a9d88e21e9caa53945e903fd8c8700b4f"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a9d88e21e9caa53945e903fd8c8700b4f">llvm::GlobalObject::eraseMetadata</a></div><div class="ttdeci">bool eraseMetadata(unsigned KindID)</div><div class="ttdoc">Erase all metadata attachments with the given kind.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01370">Metadata.cpp:1370</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a0a3f5b60adefd865c58eacd375747316"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a0a3f5b60adefd865c58eacd375747316">llvm::tgtok::Then</a></div><div class="ttdeci">@ Then</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00052">TGLexer.h:52</a></div></div>
<div class="ttc" id="aGlobalValue_8h_html"><div class="ttname"><a href="GlobalValue_8h.html">GlobalValue.h</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetInfo_html_a6ecb18819ffce351312accf16feea3b6"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a6ecb18819ffce351312accf16feea3b6">llvm::lowertypetests::BitSetInfo::AlignLog2</a></div><div class="ttdeci">unsigned AlignLog2</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00046">LowerTypeTests.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154">llvm::Triple::ArchType</a></div><div class="ttdeci">ArchType</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00046">Triple.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9141f967188383108a69cc1b8ed3c195"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">llvm::GlobalValue::VisibilityTypes</a></div><div class="ttdeci">VisibilityTypes</div><div class="ttdoc">An enumeration for the kinds of visibility of global values.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00062">GlobalValue.h:62</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">llvm::ModRefInfo::Ref</a></div><div class="ttdeci">@ Ref</div><div class="ttdoc">The access may reference the value stored in memory.</div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1ByteArrayBuilder_html_aefcc42b423b9473d155867e579682a9e"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#aefcc42b423b9473d155867e579682a9e">llvm::lowertypetests::ByteArrayBuilder::allocate</a></div><div class="ttdeci">void allocate(const std::set&lt; uint64_t &gt; &amp;Bits, uint64_t BitSize, uint64_t &amp;AllocByteOffset, uint8_t &amp;AllocMask)</div><div class="ttdoc">Allocate BitSize bits in the byte array where Bits contains the bits to set.</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l00217">LowerTypeTests.cpp:217</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetBuilder_html_ae9eac0aef016a4ee87e0260b8bda8319"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#ae9eac0aef016a4ee87e0260b8bda8319">llvm::lowertypetests::BitSetBuilder::addOffset</a></div><div class="ttdeci">void addOffset(uint64_t Offset)</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00068">LowerTypeTests.h:68</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1GlobalLayoutBuilder_html_abc53ed9289ca61898a56ea65b8a457db"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1GlobalLayoutBuilder.html#abc53ed9289ca61898a56ea65b8a457db">llvm::lowertypetests::GlobalLayoutBuilder::addFragment</a></div><div class="ttdeci">void addFragment(const std::set&lt; uint64_t &gt; &amp;F)</div><div class="ttdoc">Add F to the layout while trying to keep its indices contiguous.</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l00188">LowerTypeTests.cpp:188</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdeci">@ A</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00034">ARMBaseInfo.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a02560cda155aaed54314383bed827d60"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">llvm::ConstantExpr::getIntToPtr</a></div><div class="ttdeci">static Constant * getIntToPtr(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02215">Constants.cpp:2215</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html"><div class="ttname"><a href="classllvm_1_1GlobalObject.html">llvm::GlobalObject</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00027">GlobalObject.h:27</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad10875fd499e8e285aaeef615e9b11aa"><div class="ttname"><a href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">llvm::errorCodeToError</a></div><div class="ttdeci">Error errorCodeToError(std::error_code EC)</div><div class="ttdoc">Helper for converting an std::error_code to a Error.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00092">Error.cpp:92</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1ByteArrayBuilder_html_aaf7542208c90aecd92031b4f00cd9949a961b1f972e23c16ecc4ddffe1ddfbdca"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#aaf7542208c90aecd92031b4f00cd9949a961b1f972e23c16ecc4ddffe1ddfbdca">llvm::lowertypetests::ByteArrayBuilder::BitsPerByte</a></div><div class="ttdeci">@ BitsPerByte</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00178">LowerTypeTests.h:178</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38a0bdae7fb49d99f161aa6de0379d7ea6adf97f83acf6453d4a6a4b1070f3754"><div class="ttname"><a href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea6adf97f83acf6453d4a6a4b1070f3754">llvm::PassSummaryAction::None</a></div><div class="ttdeci">@ None</div><div class="ttdoc">Do nothing.</div></div>
<div class="ttc" id="aTypeMetadataUtils_8h_html"><div class="ttname"><a href="TypeMetadataUtils_8h.html">TypeMetadataUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a652380f28d1a7011e05d0787b6024d48"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">llvm::ConstantExpr::getPtrToInt</a></div><div class="ttdeci">static Constant * getPtrToInt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02201">Constants.cpp:2201</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_aecb93439702247fe5353a9966f7cefcd"><div class="ttname"><a href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">llvm::Value::uses</a></div><div class="ttdeci">iterator_range&lt; use_iterator &gt; uses()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00376">Value.h:376</a></div></div>
<div class="ttc" id="anamespacellvm_html_afb65eef479f0473d0fe1666b80155237"><div class="ttname"><a href="namespacellvm.html#afb65eef479f0473d0fe1666b80155237">llvm::NextPowerOf2</a></div><div class="ttdeci">constexpr uint64_t NextPowerOf2(uint64_t A)</div><div class="ttdoc">Returns the next power of two (in 64-bits) that is strictly greater than A.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00450">MathExtras.h:450</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Class to represent integer types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00040">DerivedTypes.h:40</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a5d58f15eb50f32db4ffe6c16195dc99d"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a5d58f15eb50f32db4ffe6c16195dc99d">kX86JumpTableEntrySize</a></div><div class="ttdeci">static const unsigned kX86JumpTableEntrySize</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l01181">LowerTypeTests.cpp:1181</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a454d72c46436ca392ac67b4f4cafeaf2"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a454d72c46436ca392ac67b4f4cafeaf2">kRISCVJumpTableEntrySize</a></div><div class="ttdeci">static const unsigned kRISCVJumpTableEntrySize</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l01185">LowerTypeTests.cpp:1185</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a3cfefc755ab656000934f91193afb1cdafd0c0a465dca43ad44f79806a226a1ae"><div class="ttname"><a href="classllvm_1_1Triple.html#a3cfefc755ab656000934f91193afb1cdafd0c0a465dca43ad44f79806a226a1ae">llvm::Triple::Win32</a></div><div class="ttdeci">@ Win32</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00202">Triple.h:202</a></div></div>
<div class="ttc" id="anamespacellvm_html_aab730f72aa213d5ecc7d1101efda8811"><div class="ttname"><a href="namespacellvm.html#aab730f72aa213d5ecc7d1101efda8811">llvm::appendToCompilerUsed</a></div><div class="ttdeci">void appendToCompilerUsed(Module &amp;M, ArrayRef&lt; GlobalValue * &gt; Values)</div><div class="ttdoc">Adds global values to the llvm.compiler.used list.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00113">ModuleUtils.cpp:113</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae8f67fbc50a05486efacc898909c8fa6a2c774a7021d843a45dccfa54a21fa83b"><div class="ttname"><a href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a2c774a7021d843a45dccfa54a21fa83b">llvm::CFL_WeakDeclaration</a></div><div class="ttdeci">@ CFL_WeakDeclaration</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8h_source.html#l00034">TypeMetadataUtils.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdoc">Change the name of the value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00375">Value.cpp:375</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetInfo_html"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetInfo.html">llvm::lowertypetests::BitSetInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00033">LowerTypeTests.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html_a50a2e57da274f8d69b9f932977379cdf"><div class="ttname"><a href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">llvm::Use::getUser</a></div><div class="ttdeci">User * getUser() const</div><div class="ttdoc">Returns the User that contains this Use.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00072">Use.h:72</a></div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetInfo_html_a8f37c08c8a876745f75707df1462d463"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a8f37c08c8a876745f75707df1462d463">llvm::lowertypetests::BitSetInfo::ByteOffset</a></div><div class="ttdeci">uint64_t ByteOffset</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00038">LowerTypeTests.h:38</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">llvm::GlobalValue::InternalLinkage</a></div><div class="ttdeci">@ InternalLinkage</div><div class="ttdoc">Rename collisions when linking (static functions).</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00055">GlobalValue.h:55</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a742493488e02c32e595b0052a4c247d5"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a742493488e02c32e595b0052a4c247d5">llvm::TypeTestResolution::BitMask</a></div><div class="ttdeci">uint8_t BitMask</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01104">ModuleSummaryIndex.h:1104</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a3a09256c2858f8b38ce2b9481c528beda2f70fb5ef215b0969f3b319bab4b03c6"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2f70fb5ef215b0969f3b319bab4b03c6">llvm::TypeTestResolution::Inline</a></div><div class="ttdeci">@ Inline</div><div class="ttdoc">Inlined bit vector (&quot;Short Inline Bit Vectors&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01085">ModuleSummaryIndex.h:1085</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_acc6db68a2780c037468a25fd3f493b9a"><div class="ttname"><a href="LowerTypeTests_8cpp.html#acc6db68a2780c037468a25fd3f493b9a">isDirectCall</a></div><div class="ttdeci">static bool isDirectCall(Use &amp;U)</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l01757">LowerTypeTests.cpp:1757</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_a968930aea9d9efa8d46dd890fce75643"><div class="ttname"><a href="classllvm_1_1Attribute.html#a968930aea9d9efa8d46dd890fce75643">llvm::Attribute::getValueAsString</a></div><div class="ttdeci">StringRef getValueAsString() const</div><div class="ttdoc">Return the attribute's value as a string.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00312">Attributes.cpp:312</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38a0bdae7fb49d99f161aa6de0379d7ea72d6d7a1885885bb55a565fd1070581a"><div class="ttname"><a href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea72d6d7a1885885bb55a565fd1070581a">llvm::PassSummaryAction::Import</a></div><div class="ttdeci">@ Import</div><div class="ttdoc">Import information from summary.</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00344">Value.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a44dec91bb943f56f8bba3e9171a76947"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a44dec91bb943f56f8bba3e9171a76947">llvm::InlineAsm::get</a></div><div class="ttdeci">static InlineAsm * get(FunctionType *Ty, StringRef AsmString, StringRef Constraints, bool hasSideEffects, bool isAlignStack=false, AsmDialect asmDialect=AD_ATT, bool canThrow=false)</div><div class="ttdoc">InlineAsm::get - Return the specified uniqued inline asm string.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8cpp_source.html#l00043">InlineAsm.cpp:43</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetInfo_html_a9056d542f9c590c71d90c5b5d4c1ef06"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a9056d542f9c590c71d90c5b5d4c1ef06">llvm::lowertypetests::BitSetInfo::Bits</a></div><div class="ttdeci">std::set&lt; uint64_t &gt; Bits</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00035">LowerTypeTests.h:35</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dxil_1_1PointerTypeAnalysis_html_ae574a4c1d84b9e67bc94489f356805b4"><div class="ttname"><a href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">llvm::dxil::PointerTypeAnalysis::run</a></div><div class="ttdeci">PointerTypeMap run(const Module &amp;M)</div><div class="ttdoc">Compute the PointerTypeMap for the module M.</div><div class="ttdef"><b>Definition:</b> <a href="PointerTypeAnalysis_8cpp_source.html#l00189">PointerTypeAnalysis.cpp:189</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1fs_html_a662978c0cdf81de0d448032f142a3695ab505c2c79499fbe180989bffbf108a50"><div class="ttname"><a href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695ab505c2c79499fbe180989bffbf108a50">llvm::sys::fs::OF_TextWithCRLF</a></div><div class="ttdeci">@ OF_TextWithCRLF</div><div class="ttdoc">The file should be opened in text mode and use a carriage linefeed '\r '.</div><div class="ttdef"><b>Definition:</b> <a href="FileSystem_8h_source.html#l00770">FileSystem.h:770</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a9417d470d85e29ce38a9dc87cd9fe901"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a9417d470d85e29ce38a9dc87cd9fe901">kARMBTIJumpTableEntrySize</a></div><div class="ttdeci">static const unsigned kARMBTIJumpTableEntrySize</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l01184">LowerTypeTests.cpp:1184</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a5af65e382f22a93146221fa34dbd91eb"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a5af65e382f22a93146221fa34dbd91eb">isThumbFunction</a></div><div class="ttdeci">static bool isThumbFunction(Function *F, Triple::ArchType ModuleArch)</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l01336">LowerTypeTests.cpp:1336</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_ad43ecb12669b6fda67694c153847ebdd"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#ad43ecb12669b6fda67694c153847ebdd">llvm::TypeTestResolution::AlignLog2</a></div><div class="ttdeci">uint64_t AlignLog2</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01102">ModuleSummaryIndex.h:1102</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01683">STLExtras.h:1683</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a3a09256c2858f8b38ce2b9481c528beda2c2da6acce4cf440ed9351dfe34899f0"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda2c2da6acce4cf440ed9351dfe34899f0">llvm::TypeTestResolution::Single</a></div><div class="ttdeci">@ Single</div><div class="ttdoc">Single element (last example in &quot;Short Inline Bit Vectors&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01086">ModuleSummaryIndex.h:1086</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a6cbc0453586a25c057a32161b38b8ce4"><div class="ttname"><a href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">llvm::MDNode::getOperand</a></div><div class="ttdeci">const MDOperand &amp; getOperand(unsigned I) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01291">Metadata.h:1291</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html"><div class="ttname"><a href="classllvm_1_1InlineAsm.html">llvm::InlineAsm</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00033">InlineAsm.h:33</a></div></div>
<div class="ttc" id="aRDFGraph_8cpp_html_af153ca0eadca8bc464492b7aba7feb00"><div class="ttname"><a href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a></div><div class="ttdeci">const DataFlowGraph &amp; G</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8cpp_source.html#l00200">RDFGraph.cpp:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; GlobalValue::GUID &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">llvm::tgtok::In</a></div><div class="ttdeci">@ In</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00051">TGLexer.h:51</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a24010a1eb5e99f1a4ace051c293a401f"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a24010a1eb5e99f1a4ace051c293a401f">isKnownTypeIdMember</a></div><div class="ttdeci">static bool isKnownTypeIdMember(Metadata *TypeId, const DataLayout &amp;DL, Value *V, uint64_t COffset)</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l00670">LowerTypeTests.cpp:670</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_ade7dc7510e950cd1c1181138b390f965"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#ade7dc7510e950cd1c1181138b390f965">llvm::GlobalObject::hasSection</a></div><div class="ttdeci">bool hasSection() const</div><div class="ttdoc">Check if this global has a custom object file section.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00109">GlobalObject.h:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a83e907e55fa50e093caa96a0aff96201a456b64e26b8bcdbd8294689615d8a055"><div class="ttname"><a href="classllvm_1_1Triple.html#a83e907e55fa50e093caa96a0aff96201a456b64e26b8bcdbd8294689615d8a055">llvm::Triple::ELF</a></div><div class="ttdeci">@ ELF</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00284">Triple.h:284</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_a0e5946885029c1bce1350d34f2539b1b"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a0e5946885029c1bce1350d34f2539b1b">llvm::GlobalVariable::getInitializer</a></div><div class="ttdeci">const Constant * getInitializer() const</div><div class="ttdoc">getInitializer - Return the initializer for this global variable.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00135">GlobalVariable.h:135</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a></div><div class="ttdeci">@ VI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07994">SIInstrInfo.cpp:7994</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a8fa743aa76b6902028f8a643dfb87171"><div class="ttname"><a href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">llvm::cl::values</a></div><div class="ttdeci">ValuesClass values(OptsTy... Options)</div><div class="ttdoc">Helper to build a ValuesClass by forwarding a variable number of arguments as an initializer list to ...</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00703">CommandLine.h:703</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00082">Instruction.cpp:82</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6110fc30bc7311a6cf99814530362e21"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">llvm::AMDGPU::Hwreg::Offset</a></div><div class="ttdeci">Offset</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00432">SIDefines.h:432</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a8db49fd5069f21d514e7bb0fd11f0902"><div class="ttname"><a href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a></div><div class="ttdeci">static PointerType * getUnqual(Type *ElementType)</div><div class="ttdoc">This constructs a pointer to an object of the specified type in the default address space (address sp...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00651">DerivedTypes.h:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a28b9561d9ef3d237ef894023187fa26c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a28b9561d9ef3d237ef894023187fa26c">llvm::GlobalValue::getVisibility</a></div><div class="ttdeci">VisibilityTypes getVisibility() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00244">GlobalValue.h:244</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00652">GlobalValue.h:652</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantPointerNull_html_a96f5c85e4022e369266541b2db3fda69"><div class="ttname"><a href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">llvm::ConstantPointerNull::get</a></div><div class="ttdeci">static ConstantPointerNull * get(PointerType *T)</div><div class="ttdoc">Static factory methods - Return objects of the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01707">Constants.cpp:1707</a></div></div>
<div class="ttc" id="aTransforms_2IPO_8h_html"><div class="ttname"><a href="Transforms_2IPO_8h.html">IPO.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BumpPtrAllocatorImpl_html"><div class="ttname"><a href="classllvm_1_1BumpPtrAllocatorImpl.html">llvm::BumpPtrAllocatorImpl</a></div><div class="ttdoc">Allocate memory in an ever growing pool, as if by bump-pointer.</div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00063">Allocator.h:63</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a8a3cff2affdcf97cdb1111c7f03aa2c7"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a8a3cff2affdcf97cdb1111c7f03aa2c7">ClSummaryAction</a></div><div class="ttdeci">static cl::opt&lt; PassSummaryAction &gt; ClSummaryAction(&quot;lowertypetests-summary-action&quot;, cl::desc(&quot;What to do with the summary when running this pass&quot;), cl::values(clEnumValN(PassSummaryAction::None, &quot;none&quot;, &quot;Do nothing&quot;), clEnumValN(PassSummaryAction::Import, &quot;import&quot;, &quot;Import typeid resolutions from summary and globals&quot;), clEnumValN(PassSummaryAction::Export, &quot;export&quot;, &quot;Export typeid resolutions to summary and globals&quot;)), cl::Hidden)</div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetBuilder_html_aa21d510ab0919fcc10fbbb02ead13dab"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#aa21d510ab0919fcc10fbbb02ead13dab">llvm::lowertypetests::BitSetBuilder::build</a></div><div class="ttdeci">BitSetInfo build()</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l00155">LowerTypeTests.cpp:155</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1ByteArrayBuilder_html_ab9bf25f047271def1203635a5725eeff"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#ab9bf25f047271def1203635a5725eeff">llvm::lowertypetests::ByteArrayBuilder::Bytes</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; Bytes</div><div class="ttdoc">The byte array built so far.</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00176">LowerTypeTests.h:176</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_a38df51256d4b415b6a817b5e1c6d4d36"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a38df51256d4b415b6a817b5e1c6d4d36">llvm::BranchInst::Create</a></div><div class="ttdeci">static BranchInst * Create(BasicBlock *IfTrue, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03195">Instructions.h:3195</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae879dd14ccc28696f3d8c7b484df3c9a"><div class="ttname"><a href="namespacellvm.html#ae879dd14ccc28696f3d8c7b484df3c9a">llvm::appendToUsed</a></div><div class="ttdeci">void appendToUsed(Module &amp;M, ArrayRef&lt; GlobalValue * &gt; Values)</div><div class="ttdoc">Adds global values to the llvm.used list.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00109">ModuleUtils.cpp:109</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdoc">Class to represent pointers.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00632">DerivedTypes.h:632</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a687973de03d041e04b50a76d19d4fd36"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">llvm::GlobalValue::setLinkage</a></div><div class="ttdeci">void setLinkage(LinkageTypes LT)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00532">GlobalValue.h:532</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">llvm::logicalview::LVPrintKind::Summary</a></div><div class="ttdeci">@ Summary</div></div>
<div class="ttc" id="astructllvm_1_1TypeIdSummary_html"><div class="ttname"><a href="structllvm_1_1TypeIdSummary.html">llvm::TypeIdSummary</a></div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01145">ModuleSummaryIndex.h:1145</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantStruct_html_a801ba6ad994f4c40b17055d228312be7"><div class="ttname"><a href="classllvm_1_1ConstantStruct.html#a801ba6ad994f4c40b17055d228312be7">llvm::ConstantStruct::getAnon</a></div><div class="ttdeci">static Constant * getAnon(ArrayRef&lt; Constant * &gt; V, bool Packed=false)</div><div class="ttdoc">Return an anonymous struct that has the specified elements.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00462">Constants.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6adbed68009f582caa84cdfd2adf36f1"><div class="ttname"><a href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, unsigned AddrSpace, const Twine &amp;N=&quot;&quot;, Module *M=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00136">Function.h:136</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetBuilder_html_aa74e4e2e9b72748cd2b65915711b006c"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#aa74e4e2e9b72748cd2b65915711b006c">llvm::lowertypetests::BitSetBuilder::Offsets</a></div><div class="ttdeci">SmallVector&lt; uint64_t, 16 &gt; Offsets</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00062">LowerTypeTests.h:62</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">llvm::X86AS::FS</a></div><div class="ttdeci">@ FS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00201">X86.h:201</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b"><div class="ttname"><a href="namespacellvm_1_1codeview.html#a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b">llvm::codeview::CompileSym2Flags::EC</a></div><div class="ttdeci">@ EC</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a239427c2c3a01e23bd15b29633696536"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a239427c2c3a01e23bd15b29633696536">llvm::GlobalValue::isThreadLocal</a></div><div class="ttdeci">bool isThreadLocal() const</div><div class="ttdoc">If the value is &quot;Thread Local&quot;, its value isn't shared by the threads.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00259">GlobalValue.h:259</a></div></div>
<div class="ttc" id="aPointerUnion_8h_html"><div class="ttname"><a href="PointerUnion_8h.html">PointerUnion.h</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html_adf411edc4f135b570ab218079474ce77"><div class="ttname"><a href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">llvm::ArrayType::get</a></div><div class="ttdeci">static ArrayType * get(Type *ElementType, uint64_t NumElements)</div><div class="ttdoc">This static method is the primary way to construct an ArrayType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00640">Type.cpp:640</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetInfo_html_a2ea6be22983452a3ada83dd719caf787"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#a2ea6be22983452a3ada83dd719caf787">llvm::lowertypetests::BitSetInfo::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l00140">LowerTypeTests.cpp:140</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a305e214b4045b261a3a9b3ca39ff5acb"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a305e214b4045b261a3a9b3ca39ff5acb">llvm::ModuleSummaryIndex::cfiFunctionDefs</a></div><div class="ttdeci">std::set&lt; std::string &gt; &amp; cfiFunctionDefs()</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01510">ModuleSummaryIndex.h:1510</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aTinyPtrVector_8h_html"><div class="ttname"><a href="TinyPtrVector_8h.html">TinyPtrVector.h</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetInfo_html_ad415eb27cc01864ba9d7cf3673cd9096"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetInfo.html#ad415eb27cc01864ba9d7cf3673cd9096">llvm::lowertypetests::BitSetInfo::isAllOnes</a></div><div class="ttdeci">bool isAllOnes() const</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00052">LowerTypeTests.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a789cb293a347a50218bd41a96ae4c914"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a789cb293a347a50218bd41a96ae4c914">llvm::ModuleSummaryIndex::partiallySplitLTOUnits</a></div><div class="ttdeci">bool partiallySplitLTOUnits() const</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01456">ModuleSummaryIndex.h:1456</a></div></div>
<div class="ttc" id="aTriple_8h_html"><div class="ttname"><a href="Triple_8h.html">Triple.h</a></div></div>
<div class="ttc" id="aYAMLTraits_8h_html"><div class="ttname"><a href="YAMLTraits_8h.html">YAMLTraits.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetBuilder_html_a6f2b5f065ed39ff90702de1daf561925"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#a6f2b5f065ed39ff90702de1daf561925">llvm::lowertypetests::BitSetBuilder::Min</a></div><div class="ttdeci">uint64_t Min</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00063">LowerTypeTests.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a8b312a985e2504366d24a2200faf37ff"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a8b312a985e2504366d24a2200faf37ff">llvm::Triple::arm</a></div><div class="ttdeci">@ arm</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00049">Triple.h:49</a></div></div>
<div class="ttc" id="aModuleSummaryIndexYAML_8h_html"><div class="ttname"><a href="ModuleSummaryIndexYAML_8h.html">ModuleSummaryIndexYAML.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">llvm::logicalview::LVCompareKind::Types</a></div><div class="ttdeci">@ Types</div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdoc">Class to represent struct types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00213">DerivedTypes.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantDataArray_html_acea0f5c18b4593bf27592dfcfe59de6f"><div class="ttname"><a href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">llvm::ConstantDataArray::get</a></div><div class="ttdeci">static Constant * get(LLVMContext &amp;Context, ArrayRef&lt; ElementTy &gt; Elts)</div><div class="ttdoc">get() constructor - Return a constant with array type with an element count and element type matching...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00691">Constants.h:691</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ace940beeee97c222f836fe0ac70f6cf5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">llvm::BasicBlock::Create</a></div><div class="ttdeci">static BasicBlock * Create(LLVMContext &amp;Context, const Twine &amp;Name=&quot;&quot;, Function *Parent=nullptr, BasicBlock *InsertBefore=nullptr)</div><div class="ttdoc">Creates a new BasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00105">BasicBlock.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154ab456eadbc2378864e9aa9e2a545a1e65"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ab456eadbc2378864e9aa9e2a545a1e65">llvm::Triple::thumb</a></div><div class="ttdeci">@ thumb</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00083">Triple.h:83</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aCommandLine_8h_html_a187fd767976b311c09dff5e05ac0c1bc"><div class="ttname"><a href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a></div><div class="ttdeci">#define clEnumValN(ENUMVAL, FLAGNAME, DESC)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00678">CommandLine.h:678</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html">llvm::TypeTestResolution</a></div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01077">ModuleSummaryIndex.h:1077</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_aa4d726e91e8c89006e4c14581e7a463c"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#aa4d726e91e8c89006e4c14581e7a463c">llvm::ModuleSummaryIndex::cfiFunctionDecls</a></div><div class="ttdeci">std::set&lt; std::string &gt; &amp; cfiFunctionDecls()</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01513">ModuleSummaryIndex.h:1513</a></div></div>
<div class="ttc" id="aLowerTypeTests_8h_html"><div class="ttname"><a href="LowerTypeTests_8h.html">LowerTypeTests.h</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a66ff82a2443a6f422cd95843084564f6"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a66ff82a2443a6f422cd95843084564f6">llvm::TypeTestResolution::TheKind</a></div><div class="ttdeci">enum llvm::TypeTestResolution::Kind TheKind</div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_html_abee99c9c75d23a0304e5e58e3128a55f"><div class="ttname"><a href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">llvm::jitlink::Linkage</a></div><div class="ttdeci">Linkage</div><div class="ttdoc">Describes symbol linkage.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l00372">JITLink.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a3a09256c2858f8b38ce2b9481c528beda1893cdb6dc7d73055db02b7e1f46a276"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda1893cdb6dc7d73055db02b7e1f46a276">llvm::TypeTestResolution::Unknown</a></div><div class="ttdeci">@ Unknown</div><div class="ttdoc">Unknown (analysis not performed, don't lower)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01089">ModuleSummaryIndex.h:1089</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a83e907e55fa50e093caa96a0aff96201"><div class="ttname"><a href="classllvm_1_1Triple.html#a83e907e55fa50e093caa96a0aff96201">llvm::Triple::ObjectFormatType</a></div><div class="ttdeci">ObjectFormatType</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00279">Triple.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__fd__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__fd__ostream.html">llvm::raw_fd_ostream</a></div><div class="ttdoc">A raw_ostream that writes to a file descriptor.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00454">raw_ostream.h:454</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_acfe76fbea7879969fb26502ea5ffba97"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#acfe76fbea7879969fb26502ea5ffba97">llvm::NamedMDNode::operands</a></div><div class="ttdeci">iterator_range&lt; op_iterator &gt; operands()</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01683">Metadata.h:1683</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerUnion_html"><div class="ttname"><a href="classllvm_1_1PointerUnion.html">llvm::PointerUnion</a></div><div class="ttdoc">A discriminated union of two or more pointer types, with the discriminator in the low bit of the poin...</div><div class="ttdef"><b>Definition:</b> <a href="PointerUnion_8h_source.html#l00112">PointerUnion.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_aa7cce62ac5cc6df09cce0535874336b7"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">llvm::ConstantInt::getFalse</a></div><div class="ttdeci">static ConstantInt * getFalse(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00842">Constants.cpp:842</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1ByteArrayBuilder_html_a49082c502ad79672b9f721424779a643"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1ByteArrayBuilder.html#a49082c502ad79672b9f721424779a643">llvm::lowertypetests::ByteArrayBuilder::BitAllocs</a></div><div class="ttdeci">uint64_t BitAllocs[BitsPerByte]</div><div class="ttdoc">The number of bytes allocated so far for each of the bits.</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00181">LowerTypeTests.h:181</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_af0b71165db16633df4a356825edea094"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#af0b71165db16633df4a356825edea094">llvm::AMDGPU::HSAMD::Kernel::Key::SymbolName</a></div><div class="ttdeci">constexpr char SymbolName[]</div><div class="ttdoc">Key for Kernel::Metadata::mSymbolName.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00386">AMDGPUMetadata.h:386</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="anamespacellvm_html_a076f93c387f454f0db13d4bc7d4e7f9c"><div class="ttname"><a href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a></div><div class="ttdeci">void stable_sort(R &amp;&amp;Range)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01948">STLExtras.h:1948</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a4f7d657b28994fc8695b080cb20b1c97"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a4f7d657b28994fc8695b080cb20b1c97">llvm::TypeTestResolution::SizeM1</a></div><div class="ttdeci">uint64_t SizeM1</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01103">ModuleSummaryIndex.h:1103</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a3cfefc755ab656000934f91193afb1cd"><div class="ttname"><a href="classllvm_1_1Triple.html#a3cfefc755ab656000934f91193afb1cd">llvm::Triple::OSType</a></div><div class="ttdeci">OSType</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00185">Triple.h:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a82dbbd8e3688b0bc1eedb338864d0d0c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">llvm::ConstantInt::getTrue</a></div><div class="ttdeci">static ConstantInt * getTrue(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00835">Constants.cpp:835</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdoc">Constructor to create a '0' constant of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00356">Constants.cpp:356</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html_a8a638534b520f72ab7f2c886da739a6c"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">llvm::GlobalAlias::create</a></div><div class="ttdeci">static GlobalAlias * create(Type *Ty, unsigned AddressSpace, LinkageTypes Linkage, const Twine &amp;Name, Constant *Aliasee, Module *Parent)</div><div class="ttdoc">If a parent module is specified, the alias is automatically inserted into the end of the specified mo...</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00520">Globals.cpp:520</a></div></div>
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_aa91241c8c54738377749dc47ee489e0d"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">get</a></div><div class="ttdeci">Should compile to something r4 addze r3 instead we get</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2PowerPC_2README_8txt_source.html#l00024">README.txt:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_aab36927882fbfdcbb860d87fd9c30da8"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00151">ArrayRef.h:151</a></div></div>
<div class="ttc" id="aRelocation_8txt_html_a1be10f7c91239ede3800a93ecb136a94"><div class="ttname"><a href="Relocation_8txt.html#a1be10f7c91239ede3800a93ecb136a94">JumpTable</a></div><div class="ttdeci">MIPS Relocation Principles In there are several elements of the llvm::ISD::NodeType enum that deal with addresses and or relocations These are defined in include llvm Target TargetSelectionDAG td JumpTable</div><div class="ttdef"><b>Definition:</b> <a href="Relocation_8txt_source.html#l00006">Relocation.txt:6</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_adde2ea00dd2613ee41bfe91908e4e68e"><div class="ttname"><a href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">llvm::CallBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01349">InstrTypes.h:1349</a></div></div>
<div class="ttc" id="aGlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BumpPtrAllocatorImpl_html_af050e9702e6ff2b745dc4d2afd0963cf"><div class="ttname"><a href="classllvm_1_1BumpPtrAllocatorImpl.html#af050e9702e6ff2b745dc4d2afd0963cf">llvm::BumpPtrAllocatorImpl::Allocate</a></div><div class="ttdeci">LLVM_ATTRIBUTE_RETURNS_NONNULL void * Allocate(size_t Size, Align Alignment)</div><div class="ttdoc">Allocate space at the specified alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00148">Allocator.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154ae84559483d0c0f2bddc802ce6f76dd8b"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ae84559483d0c0f2bddc802ce6f76dd8b">llvm::Triple::riscv32</a></div><div class="ttdeci">@ riscv32</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00075">Triple.h:75</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a83e907e55fa50e093caa96a0aff96201a2ed78f59e2d35011e1d1ed0ad96cf411"><div class="ttname"><a href="classllvm_1_1Triple.html#a83e907e55fa50e093caa96a0aff96201a2ed78f59e2d35011e1d1ed0ad96cf411">llvm::Triple::MachO</a></div><div class="ttdeci">@ MachO</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00286">Triple.h:286</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_afde445cbc1cfd5ed18aa94b4e3005c28"><div class="ttname"><a href="LowerTypeTests_8cpp.html#afde445cbc1cfd5ed18aa94b4e3005c28">selectJumpTableArmEncoding</a></div><div class="ttdeci">static Triple::ArchType selectJumpTableArmEncoding(ArrayRef&lt; GlobalTypeMember * &gt; Functions, Triple::ArchType ModuleArch)</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l01356">LowerTypeTests.cpp:1356</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a313a37b081417cd4f6d4462d431a9a3c"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a313a37b081417cd4f6d4462d431a9a3c">ClWriteSummary</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; ClWriteSummary(&quot;lowertypetests-write-summary&quot;, cl::desc(&quot;Write summary to given YAML file after running pass&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aEquivalenceClasses_8h_html"><div class="ttname"><a href="EquivalenceClasses_8h.html">EquivalenceClasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReturnInst_html_a8c4c3b7c7daea37c75c50563654bf934"><div class="ttname"><a href="classllvm_1_1ReturnInst.html#a8c4c3b7c7daea37c75c50563654bf934">llvm::ReturnInst::Create</a></div><div class="ttdeci">static ReturnInst * Create(LLVMContext &amp;C, Value *retVal=nullptr, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03084">Instructions.h:3084</a></div></div>
<div class="ttc" id="aclassllvm_1_1TrailingObjects_html"><div class="ttname"><a href="classllvm_1_1TrailingObjects.html">llvm::TrailingObjects</a></div><div class="ttdoc">See the file comment for details on the usage of the TrailingObjects type.</div><div class="ttdef"><b>Definition:</b> <a href="TrailingObjects_8h_source.html#l00212">TrailingObjects.h:212</a></div></div>
<div class="ttc" id="anamespacellvm_html_afc6337ef6e00f6bebd44d81b685d655f"><div class="ttname"><a href="namespacellvm.html#afc6337ef6e00f6bebd44d81b685d655f">llvm::GetPointerBaseWithConstantOffset</a></div><div class="ttdeci">Value * GetPointerBaseWithConstantOffset(Value *Ptr, int64_t &amp;Offset, const DataLayout &amp;DL, bool AllowNonInbounds=true)</div><div class="ttdoc">Analyze the specified pointer to see if it can be expressed as a base pointer plus a constant offset.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00271">ValueTracking.h:271</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae8f67fbc50a05486efacc898909c8fa6"><div class="ttname"><a href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6">llvm::CfiFunctionLinkage</a></div><div class="ttdeci">CfiFunctionLinkage</div><div class="ttdoc">The type of CFI jumptable needed for a function.</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8h_source.html#l00031">TypeMetadataUtils.h:31</a></div></div>
<div class="ttc" id="aGlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_acf5c2920c8a10eeb1d8c5d3a9c2adfb6a79ceee9f8e3c1f0cc74223e05d2448bf"><div class="ttname"><a href="namespacellvm_1_1codeview.html#acf5c2920c8a10eeb1d8c5d3a9c2adfb6a79ceee9f8e3c1f0cc74223e05d2448bf">llvm::codeview::ModifierOptions::Const</a></div><div class="ttdeci">@ Const</div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_ac10322dc19a928c2dbb83ec9689dc23caa10443964156b9e87c95e74c8f9baf15"><div class="ttname"><a href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caa10443964156b9e87c95e74c8f9baf15">llvm::pdb::PDB_ColorItem::Padding</a></div><div class="ttdeci">@ Padding</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdeci">@ ExternalLinkage</div><div class="ttdoc">Externally visible function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00048">GlobalValue.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00224">Type.cpp:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a338590123630c357df6340c38d066572"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a338590123630c357df6340c38d066572">llvm::GlobalObject::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set a particular kind of metadata attachment.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01325">Metadata.cpp:1325</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57d2f9ee99e9e68cff564d0d579c8163"><div class="ttname"><a href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a></div><div class="ttdeci">int countr_zero(T Val)</div><div class="ttdoc">Count number of 0's from the least significant bit to the most stopping at the first 1.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00179">bit.h:179</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2c35a79774d2952408b854ec6fef10f3"><div class="ttname"><a href="namespacellvm.html#a2c35a79774d2952408b854ec6fef10f3">llvm::errorOrToExpected</a></div><div class="ttdeci">Expected&lt; T &gt; errorOrToExpected(ErrorOr&lt; T &gt; &amp;&amp;EO)</div><div class="ttdoc">Convert an ErrorOr&lt;T&gt; to an Expected&lt;T&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01186">Error.h:1186</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">llvm::GlobalValue::PrivateLinkage</a></div><div class="ttdeci">@ PrivateLinkage</div><div class="ttdoc">Like Internal, but omit from symbol table.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00056">GlobalValue.h:56</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="astructllvm_1_1lowertypetests_1_1BitSetBuilder_html_a2797f502ab1870901acca55c03049bca"><div class="ttname"><a href="structllvm_1_1lowertypetests_1_1BitSetBuilder.html#a2797f502ab1870901acca55c03049bca">llvm::lowertypetests::BitSetBuilder::Max</a></div><div class="ttdeci">uint64_t Max</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8h_source.html#l00064">LowerTypeTests.h:64</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a81a0fae24e6bdfe240da4249a8da5978a6a061313d22e51e0f25b7cd4dc065233"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a81a0fae24e6bdfe240da4249a8da5978a6a061313d22e51e0f25b7cd4dc065233">llvm::pdb::DbgHeaderType::Max</a></div><div class="ttdeci">@ Max</div></div>
<div class="ttc" id="astructllvm_1_1TypeIdSummary_html_a80bc0b8f2041f3a3839f393f1a6aae33"><div class="ttname"><a href="structllvm_1_1TypeIdSummary.html#a80bc0b8f2041f3a3839f393f1a6aae33">llvm::TypeIdSummary::TTRes</a></div><div class="ttdeci">TypeTestResolution TTRes</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01146">ModuleSummaryIndex.h:1146</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html">llvm::ModuleSummaryIndex</a></div><div class="ttdoc">Class to hold module path string table and global value map, and encapsulate methods for operating on...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01199">ModuleSummaryIndex.h:1199</a></div></div>
<div class="ttc" id="aModuleUtils_8h_html"><div class="ttname"><a href="ModuleUtils_8h.html">ModuleUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ab2caa29167597390ab2fc3cf30d70389"><div class="ttname"><a href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">llvm::CallBase::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01351">InstrTypes.h:1351</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_afc04614275d7675c9f2ec7d52949616f"><div class="ttname"><a href="LowerTypeTests_8cpp.html#afc04614275d7675c9f2ec7d52949616f">ClDropTypeTests</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClDropTypeTests(&quot;lowertypetests-drop-type-tests&quot;, cl::desc(&quot;Simply drop type test assume sequences&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a565dd825f238fa0a8c4bbfe562635f7c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a></div><div class="ttdeci">static Constant * getTrue(Type *Ty)</div><div class="ttdoc">For a boolean type or a vector of boolean type, return true or a vector with every element true.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00126">InstructionSimplify.cpp:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html_a90b790ccb1af4ea5ccd69db4b8cd2d81"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a90b790ccb1af4ea5ccd69db4b8cd2d81">llvm::IntegerType::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Get the number of bits in this IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00072">DerivedTypes.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">llvm::tgtok::Bit</a></div><div class="ttdeci">@ Bit</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a6b66f492cbea5f4b4f434d7178477116"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a6b66f492cbea5f4b4f434d7178477116">llvm::GlobalValue::isDeclarationForLinker</a></div><div class="ttdeci">bool isDeclarationForLinker() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00614">GlobalValue.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a8de021e28a3c04c9216ad8decf104f02"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">const Instruction * getTerminator() const LLVM_READONLY</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00127">BasicBlock.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">llvm::MipsISD::Ins</a></div><div class="ttdeci">@ Ins</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00160">MipsISelLowering.h:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; Value * &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html_a6cb66137274f95e4bf6b324b8af9ab56"><div class="ttname"><a href="classllvm_1_1StructType.html#a6cb66137274f95e4bf6b324b8af9ab56">llvm::StructType::getElementType</a></div><div class="ttdeci">Type * getElementType(unsigned N) const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00328">DerivedTypes.h:328</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a92041fc7f781ba4fe708eec99139b72f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a92041fc7f781ba4fe708eec99139b72f">llvm::GlobalValue::getType</a></div><div class="ttdeci">PointerType * getType() const</div><div class="ttdoc">Global values are always pointers.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00290">GlobalValue.h:290</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9c6b351507d3c0730f4290919d43a12"><div class="ttname"><a href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef</a></div><div class="ttdeci">ArrayRef(const T &amp;OneElt) -&gt; ArrayRef&lt; T &gt;</div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a29e0b1c558b350347e2652b35b26fea8"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a29e0b1c558b350347e2652b35b26fea8">llvm::GlobalValue::getValueType</a></div><div class="ttdeci">Type * getValueType() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00292">GlobalValue.h:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a7e8dad1701aa6445be4a29f654b0473c"><div class="ttname"><a href="classllvm_1_1Value.html#a7e8dad1701aa6445be4a29f654b0473c">llvm::Value::replaceUsesWithIf</a></div><div class="ttdeci">void replaceUsesWithIf(Value *New, llvm::function_ref&lt; bool(Use &amp;U)&gt; ShouldReplace)</div><div class="ttdoc">Go through the uses list for this definition and make each use point to &quot;V&quot; if the callback ShouldRep...</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00540">Value.cpp:540</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html_a09b07d472515f1d307c0e8229f6856fb"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html#a09b07d472515f1d307c0e8229f6856fb">llvm::GlobalAlias::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">eraseFromParent - This method unlinks 'this' from the containing module and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00552">Globals.cpp:552</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ae855357b6c5e6e7ed1869272708a3a84"><div class="ttname"><a href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">llvm::Value::takeName</a></div><div class="ttdeci">void takeName(Value *V)</div><div class="ttdoc">Transfer the name from V to this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00381">Value.cpp:381</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae2aea60aed775d05692317bf4855c291"><div class="ttname"><a href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">llvm::SplitBlockAndInsertIfThen</a></div><div class="ttdeci">Instruction * SplitBlockAndInsertIfThen(Value *Cond, Instruction *SplitBefore, bool Unreachable, MDNode *BranchWeights, DominatorTree *DT, LoopInfo *LI=nullptr, BasicBlock *ThenBlock=nullptr)</div><div class="ttdoc">Split the containing block at the specified instruction - everything before SplitBefore stays in the ...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l01542">BasicBlockUtils.cpp:1542</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac030f6d03b674c2d132fd54fb60c9f26"><div class="ttname"><a href="namespacellvm.html#ac030f6d03b674c2d132fd54fb60c9f26">llvm::appendToGlobalCtors</a></div><div class="ttdeci">void appendToGlobalCtors(Module &amp;M, Function *F, int Priority, Constant *Data=nullptr)</div><div class="ttdoc">Append F to the list of global ctors of module M with the given Priority.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00069">ModuleUtils.cpp:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="anamespacellvm_html_a58328e0582aabaf012bf9bc6f36c9e04"><div class="ttname"><a href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">llvm::M1</a></div><div class="ttdeci">unsigned M1(unsigned Val)</div><div class="ttdef"><b>Definition:</b> <a href="VE_8h_source.html#l00468">VE.h:468</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caa81fc8db28ac4af45766fbab2e79d466"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa81fc8db28ac4af45766fbab2e79d466">llvm::GlobalValue::ExternalWeakLinkage</a></div><div class="ttdeci">@ ExternalWeakLinkage</div><div class="ttdoc">ExternalWeak linkage description.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00057">GlobalValue.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdoc">Conditional or Unconditional Branch instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03139">Instructions.h:3139</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a3a09256c2858f8b38ce2b9481c528bedad6fc792b7da30012ba5aa2e942383f1f"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528bedad6fc792b7da30012ba5aa2e942383f1f">llvm::TypeTestResolution::ByteArray</a></div><div class="ttdeci">@ ByteArray</div><div class="ttdoc">Test a byte array (first example)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01084">ModuleSummaryIndex.h:1084</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAggregateZero_html_abfa1cf8b4348407b167f93bc7c01055f"><div class="ttname"><a href="classllvm_1_1ConstantAggregateZero.html#abfa1cf8b4348407b167f93bc7c01055f">llvm::ConstantAggregateZero::get</a></div><div class="ttdeci">static ConstantAggregateZero * get(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01595">Constants.cpp:1595</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a499ea32ca1b8d16cedfe01d1e5b08f29"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00667">SmallVector.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a19db81b6f3d3ab342972dce7756fb077"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a19db81b6f3d3ab342972dce7756fb077">llvm::GlobalValue::isDSOLocal</a></div><div class="ttdeci">bool isDSOLocal() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00301">GlobalValue.h:301</a></div></div>
<div class="ttc" id="aBasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154ad6b7ed7027706d2960e771c6374025b1"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154ad6b7ed7027706d2960e771c6374025b1">llvm::Triple::wasm64</a></div><div class="ttdeci">@ wasm64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00105">Triple.h:105</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lowertypetests_html_ab6535371eaec8620c84bbb0689535dbb"><div class="ttname"><a href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">llvm::lowertypetests::isJumpTableCanonical</a></div><div class="ttdeci">bool isJumpTableCanonical(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l00240">LowerTypeTests.cpp:240</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a1b755fabd0ed8cb5a43a9bba2f5e5e40"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a1b755fabd0ed8cb5a43a9bba2f5e5e40">kARMJumpTableEntrySize</a></div><div class="ttdeci">static const unsigned kARMJumpTableEntrySize</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l01183">LowerTypeTests.cpp:1183</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aa242d8ab89216c14beab812e07009b2a"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">llvm::GlobalValue::setVisibility</a></div><div class="ttdeci">void setVisibility(VisibilityTypes V)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00250">GlobalValue.h:250</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a6414735714bdbd5c8790f32a0fe99bd2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a6414735714bdbd5c8790f32a0fe99bd2">llvm::StringRef::split</a></div><div class="ttdeci">std::pair&lt; StringRef, StringRef &gt; split(char Separator) const</div><div class="ttdoc">Split into two substrings around the first occurrence of a separator character.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00688">StringRef.h:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDOperand_html_a6cc775e9d3dc3b6ea29c37e42f71d907"><div class="ttname"><a href="classllvm_1_1MDOperand.html#a6cc775e9d3dc3b6ea29c37e42f71d907">llvm::MDOperand::get</a></div><div class="ttdeci">Metadata * get() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00794">Metadata.h:794</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">llvm::Triple::aarch64</a></div><div class="ttdeci">@ aarch64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00051">Triple.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a7ca5197533a9c1fb8a2bd30587fcec6b"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00152">ArrayRef.h:152</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a453599f2782c97d48d8bcedf6f75122d"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a453599f2782c97d48d8bcedf6f75122d">llvm::TypeTestResolution::SizeM1BitWidth</a></div><div class="ttdeci">unsigned SizeM1BitWidth</div><div class="ttdoc">Range of size-1 expressed as a bit width.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01095">ModuleSummaryIndex.h:1095</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_a095f8f031d99ce3c0b25478713293dea"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a095f8f031d99ce3c0b25478713293dea">llvm::GlobalVariable::setInitializer</a></div><div class="ttdeci">void setInitializer(Constant *InitVal)</div><div class="ttdoc">setInitializer - Sets the initializer for this global variable, removing any existing initializer if ...</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00472">Globals.cpp:472</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aLowerTypeTests_8cpp_html_a66186c9c661db652ceac407e675c7856"><div class="ttname"><a href="LowerTypeTests_8cpp.html#a66186c9c661db652ceac407e675c7856">createMaskedBitTest</a></div><div class="ttdeci">static Value * createMaskedBitTest(IRBuilder&lt;&gt; &amp;B, Value *Bits, Value *BitOffset)</div><div class="ttdoc">Build a test that bit BitOffset mod sizeof(Bits)*8 is set in Bits.</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l00559">LowerTypeTests.cpp:559</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:27:07 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
