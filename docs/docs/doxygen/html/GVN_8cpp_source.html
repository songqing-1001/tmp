<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Scalar/GVN.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_e6e1f1f37d351595fa984b942927b205.html">Scalar</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">GVN.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="GVN_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- GVN.cpp - Eliminate redundant values and loads ---------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This pass performs global value numbering to eliminate fully redundant</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// instructions.  It also performs simple dead load elimination.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// Note that this pass does the value numbering itself; it does not use the</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// ValueNumbering analysis passes.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GVN_8h.html">llvm/Transforms/Scalar/GVN.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DepthFirstIterator_8h.html">llvm/ADT/DepthFirstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Hashing_8h.html">llvm/ADT/Hashing.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MapVector_8h.html">llvm/ADT/MapVector.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PostOrderIterator_8h.html">llvm/ADT/PostOrderIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumeBundleQueries_8h.html">llvm/Analysis/AssumeBundleQueries.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Analysis_2CFG_8h.html">llvm/Analysis/CFG.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DomTreeUpdater_8h.html">llvm/Analysis/DomTreeUpdater.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalsModRef_8h.html">llvm/Analysis/GlobalsModRef.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionPrecedenceTracking_8h.html">llvm/Analysis/InstructionPrecedenceTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopInfo_8h.html">llvm/Analysis/LoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryDependenceAnalysis_8h.html">llvm/Analysis/MemoryDependenceAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemorySSA_8h.html">llvm/Analysis/MemorySSA.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemorySSAUpdater_8h.html">llvm/Analysis/MemorySSAUpdater.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PHITransAddr_8h.html">llvm/Analysis/PHITransAddr.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/IR/PatternMatch.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Use_8h.html">llvm/IR/Use.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumeBundleBuilder_8h.html">llvm/Transforms/Utils/AssumeBundleBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SSAUpdater_8h.html">llvm/Transforms/Utils/SSAUpdater.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VNCoercion_8h.html">llvm/Transforms/Utils/VNCoercion.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">using namespace </span>llvm::gvn;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1VNCoercion.html">llvm::VNCoercion</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">using namespace </span>PatternMatch;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   87</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;gvn&quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumGVNInstr, <span class="stringliteral">&quot;Number of instructions deleted&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumGVNLoad, <span class="stringliteral">&quot;Number of loads deleted&quot;</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumGVNPRE, <span class="stringliteral">&quot;Number of instructions PRE&#39;d&quot;</span>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumGVNBlocks, <span class="stringliteral">&quot;Number of blocks merged&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumGVNSimpl, <span class="stringliteral">&quot;Number of instructions simplified&quot;</span>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumGVNEqProp, <span class="stringliteral">&quot;Number of equalities propagated&quot;</span>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumPRELoad, <span class="stringliteral">&quot;Number of loads PRE&#39;d&quot;</span>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumPRELoopLoad, <span class="stringliteral">&quot;Number of loop loads PRE&#39;d&quot;</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(IsValueFullyAvailableInBlockNumSpeculationsMax,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;          <span class="stringliteral">&quot;Number of blocks speculated as available in &quot;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;          <span class="stringliteral">&quot;IsValueFullyAvailableInBlock(), max&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(MaxBBSpeculationCutoffReachedTimes,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;          <span class="stringliteral">&quot;Number of times we we reached gvn-max-block-speculations cut-off &quot;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;          <span class="stringliteral">&quot;preventing further exploration&quot;</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="GVN_8cpp.html#a1111bb57c327bf25aa5195378dd0b89b">GVNEnablePRE</a>(<span class="stringliteral">&quot;enable-pre&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="GVN_8cpp.html#a56cf818e65f57297f94f1181b212c8c4">GVNEnableLoadPRE</a>(<span class="stringliteral">&quot;enable-load-pre&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="GVN_8cpp.html#a555a6bddfc8ce77b217cb0702fd5f0c2">GVNEnableLoadInLoopPRE</a>(<span class="stringliteral">&quot;enable-load-in-loop-pre&quot;</span>,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                            <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<a class="code" href="GVN_8cpp.html#a43c3ee8a0f5e33ecaf4100bbb86ef8f3">GVNEnableSplitBackedgeInLoadPRE</a>(<span class="stringliteral">&quot;enable-split-backedge-in-load-pre&quot;</span>,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="GVN_8cpp.html#aa5a341aa66c996bec3a079bd89c389b0">GVNEnableMemDep</a>(<span class="stringliteral">&quot;enable-gvn-memdep&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;uint32_t&gt;</a> <a class="code" href="GVN_8cpp.html#a9636b90b0f657b6a2d0761d780cb762c">MaxNumDeps</a>(</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="stringliteral">&quot;gvn-max-num-deps&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(100),</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Max number of dependences to attempt Load PRE (default = 100)&quot;</span>));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">// This is based on IsValueFullyAvailableInBlockNumSpeculationsMax stat.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;uint32_t&gt;</a> <a class="code" href="GVN_8cpp.html#ab576f7479f5ae0d3daebf7e7c5f3a32c">MaxBBSpeculations</a>(</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="stringliteral">&quot;gvn-max-block-speculations&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(600),</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Max number of blocks we&#39;re willing to speculate on (and recurse &quot;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;             <span class="stringliteral">&quot;into) when deducing if a value is fully available or not in GVN &quot;</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;             <span class="stringliteral">&quot;(default = 600)&quot;</span>));</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;uint32_t&gt;</a> <a class="code" href="GVN_8cpp.html#a6d6082a540140dafbc24648e2daa4882">MaxNumVisitedInsts</a>(</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="stringliteral">&quot;gvn-max-num-visited-insts&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(100),</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Max number of visited instructions when trying to find &quot;</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;             <span class="stringliteral">&quot;dominating value of select dependency (default = 100)&quot;</span>));</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structllvm_1_1GVNPass_1_1Expression.html">  130</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">llvm::GVNPass::Expression</a> {</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structllvm_1_1GVNPass_1_1Expression.html#a9befc406b4248fcadb0b81079602515f">  131</a></span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html#a9befc406b4248fcadb0b81079602515f">opcode</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structllvm_1_1GVNPass_1_1Expression.html#a464cda82a6dff3bb58abd9704c6bc523">  132</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a817f593f22d6f72037f5ab5c9972df61">commutative</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// The type is not necessarily the result type of the expression, it may be</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// any additional type needed to disambiguate the expression.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structllvm_1_1GVNPass_1_1Expression.html#a880eb73e8f60cb6c3dc2e1e639fc6236">  135</a></span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="README-X86-64_8txt.html#aac3add0badd5c39bebc02df0b5d9bdcf">type</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structllvm_1_1GVNPass_1_1Expression.html#a069d9ba665289a777ed0d340ca800132">  136</a></span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint32_t, 4&gt;</a> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html#a069d9ba665289a777ed0d340ca800132">varargs</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="structllvm_1_1GVNPass_1_1Expression.html#ac8903c858d2f772afe5645945071edd8">  138</a></span>&#160;  <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html#ac8903c858d2f772afe5645945071edd8">Expression</a>(<a class="code" href="classuint32__t.html">uint32_t</a> o = ~2U) : opcode(o) {}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structllvm_1_1GVNPass_1_1Expression.html#a63b54431c6f3c26280339dea8c89ca61">  140</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html#a63b54431c6f3c26280339dea8c89ca61">operator==</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">Expression</a> &amp;other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (opcode != other.<a class="code" href="structllvm_1_1GVNPass_1_1Expression.html#a9befc406b4248fcadb0b81079602515f">opcode</a>)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (opcode == ~0U || opcode == ~1U)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README-X86-64_8txt.html#aac3add0badd5c39bebc02df0b5d9bdcf">type</a> != other.<a class="code" href="structllvm_1_1GVNPass_1_1Expression.html#a880eb73e8f60cb6c3dc2e1e639fc6236">type</a>)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (varargs != other.<a class="code" href="structllvm_1_1GVNPass_1_1Expression.html#a069d9ba665289a777ed0d340ca800132">varargs</a>)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structllvm_1_1GVNPass_1_1Expression.html#a98158be2cdc689853dc1691edbce891c">  152</a></span>&#160;  <span class="keyword">friend</span> <a class="code" href="classllvm_1_1hash__code.html">hash_code</a> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html#a98158be2cdc689853dc1691edbce891c">hash_value</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">Expression</a> &amp;<a class="code" href="classllvm_1_1Value.html">Value</a>) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#add71474638430694c84640146383fc44">hash_combine</a>(</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a>.opcode, <a class="code" href="classllvm_1_1Value.html">Value</a>.type,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">hash_combine_range</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>.varargs.begin(), <a class="code" href="classllvm_1_1Value.html">Value</a>.varargs.end()));</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;};</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html">  161</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo</a>&lt;<a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a>::<a class="code" href="classllvm_1_1Expression.html">Expression</a>&gt; {</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a793a3e132fc31a11ea80306cb3d9e023">  162</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">GVNPass::Expression</a> <a class="code" href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a793a3e132fc31a11ea80306cb3d9e023">getEmptyKey</a>() { <span class="keywordflow">return</span> ~0U; }</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a0b85f8dffcf79eb6062158649f7e9c60">  163</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">GVNPass::Expression</a> <a class="code" href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a0b85f8dffcf79eb6062158649f7e9c60">getTombstoneKey</a>() { <span class="keywordflow">return</span> ~1U; }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a494aa24fd96d72feb42e79a3c9c614ce">  165</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a494aa24fd96d72feb42e79a3c9c614ce">getHashValue</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">GVNPass::Expression</a> &amp;<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">using</span> <a class="code" href="namespacellvm.html#a0e2e479cf4860dc8a00614e36ee3d5e9">llvm::hash_value</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm.html#a0e2e479cf4860dc8a00614e36ee3d5e9">hash_value</a>(<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a14f568fac98319c42f9eb11b73a54bc8">  171</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a14f568fac98319c42f9eb11b73a54bc8">isEqual</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">GVNPass::Expression</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                      <span class="keyword">const</span> <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">GVNPass::Expression</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;};</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/// Represents a particular available value that we know how to materialize.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">/// Materialization of an AvailableValue never fails.  An AvailableValue is</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">/// implicitly associated with a rematerialization point which is the</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">/// location of the instruction from which it was formed.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html">  183</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">llvm::gvn::AvailableValue</a> {</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a42db635c040abe996f4934c75686359c">  184</a></span>&#160;  <span class="keyword">enum class</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a42db635c040abe996f4934c75686359c">ValType</a> {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    SimpleVal, <span class="comment">// A simple offsetted value that is accessed.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    LoadVal,   <span class="comment">// A value produced by a load.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    MemIntrin, <span class="comment">// A memory intrinsic which is loaded from.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    UndefVal,  <span class="comment">// A UndefValue representing a value from dead block (which</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;               <span class="comment">// is not yet physically removed from the CFG).</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    SelectVal, <span class="comment">// A pointer select which is loaded from and for which the load</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;               <span class="comment">// can be replace by a value select.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  };</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">  /// Val - The value that is live out of the block.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#ab9f29688ab930e667650960bd1e3b5f6">  195</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ab9f29688ab930e667650960bd1e3b5f6">Val</a>;<span class="comment"></span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">  /// Kind of the live-out value.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a53b4d539e0cab6b6027eb49e3291e7d3">  197</a></span>&#160;<span class="comment"></span>  <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a42db635c040abe996f4934c75686359c">ValType</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a53b4d539e0cab6b6027eb49e3291e7d3">Kind</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">  /// Offset - The byte offset in Val that is interesting for the load query.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a0672cd4b94a2a2a421c86c60b2ce8ae9">  200</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;<span class="comment"></span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">  /// V1, V2 - The dominating non-clobbered values of SelectVal.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a1b03efeb26edf19fa86bb02ae9e10c9d">  202</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *V1 = <span class="keyword">nullptr</span>, *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a4e01d73dca4690562ee833fea9becbfb">  204</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a4e01d73dca4690562ee833fea9becbfb">get</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> Res;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ab9f29688ab930e667650960bd1e3b5f6">Val</a> = V;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a53b4d539e0cab6b6027eb49e3291e7d3">Kind</a> = ValType::SimpleVal;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a0672cd4b94a2a2a421c86c60b2ce8ae9">Offset</a> = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a9d12af97f2ad6cbd8afde5ad3c76ce42">  212</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a9d12af97f2ad6cbd8afde5ad3c76ce42">getMI</a>(<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> Res;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ab9f29688ab930e667650960bd1e3b5f6">Val</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a53b4d539e0cab6b6027eb49e3291e7d3">Kind</a> = ValType::MemIntrin;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a0672cd4b94a2a2a421c86c60b2ce8ae9">Offset</a> = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a8fb90fef376df87f6cc844521cd7eb54">  220</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a8fb90fef376df87f6cc844521cd7eb54">getLoad</a>(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> Res;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ab9f29688ab930e667650960bd1e3b5f6">Val</a> = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a53b4d539e0cab6b6027eb49e3291e7d3">Kind</a> = ValType::LoadVal;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a0672cd4b94a2a2a421c86c60b2ce8ae9">Offset</a> = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#acf794f14bc9b47394083056177f8d831">  228</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#acf794f14bc9b47394083056177f8d831">getUndef</a>() {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> Res;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ab9f29688ab930e667650960bd1e3b5f6">Val</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a53b4d539e0cab6b6027eb49e3291e7d3">Kind</a> = ValType::UndefVal;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a0672cd4b94a2a2a421c86c60b2ce8ae9">Offset</a> = 0;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a21f6f28b6684fc17f3b56b76f379fc8d">  236</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a21f6f28b6684fc17f3b56b76f379fc8d">getSelect</a>(<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *Sel, <a class="code" href="classllvm_1_1Value.html">Value</a> *V1, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> Res;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ab9f29688ab930e667650960bd1e3b5f6">Val</a> = Sel;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a53b4d539e0cab6b6027eb49e3291e7d3">Kind</a> = ValType::SelectVal;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a0672cd4b94a2a2a421c86c60b2ce8ae9">Offset</a> = 0;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ac46064c40813ae08522074a52c486d9d">V1</a> = V1;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a1b03efeb26edf19fa86bb02ae9e10c9d">V2</a> = <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a1957eb1d23950a66cddf35d4e62c0650">  246</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a1957eb1d23950a66cddf35d4e62c0650">isSimpleValue</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Kind == ValType::SimpleVal; }</div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a4117f47b6acddc12c794b2549094ffc6">  247</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a4117f47b6acddc12c794b2549094ffc6">isCoercedLoadValue</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Kind == ValType::LoadVal; }</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#ad7d485c64e80962fadbbbfe8e1832e2f">  248</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ad7d485c64e80962fadbbbfe8e1832e2f">isMemIntrinValue</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Kind == ValType::MemIntrin; }</div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a9d3f6ea51fcb69b01486a4f6fb5c52eb">  249</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a9d3f6ea51fcb69b01486a4f6fb5c52eb">isUndefValue</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Kind == ValType::UndefVal; }</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#aaba901f0be98c9561867673a9057e903">  250</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#aaba901f0be98c9561867673a9057e903">isSelectValue</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Kind == ValType::SelectVal; }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#aa52d0f95d2e6899148a3ac7d24b3fe6b">  252</a></span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#aa52d0f95d2e6899148a3ac7d24b3fe6b">getSimpleValue</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isSimpleValue() &amp;&amp; <span class="stringliteral">&quot;Wrong accessor&quot;</span>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> Val;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#ab969341f48b71d789240c97315302e3e">  257</a></span>&#160;  <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ab969341f48b71d789240c97315302e3e">getCoercedLoadValue</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isCoercedLoadValue() &amp;&amp; <span class="stringliteral">&quot;Wrong accessor&quot;</span>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">return</span> cast&lt;LoadInst&gt;(Val);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a657b61cd00f7603c59e57c5c0e71f87f">  262</a></span>&#160;  <a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a657b61cd00f7603c59e57c5c0e71f87f">getMemIntrinValue</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isMemIntrinValue() &amp;&amp; <span class="stringliteral">&quot;Wrong accessor&quot;</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">return</span> cast&lt;MemIntrinsic&gt;(Val);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#a6d52b92a37b7a4dcd17682386c9193bb">  267</a></span>&#160;  <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a6d52b92a37b7a4dcd17682386c9193bb">getSelectValue</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isSelectValue() &amp;&amp; <span class="stringliteral">&quot;Wrong accessor&quot;</span>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">return</span> cast&lt;SelectInst&gt;(Val);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">  /// Emit code at the specified insertion point to adjust the value defined</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">  /// here to the specified type. This handles various coercion cases.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *MaterializeAdjustedValue(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertPt,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                  <a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a> &amp;gvn) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;};</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">/// Represents an AvailableValue which can be rematerialized at the end of</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">/// the associated BasicBlock.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">  280</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">llvm::gvn::AvailableValueInBlock</a> {<span class="comment"></span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">  /// BB - The basic block in question.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#aa9760328b70e39d067e69f06fc777089">  282</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">  /// AV - The actual available value</span></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a933a08dbc5d4952d1aeb8bb59dda3e6b">  285</a></span>&#160;<span class="comment"></span>  <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a933a08dbc5d4952d1aeb8bb59dda3e6b">AV</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a3992e373c593770700e65bbd9a957cf7">  287</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">AvailableValueInBlock</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a3992e373c593770700e65bbd9a957cf7">get</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> &amp;&amp;AV) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">AvailableValueInBlock</a> Res;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#aa9760328b70e39d067e69f06fc777089">BB</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    Res.<a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a933a08dbc5d4952d1aeb8bb59dda3e6b">AV</a> = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(AV);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a2b3759c8c4cc24dcceead45a434546d0">  294</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">AvailableValueInBlock</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a2b3759c8c4cc24dcceead45a434546d0">get</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *V,</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                   <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a4e01d73dca4690562ee833fea9becbfb">AvailableValue::get</a>(V, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>));</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a311f188566b0d91b585df6c8bb31eb3a">  299</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">AvailableValueInBlock</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a311f188566b0d91b585df6c8bb31eb3a">getUndef</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#acf794f14bc9b47394083056177f8d831">AvailableValue::getUndef</a>());</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#aa2a77bfeac83b06ea3d42c9ed38b511a">  303</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">AvailableValueInBlock</a> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#aa2a77bfeac83b06ea3d42c9ed38b511a">getSelect</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *Sel,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                         <a class="code" href="classllvm_1_1Value.html">Value</a> *V1, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a21f6f28b6684fc17f3b56b76f379fc8d">AvailableValue::getSelect</a>(Sel, V1, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>));</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">  /// Emit code at the end of this block to adjust the value defined here to</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">  /// the specified type. This handles various coercion cases.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#ae18348e252f91817dee6ab24869422b6">  310</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#ae18348e252f91817dee6ab24869422b6">MaterializeAdjustedValue</a>(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a> &amp;gvn)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">return</span> AV.<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ac96558c87ecbcc96f020a0efcaade750">MaterializeAdjustedValue</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator(), gvn);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;};</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">//                     ValueTable Internal Functions</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">GVNPass::Expression</a> GVNPass::ValueTable::createExpr(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <a class="code" href="classllvm_1_1Expression.html">Expression</a> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.type = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.opcode = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GCRelocateInst.html">GCRelocateInst</a> *GCR = dyn_cast&lt;GCRelocateInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// gc.relocate is &#39;special&#39; call: its second and third operands are</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// not real values, but indices into statepoint&#39;s argument list.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// Use the refered to values for purposes of identity.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.push_back(lookupOrAdd(GCR-&gt;getOperand(0)));</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.push_back(lookupOrAdd(GCR-&gt;getBasePtr()));</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.push_back(lookupOrAdd(GCR-&gt;getDerivedPtr()));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands())</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.push_back(lookupOrAdd(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isCommutative()) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// Ensure that commutative instructions that only differ by a permutation</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// of their operands get the same value number by sorting the operand value</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// numbers.  Since commutative operands are the 1st two operands it is more</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// efficient to sort by hand rather than using, say, std::sort.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands() &gt;= 2 &amp;&amp; <span class="stringliteral">&quot;Unsupported commutative instruction!&quot;</span>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[0] &gt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[1])</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[0], <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[1]);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.commutative = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;CmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">// Sort the operand value numbers so x&lt;y and y&gt;x get the same value number.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getPredicate();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[0] &gt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[1]) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[0], <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[1]);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a> = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.opcode = (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getOpcode() &lt;&lt; 8) | <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.commutative = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = dyn_cast&lt;InsertValueInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.append(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;idx_begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;idx_end());</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SVI = dyn_cast&lt;ShuffleVectorInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> ShuffleMask = SVI-&gt;getShuffleMask();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.append(ShuffleMask.<a class="code" href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">begin</a>(), ShuffleMask.<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>());</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">GVNPass::Expression</a> GVNPass::ValueTable::createCmpExpr(</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Opcode == Instruction::ICmp || Opcode == Instruction::FCmp) &amp;&amp;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;         <span class="stringliteral">&quot;Not a comparison!&quot;</span>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="classllvm_1_1Expression.html">Expression</a> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.type = <a class="code" href="classllvm_1_1CmpInst.html#a4b5e1f50cb0890ec60d8c61a61241170">CmpInst::makeCmpResultType</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.push_back(lookupOrAdd(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>));</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.push_back(lookupOrAdd(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// Sort the operand value numbers so x&lt;y and y&gt;x get the same value number.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[0] &gt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[1]) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[0], <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs[1]);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a> = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.opcode = (Opcode &lt;&lt; 8) | <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.commutative = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">GVNPass::Expression</a></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;GVNPass::ValueTable::createExtractvalueExpr(<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> *EI) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EI &amp;&amp; <span class="stringliteral">&quot;Not an ExtractValueInst?&quot;</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <a class="code" href="classllvm_1_1Expression.html">Expression</a> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.type = EI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.opcode = 0;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <a class="code" href="classllvm_1_1WithOverflowInst.html">WithOverflowInst</a> *WO = dyn_cast&lt;WithOverflowInst&gt;(EI-&gt;<a class="code" href="classllvm_1_1ExtractValueInst.html#ab87e7c5a729885396b3b045ad375e4b8">getAggregateOperand</a>());</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (WO != <span class="keyword">nullptr</span> &amp;&amp; EI-&gt;<a class="code" href="classllvm_1_1ExtractValueInst.html#a0a21dcfb15673bbd3ac69eb4dfe7315e">getNumIndices</a>() == 1 &amp;&amp; *EI-&gt;<a class="code" href="classllvm_1_1ExtractValueInst.html#afcd55a28a257b9ea1708f66671b13e6e">idx_begin</a>() == 0) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// EI is an extract from one of our with.overflow intrinsics. Synthesize</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// a semantically equivalent expression instead of an extract value</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// expression.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.opcode = WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#aa73e62aac1753cb7b3c3aaccef3df8b1">getBinaryOp</a>();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.push_back(lookupOrAdd(WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#a8818b44063f9f3339d4ced72bd76b107">getLHS</a>()));</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.push_back(lookupOrAdd(WO-&gt;<a class="code" href="classllvm_1_1BinaryOpIntrinsic.html#a6822c506d77c8ba56e85bee5cd1ed01b">getRHS</a>()));</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// Not a recognised intrinsic. Fall back to producing an extract value</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// expression.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.opcode = EI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : EI-&gt;<a class="code" href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">operands</a>())</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs.push_back(lookupOrAdd(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>.varargs, EI-&gt;<a class="code" href="classllvm_1_1ExtractValueInst.html#ae7f10273fba575e1cb0379621c5330ad">indices</a>());</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">GVNPass::Expression</a> GVNPass::ValueTable::createGEPExpr(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="classllvm_1_1Expression.html">Expression</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *PtrTy = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getType()-&gt;getScalarType();</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getIndexTypeSizeInBits(PtrTy);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;Value *, APInt&gt;</a> VariableOffsets;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> ConstantOffset(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">if</span> (PtrTy-&gt;<a class="code" href="classllvm_1_1Type.html#a54155244e7b172a97fe5b3096d84fa97">isOpaquePointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;collectOffset(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, VariableOffsets, ConstantOffset)) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// For opaque pointers, convert into offset representation, to recognize</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// equivalent address calculations that use different type encoding.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getContext();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.opcode = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getOpcode();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.type = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.varargs.push_back(lookupOrAdd(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand()));</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : VariableOffsets) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.varargs.push_back(lookupOrAdd(Pair.first));</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.varargs.push_back(lookupOrAdd(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, Pair.second)));</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (!ConstantOffset.isZero())</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.varargs.push_back(</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          lookupOrAdd(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, ConstantOffset)));</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// If converting to offset representation fails (for typed pointers and</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// scalable vectors), fall back to type-based implementation:</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.opcode = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getOpcode();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.type = <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getSourceElementType();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;operands())</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.varargs.push_back(lookupOrAdd(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">//                     ValueTable External Functions</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a085d07b08472ae5b3a27b913e97ac2a5">GVNPass::ValueTable::ValueTable</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a085d07b08472ae5b3a27b913e97ac2a5">GVNPass::ValueTable::ValueTable</a>(<span class="keyword">const</span> <a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> &amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a085d07b08472ae5b3a27b913e97ac2a5">GVNPass::ValueTable::ValueTable</a>(<a class="code" href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">ValueTable</a> &amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a3d6937c9f7b016dec34e3773cebc9395">GVNPass::ValueTable::~ValueTable</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html">GVNPass::ValueTable</a> &amp;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a5b8ab87af8cabbd0686f6e2e5c3a13ae">GVNPass::ValueTable::operator=</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html">GVNPass::ValueTable</a> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">/// add - Insert a value into the table with a specified value number.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#ab9868019a4b5518b9eba954de7e892f4">  457</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#ab9868019a4b5518b9eba954de7e892f4">GVNPass::ValueTable::add</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classuint32__t.html">uint32_t</a> num) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  valueNumbering.insert(std::make_pair(V, num));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(V))</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    NumberingPhi[num] = PN;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<a class="code" href="classuint32__t.html">uint32_t</a> GVNPass::ValueTable::lookupOrAddCall(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">if</span> (AA-&gt;doesNotAccessMemory(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) &amp;&amp;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="comment">// FIXME: Currently the calls which may access the thread id may</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="comment">// be considered as not accessing the memory. But this is</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="comment">// problematic for coroutines, since coroutines may resume in a</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="comment">// different thread. So we disable the optimization here for the</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="comment">// correctness. However, it may block many other correct</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="comment">// optimizations. Revert this one when we detect the memory</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="comment">// accessing kind more precisely.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getFunction()-&gt;isPresplitCoroutine()) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">Expression</a> exp = createExpr(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = assignExpNewValueNum(exp).first;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MD &amp;&amp; AA-&gt;onlyReadsMemory(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) &amp;&amp;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;             <span class="comment">// FIXME: Currently the calls which may access the thread id may</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;             <span class="comment">// be considered as not accessing the memory. But this is</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;             <span class="comment">// problematic for coroutines, since coroutines may resume in a</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;             <span class="comment">// different thread. So we disable the optimization here for the</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;             <span class="comment">// correctness. However, it may block many other correct</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;             <span class="comment">// optimizations. Revert this one when we detect the memory</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;             <span class="comment">// accessing kind more precisely.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;             !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getFunction()-&gt;isPresplitCoroutine()) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classllvm_1_1Expression.html">Expression</a> exp = createExpr(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keyword">auto</span> ValNum = assignExpNewValueNum(exp);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (ValNum.second) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = ValNum.first;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordflow">return</span> ValNum.first;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> local_dep = MD-&gt;getDependency(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (!local_dep.<a class="code" href="classllvm_1_1MemDepResult.html#a70bfd297fb0ed3a5fa0ef09b5a47b496">isDef</a>() &amp;&amp; !local_dep.<a class="code" href="classllvm_1_1MemDepResult.html#a2b6159ef05223f67e8dd0a178377f06b">isNonLocal</a>()) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] =  nextValueNumber;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (local_dep.<a class="code" href="classllvm_1_1MemDepResult.html#a70bfd297fb0ed3a5fa0ef09b5a47b496">isDef</a>()) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="comment">// For masked load/store intrinsics, the local_dep may actually be</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="comment">// a normal load or store instruction.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *local_cdep = dyn_cast&lt;CallInst&gt;(local_dep.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>());</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">if</span> (!local_cdep || local_cdep-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() != <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;arg_size()) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = nextValueNumber;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;arg_size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> c_vn = lookupOrAdd(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getArgOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> cd_vn = lookupOrAdd(local_cdep-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">if</span> (c_vn != cd_vn) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;          valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = nextValueNumber;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;          <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> v = lookupOrAdd(local_cdep);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = v;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// Non-local case.</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">MemoryDependenceResults::NonLocalDepInfo</a> &amp;deps =</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        MD-&gt;getNonLocalCallDependency(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="comment">// FIXME: Move the checking logic to MemDep!</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a>* cdep = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// Check to see if we have a single dominating call instruction that is</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">// identical to C.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : deps) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getResult().isNonLocal())</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="comment">// We don&#39;t handle non-definitions.  If we already have a call, reject</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="comment">// instruction dependencies.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getResult().isDef() || cdep != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        cdep = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *NonLocalDepCall = dyn_cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getResult().getInst());</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="comment">// FIXME: All duplicated with non-local case.</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keywordflow">if</span> (NonLocalDepCall &amp;&amp; DT-&gt;properlyDominates(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getBB(), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getParent())) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        cdep = NonLocalDepCall;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      cdep = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (!cdep) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = nextValueNumber;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (cdep-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() != <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;arg_size()) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = nextValueNumber;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;arg_size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> c_vn = lookupOrAdd(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getArgOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> cd_vn = lookupOrAdd(cdep-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keywordflow">if</span> (c_vn != cd_vn) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = nextValueNumber;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> v = lookupOrAdd(cdep);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = v;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    valueNumbering[<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>] = nextValueNumber;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">/// Returns true if a value number exists for the specified value.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#a772ba82c96ba2773e287e11d2918471c">  582</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a772ba82c96ba2773e287e11d2918471c">GVNPass::ValueTable::exists</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">return</span> valueNumbering.count(V) != 0;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;}</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">/// lookup_or_add - Returns the value number for the specified value, assigning</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">/// it a new number if it did not have one before.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#a493be9f3a0a293d285393b0b8cb96819">  588</a></span>&#160;<span class="comment"></span><a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a493be9f3a0a293d285393b0b8cb96819">GVNPass::ValueTable::lookupOrAdd</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">DenseMap&lt;Value*, uint32_t&gt;::iterator</a> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> = valueNumbering.find(V);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> != valueNumbering.end())</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>-&gt;second;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    valueNumbering[V] = nextValueNumber;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">Expression</a> exp;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a>:</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">return</span> lookupOrAddCall(cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">case</span> Instruction::FNeg:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>:</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">case</span> Instruction::FAdd:</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">case</span> Instruction::FSub:</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>:</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">case</span> Instruction::FMul:</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">case</span> Instruction::SDiv:</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">case</span> Instruction::FDiv:</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">case</span> Instruction::URem:</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">case</span> Instruction::SRem:</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">case</span> Instruction::FRem:</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">case</span> Instruction::AShr:</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">case</span> Instruction::Or:</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">case</span> Instruction::ICmp:</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">case</span> Instruction::FCmp:</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">case</span> Instruction::Trunc:</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">case</span> Instruction::ZExt:</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">case</span> Instruction::SExt:</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">case</span> Instruction::FPToUI:</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">case</span> Instruction::FPToSI:</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">case</span> Instruction::UIToFP:</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">case</span> Instruction::SIToFP:</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">case</span> Instruction::FPTrunc:</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">case</span> Instruction::FPExt:</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">case</span> Instruction::PtrToInt:</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">case</span> Instruction::IntToPtr:</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">case</span> Instruction::AddrSpaceCast:</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">case</span> Instruction::BitCast:</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>:</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">case</span> Instruction::Freeze:</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">case</span> Instruction::ExtractElement:</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">case</span> Instruction::InsertElement:</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">case</span> Instruction::ShuffleVector:</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">case</span> Instruction::InsertValue:</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      exp = createExpr(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">case</span> Instruction::GetElementPtr:</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      exp = createGEPExpr(cast&lt;GetElementPtrInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">case</span> Instruction::ExtractValue:</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      exp = createExtractvalueExpr(cast&lt;ExtractValueInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">Instruction::PHI</a>:</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      valueNumbering[V] = nextValueNumber;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      NumberingPhi[nextValueNumber] = cast&lt;PHINode&gt;(V);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      valueNumbering[V] = nextValueNumber;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">return</span> nextValueNumber++;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = assignExpNewValueNum(exp).first;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  valueNumbering[V] = <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">/// Returns the value number of the specified value. Fails if</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">/// the value has not yet been numbered.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#a553e49a319c70887144ab0be1fedffad">  667</a></span>&#160;<span class="comment"></span><a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a553e49a319c70887144ab0be1fedffad">GVNPass::ValueTable::lookup</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keywordtype">bool</span> <a class="code" href="PPCCTRLoopsVerify_8cpp.html#a345bd69760b9ee32b3f49d4fc04120fb">Verify</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">DenseMap&lt;Value*, uint32_t&gt;::const_iterator</a> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> = valueNumbering.find(V);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PPCCTRLoopsVerify_8cpp.html#a345bd69760b9ee32b3f49d4fc04120fb">Verify</a>) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> != valueNumbering.end() &amp;&amp; <span class="stringliteral">&quot;Value not numbered?&quot;</span>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>-&gt;second;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> != valueNumbering.end()) ? <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>-&gt;second : 0;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">/// Returns the value number of the given comparison,</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">/// assigning it a new number if it did not have one before.  Useful when</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">/// we deduced the result of a comparison, but don&#39;t immediately have an</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">/// instruction realizing that comparison to hand.</span></div>
<div class="line"><a name="l00680"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#a2e4daf2821364f39078a6ec49108c52e">  680</a></span>&#160;<span class="comment"></span><a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a2e4daf2821364f39078a6ec49108c52e">GVNPass::ValueTable::lookupOrAddCmp</a>(<span class="keywordtype">unsigned</span> Opcode,</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                                             <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>,</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                                             <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="structllvm_1_1GVNPass_1_1Expression.html">Expression</a> exp = createCmpExpr(Opcode, <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">return</span> assignExpNewValueNum(exp).first;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">/// Remove all entries from the ValueTable.</span></div>
<div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#a75aa5235637d6db2007983cd659b35a6">  688</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#a75aa5235637d6db2007983cd659b35a6">GVNPass::ValueTable::clear</a>() {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  valueNumbering.clear();</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  expressionNumbering.clear();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  NumberingPhi.clear();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  PhiTranslateTable.clear();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  nextValueNumber = 1;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <a class="code" href="GVNHoist_8cpp.html#a14ef304a9f4dec088d265125ce3adca2">Expressions</a>.clear();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  ExprIdx.clear();</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  nextExprNumber = 0;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;}</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">/// Remove a value from the value numbering.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#ab48a3d10e69562ed9d1dfd2cb560d0c0">  700</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#ab48a3d10e69562ed9d1dfd2cb560d0c0">GVNPass::ValueTable::erase</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> Num = valueNumbering.lookup(V);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  valueNumbering.erase(V);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="comment">// If V is PHINode, V &lt;--&gt; value number is an one-to-one mapping.</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(V))</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    NumberingPhi.erase(Num);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">/// verifyRemoved - Verify that the value is removed from all internal data</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">/// structures.</span></div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#af9ec64020352940f84d2092938067756">  710</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#af9ec64020352940f84d2092938067756">GVNPass::ValueTable::verifyRemoved</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">DenseMap&lt;Value*, uint32_t&gt;::const_iterator</a></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = valueNumbering.begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = valueNumbering.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first != V &amp;&amp; <span class="stringliteral">&quot;Inst still occurs in value numbering map!&quot;</span>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;}</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">//                                GVN Pass</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass.html#a1cc0652ed25618b41f317c0bae461e16">  721</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GVNPass.html#a1cc0652ed25618b41f317c0bae461e16">GVNPass::isPREEnabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowPRE.value_or(<a class="code" href="GVN_8cpp.html#a1111bb57c327bf25aa5195378dd0b89b">GVNEnablePRE</a>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass.html#a5046bdddf55a6ad3fd2ad7640b4f8d0c">  725</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GVNPass.html#a5046bdddf55a6ad3fd2ad7640b4f8d0c">GVNPass::isLoadPREEnabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowLoadPRE.value_or(<a class="code" href="GVN_8cpp.html#a56cf818e65f57297f94f1181b212c8c4">GVNEnableLoadPRE</a>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;}</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass.html#a9449bef29f49a1b4be0ba63609317a34">  729</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GVNPass.html#a9449bef29f49a1b4be0ba63609317a34">GVNPass::isLoadInLoopPREEnabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowLoadInLoopPRE.value_or(<a class="code" href="GVN_8cpp.html#a555a6bddfc8ce77b217cb0702fd5f0c2">GVNEnableLoadInLoopPRE</a>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;}</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass.html#aac8394f15fa6e03d02344993ef4a15df">  733</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GVNPass.html#aac8394f15fa6e03d02344993ef4a15df">GVNPass::isLoadPRESplitBackedgeEnabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowLoadPRESplitBackedge.value_or(</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <a class="code" href="GVN_8cpp.html#a43c3ee8a0f5e33ecaf4100bbb86ef8f3">GVNEnableSplitBackedgeInLoadPRE</a>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass.html#adf1278a3accfd7d0207e37273e4229d2">  738</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1GVNPass.html#adf1278a3accfd7d0207e37273e4229d2">GVNPass::isMemDepEnabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowMemDep.value_or(<a class="code" href="GVN_8cpp.html#aa5a341aa66c996bec3a079bd89c389b0">GVNEnableMemDep</a>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;}</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass.html#a25dcf17194b012b2b35388798cac2da7">  742</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1GVNPass.html#a25dcf17194b012b2b35388798cac2da7">GVNPass::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// FIXME: The order of evaluation of these &#39;getResult&#39; calls is very</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="comment">// significant! Re-ordering these variables will cause GVN when run alone to</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="comment">// be less effective! We should fix memdep and basic-aa to not exhibit this</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// behavior, but until then don&#39;t change the order here.</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keyword">auto</span> &amp;AC = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AssumptionAnalysis.html">AssumptionAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keyword">auto</span> &amp;DT = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keyword">auto</span> &amp;TLI = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryAnalysis.html">TargetLibraryAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keyword">auto</span> &amp;AA = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keyword">auto</span> *MemDep =</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      isMemDepEnabled() ? &amp;AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html">MemoryDependenceAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keyword">auto</span> *LI = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#a90a202de107720c5c6af3a5bc275d8f5">getCachedResult</a>&lt;<a class="code" href="classllvm_1_1LoopAnalysis.html">LoopAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keyword">auto</span> *MSSA = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#a90a202de107720c5c6af3a5bc275d8f5">getCachedResult</a>&lt;<a class="code" href="classllvm_1_1MemorySSAAnalysis.html">MemorySSAAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keyword">auto</span> &amp;ORE = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitterAnalysis.html">OptimizationRemarkEmitterAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordtype">bool</span> Changed = <a class="code" href="ExpandLargeDivRem_8cpp.html#ae64f9cd0977a8b47570154312540d7d2">runImpl</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, AC, DT, TLI, AA, MemDep, LI, &amp;ORE,</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                         MSSA ? &amp;MSSA-&gt;getMSSA() : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">if</span> (!Changed)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> PA;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;();</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryAnalysis.html">TargetLibraryAnalysis</a>&gt;();</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">if</span> (MSSA)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code" href="classllvm_1_1MemorySSAAnalysis.html">MemorySSAAnalysis</a>&gt;();</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">if</span> (LI)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code" href="classllvm_1_1LoopAnalysis.html">LoopAnalysis</a>&gt;();</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass.html#a6796eb8a0e27f209321cbeff6a6faee8">  770</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GVNPass.html#a6796eb8a0e27f209321cbeff6a6faee8">GVNPass::printPipeline</a>(</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; MapClassName2PassName) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1PassInfoMixin.html">PassInfoMixin&lt;GVNPass&gt;</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;printPipeline(</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, MapClassName2PassName);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;&quot;</span>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowPRE != std::nullopt)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; (*<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowPRE ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no-&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;pre;&quot;</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowLoadPRE != std::nullopt)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; (*<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowLoadPRE ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no-&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;load-pre;&quot;</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowLoadPRESplitBackedge != std::nullopt)</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; (*<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowLoadPRESplitBackedge ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no-&quot;</span>)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;split-backedge-load-pre;&quot;</span>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowMemDep != std::nullopt)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; (*<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.AllowMemDep ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no-&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;memdep&quot;</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;}</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> GVNPass::dump(<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;uint32_t, Value *&gt;</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;{\n&quot;</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second-&gt;dump();</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7e">  799</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7e">AvailabilityState</a> : char {<span class="comment"></span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">  /// We know the block *is not* fully available. This is a fixpoint.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"></span>  <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea453e6aa38d87b28ccae545967c53004f">Unavailable</a> = 0,<span class="comment"></span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">  /// We know the block *is* fully available. This is a fixpoint.</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment"></span>  <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b">Available</a> = 1,<span class="comment"></span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">  /// We do not know whether the block is fully available or not,</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">  /// but we are currently speculating that it will be.</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">  /// If it would have turned out that the block was, in fact, not fully</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">  /// available, this would have been cleaned up into an Unavailable.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment"></span>  <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7eaa20018eb9b860f3a866284b8ca0c3c31">SpeculativelyAvailable</a> = 2,</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;};</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">/// Return true if we can prove that the value</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">/// we&#39;re analyzing is fully available in the specified block.  As we go, keep</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">/// track of which blocks we know are fully alive in FullyAvailableBlocks.  This</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">/// map is actually a tri-state map with the following values:</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">///   0) we know the block *is not* fully available.</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">///   1) we know the block *is* fully available.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">///   2) we do not know whether the block is fully available or not, but we are</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">///      currently speculating that it will be.</span></div>
<div class="line"><a name="l00819"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#a96179307953b47569983bcd440f76130">  819</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="GVN_8cpp.html#a96179307953b47569983bcd440f76130">IsValueFullyAvailableInBlock</a>(</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, AvailabilityState&gt;</a> &amp;FullyAvailableBlocks) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 32&gt;</a> Worklist;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  std::optional&lt;BasicBlock *&gt; UnavailableBB;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// The number of times we didn&#39;t find an entry for a block in a map and</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="comment">// optimistically inserted an entry marking block as speculatively available.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordtype">unsigned</span> NumNewNewSpeculativelyAvailableBBs = 0;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;BasicBlock *, 32&gt;</a> NewSpeculativelyAvailableBBs;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 32&gt;</a> AvailableBBs;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *CurrBB = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>(); <span class="comment">// LoadFO - depth-first!</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="comment">// Optimistically assume that the block is Speculatively Available and check</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="comment">// to see if we already know about this block in one lookup.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    std::pair&lt;DenseMap&lt;BasicBlock *, AvailabilityState&gt;::iterator, <span class="keywordtype">bool</span>&gt; <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> =</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        FullyAvailableBlocks.<a class="code" href="classllvm_1_1DenseMapBase.html#a98c685a0c53f3f7ed5f4793890a6c850">try_emplace</a>(</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            CurrBB, <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7eaa20018eb9b860f3a866284b8ca0c3c31">AvailabilityState::SpeculativelyAvailable</a>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7e">AvailabilityState</a> &amp;State = <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>.first-&gt;second;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// Did the entry already exist for this block?</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>.second) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">if</span> (State == <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea453e6aa38d87b28ccae545967c53004f">AvailabilityState::Unavailable</a>) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        UnavailableBB = CurrBB;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// Backpropagate unavailability info.</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      AvailableBBs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(CurrBB);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keywordflow">continue</span>; <span class="comment">// Don&#39;t recurse further, but continue processing worklist.</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// No entry found for block.</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    ++NumNewNewSpeculativelyAvailableBBs;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordtype">bool</span> OutOfBudget = NumNewNewSpeculativelyAvailableBBs &gt; <a class="code" href="GVN_8cpp.html#ab576f7479f5ae0d3daebf7e7c5f3a32c">MaxBBSpeculations</a>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="comment">// If we have exhausted our budget, mark this block as unavailable.</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="comment">// Also, if this block has no predecessors, the value isn&#39;t live-in here.</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">if</span> (OutOfBudget || <a class="code" href="namespacellvm.html#ad66c4759666aab78529658362b498c74">pred_empty</a>(CurrBB)) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      MaxBBSpeculationCutoffReachedTimes += (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)OutOfBudget;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      State = <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea453e6aa38d87b28ccae545967c53004f">AvailabilityState::Unavailable</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      UnavailableBB = CurrBB;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keywordflow">break</span>; <span class="comment">// Backpropagate unavailability info.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">// Tentatively consider this block as speculatively available.</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    NewSpeculativelyAvailableBBs.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(CurrBB);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="comment">// And further recurse into block&#39;s predecessors, in depth-first order!</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(<a class="code" href="namespacellvm.html#a7e108932dc3da5294aed99a353aac9c4">pred_begin</a>(CurrBB), <a class="code" href="namespacellvm.html#a5eeaf08e96168c2cac8960f87f0ef360">pred_end</a>(CurrBB));</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">#if LLVM_ENABLE_STATS</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  IsValueFullyAvailableInBlockNumSpeculationsMax.updateMax(</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      NumNewNewSpeculativelyAvailableBBs);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="comment">// If the block isn&#39;t marked as fixpoint yet</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="comment">// (the Unavailable and Available states are fixpoints)</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keyword">auto</span> MarkAsFixpointAndEnqueueSuccessors =</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      [&amp;](<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7e">AvailabilityState</a> FixpointState) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keyword">auto</span> It = FullyAvailableBlocks.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="keywordflow">if</span> (It == FullyAvailableBlocks.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;          <span class="keywordflow">return</span>; <span class="comment">// Never queried this block, leave as-is.</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7e">AvailabilityState</a> &amp;State = It-&gt;second) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea453e6aa38d87b28ccae545967c53004f">AvailabilityState::Unavailable</a>:</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b">AvailabilityState::Available</a>:</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          <span class="keywordflow">return</span>; <span class="comment">// Don&#39;t backpropagate further, continue processing worklist.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7eaa20018eb9b860f3a866284b8ca0c3c31">AvailabilityState::SpeculativelyAvailable</a>: <span class="comment">// Fix it!</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;          State = FixpointState;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewSpeculativelyAvailableBBs.<a class="code" href="classllvm_1_1SmallSet.html#a75a2d2ad3b3dce6702750d570ee8f343">erase</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &amp;&amp;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                 <span class="stringliteral">&quot;Found a speculatively available successor leftover?&quot;</span>);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;          <span class="comment">// Queue successors for further processing.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;          Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(<a class="code" href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">succ_begin</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>), <a class="code" href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">succ_end</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      };</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="keywordflow">if</span> (UnavailableBB) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="comment">// Okay, we have encountered an unavailable block.</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">// Mark speculatively available blocks reachable from UnavailableBB as</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// unavailable as well. Paths are terminated when they reach blocks not in</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">// FullyAvailableBlocks or they are not marked as speculatively available.</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(<a class="code" href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">succ_begin</a>(*UnavailableBB), <a class="code" href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">succ_end</a>(*UnavailableBB));</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">while</span> (!Worklist.empty())</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      MarkAsFixpointAndEnqueueSuccessors(Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>(),</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                                         <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea453e6aa38d87b28ccae545967c53004f">AvailabilityState::Unavailable</a>);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *AvailableBB : AvailableBBs)</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(<a class="code" href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">succ_begin</a>(AvailableBB), <a class="code" href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">succ_end</a>(AvailableBB));</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty())</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    MarkAsFixpointAndEnqueueSuccessors(Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>(),</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                                       <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b">AvailabilityState::Available</a>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewSpeculativelyAvailableBBs.<a class="code" href="classllvm_1_1SmallSet.html#a34384400167eb6ebf71fa89d98ba03bc">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;         <span class="stringliteral">&quot;Must have fixed all the new speculatively available blocks.&quot;</span>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">return</span> !UnavailableBB;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;}</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">/// Given a set of loads specified by ValuesPerBlock,</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">/// construct SSA form, allowing us to eliminate Load.  This returns the value</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">/// that should be used at Load&#39;s definition site.</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *</div>
<div class="line"><a name="l00937"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#ae0efc9e0af1acd84543b651ca0287387">  937</a></span>&#160;<a class="code" href="GVN_8cpp.html#ae0efc9e0af1acd84543b651ca0287387">ConstructSSAForLoadSet</a>(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                       <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;AvailableValueInBlock&gt;</a> &amp;ValuesPerBlock,</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                       <a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a> &amp;gvn) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// Check for the fully redundant, dominating load case.  In this case, we can</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// just use the dominating value directly.</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">if</span> (ValuesPerBlock.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      gvn.<a class="code" href="classllvm_1_1GVNPass.html#ae8df6ce7d559faffa82bdee76aef6c0e">getDominatorTree</a>().<a class="code" href="classllvm_1_1DominatorTreeBase.html#ade6d93f9485649bade540a37ec163058">properlyDominates</a>(ValuesPerBlock[0].BB,</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                                               <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent())) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ValuesPerBlock[0].AV.isUndefValue() &amp;&amp;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;           <span class="stringliteral">&quot;Dead BB dominate this block&quot;</span>);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordflow">return</span> ValuesPerBlock[0].MaterializeAdjustedValue(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, gvn);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="comment">// Otherwise, we have to construct SSA form.</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;PHINode*, 8&gt;</a> NewPHIs;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <a class="code" href="classllvm_1_1SSAUpdater.html">SSAUpdater</a> SSAUpdate(&amp;NewPHIs);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  SSAUpdate.<a class="code" href="classllvm_1_1SSAUpdater.html#a4fe3279aae4f726813a672d4a9b26cb1">Initialize</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType(), <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getName());</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">AvailableValueInBlock</a> &amp;AV : ValuesPerBlock) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = AV.BB;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span> (AV.AV.isUndefValue())</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">if</span> (SSAUpdate.<a class="code" href="classllvm_1_1SSAUpdater.html#ab671042c23924e0216c4a0b830ad2a04">HasValueForBlock</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="comment">// If the value is the load that we will be eliminating, and the block it&#39;s</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="comment">// available in is the block that the load is in, then don&#39;t add it as</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="comment">// SSAUpdater will resolve the value to the relevant phi which may let it</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="comment">// avoid phi construction entirely if there&#39;s actually only one value.</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent() &amp;&amp;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        ((AV.AV.isSimpleValue() &amp;&amp; AV.AV.getSimpleValue() == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>) ||</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;         (AV.AV.isCoercedLoadValue() &amp;&amp; AV.AV.getCoercedLoadValue() == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>)))</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    SSAUpdate.<a class="code" href="classllvm_1_1SSAUpdater.html#af0d1a82b4e629e834c2ed53e5cbe22ef">AddAvailableValue</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, AV.MaterializeAdjustedValue(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, gvn));</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="comment">// Perform PHI construction.</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordflow">return</span> SSAUpdate.<a class="code" href="classllvm_1_1SSAUpdater.html#a5b0e45dbba53e985f1b9c532fb5f200b">GetValueInMiddleOfBlock</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent());</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno"><a class="line" href="structllvm_1_1gvn_1_1AvailableValue.html#ac96558c87ecbcc96f020a0efcaade750">  980</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ac96558c87ecbcc96f020a0efcaade750">AvailableValue::MaterializeAdjustedValue</a>(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>,</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                                                <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertPt,</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                                                <a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a> &amp;gvn)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Res;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *LoadTy = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keywordflow">if</span> (isSimpleValue()) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    Res = getSimpleValue();</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">if</span> (Res-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != LoadTy) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      Res = <a class="code" href="namespacellvm_1_1VNCoercion.html#a5ea5b51dcecbc6273ce9b9cacf9fd15e">getStoreValueForLoad</a>(Res, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, LoadTy, InsertPt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN COERCED NONLOCAL VAL:\nOffset: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; *getSimpleValue() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                        &lt;&lt; *Res &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n\n\n&quot;</span>);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isCoercedLoadValue()) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *CoercedLoad = getCoercedLoadValue();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (CoercedLoad-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == LoadTy &amp;&amp; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> == 0) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      Res = CoercedLoad;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      Res = <a class="code" href="namespacellvm_1_1VNCoercion.html#a5b56372fc8f92f242b204acbc9242a46">getLoadValueForLoad</a>(CoercedLoad, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, LoadTy, InsertPt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="comment">// We would like to use gvn.markInstructionForDeletion here, but we can&#39;t</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="comment">// because the load is already memoized into the leader map table that GVN</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="comment">// tracks.  It is potentially possible to remove the load from the table,</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <span class="comment">// but then there all of the operations based on it would need to be</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <span class="comment">// rehashed.  Just leave the dead load around.</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      gvn.<a class="code" href="classllvm_1_1GVNPass.html#a49c29a62e2e811e5f679e8914e0e762e">getMemDep</a>().<a class="code" href="classllvm_1_1MemoryDependenceResults.html#a4082748189dc3460ea7130cd8d7790b5">removeInstruction</a>(CoercedLoad);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN COERCED NONLOCAL LOAD:\nOffset: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; *getCoercedLoadValue() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                        &lt;&lt; *Res &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n\n\n&quot;</span>);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isMemIntrinValue()) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    Res = <a class="code" href="namespacellvm_1_1VNCoercion.html#a6b72d403292d9dddd1ef1ce3e8bc394c">getMemInstValueForLoad</a>(getMemIntrinValue(), <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, LoadTy,</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                                 InsertPt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN COERCED NONLOCAL MEM INTRIN:\nOffset: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; *getMemIntrinValue() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                      &lt;&lt; *Res &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\n\n\n&quot;</span>);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isSelectValue()) {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="comment">// Introduce a new value select for a load from an eligible pointer select.</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *Sel = getSelectValue();</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(V1 &amp;&amp; <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a> &amp;&amp; <span class="stringliteral">&quot;both value operands of the select must be present&quot;</span>);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    Res = <a class="code" href="classllvm_1_1SelectInst.html#aa55fb74dd22008fdcc26a63f44576022">SelectInst::Create</a>(Sel-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a93a29cd4a753518a59c20c1b6ec88c76">getCondition</a>(), V1, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, <span class="stringliteral">&quot;&quot;</span>, Sel);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Should not materialize value from dead block&quot;</span>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Res &amp;&amp; <span class="stringliteral">&quot;failed to materialize?&quot;</span>);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;}</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#ab1faa49b43014e07caaf2bf2d3db07e4"> 1032</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="GVN_8cpp.html#ab1faa49b43014e07caaf2bf2d3db07e4">isLifetimeStart</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a>* II = dyn_cast&lt;IntrinsicInst&gt;(Inst))</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">return</span> II-&gt;getIntrinsicID() == Intrinsic::lifetime_start;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">/// Assuming To can be reached from both From and Between, does Between lie on</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">/// every path from From to To?</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#af664c713571d51d8130da27b28cc2088"> 1040</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="GVN_8cpp.html#af664c713571d51d8130da27b28cc2088">liesBetween</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Between,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *To, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getParent() == Between-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>())</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">return</span> DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, Between);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;BasicBlock *, 1&gt;</a> Exclusion;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  Exclusion.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(Between-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="namespacellvm.html#affedc93ead6b25c57a7196d32ff11e89">isPotentiallyReachable</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, To, &amp;Exclusion, DT);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;}</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">/// Try to locate the three instruction involved in a missed</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">/// load-elimination case that is due to an intervening store.</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#a160dacda9f89b4c190ff303c6f4ed15e"> 1051</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="GVN_8cpp.html#a160dacda9f89b4c190ff303c6f4ed15e">reportMayClobberedLoad</a>(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> DepInfo,</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                                   <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT,</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                   <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> *ORE) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OtherAccess = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="classllvm_1_1OptimizationRemarkMissed.html">OptimizationRemarkMissed</a> R(<a class="code" href="GVN_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;LoadClobbered&quot;</span>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  R &lt;&lt; <span class="stringliteral">&quot;load of type &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Type&quot;</span>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType()) &lt;&lt; <span class="stringliteral">&quot; not eliminated&quot;</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a177844335152e882e8ac429dd1102716">setExtraArgs</a>();</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160; </div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *U : <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getPointerOperand()-&gt;users()) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">if</span> (U != <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &amp;&amp; (isa&lt;LoadInst&gt;(U) || isa&lt;StoreInst&gt;(U))) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = cast&lt;Instruction&gt;(U);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFunction() == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getFunction() &amp;&amp; DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>)) {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="comment">// Use the most immediately dominating value</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="keywordflow">if</span> (OtherAccess) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;          <span class="keywordflow">if</span> (DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(OtherAccess, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            OtherAccess = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(U == OtherAccess || DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, OtherAccess));</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;          OtherAccess = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordflow">if</span> (!OtherAccess) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="comment">// There is no dominating use, check if we can find a closest non-dominating</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// use that lies between any other potentially available use and Load.</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *U : <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getPointerOperand()-&gt;users()) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="keywordflow">if</span> (U != <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &amp;&amp; (isa&lt;LoadInst&gt;(U) || isa&lt;StoreInst&gt;(U))) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = cast&lt;Instruction&gt;(U);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFunction() == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getFunction() &amp;&amp;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            <a class="code" href="namespacellvm.html#affedc93ead6b25c57a7196d32ff11e89">isPotentiallyReachable</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <span class="keyword">nullptr</span>, DT)) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;          <span class="keywordflow">if</span> (OtherAccess) {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="GVN_8cpp.html#af664c713571d51d8130da27b28cc2088">liesBetween</a>(OtherAccess, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, DT)) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;              OtherAccess = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="GVN_8cpp.html#af664c713571d51d8130da27b28cc2088">liesBetween</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, OtherAccess, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, DT)) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;              <span class="comment">// These uses are both partially available at Load were it not for</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;              <span class="comment">// the clobber, but neither lies strictly after the other.</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;              OtherAccess = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            } <span class="comment">// else: keep current OtherAccess since it lies between U and Load</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            OtherAccess = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;          }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">if</span> (OtherAccess)</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    R &lt;&lt; <span class="stringliteral">&quot; in favor of &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;OtherAccess&quot;</span>, OtherAccess);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  R &lt;&lt; <span class="stringliteral">&quot; because it is clobbered by &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;ClobberedBy&quot;</span>, DepInfo.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>());</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  ORE-&gt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">emit</a>(R);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;}</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">// Find non-clobbered value for Loc memory location in extended basic block</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">// (chain of basic blocks with single predecessors) starting From instruction.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#a28b6753822954c7bb228989ce917bec3"> 1113</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="GVN_8cpp.html#a28b6753822954c7bb228989ce917bec3">findDominatingValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc, <a class="code" href="classllvm_1_1Type.html">Type</a> *LoadTy,</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                                  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1AAResults.html">AAResults</a> *AA) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NumVisitedInsts = 0;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FromBB = <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getParent();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> BatchAA(*AA);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = FromBB; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getSinglePredecessor())</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> == FromBB ? <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getReverseIterator() : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;rbegin(),</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;              <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;rend();</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <span class="comment">// Stop the search if limit is reached.</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="keywordflow">if</span> (++NumVisitedInsts &gt; <a class="code" href="GVN_8cpp.html#a6d6082a540140dafbc24648e2daa4882">MaxNumVisitedInsts</a>)</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(BatchAA.<a class="code" href="classllvm_1_1BatchAAResults.html#adfa0be41805b25d9577d6f15d148a0d7">getModRefInfo</a>(Inst, Loc)))</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = dyn_cast&lt;LoadInst&gt;(Inst))</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <span class="keywordflow">if</span> (LI-&gt;getPointerOperand() == Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a> &amp;&amp; LI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == LoadTy)</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;          <span class="keywordflow">return</span> LI;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;}</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;std::optional&lt;AvailableValue&gt;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;GVNPass::AnalyzeLoadAvailability(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> DepInfo,</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                                 <a class="code" href="classllvm_1_1Value.html">Value</a> *Address) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;isUnordered() &amp;&amp; <span class="stringliteral">&quot;rules below are incorrect for ordered access&quot;</span>);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DepInfo.<a class="code" href="classllvm_1_1MemDepResult.html#aa9284c7b4e7cfa1baabc14bf877b29f8">isLocal</a>() &amp;&amp; <span class="stringliteral">&quot;expected a local dependence&quot;</span>);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DepInst = DepInfo.<a class="code" href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">getInst</a>();</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160; </div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">if</span> (DepInfo.<a class="code" href="classllvm_1_1MemDepResult.html#a01bfb86ab31d9f9a92f926aba4a463dc">isClobber</a>()) {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="comment">// If the dependence is to a store that writes to a superset of the bits</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="comment">// read by the load, we can extract the bits we need for the load from the</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="comment">// stored value.</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *DepSI = dyn_cast&lt;StoreInst&gt;(DepInst)) {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="comment">// Can&#39;t forward from non-atomic to atomic without violating memory model.</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="keywordflow">if</span> (Address &amp;&amp; <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;isAtomic() &lt;= DepSI-&gt;isAtomic()) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> =</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            <a class="code" href="namespacellvm_1_1VNCoercion.html#a54e6f143ee9c14b9498e4f43b97c2525">analyzeLoadFromClobberingStore</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType(), Address, DepSI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> != -1)</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a4e01d73dca4690562ee833fea9becbfb">AvailableValue::get</a>(DepSI-&gt;getValueOperand(), <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160; </div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="comment">// Check to see if we have something like this:</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="comment">//    load i32* P</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="comment">//    load i8* (P+1)</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="comment">// if we have this, replace the later with an extraction from the former.</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *DepLoad = dyn_cast&lt;LoadInst&gt;(DepInst)) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="comment">// If this is a clobber and L is the first instruction in its block, then</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="comment">// we have the first instruction in the entry block.</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <span class="comment">// Can&#39;t forward from non-atomic to atomic without violating memory model.</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="keywordflow">if</span> (DepLoad != <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &amp;&amp; Address &amp;&amp;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;          <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;isAtomic() &lt;= DepLoad-&gt;isAtomic()) {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *LoadType = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType();</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = -1;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="comment">// If MD reported clobber, check it was nested.</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <span class="keywordflow">if</span> (DepInfo.<a class="code" href="classllvm_1_1MemDepResult.html#a01bfb86ab31d9f9a92f926aba4a463dc">isClobber</a>() &amp;&amp;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            <a class="code" href="namespacellvm_1_1VNCoercion.html#af10eb6aece68a8127f273e6a2dc0fc79">canCoerceMustAliasedValueToLoad</a>(DepLoad, LoadType, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> ClobberOff = MD-&gt;getClobberOffset(DepLoad);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;          <span class="comment">// GVN has no deal with a negative offset.</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;          <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = (ClobberOff == std::nullopt || *ClobberOff &lt; 0)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                       ? -1</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                       : *ClobberOff;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> == -1)</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;          <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> =</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;              <a class="code" href="namespacellvm_1_1VNCoercion.html#a9534d3bff0727cc904e6bbc1064d2e2f">analyzeLoadFromClobberingLoad</a>(LoadType, Address, DepLoad, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> != -1)</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a8fb90fef376df87f6cc844521cd7eb54">AvailableValue::getLoad</a>(DepLoad, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="comment">// If the clobbering value is a memset/memcpy/memmove, see if we can</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="comment">// forward a value on from it.</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *DepMI = dyn_cast&lt;MemIntrinsic&gt;(DepInst)) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keywordflow">if</span> (Address &amp;&amp; !<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;isAtomic()) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="namespacellvm_1_1VNCoercion.html#ab7c3af18d8706c2d91fd7e2f88424336">analyzeLoadFromClobberingMemInst</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType(), Address,</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                                                      DepMI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> != -1)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a9d12af97f2ad6cbd8afde5ad3c76ce42">AvailableValue::getMI</a>(DepMI, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="comment">// Nothing known about this clobber, have to be conservative</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="comment">// fast print dep, using operator&lt;&lt; on instruction is too slow.</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN: load &quot;</span>; <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;printAsOperand(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; is clobbered by &quot;</span> &lt;&lt; *DepInst &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">if</span> (ORE-&gt;allowExtraAnalysis(<a class="code" href="GVN_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>))</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <a class="code" href="GVN_8cpp.html#a160dacda9f89b4c190ff303c6f4ed15e">reportMayClobberedLoad</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, DepInfo, DT, ORE);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DepInfo.<a class="code" href="classllvm_1_1MemDepResult.html#a70bfd297fb0ed3a5fa0ef09b5a47b496">isDef</a>() &amp;&amp; <span class="stringliteral">&quot;follows from above&quot;</span>);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="comment">// Loading the alloca -&gt; undef.</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="comment">// Loading immediately after lifetime begin -&gt; undef.</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(DepInst) || <a class="code" href="GVN_8cpp.html#ab1faa49b43014e07caaf2bf2d3db07e4">isLifetimeStart</a>(DepInst))</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a4e01d73dca4690562ee833fea9becbfb">AvailableValue::get</a>(<a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType()));</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *InitVal =</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;          <a class="code" href="namespacellvm.html#a108b6e33f153eda5019d322f0ac909b0">getInitialValueOfAllocation</a>(DepInst, TLI, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType()))</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a4e01d73dca4690562ee833fea9becbfb">AvailableValue::get</a>(InitVal);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = dyn_cast&lt;StoreInst&gt;(DepInst)) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="comment">// Reject loads and stores that are to the same address but are of</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="comment">// different types if we have to. If the stored value is convertable to</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">// the loaded value, we can reuse it.</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1VNCoercion.html#af10eb6aece68a8127f273e6a2dc0fc79">canCoerceMustAliasedValueToLoad</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getValueOperand(), <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType(),</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                         <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>))</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="comment">// Can&#39;t forward from non-atomic to atomic without violating memory model.</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;isAtomic() &lt; <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;isAtomic())</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a4e01d73dca4690562ee833fea9becbfb">AvailableValue::get</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getValueOperand());</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a> = dyn_cast&lt;LoadInst&gt;(DepInst)) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="comment">// If the types mismatch and we can&#39;t handle it, reject reuse of the load.</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="comment">// If the stored value is larger or equal to the loaded value, we can reuse</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="comment">// it.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1VNCoercion.html#af10eb6aece68a8127f273e6a2dc0fc79">canCoerceMustAliasedValueToLoad</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>))</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="comment">// Can&#39;t forward from non-atomic to atomic without violating memory model.</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;isAtomic() &lt; <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;isAtomic())</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a8fb90fef376df87f6cc844521cd7eb54">AvailableValue::getLoad</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="comment">// Check if load with Addr dependent from select can be converted to select</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="comment">// between load values. There must be no instructions between the found</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="comment">// loads and DepInst that may clobber the loads.</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Sel = dyn_cast&lt;SelectInst&gt;(DepInst)) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Sel-&gt;getType() == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getPointerOperandType());</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keyword">auto</span> Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V1 =</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <a class="code" href="GVN_8cpp.html#a28b6753822954c7bb228989ce917bec3">findDominatingValue</a>(Loc.getWithNewPtr(Sel-&gt;getTrueValue()),</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                            <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType(), DepInst, getAliasAnalysis());</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">if</span> (!V1)</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a> =</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <a class="code" href="GVN_8cpp.html#a28b6753822954c7bb228989ce917bec3">findDominatingValue</a>(Loc.getWithNewPtr(Sel-&gt;getFalseValue()),</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                            <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType(), DepInst, getAliasAnalysis());</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>)</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#a21f6f28b6684fc17f3b56b76f379fc8d">AvailableValue::getSelect</a>(Sel, V1, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="comment">// Unknown def - must be conservative</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="comment">// fast print dep, using operator&lt;&lt; on instruction is too slow.</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN: load &quot;</span>; <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;printAsOperand(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; has unknown def &quot;</span> &lt;&lt; *DepInst &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="keywordtype">void</span> GVNPass::AnalyzeLoadAvailability(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, LoadDepVect &amp;Deps,</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                                      AvailValInBlkVect &amp;ValuesPerBlock,</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                                      UnavailBlkVect &amp;UnavailableBlocks) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="comment">// Filter out useless results (non-locals, etc).  Keep track of the blocks</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="comment">// where we have a value available in repl, also keep track of whether we see</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="comment">// dependencies that produce an unknown value for the load (such as a call</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="comment">// that could potentially clobber the load).</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Dep : Deps) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DepBB = Dep.getBB();</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> DepInfo = Dep.getResult();</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">if</span> (DeadBlocks.count(DepBB)) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <span class="comment">// Dead dependent mem-op disguise as a load evaluating the same value</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <span class="comment">// as the load in question.</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      ValuesPerBlock.push_back(<a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a311f188566b0d91b585df6c8bb31eb3a">AvailableValueInBlock::getUndef</a>(DepBB));</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="keywordflow">if</span> (!DepInfo.<a class="code" href="classllvm_1_1MemDepResult.html#aa9284c7b4e7cfa1baabc14bf877b29f8">isLocal</a>()) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      UnavailableBlocks.push_back(DepBB);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="comment">// The address being loaded in this non-local block may not be the same as</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="comment">// the pointer operand of the load if PHI translation occurs.  Make sure</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="comment">// to consider the right address.</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> AV = AnalyzeLoadAvailability(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, DepInfo, Dep.getAddress())) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="comment">// subtlety: because we know this was a non-local dependency, we know</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <span class="comment">// it&#39;s safe to materialize anywhere between the instruction within</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="comment">// DepInfo and the end of it&#39;s block.</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      ValuesPerBlock.push_back(</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;          <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a3992e373c593770700e65bbd9a957cf7">AvailableValueInBlock::get</a>(DepBB, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*AV)));</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      UnavailableBlocks.push_back(DepBB);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Deps.size() == ValuesPerBlock.size() + UnavailableBlocks.size() &amp;&amp;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;         <span class="stringliteral">&quot;post condition violation&quot;</span>);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;}</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="keywordtype">void</span> GVNPass::eliminatePartiallyRedundantLoad(</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, AvailValInBlkVect &amp;ValuesPerBlock,</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;BasicBlock *, Value *&gt;</a> &amp;AvailableLoads) {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;AvailableLoad : AvailableLoads) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnavailableBlock = AvailableLoad.first;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *LoadPtr = AvailableLoad.second;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keyword">auto</span> *NewLoad =</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="keyword">new</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType(), LoadPtr, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getName() + <span class="stringliteral">&quot;.pre&quot;</span>,</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                     <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;isVolatile(), <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getAlign(), <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getOrdering(),</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                     <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getSyncScopeID(), UnavailableBlock-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>());</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    NewLoad-&gt;setDebugLoc(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getDebugLoc());</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">if</span> (MSSAU) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keyword">auto</span> *MSSA = MSSAU-&gt;getMemorySSA();</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="comment">// Get the defining access of the original load or use the load if it is a</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="comment">// MemoryDef (e.g. because it is volatile). The inserted loads are</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="comment">// guaranteed to load from the same definition.</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="keyword">auto</span> *LoadAcc = MSSA-&gt;getMemoryAccess(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <span class="keyword">auto</span> *DefiningAcc =</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;          isa&lt;MemoryDef&gt;(LoadAcc) ? LoadAcc : LoadAcc-&gt;getDefiningAccess();</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      <span class="keyword">auto</span> *NewAccess = MSSAU-&gt;createMemoryAccessInBB(</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;          NewLoad, DefiningAcc, NewLoad-&gt;getParent(),</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;          <a class="code" href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5a7806c120eb87aea9fbb52fed327e09de">MemorySSA::BeforeTerminator</a>);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *NewDef = dyn_cast&lt;MemoryDef&gt;(NewAccess))</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        MSSAU-&gt;insertDef(NewDef, <span class="comment">/*RenameUses=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        MSSAU-&gt;insertUse(cast&lt;MemoryUse&gt;(NewAccess), <span class="comment">/*RenameUses=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="comment">// Transfer the old load&#39;s AA tags to the new load.</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <a class="code" href="structllvm_1_1AAMDNodes.html">AAMDNodes</a> Tags = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getAAMetadata();</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">if</span> (Tags)</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      NewLoad-&gt;setAAMetadata(Tags);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160; </div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MD = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getMetadata(LLVMContext::MD_invariant_load))</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      NewLoad-&gt;setMetadata(LLVMContext::MD_invariant_load, MD);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *InvGroupMD = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getMetadata(LLVMContext::MD_invariant_group))</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      NewLoad-&gt;setMetadata(LLVMContext::MD_invariant_group, InvGroupMD);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *RangeMD = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getMetadata(LLVMContext::MD_range))</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      NewLoad-&gt;setMetadata(LLVMContext::MD_range, RangeMD);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AccessMD = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getMetadata(LLVMContext::MD_access_group))</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="keywordflow">if</span> (LI &amp;&amp;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;          LI-&gt;getLoopFor(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent()) == LI-&gt;getLoopFor(UnavailableBlock))</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        NewLoad-&gt;setMetadata(LLVMContext::MD_access_group, AccessMD);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="comment">// We do not propagate the old load&#39;s debug location, because the new</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="comment">// load now lives in a different BB, and we want to avoid a jumpy line</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="comment">// table.</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="comment">// FIXME: How do we retain source locations without causing poor debugging</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="comment">// behavior?</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="comment">// Add the newly created load.</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    ValuesPerBlock.push_back(</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a3992e373c593770700e65bbd9a957cf7">AvailableValueInBlock::get</a>(UnavailableBlock, NewLoad));</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    MD-&gt;invalidateCachedPointerInfo(LoadPtr);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN INSERTED &quot;</span> &lt;&lt; *NewLoad &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  }</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="comment">// Perform PHI construction.</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="GVN_8cpp.html#ae0efc9e0af1acd84543b651ca0287387">ConstructSSAForLoadSet</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, ValuesPerBlock, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;replaceAllUsesWith(V);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(V))</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    V-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V))</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;setDebugLoc(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getDebugLoc());</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>())</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    MD-&gt;invalidateCachedPointerInfo(V);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  markInstructionForDeletion(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1OptimizationRemark.html">OptimizationRemark</a>(<a class="code" href="GVN_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;LoadPRE&quot;</span>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>)</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;load eliminated by PRE&quot;</span>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  });</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;}</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="keywordtype">bool</span> GVNPass::PerformLoadPRE(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, AvailValInBlkVect &amp;ValuesPerBlock,</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                             UnavailBlkVect &amp;UnavailableBlocks) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="comment">// Okay, we have *some* definitions of the value.  This means that the value</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">// is available in some of our (transitive) predecessors.  Lets think about</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="comment">// doing PRE of this load.  This will involve inserting a new load into the</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="comment">// predecessor when it&#39;s not available.  We could do this in general, but</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="comment">// prefer to not increase code size.  As such, we only do this when we know</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="comment">// that we only have to insert *one* load (which means we&#39;re basically moving</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="comment">// the load, not inserting a new one).</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 4&gt;</a> Blockers(UnavailableBlocks.begin(),</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                                        UnavailableBlocks.end());</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="comment">// Let&#39;s find the first basic block with more than one predecessor.  Walk</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="comment">// backwards through predecessors if needed.</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LoadBB = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent();</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *TmpBB = LoadBB;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="comment">// Check that there is no implicit control flow instructions above our load in</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="comment">// its block. If there is an instruction that doesn&#39;t always pass the</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="comment">// execution to the following instruction, then moving through it may become</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="comment">// invalid. For example:</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="comment">// int arr[LEN];</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="comment">// int index = ???;</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="comment">// ...</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="comment">// guard(0 &lt;= index &amp;&amp; index &lt; LEN);</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="comment">// use(arr[index]);</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="comment">// It is illegal to move the array access to any point above the guard,</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="comment">// because if the index is out of bounds we should deoptimize rather than</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="comment">// access the array.</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="comment">// Check that there is no guard in this block above our instruction.</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="keywordtype">bool</span> MustEnsureSafetyOfSpeculativeExecution =</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      ICF-&gt;isDominatedByICFIFromSameBlock(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">while</span> (TmpBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">getSinglePredecessor</a>()) {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    TmpBB = TmpBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">getSinglePredecessor</a>();</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">if</span> (TmpBB == LoadBB) <span class="comment">// Infinite (unreachable) loop.</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">if</span> (Blockers.count(TmpBB))</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="comment">// If any of these blocks has more than one successor (i.e. if the edge we</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="comment">// just traversed was critical), then there are other paths through this</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="comment">// block along which the load may not be anticipated.  Hoisting the load</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="comment">// above this block would be adding the load to execution paths along</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="comment">// which it was not previously executed.</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (TmpBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a3287172f2d13af086e6d66364e8c6de3">getNumSuccessors</a>() != 1)</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="comment">// Check that there is no implicit control flow in a block above.</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    MustEnsureSafetyOfSpeculativeExecution =</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        MustEnsureSafetyOfSpeculativeExecution || ICF-&gt;hasICF(TmpBB);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TmpBB);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  LoadBB = TmpBB;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// Check to see how many predecessors have the loaded value fully</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// available.</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;BasicBlock *, Value *&gt;</a> PredLoads;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, AvailabilityState&gt;</a> FullyAvailableBlocks;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">AvailableValueInBlock</a> &amp;AV : ValuesPerBlock)</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    FullyAvailableBlocks[AV.BB] = <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b">AvailabilityState::Available</a>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnavailableBB : UnavailableBlocks)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    FullyAvailableBlocks[UnavailableBB] = <a class="code" href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea453e6aa38d87b28ccae545967c53004f">AvailabilityState::Unavailable</a>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 4&gt;</a> CriticalEdgePred;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(LoadBB)) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="comment">// If any predecessor block is an EH pad that does not allow non-PHI</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="comment">// instructions before the terminator, we can&#39;t PRE the load.</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keywordflow">if</span> (Pred-&gt;getTerminator()-&gt;isEHPad()) {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;COULD NOT PRE LOAD BECAUSE OF AN EH PAD PREDECESSOR &#39;&quot;</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                 &lt;&lt; Pred-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;&#39;: &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="GVN_8cpp.html#a96179307953b47569983bcd440f76130">IsValueFullyAvailableInBlock</a>(Pred, FullyAvailableBlocks)) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keywordflow">if</span> (Pred-&gt;getTerminator()-&gt;getNumSuccessors() != 1) {</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="keywordflow">if</span> (isa&lt;IndirectBrInst&gt;(Pred-&gt;getTerminator())) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;COULD NOT PRE LOAD BECAUSE OF INDBR CRITICAL EDGE &#39;&quot;</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                   &lt;&lt; Pred-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;&#39;: &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <span class="keywordflow">if</span> (LoadBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ac9c170fde1808bbd4436a0dbd6d5e755">isEHPad</a>()) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;COULD NOT PRE LOAD BECAUSE OF AN EH PAD CRITICAL EDGE &#39;&quot;</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                   &lt;&lt; Pred-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;&#39;: &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="comment">// Do not split backedge as it will break the canonical loop form.</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <span class="keywordflow">if</span> (!isLoadPRESplitBackedgeEnabled())</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        <span class="keywordflow">if</span> (DT-&gt;dominates(LoadBB, Pred)) {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;              <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;COULD NOT PRE LOAD BECAUSE OF A BACKEDGE CRITICAL EDGE &#39;&quot;</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;              &lt;&lt; Pred-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;&#39;: &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      CriticalEdgePred.push_back(Pred);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="comment">// Only add the predecessors that will not be split for now.</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      PredLoads[Pred] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    }</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">// Decide whether PRE is profitable for this load.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordtype">unsigned</span> NumUnavailablePreds = PredLoads.<a class="code" href="classllvm_1_1MapVector.html#acf4c09e1f30cdd4e0b5b1b8a236ead34">size</a>() + CriticalEdgePred.size();</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumUnavailablePreds != 0 &amp;&amp;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;         <span class="stringliteral">&quot;Fully available value should already be eliminated!&quot;</span>);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  (void)NumUnavailablePreds;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160; </div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="comment">// If this load is unavailable in multiple predecessors, reject it.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="comment">// FIXME: If we could restructure the CFG, we could make a common pred with</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">// all the preds that don&#39;t have an available Load and insert a new load into</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="comment">// that one block.</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordflow">if</span> (NumUnavailablePreds != 1)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="comment">// Now we know where we will insert load. We must ensure that it is safe</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="comment">// to speculatively execute the load at that points.</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">if</span> (MustEnsureSafetyOfSpeculativeExecution) {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordflow">if</span> (CriticalEdgePred.size())</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#abe76d72cda6b2b4562c72accb510040b">isSafeToSpeculativelyExecute</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, LoadBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a46ef6115027606b67adcf4d28f3dac17">getFirstNonPHI</a>(), AC, DT))</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a5b3c2afaad5594cd0eedd58a78a91baf">PL</a> : PredLoads)</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#abe76d72cda6b2b4562c72accb510040b">isSafeToSpeculativelyExecute</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a5b3c2afaad5594cd0eedd58a78a91baf">PL</a>.first-&gt;getTerminator(), AC,</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                                        DT))</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// Split critical edges, and update the unavailable predecessors accordingly.</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OrigPred : CriticalEdgePred) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *NewPred = splitCriticalEdges(OrigPred, LoadBB);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!PredLoads.count(OrigPred) &amp;&amp; <span class="stringliteral">&quot;Split edges shouldn&#39;t be in map!&quot;</span>);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    PredLoads[NewPred] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Split critical edge &quot;</span> &lt;&lt; OrigPred-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                      &lt;&lt; LoadBB-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// Check if the load can safely be moved to all the unavailable predecessors.</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="keywordtype">bool</span> CanDoPRE = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction*, 8&gt;</a> NewInsts;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;PredLoad : PredLoads) {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnavailablePred = PredLoad.first;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="comment">// Do PHI translation to get its value in the predecessor if necessary.  The</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="comment">// returned pointer (if non-null) is guaranteed to dominate UnavailablePred.</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="comment">// We do the translation for each edge we skipped by going from Load&#39;s block</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="comment">// to LoadBB, otherwise we might miss pieces needing translation.</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160; </div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="comment">// If all preds have a single successor, then we know it is safe to insert</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="comment">// the load on the pred (?!?), so we can insert code to materialize the</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="comment">// pointer if it is not available.</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *LoadPtr = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getPointerOperand();</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Cur = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent();</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">while</span> (Cur != LoadBB) {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23cadd7bf230fde8d4836917806aff6a6b27">Address</a>(LoadPtr, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AC);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      LoadPtr = <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23cadd7bf230fde8d4836917806aff6a6b27">Address</a>.translateWithInsertion(Cur, Cur-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">getSinglePredecessor</a>(),</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                                               *DT, NewInsts);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">if</span> (!LoadPtr) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        CanDoPRE = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      Cur = Cur-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">getSinglePredecessor</a>();</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">if</span> (LoadPtr) {</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23cadd7bf230fde8d4836917806aff6a6b27">Address</a>(LoadPtr, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AC);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      LoadPtr = <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23cadd7bf230fde8d4836917806aff6a6b27">Address</a>.translateWithInsertion(LoadBB, UnavailablePred, *DT,</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                                               NewInsts);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="comment">// If we couldn&#39;t find or insert a computation of this phi translated value,</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="comment">// we fail PRE.</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">if</span> (!LoadPtr) {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;COULDN&#39;T INSERT PHI TRANSLATED VALUE OF: &quot;</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                        &lt;&lt; *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getPointerOperand() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      CanDoPRE = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    PredLoad.second = LoadPtr;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  }</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="keywordflow">if</span> (!CanDoPRE) {</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="keywordflow">while</span> (!NewInsts.empty()) {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <span class="comment">// Erase instructions generated by the failed PHI translation before</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <span class="comment">// trying to number them. PHI translation might insert instructions</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <span class="comment">// in basic blocks other than the current one, and we delete them</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="comment">// directly, as markInstructionForDeletion only allows removing from the</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <span class="comment">// current basic block.</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      NewInsts.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    }</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="comment">// HINT: Don&#39;t revert the edge-splitting as following transformation may</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">// also need to split these critical edges.</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">return</span> !CriticalEdgePred.empty();</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="comment">// Okay, we can eliminate this load by inserting a reload in the predecessor</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="comment">// and using PHI construction to get the value in the other predecessors, do</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="comment">// it.</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN REMOVING PRE LOAD: &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<span class="keywordflow">if</span> (!NewInsts.empty()) <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;INSERTED &quot;</span> &lt;&lt; NewInsts.size()</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                                           &lt;&lt; <span class="stringliteral">&quot; INSTS: &quot;</span> &lt;&lt; *NewInsts.back()</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                                           &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">// Assign value numbers to the new instructions.</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : NewInsts) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="comment">// Instructions that have been inserted in predecessor(s) to materialize</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="comment">// the load address do not retain their original debug locations. Doing</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="comment">// so could lead to confusing (but correct) source attributions.</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;updateLocationAfterHoist();</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <span class="comment">// FIXME: We really _ought_ to insert these value numbers into their</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="comment">// parent&#39;s availability map.  However, in doing so, we risk getting into</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="comment">// ordering issues.  If a block hasn&#39;t been processed yet, we would be</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="comment">// marking a value as AVAIL-IN, which isn&#39;t what we intend.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    VN.lookupOrAdd(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  eliminatePartiallyRedundantLoad(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, ValuesPerBlock, PredLoads);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  ++NumPRELoad;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;}</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="keywordtype">bool</span> GVNPass::performLoopLoadPRE(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>,</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                                 AvailValInBlkVect &amp;ValuesPerBlock,</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                                 UnavailBlkVect &amp;UnavailableBlocks) {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="keywordflow">if</span> (!LI)</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160; </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI-&gt;getLoopFor(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent());</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="comment">// TODO: Generalize to other loop blocks that dominate the latch.</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="keywordflow">if</span> (!L || L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>() != <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent())</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Preheader = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac3280e7f76f955403fe17eacf126b90d">getLoopPreheader</a>();</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">if</span> (!Preheader || !Latch)</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LoadPtr = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getPointerOperand();</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="comment">// Must be available in preheader.</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">isLoopInvariant</a>(LoadPtr))</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="comment">// We plan to hoist the load to preheader without introducing a new fault.</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="comment">// In order to do it, we need to prove that we cannot side-exit the loop</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">// once loop header is first entered before execution of the load.</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="keywordflow">if</span> (ICF-&gt;isDominatedByICFIFromSameBlock(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>))</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LoopBlock = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Blocker : UnavailableBlocks) {</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="comment">// Blockers from outside the loop are handled in preheader.</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(Blocker))</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="comment">// Only allow one loop block. Loop header is not less frequently executed</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="comment">// than each loop block, and likely it is much more frequently executed. But</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="comment">// in case of multiple loop blocks, we need extra information (such as block</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="comment">// frequency info) to understand whether it is profitable to PRE into</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="comment">// multiple loop blocks.</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">if</span> (LoopBlock)</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="comment">// Do not sink into inner loops. This may be non-profitable.</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordflow">if</span> (L != LI-&gt;getLoopFor(Blocker))</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="comment">// Blocks that dominate the latch execute on every single iteration, maybe</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="comment">// except the last one. So PREing into these blocks doesn&#39;t make much sense</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="comment">// in most cases. But the blocks that do not necessarily execute on each</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="comment">// iteration are sometimes much colder than the header, and this is when</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="comment">// PRE is potentially profitable.</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">if</span> (DT-&gt;dominates(Blocker, Latch))</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="comment">// Make sure that the terminator itself doesn&#39;t clobber.</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">if</span> (Blocker-&gt;getTerminator()-&gt;mayWriteToMemory())</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    LoopBlock = Blocker;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160; </div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <span class="keywordflow">if</span> (!LoopBlock)</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; </div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="comment">// Make sure the memory at this pointer cannot be freed, therefore we can</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="comment">// safely reload from it after clobber.</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <span class="keywordflow">if</span> (LoadPtr-&gt;<a class="code" href="classllvm_1_1Value.html#a7b4d048a84149ece45db862333dea428">canBeFreed</a>())</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="comment">// TODO: Support critical edge splitting if blocker has more than 1 successor.</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;BasicBlock *, Value *&gt;</a> AvailableLoads;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  AvailableLoads[LoopBlock] = LoadPtr;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  AvailableLoads[Preheader] = LoadPtr;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN REMOVING PRE LOOP LOAD: &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  eliminatePartiallyRedundantLoad(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, ValuesPerBlock, AvailableLoads);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  ++NumPRELoopLoad;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;}</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#a3048c1b015753173fe58163dc4ad6bf6"> 1705</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="GVN_8cpp.html#a3048c1b015753173fe58163dc4ad6bf6">reportLoadElim</a>(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a>,</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                           <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> *ORE) {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  ORE-&gt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">emit</a>([&amp;]() {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1OptimizationRemark.html">OptimizationRemark</a>(<a class="code" href="GVN_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;LoadElim&quot;</span>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>)</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;load of type &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Type&quot;</span>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getType()) &lt;&lt; <span class="stringliteral">&quot; eliminated&quot;</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;           &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a177844335152e882e8ac429dd1102716">setExtraArgs</a>() &lt;&lt; <span class="stringliteral">&quot; in favor of &quot;</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;           &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;InfavorOfValue&quot;</span>, <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a>);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  });</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;}</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="comment">/// Attempt to eliminate a load whose dependencies are</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;<span class="comment">/// non-local by performing PHI construction.</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GVNPass::processNonLocalLoad(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>) {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="comment">// non-local speculations are not allowed under asan.</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent()-&gt;getParent()-&gt;hasFnAttribute(</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;          Attribute::SanitizeAddress) ||</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent()-&gt;getParent()-&gt;hasFnAttribute(</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;          Attribute::SanitizeHWAddress))</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="comment">// Step 1: Find the non-local dependencies of the load.</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  LoadDepVect Deps;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  MD-&gt;getNonLocalPointerDependency(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, Deps);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160; </div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="comment">// If we had to process more than one hundred blocks to find the</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="comment">// dependencies, this load isn&#39;t worth worrying about.  Optimizing</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="comment">// it will be too expensive.</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  <span class="keywordtype">unsigned</span> NumDeps = Deps.size();</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="keywordflow">if</span> (NumDeps &gt; <a class="code" href="GVN_8cpp.html#a9636b90b0f657b6a2d0761d780cb762c">MaxNumDeps</a>)</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="comment">// If we had a phi translation failure, we&#39;ll have a single entry which is a</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="comment">// clobber in the current block.  Reject this early.</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <span class="keywordflow">if</span> (NumDeps == 1 &amp;&amp;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      !Deps[0].getResult().isDef() &amp;&amp; !Deps[0].getResult().isClobber()) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN: non-local load &quot;</span>; <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;printAsOperand(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;               <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; has unknown dependencies\n&quot;</span>;);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  }</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160; </div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="comment">// If this load follows a GEP, see if we can PRE the indices before analyzing.</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> =</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;          dyn_cast&lt;GetElementPtrInst&gt;(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getOperand(0))) {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;indices())</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(U.get()))</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        Changed |= performScalarPRE(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160; </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="comment">// Step 2: Analyze the availability of the load</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  AvailValInBlkVect ValuesPerBlock;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  UnavailBlkVect UnavailableBlocks;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  AnalyzeLoadAvailability(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, Deps, ValuesPerBlock, UnavailableBlocks);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="comment">// If we have no predecessors that produce a known value for this load, exit</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="comment">// early.</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="keywordflow">if</span> (ValuesPerBlock.empty())</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="comment">// Step 3: Eliminate fully redundancy.</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="comment">// If all of the instructions we depend on produce a known value for this</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="comment">// load, then it is fully redundant and we can use PHI insertion to compute</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="comment">// its value.  Insert PHIs and remove the fully redundant value now.</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="keywordflow">if</span> (UnavailableBlocks.empty()) {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN REMOVING NONLOCAL LOAD: &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="comment">// Perform PHI construction.</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="GVN_8cpp.html#ae0efc9e0af1acd84543b651ca0287387">ConstructSSAForLoadSet</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, ValuesPerBlock, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;replaceAllUsesWith(V);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160; </div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(V))</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;      V-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V))</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <span class="comment">// If instruction I has debug info, then we should not update it.</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      <span class="comment">// Also, if I has a null DebugLoc, then it is still potentially incorrect</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      <span class="comment">// to propagate Load&#39;s DebugLoc because Load may not post-dominate I.</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getDebugLoc() &amp;&amp; <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent() == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent())</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;setDebugLoc(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getDebugLoc());</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>())</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      MD-&gt;invalidateCachedPointerInfo(V);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    markInstructionForDeletion(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    ++NumGVNLoad;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <a class="code" href="GVN_8cpp.html#a3048c1b015753173fe58163dc4ad6bf6">reportLoadElim</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, V, ORE);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="comment">// Step 4: Eliminate partial redundancy.</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="keywordflow">if</span> (!isPREEnabled() || !isLoadPREEnabled())</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <span class="keywordflow">if</span> (!isLoadInLoopPREEnabled() &amp;&amp; LI &amp;&amp; LI-&gt;getLoopFor(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent()))</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="keywordflow">if</span> (performLoopLoadPRE(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, ValuesPerBlock, UnavailableBlocks) ||</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;      PerformLoadPRE(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, ValuesPerBlock, UnavailableBlocks))</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160; </div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;}</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#ad18f0266fefc2f0c5bbf0e1a67794d38"> 1807</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="GVN_8cpp.html#ad18f0266fefc2f0c5bbf0e1a67794d38">impliesEquivalanceIfTrue</a>(<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a>* Cmp) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="keywordflow">if</span> (Cmp-&gt;getPredicate() == CmpInst::Predicate::ICMP_EQ)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="comment">// Floating point comparisons can be equal, but not equivalent.  Cases:</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <span class="comment">// NaNs for unordered operators</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="comment">// +0.0 vs 0.0 for all operators</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  <span class="keywordflow">if</span> (Cmp-&gt;getPredicate() == CmpInst::Predicate::FCMP_OEQ ||</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      (Cmp-&gt;getPredicate() == CmpInst::Predicate::FCMP_UEQ &amp;&amp;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;       Cmp-&gt;getFastMathFlags().noNaNs())) {</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Cmp-&gt;getOperand(0);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Cmp-&gt;getOperand(1);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      <span class="comment">// If we can prove either side non-zero, then equality must imply</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      <span class="comment">// equivalence.</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      <span class="comment">// FIXME: We should do this optimization if &#39;no signed zeros&#39; is</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <span class="comment">// applicable via an instruction-level fast-math-flag or some other</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <span class="comment">// indicator that relaxed FP semantics are being used.</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ConstantFP&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; !cast&lt;ConstantFP&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)-&gt;<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>())</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ConstantFP&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; !cast&lt;ConstantFP&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)-&gt;<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>())</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <span class="comment">// TODO: Handle vector floating point constants</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  }</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;}</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#a8d4d46440095befe6f9bdb1fdcaa9148"> 1833</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="GVN_8cpp.html#a8d4d46440095befe6f9bdb1fdcaa9148">impliesEquivalanceIfFalse</a>(<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a>* Cmp) {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="keywordflow">if</span> (Cmp-&gt;getPredicate() == CmpInst::Predicate::ICMP_NE)</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <span class="comment">// Floating point comparisons can be equal, but not equivelent.  Cases:</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <span class="comment">// NaNs for unordered operators</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="comment">// +0.0 vs 0.0 for all operators</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="keywordflow">if</span> ((Cmp-&gt;getPredicate() == CmpInst::Predicate::FCMP_ONE &amp;&amp;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;       Cmp-&gt;getFastMathFlags().noNaNs()) ||</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      Cmp-&gt;getPredicate() == CmpInst::Predicate::FCMP_UNE) {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Cmp-&gt;getOperand(0);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Cmp-&gt;getOperand(1);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      <span class="comment">// If we can prove either side non-zero, then equality must imply</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      <span class="comment">// equivalence.</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      <span class="comment">// FIXME: We should do this optimization if &#39;no signed zeros&#39; is</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <span class="comment">// applicable via an instruction-level fast-math-flag or some other</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      <span class="comment">// indicator that relaxed FP semantics are being used.</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ConstantFP&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; !cast&lt;ConstantFP&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)-&gt;<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>())</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ConstantFP&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; !cast&lt;ConstantFP&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)-&gt;<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>())</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <span class="comment">// TODO: Handle vector floating point constants</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  }</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;}</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160; </div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#a0da562df19b1396325aa80e6790bf5d7"> 1860</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="GVN_8cpp.html#a0da562df19b1396325aa80e6790bf5d7">hasUsersIn</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>(), [<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>](<a class="code" href="classllvm_1_1User.html">User</a> *U) {</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    auto *I = dyn_cast&lt;Instruction&gt;(U);</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    return I &amp;&amp; I-&gt;getParent() == BB;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  });</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;}</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160; </div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="keywordtype">bool</span> GVNPass::processAssumeIntrinsic(<a class="code" href="classllvm_1_1AssumeInst.html">AssumeInst</a> *IntrinsicI) {</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *V = IntrinsicI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = dyn_cast&lt;ConstantInt&gt;(V)) {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;isZero()) {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8Ty = <a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      <span class="comment">// Insert a new store to null instruction before the load to indicate that</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="comment">// this code is not reachable.  FIXME: We could insert unreachable</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="comment">// instruction directly because we can modify the CFG.</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="keyword">auto</span> *NewS = <span class="keyword">new</span> <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a>(<a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Int8Ty),</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                                 <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Int8Ty-&gt;<a class="code" href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">getPointerTo</a>()),</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                                 IntrinsicI);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      <span class="keywordflow">if</span> (MSSAU) {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *FirstNonDom = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> =</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            MSSAU-&gt;getMemorySSA()-&gt;getBlockAccesses(IntrinsicI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>());</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        <span class="comment">// If there are accesses in the current basic block, find the first one</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        <span class="comment">// that does not come before NewS. The new memory access is inserted</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        <span class="comment">// after the found access or before the terminator if no such access is</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        <span class="comment">// found.</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Acc : *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>) {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Current = dyn_cast&lt;MemoryUseOrDef&gt;(&amp;Acc))</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;              <span class="keywordflow">if</span> (!Current-&gt;getMemoryInst()-&gt;comesBefore(NewS)) {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                FirstNonDom = Current;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;              }</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;          }</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160; </div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <span class="comment">// This added store is to null, so it will never executed and we can</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        <span class="comment">// just use the LiveOnEntry def as defining access.</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        <span class="keyword">auto</span> *NewDef =</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;            FirstNonDom ? MSSAU-&gt;createMemoryAccessBefore(</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                              NewS, MSSAU-&gt;getMemorySSA()-&gt;getLiveOnEntryDef(),</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                              <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *<span class="keyword">&gt;</span>(FirstNonDom))</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                        : MSSAU-&gt;createMemoryAccessInBB(</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                              NewS, MSSAU-&gt;getMemorySSA()-&gt;getLiveOnEntryDef(),</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                              NewS-&gt;getParent(), <a class="code" href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5a7806c120eb87aea9fbb52fed327e09de">MemorySSA::BeforeTerminator</a>);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160; </div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        MSSAU-&gt;insertDef(cast&lt;MemoryDef&gt;(NewDef), <span class="comment">/*RenameUses=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      }</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af292b2e5cb0702e5df9051df6428c79e">isAssumeWithEmptyBundle</a>(*IntrinsicI))</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      markInstructionForDeletion(IntrinsicI);</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;Constant&gt;(V)) {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="comment">// If it&#39;s not false, and constant, it must evaluate to true. This means our</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="comment">// assume is assume(true), and thus, pointless, and we don&#39;t want to do</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="comment">// anything more here.</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *True = <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160; </div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a> : <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(IntrinsicI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>())) {</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> Edge(IntrinsicI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(), <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a>);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <span class="comment">// This property is only true in dominated successors, propagateEquality</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="comment">// will check dominance for us.</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    Changed |= propagateEquality(V, True, Edge, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  }</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="comment">// We can replace assume value with true, which covers cases like this:</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="comment">// call void @llvm.assume(i1 %cmp)</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="comment">// br i1 %cmp, label %bb1, label %bb2 ; will change %cmp to true</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  ReplaceOperandsWithMap[V] = True;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="comment">// Similarly, after assume(!NotV) we know that NotV == false.</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NotV;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1MIPatternMatch.html#abeed97c145aefd8b8974bb1947a19439">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(NotV))))</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    ReplaceOperandsWithMap[NotV] = <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="comment">// If we find an equality fact, canonicalize all dominated uses in this block</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <span class="comment">// to one of the two values.  We heuristically choice the &quot;oldest&quot; of the</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="comment">// two where age is determined by value number. (Note that propagateEquality</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="comment">// above handles the cross block case.)</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="comment">// Key case to cover are:</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="comment">// 1)</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">// %cmp = fcmp oeq float 3.000000e+00, %0 ; const on lhs could happen</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="comment">// call void @llvm.assume(i1 %cmp)</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="comment">// ret float %0 ; will change it to ret float 3.000000e+00</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="comment">// 2)</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="comment">// %load = load float, float* %addr</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="comment">// %cmp = fcmp oeq float %load, %0</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <span class="comment">// call void @llvm.assume(i1 %cmp)</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="comment">// ret float %load ; will change it to ret float %0</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CmpI = dyn_cast&lt;CmpInst&gt;(V)) {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="GVN_8cpp.html#ad18f0266fefc2f0c5bbf0e1a67794d38">impliesEquivalanceIfTrue</a>(CmpI)) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *CmpLHS = CmpI-&gt;getOperand(0);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *CmpRHS = CmpI-&gt;getOperand(1);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <span class="comment">// Heuristically pick the better replacement -- the choice of heuristic</span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;      <span class="comment">// isn&#39;t terribly important here, but the fact we canonicalize on some</span></div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      <span class="comment">// replacement is for exposing other simplifications.</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      <span class="comment">// TODO: pull this out as a helper function and reuse w/existing</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      <span class="comment">// (slightly different) logic.</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;      <span class="keywordflow">if</span> (isa&lt;Constant&gt;(CmpLHS) &amp;&amp; !isa&lt;Constant&gt;(CmpRHS))</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CmpLHS, CmpRHS);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;Instruction&gt;(CmpLHS) &amp;&amp; isa&lt;Instruction&gt;(CmpRHS))</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CmpLHS, CmpRHS);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      <span class="keywordflow">if</span> ((isa&lt;Argument&gt;(CmpLHS) &amp;&amp; isa&lt;Argument&gt;(CmpRHS)) ||</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;          (isa&lt;Instruction&gt;(CmpLHS) &amp;&amp; isa&lt;Instruction&gt;(CmpRHS))) {</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        <span class="comment">// Move the &#39;oldest&#39; value to the right-hand side, using the value</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        <span class="comment">// number as a proxy for age.</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> LVN = VN.lookupOrAdd(CmpLHS);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> RVN = VN.lookupOrAdd(CmpRHS);</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        <span class="keywordflow">if</span> (LVN &lt; RVN)</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;          <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CmpLHS, CmpRHS);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      }</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160; </div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;      <span class="comment">// Handle degenerate case where we either haven&#39;t pruned a dead path or a</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      <span class="comment">// removed a trivial assume yet.</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;      <span class="keywordflow">if</span> (isa&lt;Constant&gt;(CmpLHS) &amp;&amp; isa&lt;Constant&gt;(CmpRHS))</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160; </div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Replacing dominated uses of &quot;</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                 &lt;&lt; *CmpLHS &lt;&lt; <span class="stringliteral">&quot; with &quot;</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                 &lt;&lt; *CmpRHS &lt;&lt; <span class="stringliteral">&quot; in block &quot;</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                 &lt;&lt; IntrinsicI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160; </div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160; </div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      <span class="comment">// Setup the replacement map - this handles uses within the same block</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="GVN_8cpp.html#a0da562df19b1396325aa80e6790bf5d7">hasUsersIn</a>(CmpLHS, IntrinsicI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()))</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        ReplaceOperandsWithMap[CmpLHS] = CmpRHS;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160; </div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="comment">// NOTE: The non-block local cases are handled by the call to</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;      <span class="comment">// propagateEquality above; this block is just about handling the block</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      <span class="comment">// local cases.  TODO: There&#39;s a bunch of logic in propagateEqualiy which</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <span class="comment">// isn&#39;t duplicated for the block local case, can we share it somehow?</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  }</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;}</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160; </div>
<div class="line"><a name="l02004"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#ab85468c2bfc360b5d4bc512d241d1440"> 2004</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="GVN_8cpp.html#ab85468c2bfc360b5d4bc512d241d1440">patchAndReplaceAllUsesWith</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Repl) {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <a class="code" href="namespacellvm.html#a85d5ffd7db412c30d2e0dd46df6cf854">patchReplacementInstruction</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Repl);</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;replaceAllUsesWith(Repl);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;}</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;<span class="comment">/// Attempt to eliminate a load, first by eliminating it</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;<span class="comment">/// locally, and then attempting non-local elimination if that fails.</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GVNPass::processLoad(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *L) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="keywordflow">if</span> (!MD)</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160; </div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="comment">// This code hasn&#39;t been audited for ordered or volatile memory access</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ac072f8698be17d52f20bb63d59e6ce41">isUnordered</a>())</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>()) {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    markInstructionForDeletion(L);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  }</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="comment">// ... to a pointer that has been loaded from before...</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> Dep = MD-&gt;getDependency(L);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160; </div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <span class="comment">// If it is defined in another block, try harder.</span></div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="keywordflow">if</span> (Dep.<a class="code" href="classllvm_1_1MemDepResult.html#a2b6159ef05223f67e8dd0a178377f06b">isNonLocal</a>())</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="keywordflow">return</span> processNonLocalLoad(L);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160; </div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <span class="comment">// Only handle the local case below</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <span class="keywordflow">if</span> (!Dep.<a class="code" href="classllvm_1_1MemDepResult.html#aa9284c7b4e7cfa1baabc14bf877b29f8">isLocal</a>()) {</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="comment">// This might be a NonFuncLocal or an Unknown</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        <span class="comment">// fast print dep, using operator&lt;&lt; on instruction is too slow.</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN: load &quot;</span>; L-&gt;<a class="code" href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">printAsOperand</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; has unknown dependence\n&quot;</span>;);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  }</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160; </div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="keyword">auto</span> AV = AnalyzeLoadAvailability(L, Dep, L-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>());</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keywordflow">if</span> (!AV)</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a> = AV-&gt;<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html#ac96558c87ecbcc96f020a0efcaade750">MaterializeAdjustedValue</a>(L, L, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160; </div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="comment">// Replace the load!</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  <a class="code" href="GVN_8cpp.html#ab85468c2bfc360b5d4bc512d241d1440">patchAndReplaceAllUsesWith</a>(L, <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a>);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  markInstructionForDeletion(L);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <span class="keywordflow">if</span> (MSSAU)</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    MSSAU-&gt;removeMemoryAccess(L);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  ++NumGVNLoad;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  <a class="code" href="GVN_8cpp.html#a3048c1b015753173fe58163dc4ad6bf6">reportLoadElim</a>(L, <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a>, ORE);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  <span class="comment">// Tell MDA to reexamine the reused pointer since we might have more</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <span class="comment">// information after forwarding it.</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  <span class="keywordflow">if</span> (MD &amp;&amp; <a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a>-&gt;getType()-&gt;isPtrOrPtrVectorTy())</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    MD-&gt;invalidateCachedPointerInfo(<a class="code" href="structllvm_1_1gvn_1_1AvailableValue.html">AvailableValue</a>);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;}</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="comment">/// Return a pair the first field showing the value number of \p Exp and the</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="comment">/// second field showing whether it is a value number newly created.</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="comment"></span>std::pair&lt;uint32_t, bool&gt;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;GVNPass::ValueTable::assignExpNewValueNum(<a class="code" href="classllvm_1_1Expression.html">Expression</a> &amp;Exp) {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> &amp;<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = expressionNumbering[<a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>];</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <span class="keywordtype">bool</span> CreateNewValNum = !<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <span class="keywordflow">if</span> (CreateNewValNum) {</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <a class="code" href="GVNHoist_8cpp.html#a14ef304a9f4dec088d265125ce3adca2">Expressions</a>.push_back(Exp);</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="keywordflow">if</span> (ExprIdx.size() &lt; nextValueNumber + 1)</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;      ExprIdx.resize(nextValueNumber * 2);</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = nextValueNumber;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    ExprIdx[nextValueNumber++] = nextExprNumber++;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  }</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordflow">return</span> {<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>, CreateNewValNum};</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;}</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;<span class="comment">/// Return whether all the values related with the same \p num are</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;<span class="comment">/// defined in \p BB.</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GVNPass::ValueTable::areAllValsInBB(<a class="code" href="classuint32__t.html">uint32_t</a> Num, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                                         <a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a> &amp;Gvn) {</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  LeaderTableEntry *Vals = &amp;Gvn.LeaderTable[Num];</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="keywordflow">while</span> (Vals &amp;&amp; Vals-&gt;BB == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    Vals = Vals-&gt;Next;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="keywordflow">return</span> !Vals;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;}</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;<span class="comment">/// Wrap phiTranslateImpl to provide caching functionality.</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#aa65e06a8ebf36de45b4859c5e3a52b03"> 2088</a></span>&#160;<span class="comment"></span><a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#aa65e06a8ebf36de45b4859c5e3a52b03">GVNPass::ValueTable::phiTranslate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred,</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PhiBlock,</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                                           <a class="code" href="classuint32__t.html">uint32_t</a> Num, <a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a> &amp;Gvn) {</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keyword">auto</span> FindRes = PhiTranslateTable.find({Num, Pred});</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <span class="keywordflow">if</span> (FindRes != PhiTranslateTable.end())</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="keywordflow">return</span> FindRes-&gt;second;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NewNum = phiTranslateImpl(Pred, PhiBlock, Num, Gvn);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  PhiTranslateTable.insert({{Num, Pred}, NewNum});</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="keywordflow">return</span> NewNum;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;}</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160; </div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<span class="comment">// Return true if the value number \p Num and NewNum have equal value.</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;<span class="comment">// Return false if the result is unknown.</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="keywordtype">bool</span> GVNPass::ValueTable::areCallValsEqual(<a class="code" href="classuint32__t.html">uint32_t</a> Num, <a class="code" href="classuint32__t.html">uint32_t</a> NewNum,</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred,</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PhiBlock,</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                                           <a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a> &amp;Gvn) {</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  LeaderTableEntry *Vals = &amp;Gvn.LeaderTable[Num];</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  <span class="keywordflow">while</span> (Vals) {</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    Call = dyn_cast&lt;CallInst&gt;(Vals-&gt;Val);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordflow">if</span> (Call &amp;&amp; Call-&gt;getParent() == PhiBlock)</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    Vals = Vals-&gt;Next;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  }</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="keywordflow">if</span> (AA-&gt;doesNotAccessMemory(Call))</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordflow">if</span> (!MD || !AA-&gt;onlyReadsMemory(Call))</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160; </div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> local_dep = MD-&gt;getDependency(Call);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="keywordflow">if</span> (!local_dep.<a class="code" href="classllvm_1_1MemDepResult.html#a2b6159ef05223f67e8dd0a178377f06b">isNonLocal</a>())</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160; </div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">MemoryDependenceResults::NonLocalDepInfo</a> &amp;deps =</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      MD-&gt;getNonLocalCallDependency(Call);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <span class="comment">// Check to see if the Call has no function local clobber.</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> : deps) {</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.getResult().isNonFuncLocal())</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;}</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<span class="comment">/// Translate value number \p Num using phis, so that it has the values of</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<span class="comment">/// the phis in BB.</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;<span class="comment"></span><a class="code" href="classuint32__t.html">uint32_t</a> GVNPass::ValueTable::phiTranslateImpl(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred,</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PhiBlock,</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;                                               <a class="code" href="classuint32__t.html">uint32_t</a> Num, <a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a> &amp;Gvn) {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = NumberingPhi[Num]) {</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != PN-&gt;getNumIncomingValues(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <span class="keywordflow">if</span> (PN-&gt;getParent() == PhiBlock &amp;&amp; PN-&gt;getIncomingBlock(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == Pred)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classuint32__t.html">uint32_t</a> TransVal = <a class="code" href="InlineInfo_8cpp.html#a5db99f4b7f8744e0b1c8b50dba8ec5a2">lookup</a>(PN-&gt;getIncomingValue(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), <span class="keyword">false</span>))</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;          <span class="keywordflow">return</span> TransVal;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    }</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <span class="keywordflow">return</span> Num;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  }</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="comment">// If there is any value related with Num is defined in a BB other than</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="comment">// PhiBlock, it cannot depend on a phi in PhiBlock without going through</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="comment">// a backedge. We can do an early exit in that case to save compile time.</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  <span class="keywordflow">if</span> (!areAllValsInBB(Num, PhiBlock, Gvn))</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="keywordflow">return</span> Num;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160; </div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordflow">if</span> (Num &gt;= ExprIdx.size() || ExprIdx[Num] == 0)</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">return</span> Num;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <a class="code" href="classllvm_1_1Expression.html">Expression</a> <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a> = <a class="code" href="GVNHoist_8cpp.html#a14ef304a9f4dec088d265125ce3adca2">Expressions</a>[ExprIdx[Num]];</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160; </div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.varargs.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <span class="comment">// For InsertValue and ExtractValue, some varargs are index numbers</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="comment">// instead of value numbers. Those index numbers should not be</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="comment">// translated.</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 1 &amp;&amp; <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.opcode == Instruction::InsertValue) ||</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0 &amp;&amp; <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.opcode == Instruction::ExtractValue) ||</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 1 &amp;&amp; <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.opcode == Instruction::ShuffleVector))</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.varargs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = phiTranslate(Pred, PhiBlock, <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.varargs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], Gvn);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  }</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160; </div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.commutative) {</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.varargs.size() &gt;= 2 &amp;&amp; <span class="stringliteral">&quot;Unsupported commutative instruction!&quot;</span>);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.varargs[0] &gt; <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.varargs[1]) {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.varargs[0], <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.varargs[1]);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> Opcode = <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.opcode &gt;&gt; 8;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;      <span class="keywordflow">if</span> (Opcode == Instruction::ICmp || Opcode == Instruction::FCmp)</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        <a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.opcode = (Opcode &lt;&lt; 8) |</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                     <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                         <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.opcode &amp; 255));</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    }</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classuint32__t.html">uint32_t</a> NewNum = expressionNumbering[Exp]) {</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">Exp</a>.opcode == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a> &amp;&amp; NewNum != Num)</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      <span class="keywordflow">return</span> areCallValsEqual(Num, NewNum, Pred, PhiBlock, Gvn) ? NewNum : Num;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordflow">return</span> NewNum;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  }</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <span class="keywordflow">return</span> Num;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;}</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;<span class="comment">/// Erase stale entry from phiTranslate cache so phiTranslate can be computed</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="comment">/// again.</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"><a class="line" href="classllvm_1_1GVNPass_1_1ValueTable.html#ac2d88e08f6ab3a25d6561c0a2b7d7c48"> 2192</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GVNPass_1_1ValueTable.html#ac2d88e08f6ab3a25d6561c0a2b7d7c48">GVNPass::ValueTable::eraseTranslateCacheEntry</a>(</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Num, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;CurrBlock) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(&amp;CurrBlock))</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    PhiTranslateTable.erase({Num, Pred});</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;}</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160; </div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="comment">// In order to find a leader for a given value number at a</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;<span class="comment">// specific basic block, we first obtain the list of all Values for that number,</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;<span class="comment">// and then scan the list to find one whose block dominates the block in</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;<span class="comment">// question.  This is fast because dominator tree queries consist of only</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<span class="comment">// a few comparisons of DFS numbers.</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *GVNPass::findLeader(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classuint32__t.html">uint32_t</a> num) {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  LeaderTableEntry Vals = LeaderTable[num];</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="keywordflow">if</span> (!Vals.Val) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160; </div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Val = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="keywordflow">if</span> (DT-&gt;dominates(Vals.BB, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    Val = Vals.Val;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Constant&gt;(Val)) <span class="keywordflow">return</span> Val;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  }</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160; </div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  LeaderTableEntry* Next = Vals.Next;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  <span class="keywordflow">while</span> (Next) {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="keywordflow">if</span> (DT-&gt;dominates(Next-&gt;BB, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;      <span class="keywordflow">if</span> (isa&lt;Constant&gt;(Next-&gt;Val)) <span class="keywordflow">return</span> Next-&gt;Val;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;      <span class="keywordflow">if</span> (!Val) Val = Next-&gt;Val;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    }</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    Next = Next-&gt;Next;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160; </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="keywordflow">return</span> Val;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;}</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;<span class="comment">/// There is an edge from &#39;Src&#39; to &#39;Dst&#39;.  Return</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;<span class="comment">/// true if every path from the entry block to &#39;Dst&#39; passes via this edge.  In</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="comment">/// particular &#39;Dst&#39; must not be reachable via another edge from &#39;Src&#39;.</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"><a class="line" href="GVN_8cpp.html#a7ecb019c18583eca74daad14ff133d54"> 2229</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="GVN_8cpp.html#a7ecb019c18583eca74daad14ff133d54">isOnlyReachableViaThisEdge</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>,</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;                                       <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="comment">// While in theory it is interesting to consider the case in which Dst has</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="comment">// more than one predecessor, because Dst might be part of a loop which is</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="comment">// only reachable from Src, in practice it is pointless since at the time</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="comment">// GVN runs all such loops have preheaders, which means that Dst will have</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="comment">// been changed to have only one predecessor, namely Src.</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred = <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.getEnd()-&gt;getSinglePredecessor();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!Pred || Pred == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.getStart()) &amp;&amp;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;         <span class="stringliteral">&quot;No edge between these basic blocks!&quot;</span>);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  <span class="keywordflow">return</span> Pred != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;}</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160; </div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<span class="keywordtype">void</span> GVNPass::assignBlockRPONumber(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  BlockRPONumber.clear();</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NextBlockNumber = 1;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  <a class="code" href="classllvm_1_1ReversePostOrderTraversal.html">ReversePostOrderTraversal&lt;Function *&gt;</a> RPOT(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : RPOT)</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    BlockRPONumber[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = NextBlockNumber++;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  InvalidBlockRPONumbers = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;}</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160; </div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;<span class="keywordtype">bool</span> GVNPass::replaceOperandsForInBlockEquality(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Instr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OpNum = 0; OpNum &lt; Instr-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>(); ++OpNum) {</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Operand = Instr-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(OpNum);</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> = ReplaceOperandsWithMap.find(Operand);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> != ReplaceOperandsWithMap.end()) {</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN replacing: &quot;</span> &lt;&lt; *Operand &lt;&lt; <span class="stringliteral">&quot; with &quot;</span></div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                        &lt;&lt; *<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>-&gt;second &lt;&lt; <span class="stringliteral">&quot; in instruction &quot;</span> &lt;&lt; *Instr &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      Instr-&gt;<a class="code" href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">setOperand</a>(OpNum, <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>-&gt;second);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    }</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  }</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;}</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="comment">/// The given values are known to be equal in every block</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="comment">/// dominated by &#39;Root&#39;.  Exploit this, for example by replacing &#39;LHS&#39; with</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;<span class="comment">/// &#39;RHS&#39; everywhere in the scope.  Returns whether a change was made.</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;<span class="comment">/// If DominatesByEdge is false, then it means that we will propagate the RHS</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;<span class="comment">/// value starting from the end of Root.Start.</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GVNPass::propagateEquality(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> &amp;Root,</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                                <span class="keywordtype">bool</span> DominatesByEdge) {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;Value*, Value*&gt;</a>, 4&gt; Worklist;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  Worklist.push_back(std::make_pair(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="comment">// For speed, compute a conservative fast approximation to</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <span class="comment">// DT-&gt;dominates(Root, Root.getEnd());</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> RootDominatesEnd = <a class="code" href="GVN_8cpp.html#a7ecb019c18583eca74daad14ff133d54">isOnlyReachableViaThisEdge</a>(Root, DT);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    std::pair&lt;Value*, Value*&gt; Item = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = Item.first; <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = Item.second;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() &amp;&amp; <span class="stringliteral">&quot;Equality but unequal types!&quot;</span>);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160; </div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="comment">// Don&#39;t try to propagate equalities between constants.</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; isa&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160; </div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="comment">// Prefer a constant on the right-hand side, or an Argument if no constants.</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || (isa&lt;Argument&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; !isa&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)))</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;Argument&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || isa&lt;Instruction&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) &amp;&amp; <span class="stringliteral">&quot;Unexpected value!&quot;</span>);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160; </div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="comment">// If there is no obvious reason to prefer the left-hand side over the</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="comment">// right-hand side, ensure the longest lived term is on the right-hand side,</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    <span class="comment">// so the shortest lived term will be replaced by the longest lived.</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <span class="comment">// This tends to expose more simplifications.</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> LVN = VN.lookupOrAdd(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    <span class="keywordflow">if</span> ((isa&lt;Argument&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; isa&lt;Argument&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) ||</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        (isa&lt;Instruction&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; isa&lt;Instruction&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))) {</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      <span class="comment">// Move the &#39;oldest&#39; value to the right-hand side, using the value number</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;      <span class="comment">// as a proxy for age.</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> RVN = VN.lookupOrAdd(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      <span class="keywordflow">if</span> (LVN &lt; RVN) {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        LVN = RVN;</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      }</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    }</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160; </div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="comment">// If value numbering later sees that an instruction in the scope is equal</span></div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="comment">// to &#39;LHS&#39; then ensure it will be turned into &#39;RHS&#39;.  In order to preserve</span></div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="comment">// the invariant that instructions only occur in the leader table for their</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <span class="comment">// own value number (this is used by removeFromLeaderTable), do not do this</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="comment">// if RHS is an instruction (if an instruction in the scope is morphed into</span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <span class="comment">// LHS then it will be turned into RHS by the next GVN iteration anyway, so</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="comment">// using the leader table is about compiling faster, not optimizing better).</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <span class="comment">// The leader table only tracks basic blocks, not edges. Only add to if we</span></div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="comment">// have the simple case where the edge dominates the end.</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="keywordflow">if</span> (RootDominatesEnd &amp;&amp; !isa&lt;Instruction&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;      addToLeaderTable(LVN, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Root.<a class="code" href="classllvm_1_1BasicBlockEdge.html#acc7ed786f919008658f560cc4ff040d1">getEnd</a>());</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="comment">// Replace all occurrences of &#39;LHS&#39; with &#39;RHS&#39; everywhere in the scope.  As</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <span class="comment">// LHS always has at least one use that is not dominated by Root, this will</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="comment">// never do anything if LHS has only one use.</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>()) {</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      <span class="keywordtype">unsigned</span> NumReplacements =</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;          DominatesByEdge</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;              ? <a class="code" href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c">replaceDominatedUsesWith</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, *DT, Root)</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;              : <a class="code" href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c">replaceDominatedUsesWith</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, *DT, Root.getStart());</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160; </div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      Changed |= NumReplacements &gt; 0;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;      NumGVNEqProp += NumReplacements;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      <span class="comment">// Cached information for anything that uses LHS will be invalid.</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        MD-&gt;invalidateCachedPointerInfo(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    }</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="comment">// Now try to deduce additional equalities from this one. For example, if</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="comment">// the known equality was &quot;(A != B)&quot; == &quot;false&quot; then it follows that A and B</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    <span class="comment">// are equal in the scope. Only boolean equalities with an explicit true or</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <span class="comment">// false RHS are currently supported.</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(1))</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;      <span class="comment">// Not a boolean equality - bail out.</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <span class="keywordflow">if</span> (!CI)</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      <span class="comment">// RHS neither &#39;true&#39; nor &#39;false&#39; - bail out.</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <span class="comment">// Whether RHS equals &#39;true&#39;.  Otherwise it equals &#39;false&#39;.</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <span class="keywordtype">bool</span> isKnownTrue = CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a13cc1f5d3225f4ec063520a747acec4c">isMinusOne</a>();</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordtype">bool</span> isKnownFalse = !isKnownTrue;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160; </div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <span class="comment">// If &quot;A &amp;&amp; B&quot; is known true then both A and B are known true.  If &quot;A || B&quot;</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <span class="comment">// is known false then both A and B are known false.</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <span class="keywordflow">if</span> ((isKnownTrue &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a213e6c0ca6e838157373b9a6018c0769">m_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)))) ||</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;        (isKnownFalse &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a1a06b1cff93069d7403ea03e6150e386">m_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))) {</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      Worklist.push_back(std::make_pair(A, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;      Worklist.push_back(std::make_pair(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    }</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160; </div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="comment">// If we are propagating an equality like &quot;(A == B)&quot; == &quot;true&quot; then also</span></div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="comment">// propagate the equality A == B.  When propagating a comparison such as</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <span class="comment">// &quot;(A &gt;= B)&quot; == &quot;true&quot;, replace all instances of &quot;A &lt; B&quot; with &quot;false&quot;.</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *Cmp = dyn_cast&lt;CmpInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = <a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>-&gt;getOperand(0), *Op1 = <a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160; </div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;      <span class="comment">// If &quot;A == B&quot; is known true, or &quot;A != B&quot; is known false, then replace</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;      <span class="comment">// A with B everywhere in the scope.  For floating point operations, we</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;      <span class="comment">// have to be careful since equality does not always imply equivalance.</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;      <span class="keywordflow">if</span> ((isKnownTrue &amp;&amp; <a class="code" href="GVN_8cpp.html#ad18f0266fefc2f0c5bbf0e1a67794d38">impliesEquivalanceIfTrue</a>(Cmp)) ||</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;          (isKnownFalse &amp;&amp; <a class="code" href="GVN_8cpp.html#a8d4d46440095befe6f9bdb1fdcaa9148">impliesEquivalanceIfFalse</a>(Cmp)))</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        Worklist.push_back(std::make_pair(Op0, Op1));</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160; </div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;      <span class="comment">// If &quot;A &gt;= B&quot; is known true, replace &quot;A &lt; B&quot; with false everywhere.</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> NotPred = <a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>-&gt;getInversePredicate();</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NotVal = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>-&gt;getType(), isKnownFalse);</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      <span class="comment">// Since we don&#39;t have the instruction &quot;A &lt; B&quot; immediately to hand, work</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      <span class="comment">// out the value number that it would have and use that to find an</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;      <span class="comment">// appropriate instruction (if any).</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> NextNum = VN.getNextUnusedValueNumber();</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> Num = VN.lookupOrAddCmp(<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a>-&gt;getOpcode(), NotPred, Op0, Op1);</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;      <span class="comment">// If the number we were assigned was brand new then there is no point in</span></div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;      <span class="comment">// looking for an instruction realizing it: there cannot be one!</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      <span class="keywordflow">if</span> (Num &lt; NextNum) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *NotCmp = findLeader(Root.<a class="code" href="classllvm_1_1BasicBlockEdge.html#acc7ed786f919008658f560cc4ff040d1">getEnd</a>(), Num);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        <span class="keywordflow">if</span> (NotCmp &amp;&amp; isa&lt;Instruction&gt;(NotCmp)) {</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;          <span class="keywordtype">unsigned</span> NumReplacements =</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;              DominatesByEdge</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;                  ? <a class="code" href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c">replaceDominatedUsesWith</a>(NotCmp, NotVal, *DT, Root)</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;                  : <a class="code" href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c">replaceDominatedUsesWith</a>(NotCmp, NotVal, *DT,</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;                                             Root.getStart());</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;          Changed |= NumReplacements &gt; 0;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;          NumGVNEqProp += NumReplacements;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;          <span class="comment">// Cached information for anything that uses NotCmp will be invalid.</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;          <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;            MD-&gt;invalidateCachedPointerInfo(NotCmp);</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;        }</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;      }</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      <span class="comment">// Ensure that any instruction in scope that gets the &quot;A &lt; B&quot; value number</span></div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      <span class="comment">// is replaced with false.</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;      <span class="comment">// The leader table only tracks basic blocks, not edges. Only add to if we</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;      <span class="comment">// have the simple case where the edge dominates the end.</span></div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      <span class="keywordflow">if</span> (RootDominatesEnd)</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        addToLeaderTable(Num, NotVal, Root.<a class="code" href="classllvm_1_1BasicBlockEdge.html#acc7ed786f919008658f560cc4ff040d1">getEnd</a>());</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160; </div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    }</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  }</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160; </div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;}</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment">/// When calculating availability, handle an instruction</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="comment">/// by inserting it into the appropriate sets</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GVNPass::processInstruction(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  <span class="comment">// Ignore dbg info intrinsics.</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="keywordflow">if</span> (isa&lt;DbgInfoIntrinsic&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  <span class="comment">// If the instruction can be easily simplified then do so now in preference</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  <span class="comment">// to value numbering it.  Value numbering often exposes redundancies, for</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  <span class="comment">// example if it determines that %y is equal to %x then the instruction</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <span class="comment">// &quot;%z = and i32 %x, %y&quot; becomes &quot;%z = and i32 %x, %x&quot; which we now simplify.</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941">simplifyInstruction</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, {<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI, DT, AC})) {</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;use_empty()) {</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      <span class="comment">// Simplification can cause a special instruction to become not special.</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      <span class="comment">// For example, devirtualization to a willreturn function.</span></div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      ICF-&gt;removeUsersOf(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;replaceAllUsesWith(V);</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    }</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLI)) {</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      markInstructionForDeletion(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    }</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <span class="keywordflow">if</span> (Changed) {</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      <span class="keywordflow">if</span> (MD &amp;&amp; V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>())</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;        MD-&gt;invalidateCachedPointerInfo(V);</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      ++NumGVNSimpl;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    }</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  }</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160; </div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Assume = dyn_cast&lt;AssumeInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    <span class="keywordflow">return</span> processAssumeIntrinsic(Assume);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160; </div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">if</span> (processLoad(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>))</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160; </div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <span class="keywordtype">unsigned</span> Num = VN.lookupOrAdd(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    addToLeaderTable(Num, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getParent());</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  }</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160; </div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="comment">// For conditional branches, we can perform simple conditional propagation on</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <span class="comment">// the condition value itself.</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = dyn_cast&lt;BranchInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    <span class="keywordflow">if</span> (!BI-&gt;isConditional())</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160; </div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Constant&gt;(BI-&gt;getCondition()))</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;      <span class="keywordflow">return</span> processFoldableCondBr(BI);</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160; </div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *BranchCond = BI-&gt;getCondition();</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *TrueSucc = BI-&gt;getSuccessor(0);</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FalseSucc = BI-&gt;getSuccessor(1);</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <span class="comment">// Avoid multiple edges early.</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    <span class="keywordflow">if</span> (TrueSucc == FalseSucc)</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160; </div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Parent = BI-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>();</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> = <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(TrueSucc-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">getContext</a>());</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> TrueE(Parent, TrueSucc);</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    Changed |= propagateEquality(BranchCond, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, TrueE, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160; </div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a> = <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(FalseSucc-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">getContext</a>());</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> FalseE(Parent, FalseSucc);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    Changed |= propagateEquality(BranchCond, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, FalseE, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160; </div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  }</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160; </div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="comment">// For switches, propagate the case values into the case destinations.</span></div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SwitchInst.html">SwitchInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;SwitchInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *SwitchCond = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getCondition();</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Parent = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getParent();</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160; </div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <span class="comment">// Remember how many outgoing edges there are to every successor.</span></div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;BasicBlock *, unsigned, 16&gt;</a> SwitchEdges;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getNumSuccessors(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;      ++SwitchEdges[<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getSuccessor(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)];</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160; </div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SwitchInst_1_1CaseIteratorImpl.html">SwitchInst::CaseIt</a> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;case_begin(), <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;case_end();</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;         <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Dst = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;getCaseSuccessor();</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;      <span class="comment">// If there is only a single edge, propagate the case value into it.</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      <span class="keywordflow">if</span> (SwitchEdges.<a class="code" href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">lookup</a>(Dst) == 1) {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>(Parent, Dst);</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        Changed |= propagateEquality(SwitchCond, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;getCaseValue(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      }</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    }</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;  }</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160; </div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <span class="comment">// Instructions with void type don&#39;t return a value, so there&#39;s</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  <span class="comment">// no point in trying to find redundancies in them.</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()-&gt;isVoidTy())</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160; </div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NextNum = VN.getNextUnusedValueNumber();</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <span class="keywordtype">unsigned</span> Num = VN.lookupOrAdd(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160; </div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  <span class="comment">// Allocations are always uniquely numbered, so we can save time and memory</span></div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="comment">// by fast failing them.</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isTerminator() || isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    addToLeaderTable(Num, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent());</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  }</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160; </div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  <span class="comment">// If the number we were assigned was a brand new VN, then we don&#39;t</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="comment">// need to do a lookup to see if the number already exists</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="comment">// somewhere in the domtree: it can&#39;t!</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  <span class="keywordflow">if</span> (Num &gt;= NextNum) {</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    addToLeaderTable(Num, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent());</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  }</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160; </div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  <span class="comment">// Perform fast-path value-number based elimination of values inherited from</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <span class="comment">// dominators.</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Repl = findLeader(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent(), Num);</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  <span class="keywordflow">if</span> (!Repl) {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <span class="comment">// Failure, just remember this instance for future use.</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    addToLeaderTable(Num, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent());</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Repl == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    <span class="comment">// If I was the result of a shortcut PRE, it might already be in the table</span></div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    <span class="comment">// and the best replacement for itself. Nothing to do.</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  }</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160; </div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <span class="comment">// Remove it!</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <a class="code" href="GVN_8cpp.html#ab85468c2bfc360b5d4bc512d241d1440">patchAndReplaceAllUsesWith</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Repl);</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <span class="keywordflow">if</span> (MD &amp;&amp; Repl-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>())</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    MD-&gt;invalidateCachedPointerInfo(Repl);</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  markInstructionForDeletion(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;}</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;<span class="comment">/// runOnFunction - This is the main transformation entry point for a function.</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GVNPass::runImpl(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;RunAC, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;RunDT,</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;RunTLI, <a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;RunAA,</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;                      <a class="code" href="classllvm_1_1MemoryDependenceResults.html">MemoryDependenceResults</a> *RunMD, <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI,</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;                      <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> *RunORE, <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *MSSA) {</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  AC = &amp;RunAC;</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  DT = &amp;RunDT;</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  VN.setDomTree(DT);</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  TLI = &amp;RunTLI;</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  VN.setAliasAnalysis(&amp;RunAA);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  MD = RunMD;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <a class="code" href="classllvm_1_1ImplicitControlFlowTracking.html">ImplicitControlFlowTracking</a> ImplicitCFT;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  ICF = &amp;ImplicitCFT;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  this-&gt;LI = LI;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  VN.setMemDep(MD);</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  ORE = RunORE;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  InvalidBlockRPONumbers = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <a class="code" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> Updater(MSSA);</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  MSSAU = MSSA ? &amp;Updater : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160; </div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <span class="keywordtype">bool</span> ShouldContinue = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160; </div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> DTU(DT, <a class="code" href="classllvm_1_1DomTreeUpdater.html#a8bf4c30be33831d7882d6880b8ae433da483c336d7d9fe614a8b5aae1e746e01f">DomTreeUpdater::UpdateStrategy::Eager</a>);</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="comment">// Merge unconditional branches, allowing PRE to catch more</span></div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="comment">// optimization opportunities.</span></div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <span class="keywordtype">bool</span> removedBlock = <a class="code" href="namespacellvm.html#aa76a2cf19b821f320ab439d5659ef4b9">MergeBlockIntoPredecessor</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, &amp;DTU, LI, MSSAU, MD);</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <span class="keywordflow">if</span> (removedBlock)</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;      ++NumGVNBlocks;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160; </div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    Changed |= removedBlock;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  }</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160; </div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <span class="keywordtype">unsigned</span> Iteration = 0;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <span class="keywordflow">while</span> (ShouldContinue) {</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN iteration: &quot;</span> &lt;&lt; Iteration &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    (void) Iteration;</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    ShouldContinue = iterateOnFunction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    Changed |= ShouldContinue;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    ++Iteration;</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160; </div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="keywordflow">if</span> (isPREEnabled()) {</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="comment">// Fabricate val-num for dead-code in order to suppress assertion in</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <span class="comment">// performPRE().</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    assignValNumForDeadCode();</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keywordtype">bool</span> PREChanged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <span class="keywordflow">while</span> (PREChanged) {</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      PREChanged = performPRE(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;      Changed |= PREChanged;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    }</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  }</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160; </div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="comment">// FIXME: Should perform GVN again after PRE does something.  PRE can move</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="comment">// computations into blocks where they become fully redundant.  Note that</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="comment">// we can&#39;t do this until PRE&#39;s critical edge splitting updates memdep.</span></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;  <span class="comment">// Actually, when this happens, we should just fully integrate PRE into GVN.</span></div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160; </div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  cleanupGlobalSets();</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <span class="comment">// Do not cleanup DeadBlocks in cleanupGlobalSets() as it&#39;s called for each</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="comment">// iteration.</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  DeadBlocks.clear();</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160; </div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <span class="keywordflow">if</span> (MSSA &amp;&amp; <a class="code" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">VerifyMemorySSA</a>)</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a88b10d37f671e58cf138ac84a8257c17">verifyMemorySSA</a>();</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160; </div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;}</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160; </div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="keywordtype">bool</span> GVNPass::processBlock(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="comment">// FIXME: Kill off InstrsToErase by doing erasing eagerly in a helper function</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="comment">// (and incrementing BI before processing an instruction).</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InstrsToErase.empty() &amp;&amp;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;         <span class="stringliteral">&quot;We expect InstrsToErase to be empty across iterations&quot;</span>);</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  <span class="keywordflow">if</span> (DeadBlocks.count(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160; </div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <span class="comment">// Clearing map before every BB because it can be used only for single BB.</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  ReplaceOperandsWithMap.clear();</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  <span class="keywordtype">bool</span> ChangedFunction = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160; </div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="comment">// Since we may not have visited the input blocks of the phis, we can&#39;t</span></div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <span class="comment">// use our normal hash approach for phis.  Instead, simply look for</span></div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;  <span class="comment">// obvious duplicates.  The first pass of GVN will tend to create</span></div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  <span class="comment">// identical phis, and the second or later passes can eliminate them.</span></div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  ChangedFunction |= <a class="code" href="namespacellvm.html#aed498f056a09006219c59ee9fab0450f">EliminateDuplicatePHINodes</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160; </div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BI = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(), BE = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end();</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;       BI != BE;) {</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">if</span> (!ReplaceOperandsWithMap.empty())</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;      ChangedFunction |= replaceOperandsForInBlockEquality(&amp;*BI);</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    ChangedFunction |= processInstruction(&amp;*BI);</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160; </div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <span class="keywordflow">if</span> (InstrsToErase.empty()) {</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;      ++BI;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    }</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160; </div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <span class="comment">// If we need some instructions deleted, do it now.</span></div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    NumGVNInstr += InstrsToErase.size();</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160; </div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <span class="comment">// Avoid iterator invalidation.</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    <span class="keywordtype">bool</span> AtStart = BI == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin();</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <span class="keywordflow">if</span> (!AtStart)</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;      --BI;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160; </div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : InstrsToErase) {</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> &amp;&amp; <span class="stringliteral">&quot;Removing instruction from wrong block?&quot;</span>);</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN removed: &quot;</span> &lt;&lt; *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      <a class="code" href="namespacellvm.html#aa39ca296d9689933bb0279c9ac3ee1fc">salvageKnowledge</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, AC);</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;      <a class="code" href="namespacellvm.html#a26be1141b23850a2b4eb78021d99e862">salvageDebugInfo</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      <span class="keywordflow">if</span> (MD) MD-&gt;removeInstruction(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;      <span class="keywordflow">if</span> (MSSAU)</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;        MSSAU-&gt;removeMemoryAccess(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(verifyRemoved(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      ICF-&gt;removeInstruction(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    }</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    InstrsToErase.clear();</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160; </div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    <span class="keywordflow">if</span> (AtStart)</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;      BI = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin();</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;      ++BI;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;  }</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160; </div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  <span class="keywordflow">return</span> ChangedFunction;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;}</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160; </div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;<span class="comment">// Instantiate an expression in a predecessor that lacked it.</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;<span class="keywordtype">bool</span> GVNPass::performScalarPREInsertion(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Instr, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred,</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;                                        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Curr, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ValNo) {</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  <span class="comment">// Because we are going top-down through the block, all value numbers</span></div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  <span class="comment">// will be available in the predecessor by the time we need them.  Any</span></div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;  <span class="comment">// that weren&#39;t originally present will have been instantiated earlier</span></div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  <span class="comment">// in this loop.</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1coverage.html#ab7cd3c4d014c0e03d0e0dbcc94c192e6a260ca9dd8a4577fc00b7bd5810298076">success</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Instr-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = Instr-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Argument&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) || isa&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) || isa&lt;GlobalValue&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="comment">// This could be a newly inserted instruction, in which case, we won&#39;t</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    <span class="comment">// find a value number, and should give up before we hurt ourselves.</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    <span class="comment">// FIXME: Rewrite the infrastructure to let it easier to value number</span></div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="comment">// and process newly inserted instructions.</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="keywordflow">if</span> (!VN.exists(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;      <a class="code" href="namespacellvm_1_1coverage.html#ab7cd3c4d014c0e03d0e0dbcc94c192e6a260ca9dd8a4577fc00b7bd5810298076">success</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    }</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> TValNo =</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;        VN.phiTranslate(Pred, Curr, VN.lookup(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), *<span class="keyword">this</span>);</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = findLeader(Pred, TValNo)) {</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      Instr-&gt;<a class="code" href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">setOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, V);</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;      <a class="code" href="namespacellvm_1_1coverage.html#ab7cd3c4d014c0e03d0e0dbcc94c192e6a260ca9dd8a4577fc00b7bd5810298076">success</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    }</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  }</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <span class="comment">// Fail out if we encounter an operand that is not available in</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  <span class="comment">// the PRE predecessor.  This is typically because of loads which</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;  <span class="comment">// are not value numbered precisely.</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  <span class="keywordflow">if</span> (!success)</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160; </div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;  Instr-&gt;<a class="code" href="classllvm_1_1Instruction.html#a482498a1c760122fd33c7fc8190dd277">insertBefore</a>(Pred-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>());</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  Instr-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(Instr-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.pre&quot;</span>);</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  Instr-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">setDebugLoc</a>(Instr-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>());</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160; </div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;  ICF-&gt;insertInstructionTo(Instr, Pred);</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160; </div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  <span class="keywordtype">unsigned</span> Num = VN.lookupOrAdd(Instr);</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;  VN.add(Instr, Num);</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160; </div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;  <span class="comment">// Update the availability map to include the new instruction.</span></div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  addToLeaderTable(Num, Instr, Pred);</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;}</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160; </div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;<span class="keywordtype">bool</span> GVNPass::performScalarPRE(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CurInst) {</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(CurInst) || CurInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a7653277511df1034148a37520a585bb5">isTerminator</a>() ||</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;      isa&lt;PHINode&gt;(CurInst) || CurInst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>() ||</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;      CurInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9149819221d66953ac6c2938b87f0136">mayReadFromMemory</a>() || CurInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6ea260be710ac7b61309534308da3147">mayHaveSideEffects</a>() ||</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      isa&lt;DbgInfoIntrinsic&gt;(CurInst))</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160; </div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;  <span class="comment">// Don&#39;t do PRE on compares. The PHI would prevent CodeGenPrepare from</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  <span class="comment">// sinking the compare again, and it would force the code generator to</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  <span class="comment">// move the i1 from processor flags or predicate registers into a general</span></div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="comment">// purpose register.</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  <span class="keywordflow">if</span> (isa&lt;CmpInst&gt;(CurInst))</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160; </div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <span class="comment">// Don&#39;t do PRE on GEPs. The inserted PHI would prevent CodeGenPrepare from</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="comment">// sinking the addressing mode computation back to its uses. Extending the</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  <span class="comment">// GEP&#39;s live range increases the register pressure, and therefore it can</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="comment">// introduce unnecessary spills.</span></div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  <span class="comment">// This doesn&#39;t prevent Load PRE. PHI translation will make the GEP available</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  <span class="comment">// to the load by moving it to the predecessor block if necessary.</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  <span class="keywordflow">if</span> (isa&lt;GetElementPtrInst&gt;(CurInst))</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160; </div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CallB = dyn_cast&lt;CallBase&gt;(CurInst)) {</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="comment">// We don&#39;t currently value number ANY inline asm calls.</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <span class="keywordflow">if</span> (CallB-&gt;isInlineAsm())</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="comment">// Don&#39;t do PRE on convergent calls.</span></div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    <span class="keywordflow">if</span> (CallB-&gt;isConvergent())</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  }</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160; </div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> ValNo = VN.lookup(CurInst);</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160; </div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <span class="comment">// Look for the predecessors for PRE opportunities.  We&#39;re</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  <span class="comment">// only trying to solve the basic diamond case, where</span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <span class="comment">// a value is computed in the successor and one predecessor,</span></div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;  <span class="comment">// but not the other.  We also explicitly disallow cases</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <span class="comment">// where the successor is its own predecessor, because they&#39;re</span></div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <span class="comment">// more complicated to get right.</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  <span class="keywordtype">unsigned</span> NumWith = 0;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;  <span class="keywordtype">unsigned</span> NumWithout = 0;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PREPred = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *CurrentBlock = CurInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160; </div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  <span class="comment">// Update the RPO numbers for this function.</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;  <span class="keywordflow">if</span> (InvalidBlockRPONumbers)</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    assignBlockRPONumber(*CurrentBlock-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>());</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160; </div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;Value *, BasicBlock *&gt;</a>, 8&gt; predMap;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(CurrentBlock)) {</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    <span class="comment">// We&#39;re not interested in PRE where blocks with predecessors that are</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="comment">// not reachable.</span></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <span class="keywordflow">if</span> (!DT-&gt;isReachableFromEntry(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)) {</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      NumWithout = 2;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    }</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;    <span class="comment">// It is not safe to do PRE when P-&gt;CurrentBlock is a loop backedge.</span></div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BlockRPONumber.count(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) &amp;&amp; BlockRPONumber.count(CurrentBlock) &amp;&amp;</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;           <span class="stringliteral">&quot;Invalid BlockRPONumber map.&quot;</span>);</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="keywordflow">if</span> (BlockRPONumber[<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>] &gt;= BlockRPONumber[CurrentBlock]) {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;      NumWithout = 2;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    }</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160; </div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> TValNo = VN.phiTranslate(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, CurrentBlock, ValNo, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *predV = findLeader(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, TValNo);</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    <span class="keywordflow">if</span> (!predV) {</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      predMap.push_back(std::make_pair(<span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Value.html">Value</a> *<span class="keyword">&gt;</span>(<span class="keyword">nullptr</span>), <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>));</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;      PREPred = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;      ++NumWithout;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (predV == CurInst) {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      <span class="comment">/* CurInst dominates this predecessor. */</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;      NumWithout = 2;</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;      predMap.push_back(std::make_pair(predV, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>));</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;      ++NumWith;</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    }</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  }</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160; </div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  <span class="comment">// Don&#39;t do PRE when it might increase code size, i.e. when</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <span class="comment">// we would need to insert instructions in more than one pred.</span></div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <span class="keywordflow">if</span> (NumWithout &gt; 1 || NumWith == 0)</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160; </div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  <span class="comment">// We may have a case where all predecessors have the instruction,</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;  <span class="comment">// and we just need to insert a phi node. Otherwise, perform</span></div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;  <span class="comment">// insertion.</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *PREInstr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160; </div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;  <span class="keywordflow">if</span> (NumWithout != 0) {</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#abe76d72cda6b2b4562c72accb510040b">isSafeToSpeculativelyExecute</a>(CurInst)) {</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      <span class="comment">// It is only valid to insert a new instruction if the current instruction</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;      <span class="comment">// is always executed. An instruction with implicit control flow could</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;      <span class="comment">// prevent us from doing it. If we cannot speculate the execution, then</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;      <span class="comment">// PRE should be prohibited.</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;      <span class="keywordflow">if</span> (ICF-&gt;isDominatedByICFIFromSameBlock(CurInst))</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    }</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160; </div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    <span class="comment">// Don&#39;t do PRE across indirect branch.</span></div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="keywordflow">if</span> (isa&lt;IndirectBrInst&gt;(PREPred-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>()))</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160; </div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    <span class="comment">// We can&#39;t do PRE safely on a critical edge, so instead we schedule</span></div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    <span class="comment">// the edge to be split and perform the PRE the next time we iterate</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="comment">// on the function.</span></div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <span class="keywordtype">unsigned</span> SuccNum = <a class="code" href="namespacellvm.html#a1b38a63d3be7413f335be5f2d81bb234">GetSuccessorNumber</a>(PREPred, CurrentBlock);</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ababcf5a1223c36cb7c547c5b34c6416c">isCriticalEdge</a>(PREPred-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>(), SuccNum)) {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;      toSplit.push_back(std::make_pair(PREPred-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>(), SuccNum));</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    }</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    <span class="comment">// We need to insert somewhere, so let&#39;s give it a shot</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    PREInstr = CurInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a0a4d51e372293abe5e5f6dac133e80a6">clone</a>();</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <span class="keywordflow">if</span> (!performScalarPREInsertion(PREInstr, PREPred, CurrentBlock, ValNo)) {</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;      <span class="comment">// If we failed insertion, make sure we remove the instruction.</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(verifyRemoved(PREInstr));</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;      PREInstr-&gt;<a class="code" href="classllvm_1_1Value.html#a99d640257f7689aa8095dccfb111e50c">deleteValue</a>();</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    }</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;  }</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160; </div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  <span class="comment">// Either we should have filled in the PRE instruction, or we should</span></div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;  <span class="comment">// not have needed insertions.</span></div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PREInstr != <span class="keyword">nullptr</span> || NumWithout == 0);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160; </div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  ++NumGVNPRE;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160; </div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  <span class="comment">// Create a PHI to make the value available in this block.</span></div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi =</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html#ab0ff669b12c20c07137705c38872ec63">PHINode::Create</a>(CurInst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), predMap.size(),</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                      CurInst-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.pre-phi&quot;</span>, &amp;CurrentBlock-&gt;<a class="code" href="classllvm_1_1StringRef.html#a61364ca3a5ff90fb2aa0d5a371fd43f7">front</a>());</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = predMap.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = predMap[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first) {</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;      <span class="comment">// If we use an existing value in this phi, we have to patch the original</span></div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;      <span class="comment">// value because the phi will be used to replace a later value.</span></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;      <a class="code" href="namespacellvm.html#a85d5ffd7db412c30d2e0dd46df6cf854">patchReplacementInstruction</a>(CurInst, V);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      Phi-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(V, predMap[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second);</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;      Phi-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(PREInstr, PREPred);</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  }</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160; </div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  VN.add(Phi, ValNo);</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <span class="comment">// After creating a new PHI for ValNo, the phi translate result for ValNo will</span></div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  <span class="comment">// be changed, so erase the related stale entries in phi translate cache.</span></div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  VN.eraseTranslateCacheEntry(ValNo, *CurrentBlock);</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  addToLeaderTable(ValNo, Phi, CurrentBlock);</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  Phi-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">setDebugLoc</a>(CurInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>());</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  CurInst-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Phi);</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="keywordflow">if</span> (MD &amp;&amp; Phi-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>())</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    MD-&gt;invalidateCachedPointerInfo(Phi);</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  VN.erase(CurInst);</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  removeFromLeaderTable(ValNo, CurInst, CurrentBlock);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160; </div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GVN PRE removed: &quot;</span> &lt;&lt; *CurInst &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    MD-&gt;removeInstruction(CurInst);</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="keywordflow">if</span> (MSSAU)</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    MSSAU-&gt;removeMemoryAccess(CurInst);</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(verifyRemoved(CurInst));</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;  <span class="comment">// FIXME: Intended to be markInstructionForDeletion(CurInst), but it causes</span></div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;  <span class="comment">// some assertion failures.</span></div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  ICF-&gt;removeInstruction(CurInst);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  CurInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  ++NumGVNInstr;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160; </div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;}</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;<span class="comment">/// Perform a purely local form of PRE that looks for diamond</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;<span class="comment">/// control flow patterns and attempts to perform simple PRE at the join point.</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GVNPass::performPRE(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *CurrentBlock : <a class="code" href="namespacellvm.html#add49d9f7abebe402adf1a57c762abeef">depth_first</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getEntryBlock())) {</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <span class="comment">// Nothing to PRE in the entry block.</span></div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <span class="keywordflow">if</span> (CurrentBlock == &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getEntryBlock())</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160; </div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    <span class="comment">// Don&#39;t perform PRE on an EH pad.</span></div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <span class="keywordflow">if</span> (CurrentBlock-&gt;isEHPad())</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160; </div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BI = CurrentBlock-&gt;begin(),</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;                              BE = CurrentBlock-&gt;end();</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;         BI != BE;) {</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CurInst = &amp;*BI++;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;      Changed |= performScalarPRE(CurInst);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    }</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  }</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160; </div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  <span class="keywordflow">if</span> (splitCriticalEdges())</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160; </div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;}</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;<span class="comment">/// Split the critical edge connecting the given two blocks, and return</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;<span class="comment">/// the block inserted to the critical edge.</span></div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *GVNPass::splitCriticalEdges(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Succ) {</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  <span class="comment">// GVN does not require loop-simplify, do not try to preserve it if it is not</span></div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  <span class="comment">// possible.</span></div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="namespacellvm.html#ab61955a622d233750894890e0704da5c">SplitCriticalEdge</a>(</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;      Pred, Succ,</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;      <a class="code" href="structllvm_1_1CriticalEdgeSplittingOptions.html">CriticalEdgeSplittingOptions</a>(DT, LI, MSSAU).unsetPreserveLoopSimplify());</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;      MD-&gt;invalidateCachedPredecessors();</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    InvalidBlockRPONumbers = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  }</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;}</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;<span class="comment">/// Split critical edges found during the previous</span></div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;<span class="comment">/// iteration that may enable further optimization.</span></div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GVNPass::splitCriticalEdges() {</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  <span class="keywordflow">if</span> (toSplit.empty())</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160; </div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    std::pair&lt;Instruction *, unsigned&gt; Edge = toSplit.pop_back_val();</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    Changed |= <a class="code" href="namespacellvm.html#ab61955a622d233750894890e0704da5c">SplitCriticalEdge</a>(Edge.first, Edge.second,</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                                 <a class="code" href="structllvm_1_1CriticalEdgeSplittingOptions.html">CriticalEdgeSplittingOptions</a>(DT, LI, MSSAU)) !=</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;               <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  } <span class="keywordflow">while</span> (!toSplit.empty());</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  <span class="keywordflow">if</span> (Changed) {</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;      MD-&gt;invalidateCachedPredecessors();</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    InvalidBlockRPONumbers = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  }</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;}</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;<span class="comment">/// Executes one iteration of GVN</span></div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GVNPass::iterateOnFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;  cleanupGlobalSets();</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160; </div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="comment">// Top-down walk of the dominator tree</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="comment">// Needed for value numbering with phi construction to work.</span></div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;  <span class="comment">// RPOT walks the graph in its constructor and will not be invalidated during</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;  <span class="comment">// processBlock.</span></div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <a class="code" href="classllvm_1_1ReversePostOrderTraversal.html">ReversePostOrderTraversal&lt;Function *&gt;</a> RPOT(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160; </div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : RPOT)</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    Changed |= processBlock(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160; </div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;}</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160; </div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;<span class="keywordtype">void</span> GVNPass::cleanupGlobalSets() {</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  VN.clear();</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  LeaderTable.clear();</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;  BlockRPONumber.clear();</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;  TableAllocator.Reset();</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;  ICF-&gt;clear();</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  InvalidBlockRPONumbers = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;}</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;<span class="comment">/// Verify that the specified instruction does not occur in our</span></div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;<span class="comment">/// internal data structures.</span></div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> GVNPass::verifyRemoved(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  VN.verifyRemoved(Inst);</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160; </div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  <span class="comment">// Walk through the value number scope to make sure the instruction isn&#39;t</span></div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  <span class="comment">// ferreted away in it.</span></div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : LeaderTable) {</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="keyword">const</span> LeaderTableEntry *Node = &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node-&gt;Val != Inst &amp;&amp; <span class="stringliteral">&quot;Inst still in value numbering scope!&quot;</span>);</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160; </div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <span class="keywordflow">while</span> (Node-&gt;Next) {</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      Node = Node-&gt;Next;</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node-&gt;Val != Inst &amp;&amp; <span class="stringliteral">&quot;Inst still in value numbering scope!&quot;</span>);</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    }</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;  }</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;}</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;<span class="comment">/// BB is declared dead, which implied other blocks become dead as well. This</span></div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;<span class="comment">/// function is to add all these blocks to &quot;DeadBlocks&quot;. For the dead blocks&#39;</span></div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;<span class="comment">/// live successors, update their phi nodes by replacing the operands</span></div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;<span class="comment">/// corresponding to dead blocks with UndefVal.</span></div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> GVNPass::addDeadBlock(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 4&gt;</a> NewDead;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;BasicBlock *, 4&gt;</a> <a class="code" href="Debugify_8cpp.html#a993c6c27e31cbf36d079971889f3e015">DF</a>;</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160; </div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;  NewDead.push_back(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;  <span class="keywordflow">while</span> (!NewDead.empty()) {</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = NewDead.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    <span class="keywordflow">if</span> (DeadBlocks.count(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>))</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160; </div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    <span class="comment">// All blocks dominated by D are dead.</span></div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 8&gt;</a> Dom;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    DT-&gt;getDescendants(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, Dom);</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    DeadBlocks.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(Dom.begin(), Dom.end());</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160; </div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <span class="comment">// Figure out the dominance-frontier(D).</span></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : Dom) {</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)) {</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;        <span class="keywordflow">if</span> (DeadBlocks.count(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160; </div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;        <span class="keywordtype">bool</span> AllPredDead = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;          <span class="keywordflow">if</span> (!DeadBlocks.count(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)) {</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;            AllPredDead = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;          }</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160; </div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;        <span class="keywordflow">if</span> (!AllPredDead) {</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;          <span class="comment">// S could be proved dead later on. That is why we don&#39;t update phi</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;          <span class="comment">// operands at this moment.</span></div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;          <a class="code" href="Debugify_8cpp.html#a993c6c27e31cbf36d079971889f3e015">DF</a>.insert(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;          <span class="comment">// While S is not dominated by D, it is dead by now. This could take</span></div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;          <span class="comment">// place if S already have a dead predecessor before D is declared</span></div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;          <span class="comment">// dead.</span></div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;          NewDead.push_back(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;        }</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;      }</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    }</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  }</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160; </div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;  <span class="comment">// For the dead blocks&#39; live successors, update their phi nodes by replacing</span></div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;  <span class="comment">// the operands corresponding to dead blocks with UndefVal.</span></div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : <a class="code" href="Debugify_8cpp.html#a993c6c27e31cbf36d079971889f3e015">DF</a>) {</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <span class="keywordflow">if</span> (DeadBlocks.count(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160; </div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    <span class="comment">// First, split the critical edges. This might also create additional blocks</span></div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;    <span class="comment">// to preserve LoopSimplify form and adjust edges accordingly.</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 4&gt;</a> Preds(<a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>));</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : Preds) {</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;      <span class="keywordflow">if</span> (!DeadBlocks.count(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>))</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160; </div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a>(<a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) &amp;&amp;</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;          <a class="code" href="namespacellvm.html#ababcf5a1223c36cb7c547c5b34c6416c">isCriticalEdge</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getTerminator(), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)) {</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = splitCriticalEdges(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;          DeadBlocks.insert(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      }</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    }</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160; </div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    <span class="comment">// Now poison the incoming values from the dead predecessors.</span></div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)) {</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;      <span class="keywordflow">if</span> (!DeadBlocks.count(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>))</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;Phi : <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;phis()) {</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        Phi.<a class="code" href="classllvm_1_1PHINode.html#a506bcfb6f92a2184453e1fa9655f62a1">setIncomingValueForBlock</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Phi.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;          MD-&gt;invalidateCachedPointerInfo(&amp;Phi);</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;      }</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    }</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;  }</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;}</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160; </div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;<span class="comment">// If the given branch is recognized as a foldable branch (i.e. conditional</span></div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;<span class="comment">// branch with constant condition), it will perform following analyses and</span></div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;<span class="comment">// transformation.</span></div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;<span class="comment">//  1) If the dead out-coming edge is a critical-edge, split it. Let</span></div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;<span class="comment">//     R be the target of the dead out-coming edge.</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;<span class="comment">//  1) Identify the set of dead blocks implied by the branch&#39;s dead outcoming</span></div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;<span class="comment">//     edge. The result of this step will be {X| X is dominated by R}</span></div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;<span class="comment">//  2) Identify those blocks which haves at least one dead predecessor. The</span></div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;<span class="comment">//     result of this step will be dominance-frontier(R).</span></div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;<span class="comment">//  3) Update the PHIs in DF(R) by replacing the operands corresponding to</span></div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;<span class="comment">//     dead blocks with &quot;UndefVal&quot; in an hope these PHIs will optimized away.</span></div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;<span class="comment">// Return true iff *NEW* dead code are found.</span></div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;<span class="keywordtype">bool</span> GVNPass::processFoldableCondBr(<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI) {</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;  <span class="keywordflow">if</span> (!BI || BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad56f6a9b5cd05940017c4544df48bc30">isUnconditional</a>())</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160; </div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;  <span class="comment">// If a branch has two identical successors, we cannot declare either dead.</span></div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  <span class="keywordflow">if</span> (BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0) == BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(1))</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160; </div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = dyn_cast&lt;ConstantInt&gt;(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">getCondition</a>());</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160; </div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DeadRoot =</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getZExtValue() ? BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(1) : BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">getSuccessor</a>(0);</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  <span class="keywordflow">if</span> (DeadBlocks.count(DeadRoot))</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160; </div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  <span class="keywordflow">if</span> (!DeadRoot-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">getSinglePredecessor</a>())</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    DeadRoot = splitCriticalEdges(BI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(), DeadRoot);</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160; </div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;  addDeadBlock(DeadRoot);</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;}</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160; </div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;<span class="comment">// performPRE() will trigger assert if it comes across an instruction without</span></div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;<span class="comment">// associated val-num. As it normally has far more live instructions than dead</span></div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;<span class="comment">// instructions, it makes more sense just to &quot;fabricate&quot; a val-number for the</span></div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;<span class="comment">// dead code than checking if instruction involved is dead or not.</span></div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;<span class="keywordtype">void</span> GVNPass::assignValNumForDeadCode() {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : DeadBlocks) {</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;Inst : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;      <span class="keywordtype">unsigned</span> ValNum = VN.lookupOrAdd(&amp;Inst);</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;      addToLeaderTable(ValNum, &amp;Inst, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    }</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;  }</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;}</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160; </div>
<div class="line"><a name="l03149"></a><span class="lineno"><a class="line" href="classllvm_1_1gvn_1_1GVNLegacyPass.html"> 3149</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1gvn_1_1GVNLegacyPass.html">llvm::gvn::GVNLegacyPass</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> {</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l03151"></a><span class="lineno"><a class="line" href="classllvm_1_1gvn_1_1GVNLegacyPass.html#abae0b190db6cb40c03cfef84b82b7ba4"> 3151</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="classllvm_1_1gvn_1_1GVNLegacyPass.html#abae0b190db6cb40c03cfef84b82b7ba4">ID</a>; <span class="comment">// Pass identification, replacement for typeid</span></div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160; </div>
<div class="line"><a name="l03153"></a><span class="lineno"><a class="line" href="classllvm_1_1gvn_1_1GVNLegacyPass.html#a6eca3696824128963c7cc185048630a7"> 3153</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classllvm_1_1gvn_1_1GVNLegacyPass.html#a6eca3696824128963c7cc185048630a7">GVNLegacyPass</a>(<span class="keywordtype">bool</span> NoMemDepAnalysis = !<a class="code" href="GVN_8cpp.html#aa5a341aa66c996bec3a079bd89c389b0">GVNEnableMemDep</a>)</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;      : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), Impl(<a class="code" href="structllvm_1_1GVNOptions.html">GVNOptions</a>().setMemDep(!NoMemDepAnalysis)) {</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;    <a class="code" href="namespacellvm.html#a5bd1921bd445a4cabaffca31f0c12334">initializeGVNLegacyPassPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;  }</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160; </div>
<div class="line"><a name="l03158"></a><span class="lineno"><a class="line" href="classllvm_1_1gvn_1_1GVNLegacyPass.html#ab5d98be3e1b14ce50e328b3712b72b7f"> 3158</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1gvn_1_1GVNLegacyPass.html#ab5d98be3e1b14ce50e328b3712b72b7f">runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    <span class="keywordflow">if</span> (skipFunction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160; </div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <span class="keyword">auto</span> *LIWP = getAnalysisIfAvailable&lt;LoopInfoWrapperPass&gt;();</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160; </div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    <span class="keyword">auto</span> *MSSAWP = getAnalysisIfAvailable&lt;MemorySSAWrapperPass&gt;();</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    <span class="keywordflow">return</span> Impl.runImpl(</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, getAnalysis&lt;AssumptionCacheTracker&gt;().getAssumptionCache(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;        getAnalysis&lt;DominatorTreeWrapperPass&gt;().getDomTree(),</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;        getAnalysis&lt;TargetLibraryInfoWrapperPass&gt;().getTLI(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;        getAnalysis&lt;AAResultsWrapperPass&gt;().getAAResults(),</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;        Impl.isMemDepEnabled()</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;            ? &amp;getAnalysis&lt;MemoryDependenceWrapperPass&gt;().getMemDep()</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;            : <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;        LIWP ? &amp;LIWP-&gt;getLoopInfo() : <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;        &amp;getAnalysis&lt;OptimizationRemarkEmitterWrapperPass&gt;().getORE(),</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;        MSSAWP ? &amp;MSSAWP-&gt;getMSSA() : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;  }</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160; </div>
<div class="line"><a name="l03178"></a><span class="lineno"><a class="line" href="classllvm_1_1gvn_1_1GVNLegacyPass.html#a4fbb957c41dca25995c37de1d627cba9"> 3178</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1gvn_1_1GVNLegacyPass.html#a4fbb957c41dca25995c37de1d627cba9">getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>&gt;();</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <span class="keywordflow">if</span> (Impl.isMemDepEnabled())</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html">MemoryDependenceWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1GlobalsAAWrapperPass.html">GlobalsAAWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitterWrapperPass.html">OptimizationRemarkEmitterWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1MemorySSAWrapperPass.html">MemorySSAWrapperPass</a>&gt;();</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  }</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160; </div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;  <a class="code" href="classllvm_1_1GVNPass.html">GVNPass</a> Impl;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;};</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160; </div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1gvn_1_1GVNLegacyPass.html#abae0b190db6cb40c03cfef84b82b7ba4">GVNLegacyPass::ID</a> = 0;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160; </div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;<a class="code" href="PassSupport_8h.html#aaa970fc931c1c63037a8182e028d04b1">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1gvn_1_1GVNLegacyPass.html">GVNLegacyPass</a>, <span class="stringliteral">&quot;gvn&quot;</span>, <span class="stringliteral">&quot;Global Value Numbering&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>)</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MemoryDependenceWrapperPass.html">MemoryDependenceWrapperPass</a>)</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>)</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>)</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>)</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1GlobalsAAWrapperPass.html">GlobalsAAWrapperPass</a>)</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1OptimizationRemarkEmitterWrapperPass.html">OptimizationRemarkEmitterWrapperPass</a>)</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1gvn_1_1GVNLegacyPass.html">GVNLegacyPass</a>, &quot;gvn&quot;, &quot;Global <a class="code" href="classllvm_1_1Value.html">Value</a> <a class="code" href="NewGVN_8cpp.html#a3802ce53978393ea3d2d69b646cd49f9">Numbering</a>&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160; </div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;<span class="comment">// The public interface to this file...</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab991c88245f2d19047c68f36e6ebe68a"> 3211</a></span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#ab991c88245f2d19047c68f36e6ebe68a">createGVNPass</a>(<span class="keywordtype">bool</span> NoMemDepAnalysis) {</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1gvn_1_1GVNLegacyPass.html">GVNLegacyPass</a>(NoMemDepAnalysis);</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructllvm_1_1GVNOptions_html"><div class="ttname"><a href="structllvm_1_1GVNOptions.html">llvm::GVNOptions</a></div><div class="ttdoc">A set of parameters to control various transforms performed by GVN pass.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8h_source.html#l00074">GVN.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coverage_html_ab7cd3c4d014c0e03d0e0dbcc94c192e6a260ca9dd8a4577fc00b7bd5810298076"><div class="ttname"><a href="namespacellvm_1_1coverage.html#ab7cd3c4d014c0e03d0e0dbcc94c192e6a260ca9dd8a4577fc00b7bd5810298076">llvm::coverage::coveragemap_error::success</a></div><div class="ttdeci">@ success</div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdater_html_a4fe3279aae4f726813a672d4a9b26cb1"><div class="ttname"><a href="classllvm_1_1SSAUpdater.html#a4fe3279aae4f726813a672d4a9b26cb1">llvm::SSAUpdater::Initialize</a></div><div class="ttdeci">void Initialize(Type *Ty, StringRef Name)</div><div class="ttdoc">Reset this object to get ready for a new set of SSA updates with type 'Ty'.</div><div class="ttdef"><b>Definition:</b> <a href="SSAUpdater_8cpp_source.html#l00053">SSAUpdater.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_a4082748189dc3460ea7130cd8d7790b5"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#a4082748189dc3460ea7130cd8d7790b5">llvm::MemoryDependenceResults::removeInstruction</a></div><div class="ttdeci">void removeInstruction(Instruction *InstToRemove)</div><div class="ttdoc">Removes an instruction from the dependence analysis, updating the dependence of instructions that pre...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01506">MemoryDependenceAnalysis.cpp:1506</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html">llvm::BatchAAResults</a></div><div class="ttdoc">This class is a wrapper over an AAResults, and it is intended to be used only when there are no IR ch...</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00612">AliasAnalysis.h:612</a></div></div>
<div class="ttc" id="anamespacellvm_1_1VNCoercion_html_ab7c3af18d8706c2d91fd7e2f88424336"><div class="ttname"><a href="namespacellvm_1_1VNCoercion.html#ab7c3af18d8706c2d91fd7e2f88424336">llvm::VNCoercion::analyzeLoadFromClobberingMemInst</a></div><div class="ttdeci">int analyzeLoadFromClobberingMemInst(Type *LoadTy, Value *LoadPtr, MemIntrinsic *DepMI, const DataLayout &amp;DL)</div><div class="ttdoc">This function determines whether a value for the pointer LoadPtr can be extracted from the memory int...</div><div class="ttdef"><b>Definition:</b> <a href="VNCoercion_8cpp_source.html#l00352">VNCoercion.cpp:352</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a7653277511df1034148a37520a585bb5"><div class="ttname"><a href="classllvm_1_1Instruction.html#a7653277511df1034148a37520a585bb5">llvm::Instruction::isTerminator</a></div><div class="ttdeci">bool isTerminator() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00171">Instruction.h:171</a></div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_aa73e62aac1753cb7b3c3aaccef3df8b1"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#aa73e62aac1753cb7b3c3aaccef3df8b1">llvm::BinaryOpIntrinsic::getBinaryOp</a></div><div class="ttdeci">Instruction::BinaryOps getBinaryOp() const</div><div class="ttdoc">Returns the binary operation underlying the intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00752">IntrinsicInst.cpp:752</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAManager_html"><div class="ttname"><a href="classllvm_1_1AAManager.html">llvm::AAManager</a></div><div class="ttdoc">A manager for alias analyses.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00885">AliasAnalysis.h:885</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkMissed_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkMissed.html">llvm::OptimizationRemarkMissed</a></div><div class="ttdoc">Diagnostic information for missed-optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00734">DiagnosticInfo.h:734</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_a6cb6a58fb0ded82b4c7755fc4c27c86d"><div class="ttname"><a href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">llvm::Loop::isLoopInvariant</a></div><div class="ttdeci">bool isLoopInvariant(const Value *V) const</div><div class="ttdoc">Return true if the specified value is loop invariant.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00060">LoopInfo.cpp:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a3287172f2d13af086e6d66364e8c6de3"><div class="ttname"><a href="classllvm_1_1Instruction.html#a3287172f2d13af086e6d66364e8c6de3">llvm::Instruction::getNumSuccessors</a></div><div class="ttdeci">unsigned getNumSuccessors() const LLVM_READONLY</div><div class="ttdoc">Return the number of successors that this instruction has.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00823">Instruction.cpp:823</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a49a2d8f483ea08a3d6ea75f90c640d76"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">llvm::CmpInst::getSwappedPredicate</a></div><div class="ttdeci">Predicate getSwappedPredicate() const</div><div class="ttdoc">For example, EQ-&gt;EQ, SLE-&gt;SGE, ULT-&gt;UGT, OEQ-&gt;OEQ, ULE-&gt;UGE, OLT-&gt;OGT, etc.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00859">InstrTypes.h:859</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00492">Compiler.h:492</a></div></div>
<div class="ttc" id="aclassllvm_1_1ImplicitControlFlowTracking_html"><div class="ttname"><a href="classllvm_1_1ImplicitControlFlowTracking.html">llvm::ImplicitControlFlowTracking</a></div><div class="ttdoc">This class allows to keep track on instructions with implicit control flow.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionPrecedenceTracking_8h_source.html#l00099">InstructionPrecedenceTracking.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a18e5a3f1d71ba10a624f2a8e5121cf1f"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">llvm::MemoryLocation::get</a></div><div class="ttdeci">static MemoryLocation get(const LoadInst *LI)</div><div class="ttdoc">Return a location with information about the memory reference by the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8cpp_source.html#l00036">MemoryLocation.cpp:36</a></div></div>
<div class="ttc" id="astructllvm_1_1GVNPass_1_1Expression_html_a98158be2cdc689853dc1691edbce891c"><div class="ttname"><a href="structllvm_1_1GVNPass_1_1Expression.html#a98158be2cdc689853dc1691edbce891c">llvm::GVNPass::Expression::hash_value</a></div><div class="ttdeci">friend hash_code hash_value(const Expression &amp;Value)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00152">GVN.cpp:152</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="astructllvm_1_1GVNPass_1_1Expression_html_a880eb73e8f60cb6c3dc2e1e639fc6236"><div class="ttname"><a href="structllvm_1_1GVNPass_1_1Expression.html#a880eb73e8f60cb6c3dc2e1e639fc6236">llvm::GVNPass::Expression::type</a></div><div class="ttdeci">Type * type</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00135">GVN.cpp:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1NonLocalDepEntry_html"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html">llvm::NonLocalDepEntry</a></div><div class="ttdoc">This is an entry in the NonLocalDepInfo cache.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00206">MemoryDependenceAnalysis.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a88b10d37f671e58cf138ac84a8257c17"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a88b10d37f671e58cf138ac84a8257c17">llvm::MemorySSA::verifyMemorySSA</a></div><div class="ttdeci">void verifyMemorySSA(VerificationLevel=VerificationLevel::Fast) const</div><div class="ttdoc">Verify that MemorySSA is self consistent (IE definitions dominate all uses, uses appear in the right ...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01863">MemorySSA.cpp:1863</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">llvm::AArch64CC::AL</a></div><div class="ttdeci">@ AL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00269">AArch64BaseInfo.h:269</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_abb4ce3bc3096a12d4b93460bf78bcf95"><div class="ttname"><a href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in it</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00081">README-SSE.txt:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_a75aa5235637d6db2007983cd659b35a6"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#a75aa5235637d6db2007983cd659b35a6">llvm::GVNPass::ValueTable::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Remove all entries from the ValueTable.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00688">GVN.cpp:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1VNCoercion_html_a5ea5b51dcecbc6273ce9b9cacf9fd15e"><div class="ttname"><a href="namespacellvm_1_1VNCoercion.html#a5ea5b51dcecbc6273ce9b9cacf9fd15e">llvm::VNCoercion::getStoreValueForLoad</a></div><div class="ttdeci">Value * getStoreValueForLoad(Value *SrcVal, unsigned Offset, Type *LoadTy, Instruction *InsertPt, const DataLayout &amp;DL)</div><div class="ttdoc">If analyzeLoadFromClobberingStore returned an offset, this function can be used to actually perform t...</div><div class="ttdef"><b>Definition:</b> <a href="VNCoercion_8cpp_source.html#l00445">VNCoercion.cpp:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3a402430a1bbe70a9282dcb0e0b6a2cd"><div class="ttname"><a href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">llvm::Value::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const</div><div class="ttdoc">Return true if there is exactly one use of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00434">Value.h:434</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">This enumeration lists the possible predicates for CmpInst subclasses.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00718">InstrTypes.h:718</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a0b931781aa589c6ebe64a76c1447e5b2"><div class="ttname"><a href="classllvm_1_1User.html#a0b931781aa589c6ebe64a76c1447e5b2">llvm::User::operands</a></div><div class="ttdeci">op_range operands()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00242">User.h:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a98c0a84a5dfa8bce341c829709f171e5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">llvm::BasicBlock::iterator</a></div><div class="ttdeci">InstListType::iterator iterator</div><div class="ttdoc">Instruction iterators...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00087">BasicBlock.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHITransAddr_html"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html">llvm::PHITransAddr</a></div><div class="ttdoc">PHITransAddr - An address value which tracks and handles phi translation.</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00035">PHITransAddr.h:35</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_aa9284c7b4e7cfa1baabc14bf877b29f8"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#aa9284c7b4e7cfa1baabc14bf877b29f8">llvm::MemDepResult::isLocal</a></div><div class="ttdeci">bool isLocal() const</div><div class="ttdoc">Tests if this MemDepResult represents a valid local query (Clobber/Def).</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00151">MemoryDependenceAnalysis.h:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a9550ce4a179e46db37f653ce28feca7a"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">llvm::MemoryLocation::Ptr</a></div><div class="ttdeci">const Value * Ptr</div><div class="ttdoc">The address of the start of the location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00219">MemoryLocation.h:219</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a56cf818e65f57297f94f1181b212c8c4"><div class="ttname"><a href="GVN_8cpp.html#a56cf818e65f57297f94f1181b212c8c4">GVNEnableLoadPRE</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; GVNEnableLoadPRE(&quot;enable-load-pre&quot;, cl::init(true))</div></div>
<div class="ttc" id="astructllvm_1_1PassInfoMixin_html"><div class="ttname"><a href="structllvm_1_1PassInfoMixin.html">llvm::PassInfoMixin&lt; GVNPass &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a069c4ae2290101bde0f8d6a5074dc72b"><div class="ttname"><a href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">llvm::succ_end</a></div><div class="ttdeci">Interval::succ_iterator succ_end(Interval *I)</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00102">Interval.h:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_a493be9f3a0a293d285393b0b8cb96819"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#a493be9f3a0a293d285393b0b8cb96819">llvm::GVNPass::ValueTable::lookupOrAdd</a></div><div class="ttdeci">uint32_t lookupOrAdd(Value *V)</div><div class="ttdoc">lookup_or_add - Returns the value number for the specified value, assigning it a new number if it did...</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00588">GVN.cpp:588</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a61364ca3a5ff90fb2aa0d5a371fd43f7"><div class="ttname"><a href="classllvm_1_1StringRef.html#a61364ca3a5ff90fb2aa0d5a371fd43f7">llvm::StringRef::front</a></div><div class="ttdeci">char front() const</div><div class="ttdoc">front - Get the first character in the string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00140">StringRef.h:140</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_a772ba82c96ba2773e287e11d2918471c"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#a772ba82c96ba2773e287e11d2918471c">llvm::GVNPass::ValueTable::exists</a></div><div class="ttdeci">bool exists(Value *V) const</div><div class="ttdoc">Returns true if a value number exists for the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00582">GVN.cpp:582</a></div></div>
<div class="ttc" id="aMemorySSAUpdater_8h_html"><div class="ttname"><a href="MemorySSAUpdater_8h.html">MemorySSAUpdater.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0b2ca98dc28c61793ff5c90d23e5f14e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::lookup</a></div><div class="ttdeci">ValueT lookup(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">lookup - Return the entry for the specified key, or a default constructed value if no such entry exis...</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00197">DenseMap.h:197</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a04337b572d34ea413c35dbac5d75530b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">llvm::LoopBase::contains</a></div><div class="ttdeci">bool contains(const LoopT *L) const</div><div class="ttdoc">Return true if the specified loop is contained within in this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00139">LoopInfo.h:139</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a6d6082a540140dafbc24648e2daa4882"><div class="ttname"><a href="GVN_8cpp.html#a6d6082a540140dafbc24648e2daa4882">MaxNumVisitedInsts</a></div><div class="ttdeci">static cl::opt&lt; uint32_t &gt; MaxNumVisitedInsts(&quot;gvn-max-num-visited-insts&quot;, cl::Hidden, cl::init(100), cl::desc(&quot;Max number of visited instructions when trying to find &quot; &quot;dominating value of select dependency (default = 100)&quot;))</div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">llvm::ARM_MB::LD</a></div><div class="ttdeci">@ LD</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00072">ARMBaseInfo.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_a553e49a319c70887144ab0be1fedffad"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#a553e49a319c70887144ab0be1fedffad">llvm::GVNPass::ValueTable::lookup</a></div><div class="ttdeci">uint32_t lookup(Value *V, bool Verify=true) const</div><div class="ttdoc">Returns the value number of the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00667">GVN.cpp:667</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26e2a938b431eaa6eca2beaa96410c9d"><div class="ttname"><a href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">llvm::successors</a></div><div class="ttdeci">auto successors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01265">MachineBasicBlock.h:1265</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_a6822c506d77c8ba56e85bee5cd1ed01b"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#a6822c506d77c8ba56e85bee5cd1ed01b">llvm::BinaryOpIntrinsic::getRHS</a></div><div class="ttdeci">Value * getRHS() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00757">IntrinsicInst.h:757</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; uint32_t, 4 &gt;</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ad18f0266fefc2f0c5bbf0e1a67794d38"><div class="ttname"><a href="GVN_8cpp.html#ad18f0266fefc2f0c5bbf0e1a67794d38">impliesEquivalanceIfTrue</a></div><div class="ttdeci">static bool impliesEquivalanceIfTrue(CmpInst *Cmp)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l01807">GVN.cpp:1807</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOpIntrinsic_html_a8818b44063f9f3339d4ced72bd76b107"><div class="ttname"><a href="classllvm_1_1BinaryOpIntrinsic.html#a8818b44063f9f3339d4ced72bd76b107">llvm::BinaryOpIntrinsic::getLHS</a></div><div class="ttdeci">Value * getLHS() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00756">IntrinsicInst.h:756</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a4b5e1f50cb0890ec60d8c61a61241170"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a4b5e1f50cb0890ec60d8c61a61241170">llvm::CmpInst::makeCmpResultType</a></div><div class="ttdeci">static Type * makeCmpResultType(Type *opnd_type)</div><div class="ttdoc">Create a result type for fcmp/icmp.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01054">InstrTypes.h:1054</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html_a25dcf17194b012b2b35388798cac2da7"><div class="ttname"><a href="classllvm_1_1GVNPass.html#a25dcf17194b012b2b35388798cac2da7">llvm::GVNPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdoc">Run the pass over the function.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00742">GVN.cpp:742</a></div></div>
<div class="ttc" id="aMapVector_8h_html"><div class="ttname"><a href="MapVector_8h.html">MapVector.h</a></div></div>
<div class="ttc" id="aDomTreeUpdater_8h_html"><div class="ttname"><a href="DomTreeUpdater_8h.html">DomTreeUpdater.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a728f79528ca8659e15d00c1e6818b316"><div class="ttname"><a href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">llvm::isModSet</a></div><div class="ttdeci">bool isModSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00048">ModRef.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallDenseMap_html"><div class="ttname"><a href="classllvm_1_1SmallDenseMap.html">llvm::SmallDenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00880">DenseMap.h:880</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValueInBlock_html_ae18348e252f91817dee6ab24869422b6"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#ae18348e252f91817dee6ab24869422b6">llvm::gvn::AvailableValueInBlock::MaterializeAdjustedValue</a></div><div class="ttdeci">Value * MaterializeAdjustedValue(LoadInst *Load, GVNPass &amp;gvn) const</div><div class="ttdoc">Emit code at the end of this block to adjust the value defined here to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00310">GVN.cpp:310</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_af292b2e5cb0702e5df9051df6428c79e"><div class="ttname"><a href="namespacellvm.html#af292b2e5cb0702e5df9051df6428c79e">llvm::isAssumeWithEmptyBundle</a></div><div class="ttdeci">bool isAssumeWithEmptyBundle(AssumeInst &amp;Assume)</div><div class="ttdoc">Return true iff the operand bundles of the provided llvm.assume doesn't contain any valuable informat...</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleQueries_8cpp_source.html#l00125">AssumeBundleQueries.cpp:125</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a482498a1c760122fd33c7fc8190dd277"><div class="ttname"><a href="classllvm_1_1Instruction.html#a482498a1c760122fd33c7fc8190dd277">llvm::Instruction::insertBefore</a></div><div class="ttdeci">void insertBefore(Instruction *InsertPos)</div><div class="ttdoc">Insert an unlinked instruction into a basic block immediately before the specified instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00088">Instruction.cpp:88</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="aGlobalsModRef_8h_html"><div class="ttname"><a href="GlobalsModRef_8h.html">GlobalsModRef.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumeInst_html"><div class="ttname"><a href="classllvm_1_1AssumeInst.html">llvm::AssumeInst</a></div><div class="ttdoc">This represents the llvm.assume intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01529">IntrinsicInst.h:1529</a></div></div>
<div class="ttc" id="astructllvm_1_1AAMDNodes_html"><div class="ttname"><a href="structllvm_1_1AAMDNodes.html">llvm::AAMDNodes</a></div><div class="ttdoc">A collection of metadata nodes that might be associated with a memory access used by the alias-analys...</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00651">Metadata.h:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a4117f47b6acddc12c794b2549094ffc6"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a4117f47b6acddc12c794b2549094ffc6">llvm::gvn::AvailableValue::isCoercedLoadValue</a></div><div class="ttdeci">bool isCoercedLoadValue() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00247">GVN.cpp:247</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab61955a622d233750894890e0704da5c"><div class="ttname"><a href="namespacellvm.html#ab61955a622d233750894890e0704da5c">llvm::SplitCriticalEdge</a></div><div class="ttdeci">BasicBlock * SplitCriticalEdge(Instruction *TI, unsigned SuccNum, const CriticalEdgeSplittingOptions &amp;Options=CriticalEdgeSplittingOptions(), const Twine &amp;BBName=&quot;&quot;)</div><div class="ttdoc">If this edge is a critical edge, insert a new node to split the critical edge.</div><div class="ttdef"><b>Definition:</b> <a href="BreakCriticalEdges_8cpp_source.html#l00101">BreakCriticalEdges.cpp:101</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aMemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ae0efc9e0af1acd84543b651ca0287387"><div class="ttname"><a href="GVN_8cpp.html#ae0efc9e0af1acd84543b651ca0287387">ConstructSSAForLoadSet</a></div><div class="ttdeci">static Value * ConstructSSAForLoadSet(LoadInst *Load, SmallVectorImpl&lt; AvailableValueInBlock &gt; &amp;ValuesPerBlock, GVNPass &amp;gvn)</div><div class="ttdoc">Given a set of loads specified by ValuesPerBlock, construct SSA form, allowing us to eliminate Load.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00937">GVN.cpp:937</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1LoopInfoWrapperPass.html">llvm::LoopInfoWrapperPass</a></div><div class="ttdoc">The legacy pass manager's analysis pass to compute loop information.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01293">LoopInfo.h:1293</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlockEdge_html"><div class="ttname"><a href="classllvm_1_1BasicBlockEdge.html">llvm::BasicBlockEdge</a></div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00098">Dominators.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1ExtractValueInst_html_ae7f10273fba575e1cb0379621c5330ad"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#ae7f10273fba575e1cb0379621c5330ad">llvm::ExtractValueInst::indices</a></div><div class="ttdeci">iterator_range&lt; idx_iterator &gt; indices() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02506">Instructions.h:2506</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a9d12af97f2ad6cbd8afde5ad3c76ce42"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a9d12af97f2ad6cbd8afde5ad3c76ce42">llvm::gvn::AvailableValue::getMI</a></div><div class="ttdeci">static AvailableValue getMI(MemIntrinsic *MI, unsigned Offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00212">GVN.cpp:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemIntrinsic_html"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html">llvm::MemIntrinsic</a></div><div class="ttdoc">This is the common base class for memset/memcpy/memmove.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01048">IntrinsicInst.h:1048</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html"><div class="ttname"><a href="classllvm_1_1MemDepResult.html">llvm::MemDepResult</a></div><div class="ttdoc">A memory dependence query can return one of three different answers.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00037">MemoryDependenceAnalysis.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html"><div class="ttname"><a href="classllvm_1_1MapVector.html">llvm::MapVector</a></div><div class="ttdoc">This class implements a map that also provides access to all stored values in a deterministic order.</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00037">MapVector.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a160dacda9f89b4c190ff303c6f4ed15e"><div class="ttname"><a href="GVN_8cpp.html#a160dacda9f89b4c190ff303c6f4ed15e">reportMayClobberedLoad</a></div><div class="ttdeci">static void reportMayClobberedLoad(LoadInst *Load, MemDepResult DepInfo, DominatorTree *DT, OptimizationRemarkEmitter *ORE)</div><div class="ttdoc">Try to locate the three instruction involved in a missed load-elimination case that is due to an inte...</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l01051">GVN.cpp:1051</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a8f5533240c6722d987a2443cba42019d"><div class="ttname"><a href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">llvm::ore::NV</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::Argument NV</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00136">OptimizationRemarkEmitter.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">llvm::tgtok::FalseVal</a></div><div class="ttdeci">@ FalseVal</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00062">TGLexer.h:62</a></div></div>
<div class="ttc" id="aHashing_8h_html"><div class="ttname"><a href="Hashing_8h.html">Hashing.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab991c88245f2d19047c68f36e6ebe68a"><div class="ttname"><a href="namespacellvm.html#ab991c88245f2d19047c68f36e6ebe68a">llvm::createGVNPass</a></div><div class="ttdeci">FunctionPass * createGVNPass(bool NoMemDepAnalysis=false)</div><div class="ttdoc">Create a legacy GVN pass.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l03211">GVN.cpp:3211</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="anamespacellvm_html_ababcf5a1223c36cb7c547c5b34c6416c"><div class="ttname"><a href="namespacellvm.html#ababcf5a1223c36cb7c547c5b34c6416c">llvm::isCriticalEdge</a></div><div class="ttdeci">bool isCriticalEdge(const Instruction *TI, unsigned SuccNum, bool AllowIdenticalEdges=false)</div><div class="ttdoc">Return true if the specified edge is a critical edge.</div><div class="ttdef"><b>Definition:</b> <a href="CFG_8cpp_source.html#l00095">CFG.cpp:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a59fb91d1691350f7d1b8e8a114e3f2a4"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">llvm::BasicBlock::getSinglePredecessor</a></div><div class="ttdeci">const BasicBlock * getSinglePredecessor() const</div><div class="ttdoc">Return the predecessor of this block if it has a single predecessor block.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00284">BasicBlock.cpp:284</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aMemoryDependenceAnalysis_8h_html"><div class="ttname"><a href="MemoryDependenceAnalysis_8h.html">MemoryDependenceAnalysis.h</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_ad47eefa1d094f60494b6b927061ca001"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">llvm::LoadInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00264">Instructions.h:264</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4_html_a14f568fac98319c42f9eb11b73a54bc8"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a14f568fac98319c42f9eb11b73a54bc8">llvm::DenseMapInfo&lt; GVNPass::Expression &gt;::isEqual</a></div><div class="ttdeci">static bool isEqual(const GVNPass::Expression &amp;LHS, const GVNPass::Expression &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00171">GVN.cpp:171</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7ba5de75f50bb4a4ba920698edf39b28"><div class="ttname"><a href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">llvm::Type::getInt8Ty</a></div><div class="ttdeci">static IntegerType * getInt8Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00239">Type.cpp:239</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_ac2d88e08f6ab3a25d6561c0a2b7d7c48"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#ac2d88e08f6ab3a25d6561c0a2b7d7c48">llvm::GVNPass::ValueTable::eraseTranslateCacheEntry</a></div><div class="ttdeci">void eraseTranslateCacheEntry(uint32_t Num, const BasicBlock &amp;CurrBlock)</div><div class="ttdoc">Erase stale entry from phiTranslate cache so phiTranslate can be computed again.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l02192">GVN.cpp:2192</a></div></div>
<div class="ttc" id="aUse_8h_html"><div class="ttname"><a href="Use_8h.html">Use.h</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1gvn_1_1GVNLegacyPass_html"><div class="ttname"><a href="classllvm_1_1gvn_1_1GVNLegacyPass.html">llvm::gvn::GVNLegacyPass</a></div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l03149">GVN.cpp:3149</a></div></div>
<div class="ttc" id="aDepthFirstIterator_8h_html"><div class="ttname"><a href="DepthFirstIterator_8h.html">DepthFirstIterator.h</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a42db635c040abe996f4934c75686359c"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a42db635c040abe996f4934c75686359c">llvm::gvn::AvailableValue::ValType</a></div><div class="ttdeci">ValType</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00184">GVN.cpp:184</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValueInBlock_html_a933a08dbc5d4952d1aeb8bb59dda3e6b"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a933a08dbc5d4952d1aeb8bb59dda3e6b">llvm::gvn::AvailableValueInBlock::AV</a></div><div class="ttdeci">AvailableValue AV</div><div class="ttdoc">AV - The actual available value.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00285">GVN.cpp:285</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwitchInst_1_1CaseIteratorImpl_html"><div class="ttname"><a href="classllvm_1_1SwitchInst_1_1CaseIteratorImpl.html">llvm::SwitchInst::CaseIteratorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03324">Instructions.h:3324</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aPPCCTRLoopsVerify_8cpp_html_a345bd69760b9ee32b3f49d4fc04120fb"><div class="ttname"><a href="PPCCTRLoopsVerify_8cpp.html#a345bd69760b9ee32b3f49d4fc04120fb">Verify</a></div><div class="ttdeci">ppc ctr loops PowerPC CTR Loops Verify</div><div class="ttdef"><b>Definition:</b> <a href="PPCCTRLoopsVerify_8cpp_source.html#l00077">PPCCTRLoopsVerify.cpp:77</a></div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValueInBlock_html"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValueInBlock.html">llvm::gvn::AvailableValueInBlock</a></div><div class="ttdoc">Represents an AvailableValue which can be rematerialized at the end of the associated BasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00280">GVN.cpp:280</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9149819221d66953ac6c2938b87f0136"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9149819221d66953ac6c2938b87f0136">llvm::Instruction::mayReadFromMemory</a></div><div class="ttdeci">bool mayReadFromMemory() const LLVM_READONLY</div><div class="ttdoc">Return true if this instruction may read memory.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00626">Instruction.cpp:626</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_afad351d7bf10ac0446b64e7827634e94"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a></div><div class="ttdeci">LLVMContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00066">NVVMIntrRange.cpp:66</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a5c69311e8d44898dac36a155c3d8691d"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const BasicBlock *BB, const Use &amp;U) const</div><div class="ttdoc">Return true if the (end of the) basic block BB dominates the use U.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00122">Dominators.cpp:122</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa76a2cf19b821f320ab439d5659ef4b9"><div class="ttname"><a href="namespacellvm.html#aa76a2cf19b821f320ab439d5659ef4b9">llvm::MergeBlockIntoPredecessor</a></div><div class="ttdeci">bool MergeBlockIntoPredecessor(BasicBlock *BB, DomTreeUpdater *DTU=nullptr, LoopInfo *LI=nullptr, MemorySSAUpdater *MSSAU=nullptr, MemoryDependenceResults *MemDep=nullptr, bool PredecessorWithTwoSuccessors=false, DominatorTree *DT=nullptr)</div><div class="ttdoc">Attempts to merge a block into its predecessor, if possible.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00179">BasicBlockUtils.cpp:179</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_html_a73257f51950d9ea50955e3fb9c724a25"><div class="ttname"><a href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">llvm::get</a></div><div class="ttdeci">decltype(auto) get(const PointerIntPair&lt; PointerTy, IntBits, IntType, PtrTraits, Info &gt; &amp;Pair)</div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00234">PointerIntPair.h:234</a></div></div>
<div class="ttc" id="aPHITransAddr_8h_html"><div class="ttname"><a href="PHITransAddr_8h.html">PHITransAddr.h</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a0da562df19b1396325aa80e6790bf5d7"><div class="ttname"><a href="GVN_8cpp.html#a0da562df19b1396325aa80e6790bf5d7">hasUsersIn</a></div><div class="ttdeci">static bool hasUsersIn(Value *V, BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l01860">GVN.cpp:1860</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a8fb90fef376df87f6cc844521cd7eb54"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a8fb90fef376df87f6cc844521cd7eb54">llvm::gvn::AvailableValue::getLoad</a></div><div class="ttdeci">static AvailableValue getLoad(LoadInst *Load, unsigned Offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00220">GVN.cpp:220</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_html"><div class="ttname"><a href="structllvm_1_1DenseMapInfo.html">llvm::DenseMapInfo</a></div><div class="ttdoc">An information struct used to provide DenseMap with the various necessary components for a given valu...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00034">APInt.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4e05d690df389b8b1477c90387b575f"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns a member of one of the enums like Instruction::Add.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00168">Instruction.h:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectInst_html_aa55fb74dd22008fdcc26a63f44576022"><div class="ttname"><a href="classllvm_1_1SelectInst.html#aa55fb74dd22008fdcc26a63f44576022">llvm::SelectInst::Create</a></div><div class="ttdeci">static SelectInst * Create(Value *C, Value *S1, Value *S2, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr, Instruction *MDFrom=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01777">Instructions.h:1777</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectInst_html_a93a29cd4a753518a59c20c1b6ec88c76"><div class="ttname"><a href="classllvm_1_1SelectInst.html#a93a29cd4a753518a59c20c1b6ec88c76">llvm::SelectInst::getCondition</a></div><div class="ttdeci">const Value * getCondition() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01793">Instructions.h:1793</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_a5b8ab87af8cabbd0686f6e2e5c3a13ae"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#a5b8ab87af8cabbd0686f6e2e5c3a13ae">llvm::GVNPass::ValueTable::operator=</a></div><div class="ttdeci">ValueTable &amp; operator=(const ValueTable &amp;Arg)</div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html">llvm::MemorySSAWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes MemorySSA.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00986">MemorySSA.h:986</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValueInBlock_html_aa2a77bfeac83b06ea3d42c9ed38b511a"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#aa2a77bfeac83b06ea3d42c9ed38b511a">llvm::gvn::AvailableValueInBlock::getSelect</a></div><div class="ttdeci">static AvailableValueInBlock getSelect(BasicBlock *BB, SelectInst *Sel, Value *V1, Value *V2)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00303">GVN.cpp:303</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00049">PatternMatch.h:49</a></div></div>
<div class="ttc" id="aLint_8cpp_html_a45005634b54e2126cb3e6ec0dbc9ade4"><div class="ttname"><a href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a></div><div class="ttdeci">static bool isZero(Value *V, const DataLayout &amp;DL, DominatorTree *DT, AssumptionCache *AC)</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00524">Lint.cpp:524</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00294">AliasAnalysis.h:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_a3d6937c9f7b016dec34e3773cebc9395"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#a3d6937c9f7b016dec34e3773cebc9395">llvm::GVNPass::ValueTable::~ValueTable</a></div><div class="ttdeci">~ValueTable()</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValueInBlock_html_a3992e373c593770700e65bbd9a957cf7"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a3992e373c593770700e65bbd9a957cf7">llvm::gvn::AvailableValueInBlock::get</a></div><div class="ttdeci">static AvailableValueInBlock get(BasicBlock *BB, AvailableValue &amp;&amp;AV)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00287">GVN.cpp:287</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b"><div class="ttname"><a href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea78945de8de090e90045d299651a68a9b">AvailabilityState::Available</a></div><div class="ttdeci">@ Available</div><div class="ttdoc">We know the block is fully available. This is a fixpoint.</div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdeci">@ A</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00034">ARMBaseInfo.h:34</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1ExtractValueInst_html_a0a21dcfb15673bbd3ac69eb4dfe7315e"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#a0a21dcfb15673bbd3ac69eb4dfe7315e">llvm::ExtractValueInst::getNumIndices</a></div><div class="ttdeci">unsigned getNumIndices() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02524">Instructions.h:2524</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aAssumeBundleQueries_8h_html"><div class="ttname"><a href="AssumeBundleQueries_8h.html">AssumeBundleQueries.h</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="astructllvm_1_1CriticalEdgeSplittingOptions_html"><div class="ttname"><a href="structllvm_1_1CriticalEdgeSplittingOptions.html">llvm::CriticalEdgeSplittingOptions</a></div><div class="ttdoc">Option class for critical edge splitting.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8h_source.html#l00144">BasicBlockUtils.h:144</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8h_html"><div class="ttname"><a href="AssumeBundleBuilder_8h.html">AssumeBundleBuilder.h</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a96179307953b47569983bcd440f76130"><div class="ttname"><a href="GVN_8cpp.html#a96179307953b47569983bcd440f76130">IsValueFullyAvailableInBlock</a></div><div class="ttdeci">static bool IsValueFullyAvailableInBlock(BasicBlock *BB, DenseMap&lt; BasicBlock *, AvailabilityState &gt; &amp;FullyAvailableBlocks)</div><div class="ttdoc">Return true if we can prove that the value we're analyzing is fully available in the specified block.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00819">GVN.cpp:819</a></div></div>
<div class="ttc" id="anamespacellvm_html_affedc93ead6b25c57a7196d32ff11e89"><div class="ttname"><a href="namespacellvm.html#affedc93ead6b25c57a7196d32ff11e89">llvm::isPotentiallyReachable</a></div><div class="ttdeci">bool isPotentiallyReachable(const Instruction *From, const Instruction *To, const SmallPtrSetImpl&lt; BasicBlock * &gt; *ExclusionSet=nullptr, const DominatorTree *DT=nullptr, const LoopInfo *LI=nullptr)</div><div class="ttdoc">Determine whether instruction 'To' is reachable from 'From', without passing through any blocks in Ex...</div><div class="ttdef"><b>Definition:</b> <a href="CFG_8cpp_source.html#l00231">CFG.cpp:231</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1VNCoercion_html"><div class="ttname"><a href="namespacellvm_1_1VNCoercion.html">llvm::VNCoercion</a></div><div class="ttdef"><b>Definition:</b> <a href="VNCoercion_8h_source.html#l00034">VNCoercion.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4_html_a0b85f8dffcf79eb6062158649f7e9c60"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a0b85f8dffcf79eb6062158649f7e9c60">llvm::DenseMapInfo&lt; GVNPass::Expression &gt;::getTombstoneKey</a></div><div class="ttdeci">static GVNPass::Expression getTombstoneKey()</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00163">GVN.cpp:163</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html">llvm::gvn::AvailableValue</a></div><div class="ttdoc">Represents a particular available value that we know how to materialize.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00183">GVN.cpp:183</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html_a9449bef29f49a1b4be0ba63609317a34"><div class="ttname"><a href="classllvm_1_1GVNPass.html#a9449bef29f49a1b4be0ba63609317a34">llvm::GVNPass::isLoadInLoopPREEnabled</a></div><div class="ttdeci">bool isLoadInLoopPREEnabled() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00729">GVN.cpp:729</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeWrapperPass_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeWrapperPass.html">llvm::DominatorTreeWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00314">Dominators.h:314</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26be1141b23850a2b4eb78021d99e862"><div class="ttname"><a href="namespacellvm.html#a26be1141b23850a2b4eb78021d99e862">llvm::salvageDebugInfo</a></div><div class="ttdeci">void salvageDebugInfo(const MachineRegisterInfo &amp;MRI, MachineInstr &amp;MI)</div><div class="ttdoc">Assuming the instruction MI is going to be deleted, attempt to salvage debug users of MI by writing t...</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2GlobalISel_2Utils_8cpp_source.html#l01367">Utils.cpp:1367</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a47c521bf7ba0bb2147b96d068af30d04"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a></div><div class="ttdeci">const char LLVMTargetMachineRef LLVMPassBuilderOptionsRef Options</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00048">PassBuilderBindings.cpp:48</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdoc">Change the name of the value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00375">Value.cpp:375</a></div></div>
<div class="ttc" id="aclassllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'undef' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01740">Constants.cpp:1740</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a4e01d73dca4690562ee833fea9becbfb"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a4e01d73dca4690562ee833fea9becbfb">llvm::gvn::AvailableValue::get</a></div><div class="ttdeci">static AvailableValue get(Value *V, unsigned Offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00204">GVN.cpp:204</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html">llvm::DomTreeUpdater</a></div><div class="ttdef"><b>Definition:</b> <a href="DomTreeUpdater_8h_source.html#l00028">DomTreeUpdater.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aGVN_8h_html"><div class="ttname"><a href="GVN_8h.html">GVN.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a5b3c2afaad5594cd0eedd58a78a91baf"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a5b3c2afaad5594cd0eedd58a78a91baf">llvm::AArch64CC::PL</a></div><div class="ttdeci">@ PL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00260">AArch64BaseInfo.h:260</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_aa5a341aa66c996bec3a079bd89c389b0"><div class="ttname"><a href="GVN_8cpp.html#aa5a341aa66c996bec3a079bd89c389b0">GVNEnableMemDep</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; GVNEnableMemDep(&quot;enable-gvn-memdep&quot;, cl::init(true))</div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00687">SmallVector.h:687</a></div></div>
<div class="ttc" id="aPatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a46ef6115027606b67adcf4d28f3dac17"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a46ef6115027606b67adcf4d28f3dac17">llvm::BasicBlock::getFirstNonPHI</a></div><div class="ttdeci">const Instruction * getFirstNonPHI() const</div><div class="ttdoc">Returns a pointer to the first instruction in this block that is not a PHINode instruction.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00208">BasicBlock.cpp:208</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html_a1cc0652ed25618b41f317c0bae461e16"><div class="ttname"><a href="classllvm_1_1GVNPass.html#a1cc0652ed25618b41f317c0bae461e16">llvm::GVNPass::isPREEnabled</a></div><div class="ttdeci">bool isPREEnabled() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00721">GVN.cpp:721</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a3048c1b015753173fe58163dc4ad6bf6"><div class="ttname"><a href="GVN_8cpp.html#a3048c1b015753173fe58163dc4ad6bf6">reportLoadElim</a></div><div class="ttdeci">static void reportLoadElim(LoadInst *Load, Value *AvailableValue, OptimizationRemarkEmitter *ORE)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l01705">GVN.cpp:1705</a></div></div>
<div class="ttc" id="aclassllvm_1_1gvn_1_1GVNLegacyPass_html_a6eca3696824128963c7cc185048630a7"><div class="ttname"><a href="classllvm_1_1gvn_1_1GVNLegacyPass.html#a6eca3696824128963c7cc185048630a7">llvm::gvn::GVNLegacyPass::GVNLegacyPass</a></div><div class="ttdeci">GVNLegacyPass(bool NoMemDepAnalysis=!GVNEnableMemDep)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l03153">GVN.cpp:3153</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="GVN_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00087">GVN.cpp:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00344">Value.h:344</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_a993c6c27e31cbf36d079971889f3e015"><div class="ttname"><a href="Debugify_8cpp.html#a993c6c27e31cbf36d079971889f3e015">DF</a></div><div class="ttdeci">static RegisterPass&lt; DebugifyFunctionPass &gt; DF(&quot;debugify-function&quot;, &quot;Attach debug info to a function&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_ab9868019a4b5518b9eba954de7e892f4"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#ab9868019a4b5518b9eba954de7e892f4">llvm::GVNPass::ValueTable::add</a></div><div class="ttdeci">void add(Value *V, uint32_t num)</div><div class="ttdoc">add - Insert a value into the table with a specified value number.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00457">GVN.cpp:457</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="aLoopInfo_8h_html"><div class="ttname"><a href="LoopInfo_8h.html">LoopInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_aac456a62894c9f0f8e9f06373bbf40f0"><div class="ttname"><a href="classllvm_1_1BranchInst.html#aac456a62894c9f0f8e9f06373bbf40f0">llvm::BranchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03220">Instructions.h:3220</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_ac96558c87ecbcc96f020a0efcaade750"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#ac96558c87ecbcc96f020a0efcaade750">llvm::gvn::AvailableValue::MaterializeAdjustedValue</a></div><div class="ttdeci">Value * MaterializeAdjustedValue(LoadInst *Load, Instruction *InsertPt, GVNPass &amp;gvn) const</div><div class="ttdoc">Emit code at the specified insertion point to adjust the value defined here to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00980">GVN.cpp:980</a></div></div>
<div class="ttc" id="anamespacellvm_1_1VNCoercion_html_a6b72d403292d9dddd1ef1ce3e8bc394c"><div class="ttname"><a href="namespacellvm_1_1VNCoercion.html#a6b72d403292d9dddd1ef1ce3e8bc394c">llvm::VNCoercion::getMemInstValueForLoad</a></div><div class="ttdeci">Value * getMemInstValueForLoad(MemIntrinsic *SrcInst, unsigned Offset, Type *LoadTy, Instruction *InsertPt, const DataLayout &amp;DL)</div><div class="ttdoc">If analyzeLoadFromClobberingMemInst returned an offset, this function can be used to actually perform...</div><div class="ttdef"><b>Definition:</b> <a href="VNCoercion_8cpp_source.html#l00520">VNCoercion.cpp:520</a></div></div>
<div class="ttc" id="anamespacellvm_html_acb22fb04083152eee862457e42e8dc31"><div class="ttname"><a href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">llvm::predecessors</a></div><div class="ttdeci">auto predecessors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01266">MachineBasicBlock.h:1266</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">This class is the base class for the comparison instructions.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00708">InstrTypes.h:708</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_ab969341f48b71d789240c97315302e3e"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#ab969341f48b71d789240c97315302e3e">llvm::gvn::AvailableValue::getCoercedLoadValue</a></div><div class="ttdeci">LoadInst * getCoercedLoadValue() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00257">GVN.cpp:257</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html_a6796eb8a0e27f209321cbeff6a6faee8"><div class="ttname"><a href="classllvm_1_1GVNPass.html#a6796eb8a0e27f209321cbeff6a6faee8">llvm::GVNPass::printPipeline</a></div><div class="ttdeci">void printPipeline(raw_ostream &amp;OS, function_ref&lt; StringRef(StringRef)&gt; MapClassName2PassName)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00770">GVN.cpp:770</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a9981b24f924d63fbddf7daf8c7e7a21b"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a9981b24f924d63fbddf7daf8c7e7a21b">llvm::MemDepResult::getInst</a></div><div class="ttdeci">Instruction * getInst() const</div><div class="ttdoc">If this is a normal dependency, returns the instruction that is depended on.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00173">MemoryDependenceAnalysis.h:173</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00026">PPCPredicates.h:26</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html_ae8df6ce7d559faffa82bdee76aef6c0e"><div class="ttname"><a href="classllvm_1_1GVNPass.html#ae8df6ce7d559faffa82bdee76aef6c0e">llvm::GVNPass::getDominatorTree</a></div><div class="ttdeci">DominatorTree &amp; getDominatorTree() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8h_source.html#l00138">GVN.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html_aac8394f15fa6e03d02344993ef4a15df"><div class="ttname"><a href="classllvm_1_1GVNPass.html#aac8394f15fa6e03d02344993ef4a15df">llvm::GVNPass::isLoadPRESplitBackedgeEnabled</a></div><div class="ttdeci">bool isLoadPRESplitBackedgeEnabled() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00733">GVN.cpp:733</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a></div><div class="ttdeci">@ VI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07994">SIInstrInfo.cpp:7994</a></div></div>
<div class="ttc" id="anamespacellvm_html_a108b6e33f153eda5019d322f0ac909b0"><div class="ttname"><a href="namespacellvm.html#a108b6e33f153eda5019d322f0ac909b0">llvm::getInitialValueOfAllocation</a></div><div class="ttdeci">Constant * getInitialValueOfAllocation(const Value *V, const TargetLibraryInfo *TLI, Type *Ty)</div><div class="ttdoc">If this is a call to an allocation function that initializes memory to a fixed value,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00428">MemoryBuiltins.cpp:428</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_ac10322dc19a928c2dbb83ec9689dc23cadd7bf230fde8d4836917806aff6a6b27"><div class="ttname"><a href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23cadd7bf230fde8d4836917806aff6a6b27">llvm::pdb::PDB_ColorItem::Address</a></div><div class="ttdeci">@ Address</div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_ad7d485c64e80962fadbbbfe8e1832e2f"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#ad7d485c64e80962fadbbbfe8e1832e2f">llvm::gvn::AvailableValue::isMemIntrinValue</a></div><div class="ttdeci">bool isMemIntrinValue() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00248">GVN.cpp:248</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a1b03efeb26edf19fa86bb02ae9e10c9d"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a1b03efeb26edf19fa86bb02ae9e10c9d">llvm::gvn::AvailableValue::V2</a></div><div class="ttdeci">Value * V2</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00202">GVN.cpp:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00082">Instruction.cpp:82</a></div></div>
<div class="ttc" id="aREADME-X86-64_8txt_html_aac3add0badd5c39bebc02df0b5d9bdcf"><div class="ttname"><a href="README-X86-64_8txt.html#aac3add0badd5c39bebc02df0b5d9bdcf">type</a></div><div class="ttdeci">AMD64 Optimization Manual has some nice information about optimizing integer multiplication by a constant How much of it applies to Intel s X86 implementation There are definite trade offs to xmm0 cvttss2siq rdx jb L3 subss xmm0 rax cvttss2siq rdx xorq rdx rax ret instead of xmm1 cvttss2siq rcx movaps xmm2 subss xmm2 cvttss2siq rax rdx xorq rax ucomiss xmm0 cmovb rax ret Seems like the jb branch has high likelihood of being taken It would have saved a few instructions It s not possible to reference and DH registers in an instruction requiring REX prefix divb and mulb both produce results in AH If isel emits a CopyFromReg which gets turned into a movb and that can be allocated a r8b r15b To get around isel emits a CopyFromReg from AX and then right shift it down by and truncate it It s not pretty but it works We need some register allocation magic to make the hack go which would often require a callee saved register Callees usually need to keep this value live for most of their body so it doesn t add a significant burden on them We currently implement this in however this is suboptimal because it means that it would be quite awkward to implement the optimization for callers A better implementation would be to relax the LLVM IR rules for sret arguments to allow a function with an sret argument to have a non void return type</div><div class="ttdef"><b>Definition:</b> <a href="README-X86-64_8txt_source.html#l00070">README-X86-64.txt:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCRelocateInst_html"><div class="ttname"><a href="classllvm_1_1GCRelocateInst.html">llvm::GCRelocateInst</a></div><div class="ttdoc">Represents calls to the gc.relocate intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01477">IntrinsicInst.h:1477</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfoWrapperPass.html">llvm::TargetLibraryInfoWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00565">TargetLibraryInfo.h:565</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ab576f7479f5ae0d3daebf7e7c5f3a32c"><div class="ttname"><a href="GVN_8cpp.html#ab576f7479f5ae0d3daebf7e7c5f3a32c">MaxBBSpeculations</a></div><div class="ttdeci">static cl::opt&lt; uint32_t &gt; MaxBBSpeculations(&quot;gvn-max-block-speculations&quot;, cl::Hidden, cl::init(600), cl::desc(&quot;Max number of blocks we're willing to speculate on (and recurse &quot; &quot;into) when deducing if a value is fully available or not in GVN &quot; &quot;(default = 600)&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html_a49c29a62e2e811e5f679e8914e0e762e"><div class="ttname"><a href="classllvm_1_1GVNPass.html#a49c29a62e2e811e5f679e8914e0e762e">llvm::GVNPass::getMemDep</a></div><div class="ttdeci">MemoryDependenceResults &amp; getMemDep() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8h_source.html#l00140">GVN.h:140</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a1a06b1cff93069d7403ea03e6150e386"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a1a06b1cff93069d7403ea03e6150e386">llvm::PatternMatch::m_LogicalOr</a></div><div class="ttdeci">LogicalOp_match&lt; LHS, RHS, Instruction::Or &gt; m_LogicalOr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches L || R either in the form of L | R or L ? true : R.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02574">PatternMatch.h:2574</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAUpdater_html"><div class="ttname"><a href="classllvm_1_1MemorySSAUpdater.html">llvm::MemorySSAUpdater</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSAUpdater_8h_source.html#l00054">MemorySSAUpdater.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdater_html_a5b0e45dbba53e985f1b9c532fb5f200b"><div class="ttname"><a href="classllvm_1_1SSAUpdater.html#a5b0e45dbba53e985f1b9c532fb5f200b">llvm::SSAUpdater::GetValueInMiddleOfBlock</a></div><div class="ttdeci">Value * GetValueInMiddleOfBlock(BasicBlock *BB)</div><div class="ttdoc">Construct SSA form, materializing a value that is live in the middle of the specified block.</div><div class="ttdef"><b>Definition:</b> <a href="SSAUpdater_8cpp_source.html#l00098">SSAUpdater.cpp:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1gvn_1_1GVNLegacyPass_html_ab5d98be3e1b14ce50e328b3712b72b7f"><div class="ttname"><a href="classllvm_1_1gvn_1_1GVNLegacyPass.html#ab5d98be3e1b14ce50e328b3712b72b7f">llvm::gvn::GVNLegacyPass::runOnFunction</a></div><div class="ttdeci">bool runOnFunction(Function &amp;F) override</div><div class="ttdoc">runOnFunction - Virtual method overriden by subclasses to do the per-function processing of the pass.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l03158">GVN.cpp:3158</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionAnalysis_html"><div class="ttname"><a href="classllvm_1_1AssumptionAnalysis.html">llvm::AssumptionAnalysis</a></div><div class="ttdoc">A function analysis which provides an AssumptionCache.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00173">AssumptionCache.h:173</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_ad966bea18aa62ffb9e040509adc7c99f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">llvm::PreservedAnalyses::preserve</a></div><div class="ttdeci">void preserve()</div><div class="ttdoc">Mark an analysis as preserved.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00173">PassManager.h:173</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_ab48a3d10e69562ed9d1dfd2cb560d0c0"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#ab48a3d10e69562ed9d1dfd2cb560d0c0">llvm::GVNPass::ValueTable::erase</a></div><div class="ttdeci">void erase(Value *v)</div><div class="ttdoc">Remove a value from the value numbering.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00700">GVN.cpp:700</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_ac46064c40813ae08522074a52c486d9d"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#ac46064c40813ae08522074a52c486d9d">llvm::gvn::AvailableValue::V1</a></div><div class="ttdeci">Value * V1</div><div class="ttdoc">V1, V2 - The dominating non-clobbered values of SelectVal.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00202">GVN.cpp:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a089cccb6f231efee72abc76d0f9c695f"><div class="ttname"><a href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">llvm::PHINode::addIncoming</a></div><div class="ttdeci">void addIncoming(Value *V, BasicBlock *BB)</div><div class="ttdoc">Add an incoming value to the end of the PHI list.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02854">Instructions.h:2854</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ae8ec32a9818e9fd7c653c86bc0c4dc7e"><div class="ttname"><a href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7e">AvailabilityState</a></div><div class="ttdeci">AvailabilityState</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00799">GVN.cpp:799</a></div></div>
<div class="ttc" id="aclassllvm_1_1ExtractValueInst_html_afcd55a28a257b9ea1708f66671b13e6e"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#afcd55a28a257b9ea1708f66671b13e6e">llvm::ExtractValueInst::idx_begin</a></div><div class="ttdeci">idx_iterator idx_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02504">Instructions.h:2504</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html"><div class="ttname"><a href="classllvm_1_1MemorySSA.html">llvm::MemorySSA</a></div><div class="ttdoc">Encapsulates MemorySSA, including all data associated with memory accesses.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00700">MemorySSA.h:700</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a01bfb86ab31d9f9a92f926aba4a463dc"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a01bfb86ab31d9f9a92f926aba4a463dc">llvm::MemDepResult::isClobber</a></div><div class="ttdeci">bool isClobber() const</div><div class="ttdoc">Tests if this MemDepResult represents a query that is an instruction clobber dependency.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00144">MemoryDependenceAnalysis.h:144</a></div></div>
<div class="ttc" id="astructllvm_1_1GVNPass_1_1Expression_html_a069d9ba665289a777ed0d340ca800132"><div class="ttname"><a href="structllvm_1_1GVNPass_1_1Expression.html#a069d9ba665289a777ed0d340ca800132">llvm::GVNPass::Expression::varargs</a></div><div class="ttdeci">SmallVector&lt; uint32_t, 4 &gt; varargs</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00136">GVN.cpp:136</a></div></div>
<div class="ttc" id="aVNCoercion_8h_html"><div class="ttname"><a href="VNCoercion_8h.html">VNCoercion.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3720211f6e6389ab53734b989bfb6fce"><div class="ttname"><a href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">llvm::succ_begin</a></div><div class="ttdeci">Interval::succ_iterator succ_begin(Interval *I)</div><div class="ttdoc">succ_begin/succ_end - define methods so that Intervals may be used just like BasicBlocks can with the...</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00099">Interval.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdoc">an instruction for type-safe pointer arithmetic to access elements of arrays and structs</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00940">Instructions.h:940</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ac3280e7f76f955403fe17eacf126b90d"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ac3280e7f76f955403fe17eacf126b90d">llvm::LoopBase::getLoopPreheader</a></div><div class="ttdeci">BlockT * getLoopPreheader() const</div><div class="ttdoc">If there is a preheader for this loop, return it.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00183">LoopInfoImpl.h:183</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="anamespacellvm_html_aab02db480f387fca92956ef1c9a01941"><div class="ttname"><a href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941">llvm::simplifyInstruction</a></div><div class="ttdeci">Value * simplifyInstruction(Instruction *I, const SimplifyQuery &amp;Q, OptimizationRemarkEmitter *ORE=nullptr)</div><div class="ttdoc">See if we can compute a simplified version of this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06731">InstructionSimplify.cpp:6731</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae8f5bf5cc06f696b52c709677df00fbf"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">llvm::Instruction::setDebugLoc</a></div><div class="ttdeci">void setDebugLoc(DebugLoc Loc)</div><div class="ttdoc">Set the debug location information for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00355">Instruction.h:355</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ab85468c2bfc360b5d4bc512d241d1440"><div class="ttname"><a href="GVN_8cpp.html#ab85468c2bfc360b5d4bc512d241d1440">patchAndReplaceAllUsesWith</a></div><div class="ttdeci">static void patchAndReplaceAllUsesWith(Instruction *I, Value *Repl)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l02004">GVN.cpp:2004</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a1111bb57c327bf25aa5195378dd0b89b"><div class="ttname"><a href="GVN_8cpp.html#a1111bb57c327bf25aa5195378dd0b89b">GVNEnablePRE</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; GVNEnablePRE(&quot;enable-pre&quot;, cl::init(true), cl::Hidden)</div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValueInBlock_html_a311f188566b0d91b585df6c8bb31eb3a"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a311f188566b0d91b585df6c8bb31eb3a">llvm::gvn::AvailableValueInBlock::getUndef</a></div><div class="ttdeci">static AvailableValueInBlock getUndef(BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00299">GVN.cpp:299</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a1230fd674d2609b96527fe65eaf40b1b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">llvm::LoopBase::getLoopLatch</a></div><div class="ttdeci">BlockT * getLoopLatch() const</div><div class="ttdoc">If there is a single latch block for this loop, return it.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00232">LoopInfoImpl.h:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html_adf1278a3accfd7d0207e37273e4229d2"><div class="ttname"><a href="classllvm_1_1GVNPass.html#adf1278a3accfd7d0207e37273e4229d2">llvm::GVNPass::isMemDepEnabled</a></div><div class="ttdeci">bool isMemDepEnabled() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00738">GVN.cpp:738</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ae8ec32a9818e9fd7c653c86bc0c4dc7ea453e6aa38d87b28ccae545967c53004f"><div class="ttname"><a href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7ea453e6aa38d87b28ccae545967c53004f">AvailabilityState::Unavailable</a></div><div class="ttdeci">@ Unavailable</div><div class="ttdoc">We know the block is not fully available. This is a fixpoint.</div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a506bcfb6f92a2184453e1fa9655f62a1"><div class="ttname"><a href="classllvm_1_1PHINode.html#a506bcfb6f92a2184453e1fa9655f62a1">llvm::PHINode::setIncomingValueForBlock</a></div><div class="ttdeci">void setIncomingValueForBlock(const BasicBlock *BB, Value *V)</div><div class="ttdoc">Set every incoming value(s) for block BB to V.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02896">Instructions.h:2896</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html_aae6a98aea85aa3af87357cc5448db499"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">llvm::OptimizationRemarkEmitter::emit</a></div><div class="ttdeci">void emit(DiagnosticInfoOptimizationBase &amp;OptDiag)</div><div class="ttdoc">Output the remark via the diagnostic handler and to the optimization record file.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8cpp_source.html#l00079">OptimizationRemarkEmitter.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_a2e4daf2821364f39078a6ec49108c52e"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#a2e4daf2821364f39078a6ec49108c52e">llvm::GVNPass::ValueTable::lookupOrAddCmp</a></div><div class="ttdeci">uint32_t lookupOrAddCmp(unsigned Opcode, CmpInst::Predicate Pred, Value *LHS, Value *RHS)</div><div class="ttdoc">Returns the value number of the given comparison, assigning it a new number if it did not have one be...</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00680">GVN.cpp:680</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectInst_html"><div class="ttname"><a href="classllvm_1_1SelectInst.html">llvm::SelectInst</a></div><div class="ttdoc">This class represents the LLVM 'select' instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01746">Instructions.h:1746</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ae8eaa0b4eeac52a2b2282cb1bfd981ae"><div class="ttname"><a href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const</div><div class="ttdoc">Return true if this is 'void'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa39ca296d9689933bb0279c9ac3ee1fc"><div class="ttname"><a href="namespacellvm.html#aa39ca296d9689933bb0279c9ac3ee1fc">llvm::salvageKnowledge</a></div><div class="ttdeci">void salvageKnowledge(Instruction *I, AssumptionCache *AC=nullptr, DominatorTree *DT=nullptr)</div><div class="ttdoc">Calls BuildAssumeFromInst and if the resulting llvm.assume is valid insert if before I.</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00293">AssumeBundleBuilder.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_a085d07b08472ae5b3a27b913e97ac2a5"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#a085d07b08472ae5b3a27b913e97ac2a5">llvm::GVNPass::ValueTable::ValueTable</a></div><div class="ttdeci">ValueTable()</div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a21f6f28b6684fc17f3b56b76f379fc8d"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a21f6f28b6684fc17f3b56b76f379fc8d">llvm::gvn::AvailableValue::getSelect</a></div><div class="ttdeci">static AvailableValue getSelect(SelectInst *Sel, Value *V1, Value *V2)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00236">GVN.cpp:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAAnalysis_html"><div class="ttname"><a href="classllvm_1_1MemorySSAAnalysis.html">llvm::MemorySSAAnalysis</a></div><div class="ttdoc">An analysis that produces MemorySSA for a function.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00936">MemorySSA.h:936</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8dab43be03b9188d73d2f790461f767c"><div class="ttname"><a href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c">llvm::replaceDominatedUsesWith</a></div><div class="ttdeci">unsigned replaceDominatedUsesWith(Value *From, Value *To, DominatorTree &amp;DT, const BasicBlockEdge &amp;Edge)</div><div class="ttdoc">Replace each use of 'From' with 'To' if that use is dominated by the given edge.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02871">Local.cpp:2871</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a75a2d2ad3b3dce6702750d570ee8f343"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a75a2d2ad3b3dce6702750d570ee8f343">llvm::SmallSet::erase</a></div><div class="ttdeci">bool erase(const T &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00205">SmallSet.h:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a62213d5211c9d944e5ede1f0059a6ae2"><div class="ttname"><a href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">llvm::Value::printAsOperand</a></div><div class="ttdeci">void printAsOperand(raw_ostream &amp;O, bool PrintType=true, const Module *M=nullptr) const</div><div class="ttdoc">Print the name of this Value out to the specified raw_ostream.</div><div class="ttdef"><b>Definition:</b> <a href="AsmWriter_8cpp_source.html#l04782">AsmWriter.cpp:4782</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_ad56f6a9b5cd05940017c4544df48bc30"><div class="ttname"><a href="classllvm_1_1BranchInst.html#ad56f6a9b5cd05940017c4544df48bc30">llvm::BranchInst::isUnconditional</a></div><div class="ttdeci">bool isUnconditional() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03217">Instructions.h:3217</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">Match an arbitrary value and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00076">PatternMatch.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a5fa9b8e1842b354f64c1ba6be0a4a17f"><div class="ttname"><a href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">llvm::User::setOperand</a></div><div class="ttdeci">void setOperand(unsigned i, Value *Val)</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00174">User.h:174</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1b38a63d3be7413f335be5f2d81bb234"><div class="ttname"><a href="namespacellvm.html#a1b38a63d3be7413f335be5f2d81bb234">llvm::GetSuccessorNumber</a></div><div class="ttdeci">unsigned GetSuccessorNumber(const BasicBlock *BB, const BasicBlock *Succ)</div><div class="ttdoc">Search for the specified successor of basic block BB and return its position in the terminator instru...</div><div class="ttdef"><b>Definition:</b> <a href="CFG_8cpp_source.html#l00079">CFG.cpp:79</a></div></div>
<div class="ttc" id="aAnalysis_2CFG_8h_html"><div class="ttname"><a href="Analysis_2CFG_8h.html">CFG.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expression_html"><div class="ttname"><a href="classllvm_1_1Expression.html">llvm::Expression</a></div><div class="ttdoc">Class representing an expression and its matching format.</div><div class="ttdef"><b>Definition:</b> <a href="FileCheckImpl_8h_source.html#l00237">FileCheckImpl.h:237</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a0a4d51e372293abe5e5f6dac133e80a6"><div class="ttname"><a href="classllvm_1_1Instruction.html#a0a4d51e372293abe5e5f6dac133e80a6">llvm::Instruction::clone</a></div><div class="ttdeci">Instruction * clone() const</div><div class="ttdoc">Create a copy of 'this' instruction that is identical in all ways except the following:</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00903">Instruction.cpp:903</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html_a5046bdddf55a6ad3fd2ad7640b4f8d0c"><div class="ttname"><a href="classllvm_1_1GVNPass.html#a5046bdddf55a6ad3fd2ad7640b4f8d0c">llvm::GVNPass::isLoadPREEnabled</a></div><div class="ttdeci">bool isLoadPREEnabled() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00725">GVN.cpp:725</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html">llvm::AssumptionCacheTracker</a></div><div class="ttdoc">An immutable pass that tracks lazily created AssumptionCache objects.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00202">AssumptionCache.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef&lt; int &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a627b2f86ac433d829482d5a5a0f50668"><div class="ttname"><a href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">llvm::isInstructionTriviallyDead</a></div><div class="ttdeci">bool isInstructionTriviallyDead(Instruction *I, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the result produced by the instruction is not used, and the instruction will return.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00398">Local.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01108">LoopInfo.h:1108</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a555a6bddfc8ce77b217cb0702fd5f0c2"><div class="ttname"><a href="GVN_8cpp.html#a555a6bddfc8ce77b217cb0702fd5f0c2">GVNEnableLoadInLoopPRE</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; GVNEnableLoadInLoopPRE(&quot;enable-load-in-loop-pre&quot;, cl::init(true))</div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_ae0f503db91504a3f3440ab81260e4134"><div class="ttname"><a href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a></div><div class="ttdeci">BinaryOperator * Mul</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00070">X86PartialReduction.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlockEdge_html_acc7ed786f919008658f560cc4ff040d1"><div class="ttname"><a href="classllvm_1_1BasicBlockEdge.html#acc7ed786f919008658f560cc4ff040d1">llvm::BasicBlockEdge::getEnd</a></div><div class="ttdeci">const BasicBlock * getEnd() const</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00116">Dominators.h:116</a></div></div>
<div class="ttc" id="astructllvm_1_1GVNPass_1_1Expression_html_ac8903c858d2f772afe5645945071edd8"><div class="ttname"><a href="structllvm_1_1GVNPass_1_1Expression.html#ac8903c858d2f772afe5645945071edd8">llvm::GVNPass::Expression::Expression</a></div><div class="ttdeci">Expression(uint32_t o=~2U)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00138">GVN.cpp:138</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html">llvm::AssumptionCache</a></div><div class="ttdoc">A cache of @llvm.assume calls within a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00042">AssumptionCache.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_adfa0be41805b25d9577d6f15d148a0d7"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#adfa0be41805b25d9577d6f15d148a0d7">llvm::BatchAAResults::getModRefInfo</a></div><div class="ttdeci">ModRefInfo getModRefInfo(const Instruction *I, const std::optional&lt; MemoryLocation &gt; &amp;OptLoc)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00631">AliasAnalysis.h:631</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a7ecb019c18583eca74daad14ff133d54"><div class="ttname"><a href="GVN_8cpp.html#a7ecb019c18583eca74daad14ff133d54">isOnlyReachableViaThisEdge</a></div><div class="ttdeci">static bool isOnlyReachableViaThisEdge(const BasicBlockEdge &amp;E, DominatorTree *DT)</div><div class="ttdoc">There is an edge from 'Src' to 'Dst'.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l02229">GVN.cpp:2229</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_af9ec64020352940f84d2092938067756"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#af9ec64020352940f84d2092938067756">llvm::GVNPass::ValueTable::verifyRemoved</a></div><div class="ttdeci">void verifyRemoved(const Value *) const</div><div class="ttdoc">verifyRemoved - Verify that the value is removed from all internal data structures.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00710">GVN.cpp:710</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a884f90190bca4bd354f2d5c91c264028"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">llvm::AnalysisUsage::addPreserved</a></div><div class="ttdeci">AnalysisUsage &amp; addPreserved()</div><div class="ttdoc">Add the specified Pass class to the set of analyses preserved by this pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00098">PassAnalysisSupport.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a13cc1f5d3225f4ec063520a747acec4c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a13cc1f5d3225f4ec063520a747acec4c">llvm::ConstantInt::isMinusOne</a></div><div class="ttdeci">bool isMinusOne() const</div><div class="ttdoc">This function will return true iff every bit in this constant is set to true.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00205">Constants.h:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html">llvm::GVNPass::ValueTable</a></div><div class="ttdoc">This class holds the mapping between values and value numbers.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8h_source.html#l00151">GVN.h:151</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a657b61cd00f7603c59e57c5c0e71f87f"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a657b61cd00f7603c59e57c5c0e71f87f">llvm::gvn::AvailableValue::getMemIntrinValue</a></div><div class="ttdeci">MemIntrinsic * getMemIntrinValue() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00262">GVN.cpp:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html_a8bf4c30be33831d7882d6880b8ae433da483c336d7d9fe614a8b5aae1e746e01f"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html#a8bf4c30be33831d7882d6880b8ae433da483c336d7d9fe614a8b5aae1e746e01f">llvm::DomTreeUpdater::UpdateStrategy::Eager</a></div><div class="ttdeci">@ Eager</div></div>
<div class="ttc" id="anamespacellvm_html_ad66c4759666aab78529658362b498c74"><div class="ttname"><a href="namespacellvm.html#ad66c4759666aab78529658362b498c74">llvm::pred_empty</a></div><div class="ttdeci">bool pred_empty(const BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="IR_2CFG_8h_source.html#l00118">CFG.h:118</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a6d52b92a37b7a4dcd17682386c9193bb"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a6d52b92a37b7a4dcd17682386c9193bb">llvm::gvn::AvailableValue::getSelectValue</a></div><div class="ttdeci">SelectInst * getSelectValue() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00267">GVN.cpp:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ab03652069eab17006c51f00c261a6a44"><div class="ttname"><a href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">llvm::Type::isPtrOrPtrVectorTy</a></div><div class="ttdeci">bool isPtrOrPtrVectorTy() const</div><div class="ttdoc">Return true if this is a pointer type or a vector of pointer types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00255">Type.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_ade6d93f9485649bade540a37ec163058"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#ade6d93f9485649bade540a37ec163058">llvm::DominatorTreeBase::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const DomTreeNodeBase&lt; NodeT &gt; *A, const DomTreeNodeBase&lt; NodeT &gt; *B) const</div><div class="ttdoc">properlyDominates - Returns true iff A dominates B and A != B.</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00408">GenericDomTree.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1WithOverflowInst_html"><div class="ttname"><a href="classllvm_1_1WithOverflowInst.html">llvm::WithOverflowInst</a></div><div class="ttdoc">Represents an op.with.overflow intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00770">IntrinsicInst.h:770</a></div></div>
<div class="ttc" id="aSSAUpdater_8h_html"><div class="ttname"><a href="SSAUpdater_8h.html">SSAUpdater.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdater_html_ab671042c23924e0216c4a0b830ad2a04"><div class="ttname"><a href="classllvm_1_1SSAUpdater.html#ab671042c23924e0216c4a0b830ad2a04">llvm::SSAUpdater::HasValueForBlock</a></div><div class="ttdeci">bool HasValueForBlock(BasicBlock *BB) const</div><div class="ttdoc">Return true if the SSAUpdater already has a value for the specified block.</div><div class="ttdef"><b>Definition:</b> <a href="SSAUpdater_8cpp_source.html#l00062">SSAUpdater.cpp:62</a></div></div>
<div class="ttc" id="anamespacellvm_1_1VNCoercion_html_a5b56372fc8f92f242b204acbc9242a46"><div class="ttname"><a href="namespacellvm_1_1VNCoercion.html#a5b56372fc8f92f242b204acbc9242a46">llvm::VNCoercion::getLoadValueForLoad</a></div><div class="ttdeci">Value * getLoadValueForLoad(LoadInst *SrcVal, unsigned Offset, Type *LoadTy, Instruction *InsertPt, const DataLayout &amp;DL)</div><div class="ttdoc">If analyzeLoadFromClobberingLoad returned an offset, this function can be used to actually perform th...</div><div class="ttdef"><b>Definition:</b> <a href="VNCoercion_8cpp_source.html#l00463">VNCoercion.cpp:463</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a9d3f6ea51fcb69b01486a4f6fb5c52eb"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a9d3f6ea51fcb69b01486a4f6fb5c52eb">llvm::gvn::AvailableValue::isUndefValue</a></div><div class="ttdeci">bool isUndefValue() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00249">GVN.cpp:249</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_aa7cce62ac5cc6df09cce0535874336b7"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">llvm::ConstantInt::getFalse</a></div><div class="ttdeci">static ConstantInt * getFalse(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00842">Constants.cpp:842</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_af664c713571d51d8130da27b28cc2088"><div class="ttname"><a href="GVN_8cpp.html#af664c713571d51d8130da27b28cc2088">liesBetween</a></div><div class="ttdeci">static bool liesBetween(const Instruction *From, Instruction *Between, const Instruction *To, DominatorTree *DT)</div><div class="ttdoc">Assuming To can be reached from both From and Between, does Between lie on every path from From to To...</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l01040">GVN.cpp:1040</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a1957eb1d23950a66cddf35d4e62c0650"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a1957eb1d23950a66cddf35d4e62c0650">llvm::gvn::AvailableValue::isSimpleValue</a></div><div class="ttdeci">bool isSimpleValue() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00246">GVN.cpp:246</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a6ea260be710ac7b61309534308da3147"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6ea260be710ac7b61309534308da3147">llvm::Instruction::mayHaveSideEffects</a></div><div class="ttdeci">bool mayHaveSideEffects() const LLVM_READONLY</div><div class="ttdoc">Return true if the instruction may have side effects.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00745">Instruction.cpp:745</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_aa286a0f7f5d38488d593bb7ef0ba183e"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">llvm::BasicBlock::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">Get the context in which this basic block lives.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00035">BasicBlock.cpp:35</a></div></div>
<div class="ttc" id="anamespacellvm_html_add49d9f7abebe402adf1a57c762abeef"><div class="ttname"><a href="namespacellvm.html#add49d9f7abebe402adf1a57c762abeef">llvm::depth_first</a></div><div class="ttdeci">iterator_range&lt; df_iterator&lt; T &gt; &gt; depth_first(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00229">DepthFirstIterator.h:229</a></div></div>
<div class="ttc" id="anamespacellvm_html_aed498f056a09006219c59ee9fab0450f"><div class="ttname"><a href="namespacellvm.html#aed498f056a09006219c59ee9fab0450f">llvm::EliminateDuplicatePHINodes</a></div><div class="ttdeci">bool EliminateDuplicatePHINodes(BasicBlock *BB)</div><div class="ttdoc">Check for and eliminate duplicate PHI nodes in this block.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01374">Local.cpp:1374</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html">llvm::MemoryDependenceResults</a></div><div class="ttdoc">Provides a lazy, caching interface for making common memory aliasing information queries,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00272">MemoryDependenceAnalysis.h:272</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">llvm::NVPTX::PTXLdStInstCode::V2</a></div><div class="ttdeci">@ V2</div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00124">NVPTX.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitterWrapperPass_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitterWrapperPass.html">llvm::OptimizationRemarkEmitterWrapperPass</a></div><div class="ttdoc">OptimizationRemarkEmitter legacy analysis pass.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00146">OptimizationRemarkEmitter.h:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a82dbbd8e3688b0bc1eedb338864d0d0c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">llvm::ConstantInt::getTrue</a></div><div class="ttdeci">static ConstantInt * getTrue(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00835">Constants.cpp:835</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdoc">Constructor to create a '0' constant of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00356">Constants.cpp:356</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceWrapperPass_html"><div class="ttname"><a href="classllvm_1_1MemoryDependenceWrapperPass.html">llvm::MemoryDependenceWrapperPass</a></div><div class="ttdoc">A wrapper analysis pass for the legacy pass manager that exposes a MemoryDepnedenceResults instance.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00532">MemoryDependenceAnalysis.h:532</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4_html_a793a3e132fc31a11ea80306cb3d9e023"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a793a3e132fc31a11ea80306cb3d9e023">llvm::DenseMapInfo&lt; GVNPass::Expression &gt;::getEmptyKey</a></div><div class="ttdeci">static GVNPass::Expression getEmptyKey()</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00162">GVN.cpp:162</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">llvm::Successor</a></div><div class="ttdeci">@ Successor</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00035">SIMachineScheduler.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_ab0ff669b12c20c07137705c38872ec63"><div class="ttname"><a href="classllvm_1_1PHINode.html#ab0ff669b12c20c07137705c38872ec63">llvm::PHINode::Create</a></div><div class="ttdeci">static PHINode * Create(Type *Ty, unsigned NumReservedValues, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Constructors - NumReservedValues is a hint for the number of incoming edges that this phi node will h...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02750">Instructions.h:2750</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a177844335152e882e8ac429dd1102716"><div class="ttname"><a href="namespacellvm_1_1ore.html#a177844335152e882e8ac429dd1102716">llvm::ore::setExtraArgs</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::setExtraArgs setExtraArgs</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00138">OptimizationRemarkEmitter.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_aab36927882fbfdcbb860d87fd9c30da8"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00151">ArrayRef.h:151</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86_html_a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e"><div class="ttname"><a href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">llvm::X86::FirstMacroFusionInstKind::Cmp</a></div><div class="ttdeci">@ Cmp</div></div>
<div class="ttc" id="anamespacellvm_1_1VNCoercion_html_a54e6f143ee9c14b9498e4f43b97c2525"><div class="ttname"><a href="namespacellvm_1_1VNCoercion.html#a54e6f143ee9c14b9498e4f43b97c2525">llvm::VNCoercion::analyzeLoadFromClobberingStore</a></div><div class="ttdeci">int analyzeLoadFromClobberingStore(Type *LoadTy, Value *LoadPtr, StoreInst *DepSI, const DataLayout &amp;DL)</div><div class="ttdoc">This function determines whether a value for the pointer LoadPtr can be extracted from the store at D...</div><div class="ttdef"><b>Definition:</b> <a href="VNCoercion_8cpp_source.html#l00211">VNCoercion.cpp:211</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_adde2ea00dd2613ee41bfe91908e4e68e"><div class="ttname"><a href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">llvm::CallBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01349">InstrTypes.h:1349</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5eeaf08e96168c2cac8960f87f0ef360"><div class="ttname"><a href="namespacellvm.html#a5eeaf08e96168c2cac8960f87f0ef360">llvm::pred_end</a></div><div class="ttdeci">Interval::pred_iterator pred_end(Interval *I)</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00112">Interval.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1ExtractValueInst_html"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html">llvm::ExtractValueInst</a></div><div class="ttdoc">This instruction extracts a struct member or array element value from an aggregate value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02455">Instructions.h:2455</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a9773fde54683945b9e34a0f2e5c1a5a5a7806c120eb87aea9fbb52fed327e09de"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5a7806c120eb87aea9fbb52fed327e09de">llvm::MemorySSA::BeforeTerminator</a></div><div class="ttdeci">@ BeforeTerminator</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00788">MemorySSA.h:788</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_a90a202de107720c5c6af3a5bc275d8f5"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a90a202de107720c5c6af3a5bc275d8f5">llvm::AnalysisManager::getCachedResult</a></div><div class="ttdeci">PassT::Result * getCachedResult(IRUnitT &amp;IR) const</div><div class="ttdoc">Get the cached result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00793">PassManager.h:793</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a8d4d46440095befe6f9bdb1fdcaa9148"><div class="ttname"><a href="GVN_8cpp.html#a8d4d46440095befe6f9bdb1fdcaa9148">impliesEquivalanceIfFalse</a></div><div class="ttdeci">static bool impliesEquivalanceIfFalse(CmpInst *Cmp)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l01833">GVN.cpp:1833</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a58c5b170ea68b41e94ebb0019523a68f"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00105">LoopInfo.h:105</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_acf4c09e1f30cdd4e0b5b1b8a236ead34"><div class="ttname"><a href="classllvm_1_1MapVector.html#acf4c09e1f30cdd4e0b5b1b8a236ead34">llvm::MapVector::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00061">MapVector.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_adc01a7457de85fc52a3bb860d7e1c6a4"><div class="ttname"><a href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">llvm::Type::getPointerTo</a></div><div class="ttdeci">PointerType * getPointerTo(unsigned AddrSpace=0) const</div><div class="ttdoc">Return a pointer to the current type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00776">Type.cpp:776</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="aNewGVN_8cpp_html_a3802ce53978393ea3d2d69b646cd49f9"><div class="ttname"><a href="NewGVN_8cpp.html#a3802ce53978393ea3d2d69b646cd49f9">Numbering</a></div><div class="ttdeci">Global Value Numbering</div><div class="ttdef"><b>Definition:</b> <a href="NewGVN_8cpp_source.html#l04260">NewGVN.cpp:4260</a></div></div>
<div class="ttc" id="aclassllvm_1_1ExtractValueInst_html_ab87e7c5a729885396b3b045ad375e4b8"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#ab87e7c5a729885396b3b045ad375e4b8">llvm::ExtractValueInst::getAggregateOperand</a></div><div class="ttdeci">Value * getAggregateOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02510">Instructions.h:2510</a></div></div>
<div class="ttc" id="astructllvm_1_1GVNPass_1_1Expression_html_a9befc406b4248fcadb0b81079602515f"><div class="ttname"><a href="structllvm_1_1GVNPass_1_1Expression.html#a9befc406b4248fcadb0b81079602515f">llvm::GVNPass::Expression::opcode</a></div><div class="ttdeci">uint32_t opcode</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00131">GVN.cpp:131</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValueInBlock_html_aa9760328b70e39d067e69f06fc777089"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#aa9760328b70e39d067e69f06fc777089">llvm::gvn::AvailableValueInBlock::BB</a></div><div class="ttdeci">BasicBlock * BB</div><div class="ttdoc">BB - The basic block in question.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00282">GVN.cpp:282</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryUseOrDef_html"><div class="ttname"><a href="classllvm_1_1MemoryUseOrDef.html">llvm::MemoryUseOrDef</a></div><div class="ttdoc">Class that has the common methods + fields of memory uses/defs.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00252">MemorySSA.h:252</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_aa52d0f95d2e6899148a3ac7d24b3fe6b"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#aa52d0f95d2e6899148a3ac7d24b3fe6b">llvm::gvn::AvailableValue::getSimpleValue</a></div><div class="ttdeci">Value * getSimpleValue() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00252">GVN.cpp:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="anamespacellvm_1_1VNCoercion_html_af10eb6aece68a8127f273e6a2dc0fc79"><div class="ttname"><a href="namespacellvm_1_1VNCoercion.html#af10eb6aece68a8127f273e6a2dc0fc79">llvm::VNCoercion::canCoerceMustAliasedValueToLoad</a></div><div class="ttdeci">bool canCoerceMustAliasedValueToLoad(Value *StoredVal, Type *LoadTy, const DataLayout &amp;DL)</div><div class="ttdoc">Return true if CoerceAvailableValueToLoadType would succeed if it was called.</div><div class="ttdef"><b>Definition:</b> <a href="VNCoercion_8cpp_source.html#l00018">VNCoercion.cpp:18</a></div></div>
<div class="ttc" id="aExpandLargeDivRem_8cpp_html_ae64f9cd0977a8b47570154312540d7d2"><div class="ttname"><a href="ExpandLargeDivRem_8cpp.html#ae64f9cd0977a8b47570154312540d7d2">runImpl</a></div><div class="ttdeci">static bool runImpl(Function &amp;F, const TargetLowering &amp;TLI)</div><div class="ttdef"><b>Definition:</b> <a href="ExpandLargeDivRem_8cpp_source.html#l00056">ExpandLargeDivRem.cpp:56</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">llvm::MCID::Add</a></div><div class="ttdeci">@ Add</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00186">MCInstrDesc.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="anamespaceLiveDebugValues_html_a81b68b689eaf0c725c1e591da8ddb45d"><div class="ttname"><a href="namespaceLiveDebugValues.html#a81b68b689eaf0c725c1e591da8ddb45d">LiveDebugValues::ValueTable</a></div><div class="ttdeci">std::unique_ptr&lt; ValueIDNum[]&gt; ValueTable</div><div class="ttdoc">Type for a table of values in a block.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00208">InstrRefBasedImpl.h:208</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReversePostOrderTraversal_html"><div class="ttname"><a href="classllvm_1_1ReversePostOrderTraversal.html">llvm::ReversePostOrderTraversal</a></div><div class="ttdef"><b>Definition:</b> <a href="PostOrderIterator_8h_source.html#l00293">PostOrderIterator.h:293</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4_html_a494aa24fd96d72feb42e79a3c9c614ce"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01GVNPass_1_1Expression_01_4.html#a494aa24fd96d72feb42e79a3c9c614ce">llvm::DenseMapInfo&lt; GVNPass::Expression &gt;::getHashValue</a></div><div class="ttdeci">static unsigned getHashValue(const GVNPass::Expression &amp;e)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00165">GVN.cpp:165</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdoc">A wrapper class for inspecting calls to intrinsic functions.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00047">IntrinsicInst.h:47</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_aaba901f0be98c9561867673a9057e903"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#aaba901f0be98c9561867673a9057e903">llvm::gvn::AvailableValue::isSelectValue</a></div><div class="ttdeci">bool isSelectValue() const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00250">GVN.cpp:250</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ab1faa49b43014e07caaf2bf2d3db07e4"><div class="ttname"><a href="GVN_8cpp.html#ab1faa49b43014e07caaf2bf2d3db07e4">isLifetimeStart</a></div><div class="ttdeci">static bool isLifetimeStart(const Instruction *Inst)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l01032">GVN.cpp:1032</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0e2e479cf4860dc8a00614e36ee3d5e9"><div class="ttname"><a href="namespacellvm.html#a0e2e479cf4860dc8a00614e36ee3d5e9">llvm::hash_value</a></div><div class="ttdeci">hash_code hash_value(const FixedPointSemantics &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="APFixedPoint_8h_source.html#l00128">APFixedPoint.h:128</a></div></div>
<div class="ttc" id="aInstructionPrecedenceTracking_8h_html"><div class="ttname"><a href="InstructionPrecedenceTracking_8h.html">InstructionPrecedenceTracking.h</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a9636b90b0f657b6a2d0761d780cb762c"><div class="ttname"><a href="GVN_8cpp.html#a9636b90b0f657b6a2d0761d780cb762c">MaxNumDeps</a></div><div class="ttdeci">static cl::opt&lt; uint32_t &gt; MaxNumDeps(&quot;gvn-max-num-deps&quot;, cl::Hidden, cl::init(100), cl::desc(&quot;Max number of dependences to attempt Load PRE (default = 100)&quot;))</div></div>
<div class="ttc" id="anamespacellvm_html_a7e108932dc3da5294aed99a353aac9c4"><div class="ttname"><a href="namespacellvm.html#a7e108932dc3da5294aed99a353aac9c4">llvm::pred_begin</a></div><div class="ttdeci">Interval::pred_iterator pred_begin(Interval *I)</div><div class="ttdoc">pred_begin/pred_end - define methods so that Intervals may be used just like BasicBlocks can with the...</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00109">Interval.h:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeAnalysis_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeAnalysis.html">llvm::DominatorTreeAnalysis</a></div><div class="ttdoc">Analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00279">Dominators.h:279</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a817f593f22d6f72037f5ab5c9972df61"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a817f593f22d6f72037f5ab5c9972df61">commutative</a></div><div class="ttdeci">http eax xorl edx cl sete al setne dl sall eax sall edx But that requires good bit subreg support this might be better It s an extra but it s one instruction and doesn t stress bit subreg eax eax movl edx edx sall eax sall cl edx bit we should expand to a conditional branch like GCC produces Some isel and Sequencing of Instructions Scheduling for reduced register pressure E g Minimum Register Instruction Sequence load p Because the compare isn t commutative</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00077">README.txt:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a7b4d048a84149ece45db862333dea428"><div class="ttname"><a href="classllvm_1_1Value.html#a7b4d048a84149ece45db862333dea428">llvm::Value::canBeFreed</a></div><div class="ttdeci">bool canBeFreed() const</div><div class="ttdoc">Return true if the memory object referred to by V can by freed in the scope for which the SSA value d...</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00781">Value.cpp:781</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a54155244e7b172a97fe5b3096d84fa97"><div class="ttname"><a href="classllvm_1_1Type.html#a54155244e7b172a97fe5b3096d84fa97">llvm::Type::isOpaquePointerTy</a></div><div class="ttdeci">bool isOpaquePointerTy() const</div><div class="ttdoc">True if this is an instance of an opaque PointerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00060">Type.cpp:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemark_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemark.html">llvm::OptimizationRemark</a></div><div class="ttdoc">Diagnostic information for applied optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00689">DiagnosticInfo.h:689</a></div></div>
<div class="ttc" id="aMemorySSA_8h_html"><div class="ttname"><a href="MemorySSA_8h.html">MemorySSA.h</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aPostOrderIterator_8h_html"><div class="ttname"><a href="PostOrderIterator_8h.html">PostOrderIterator.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5bd1921bd445a4cabaffca31f0c12334"><div class="ttname"><a href="namespacellvm.html#a5bd1921bd445a4cabaffca31f0c12334">llvm::initializeGVNLegacyPassPass</a></div><div class="ttdeci">void initializeGVNLegacyPassPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="aclassllvm_1_1User_html_addec638786f763d967811b45cb662f1f"><div class="ttname"><a href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00191">User.h:191</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_aaa970fc931c1c63037a8182e028d04b1"><div class="ttname"><a href="PassSupport_8h.html#aaa970fc931c1c63037a8182e028d04b1">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">#define INITIALIZE_PASS_BEGIN(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00052">PassSupport.h:52</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aInlineInfo_8cpp_html_a5db99f4b7f8744e0b1c8b50dba8ec5a2"><div class="ttname"><a href="InlineInfo_8cpp.html#a5db99f4b7f8744e0b1c8b50dba8ec5a2">lookup</a></div><div class="ttdeci">static bool lookup(const GsymReader &amp;GR, DataExtractor &amp;Data, uint64_t &amp;Offset, uint64_t BaseAddr, uint64_t Addr, SourceLocations &amp;SrcLocs, llvm::Error &amp;Err)</div><div class="ttdoc">A Lookup helper functions.</div><div class="ttdef"><b>Definition:</b> <a href="InlineInfo_8cpp_source.html#l00109">InlineInfo.cpp:109</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a28b6753822954c7bb228989ce917bec3"><div class="ttname"><a href="GVN_8cpp.html#a28b6753822954c7bb228989ce917bec3">findDominatingValue</a></div><div class="ttdeci">static Value * findDominatingValue(const MemoryLocation &amp;Loc, Type *LoadTy, Instruction *From, AAResults *AA)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l01113">GVN.cpp:1113</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4f3bf98b5054831b608852e33427814"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">llvm::Instruction::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Return the debug location for this node as a DebugLoc.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00358">Instruction.h:358</a></div></div>
<div class="ttc" id="anamespacellvm_html_add71474638430694c84640146383fc44"><div class="ttname"><a href="namespacellvm.html#add71474638430694c84640146383fc44">llvm::hash_combine</a></div><div class="ttdeci">hash_code hash_combine(const Ts &amp;...args)</div><div class="ttdoc">Combine values into a single hash_code.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00613">Hashing.h:613</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_a43c3ee8a0f5e33ecaf4100bbb86ef8f3"><div class="ttname"><a href="GVN_8cpp.html#a43c3ee8a0f5e33ecaf4100bbb86ef8f3">GVNEnableSplitBackedgeInLoadPRE</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; GVNEnableSplitBackedgeInLoadPRE(&quot;enable-split-backedge-in-load-pre&quot;, cl::init(false))</div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ab2caa29167597390ab2fc3cf30d70389"><div class="ttname"><a href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">llvm::CallBase::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01351">InstrTypes.h:1351</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceResults_html_a1fb5d4e618ecf28ecd42ab6fab5a4245"><div class="ttname"><a href="classllvm_1_1MemoryDependenceResults.html#a1fb5d4e618ecf28ecd42ab6fab5a4245">llvm::MemoryDependenceResults::NonLocalDepInfo</a></div><div class="ttdeci">std::vector&lt; NonLocalDepEntry &gt; NonLocalDepInfo</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00278">MemoryDependenceAnalysis.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResultsWrapperPass_html"><div class="ttname"><a href="classllvm_1_1AAResultsWrapperPass.html">llvm::AAResultsWrapperPass</a></div><div class="ttdoc">A wrapper pass to provide the legacy pass manager access to a suitably prepared AAResults object.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00933">AliasAnalysis.h:933</a></div></div>
<div class="ttc" id="anamespacellvm_html_af80edfc5e42059e045aa7bf7fe42bee3"><div class="ttname"><a href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">llvm::hash_combine_range</a></div><div class="ttdeci">hash_code hash_combine_range(InputIteratorT first, InputIteratorT last)</div><div class="ttdoc">Compute a hash_code for a sequence of values.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00491">Hashing.h:491</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a98c685a0c53f3f7ed5f4793890a6c850"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a98c685a0c53f3f7ed5f4793890a6c850">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::try_emplace</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; try_emplace(KeyT &amp;&amp;Key, Ts &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00222">DenseMap.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aInstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a99d640257f7689aa8095dccfb111e50c"><div class="ttname"><a href="classllvm_1_1Value.html#a99d640257f7689aa8095dccfb111e50c">llvm::Value::deleteValue</a></div><div class="ttdeci">void deleteValue()</div><div class="ttdoc">Delete a pointer to a generic Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00109">Value.cpp:109</a></div></div>
<div class="ttc" id="aGVNHoist_8cpp_html_a14ef304a9f4dec088d265125ce3adca2"><div class="ttname"><a href="GVNHoist_8cpp.html#a14ef304a9f4dec088d265125ce3adca2">Expressions</a></div><div class="ttdeci">gvn Early GVN Hoisting of Expressions</div><div class="ttdef"><b>Definition:</b> <a href="GVNHoist_8cpp_source.html#l01265">GVNHoist.cpp:1265</a></div></div>
<div class="ttc" id="anamespacellvm_1_1VNCoercion_html_a9534d3bff0727cc904e6bbc1064d2e2f"><div class="ttname"><a href="namespacellvm_1_1VNCoercion.html#a9534d3bff0727cc904e6bbc1064d2e2f">llvm::VNCoercion::analyzeLoadFromClobberingLoad</a></div><div class="ttdeci">int analyzeLoadFromClobberingLoad(Type *LoadTy, Value *LoadPtr, LoadInst *DepLI, const DataLayout &amp;DL)</div><div class="ttdoc">This function determines whether a value for the pointer LoadPtr can be extracted from the load at De...</div><div class="ttdef"><b>Definition:</b> <a href="VNCoercion_8cpp_source.html#l00317">VNCoercion.cpp:317</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalsAAWrapperPass_html"><div class="ttname"><a href="classllvm_1_1GlobalsAAWrapperPass.html">llvm::GlobalsAAWrapperPass</a></div><div class="ttdoc">Legacy wrapper pass to provide the GlobalsAAResult object.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalsModRef_8h_source.html#l00142">GlobalsModRef.h:142</a></div></div>
<div class="ttc" id="astructllvm_1_1GVNPass_1_1Expression_html"><div class="ttname"><a href="structllvm_1_1GVNPass_1_1Expression.html">llvm::GVNPass::Expression</a></div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00130">GVN.cpp:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1gvn_1_1GVNLegacyPass_html_a4fbb957c41dca25995c37de1d627cba9"><div class="ttname"><a href="classllvm_1_1gvn_1_1GVNLegacyPass.html#a4fbb957c41dca25995c37de1d627cba9">llvm::gvn::GVNLegacyPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - This function should be overriden by passes that need analysis information to do t...</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l03178">GVN.cpp:3178</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_1_1ValueTable_html_aa65e06a8ebf36de45b4859c5e3a52b03"><div class="ttname"><a href="classllvm_1_1GVNPass_1_1ValueTable.html#aa65e06a8ebf36de45b4859c5e3a52b03">llvm::GVNPass::ValueTable::phiTranslate</a></div><div class="ttdeci">uint32_t phiTranslate(const BasicBlock *BB, const BasicBlock *PhiBlock, uint32_t Num, GVNPass &amp;Gvn)</div><div class="ttdoc">Wrap phiTranslateImpl to provide caching functionality.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l02088">GVN.cpp:2088</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0"><div class="ttname"><a href="namespacellvm_1_1codeview.html#a3fd487d9643d814ffb8ef37443e70a27acad39a154bffb61175f674d6eefaf6d0">llvm::codeview::CompileSym3Flags::Exp</a></div><div class="ttdeci">@ Exp</div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a8de021e28a3c04c9216ad8decf104f02"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">const Instruction * getTerminator() const LLVM_READONLY</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00127">BasicBlock.h:127</a></div></div>
<div class="ttc" id="aGVN_8cpp_html_ae8ec32a9818e9fd7c653c86bc0c4dc7eaa20018eb9b860f3a866284b8ca0c3c31"><div class="ttname"><a href="GVN_8cpp.html#ae8ec32a9818e9fd7c653c86bc0c4dc7eaa20018eb9b860f3a866284b8ca0c3c31">AvailabilityState::SpeculativelyAvailable</a></div><div class="ttdeci">@ SpeculativelyAvailable</div><div class="ttdoc">We do not know whether the block is fully available or not, but we are currently speculating that it ...</div></div>
<div class="ttc" id="ablake3__impl_8h_html_a78823051d1dad34b9b3d8120112e674d"><div class="ttname"><a href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a></div><div class="ttdeci">static const uint32_t IV[8]</div><div class="ttdef"><b>Definition:</b> <a href="blake3__impl_8h_source.html#l00077">blake3_impl.h:77</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a0672cd4b94a2a2a421c86c60b2ce8ae9"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a0672cd4b94a2a2a421c86c60b2ce8ae9">llvm::gvn::AvailableValue::Offset</a></div><div class="ttdeci">unsigned Offset</div><div class="ttdoc">Offset - The byte offset in Val that is interesting for the load query.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00200">GVN.cpp:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1gvn_1_1GVNLegacyPass_html_abae0b190db6cb40c03cfef84b82b7ba4"><div class="ttname"><a href="classllvm_1_1gvn_1_1GVNLegacyPass.html#abae0b190db6cb40c03cfef84b82b7ba4">llvm::gvn::GVNLegacyPass::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l03151">GVN.cpp:3151</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_ac072f8698be17d52f20bb63d59e6ce41"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ac072f8698be17d52f20bb63d59e6ce41">llvm::LoadInst::isUnordered</a></div><div class="ttdeci">bool isUnordered() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00258">Instructions.h:258</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MIPatternMatch_html_abeed97c145aefd8b8974bb1947a19439"><div class="ttname"><a href="namespacellvm_1_1MIPatternMatch.html#abeed97c145aefd8b8974bb1947a19439">llvm::MIPatternMatch::m_Not</a></div><div class="ttdeci">BinaryOp_match&lt; SrcTy, SpecificConstantMatch, TargetOpcode::G_XOR, true &gt; m_Not(const SrcTy &amp;&amp;Src)</div><div class="ttdoc">Matches a register not-ed by a G_XOR.</div><div class="ttdef"><b>Definition:</b> <a href="MIPatternMatch_8h_source.html#l00774">MIPatternMatch.h:774</a></div></div>
<div class="ttc" id="anamespacellvm_html_a85d5ffd7db412c30d2e0dd46df6cf854"><div class="ttname"><a href="namespacellvm.html#a85d5ffd7db412c30d2e0dd46df6cf854">llvm::patchReplacementInstruction</a></div><div class="ttdeci">void patchReplacementInstruction(Instruction *I, Value *Repl)</div><div class="ttdoc">Patch the replacement so that it is not more restrictive than the value being replaced.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02805">Local.cpp:2805</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa29fe161c408879ada30c90ebbf55dcf"><div class="ttname"><a href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">llvm::VerifyMemorySSA</a></div><div class="ttdeci">bool VerifyMemorySSA</div><div class="ttdoc">Enables verification of MemorySSA.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00089">MemorySSA.cpp:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1GVNPass_html"><div class="ttname"><a href="classllvm_1_1GVNPass.html">llvm::GVNPass</a></div><div class="ttdoc">The core GVN pass object.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8h_source.html#l00117">GVN.h:117</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aBlockVerifier_8cpp_html_ae45c7d73c0ff5d177b59153ffae77f84"><div class="ttname"><a href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a></div><div class="ttdeci">BlockVerifier::State From</div><div class="ttdef"><b>Definition:</b> <a href="BlockVerifier_8cpp_source.html#l00055">BlockVerifier.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1SwitchInst_html"><div class="ttname"><a href="classllvm_1_1SwitchInst.html">llvm::SwitchInst</a></div><div class="ttdoc">Multiway switch.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03283">Instructions.h:3283</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ae855357b6c5e6e7ed1869272708a3a84"><div class="ttname"><a href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">llvm::Value::takeName</a></div><div class="ttdeci">void takeName(Value *V)</div><div class="ttdoc">Transfer the name from V to this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00381">Value.cpp:381</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdater_html_af0d1a82b4e629e834c2ed53e5cbe22ef"><div class="ttname"><a href="classllvm_1_1SSAUpdater.html#af0d1a82b4e629e834c2ed53e5cbe22ef">llvm::SSAUpdater::AddAvailableValue</a></div><div class="ttdeci">void AddAvailableValue(BasicBlock *BB, Value *V)</div><div class="ttdoc">Indicate that a rewritten value is available in the specified block with the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="SSAUpdater_8cpp_source.html#l00070">SSAUpdater.cpp:70</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdoc">Conditional or Unconditional Branch instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03139">Instructions.h:3139</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a901ce7389ca67dd79b8ab5b53c4a7da8"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int int d</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00418">README.txt:418</a></div></div>
<div class="ttc" id="aclassllvm_1_1SSAUpdater_html"><div class="ttname"><a href="classllvm_1_1SSAUpdater.html">llvm::SSAUpdater</a></div><div class="ttdoc">Helper class for SSA formation on a set of values defined in multiple blocks.</div><div class="ttdef"><b>Definition:</b> <a href="SSAUpdater_8h_source.html#l00039">SSAUpdater.h:39</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00685">README.txt:685</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_ab9f29688ab930e667650960bd1e3b5f6"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#ab9f29688ab930e667650960bd1e3b5f6">llvm::gvn::AvailableValue::Val</a></div><div class="ttdeci">Value * Val</div><div class="ttdoc">Val - The value that is live out of the block.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00195">GVN.cpp:195</a></div></div>
<div class="ttc" id="aBasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">llvm::tgtok::TrueVal</a></div><div class="ttdeci">@ TrueVal</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00062">TGLexer.h:62</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ac9c170fde1808bbd4436a0dbd6d5e755"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ac9c170fde1808bbd4436a0dbd6d5e755">llvm::BasicBlock::isEHPad</a></div><div class="ttdeci">bool isEHPad() const</div><div class="ttdoc">Return true if this basic block is an exception handling block.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00512">BasicBlock.h:512</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitterAnalysis_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitterAnalysis.html">llvm::OptimizationRemarkEmitterAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00164">OptimizationRemarkEmitter.h:164</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a34384400167eb6ebf71fa89d98ba03bc"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a34384400167eb6ebf71fa89d98ba03bc">llvm::SmallSet::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00157">SmallSet.h:157</a></div></div>
<div class="ttc" id="anamespacellvm_html_abe76d72cda6b2b4562c72accb510040b"><div class="ttname"><a href="namespacellvm.html#abe76d72cda6b2b4562c72accb510040b">llvm::isSafeToSpeculativelyExecute</a></div><div class="ttdeci">bool isSafeToSpeculativelyExecute(const Instruction *I, const Instruction *CtxI=nullptr, AssumptionCache *AC=nullptr, const DominatorTree *DT=nullptr, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the instruction does not have any effects besides calculating the result and does not ...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04799">ValueTracking.cpp:4799</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_a53b4d539e0cab6b6027eb49e3291e7d3"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#a53b4d539e0cab6b6027eb49e3291e7d3">llvm::gvn::AvailableValue::Kind</a></div><div class="ttdeci">ValType Kind</div><div class="ttdoc">Kind of the live-out value.</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00197">GVN.cpp:197</a></div></div>
<div class="ttc" id="astructllvm_1_1GVNPass_1_1Expression_html_a63b54431c6f3c26280339dea8c89ca61"><div class="ttname"><a href="structllvm_1_1GVNPass_1_1Expression.html#a63b54431c6f3c26280339dea8c89ca61">llvm::GVNPass::Expression::operator==</a></div><div class="ttdeci">bool operator==(const Expression &amp;other) const</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00140">GVN.cpp:140</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryAnalysis_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryAnalysis.html">llvm::TargetLibraryAnalysis</a></div><div class="ttdoc">Analysis pass providing the TargetLibraryInfo.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00540">TargetLibraryInfo.h:540</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a2b6159ef05223f67e8dd0a178377f06b"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a2b6159ef05223f67e8dd0a178377f06b">llvm::MemDepResult::isNonLocal</a></div><div class="ttdeci">bool isNonLocal() const</div><div class="ttdoc">Tests if this MemDepResult represents a query that is transparent to the start of the block,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00155">MemoryDependenceAnalysis.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a7ca5197533a9c1fb8a2bd30587fcec6b"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00152">ArrayRef.h:152</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValueInBlock_html_a2b3759c8c4cc24dcceead45a434546d0"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValueInBlock.html#a2b3759c8c4cc24dcceead45a434546d0">llvm::gvn::AvailableValueInBlock::get</a></div><div class="ttdeci">static AvailableValueInBlock get(BasicBlock *BB, Value *V, unsigned Offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00294">GVN.cpp:294</a></div></div>
<div class="ttc" id="astructllvm_1_1gvn_1_1AvailableValue_html_acf794f14bc9b47394083056177f8d831"><div class="ttname"><a href="structllvm_1_1gvn_1_1AvailableValue.html#acf794f14bc9b47394083056177f8d831">llvm::gvn::AvailableValue::getUndef</a></div><div class="ttdeci">static AvailableValue getUndef()</div><div class="ttdef"><b>Definition:</b> <a href="GVN_8cpp_source.html#l00228">GVN.cpp:228</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a213e6c0ca6e838157373b9a6018c0769"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a213e6c0ca6e838157373b9a6018c0769">llvm::PatternMatch::m_LogicalAnd</a></div><div class="ttdeci">LogicalOp_match&lt; LHS, RHS, Instruction::And &gt; m_LogicalAnd(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches L &amp;&amp; R either in the form of L &amp; R or L ? R : false.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02556">PatternMatch.h:2556</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_ad97f2e60cf22f15e0cf617af52309031"><div class="ttname"><a href="classllvm_1_1BranchInst.html#ad97f2e60cf22f15e0cf617af52309031">llvm::BranchInst::getSuccessor</a></div><div class="ttdeci">BasicBlock * getSuccessor(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03232">Instructions.h:3232</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html">llvm::MemoryLocation</a></div><div class="ttdoc">Representation for a specific memory location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00211">MemoryLocation.h:211</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAnalysis_html"><div class="ttname"><a href="classllvm_1_1LoopAnalysis.html">llvm::LoopAnalysis</a></div><div class="ttdoc">Analysis pass that exposes the LoopInfo for a function.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01268">LoopInfo.h:1268</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a396fcfee6914c76974b73c3d203da6a5"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">llvm::SmallVectorImpl::emplace_back</a></div><div class="ttdeci">reference emplace_back(ArgTypes &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00941">SmallVector.h:941</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDependenceAnalysis_html"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html">llvm::MemoryDependenceAnalysis</a></div><div class="ttdoc">An analysis that produces MemoryDependenceResults for a function.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00513">MemoryDependenceAnalysis.h:513</a></div></div>
<div class="ttc" id="aclassllvm_1_1hash__code_html"><div class="ttname"><a href="classllvm_1_1hash__code.html">llvm::hash_code</a></div><div class="ttdoc">An opaque object representing a hash code.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00074">Hashing.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a94d23373106467003722f7d6c17b1528"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, T &amp;&amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00809">SmallVector.h:809</a></div></div>
<div class="ttc" id="aclassllvm_1_1PoisonValue_html_a1bf08613fb664a2e377a9a72c59a6b66"><div class="ttname"><a href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">llvm::PoisonValue::get</a></div><div class="ttdeci">static PoisonValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'poison' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01759">Constants.cpp:1759</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemDepResult_html_a70bfd297fb0ed3a5fa0ef09b5a47b496"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a70bfd297fb0ed3a5fa0ef09b5a47b496">llvm::MemDepResult::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdoc">Tests if this MemDepResult represents a query that is an instruction definition dependency.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00148">MemoryDependenceAnalysis.h:148</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:29:37 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
