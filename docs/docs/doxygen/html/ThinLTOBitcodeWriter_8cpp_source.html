<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/IPO/ThinLTOBitcodeWriter.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_13abb262e9c52ddea8d07639819afd6c.html">IPO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ThinLTOBitcodeWriter.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ThinLTOBitcodeWriter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- ThinLTOBitcodeWriter.cpp - Bitcode writing pass for ThinLTO --------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ThinLTOBitcodeWriter_8h.html">llvm/Transforms/IPO/ThinLTOBitcodeWriter.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicAliasAnalysis_8h.html">llvm/Analysis/BasicAliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleSummaryAnalysis_8h.html">llvm/Analysis/ModuleSummaryAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProfileSummaryInfo_8h.html">llvm/Analysis/ProfileSummaryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TypeMetadataUtils_8h.html">llvm/Analysis/TypeMetadataUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitcodeWriter_8h.html">llvm/Bitcode/BitcodeWriter.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2DebugInfo_8h.html">llvm/IR/DebugInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleSymbolTable_8h.html">llvm/Object/ModuleSymbolTable.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2IPO_8h.html">llvm/Transforms/IPO.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FunctionAttrs_8h.html">llvm/Transforms/IPO/FunctionAttrs.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FunctionImport_8h.html">llvm/Transforms/IPO/FunctionImport.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LowerTypeTests_8h.html">llvm/Transforms/IPO/LowerTypeTests.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Cloning_8h.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleUtils_8h.html">llvm/Transforms/Utils/ModuleUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// Determine if a promotion alias should be created for a symbol name.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> allowPromotionAlias(<span class="keyword">const</span> std::string &amp;Name) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// Promotion aliases are used only in inline assembly. It&#39;s safe to</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">// simply skip unusual names. Subset of MCAsmInfo::isAcceptableChar()</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="comment">// and MCAsmInfoXCOFF::isAcceptableChar().</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : Name) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">if</span> (isAlnum(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == <span class="charliteral">&#39;_&#39;</span> || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// Promote each local-linkage entity defined by ExportM and used by ImportM by</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// changing visibility and appending the given ModuleId.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keywordtype">void</span> promoteInternals(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;ExportM, <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;ImportM, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ModuleId,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                      <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;GlobalValue *&gt;</a> &amp;PromoteExtra) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const Comdat *, Comdat *&gt;</a> RenamedComdats;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;ExportGV : ExportM.<a class="code" href="classllvm_1_1Module.html#af67250a18a0839c17911801ee00ec5c6">global_values</a>()) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> (!ExportGV.hasLocalLinkage())</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = ExportGV.getName();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *ImportGV = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (!PromoteExtra.<a class="code" href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">count</a>(&amp;ExportGV)) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      ImportGV = ImportM.<a class="code" href="classllvm_1_1Module.html#ab1e6423b61f37584900fbdcadeedafb6">getNamedValue</a>(Name);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordflow">if</span> (!ImportGV)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      ImportGV-&gt;<a class="code" href="classllvm_1_1Constant.html#a960620248182018e566b095f06a605df">removeDeadConstantUsers</a>();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">if</span> (ImportGV-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>()) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        ImportGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a7c733400ba8d113fd2976d4fea0db981">eraseFromParent</a>();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    std::string OldName = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.str();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    std::string NewName = (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> + ModuleId).str();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = ExportGV.getComdat())</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getName() == <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        RenamedComdats.<a class="code" href="classllvm_1_1DenseMapBase.html#a98c685a0c53f3f7ed5f4793890a6c850">try_emplace</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, ExportM.<a class="code" href="classllvm_1_1Module.html#ab83085f68d866564c5dd63143c8cac2e">getOrInsertComdat</a>(NewName));</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    ExportGV.setName(NewName);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    ExportGV.setLinkage(<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    ExportGV.setVisibility(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">if</span> (ImportGV) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      ImportGV-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(NewName);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      ImportGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Function&gt;(&amp;ExportGV) &amp;&amp; allowPromotionAlias(OldName)) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="comment">// Create a local alias with the original name to avoid breaking</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="comment">// references from inline assembly.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      std::string Alias =</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;          <span class="stringliteral">&quot;.lto_set_conditional &quot;</span> + OldName + <span class="stringliteral">&quot;,&quot;</span> + NewName + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      ExportM.<a class="code" href="classllvm_1_1Module.html#ae83cb8c91cf6fa402d682f06f7535949">appendModuleInlineAsm</a>(Alias);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (!RenamedComdats.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>())</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;GO : ExportM.<a class="code" href="classllvm_1_1Module.html#a4a84550084a35a39213e6cbdd72f26e5">global_objects</a>())</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = GO.getComdat()) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keyword">auto</span> Replacement = RenamedComdats.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">if</span> (Replacement != RenamedComdats.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;          GO.setComdat(Replacement-&gt;second);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">// Promote all internal (i.e. distinct) type ids used by the module by replacing</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">// them with external type ids formed using the module id.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">// Note that this needs to be done before we clone the module because each clone</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">// will receive its own set of distinct metadata nodes.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keywordtype">void</span> promoteTypeIds(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ModuleId) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Metadata *, Metadata *&gt;</a> LocalToGlobal;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keyword">auto</span> ExternalizeTypeId = [&amp;](<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <span class="keywordtype">unsigned</span> ArgNo) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD =</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        cast&lt;MetadataAsValue&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(ArgNo))-&gt;getMetadata();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (isa&lt;MDNode&gt;(MD) &amp;&amp; cast&lt;MDNode&gt;(MD)-&gt;isDistinct()) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&amp;GlobalMD = LocalToGlobal[MD];</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">if</span> (!GlobalMD) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        std::string NewName = (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(LocalToGlobal.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>()) + ModuleId).str();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        GlobalMD = <a class="code" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), NewName);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">setArgOperand</a>(ArgNo,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        <a class="code" href="classllvm_1_1MetadataAsValue.html#a3188a1aa0df768d8f254cd8d8fdeface">MetadataAsValue::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), GlobalMD));</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  };</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *TypeTestFunc =</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::type_test))) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : TypeTestFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keyword">auto</span> CI = cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      ExternalizeTypeId(CI, 1);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *PublicTypeTestFunc =</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::public_type_test))) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : PublicTypeTestFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keyword">auto</span> CI = cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      ExternalizeTypeId(CI, 1);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *TypeCheckedLoadFunc =</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::type_checked_load))) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : TypeCheckedLoadFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keyword">auto</span> CI = cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      ExternalizeTypeId(CI, 2);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> &amp;GO : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.global_objects()) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 1&gt;</a> MDs;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    GO.getMetadata(LLVMContext::MD_type, MDs);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    GO.eraseMetadata(LLVMContext::MD_type);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *MD : MDs) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LocalToGlobal.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(MD-&gt;getOperand(1));</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == LocalToGlobal.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        GO.addMetadata(LLVMContext::MD_type, *MD);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      GO.addMetadata(</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;          LLVMContext::MD_type,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          *<a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), {MD-&gt;getOperand(0), I-&gt;second}));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">// Drop unused globals, and drop type information from function declarations.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">// FIXME: If we made functions typeless then there would be no need to do this.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keywordtype">void</span> simplifyExternals(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *EmptyFT =</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(M)) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration() &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.use_empty()) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.eraseFromParent();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration() || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getFunctionType() == EmptyFT ||</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="comment">// Changing the type of an intrinsic may invalidate the IR.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName().startswith(<span class="stringliteral">&quot;llvm.&quot;</span>))</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *NewF =</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(EmptyFT, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                         <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getAddressSpace(), <span class="stringliteral">&quot;&quot;</span>, &amp;M);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    NewF-&gt;<a class="code" href="classllvm_1_1Function.html#afd7894f118b1d1636cff1b8de5f424e5">copyAttributesFrom</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// Only copy function attribtues.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a9e4c6c67f4b2528b5648299db4a86926">setAttributes</a>(<a class="code" href="classllvm_1_1AttributeList.html#a5cc6492c8f2e06a8bae9dc0d121fab9f">AttributeList::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(),</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                           <a class="code" href="classllvm_1_1AttributeList.html#af5dcb6d3da4b30a7d21c9fb39bbf1a68a895001b186ed51e1cb7a256dbd3545f8">AttributeList::FunctionIndex</a>,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                           <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getAttributes().getFnAttrs()));</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    NewF-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.replaceAllUsesWith(<a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(NewF, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getType()));</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.eraseFromParent();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> &amp;GV : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals())) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (GV.isDeclaration() &amp;&amp; GV.use_empty()) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      GV.eraseFromParent();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;filterModule(<a class="code" href="classllvm_1_1Module.html">Module</a> *M,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;             <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *)&gt; ShouldKeepDefinition) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  std::vector&lt;GlobalValue *&gt; V;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> &amp;GV : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;global_values())</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (!ShouldKeepDefinition(&amp;GV))</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      V.push_back(&amp;GV);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV : V)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a3e9604d679f4806943544dceaeb68149">convertToDeclaration</a>(*GV))</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      GV-&gt;eraseFromParent();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keywordtype">void</span> forEachVirtualFunction(<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">void</span>(<a class="code" href="classllvm_1_1Function.html">Function</a> *)&gt; Fn) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> Fn(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (isa&lt;GlobalValue&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;operands())</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    forEachVirtualFunction(cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>), Fn);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">// Clone any @llvm[.compiler].used over to the new module and append</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">// values whose defs were cloned into that module.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> cloneUsedGlobalVariables(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;SrcM, <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;DestM,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                     <span class="keywordtype">bool</span> CompilerUsed) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;GlobalValue *, 4&gt;</a> <a class="code" href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a019d1ca7d50cc54b995f60d456435e87">Used</a>, NewUsed;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// First collect those in the llvm[.compiler].used set.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="namespacellvm.html#afd1cdae0d7a12aa1861ac142c059f5d2">collectUsedGlobalVariables</a>(SrcM, Used, CompilerUsed);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// Next build a set of the equivalent values defined in DestM.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *V : Used) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keyword">auto</span> *GV = DestM.<a class="code" href="classllvm_1_1Module.html#ab1e6423b61f37584900fbdcadeedafb6">getNamedValue</a>(V-&gt;getName());</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (GV &amp;&amp; !GV-&gt;isDeclaration())</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      NewUsed.push_back(GV);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// Finally, add them to a llvm[.compiler].used variable in DestM.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (CompilerUsed)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="namespacellvm.html#aab730f72aa213d5ecc7d1101efda8811">appendToCompilerUsed</a>(DestM, NewUsed);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="namespacellvm.html#ae879dd14ccc28696f3d8c7b484df3c9a">appendToUsed</a>(DestM, NewUsed);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">// If it&#39;s possible to split M into regular and thin LTO parts, do so and write</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// a multi-module bitcode file with the two parts to OS. Otherwise, write only a</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// regular LTO bitcode file to OS.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keywordtype">void</span> splitAndWriteThinLTOBitcode(</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> *ThinLinkOS,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; AARGetter, <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  std::string ModuleId = <a class="code" href="namespacellvm.html#a6b8599f07b1b0181899c650b7b385b26">getUniqueModuleId</a>(&amp;M);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (ModuleId.empty()) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// We couldn&#39;t generate a module ID for this module, write it out as a</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// regular LTO module with an index for summary-based dead stripping.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> PSI(M);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.addModuleFlag(<a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a4771bacd44b97e736b819b5d06b22dfe">Module::Error</a>, <span class="stringliteral">&quot;ThinLTO&quot;</span>, <a class="code" href="classuint32__t.html">uint32_t</a>(0));</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a class="code" href="namespacellvm.html#a49170e37072dd286a1fcf76f2efec373">buildModuleSummaryIndex</a>(M, <span class="keyword">nullptr</span>, &amp;PSI);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="namespacellvm.html#a199eb3a521b35ac20b20b7460bf2dabb">WriteBitcodeToFile</a>(M, <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*ShouldPreserveUseListOrder=*/</span><span class="keyword">false</span>, &amp;<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (ThinLinkOS)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="comment">// We don&#39;t have a ThinLTO part, but still write the module to the</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="comment">// ThinLinkOS if requested so that the expected output file is produced.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <a class="code" href="namespacellvm.html#a199eb3a521b35ac20b20b7460bf2dabb">WriteBitcodeToFile</a>(M, *ThinLinkOS, <span class="comment">/*ShouldPreserveUseListOrder=*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                         &amp;<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  promoteTypeIds(M, ModuleId);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// Returns whether a global or its associated global has attached type</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">// metadata. The former may participate in CFI or whole-program</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// devirtualization, so they need to appear in the merged module instead of</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// the thin LTO module. Similarly, globals that are associated with globals</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// with type metadata need to appear in the merged module because they will</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// reference the global&#39;s section directly.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keyword">auto</span> HasTypeMetadata = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> *GO) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = GO-&gt;getMetadata(LLVMContext::MD_associated))</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AssocVM = dyn_cast_or_null&lt;ValueAsMetadata&gt;(MD-&gt;getOperand(0)))</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AssocGO = dyn_cast&lt;GlobalObject&gt;(AssocVM-&gt;getValue()))</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          <span class="keywordflow">if</span> (AssocGO-&gt;hasMetadata(LLVMContext::MD_type))</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">return</span> GO-&gt;hasMetadata(LLVMContext::MD_type);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  };</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// Collect the set of virtual functions that are eligible for virtual constant</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// propagation. Each eligible function must not access memory, must return</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// an integer of width &lt;=64 bits, must take at least one argument, must not</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// use its first argument (assumed to be &quot;this&quot;) and all arguments other than</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// the first one must be of &lt;=64 bit integer type.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// Note that we test whether this copy of the function is readnone, rather</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// than testing function attributes, which must hold for any copy of the</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// function, even a less optimized version substituted at link time. This is</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// sound because the virtual constant propagation optimizations effectively</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// inline all implementations of the virtual function into each call site,</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">// rather than using function attributes to perform local optimization.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;const Function *&gt;</a> EligibleVirtualFns;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">// If any member of a comdat lives in MergedM, put all members of that</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// comdat in MergedM to keep the comdat together.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;const Comdat *&gt;</a> MergedMComdats;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> &amp;GV : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals())</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span> (HasTypeMetadata(&amp;GV)) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = GV.getComdat())</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        MergedMComdats.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      forEachVirtualFunction(GV.getInitializer(), [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        auto *RT = dyn_cast&lt;IntegerType&gt;(F-&gt;getReturnType());</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        if (!RT || RT-&gt;getBitWidth() &gt; 64 || F-&gt;arg_empty() ||</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            !F-&gt;arg_begin()-&gt;use_empty())</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          return;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        for (auto &amp;Arg : drop_begin(F-&gt;args())) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;          auto *ArgT = dyn_cast&lt;IntegerType&gt;(Arg.getType());</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          if (!ArgT || ArgT-&gt;getBitWidth() &gt; 64)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            return;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration() &amp;&amp;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="namespacellvm.html#a12a40c8120b4946a2935d16867203310">computeFunctionBodyMemoryAccess</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, AARGetter(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                .doesNotAccessMemory())</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;          EligibleVirtualFns.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      });</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="classllvm_1_1ValueMap.html">ValueToValueMapTy</a> VMap;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  std::unique_ptr&lt;Module&gt; MergedM(</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="namespacellvm.html#ae13b67a51d9f8061d598e82272b79b80">CloneModule</a>(M, VMap, [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a43721e1e88567116e8fca545125d86bf">getComdat</a>())</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;          <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (MergedMComdats.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(GV))</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;          <span class="keywordflow">return</span> EligibleVirtualFns.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (<span class="keyword">auto</span> *GVar =</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                dyn_cast_or_null&lt;GlobalVariable&gt;(GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a788ede5201dc9b44e419e9fd2fbb38bf">getAliaseeObject</a>()))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          <span class="keywordflow">return</span> HasTypeMetadata(GVar);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      }));</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <a class="code" href="namespacellvm.html#a9b2f025559a0b80366b74285cf25c01e">StripDebugInfo</a>(*MergedM);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  MergedM-&gt;setModuleInlineAsm(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// Clone any llvm.*used globals to ensure the included values are</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="comment">// not deleted.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  cloneUsedGlobalVariables(M, *MergedM, <span class="comment">/*CompilerUsed*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  cloneUsedGlobalVariables(M, *MergedM, <span class="comment">/*CompilerUsed*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : *MergedM)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration()) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="comment">// Reset the linkage of all functions eligible for virtual constant</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="comment">// propagation. The canonical definitions live in the thin LTO module so</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="comment">// that they can be imported.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setLinkage(<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42">GlobalValue::AvailableExternallyLinkage</a>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setComdat(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;GlobalValue *&gt;</a> CfiFunctions;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : M)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> ((!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasLocalLinkage() || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasAddressTaken()) &amp;&amp; HasTypeMetadata(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      CfiFunctions.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// Remove all globals with type metadata, globals with comdats that live in</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// MergedM, and aliases pointing to such globals from the thin LTO module.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  filterModule(&amp;M, [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GVar = dyn_cast_or_null&lt;GlobalVariable&gt;(GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a788ede5201dc9b44e419e9fd2fbb38bf">getAliaseeObject</a>()))</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (HasTypeMetadata(GVar))</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a43721e1e88567116e8fca545125d86bf">getComdat</a>())</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (MergedMComdats.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  });</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  promoteInternals(*MergedM, M, ModuleId, CfiFunctions);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  promoteInternals(M, *MergedM, ModuleId, CfiFunctions);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keyword">auto</span> &amp;Ctx = MergedM-&gt;getContext();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 8&gt;</a> CfiFunctionMDs;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *V : CfiFunctions) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = *cast&lt;Function&gt;(V);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 2&gt;</a> <a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getMetadata(LLVMContext::MD_type, Types);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 4&gt;</a> Elts;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    Elts.push_back(<a class="code" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(Ctx, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName()));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6">CfiFunctionLinkage</a> <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">lowertypetests::isJumpTableCanonical</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a> = <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1">CFL_Definition</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasExternalWeakLinkage())</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a> = <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a2c774a7021d843a45dccfa54a21fa83b">CFL_WeakDeclaration</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a> = <a class="code" href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a84fe6ecd344a02c3b9ed071670b3dafa">CFL_Declaration</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    Elts.push_back(<a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(Ctx), Linkage)));</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(Elts, Types);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    CfiFunctionMDs.push_back(<a class="code" href="classllvm_1_1MDTuple.html#aa905dc9d35b8732a290b468b0aee549d">MDTuple::get</a>(Ctx, Elts));</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">if</span>(!CfiFunctionMDs.empty()) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *NMD = MergedM-&gt;getOrInsertNamedMetadata(<span class="stringliteral">&quot;cfi.functions&quot;</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *MD : CfiFunctionMDs)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">addOperand</a>(MD);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 8&gt;</a> FunctionAliases;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;A : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.aliases()) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;Function&gt;(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.getAliasee()))</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = cast&lt;Function&gt;(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.getAliasee());</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Elts[] = {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(Ctx, <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.getName()),</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(Ctx, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName()),</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(Ctx), <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.getVisibility())),</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(Ctx), <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>.isWeakForLinker())),</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    };</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    FunctionAliases.push_back(<a class="code" href="classllvm_1_1MDTuple.html#aa905dc9d35b8732a290b468b0aee549d">MDTuple::get</a>(Ctx, Elts));</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (!FunctionAliases.empty()) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *NMD = MergedM-&gt;getOrInsertNamedMetadata(<span class="stringliteral">&quot;aliases&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *MD : FunctionAliases)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">addOperand</a>(MD);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 8&gt;</a> Symvers;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <a class="code" href="classllvm_1_1ModuleSymbolTable.html#a260eabd30cac206a16723c8cd6e0c5c4">ModuleSymbolTable::CollectAsmSymvers</a>(M, [&amp;](<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Alias) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(Name);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;use_empty())</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    Symvers.push_back(<a class="code" href="classllvm_1_1MDTuple.html#aa905dc9d35b8732a290b468b0aee549d">MDTuple::get</a>(</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        Ctx, {MDString::get(Ctx, Name), MDString::get(Ctx, Alias)}));</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  });</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (!Symvers.empty()) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *NMD = MergedM-&gt;getOrInsertNamedMetadata(<span class="stringliteral">&quot;symvers&quot;</span>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *MD : Symvers)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">addOperand</a>(MD);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  simplifyExternals(*MergedM);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="comment">// FIXME: Try to re-use BSI and PFI from the original module here.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> PSI(M);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a class="code" href="namespacellvm.html#a49170e37072dd286a1fcf76f2efec373">buildModuleSummaryIndex</a>(M, <span class="keyword">nullptr</span>, &amp;PSI);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">// Mark the merged module as requiring full LTO. We still want an index for</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="comment">// it though, so that it can participate in summary-based dead stripping.</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  MergedM-&gt;addModuleFlag(<a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a4771bacd44b97e736b819b5d06b22dfe">Module::Error</a>, <span class="stringliteral">&quot;ThinLTO&quot;</span>, <a class="code" href="classuint32__t.html">uint32_t</a>(0));</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> MergedMIndex =</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <a class="code" href="namespacellvm.html#a49170e37072dd286a1fcf76f2efec373">buildModuleSummaryIndex</a>(*MergedM, <span class="keyword">nullptr</span>, &amp;PSI);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;char, 0&gt;</a> Buffer;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <a class="code" href="classllvm_1_1BitcodeWriter.html">BitcodeWriter</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>(Buffer);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="comment">// Save the module hash produced for the full bitcode, which will</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="comment">// be used in the backends, and use that in the minimized bitcode</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// produced for the full link.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="namespacellvm.html#ad659b4a55880602fe611118776230002">ModuleHash</a> ModHash = {{0}};</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.writeModule(M, <span class="comment">/*ShouldPreserveUseListOrder=*/</span><span class="keyword">false</span>, &amp;<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <span class="comment">/*GenerateHash=*/</span><span class="keyword">true</span>, &amp;ModHash);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.writeModule(*MergedM, <span class="comment">/*ShouldPreserveUseListOrder=*/</span><span class="keyword">false</span>, &amp;MergedMIndex);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.writeSymtab();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.writeStrtab();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; Buffer;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// If a minimized bitcode module was requested for the thin link, only</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">// the information that is needed by thin link will be written in the</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="comment">// given OS (the merged module will be written as usual).</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">if</span> (ThinLinkOS) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    Buffer.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="classllvm_1_1BitcodeWriter.html">BitcodeWriter</a> W2(Buffer);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="namespacellvm.html#a9b2f025559a0b80366b74285cf25c01e">StripDebugInfo</a>(M);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    W2.writeThinLinkBitcode(M, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, ModHash);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    W2.writeModule(*MergedM, <span class="comment">/*ShouldPreserveUseListOrder=*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                   &amp;MergedMIndex);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    W2.writeSymtab();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    W2.writeStrtab();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    *ThinLinkOS &lt;&lt; Buffer;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">// Check if the LTO Unit splitting has been enabled.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="keywordtype">bool</span> enableSplitLTOUnit(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordtype">bool</span> EnableSplitLTOUnit = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MD = mdconst::extract_or_null&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleFlag(<span class="stringliteral">&quot;EnableSplitLTOUnit&quot;</span>)))</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    EnableSplitLTOUnit = MD-&gt;getZExtValue();</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">return</span> EnableSplitLTOUnit;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">// Returns whether this module needs to be split because it uses type metadata.</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="keywordtype">bool</span> hasTypeMetadata(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;GO : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.global_objects()) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (GO.hasMetadata(LLVMContext::MD_type))</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="keywordtype">void</span> writeThinLTOBitcode(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> *ThinLinkOS,</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                         <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; AARGetter,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                         <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keyword">const</span> <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  std::unique_ptr&lt;ModuleSummaryIndex&gt; NewIndex = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// See if this module has any type metadata. If so, we try to split it</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// or at least promote type ids to enable WPD.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">if</span> (hasTypeMetadata(M)) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span> (enableSplitLTOUnit(M))</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="keywordflow">return</span> splitAndWriteThinLTOBitcode(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, ThinLinkOS, AARGetter, M);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// Promote type ids as needed for index-based WPD.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    std::string ModuleId = <a class="code" href="namespacellvm.html#a6b8599f07b1b0181899c650b7b385b26">getUniqueModuleId</a>(&amp;M);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (!ModuleId.empty()) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      promoteTypeIds(M, ModuleId);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="comment">// Need to rebuild the index so that it contains type metadata</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="comment">// for the newly promoted type ids.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="comment">// FIXME: Probably should not bother building the index at all</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="comment">// in the caller of writeThinLTOBitcode (which does so via the</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="comment">// ModuleSummaryIndexAnalysis pass), since we have to rebuild it</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="comment">// anyway whenever there is type metadata (here or in</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="comment">// splitAndWriteThinLTOBitcode). Just always build it once via the</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="comment">// buildModuleSummaryIndex when Module(s) are ready.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <a class="code" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> PSI(M);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      NewIndex = std::make_unique&lt;ModuleSummaryIndex&gt;(</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          <a class="code" href="namespacellvm.html#a49170e37072dd286a1fcf76f2efec373">buildModuleSummaryIndex</a>(M, <span class="keyword">nullptr</span>, &amp;PSI));</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = NewIndex.get();</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// Write it out as an unsplit ThinLTO module.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// Save the module hash produced for the full bitcode, which will</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// be used in the backends, and use that in the minimized bitcode</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">// produced for the full link.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <a class="code" href="namespacellvm.html#ad659b4a55880602fe611118776230002">ModuleHash</a> ModHash = {{0}};</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <a class="code" href="namespacellvm.html#a199eb3a521b35ac20b20b7460bf2dabb">WriteBitcodeToFile</a>(M, <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="comment">/*ShouldPreserveUseListOrder=*/</span><span class="keyword">false</span>, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>,</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                     <span class="comment">/*GenerateHash=*/</span><span class="keyword">true</span>, &amp;ModHash);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// If a minimized bitcode module was requested for the thin link, only</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">// the information that is needed by thin link will be written in the</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="comment">// given OS.</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">if</span> (ThinLinkOS &amp;&amp; <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>)</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="namespacellvm.html#a33564097625c6a9b619c60a71343c058">writeThinLinkBitcodeToFile</a>(M, *ThinLinkOS, *<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, ModHash);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;} <span class="comment">// anonymous namespace</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a></div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="classllvm_1_1ThinLTOBitcodeWriterPass.html#a407be825a5084267d383681109e30df9">  552</a></span>&#160;<a class="code" href="classllvm_1_1ThinLTOBitcodeWriterPass.html#a407be825a5084267d383681109e30df9">llvm::ThinLTOBitcodeWriterPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a> =</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1InnerAnalysisManagerProxy.html">FunctionAnalysisManagerModuleProxy</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>).getManager();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  writeThinLTOBitcode(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, ThinLinkOS,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                      [&amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp; {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                      },</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, &amp;AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1ModuleSummaryIndexAnalysis.html">ModuleSummaryIndexAnalysis</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>));</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1Module_html_af67250a18a0839c17911801ee00ec5c6"><div class="ttname"><a href="classllvm_1_1Module.html#af67250a18a0839c17911801ee00ec5c6">llvm::Module::global_values</a></div><div class="ttdeci">iterator_range&lt; global_value_iterator &gt; global_values()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00421">Module.cpp:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_ae83cb8c91cf6fa402d682f06f7535949"><div class="ttname"><a href="classllvm_1_1Module.html#ae83cb8c91cf6fa402d682f06f7535949">llvm::Module::appendModuleInlineAsm</a></div><div class="ttdeci">void appendModuleInlineAsm(StringRef Asm)</div><div class="ttdoc">Append to the module-scope inline assembly blocks.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00313">Module.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAManager_html"><div class="ttname"><a href="classllvm_1_1AAManager.html">llvm::AAManager</a></div><div class="ttdoc">A manager for alias analyses.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00885">AliasAnalysis.h:885</a></div></div>
<div class="ttc" id="aThinLTOBitcodeWriter_8h_html"><div class="ttname"><a href="ThinLTOBitcodeWriter_8h.html">ThinLTOBitcodeWriter.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9b2f025559a0b80366b74285cf25c01e"><div class="ttname"><a href="namespacellvm.html#a9b2f025559a0b80366b74285cf25c01e">llvm::StripDebugInfo</a></div><div class="ttdeci">bool StripDebugInfo(Module &amp;M)</div><div class="ttdoc">Strip debug info in the module if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00557">DebugInfo.cpp:557</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html">llvm::NamedMDNode</a></div><div class="ttdoc">A tuple of MDNodes.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01587">Metadata.h:1587</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">llvm::GlobalValue::HiddenVisibility</a></div><div class="ttdeci">@ HiddenVisibility</div><div class="ttdoc">The GV is hidden.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00064">GlobalValue.h:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00279">RISCVBaseInfo.h:279</a></div></div>
<div class="ttc" id="aFunctionImport_8h_html"><div class="ttname"><a href="FunctionImport_8h.html">FunctionImport.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndexAnalysis_html"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndexAnalysis.html">llvm::ModuleSummaryIndexAnalysis</a></div><div class="ttdoc">Analysis pass to provide the ModuleSummaryIndex object.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryAnalysis_8h_source.html#l00044">ModuleSummaryAnalysis.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a7157f9fa9dd11f234ec3c58517cb6d96"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">llvm::Intrinsic::getName</a></div><div class="ttdeci">StringRef getName(ID id)</div><div class="ttdoc">Return the LLVM name for an intrinsic, such as &quot;llvm.ppc.altivec.lvx&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00975">Function.cpp:975</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae79d05dd3d0b05e080e08f8c5c33f880"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02229">Constants.cpp:2229</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a5cc6492c8f2e06a8bae9dc0d121fab9f"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a5cc6492c8f2e06a8bae9dc0d121fab9f">llvm::AttributeList::get</a></div><div class="ttdeci">static AttributeList get(LLVMContext &amp;C, ArrayRef&lt; std::pair&lt; unsigned, Attribute &gt;&gt; Attrs)</div><div class="ttdoc">Create an AttributeList with the specified parameters in it.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01132">Attributes.cpp:1132</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a83c7e5ca51099e4efa895791a02fb0ed"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a></div><div class="ttdeci">FunctionAnalysisManager FAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00059">PassBuilderBindings.cpp:59</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1"><div class="ttname"><a href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a3fedbac88865b0c78cef42848ade7db1">llvm::CFL_Definition</a></div><div class="ttdeci">@ CFL_Definition</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8h_source.html#l00032">TypeMetadataUtils.h:32</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ZeroCallUsedRegs_html_af03f9c4ce466646943e50f317397cec0a019d1ca7d50cc54b995f60d456435e87"><div class="ttname"><a href="namespacellvm_1_1ZeroCallUsedRegs.html#af03f9c4ce466646943e50f317397cec0a019d1ca7d50cc54b995f60d456435e87">llvm::ZeroCallUsedRegs::ZeroCallUsedRegsKind::Used</a></div><div class="ttdeci">@ Used</div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAsMetadata_html_a703ab6c3e14ff7565866468d731f537a"><div class="ttname"><a href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">llvm::ConstantAsMetadata::get</a></div><div class="ttdeci">static ConstantAsMetadata * get(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00419">Metadata.h:419</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a4a84550084a35a39213e6cbdd72f26e5"><div class="ttname"><a href="classllvm_1_1Module.html#a4a84550084a35a39213e6cbdd72f26e5">llvm::Module::global_objects</a></div><div class="ttdeci">iterator_range&lt; global_object_iterator &gt; global_objects()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00413">Module.cpp:413</a></div></div>
<div class="ttc" id="aModuleSummaryAnalysis_8h_html"><div class="ttname"><a href="ModuleSummaryAnalysis_8h.html">ModuleSummaryAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8h_html"><div class="ttname"><a href="BasicAliasAnalysis_8h.html">BasicAliasAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7ba5de75f50bb4a4ba920698edf39b28"><div class="ttname"><a href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">llvm::Type::getInt8Ty</a></div><div class="ttdeci">static IntegerType * getInt8Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00239">Type.cpp:239</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_afd1cdae0d7a12aa1861ac142c059f5d2"><div class="ttname"><a href="namespacellvm.html#afd1cdae0d7a12aa1861ac142c059f5d2">llvm::collectUsedGlobalVariables</a></div><div class="ttdeci">GlobalVariable * collectUsedGlobalVariables(const Module &amp;M, SmallVectorImpl&lt; GlobalValue * &gt; &amp;Vec, bool CompilerUsed)</div><div class="ttdoc">Given &quot;llvm.used&quot; or &quot;llvm.compiler.used&quot; as a global name, collect the initializer elements of that ...</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00807">Module.cpp:807</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_ae917c72e5b8e15491cd0dbdd44d818f2"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">llvm::NamedMDNode::addOperand</a></div><div class="ttdeci">void addOperand(MDNode *M)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01221">Metadata.cpp:1221</a></div></div>
<div class="ttc" id="aclassllvm_1_1ThinLTOBitcodeWriterPass_html_a407be825a5084267d383681109e30df9"><div class="ttname"><a href="classllvm_1_1ThinLTOBitcodeWriterPass.html#a407be825a5084267d383681109e30df9">llvm::ThinLTOBitcodeWriterPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Module &amp;M, ModuleAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="ThinLTOBitcodeWriter_8cpp_source.html#l00552">ThinLTOBitcodeWriter.cpp:552</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00294">AliasAnalysis.h:294</a></div></div>
<div class="ttc" id="aBitcodeWriter_8h_html"><div class="ttname"><a href="BitcodeWriter_8h.html">BitcodeWriter.h</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdeci">@ A</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00034">ARMBaseInfo.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html"><div class="ttname"><a href="classllvm_1_1GlobalObject.html">llvm::GlobalObject</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00027">GlobalObject.h:27</a></div></div>
<div class="ttc" id="aTypeMetadataUtils_8h_html"><div class="ttname"><a href="TypeMetadataUtils_8h.html">TypeMetadataUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_aecb93439702247fe5353a9966f7cefcd"><div class="ttname"><a href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">llvm::Value::uses</a></div><div class="ttdeci">iterator_range&lt; use_iterator &gt; uses()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00376">Value.h:376</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="anamespacellvm_html_aab730f72aa213d5ecc7d1101efda8811"><div class="ttname"><a href="namespacellvm.html#aab730f72aa213d5ecc7d1101efda8811">llvm::appendToCompilerUsed</a></div><div class="ttdeci">void appendToCompilerUsed(Module &amp;M, ArrayRef&lt; GlobalValue * &gt; Values)</div><div class="ttdoc">Adds global values to the llvm.compiler.used list.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00113">ModuleUtils.cpp:113</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae8f67fbc50a05486efacc898909c8fa6a2c774a7021d843a45dccfa54a21fa83b"><div class="ttname"><a href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a2c774a7021d843a45dccfa54a21fa83b">llvm::CFL_WeakDeclaration</a></div><div class="ttdeci">@ CFL_WeakDeclaration</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8h_source.html#l00034">TypeMetadataUtils.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_afd7894f118b1d1636cff1b8de5f424e5"><div class="ttname"><a href="classllvm_1_1Function.html#afd7894f118b1d1636cff1b8de5f424e5">llvm::Function::copyAttributesFrom</a></div><div class="ttdeci">void copyAttributesFrom(const Function *Src)</div><div class="ttdoc">copyAttributesFrom - copy all additional attributes (those not needed to create a Function) from the ...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00739">Function.cpp:739</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdoc">Change the name of the value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00375">Value.cpp:375</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00344">Value.h:344</a></div></div>
<div class="ttc" id="anamespacellvm_html_a12a40c8120b4946a2935d16867203310"><div class="ttname"><a href="namespacellvm.html#a12a40c8120b4946a2935d16867203310">llvm::computeFunctionBodyMemoryAccess</a></div><div class="ttdeci">MemoryEffects computeFunctionBodyMemoryAccess(Function &amp;F, AAResults &amp;AAR)</div><div class="ttdoc">Returns the memory access properties of this copy of the function.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00233">FunctionAttrs.cpp:233</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryInfo_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryInfo.html">llvm::ProfileSummaryInfo</a></div><div class="ttdoc">Analysis providing profile information.</div><div class="ttdef"><b>Definition:</b> <a href="ProfileSummaryInfo_8h_source.html#l00040">ProfileSummaryInfo.h:40</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3e9604d679f4806943544dceaeb68149"><div class="ttname"><a href="namespacellvm.html#a3e9604d679f4806943544dceaeb68149">llvm::convertToDeclaration</a></div><div class="ttdeci">bool convertToDeclaration(GlobalValue &amp;GV)</div><div class="ttdoc">Converts value GV to declaration, or replaces with a declaration if it is an alias.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionImport_8cpp_source.html#l01016">FunctionImport.cpp:1016</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00268">DenseSet.h:268</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aProfileSummaryInfo_8h_html"><div class="ttname"><a href="ProfileSummaryInfo_8h.html">ProfileSummaryInfo.h</a></div></div>
<div class="ttc" id="aTransforms_2IPO_8h_html"><div class="ttname"><a href="Transforms_2IPO_8h.html">IPO.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aIR_2DebugInfo_8h_html"><div class="ttname"><a href="IR_2DebugInfo_8h.html">DebugInfo.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aCloning_8h_html"><div class="ttname"><a href="Cloning_8h.html">Cloning.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae879dd14ccc28696f3d8c7b484df3c9a"><div class="ttname"><a href="namespacellvm.html#ae879dd14ccc28696f3d8c7b484df3c9a">llvm::appendToUsed</a></div><div class="ttdeci">void appendToUsed(Module &amp;M, ArrayRef&lt; GlobalValue * &gt; Values)</div><div class="ttdoc">Adds global values to the llvm.used list.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00109">ModuleUtils.cpp:109</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_ab83085f68d866564c5dd63143c8cac2e"><div class="ttname"><a href="classllvm_1_1Module.html#ab83085f68d866564c5dd63143c8cac2e">llvm::Module::getOrInsertComdat</a></div><div class="ttdeci">Comdat * getOrInsertComdat(StringRef Name)</div><div class="ttdoc">Return the Comdat in the module with the specified name.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00582">Module.cpp:582</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_affbb7e2e9ad8d18114816f2443d672b9"><div class="ttname"><a href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">llvm::MDString::get</a></div><div class="ttdeci">static MDString * get(LLVMContext &amp;Context, StringRef Str)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00497">Metadata.cpp:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitcodeWriter_html"><div class="ttname"><a href="classllvm_1_1BitcodeWriter.html">llvm::BitcodeWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="BitcodeWriter_8h_source.html#l00032">BitcodeWriter.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6adbed68009f582caa84cdfd2adf36f1"><div class="ttname"><a href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, unsigned AddrSpace, const Twine &amp;N=&quot;&quot;, Module *M=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00136">Function.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDTuple_html_aa905dc9d35b8732a290b468b0aee549d"><div class="ttname"><a href="classllvm_1_1MDTuple.html#aa905dc9d35b8732a290b468b0aee549d">llvm::MDTuple::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01356">Metadata.h:1356</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_html_a199eb3a521b35ac20b20b7460bf2dabb"><div class="ttname"><a href="namespacellvm.html#a199eb3a521b35ac20b20b7460bf2dabb">llvm::WriteBitcodeToFile</a></div><div class="ttdeci">void WriteBitcodeToFile(const Module &amp;M, raw_ostream &amp;Out, bool ShouldPreserveUseListOrder=false, const ModuleSummaryIndex *Index=nullptr, bool GenerateHash=false, ModuleHash *ModHash=nullptr)</div><div class="ttdoc">Write the specified module to the specified raw output stream.</div><div class="ttdef"><b>Definition:</b> <a href="BitcodeWriter_8cpp_source.html#l04880">BitcodeWriter.cpp:4880</a></div></div>
<div class="ttc" id="aModuleSymbolTable_8h_html"><div class="ttname"><a href="ModuleSymbolTable_8h.html">ModuleSymbolTable.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_a960620248182018e566b095f06a605df"><div class="ttname"><a href="classllvm_1_1Constant.html#a960620248182018e566b095f06a605df">llvm::Constant::removeDeadConstantUsers</a></div><div class="ttdeci">void removeDeadConstantUsers() const</div><div class="ttdoc">If there are any dead constant users dangling off of this constant, remove them.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00710">Constants.cpp:710</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">llvm::logicalview::LVCompareKind::Types</a></div><div class="ttdeci">@ Types</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="ainclude_2llvm_2Support_2CMakeLists_8txt_html_aef9367eb0b7430eaf70b1f2725488f2a"><div class="ttname"><a href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a></div><div class="ttdeci">if(llvm_vc STREQUAL &quot;&quot;) set(fake_version_inc &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Support_2CMakeLists_8txt_source.html#l00014">CMakeLists.txt:14</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aLowerTypeTests_8h_html"><div class="ttname"><a href="LowerTypeTests_8h.html">LowerTypeTests.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42">llvm::GlobalValue::AvailableExternallyLinkage</a></div><div class="ttdeci">@ AvailableExternallyLinkage</div><div class="ttdoc">Available for inspection, not emission.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00049">GlobalValue.h:49</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_html_abee99c9c75d23a0304e5e58e3128a55f"><div class="ttname"><a href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">llvm::jitlink::Linkage</a></div><div class="ttdeci">Linkage</div><div class="ttdoc">Describes symbol linkage.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l00372">JITLink.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a788ede5201dc9b44e419e9fd2fbb38bf"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a788ede5201dc9b44e419e9fd2fbb38bf">llvm::GlobalValue::getAliaseeObject</a></div><div class="ttdeci">const GlobalObject * getAliaseeObject() const</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00369">Globals.cpp:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293a4771bacd44b97e736b819b5d06b22dfe"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a4771bacd44b97e736b819b5d06b22dfe">llvm::Module::Error</a></div><div class="ttdeci">@ Error</div><div class="ttdoc">Emits an error if two values disagree, otherwise the resulting value is that of the operands.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00118">Module.h:118</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueMap_html"><div class="ttname"><a href="classllvm_1_1ValueMap.html">llvm::ValueMap&lt; const Value *, WeakTrackingVH &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_abc10b887caad109288ffceb230493a85"><div class="ttname"><a href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">llvm::CallBase::setArgOperand</a></div><div class="ttdeci">void setArgOperand(unsigned i, Value *v)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01356">InstrTypes.h:1356</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a7c733400ba8d113fd2976d4fea0db981"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a7c733400ba8d113fd2976d4fea0db981">llvm::GlobalValue::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing module and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00088">Globals.cpp:88</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSymbolTable_html_a260eabd30cac206a16723c8cd6e0c5c4"><div class="ttname"><a href="classllvm_1_1ModuleSymbolTable.html#a260eabd30cac206a16723c8cd6e0c5c4">llvm::ModuleSymbolTable::CollectAsmSymvers</a></div><div class="ttdeci">static void CollectAsmSymvers(const Module &amp;M, function_ref&lt; void(StringRef, StringRef)&gt; AsmSymver)</div><div class="ttdoc">Parse inline ASM and collect the symvers directives that are defined in the current module.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSymbolTable_8cpp_source.html#l00167">ModuleSymbolTable.cpp:167</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataAsValue_html_a3188a1aa0df768d8f254cd8d8fdeface"><div class="ttname"><a href="classllvm_1_1MetadataAsValue.html#a3188a1aa0df768d8f254cd8d8fdeface">llvm::MetadataAsValue::get</a></div><div class="ttdeci">static MetadataAsValue * get(LLVMContext &amp;Context, Metadata *MD)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00102">Metadata.cpp:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a43721e1e88567116e8fca545125d86bf"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a43721e1e88567116e8fca545125d86bf">llvm::GlobalValue::getComdat</a></div><div class="ttdeci">const Comdat * getComdat() const</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00185">Globals.cpp:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a3d95cc2d359b8d9ed5bd9504b44930b5"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00099">DenseMap.h:99</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a21c2c6ae5ec23004dc4020eacf83bbce"><div class="ttname"><a href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">llvm::SetVector::count</a></div><div class="ttdeci">size_type count(const key_type &amp;key) const</div><div class="ttdoc">Count the number of elements of a given key in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00208">SetVector.h:208</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b8599f07b1b0181899c650b7b385b26"><div class="ttname"><a href="namespacellvm.html#a6b8599f07b1b0181899c650b7b385b26">llvm::getUniqueModuleId</a></div><div class="ttdeci">std::string getUniqueModuleId(Module *M)</div><div class="ttdoc">Produce a unique identifier for this module by taking the MD5 sum of the names of the module's strong...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00296">ModuleUtils.cpp:296</a></div></div>
<div class="ttc" id="anamespacellvm_html_a49170e37072dd286a1fcf76f2efec373"><div class="ttname"><a href="namespacellvm.html#a49170e37072dd286a1fcf76f2efec373">llvm::buildModuleSummaryIndex</a></div><div class="ttdeci">ModuleSummaryIndex buildModuleSummaryIndex(const Module &amp;M, std::function&lt; BlockFrequencyInfo *(const Function &amp;F)&gt; GetBFICallback, ProfileSummaryInfo *PSI, std::function&lt; const StackSafetyInfo *(const Function &amp;F)&gt; GetSSICallback=[](const Function &amp;F) -&gt; const StackSafetyInfo *{ return nullptr;})</div><div class="ttdoc">Direct function to compute a ModuleSummaryIndex from a given module.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryAnalysis_8cpp_source.html#l00737">ModuleSummaryAnalysis.cpp:737</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae8f67fbc50a05486efacc898909c8fa6"><div class="ttname"><a href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6">llvm::CfiFunctionLinkage</a></div><div class="ttdeci">CfiFunctionLinkage</div><div class="ttdoc">The type of CFI jumptable needed for a function.</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8h_source.html#l00031">TypeMetadataUtils.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_html_a33564097625c6a9b619c60a71343c058"><div class="ttname"><a href="namespacellvm.html#a33564097625c6a9b619c60a71343c058">llvm::writeThinLinkBitcodeToFile</a></div><div class="ttdeci">void writeThinLinkBitcodeToFile(const Module &amp;M, raw_ostream &amp;Out, const ModuleSummaryIndex &amp;Index, const ModuleHash &amp;ModHash)</div><div class="ttdoc">Write the specified thin link bitcode file (i.e., the minimized bitcode file) to the given raw output...</div><div class="ttdef"><b>Definition:</b> <a href="BitcodeWriter_8cpp_source.html#l05085">BitcodeWriter.cpp:5085</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdeci">@ ExternalLinkage</div><div class="ttdoc">Externally visible function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00048">GlobalValue.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_af5dcb6d3da4b30a7d21c9fb39bbf1a68a895001b186ed51e1cb7a256dbd3545f8"><div class="ttname"><a href="classllvm_1_1AttributeList.html#af5dcb6d3da4b30a7d21c9fb39bbf1a68a895001b186ed51e1cb7a256dbd3545f8">llvm::AttributeList::FunctionIndex</a></div><div class="ttdeci">@ FunctionIndex</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00436">Attributes.h:436</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00224">Type.cpp:224</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html">llvm::ModuleSummaryIndex</a></div><div class="ttdoc">Class to hold module path string table and global value map, and encapsulate methods for operating on...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01199">ModuleSummaryIndex.h:1199</a></div></div>
<div class="ttc" id="aModuleUtils_8h_html"><div class="ttname"><a href="ModuleUtils_8h.html">ModuleUtils.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae13b67a51d9f8061d598e82272b79b80"><div class="ttname"><a href="namespacellvm.html#ae13b67a51d9f8061d598e82272b79b80">llvm::CloneModule</a></div><div class="ttdeci">std::unique_ptr&lt; Module &gt; CloneModule(const Module &amp;M)</div><div class="ttdoc">Return an exact copy of the specified module.</div><div class="ttdef"><b>Definition:</b> <a href="CloneModule_8cpp_source.html#l00037">CloneModule.cpp:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ab2caa29167597390ab2fc3cf30d70389"><div class="ttname"><a href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">llvm::CallBase::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01351">InstrTypes.h:1351</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a98c685a0c53f3f7ed5f4793890a6c850"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a98c685a0c53f3f7ed5f4793890a6c850">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::try_emplace</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; try_emplace(KeyT &amp;&amp;Key, Ts &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00222">DenseMap.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1InnerAnalysisManagerProxy_html"><div class="ttname"><a href="classllvm_1_1InnerAnalysisManagerProxy.html">llvm::InnerAnalysisManagerProxy</a></div><div class="ttdoc">An analysis over an &quot;outer&quot; IR unit that provides access to an analysis manager over an &quot;inner&quot; IR un...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00931">PassManager.h:931</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ae855357b6c5e6e7ed1869272708a3a84"><div class="ttname"><a href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">llvm::Value::takeName</a></div><div class="ttdeci">void takeName(Value *V)</div><div class="ttdoc">Transfer the name from V to this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00381">Value.cpp:381</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html"><div class="ttname"><a href="classllvm_1_1SetVector.html">llvm::SetVector</a></div><div class="ttdoc">A vector that has set insertion semantics.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00040">SetVector.h:40</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lowertypetests_html_ab6535371eaec8620c84bbb0689535dbb"><div class="ttname"><a href="namespacellvm_1_1lowertypetests.html#ab6535371eaec8620c84bbb0689535dbb">llvm::lowertypetests::isJumpTableCanonical</a></div><div class="ttdeci">bool isJumpTableCanonical(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="LowerTypeTests_8cpp_source.html#l00240">LowerTypeTests.cpp:240</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad659b4a55880602fe611118776230002"><div class="ttname"><a href="namespacellvm.html#ad659b4a55880602fe611118776230002">llvm::ModuleHash</a></div><div class="ttdeci">std::array&lt; uint32_t, 5 &gt; ModuleHash</div><div class="ttdoc">160 bits SHA1</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01154">ModuleSummaryIndex.h:1154</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a9e4c6c67f4b2528b5648299db4a86926"><div class="ttname"><a href="classllvm_1_1Function.html#a9e4c6c67f4b2528b5648299db4a86926">llvm::Function::setAttributes</a></div><div class="ttdeci">void setAttributes(AttributeList Attrs)</div><div class="ttdoc">Set the attribute list for this Function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00316">Function.h:316</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aa242d8ab89216c14beab812e07009b2a"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">llvm::GlobalValue::setVisibility</a></div><div class="ttdeci">void setVisibility(VisibilityTypes V)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00250">GlobalValue.h:250</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae8f67fbc50a05486efacc898909c8fa6a84fe6ecd344a02c3b9ed071670b3dafa"><div class="ttname"><a href="namespacellvm.html#ae8f67fbc50a05486efacc898909c8fa6a84fe6ecd344a02c3b9ed071670b3dafa">llvm::CFL_Declaration</a></div><div class="ttdeci">@ CFL_Declaration</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8h_source.html#l00033">TypeMetadataUtils.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aFunctionAttrs_8h_html"><div class="ttname"><a href="FunctionAttrs_8h.html">FunctionAttrs.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_ab1e6423b61f37584900fbdcadeedafb6"><div class="ttname"><a href="classllvm_1_1Module.html#ab1e6423b61f37584900fbdcadeedafb6">llvm::Module::getNamedValue</a></div><div class="ttdeci">GlobalValue * getNamedValue(StringRef Name) const</div><div class="ttdoc">Return the global value in the module with the specified name, of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00110">Module.cpp:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdoc">Class to represent function types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00103">DerivedTypes.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:27:16 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
