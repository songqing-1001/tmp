<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/ExecutionEngine/Orc/Speculation.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_9ff4c6dc1720636682ab045c894e9bc5.html">ExecutionEngine</a></li><li class="navelem"><a class="el" href="dir_5e11c450ca4c873ca81149e572d5ac9a.html">Orc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Speculation.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Speculation_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===---------- speculation.cpp - Utilities for Speculation ----------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Speculation_8h.html">llvm/ExecutionEngine/Orc/Speculation.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Verifier_8h.html">llvm/IR/Verifier.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">namespace </span>orc {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// ImplSymbolMap methods</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1ImplSymbolMap.html#a3b0cd2b18017842eb8c3b1fbc8b640c6">   25</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1ImplSymbolMap.html#a3b0cd2b18017842eb8c3b1fbc8b640c6">ImplSymbolMap::trackImpls</a>(<a class="code" href="classllvm_1_1DenseMap.html">SymbolAliasMap</a> ImplMaps, <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> *SrcJD) {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcJD &amp;&amp; <span class="stringliteral">&quot;Tracking on Null Source .impl dylib&quot;</span>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  std::lock_guard&lt;std::mutex&gt; Lockit(ConcurrentAccess);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : ImplMaps) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keyword">auto</span> It = Maps.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first, {<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.Aliasee, SrcJD}});</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">// check rationale when independent dylibs have same symbol name?</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(It.second &amp;&amp; <span class="stringliteral">&quot;ImplSymbols are already tracked for this Symbol?&quot;</span>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    (void)(It);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// Trigger Speculative Compiles.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keywordtype">void</span> Speculator::speculateForEntryPoint(<a class="code" href="classllvm_1_1orc_1_1Speculator.html">Speculator</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> StubId) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> &amp;&amp; <span class="stringliteral">&quot; Null Address Received in orc_speculate_for &quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;speculateFor(StubId);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1Speculator.html#aa6a0f8e9226177178d049976fd7394be">   42</a></span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="classllvm_1_1orc_1_1Speculator.html#aa6a0f8e9226177178d049976fd7394be">Speculator::addSpeculationRuntime</a>(<a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;JD,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                        <a class="code" href="classllvm_1_1orc_1_1MangleAndInterner.html">MangleAndInterner</a> &amp;Mangle) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="classllvm_1_1JITEvaluatedSymbol.html">JITEvaluatedSymbol</a> ThisPtr(<a class="code" href="namespacellvm.html#ad45784477eeb166c43e4fba106ef5d2c">pointerToJITTargetAddress</a>(<span class="keyword">this</span>),</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                             <a class="code" href="classllvm_1_1JITSymbolFlags.html#ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8">JITSymbolFlags::Exported</a>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="classllvm_1_1JITEvaluatedSymbol.html">JITEvaluatedSymbol</a> SpeculateForEntryPtr(</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <a class="code" href="namespacellvm.html#ad45784477eeb166c43e4fba106ef5d2c">pointerToJITTargetAddress</a>(&amp;speculateForEntryPoint),</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <a class="code" href="classllvm_1_1JITSymbolFlags.html#ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8">JITSymbolFlags::Exported</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">return</span> JD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#a5ec8631eb0c37168d6f85c4ecad77747">define</a>(<a class="code" href="namespacellvm_1_1orc.html#aad6c1b2ed5f6caf1e576fdd27baa6697">absoluteSymbols</a>({</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      {Mangle(<span class="stringliteral">&quot;__orc_speculator&quot;</span>), ThisPtr},                <span class="comment">// Data Symbol</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      {Mangle(<span class="stringliteral">&quot;__orc_speculate_for&quot;</span>), SpeculateForEntryPtr} <span class="comment">// Callable Symbol</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// If two modules, share the same LLVMContext, different threads must</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">// not access them concurrently without locking the associated LLVMContext</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// this implementation follows this contract.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1IRSpeculationLayer.html#ac443c17bb572b2276321acc44b417ec7">   58</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1orc_1_1IRSpeculationLayer.html#ac443c17bb572b2276321acc44b417ec7">IRSpeculationLayer::emit</a>(std::unique_ptr&lt;MaterializationResponsibility&gt; R,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                              <a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html">ThreadSafeModule</a> TSM) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TSM &amp;&amp; <span class="stringliteral">&quot;Speculation Layer received Null Module ?&quot;</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TSM.<a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html#a005c94184fdf73cdac56be7b8f17fc12">getContext</a>().<a class="code" href="classllvm_1_1orc_1_1ThreadSafeContext.html#ad1ac59f8b41cb69ec2be3a33a159788e">getContext</a>() != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;         <span class="stringliteral">&quot;Module with null LLVMContext?&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// Instrumentation of runtime calls, lock the Module</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  TSM.<a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html#a5dc53e9bbda9066a1ade839494fe0cd9">withModuleDo</a>([<span class="keyword">this</span>, &amp;R](<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keyword">auto</span> &amp;MContext = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">auto</span> SpeculatorVTy = <a class="code" href="classllvm_1_1StructType.html#a82648246c07eb8a33f628eea28cb988c">StructType::create</a>(MContext, <span class="stringliteral">&quot;Class.Speculator&quot;</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">auto</span> RuntimeCallTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(MContext),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        {SpeculatorVTy-&gt;<a class="code" href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">getPointerTo</a>(), <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(MContext)}, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">auto</span> RuntimeCall =</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(RuntimeCallTy, Function::LinkageTypes::ExternalLinkage,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                         <span class="stringliteral">&quot;__orc_speculate_for&quot;</span>, &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">auto</span> SpeclAddr = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, SpeculatorVTy, <span class="keyword">false</span>, GlobalValue::LinkageTypes::ExternalLinkage,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;__orc_speculator&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> Mutator(MContext);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// QueryAnalysis allowed to transform the IR source, one such example is</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// Simplify CFG helps the static branch prediction heuristics!</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Fn : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunctionList()) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">if</span> (!Fn.isDeclaration()) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keyword">auto</span> IRNames = QueryAnalysis(Fn);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="comment">// Instrument and register if Query has result</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> (IRNames) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;          <span class="comment">// Emit globals for each function.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;          <span class="keyword">auto</span> LoadValueTy = <a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(MContext);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;          <span class="keyword">auto</span> SpeculatorGuard = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;              <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, LoadValueTy, <span class="keyword">false</span>, GlobalValue::LinkageTypes::InternalLinkage,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(LoadValueTy, 0),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;              <span class="stringliteral">&quot;__orc_speculate.guard.for.&quot;</span> + Fn.<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;          SpeculatorGuard-&gt;setAlignment(<a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1));</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          SpeculatorGuard-&gt;setUnnamedAddr(<a class="code" href="classllvm_1_1GlobalValue.html#ae8df4be75bfc50b1eadd74e85c25fa45a509820290d57f333403f490dde7316f4">GlobalValue::UnnamedAddr::Local</a>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;ProgramEntry = Fn.getEntryBlock();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;          <span class="comment">// Create BasicBlocks before the program&#39;s entry basicblock</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *SpeculateBlock = <a class="code" href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">BasicBlock::Create</a>(</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;              MContext, <span class="stringliteral">&quot;__orc_speculate.block&quot;</span>, &amp;Fn, &amp;ProgramEntry);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *SpeculateDecisionBlock = <a class="code" href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">BasicBlock::Create</a>(</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;              MContext, <span class="stringliteral">&quot;__orc_speculate.decision.block&quot;</span>, &amp;Fn, SpeculateBlock);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SpeculateDecisionBlock == &amp;Fn.getEntryBlock() &amp;&amp;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                 <span class="stringliteral">&quot;SpeculateDecisionBlock not updated?&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;          Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(SpeculateDecisionBlock);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;          <span class="keyword">auto</span> LoadGuard =</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;              Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(LoadValueTy, SpeculatorGuard, <span class="stringliteral">&quot;guard.value&quot;</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;          <span class="comment">// if just loaded value equal to 0,return true.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          <span class="keyword">auto</span> CanSpeculate =</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;              Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#a86d9ee5c4a2560ea49adf705ffa0e63a">CreateICmpEQ</a>(LoadGuard, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(LoadValueTy, 0),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                   <span class="stringliteral">&quot;compare.to.speculate&quot;</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;          Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8e9aa4e5a6d9f4480322e154153bec2b">CreateCondBr</a>(CanSpeculate, SpeculateBlock, &amp;ProgramEntry);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;          Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(SpeculateBlock);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          <span class="keyword">auto</span> ImplAddrToUint =</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;              Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#adb1729480bdc1b9222e15c7be52d41ec">CreatePtrToInt</a>(&amp;Fn, <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(MContext));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;          Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(RuntimeCallTy, RuntimeCall,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                             {SpeclAddr, ImplAddrToUint});</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;          Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(LoadValueTy, 1),</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                              SpeculatorGuard);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;          Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#a9d4ffac19ab652be9d311a0d91e1c319">CreateBr</a>(&amp;ProgramEntry);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Mutator.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae3f9633c349ede5341aa376d9c97dd8f">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>() == &amp;Fn &amp;&amp;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                 <span class="stringliteral">&quot;IR builder association mismatch?&quot;</span>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;          S.<a class="code" href="classllvm_1_1orc_1_1Speculator.html#ad197c9995bf568c245d6f7e753320f64">registerSymbols</a>(internToJITSymbols(*IRNames),</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                            &amp;R-&gt;getTargetJITDylib());</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  });</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!TSM.<a class="code" href="classllvm_1_1orc_1_1ThreadSafeModule.html#a5dc53e9bbda9066a1ade839494fe0cd9">withModuleDo</a>([](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) { return verifyModule(M); }) &amp;&amp;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;         <span class="stringliteral">&quot;Speculation Instrumentation breaks IR?&quot;</span>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  NextLayer.<a class="code" href="classllvm_1_1orc_1_1IRLayer.html#a3432ce8c435e826875e4476505a4c2fc">emit</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(R), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(TSM));</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;} <span class="comment">// namespace orc</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;} <span class="comment">// namespace llvm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7d1a18dc150da601587ccc716e0e4b41"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">llvm::IRBuilderBase::CreateStore</a></div><div class="ttdeci">StoreInst * CreateStore(Value *Val, Value *Ptr, bool isVolatile=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01718">IRBuilder.h:1718</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ace45cae6925c65e9d6916e09dd5b17cc"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">llvm::IRBuilderBase::SetInsertPoint</a></div><div class="ttdeci">void SetInsertPoint(BasicBlock *TheBB)</div><div class="ttdoc">This specifies that created instructions should be appended to the end of the specified block.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00180">IRBuilder.h:180</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html">llvm::orc::JITDylib</a></div><div class="ttdoc">Represents a JIT'd dynamic library.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l00961">Core.h:961</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aSpeculation_8h_html"><div class="ttname"><a href="Speculation_8h.html">Speculation.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_adb1729480bdc1b9222e15c7be52d41ec"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#adb1729480bdc1b9222e15c7be52d41ec">llvm::IRBuilderBase::CreatePtrToInt</a></div><div class="ttdeci">Value * CreatePtrToInt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01998">IRBuilder.h:1998</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a9d4ffac19ab652be9d311a0d91e1c319"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a9d4ffac19ab652be9d311a0d91e1c319">llvm::IRBuilderBase::CreateBr</a></div><div class="ttdeci">BranchInst * CreateBr(BasicBlock *Dest)</div><div class="ttdoc">Create an unconditional 'br label X' instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01029">IRBuilder.h:1029</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ThreadSafeModule_html_a005c94184fdf73cdac56be7b8f17fc12"><div class="ttname"><a href="classllvm_1_1orc_1_1ThreadSafeModule.html#a005c94184fdf73cdac56be7b8f17fc12">llvm::orc::ThreadSafeModule::getContext</a></div><div class="ttdeci">ThreadSafeContext getContext() const</div><div class="ttdoc">Returns the context for this ThreadSafeModule.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSafeModule_8h_source.html#l00162">ThreadSafeModule.h:162</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html_a82648246c07eb8a33f628eea28cb988c"><div class="ttname"><a href="classllvm_1_1StructType.html#a82648246c07eb8a33f628eea28cb988c">llvm::StructType::create</a></div><div class="ttdeci">static StructType * create(LLVMContext &amp;Context, StringRef Name)</div><div class="ttdoc">This creates an identified struct.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00515">Type.cpp:515</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7ba5de75f50bb4a4ba920698edf39b28"><div class="ttname"><a href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">llvm::Type::getInt8Ty</a></div><div class="ttdeci">static IntegerType * getInt8Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00239">Type.cpp:239</a></div></div>
<div class="ttc" id="aclassllvm_1_1JITEvaluatedSymbol_html"><div class="ttname"><a href="classllvm_1_1JITEvaluatedSymbol.html">llvm::JITEvaluatedSymbol</a></div><div class="ttdoc">Represents a symbol that has been evaluated to an address already.</div><div class="ttdef"><b>Definition:</b> <a href="JITSymbol_8h_source.html#l00229">JITSymbol.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_ae8df4be75bfc50b1eadd74e85c25fa45a509820290d57f333403f490dde7316f4"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ae8df4be75bfc50b1eadd74e85c25fa45a509820290d57f333403f490dde7316f4">llvm::GlobalValue::UnnamedAddr::Local</a></div><div class="ttdeci">@ Local</div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a132a883efbc512ce6325d5f751bb3672"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">llvm::IRBuilderBase::CreateLoad</a></div><div class="ttdeci">LoadInst * CreateLoad(Type *Ty, Value *Ptr, const char *Name)</div><div class="ttdoc">Provided to resolve 'CreateLoad(Ty, Ptr, &quot;...&quot;)' correctly, instead of converting the string to 'bool...</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01705">IRBuilder.h:1705</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1Speculator_html_aa6a0f8e9226177178d049976fd7394be"><div class="ttname"><a href="classllvm_1_1orc_1_1Speculator.html#aa6a0f8e9226177178d049976fd7394be">llvm::orc::Speculator::addSpeculationRuntime</a></div><div class="ttdeci">Error addSpeculationRuntime(JITDylib &amp;JD, MangleAndInterner &amp;Mangle)</div><div class="ttdoc">Define symbols for this Speculator object (__orc_speculator) and the speculation runtime entry point ...</div><div class="ttdef"><b>Definition:</b> <a href="Speculation_8cpp_source.html#l00042">Speculation.cpp:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1Speculator_html"><div class="ttname"><a href="classllvm_1_1orc_1_1Speculator.html">llvm::orc::Speculator</a></div><div class="ttdef"><b>Definition:</b> <a href="Speculation_8h_source.html#l00060">Speculation.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1IRLayer_html_a3432ce8c435e826875e4476505a4c2fc"><div class="ttname"><a href="classllvm_1_1orc_1_1IRLayer.html#a3432ce8c435e826875e4476505a4c2fc">llvm::orc::IRLayer::emit</a></div><div class="ttdeci">virtual void emit(std::unique_ptr&lt; MaterializationResponsibility &gt; R, ThreadSafeModule TSM)=0</div><div class="ttdoc">Emit should materialize the given IR.</div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ThreadSafeContext_html_ad1ac59f8b41cb69ec2be3a33a159788e"><div class="ttname"><a href="classllvm_1_1orc_1_1ThreadSafeContext.html#ad1ac59f8b41cb69ec2be3a33a159788e">llvm::orc::ThreadSafeContext::getContext</a></div><div class="ttdeci">LLVMContext * getContext()</div><div class="ttdoc">Returns a pointer to the LLVMContext that was used to construct this instance, or null if the instanc...</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSafeModule_8h_source.html#l00061">ThreadSafeModule.h:61</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; SymbolStringPtr, SymbolAliasMapEntry &gt;</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6adbed68009f582caa84cdfd2adf36f1"><div class="ttname"><a href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, unsigned AddrSpace, const Twine &amp;N=&quot;&quot;, Module *M=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00136">Function.h:136</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1Speculator_html_ad197c9995bf568c245d6f7e753320f64"><div class="ttname"><a href="classllvm_1_1orc_1_1Speculator.html#ad197c9995bf568c245d6f7e753320f64">llvm::orc::Speculator::registerSymbols</a></div><div class="ttdeci">void registerSymbols(FunctionCandidatesMap Candidates, JITDylib *JD)</div><div class="ttdef"><b>Definition:</b> <a href="Speculation_8h_source.html#l00139">Speculation.h:139</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ThreadSafeModule_html_a5dc53e9bbda9066a1ade839494fe0cd9"><div class="ttname"><a href="classllvm_1_1orc_1_1ThreadSafeModule.html#a5dc53e9bbda9066a1ade839494fe0cd9">llvm::orc::ThreadSafeModule::withModuleDo</a></div><div class="ttdeci">decltype(auto) withModuleDo(Func &amp;&amp;F)</div><div class="ttdoc">Locks the associated ThreadSafeContext and calls the given function on the contained Module.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSafeModule_8h_source.html#l00133">ThreadSafeModule.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a86d9ee5c4a2560ea49adf705ffa0e63a"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a86d9ee5c4a2560ea49adf705ffa0e63a">llvm::IRBuilderBase::CreateICmpEQ</a></div><div class="ttdeci">Value * CreateICmpEQ(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02122">IRBuilder.h:2122</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ace940beeee97c222f836fe0ac70f6cf5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">llvm::BasicBlock::Create</a></div><div class="ttdeci">static BasicBlock * Create(LLVMContext &amp;Context, const Twine &amp;Name=&quot;&quot;, Function *Parent=nullptr, BasicBlock *InsertBefore=nullptr)</div><div class="ttdoc">Creates a new BasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00105">BasicBlock.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a8e9aa4e5a6d9f4480322e154153bec2b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a8e9aa4e5a6d9f4480322e154153bec2b">llvm::IRBuilderBase::CreateCondBr</a></div><div class="ttdeci">BranchInst * CreateCondBr(Value *Cond, BasicBlock *True, BasicBlock *False, MDNode *BranchWeights=nullptr, MDNode *Unpredictable=nullptr)</div><div class="ttdoc">Create a conditional 'br Cond, TrueDest, FalseDest' instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01035">IRBuilder.h:1035</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad45784477eeb166c43e4fba106ef5d2c"><div class="ttname"><a href="namespacellvm.html#ad45784477eeb166c43e4fba106ef5d2c">llvm::pointerToJITTargetAddress</a></div><div class="ttdeci">JITTargetAddress pointerToJITTargetAddress(T *Ptr)</div><div class="ttdoc">Convert a pointer to a JITTargetAddress.</div><div class="ttdef"><b>Definition:</b> <a href="JITSymbol_8h_source.html#l00069">JITSymbol.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MangleAndInterner_html"><div class="ttname"><a href="classllvm_1_1orc_1_1MangleAndInterner.html">llvm::orc::MangleAndInterner</a></div><div class="ttdoc">Mangles symbol names then uniques them in the context of an ExecutionSession.</div><div class="ttdef"><b>Definition:</b> <a href="Mangling_8h_source.html#l00026">Mangling.h:26</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ImplSymbolMap_html_a3b0cd2b18017842eb8c3b1fbc8b640c6"><div class="ttname"><a href="classllvm_1_1orc_1_1ImplSymbolMap.html#a3b0cd2b18017842eb8c3b1fbc8b640c6">llvm::orc::ImplSymbolMap::trackImpls</a></div><div class="ttdeci">void trackImpls(SymbolAliasMap ImplMaps, JITDylib *SrcJD)</div><div class="ttdef"><b>Definition:</b> <a href="Speculation_8cpp_source.html#l00025">Speculation.cpp:25</a></div></div>
<div class="ttc" id="aVerifier_8h_html"><div class="ttname"><a href="Verifier_8h.html">Verifier.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00156">Error.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae3f9633c349ede5341aa376d9c97dd8f"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae3f9633c349ede5341aa376d9c97dd8f">llvm::IRBuilderBase::GetInsertBlock</a></div><div class="ttdeci">BasicBlock * GetInsertBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00174">IRBuilder.h:174</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_adc01a7457de85fc52a3bb860d7e1c6a4"><div class="ttname"><a href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">llvm::Type::getPointerTo</a></div><div class="ttdeci">PointerType * getPointerTo(unsigned AddrSpace=0) const</div><div class="ttdoc">Return a pointer to the current type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00776">Type.cpp:776</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_aad6c1b2ed5f6caf1e576fdd27baa6697"><div class="ttname"><a href="namespacellvm_1_1orc.html#aad6c1b2ed5f6caf1e576fdd27baa6697">llvm::orc::absoluteSymbols</a></div><div class="ttdeci">std::unique_ptr&lt; AbsoluteSymbolsMaterializationUnit &gt; absoluteSymbols(SymbolMap Symbols)</div><div class="ttdoc">Create an AbsoluteSymbolsMaterializationUnit with the given symbols.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l00771">Core.h:771</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00224">Type.cpp:224</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html_a5ec8631eb0c37168d6f85c4ecad77747"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html#a5ec8631eb0c37168d6f85c4ecad77747">llvm::orc::JITDylib::define</a></div><div class="ttdeci">Error define(std::unique_ptr&lt; MaterializationUnitType &gt; &amp;&amp;MU, ResourceTrackerSP RT=nullptr)</div><div class="ttdoc">Define all symbols provided by the materialization unit to be part of this JITDylib.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8h_source.html#l01813">Core.h:1813</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a31c5c58143c6e9da9c544a7afcba2710"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">llvm::IRBuilderBase::CreateCall</a></div><div class="ttdeci">CallInst * CreateCall(FunctionType *FTy, Value *Callee, ArrayRef&lt; Value * &gt; Args=std::nullopt, const Twine &amp;Name=&quot;&quot;, MDNode *FPMathTag=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02293">IRBuilder.h:2293</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ThreadSafeModule_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ThreadSafeModule.html">llvm::orc::ThreadSafeModule</a></div><div class="ttdoc">An LLVM Module together with a shared ThreadSafeContext.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSafeModule_8h_source.html#l00077">ThreadSafeModule.h:77</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1IRSpeculationLayer_html_ac443c17bb572b2276321acc44b417ec7"><div class="ttname"><a href="classllvm_1_1orc_1_1IRSpeculationLayer.html#ac443c17bb572b2276321acc44b417ec7">llvm::orc::IRSpeculationLayer::emit</a></div><div class="ttdeci">void emit(std::unique_ptr&lt; MaterializationResponsibility &gt; R, ThreadSafeModule TSM) override</div><div class="ttdoc">Emit should materialize the given IR.</div><div class="ttdef"><b>Definition:</b> <a href="Speculation_8cpp_source.html#l00058">Speculation.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1JITSymbolFlags_html_ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8"><div class="ttname"><a href="classllvm_1_1JITSymbolFlags.html#ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8">llvm::JITSymbolFlags::Exported</a></div><div class="ttdeci">@ Exported</div><div class="ttdef"><b>Definition:</b> <a href="JITSymbol_8h_source.html#l00085">JITSymbol.h:85</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:04:22 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
